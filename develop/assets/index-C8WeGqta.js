var qI=Object.defineProperty;var Tx=t=>{throw TypeError(t)};var XI=(t,e,n)=>e in t?qI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Z=(t,e,n)=>XI(t,typeof e!="symbol"?e+"":e,n),h_=(t,e,n)=>e.has(t)||Tx("Cannot "+n);var j=(t,e,n)=>(h_(t,e,"read from private field"),n?n.call(t):e.get(t)),Tt=(t,e,n)=>e.has(t)?Tx("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),st=(t,e,n,s)=>(h_(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n),We=(t,e,n)=>(h_(t,e,"access private method"),n);var nh=(t,e,n,s)=>({set _(i){st(t,e,i,n)},get _(){return j(t,e,s)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();/**
* @vue/shared v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Zb(t,e){const n=new Set(t.split(","));return s=>n.has(s)}const en={},Tc=[],si=()=>{},KI=()=>!1,tg=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Jb=t=>t.startsWith("onUpdate:"),An=Object.assign,Qb=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},YI=Object.prototype.hasOwnProperty,At=(t,e)=>YI.call(t,e),Qe=Array.isArray,Ac=t=>Df(t)==="[object Map]",vu=t=>Df(t)==="[object Set]",Ax=t=>Df(t)==="[object Date]",ht=t=>typeof t=="function",_n=t=>typeof t=="string",sr=t=>typeof t=="symbol",Ht=t=>t!==null&&typeof t=="object",HM=t=>(Ht(t)||ht(t))&&ht(t.then)&&ht(t.catch),GM=Object.prototype.toString,Df=t=>GM.call(t),ZI=t=>Df(t).slice(8,-1),zM=t=>Df(t)==="[object Object]",ev=t=>_n(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Fd=Zb(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ng=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},JI=/-(\w)/g,Pi=ng(t=>t.replace(JI,(e,n)=>n?n.toUpperCase():"")),QI=/\B([A-Z])/g,_l=ng(t=>t.replace(QI,"-$1").toLowerCase()),sg=ng(t=>t.charAt(0).toUpperCase()+t.slice(1)),p_=ng(t=>t?`on${sg(t)}`:""),Ko=(t,e)=>!Object.is(t,e),Cp=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},VM=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},um=t=>{const e=parseFloat(t);return isNaN(e)?t:e},eO=t=>{const e=_n(t)?Number(t):NaN;return isNaN(e)?t:e};let Mx;const jM=()=>Mx||(Mx=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ig(t){if(Qe(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=_n(s)?iO(s):ig(s);if(i)for(const r in i)e[r]=i[r]}return e}else if(_n(t)||Ht(t))return t}const tO=/;(?![^(]*\))/g,nO=/:([^]+)/,sO=/\/\*[^]*?\*\//g;function iO(t){const e={};return t.replace(sO,"").split(tO).forEach(n=>{if(n){const s=n.split(nO);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function cs(t){let e="";if(_n(t))e=t;else if(Qe(t))for(let n=0;n<t.length;n++){const s=cs(t[n]);s&&(e+=s+" ")}else if(Ht(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const rO="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",oO=Zb(rO);function WM(t){return!!t||t===""}function aO(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=Nf(t[s],e[s]);return n}function Nf(t,e){if(t===e)return!0;let n=Ax(t),s=Ax(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=sr(t),s=sr(e),n||s)return t===e;if(n=Qe(t),s=Qe(e),n||s)return n&&s?aO(t,e):!1;if(n=Ht(t),s=Ht(e),n||s){if(!n||!s)return!1;const i=Object.keys(t).length,r=Object.keys(e).length;if(i!==r)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Nf(t[o],e[o]))return!1}}return String(t)===String(e)}function tv(t,e){return t.findIndex(n=>Nf(n,e))}const qM=t=>!!(t&&t.__v_isRef===!0),Fe=t=>_n(t)?t:t==null?"":Qe(t)||Ht(t)&&(t.toString===GM||!ht(t.toString))?qM(t)?Fe(t.value):JSON.stringify(t,XM,2):String(t),XM=(t,e)=>qM(e)?XM(t,e.value):Ac(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i],r)=>(n[m_(s,r)+" =>"]=i,n),{})}:vu(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>m_(n))}:sr(e)?m_(e):Ht(e)&&!Qe(e)&&!zM(e)?String(e):e,m_=(t,e="")=>{var n;return sr(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Fs;class KM{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Fs,!e&&Fs&&(this.index=(Fs.scopes||(Fs.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Fs;try{return Fs=this,e()}finally{Fs=n}}}on(){Fs=this}off(){Fs=this.parent}stop(e){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function YM(t){return new KM(t)}function lO(t,e=Fs){e&&e.active&&e.effects.push(t)}function ZM(){return Fs}function cO(t){Fs&&Fs.cleanups.push(t)}let Za;class nv{constructor(e,n,s,i){this.fn=e,this.trigger=n,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,lO(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,ra();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(uO(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),oa()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=zo,n=Za;try{return zo=!0,Za=this,this._runnings++,Rx(this),this.fn()}finally{Cx(this),this._runnings--,Za=n,zo=e}}stop(){this.active&&(Rx(this),Cx(this),this.onStop&&this.onStop(),this.active=!1)}}function uO(t){return t.value}function Rx(t){t._trackId++,t._depsLength=0}function Cx(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)JM(t.deps[e],t);t.deps.length=t._depsLength}}function JM(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let zo=!0,w1=0;const QM=[];function ra(){QM.push(zo),zo=!1}function oa(){const t=QM.pop();zo=t===void 0?!0:t}function sv(){w1++}function iv(){for(w1--;!w1&&x1.length;)x1.shift()()}function eR(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const s=t.deps[t._depsLength];s!==e?(s&&JM(s,t),t.deps[t._depsLength++]=e):t._depsLength++}}const x1=[];function tR(t,e,n){sv();for(const s of t.keys()){let i;s._dirtyLevel<e&&(i??(i=t.get(s)===s._trackId))&&(s._shouldSchedule||(s._shouldSchedule=s._dirtyLevel===0),s._dirtyLevel=e),s._shouldSchedule&&(i??(i=t.get(s)===s._trackId))&&(s.trigger(),(!s._runnings||s.allowRecurse)&&s._dirtyLevel!==2&&(s._shouldSchedule=!1,s.scheduler&&x1.push(s.scheduler)))}iv()}const nR=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},dm=new WeakMap,Ja=Symbol(""),E1=Symbol("");function As(t,e,n){if(zo&&Za){let s=dm.get(t);s||dm.set(t,s=new Map);let i=s.get(n);i||s.set(n,i=nR(()=>s.delete(n))),eR(Za,i)}}function Ur(t,e,n,s,i,r){const o=dm.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&Qe(t)){const l=Number(s);o.forEach((c,u)=>{(u==="length"||!sr(u)&&u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":Qe(t)?ev(n)&&a.push(o.get("length")):(a.push(o.get(Ja)),Ac(t)&&a.push(o.get(E1)));break;case"delete":Qe(t)||(a.push(o.get(Ja)),Ac(t)&&a.push(o.get(E1)));break;case"set":Ac(t)&&a.push(o.get(Ja));break}sv();for(const l of a)l&&tR(l,4);iv()}function dO(t,e){const n=dm.get(t);return n&&n.get(e)}const fO=Zb("__proto__,__v_isRef,__isVue"),sR=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(sr)),kx=hO();function hO(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=wt(this);for(let r=0,o=this.length;r<o;r++)As(s,"get",r+"");const i=s[e](...n);return i===-1||i===!1?s[e](...n.map(wt)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){ra(),sv();const s=wt(this)[e].apply(this,n);return iv(),oa(),s}}),t}function pO(t){sr(t)||(t=String(t));const e=wt(this);return As(e,"has",t),e.hasOwnProperty(t)}class iR{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?MO:lR:r?aR:oR).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=Qe(e);if(!i){if(o&&At(kx,n))return Reflect.get(kx,n,s);if(n==="hasOwnProperty")return pO}const a=Reflect.get(e,n,s);return(sr(n)?sR.has(n):fO(n))||(i||As(e,"get",n),r)?a:Mn(a)?o&&ev(n)?a:a.value:Ht(a)?i?uR(a):wu(a):a}}class rR extends iR{constructor(e=!1){super(!1,e)}set(e,n,s,i){let r=e[n];if(!this._isShallow){const l=al(r);if(!qc(s)&&!al(s)&&(r=wt(r),s=wt(s)),!Qe(e)&&Mn(r)&&!Mn(s))return l?!1:(r.value=s,!0)}const o=Qe(e)&&ev(n)?Number(n)<e.length:At(e,n),a=Reflect.set(e,n,s,i);return e===wt(i)&&(o?Ko(s,r)&&Ur(e,"set",n,s):Ur(e,"add",n,s)),a}deleteProperty(e,n){const s=At(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&s&&Ur(e,"delete",n,void 0),i}has(e,n){const s=Reflect.has(e,n);return(!sr(n)||!sR.has(n))&&As(e,"has",n),s}ownKeys(e){return As(e,"iterate",Qe(e)?"length":Ja),Reflect.ownKeys(e)}}class mO extends iR{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const gO=new rR,_O=new mO,yO=new rR(!0);const rv=t=>t,rg=t=>Reflect.getPrototypeOf(t);function sh(t,e,n=!1,s=!1){t=t.__v_raw;const i=wt(t),r=wt(e);n||(Ko(e,r)&&As(i,"get",e),As(i,"get",r));const{has:o}=rg(i),a=s?rv:n?cv:rf;if(o.call(i,e))return a(t.get(e));if(o.call(i,r))return a(t.get(r));t!==i&&t.get(e)}function ih(t,e=!1){const n=this.__v_raw,s=wt(n),i=wt(t);return e||(Ko(t,i)&&As(s,"has",t),As(s,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function rh(t,e=!1){return t=t.__v_raw,!e&&As(wt(t),"iterate",Ja),Reflect.get(t,"size",t)}function Px(t,e=!1){!e&&!qc(t)&&!al(t)&&(t=wt(t));const n=wt(this);return rg(n).has.call(n,t)||(n.add(t),Ur(n,"add",t,t)),this}function Ix(t,e,n=!1){!n&&!qc(e)&&!al(e)&&(e=wt(e));const s=wt(this),{has:i,get:r}=rg(s);let o=i.call(s,t);o||(t=wt(t),o=i.call(s,t));const a=r.call(s,t);return s.set(t,e),o?Ko(e,a)&&Ur(s,"set",t,e):Ur(s,"add",t,e),this}function Ox(t){const e=wt(this),{has:n,get:s}=rg(e);let i=n.call(e,t);i||(t=wt(t),i=n.call(e,t)),s&&s.call(e,t);const r=e.delete(t);return i&&Ur(e,"delete",t,void 0),r}function Lx(){const t=wt(this),e=t.size!==0,n=t.clear();return e&&Ur(t,"clear",void 0,void 0),n}function oh(t,e){return function(s,i){const r=this,o=r.__v_raw,a=wt(o),l=e?rv:t?cv:rf;return!t&&As(a,"iterate",Ja),o.forEach((c,u)=>s.call(i,l(c),l(u),r))}}function ah(t,e,n){return function(...s){const i=this.__v_raw,r=wt(i),o=Ac(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=i[t](...s),u=n?rv:e?cv:rf;return!e&&As(r,"iterate",l?E1:Ja),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function no(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function bO(){const t={get(r){return sh(this,r)},get size(){return rh(this)},has:ih,add:Px,set:Ix,delete:Ox,clear:Lx,forEach:oh(!1,!1)},e={get(r){return sh(this,r,!1,!0)},get size(){return rh(this)},has:ih,add(r){return Px.call(this,r,!0)},set(r,o){return Ix.call(this,r,o,!0)},delete:Ox,clear:Lx,forEach:oh(!1,!0)},n={get(r){return sh(this,r,!0)},get size(){return rh(this,!0)},has(r){return ih.call(this,r,!0)},add:no("add"),set:no("set"),delete:no("delete"),clear:no("clear"),forEach:oh(!0,!1)},s={get(r){return sh(this,r,!0,!0)},get size(){return rh(this,!0)},has(r){return ih.call(this,r,!0)},add:no("add"),set:no("set"),delete:no("delete"),clear:no("clear"),forEach:oh(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=ah(r,!1,!1),n[r]=ah(r,!0,!1),e[r]=ah(r,!1,!0),s[r]=ah(r,!0,!0)}),[t,n,e,s]}const[vO,wO,xO,EO]=bO();function ov(t,e){const n=e?t?EO:xO:t?wO:vO;return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(At(n,i)&&i in s?n:s,i,r)}const SO={get:ov(!1,!1)},TO={get:ov(!1,!0)},AO={get:ov(!0,!1)};const oR=new WeakMap,aR=new WeakMap,lR=new WeakMap,MO=new WeakMap;function RO(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function CO(t){return t.__v_skip||!Object.isExtensible(t)?0:RO(ZI(t))}function wu(t){return al(t)?t:av(t,!1,gO,SO,oR)}function cR(t){return av(t,!1,yO,TO,aR)}function uR(t){return av(t,!0,_O,AO,lR)}function av(t,e,n,s,i){if(!Ht(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=i.get(t);if(r)return r;const o=CO(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return i.set(t,a),a}function Qa(t){return al(t)?Qa(t.__v_raw):!!(t&&t.__v_isReactive)}function al(t){return!!(t&&t.__v_isReadonly)}function qc(t){return!!(t&&t.__v_isShallow)}function og(t){return t?!!t.__v_raw:!1}function wt(t){const e=t&&t.__v_raw;return e?wt(e):t}function lv(t){return Object.isExtensible(t)&&VM(t,"__v_skip",!0),t}const rf=t=>Ht(t)?wu(t):t,cv=t=>Ht(t)?uR(t):t;class dR{constructor(e,n,s,i){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new nv(()=>e(this._value),()=>kp(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=s}get value(){const e=wt(this);return(!e._cacheable||e.effect.dirty)&&Ko(e._value,e._value=e.effect.run())&&kp(e,4),fR(e),e.effect._dirtyLevel>=2&&kp(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function kO(t,e,n=!1){let s,i;const r=ht(t);return r?(s=t,i=si):(s=t.get,i=t.set),new dR(s,i,r||!i,n)}function fR(t){var e;zo&&Za&&(t=wt(t),eR(Za,(e=t.dep)!=null?e:t.dep=nR(()=>t.dep=void 0,t instanceof dR?t:void 0)))}function kp(t,e=4,n,s){t=wt(t);const i=t.dep;i&&tR(i,e)}function Mn(t){return!!(t&&t.__v_isRef===!0)}function ag(t){return hR(t,!1)}function lg(t){return hR(t,!0)}function hR(t,e){return Mn(t)?t:new PO(t,e)}class PO{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:wt(e),this._value=n?e:rf(e)}get value(){return fR(this),this._value}set value(e){const n=this.__v_isShallow||qc(e)||al(e);e=n?e:wt(e),Ko(e,this._rawValue)&&(this._rawValue,this._rawValue=e,this._value=n?e:rf(e),kp(this,4))}}function Mc(t){return Mn(t)?t.value:t}const IO={get:(t,e,n)=>Mc(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return Mn(i)&&!Mn(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function pR(t){return Qa(t)?t:new Proxy(t,IO)}function OO(t){const e=Qe(t)?new Array(t.length):{};for(const n in t)e[n]=DO(t,n);return e}class LO{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return dO(wt(this._object),this._key)}}function DO(t,e,n){const s=t[e];return Mn(s)?s:new LO(t,e,n)}/**
* @vue/runtime-core v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Vo(t,e,n,s){try{return s?t(...s):t()}catch(i){cg(i,e,n)}}function ai(t,e,n,s){if(ht(t)){const i=Vo(t,e,n,s);return i&&HM(i)&&i.catch(r=>{cg(r,e,n)}),i}if(Qe(t)){const i=[];for(let r=0;r<t.length;r++)i.push(ai(t[r],e,n,s));return i}}function cg(t,e,n,s=!0){const i=e?e.vnode:null;if(e){let r=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;r;){const c=r.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,a)===!1)return}r=r.parent}const l=e.appContext.config.errorHandler;if(l){ra(),Vo(l,null,10,[t,o,a]),oa();return}}NO(t,n,i,s)}function NO(t,e,n,s=!0){console.error(t)}let of=!1,S1=!1;const Zn=[];let ji=0;const Rc=[];let Ao=null,La=0;const mR=Promise.resolve();let uv=null;function Uf(t){const e=uv||mR;return t?e.then(this?t.bind(this):t):e}function UO(t){let e=ji+1,n=Zn.length;for(;e<n;){const s=e+n>>>1,i=Zn[s],r=af(i);r<t||r===t&&i.pre?e=s+1:n=s}return e}function dv(t){(!Zn.length||!Zn.includes(t,of&&t.allowRecurse?ji+1:ji))&&(t.id==null?Zn.push(t):Zn.splice(UO(t.id),0,t),gR())}function gR(){!of&&!S1&&(S1=!0,uv=mR.then(yR))}function $O(t){const e=Zn.indexOf(t);e>ji&&Zn.splice(e,1)}function FO(t){Qe(t)?Rc.push(...t):(!Ao||!Ao.includes(t,t.allowRecurse?La+1:La))&&Rc.push(t),gR()}function Dx(t,e,n=of?ji+1:0){for(;n<Zn.length;n++){const s=Zn[n];if(s&&s.pre){if(t&&s.id!==t.uid)continue;Zn.splice(n,1),n--,s()}}}function _R(t){if(Rc.length){const e=[...new Set(Rc)].sort((n,s)=>af(n)-af(s));if(Rc.length=0,Ao){Ao.push(...e);return}for(Ao=e,La=0;La<Ao.length;La++){const n=Ao[La];n.active!==!1&&n()}Ao=null,La=0}}const af=t=>t.id==null?1/0:t.id,BO=(t,e)=>{const n=af(t)-af(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function yR(t){S1=!1,of=!0,Zn.sort(BO);try{for(ji=0;ji<Zn.length;ji++){const e=Zn[ji];e&&e.active!==!1&&Vo(e,e.i,e.i?15:14)}}finally{ji=0,Zn.length=0,_R(),of=!1,uv=null,(Zn.length||Rc.length)&&yR()}}let Sn=null,ug=null;function fm(t){const e=Sn;return Sn=t,ug=t&&t.type.__scopeId||null,e}function xu(t){ug=t}function Eu(){ug=null}function tt(t,e=Sn,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&jx(-1);const r=fm(e);let o;try{o=t(...i)}finally{fm(r),s._d&&jx(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function qe(t,e){if(Sn===null)return t;const n=_g(Sn),s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,a,l=en]=e[i];r&&(ht(r)&&(r={mounted:r,updated:r}),r.deep&&Io(o),s.push({dir:r,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function ha(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[s];l&&(ra(),ai(l,n,8,[t.el,a,t,e]),oa())}}const Mo=Symbol("_leaveCb"),lh=Symbol("_enterCb");function bR(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return hv(()=>{t.isMounted=!0}),TR(()=>{t.isUnmounting=!0}),t}const Ys=[Function,Array],vR={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ys,onEnter:Ys,onAfterEnter:Ys,onEnterCancelled:Ys,onBeforeLeave:Ys,onLeave:Ys,onAfterLeave:Ys,onLeaveCancelled:Ys,onBeforeAppear:Ys,onAppear:Ys,onAfterAppear:Ys,onAppearCancelled:Ys},wR=t=>{const e=t.subTree;return e.component?wR(e.component):e},HO={name:"BaseTransition",props:vR,setup(t,{slots:e}){const n=qR(),s=bR();return()=>{const i=e.default&&fv(e.default(),!0);if(!i||!i.length)return;let r=i[0];if(i.length>1){for(const f of i)if(f.type!==ws){r=f;break}}const o=wt(t),{mode:a}=o;if(s.isLeaving)return g_(r);const l=Nx(r);if(!l)return g_(r);let c=lf(l,o,s,n,f=>c=f);Xc(l,c);const u=n.subTree,d=u&&Nx(u);if(d&&d.type!==ws&&!Da(l,d)&&wR(n).type!==ws){const f=lf(d,o,s,n);if(Xc(d,f),a==="out-in"&&l.type!==ws)return s.isLeaving=!0,f.afterLeave=()=>{s.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},g_(r);a==="in-out"&&l.type!==ws&&(f.delayLeave=(h,y,_)=>{const p=xR(s,d);p[String(d.key)]=d,h[Mo]=()=>{y(),h[Mo]=void 0,delete c.delayedLeave},c.delayedLeave=_})}return r}}},GO=HO;function xR(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function lf(t,e,n,s,i){const{appear:r,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:y,onLeaveCancelled:_,onBeforeAppear:p,onAppear:g,onAfterAppear:b,onAppearCancelled:v}=e,w=String(t.key),A=xR(n,t),x=(E,S)=>{E&&ai(E,s,9,S)},T=(E,S)=>{const C=S[1];x(E,S),Qe(E)?E.every(N=>N.length<=1)&&C():E.length<=1&&C()},M={mode:o,persisted:a,beforeEnter(E){let S=l;if(!n.isMounted)if(r)S=p||l;else return;E[Mo]&&E[Mo](!0);const C=A[w];C&&Da(t,C)&&C.el[Mo]&&C.el[Mo](),x(S,[E])},enter(E){let S=c,C=u,N=d;if(!n.isMounted)if(r)S=g||c,C=b||u,N=v||d;else return;let G=!1;const O=E[lh]=P=>{G||(G=!0,P?x(N,[E]):x(C,[E]),M.delayedLeave&&M.delayedLeave(),E[lh]=void 0)};S?T(S,[E,O]):O()},leave(E,S){const C=String(t.key);if(E[lh]&&E[lh](!0),n.isUnmounting)return S();x(f,[E]);let N=!1;const G=E[Mo]=O=>{N||(N=!0,S(),O?x(_,[E]):x(y,[E]),E[Mo]=void 0,A[C]===t&&delete A[C])};A[C]=t,h?T(h,[E,G]):G()},clone(E){const S=lf(E,e,n,s,i);return i&&i(S),S}};return M}function g_(t){if(dg(t))return t=Yo(t),t.children=null,t}function Nx(t){if(!dg(t))return t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&ht(n.default))return n.default()}}function Xc(t,e){t.shapeFlag&6&&t.component?Xc(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function fv(t,e=!1,n){let s=[],i=0;for(let r=0;r<t.length;r++){let o=t[r];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===ot?(o.patchFlag&128&&i++,s=s.concat(fv(o.children,e,a))):(e||o.type!==ws)&&s.push(a!=null?Yo(o,{key:a}):o)}if(i>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function it(t,e){return ht(t)?An({name:t.name},e,{setup:t}):t}const Bd=t=>!!t.type.__asyncLoader,dg=t=>t.type.__isKeepAlive;function zO(t,e){ER(t,"a",e)}function VO(t,e){ER(t,"da",e)}function ER(t,e,n=Dn){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(fg(e,s,n),n){let i=n.parent;for(;i&&i.parent;)dg(i.parent.vnode)&&jO(s,e,n,i),i=i.parent}}function jO(t,e,n,s){const i=fg(e,t,s,!0);pv(()=>{Qb(s[e],i)},n)}function fg(t,e,n=Dn,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{ra();const a=$f(n),l=ai(e,n,t,o);return a(),oa(),l});return s?i.unshift(r):i.push(r),r}}const Zr=t=>(e,n=Dn)=>{(!gg||t==="sp")&&fg(t,(...s)=>e(...s),n)},WO=Zr("bm"),hv=Zr("m"),qO=Zr("bu"),SR=Zr("u"),TR=Zr("bum"),pv=Zr("um"),XO=Zr("sp"),KO=Zr("rtg"),YO=Zr("rtc");function ZO(t,e=Dn){fg("ec",t,e)}const mv="components",JO="directives";function Le(t,e){return gv(mv,t,!0,e)||t}const AR=Symbol.for("v-ndc");function QO(t){return _n(t)?gv(mv,t,!1)||t:t||AR}function e6(t){return gv(JO,t)}function gv(t,e,n=!0,s=!1){const i=Sn||Dn;if(i){const r=i.type;if(t===mv){const a=z6(r,!1);if(a&&(a===e||a===Pi(e)||a===sg(Pi(e))))return r}const o=Ux(i[t]||r[t],e)||Ux(i.appContext[t],e);return!o&&s?r:o}}function Ux(t,e){return t&&(t[e]||t[Pi(e)]||t[sg(Pi(e))])}function Bt(t,e,n,s){let i;const r=n;if(Qe(t)||_n(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,r)}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,r)}else if(Ht(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,r));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];i[a]=e(t[c],c,a,r)}}else i=[];return i}function MR(t,e,n={},s,i){if(Sn.isCE||Sn.parent&&Bd(Sn.parent)&&Sn.parent.isCE)return J("slot",n,s&&s());let r=t[e];r&&r._c&&(r._d=!1),Q();const o=r&&RR(r(n)),a=Vt(ot,{key:(n.key||o&&o.key||`_${e}`)+(!o&&s?"_fb":"")},o||(s?s():[]),o&&t._===1?64:-2);return a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function RR(t){return t.some(e=>pm(e)?!(e.type===ws||e.type===ot&&!RR(e.children)):!0)?t:null}const T1=t=>t?XR(t)?_g(t):T1(t.parent):null,Hd=An(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>T1(t.parent),$root:t=>T1(t.root),$emit:t=>t.emit,$options:t=>_v(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,dv(t.update)}),$nextTick:t=>t.n||(t.n=Uf.bind(t.proxy)),$watch:t=>S6.bind(t)}),__=(t,e)=>t!==en&&!t.__isScriptSetup&&At(t,e),t6={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(__(s,e))return o[e]=1,s[e];if(i!==en&&At(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&At(c,e))return o[e]=3,r[e];if(n!==en&&At(n,e))return o[e]=4,n[e];A1&&(o[e]=0)}}const u=Hd[e];let d,f;if(u)return e==="$attrs"&&As(t.attrs,"get",""),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==en&&At(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,At(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:r}=t;return __(i,e)?(i[e]=n,!0):s!==en&&At(s,e)?(s[e]=n,!0):At(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let a;return!!n[o]||t!==en&&At(t,o)||__(e,o)||(a=r[0])&&At(a,o)||At(s,o)||At(Hd,o)||At(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:At(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function $x(t){return Qe(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let A1=!0;function n6(t){const e=_v(t),n=t.proxy,s=t.ctx;A1=!1,e.beforeCreate&&Fx(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:y,activated:_,deactivated:p,beforeDestroy:g,beforeUnmount:b,destroyed:v,unmounted:w,render:A,renderTracked:x,renderTriggered:T,errorCaptured:M,serverPrefetch:E,expose:S,inheritAttrs:C,components:N,directives:G,filters:O}=e;if(c&&s6(c,s,null),o)for(const F in o){const I=o[F];ht(I)&&(s[F]=I.bind(n))}if(i){const F=i.call(n,n);Ht(F)&&(t.data=wu(F))}if(A1=!0,r)for(const F in r){const I=r[F],ee=ht(I)?I.bind(n,n):ht(I.get)?I.get.bind(n,n):si,Y=!ht(I)&&ht(I.set)?I.set.bind(n):si,me=gn({get:ee,set:Y});Object.defineProperty(s,F,{enumerable:!0,configurable:!0,get:()=>me.value,set:ge=>me.value=ge})}if(a)for(const F in a)CR(a[F],s,n,F);if(l){const F=ht(l)?l.call(n):l;Reflect.ownKeys(F).forEach(I=>{Pp(I,F[I])})}u&&Fx(u,t,"c");function k(F,I){Qe(I)?I.forEach(ee=>F(ee.bind(n))):I&&F(I.bind(n))}if(k(WO,d),k(hv,f),k(qO,h),k(SR,y),k(zO,_),k(VO,p),k(ZO,M),k(YO,x),k(KO,T),k(TR,b),k(pv,w),k(XO,E),Qe(S))if(S.length){const F=t.exposed||(t.exposed={});S.forEach(I=>{Object.defineProperty(F,I,{get:()=>n[I],set:ee=>n[I]=ee})})}else t.exposed||(t.exposed={});A&&t.render===si&&(t.render=A),C!=null&&(t.inheritAttrs=C),N&&(t.components=N),G&&(t.directives=G)}function s6(t,e,n=si){Qe(t)&&(t=M1(t));for(const s in t){const i=t[s];let r;Ht(i)?"default"in i?r=Zi(i.from||s,i.default,!0):r=Zi(i.from||s):r=Zi(i),Mn(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function Fx(t,e,n){ai(Qe(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function CR(t,e,n,s){const i=s.includes(".")?zR(n,s):()=>n[s];if(_n(t)){const r=e[t];ht(r)&&tl(i,r)}else if(ht(t))tl(i,t.bind(n));else if(Ht(t))if(Qe(t))t.forEach(r=>CR(r,e,n,s));else{const r=ht(t.handler)?t.handler.bind(n):e[t.handler];ht(r)&&tl(i,r,t)}}function _v(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!i.length&&!n&&!s?l=e:(l={},i.length&&i.forEach(c=>hm(l,c,o,!0)),hm(l,e,o)),Ht(e)&&r.set(e,l),l}function hm(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&hm(t,r,n,!0),i&&i.forEach(o=>hm(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=i6[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const i6={data:Bx,props:Hx,emits:Hx,methods:Ed,computed:Ed,beforeCreate:ns,created:ns,beforeMount:ns,mounted:ns,beforeUpdate:ns,updated:ns,beforeDestroy:ns,beforeUnmount:ns,destroyed:ns,unmounted:ns,activated:ns,deactivated:ns,errorCaptured:ns,serverPrefetch:ns,components:Ed,directives:Ed,watch:o6,provide:Bx,inject:r6};function Bx(t,e){return e?t?function(){return An(ht(t)?t.call(this,this):t,ht(e)?e.call(this,this):e)}:e:t}function r6(t,e){return Ed(M1(t),M1(e))}function M1(t){if(Qe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ns(t,e){return t?[...new Set([].concat(t,e))]:e}function Ed(t,e){return t?An(Object.create(null),t,e):e}function Hx(t,e){return t?Qe(t)&&Qe(e)?[...new Set([...t,...e])]:An(Object.create(null),$x(t),$x(e??{})):e}function o6(t,e){if(!t)return e;if(!e)return t;const n=An(Object.create(null),t);for(const s in e)n[s]=ns(t[s],e[s]);return n}function kR(){return{app:null,config:{isNativeTag:KI,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let a6=0;function l6(t,e){return function(s,i=null){ht(s)||(s=An({},s)),i!=null&&!Ht(i)&&(i=null);const r=kR(),o=new WeakSet;let a=!1;const l=r.app={_uid:a6++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:YR,get config(){return r.config},set config(c){},use(c,...u){return o.has(c)||(c&&ht(c.install)?(o.add(c),c.install(l,...u)):ht(c)&&(o.add(c),c(l,...u))),l},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),l},component(c,u){return u?(r.components[c]=u,l):r.components[c]},directive(c,u){return u?(r.directives[c]=u,l):r.directives[c]},mount(c,u,d){if(!a){const f=J(s,i);return f.appContext=r,d===!0?d="svg":d===!1&&(d=void 0),u&&e?e(f,c):t(f,c,d),a=!0,l._container=c,c.__vue_app__=l,_g(f.component)}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return r.provides[c]=u,l},runWithContext(c){const u=el;el=l;try{return c()}finally{el=u}}};return l}}let el=null;function Pp(t,e){if(Dn){let n=Dn.provides;const s=Dn.parent&&Dn.parent.provides;s===n&&(n=Dn.provides=Object.create(s)),n[t]=e}}function Zi(t,e,n=!1){const s=Dn||Sn;if(s||el){const i=el?el._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&ht(e)?e.call(s&&s.proxy):e}}function c6(){return!!(Dn||Sn||el)}const PR={},IR=()=>Object.create(PR),OR=t=>Object.getPrototypeOf(t)===PR;function u6(t,e,n,s=!1){const i={},r=IR();t.propsDefaults=Object.create(null),LR(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=s?i:cR(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function d6(t,e,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,a=wt(i),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(hg(t.emitsOptions,f))continue;const h=e[f];if(l)if(At(r,f))h!==r[f]&&(r[f]=h,c=!0);else{const y=Pi(f);i[y]=R1(l,a,y,h,t,!1)}else h!==r[f]&&(r[f]=h,c=!0)}}}else{LR(t,e,i,r)&&(c=!0);let u;for(const d in a)(!e||!At(e,d)&&((u=_l(d))===d||!At(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(i[d]=R1(l,a,d,void 0,t,!0)):delete i[d]);if(r!==a)for(const d in r)(!e||!At(e,d))&&(delete r[d],c=!0)}c&&Ur(t.attrs,"set","")}function LR(t,e,n,s){const[i,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Fd(l))continue;const c=e[l];let u;i&&At(i,u=Pi(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:hg(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(r){const l=wt(n),c=a||en;for(let u=0;u<r.length;u++){const d=r[u];n[d]=R1(i,l,d,c[d],t,!At(c,d))}}return o}function R1(t,e,n,s,i,r){const o=t[n];if(o!=null){const a=At(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&ht(l)){const{propsDefaults:c}=i;if(n in c)s=c[n];else{const u=$f(i);s=c[n]=l.call(null,e),u()}}else s=l}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===_l(n))&&(s=!0))}return s}const f6=new WeakMap;function DR(t,e,n=!1){const s=n?f6:e.propsCache,i=s.get(t);if(i)return i;const r=t.props,o={},a=[];let l=!1;if(!ht(t)){const u=d=>{l=!0;const[f,h]=DR(d,e,!0);An(o,f),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!l)return Ht(t)&&s.set(t,Tc),Tc;if(Qe(r))for(let u=0;u<r.length;u++){const d=Pi(r[u]);Gx(d)&&(o[d]=en)}else if(r)for(const u in r){const d=Pi(u);if(Gx(d)){const f=r[u],h=o[d]=Qe(f)||ht(f)?{type:f}:An({},f),y=h.type;let _=!1,p=!0;if(Qe(y))for(let g=0;g<y.length;++g){const b=y[g],v=ht(b)&&b.name;if(v==="Boolean"){_=!0;break}else v==="String"&&(p=!1)}else _=ht(y)&&y.name==="Boolean";h[0]=_,h[1]=p,(_||At(h,"default"))&&a.push(d)}}const c=[o,a];return Ht(t)&&s.set(t,c),c}function Gx(t){return t[0]!=="$"&&!Fd(t)}const NR=t=>t[0]==="_"||t==="$stable",yv=t=>Qe(t)?t.map(Gi):[Gi(t)],h6=(t,e,n)=>{if(e._n)return e;const s=tt((...i)=>yv(e(...i)),n);return s._c=!1,s},UR=(t,e,n)=>{const s=t._ctx;for(const i in t){if(NR(i))continue;const r=t[i];if(ht(r))e[i]=h6(i,r,s);else if(r!=null){const o=yv(r);e[i]=()=>o}}},$R=(t,e)=>{const n=yv(e);t.slots.default=()=>n},FR=(t,e,n)=>{for(const s in e)(n||s!=="_")&&(t[s]=e[s])},p6=(t,e,n)=>{const s=t.slots=IR();if(t.vnode.shapeFlag&32){const i=e._;i?(FR(s,e,n),n&&VM(s,"_",i,!0)):UR(e,s)}else e&&$R(t,e)},m6=(t,e,n)=>{const{vnode:s,slots:i}=t;let r=!0,o=en;if(s.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:FR(i,e,n):(r=!e.$stable,UR(e,i)),o=e}else e&&($R(t,e),o={default:1});if(r)for(const a in i)!NR(a)&&o[a]==null&&delete i[a]};function C1(t,e,n,s,i=!1){if(Qe(t)){t.forEach((f,h)=>C1(f,e&&(Qe(e)?e[h]:e),n,s,i));return}if(Bd(s)&&!i)return;const r=s.shapeFlag&4?_g(s.component):s.el,o=i?null:r,{i:a,r:l}=t,c=e&&e.r,u=a.refs===en?a.refs={}:a.refs,d=a.setupState;if(c!=null&&c!==l&&(_n(c)?(u[c]=null,At(d,c)&&(d[c]=null)):Mn(c)&&(c.value=null)),ht(l))Vo(l,a,12,[o,u]);else{const f=_n(l),h=Mn(l);if(f||h){const y=()=>{if(t.f){const _=f?At(d,l)?d[l]:u[l]:l.value;i?Qe(_)&&Qb(_,r):Qe(_)?_.includes(r)||_.push(r):f?(u[l]=[r],At(d,l)&&(d[l]=u[l])):(l.value=[r],t.k&&(u[t.k]=l.value))}else f?(u[l]=o,At(d,l)&&(d[l]=o)):h&&(l.value=o,t.k&&(u[t.k]=o))};o?(y.id=-1,_s(y,n)):y()}}}const g6=Symbol("_vte"),_6=t=>t.__isTeleport,_s=I6;function y6(t){return b6(t)}function b6(t,e){const n=jM();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=si,insertStaticContent:y}=t,_=(B,z,te,ce=null,ve=null,xe=null,Re=void 0,D=null,R=!!z.dynamicChildren)=>{if(B===z)return;B&&!Da(B,z)&&(ce=ne(B),ge(B,ve,xe,!0),B=null),z.patchFlag===-2&&(R=!1,z.dynamicChildren=null);const{type:q,ref:ue,shapeFlag:be}=z;switch(q){case pg:p(B,z,te,ce);break;case ws:g(B,z,te,ce);break;case Ip:B==null&&b(z,te,ce,Re);break;case ot:N(B,z,te,ce,ve,xe,Re,D,R);break;default:be&1?A(B,z,te,ce,ve,xe,Re,D,R):be&6?G(B,z,te,ce,ve,xe,Re,D,R):(be&64||be&128)&&q.process(B,z,te,ce,ve,xe,Re,D,R,ke)}ue!=null&&ve&&C1(ue,B&&B.ref,xe,z||B,!z)},p=(B,z,te,ce)=>{if(B==null)s(z.el=a(z.children),te,ce);else{const ve=z.el=B.el;z.children!==B.children&&c(ve,z.children)}},g=(B,z,te,ce)=>{B==null?s(z.el=l(z.children||""),te,ce):z.el=B.el},b=(B,z,te,ce)=>{[B.el,B.anchor]=y(B.children,z,te,ce,B.el,B.anchor)},v=({el:B,anchor:z},te,ce)=>{let ve;for(;B&&B!==z;)ve=f(B),s(B,te,ce),B=ve;s(z,te,ce)},w=({el:B,anchor:z})=>{let te;for(;B&&B!==z;)te=f(B),i(B),B=te;i(z)},A=(B,z,te,ce,ve,xe,Re,D,R)=>{z.type==="svg"?Re="svg":z.type==="math"&&(Re="mathml"),B==null?x(z,te,ce,ve,xe,Re,D,R):E(B,z,ve,xe,Re,D,R)},x=(B,z,te,ce,ve,xe,Re,D)=>{let R,q;const{props:ue,shapeFlag:be,transition:he,dirs:Oe}=B;if(R=B.el=o(B.type,xe,ue&&ue.is,ue),be&8?u(R,B.children):be&16&&M(B.children,R,null,ce,ve,y_(B,xe),Re,D),Oe&&ha(B,null,ce,"created"),T(R,B,B.scopeId,Re,ce),ue){for(const Ne in ue)Ne!=="value"&&!Fd(Ne)&&r(R,Ne,null,ue[Ne],xe,ce);"value"in ue&&r(R,"value",null,ue.value,xe),(q=ue.onVnodeBeforeMount)&&Ui(q,ce,B)}Oe&&ha(B,null,ce,"beforeMount");const Pe=v6(ve,he);Pe&&he.beforeEnter(R),s(R,z,te),((q=ue&&ue.onVnodeMounted)||Pe||Oe)&&_s(()=>{q&&Ui(q,ce,B),Pe&&he.enter(R),Oe&&ha(B,null,ce,"mounted")},ve)},T=(B,z,te,ce,ve)=>{if(te&&h(B,te),ce)for(let xe=0;xe<ce.length;xe++)h(B,ce[xe]);if(ve){let xe=ve.subTree;if(z===xe){const Re=ve.vnode;T(B,Re,Re.scopeId,Re.slotScopeIds,ve.parent)}}},M=(B,z,te,ce,ve,xe,Re,D,R=0)=>{for(let q=R;q<B.length;q++){const ue=B[q]=D?Ro(B[q]):Gi(B[q]);_(null,ue,z,te,ce,ve,xe,Re,D)}},E=(B,z,te,ce,ve,xe,Re)=>{const D=z.el=B.el;let{patchFlag:R,dynamicChildren:q,dirs:ue}=z;R|=B.patchFlag&16;const be=B.props||en,he=z.props||en;let Oe;if(te&&pa(te,!1),(Oe=he.onVnodeBeforeUpdate)&&Ui(Oe,te,z,B),ue&&ha(z,B,te,"beforeUpdate"),te&&pa(te,!0),(be.innerHTML&&he.innerHTML==null||be.textContent&&he.textContent==null)&&u(D,""),q?S(B.dynamicChildren,q,D,te,ce,y_(z,ve),xe):Re||I(B,z,D,null,te,ce,y_(z,ve),xe,!1),R>0){if(R&16)C(D,be,he,te,ve);else if(R&2&&be.class!==he.class&&r(D,"class",null,he.class,ve),R&4&&r(D,"style",be.style,he.style,ve),R&8){const Pe=z.dynamicProps;for(let Ne=0;Ne<Pe.length;Ne++){const He=Pe[Ne],fe=be[He],K=he[He];(K!==fe||He==="value")&&r(D,He,fe,K,ve,te)}}R&1&&B.children!==z.children&&u(D,z.children)}else!Re&&q==null&&C(D,be,he,te,ve);((Oe=he.onVnodeUpdated)||ue)&&_s(()=>{Oe&&Ui(Oe,te,z,B),ue&&ha(z,B,te,"updated")},ce)},S=(B,z,te,ce,ve,xe,Re)=>{for(let D=0;D<z.length;D++){const R=B[D],q=z[D],ue=R.el&&(R.type===ot||!Da(R,q)||R.shapeFlag&70)?d(R.el):te;_(R,q,ue,null,ce,ve,xe,Re,!0)}},C=(B,z,te,ce,ve)=>{if(z!==te){if(z!==en)for(const xe in z)!Fd(xe)&&!(xe in te)&&r(B,xe,z[xe],null,ve,ce);for(const xe in te){if(Fd(xe))continue;const Re=te[xe],D=z[xe];Re!==D&&xe!=="value"&&r(B,xe,D,Re,ve,ce)}"value"in te&&r(B,"value",z.value,te.value,ve)}},N=(B,z,te,ce,ve,xe,Re,D,R)=>{const q=z.el=B?B.el:a(""),ue=z.anchor=B?B.anchor:a("");let{patchFlag:be,dynamicChildren:he,slotScopeIds:Oe}=z;Oe&&(D=D?D.concat(Oe):Oe),B==null?(s(q,te,ce),s(ue,te,ce),M(z.children||[],te,ue,ve,xe,Re,D,R)):be>0&&be&64&&he&&B.dynamicChildren?(S(B.dynamicChildren,he,te,ve,xe,Re,D),(z.key!=null||ve&&z===ve.subTree)&&BR(B,z,!0)):I(B,z,te,ue,ve,xe,Re,D,R)},G=(B,z,te,ce,ve,xe,Re,D,R)=>{z.slotScopeIds=D,B==null?z.shapeFlag&512?ve.ctx.activate(z,te,ce,Re,R):O(z,te,ce,ve,xe,Re,R):P(B,z,R)},O=(B,z,te,ce,ve,xe,Re)=>{const D=B.component=$6(B,ce,ve);if(dg(B)&&(D.ctx.renderer=ke),F6(D,!1,Re),D.asyncDep){if(ve&&ve.registerDep(D,k,Re),!B.el){const R=D.subTree=J(ws);g(null,R,z,te)}}else k(D,B,z,te,ve,xe,Re)},P=(B,z,te)=>{const ce=z.component=B.component;if(C6(B,z,te))if(ce.asyncDep&&!ce.asyncResolved){F(ce,z,te);return}else ce.next=z,$O(ce.update),ce.effect.dirty=!0,ce.update();else z.el=B.el,ce.vnode=z},k=(B,z,te,ce,ve,xe,Re)=>{const D=()=>{if(B.isMounted){let{next:ue,bu:be,u:he,parent:Oe,vnode:Pe}=B;{const L=HR(B);if(L){ue&&(ue.el=Pe.el,F(B,ue,Re)),L.asyncDep.then(()=>{B.isUnmounted||D()});return}}let Ne=ue,He;pa(B,!1),ue?(ue.el=Pe.el,F(B,ue,Re)):ue=Pe,be&&Cp(be),(He=ue.props&&ue.props.onVnodeBeforeUpdate)&&Ui(He,Oe,ue,Pe),pa(B,!0);const fe=b_(B),K=B.subTree;B.subTree=fe,_(K,fe,d(K.el),ne(K),B,ve,xe),ue.el=fe.el,Ne===null&&k6(B,fe.el),he&&_s(he,ve),(He=ue.props&&ue.props.onVnodeUpdated)&&_s(()=>Ui(He,Oe,ue,Pe),ve)}else{let ue;const{el:be,props:he}=z,{bm:Oe,m:Pe,parent:Ne}=B,He=Bd(z);if(pa(B,!1),Oe&&Cp(Oe),!He&&(ue=he&&he.onVnodeBeforeMount)&&Ui(ue,Ne,z),pa(B,!0),be&&V){const fe=()=>{B.subTree=b_(B),V(be,B.subTree,B,ve,null)};He?z.type.__asyncLoader().then(()=>!B.isUnmounted&&fe()):fe()}else{const fe=B.subTree=b_(B);_(null,fe,te,ce,B,ve,xe),z.el=fe.el}if(Pe&&_s(Pe,ve),!He&&(ue=he&&he.onVnodeMounted)){const fe=z;_s(()=>Ui(ue,Ne,fe),ve)}(z.shapeFlag&256||Ne&&Bd(Ne.vnode)&&Ne.vnode.shapeFlag&256)&&B.a&&_s(B.a,ve),B.isMounted=!0,z=te=ce=null}},R=B.effect=new nv(D,si,()=>dv(q),B.scope),q=B.update=()=>{R.dirty&&R.run()};q.i=B,q.id=B.uid,pa(B,!0),q()},F=(B,z,te)=>{z.component=B;const ce=B.vnode.props;B.vnode=z,B.next=null,d6(B,z.props,ce,te),m6(B,z.children,te),ra(),Dx(B),oa()},I=(B,z,te,ce,ve,xe,Re,D,R=!1)=>{const q=B&&B.children,ue=B?B.shapeFlag:0,be=z.children,{patchFlag:he,shapeFlag:Oe}=z;if(he>0){if(he&128){Y(q,be,te,ce,ve,xe,Re,D,R);return}else if(he&256){ee(q,be,te,ce,ve,xe,Re,D,R);return}}Oe&8?(ue&16&&Ie(q,ve,xe),be!==q&&u(te,be)):ue&16?Oe&16?Y(q,be,te,ce,ve,xe,Re,D,R):Ie(q,ve,xe,!0):(ue&8&&u(te,""),Oe&16&&M(be,te,ce,ve,xe,Re,D,R))},ee=(B,z,te,ce,ve,xe,Re,D,R)=>{B=B||Tc,z=z||Tc;const q=B.length,ue=z.length,be=Math.min(q,ue);let he;for(he=0;he<be;he++){const Oe=z[he]=R?Ro(z[he]):Gi(z[he]);_(B[he],Oe,te,null,ve,xe,Re,D,R)}q>ue?Ie(B,ve,xe,!0,!1,be):M(z,te,ce,ve,xe,Re,D,R,be)},Y=(B,z,te,ce,ve,xe,Re,D,R)=>{let q=0;const ue=z.length;let be=B.length-1,he=ue-1;for(;q<=be&&q<=he;){const Oe=B[q],Pe=z[q]=R?Ro(z[q]):Gi(z[q]);if(Da(Oe,Pe))_(Oe,Pe,te,null,ve,xe,Re,D,R);else break;q++}for(;q<=be&&q<=he;){const Oe=B[be],Pe=z[he]=R?Ro(z[he]):Gi(z[he]);if(Da(Oe,Pe))_(Oe,Pe,te,null,ve,xe,Re,D,R);else break;be--,he--}if(q>be){if(q<=he){const Oe=he+1,Pe=Oe<ue?z[Oe].el:ce;for(;q<=he;)_(null,z[q]=R?Ro(z[q]):Gi(z[q]),te,Pe,ve,xe,Re,D,R),q++}}else if(q>he)for(;q<=be;)ge(B[q],ve,xe,!0),q++;else{const Oe=q,Pe=q,Ne=new Map;for(q=Pe;q<=he;q++){const X=z[q]=R?Ro(z[q]):Gi(z[q]);X.key!=null&&Ne.set(X.key,q)}let He,fe=0;const K=he-Pe+1;let L=!1,se=0;const U=new Array(K);for(q=0;q<K;q++)U[q]=0;for(q=Oe;q<=be;q++){const X=B[q];if(fe>=K){ge(X,ve,xe,!0);continue}let ie;if(X.key!=null)ie=Ne.get(X.key);else for(He=Pe;He<=he;He++)if(U[He-Pe]===0&&Da(X,z[He])){ie=He;break}ie===void 0?ge(X,ve,xe,!0):(U[ie-Pe]=q+1,ie>=se?se=ie:L=!0,_(X,z[ie],te,null,ve,xe,Re,D,R),fe++)}const W=L?w6(U):Tc;for(He=W.length-1,q=K-1;q>=0;q--){const X=Pe+q,ie=z[X],H=X+1<ue?z[X+1].el:ce;U[q]===0?_(null,ie,te,H,ve,xe,Re,D,R):L&&(He<0||q!==W[He]?me(ie,te,H,2):He--)}}},me=(B,z,te,ce,ve=null)=>{const{el:xe,type:Re,transition:D,children:R,shapeFlag:q}=B;if(q&6){me(B.component.subTree,z,te,ce);return}if(q&128){B.suspense.move(z,te,ce);return}if(q&64){Re.move(B,z,te,ke);return}if(Re===ot){s(xe,z,te);for(let be=0;be<R.length;be++)me(R[be],z,te,ce);s(B.anchor,z,te);return}if(Re===Ip){v(B,z,te);return}if(ce!==2&&q&1&&D)if(ce===0)D.beforeEnter(xe),s(xe,z,te),_s(()=>D.enter(xe),ve);else{const{leave:be,delayLeave:he,afterLeave:Oe}=D,Pe=()=>s(xe,z,te),Ne=()=>{be(xe,()=>{Pe(),Oe&&Oe()})};he?he(xe,Pe,Ne):Ne()}else s(xe,z,te)},ge=(B,z,te,ce=!1,ve=!1)=>{const{type:xe,props:Re,ref:D,children:R,dynamicChildren:q,shapeFlag:ue,patchFlag:be,dirs:he,cacheIndex:Oe}=B;if(be===-2&&(ve=!1),D!=null&&C1(D,null,te,B,!0),Oe!=null&&(z.renderCache[Oe]=void 0),ue&256){z.ctx.deactivate(B);return}const Pe=ue&1&&he,Ne=!Bd(B);let He;if(Ne&&(He=Re&&Re.onVnodeBeforeUnmount)&&Ui(He,z,B),ue&6)_e(B.component,te,ce);else{if(ue&128){B.suspense.unmount(te,ce);return}Pe&&ha(B,null,z,"beforeUnmount"),ue&64?B.type.remove(B,z,te,ke,ce):q&&!q.hasOnce&&(xe!==ot||be>0&&be&64)?Ie(q,z,te,!1,!0):(xe===ot&&be&384||!ve&&ue&16)&&Ie(R,z,te),ce&&Ce(B)}(Ne&&(He=Re&&Re.onVnodeUnmounted)||Pe)&&_s(()=>{He&&Ui(He,z,B),Pe&&ha(B,null,z,"unmounted")},te)},Ce=B=>{const{type:z,el:te,anchor:ce,transition:ve}=B;if(z===ot){le(te,ce);return}if(z===Ip){w(B);return}const xe=()=>{i(te),ve&&!ve.persisted&&ve.afterLeave&&ve.afterLeave()};if(B.shapeFlag&1&&ve&&!ve.persisted){const{leave:Re,delayLeave:D}=ve,R=()=>Re(te,xe);D?D(B.el,xe,R):R()}else xe()},le=(B,z)=>{let te;for(;B!==z;)te=f(B),i(B),B=te;i(z)},_e=(B,z,te)=>{const{bum:ce,scope:ve,update:xe,subTree:Re,um:D,m:R,a:q}=B;zx(R),zx(q),ce&&Cp(ce),ve.stop(),xe&&(xe.active=!1,ge(Re,B,z,te)),D&&_s(D,z),_s(()=>{B.isUnmounted=!0},z),z&&z.pendingBranch&&!z.isUnmounted&&B.asyncDep&&!B.asyncResolved&&B.suspenseId===z.pendingId&&(z.deps--,z.deps===0&&z.resolve())},Ie=(B,z,te,ce=!1,ve=!1,xe=0)=>{for(let Re=xe;Re<B.length;Re++)ge(B[Re],z,te,ce,ve)},ne=B=>{if(B.shapeFlag&6)return ne(B.component.subTree);if(B.shapeFlag&128)return B.suspense.next();const z=f(B.anchor||B.el),te=z&&z[g6];return te?f(te):z};let Me=!1;const Te=(B,z,te)=>{B==null?z._vnode&&ge(z._vnode,null,null,!0):_(z._vnode||null,B,z,null,null,null,te),z._vnode=B,Me||(Me=!0,Dx(),_R(),Me=!1)},ke={p:_,um:ge,m:me,r:Ce,mt:O,mc:M,pc:I,pbc:S,n:ne,o:t};let ze,V;return{render:Te,hydrate:ze,createApp:l6(Te,ze)}}function y_({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function pa({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function v6(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function BR(t,e,n=!1){const s=t.children,i=e.children;if(Qe(s)&&Qe(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=Ro(i[r]),a.el=o.el),!n&&a.patchFlag!==-2&&BR(o,a)),a.type===pg&&(a.el=o.el)}}function w6(t){const e=t.slice(),n=[0];let s,i,r,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(i=n[n.length-1],t[i]<c){e[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,t[n[a]]<c?r=a+1:o=a;c<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function HR(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:HR(e)}function zx(t){if(t)for(let e=0;e<t.length;e++)t[e].active=!1}const x6=Symbol.for("v-scx"),E6=()=>Zi(x6),ch={};function tl(t,e,n){return GR(t,e,n)}function GR(t,e,{immediate:n,deep:s,flush:i,once:r,onTrack:o,onTrigger:a}=en){if(e&&r){const x=e;e=(...T)=>{x(...T),A()}}const l=Dn,c=x=>s===!0?x:Io(x,s===!1?1:void 0);let u,d=!1,f=!1;if(Mn(t)?(u=()=>t.value,d=qc(t)):Qa(t)?(u=()=>c(t),d=!0):Qe(t)?(f=!0,d=t.some(x=>Qa(x)||qc(x)),u=()=>t.map(x=>{if(Mn(x))return x.value;if(Qa(x))return c(x);if(ht(x))return Vo(x,l,2)})):ht(t)?e?u=()=>Vo(t,l,2):u=()=>(h&&h(),ai(t,l,3,[y])):u=si,e&&s){const x=u;u=()=>Io(x())}let h,y=x=>{h=v.onStop=()=>{Vo(x,l,4),h=v.onStop=void 0}},_;if(gg)if(y=si,e?n&&ai(e,l,3,[u(),f?[]:void 0,y]):u(),i==="sync"){const x=E6();_=x.__watcherHandles||(x.__watcherHandles=[])}else return si;let p=f?new Array(t.length).fill(ch):ch;const g=()=>{if(!(!v.active||!v.dirty))if(e){const x=v.run();(s||d||(f?x.some((T,M)=>Ko(T,p[M])):Ko(x,p)))&&(h&&h(),ai(e,l,3,[x,p===ch?void 0:f&&p[0]===ch?[]:p,y]),p=x)}else v.run()};g.allowRecurse=!!e;let b;i==="sync"?b=g:i==="post"?b=()=>_s(g,l&&l.suspense):(g.pre=!0,l&&(g.id=l.uid),b=()=>dv(g));const v=new nv(u,si,b),w=ZM(),A=()=>{v.stop(),w&&Qb(w.effects,v)};return e?n?g():p=v.run():i==="post"?_s(v.run.bind(v),l&&l.suspense):v.run(),_&&_.push(A),A}function S6(t,e,n){const s=this.proxy,i=_n(t)?t.includes(".")?zR(s,t):()=>s[t]:t.bind(s,s);let r;ht(e)?r=e:(r=e.handler,n=e);const o=$f(this),a=GR(i,r.bind(s),n);return o(),a}function zR(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}function Io(t,e=1/0,n){if(e<=0||!Ht(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Mn(t))Io(t.value,e,n);else if(Qe(t))for(let s=0;s<t.length;s++)Io(t[s],e,n);else if(vu(t)||Ac(t))t.forEach(s=>{Io(s,e,n)});else if(zM(t)){for(const s in t)Io(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&Io(t[s],e,n)}return t}const T6=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Pi(e)}Modifiers`]||t[`${_l(e)}Modifiers`];function A6(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||en;let i=n;const r=e.startsWith("update:"),o=r&&T6(s,e.slice(7));o&&(o.trim&&(i=n.map(u=>_n(u)?u.trim():u)),o.number&&(i=n.map(um)));let a,l=s[a=p_(e)]||s[a=p_(Pi(e))];!l&&r&&(l=s[a=p_(_l(e))]),l&&ai(l,t,6,i);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,ai(c,t,6,i)}}function VR(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const r=t.emits;let o={},a=!1;if(!ht(t)){const l=c=>{const u=VR(c,e,!0);u&&(a=!0,An(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(Ht(t)&&s.set(t,null),null):(Qe(r)?r.forEach(l=>o[l]=null):An(o,r),Ht(t)&&s.set(t,o),o)}function hg(t,e){return!t||!tg(e)?!1:(e=e.slice(2).replace(/Once$/,""),At(t,e[0].toLowerCase()+e.slice(1))||At(t,_l(e))||At(t,e))}function b_(t){const{type:e,vnode:n,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:f,setupState:h,ctx:y,inheritAttrs:_}=t,p=fm(t);let g,b;try{if(n.shapeFlag&4){const w=i||s,A=w;g=Gi(c.call(A,w,u,d,h,f,y)),b=a}else{const w=e;g=Gi(w.length>1?w(d,{attrs:a,slots:o,emit:l}):w(d,null)),b=e.props?a:M6(a)}}catch(w){Gd.length=0,cg(w,t,1),g=J(ws)}let v=g;if(b&&_!==!1){const w=Object.keys(b),{shapeFlag:A}=v;w.length&&A&7&&(r&&w.some(Jb)&&(b=R6(b,r)),v=Yo(v,b,!1,!0))}return n.dirs&&(v=Yo(v,null,!1,!0),v.dirs=v.dirs?v.dirs.concat(n.dirs):n.dirs),n.transition&&(v.transition=n.transition),g=v,fm(p),g}const M6=t=>{let e;for(const n in t)(n==="class"||n==="style"||tg(n))&&((e||(e={}))[n]=t[n]);return e},R6=(t,e)=>{const n={};for(const s in t)(!Jb(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function C6(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Vx(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==s[f]&&!hg(c,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Vx(s,o,c):!0:!!o;return!1}function Vx(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!hg(n,r))return!0}return!1}function k6({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const P6=t=>t.__isSuspense;function I6(t,e){e&&e.pendingBranch?Qe(t)?e.effects.push(...t):e.effects.push(t):FO(t)}const ot=Symbol.for("v-fgt"),pg=Symbol.for("v-txt"),ws=Symbol.for("v-cmt"),Ip=Symbol.for("v-stc"),Gd=[];let zs=null;function Q(t=!1){Gd.push(zs=t?null:[])}function O6(){Gd.pop(),zs=Gd[Gd.length-1]||null}let cf=1;function jx(t){cf+=t,t<0&&zs&&(zs.hasOnce=!0)}function jR(t){return t.dynamicChildren=cf>0?zs||Tc:null,O6(),cf>0&&zs&&zs.push(t),t}function re(t,e,n,s,i,r){return jR(m(t,e,n,s,i,r,!0))}function Vt(t,e,n,s,i){return jR(J(t,e,n,s,i,!0))}function pm(t){return t?t.__v_isVNode===!0:!1}function Da(t,e){return t.type===e.type&&t.key===e.key}const WR=({key:t})=>t??null,Op=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?_n(t)||Mn(t)||ht(t)?{i:Sn,r:t,k:e,f:!!n}:t:null);function m(t,e=null,n=null,s=0,i=null,r=t===ot?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&WR(e),ref:e&&Op(e),scopeId:ug,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Sn};return a?(bv(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=_n(n)?8:16),cf>0&&!o&&zs&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&zs.push(l),l}const J=L6;function L6(t,e=null,n=null,s=0,i=null,r=!1){if((!t||t===AR)&&(t=ws),pm(t)){const a=Yo(t,e,!0);return n&&bv(a,n),cf>0&&!r&&zs&&(a.shapeFlag&6?zs[zs.indexOf(t)]=a:zs.push(a)),a.patchFlag=-2,a}if(V6(t)&&(t=t.__vccOpts),e){e=D6(e);let{class:a,style:l}=e;a&&!_n(a)&&(e.class=cs(a)),Ht(l)&&(og(l)&&!Qe(l)&&(l=An({},l)),e.style=ig(l))}const o=_n(t)?1:P6(t)?128:_6(t)?64:Ht(t)?4:ht(t)?2:0;return m(t,e,n,s,i,o,r,!0)}function D6(t){return t?og(t)||OR(t)?An({},t):t:null}function Yo(t,e,n=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:a,transition:l}=t,c=e?mg(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&WR(c),ref:e&&e.ref?n&&r?Qe(r)?r.concat(Op(e)):[r,Op(e)]:Op(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ot?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Yo(t.ssContent),ssFallback:t.ssFallback&&Yo(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&Xc(u,l.clone(u)),u}function we(t=" ",e=0){return J(pg,null,t,e)}function aa(t,e){const n=J(Ip,null,t);return n.staticCount=e,n}function Ve(t="",e=!1){return e?(Q(),Vt(ws,null,t)):J(ws,null,t)}function Gi(t){return t==null||typeof t=="boolean"?J(ws):Qe(t)?J(ot,null,t.slice()):typeof t=="object"?Ro(t):J(pg,null,String(t))}function Ro(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Yo(t)}function bv(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(Qe(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),bv(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!OR(e)?e._ctx=Sn:i===3&&Sn&&(Sn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ht(e)?(e={default:e,_ctx:Sn},n=32):(e=String(e),s&64?(n=16,e=[we(e)]):n=8);t.children=e,t.shapeFlag|=n}function mg(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=cs([e.class,s.class]));else if(i==="style")e.style=ig([e.style,s.style]);else if(tg(i)){const r=e[i],o=s[i];o&&r!==o&&!(Qe(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function Ui(t,e,n,s=null){ai(t,e,7,[n,s])}const N6=kR();let U6=0;function $6(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||N6,r={uid:U6++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new KM(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:DR(s,i),emitsOptions:VR(s,i),emit:null,emitted:null,propsDefaults:en,inheritAttrs:s.inheritAttrs,ctx:en,data:en,props:en,attrs:en,slots:en,refs:en,setupState:en,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=A6.bind(null,r),t.ce&&t.ce(r),r}let Dn=null;const qR=()=>Dn||Sn;let mm,k1;{const t=jM(),e=(n,s)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};mm=e("__VUE_INSTANCE_SETTERS__",n=>Dn=n),k1=e("__VUE_SSR_SETTERS__",n=>gg=n)}const $f=t=>{const e=Dn;return mm(t),t.scope.on(),()=>{t.scope.off(),mm(e)}},Wx=()=>{Dn&&Dn.scope.off(),mm(null)};function XR(t){return t.vnode.shapeFlag&4}let gg=!1;function F6(t,e=!1,n=!1){e&&k1(e);const{props:s,children:i}=t.vnode,r=XR(t);u6(t,s,r,e),p6(t,i,n);const o=r?B6(t,e):void 0;return e&&k1(!1),o}function B6(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,t6);const{setup:s}=n;if(s){const i=t.setupContext=s.length>1?G6(t):null,r=$f(t);ra();const o=Vo(s,t,0,[t.props,i]);if(oa(),r(),HM(o)){if(o.then(Wx,Wx),e)return o.then(a=>{qx(t,a,e)}).catch(a=>{cg(a,t,0)});t.asyncDep=o}else qx(t,o,e)}else KR(t,e)}function qx(t,e,n){ht(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ht(e)&&(t.setupState=pR(e)),KR(t,n)}let Xx;function KR(t,e,n){const s=t.type;if(!t.render){if(!e&&Xx&&!s.render){const i=s.template||_v(t).template;if(i){const{isCustomElement:r,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=s,c=An(An({isCustomElement:r,delimiters:a},o),l);s.render=Xx(i,c)}}t.render=s.render||si}{const i=$f(t);ra();try{n6(t)}finally{oa(),i()}}}const H6={get(t,e){return As(t,"get",""),t[e]}};function G6(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,H6),slots:t.slots,emit:t.emit,expose:e}}function _g(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(pR(lv(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Hd)return Hd[n](t)},has(e,n){return n in e||n in Hd}})):t.proxy}function z6(t,e=!0){return ht(t)?t.displayName||t.name:t.name||e&&t.__name}function V6(t){return ht(t)&&"__vccOpts"in t}const gn=(t,e)=>kO(t,e,gg);function ll(t,e,n){const s=arguments.length;return s===2?Ht(e)&&!Qe(e)?pm(e)?J(t,null,[e]):J(t,e):J(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&pm(n)&&(n=[n]),J(t,e,n))}const YR="3.4.38";/**
* @vue/runtime-dom v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const j6="http://www.w3.org/2000/svg",W6="http://www.w3.org/1998/Math/MathML",Ar=typeof document<"u"?document:null,Kx=Ar&&Ar.createElement("template"),q6={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e==="svg"?Ar.createElementNS(j6,t):e==="mathml"?Ar.createElementNS(W6,t):n?Ar.createElement(t,{is:n}):Ar.createElement(t);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>Ar.createTextNode(t),createComment:t=>Ar.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ar.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{Kx.innerHTML=s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t;const a=Kx.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},so="transition",Vu="animation",Kc=Symbol("_vtc"),vv=(t,{slots:e})=>ll(GO,JR(t),e);vv.displayName="Transition";const ZR={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},X6=vv.props=An({},vR,ZR),ma=(t,e=[])=>{Qe(t)?t.forEach(n=>n(...e)):t&&t(...e)},Yx=t=>t?Qe(t)?t.some(e=>e.length>1):t.length>1:!1;function JR(t){const e={};for(const N in t)N in ZR||(e[N]=t[N]);if(t.css===!1)return e;const{name:n="v",type:s,duration:i,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,y=K6(i),_=y&&y[0],p=y&&y[1],{onBeforeEnter:g,onEnter:b,onEnterCancelled:v,onLeave:w,onLeaveCancelled:A,onBeforeAppear:x=g,onAppear:T=b,onAppearCancelled:M=v}=e,E=(N,G,O)=>{yo(N,G?u:a),yo(N,G?c:o),O&&O()},S=(N,G)=>{N._isLeaving=!1,yo(N,d),yo(N,h),yo(N,f),G&&G()},C=N=>(G,O)=>{const P=N?T:b,k=()=>E(G,N,O);ma(P,[G,k]),Zx(()=>{yo(G,N?l:r),xr(G,N?u:a),Yx(P)||Jx(G,s,_,k)})};return An(e,{onBeforeEnter(N){ma(g,[N]),xr(N,r),xr(N,o)},onBeforeAppear(N){ma(x,[N]),xr(N,l),xr(N,c)},onEnter:C(!1),onAppear:C(!0),onLeave(N,G){N._isLeaving=!0;const O=()=>S(N,G);xr(N,d),xr(N,f),e4(),Zx(()=>{N._isLeaving&&(yo(N,d),xr(N,h),Yx(w)||Jx(N,s,p,O))}),ma(w,[N,O])},onEnterCancelled(N){E(N,!1),ma(v,[N])},onAppearCancelled(N){E(N,!0),ma(M,[N])},onLeaveCancelled(N){S(N),ma(A,[N])}})}function K6(t){if(t==null)return null;if(Ht(t))return[v_(t.enter),v_(t.leave)];{const e=v_(t);return[e,e]}}function v_(t){return eO(t)}function xr(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Kc]||(t[Kc]=new Set)).add(e)}function yo(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const n=t[Kc];n&&(n.delete(e),n.size||(t[Kc]=void 0))}function Zx(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Y6=0;function Jx(t,e,n,s){const i=t._endId=++Y6,r=()=>{i===t._endId&&s()};if(n)return setTimeout(r,n);const{type:o,timeout:a,propCount:l}=QR(t,e);if(!o)return s();const c=o+"end";let u=0;const d=()=>{t.removeEventListener(c,f),r()},f=h=>{h.target===t&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),t.addEventListener(c,f)}function QR(t,e){const n=window.getComputedStyle(t),s=y=>(n[y]||"").split(", "),i=s(`${so}Delay`),r=s(`${so}Duration`),o=Qx(i,r),a=s(`${Vu}Delay`),l=s(`${Vu}Duration`),c=Qx(a,l);let u=null,d=0,f=0;e===so?o>0&&(u=so,d=o,f=r.length):e===Vu?c>0&&(u=Vu,d=c,f=l.length):(d=Math.max(o,c),u=d>0?o>c?so:Vu:null,f=u?u===so?r.length:l.length:0);const h=u===so&&/\b(transform|all)(,|$)/.test(s(`${so}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:h}}function Qx(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>e2(n)+e2(t[s])))}function e2(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function e4(){return document.body.offsetHeight}function Z6(t,e,n){const s=t[Kc];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const gm=Symbol("_vod"),t4=Symbol("_vsh"),_m={beforeMount(t,{value:e},{transition:n}){t[gm]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):ju(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),ju(t,!0),s.enter(t)):s.leave(t,()=>{ju(t,!1)}):ju(t,e))},beforeUnmount(t,{value:e}){ju(t,e)}};function ju(t,e){t.style.display=e?t[gm]:"none",t[t4]=!e}const J6=Symbol(""),Q6=/(^|;)\s*display\s*:/;function eL(t,e,n){const s=t.style,i=_n(n);let r=!1;if(n&&!i){if(e)if(_n(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Lp(s,a,"")}else for(const o in e)n[o]==null&&Lp(s,o,"");for(const o in n)o==="display"&&(r=!0),Lp(s,o,n[o])}else if(i){if(e!==n){const o=s[J6];o&&(n+=";"+o),s.cssText=n,r=Q6.test(n)}}else e&&t.removeAttribute("style");gm in t&&(t[gm]=r?s.display:"",t[t4]&&(s.display="none"))}const t2=/\s*!important$/;function Lp(t,e,n){if(Qe(n))n.forEach(s=>Lp(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=tL(t,e);t2.test(n)?t.setProperty(_l(s),n.replace(t2,""),"important"):t[s]=n}}const n2=["Webkit","Moz","ms"],w_={};function tL(t,e){const n=w_[e];if(n)return n;let s=Pi(e);if(s!=="filter"&&s in t)return w_[e]=s;s=sg(s);for(let i=0;i<n2.length;i++){const r=n2[i]+s;if(r in t)return w_[e]=r}return e}const s2="http://www.w3.org/1999/xlink";function i2(t,e,n,s,i,r=oO(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(s2,e.slice(6,e.length)):t.setAttributeNS(s2,e,n):n==null||r&&!WM(n)?t.removeAttribute(e):t.setAttribute(e,r?"":sr(n)?String(n):n)}function nL(t,e,n,s){if(e==="innerHTML"||e==="textContent"){if(n==null)return;t[e]=n;return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const o=i==="OPTION"?t.getAttribute("value")||"":t.value,a=n==null?"":String(n);(o!==a||!("_value"in t))&&(t.value=a),n==null&&t.removeAttribute(e),t._value=n;return}let r=!1;if(n===""||n==null){const o=typeof t[e];o==="boolean"?n=WM(n):n==null&&o==="string"?(n="",r=!0):o==="number"&&(n=0,r=!0)}try{t[e]=n}catch{}r&&t.removeAttribute(e)}function Oo(t,e,n,s){t.addEventListener(e,n,s)}function sL(t,e,n,s){t.removeEventListener(e,n,s)}const r2=Symbol("_vei");function iL(t,e,n,s,i=null){const r=t[r2]||(t[r2]={}),o=r[e];if(s&&o)o.value=s;else{const[a,l]=rL(e);if(s){const c=r[e]=lL(s,i);Oo(t,a,c,l)}else o&&(sL(t,a,o,l),r[e]=void 0)}}const o2=/(?:Once|Passive|Capture)$/;function rL(t){let e;if(o2.test(t)){e={};let s;for(;s=t.match(o2);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):_l(t.slice(2)),e]}let x_=0;const oL=Promise.resolve(),aL=()=>x_||(oL.then(()=>x_=0),x_=Date.now());function lL(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;ai(cL(s,n.value),e,5,[s])};return n.value=t,n.attached=aL(),n}function cL(t,e){if(Qe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const a2=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,uL=(t,e,n,s,i,r)=>{const o=i==="svg";e==="class"?Z6(t,s,o):e==="style"?eL(t,n,s):tg(e)?Jb(e)||iL(t,e,n,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):dL(t,e,s,o))?(nL(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&i2(t,e,s,o,r,e!=="value")):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),i2(t,e,s,o))};function dL(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&a2(e)&&ht(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return a2(e)&&_n(n)?!1:e in t}const n4=new WeakMap,s4=new WeakMap,ym=Symbol("_moveCb"),l2=Symbol("_enterCb"),i4={name:"TransitionGroup",props:An({},X6,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=qR(),s=bR();let i,r;return SR(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!_L(i[0].el,n.vnode.el,o))return;i.forEach(pL),i.forEach(mL);const a=i.filter(gL);e4(),a.forEach(l=>{const c=l.el,u=c.style;xr(c,o),u.transform=u.webkitTransform=u.transitionDuration="";const d=c[ym]=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",d),c[ym]=null,yo(c,o))};c.addEventListener("transitionend",d)})}),()=>{const o=wt(t),a=JR(o);let l=o.tag||ot;if(i=[],r)for(let c=0;c<r.length;c++){const u=r[c];u.el&&u.el instanceof Element&&(i.push(u),Xc(u,lf(u,a,s,n)),n4.set(u,u.el.getBoundingClientRect()))}r=e.default?fv(e.default()):[];for(let c=0;c<r.length;c++){const u=r[c];u.key!=null&&Xc(u,lf(u,a,s,n))}return J(l,null,r)}}},fL=t=>delete t.mode;i4.props;const hL=i4;function pL(t){const e=t.el;e[ym]&&e[ym](),e[l2]&&e[l2]()}function mL(t){s4.set(t,t.el.getBoundingClientRect())}function gL(t){const e=n4.get(t),n=s4.get(t),s=e.left-n.left,i=e.top-n.top;if(s||i){const r=t.el.style;return r.transform=r.webkitTransform=`translate(${s}px,${i}px)`,r.transitionDuration="0s",t}}function _L(t,e,n){const s=t.cloneNode(),i=t[Kc];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&s.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&s.classList.add(a)),s.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(s);const{hasTransform:o}=QR(s);return r.removeChild(s),o}const Yc=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Qe(e)?n=>Cp(e,n):e};function yL(t){t.target.composing=!0}function c2(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const $r=Symbol("_assign"),nt={created(t,{modifiers:{lazy:e,trim:n,number:s}},i){t[$r]=Yc(i);const r=s||i.props&&i.props.type==="number";Oo(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),r&&(a=um(a)),t[$r](a)}),n&&Oo(t,"change",()=>{t.value=t.value.trim()}),e||(Oo(t,"compositionstart",yL),Oo(t,"compositionend",c2),Oo(t,"change",c2))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:i,number:r}},o){if(t[$r]=Yc(o),t.composing)return;const a=(r||t.type==="number")&&!/^0\d/.test(t.value)?um(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||i&&t.value.trim()===l)||(t.value=l))}},r4={deep:!0,created(t,e,n){t[$r]=Yc(n),Oo(t,"change",()=>{const s=t._modelValue,i=uf(t),r=t.checked,o=t[$r];if(Qe(s)){const a=tv(s,i),l=a!==-1;if(r&&!l)o(s.concat(i));else if(!r&&l){const c=[...s];c.splice(a,1),o(c)}}else if(vu(s)){const a=new Set(s);r?a.add(i):a.delete(i),o(a)}else o(o4(t,r))})},mounted:u2,beforeUpdate(t,e,n){t[$r]=Yc(n),u2(t,e,n)}};function u2(t,{value:e,oldValue:n},s){t._modelValue=e,Qe(e)?t.checked=tv(e,s.props.value)>-1:vu(e)?t.checked=e.has(s.props.value):e!==n&&(t.checked=Nf(e,o4(t,!0)))}const yg={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const i=vu(e);Oo(t,"change",()=>{const r=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?um(uf(o)):uf(o));t[$r](t.multiple?i?new Set(r):r:r[0]),t._assigning=!0,Uf(()=>{t._assigning=!1})}),t[$r]=Yc(s)},mounted(t,{value:e,modifiers:{number:n}}){d2(t,e)},beforeUpdate(t,e,n){t[$r]=Yc(n)},updated(t,{value:e,modifiers:{number:n}}){t._assigning||d2(t,e)}};function d2(t,e,n){const s=t.multiple,i=Qe(e);if(!(s&&!i&&!vu(e))){for(let r=0,o=t.options.length;r<o;r++){const a=t.options[r],l=uf(a);if(s)if(i){const c=typeof l;c==="string"||c==="number"?a.selected=e.some(u=>String(u)===String(l)):a.selected=tv(e,l)>-1}else a.selected=e.has(l);else if(Nf(uf(a),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function uf(t){return"_value"in t?t._value:t.value}function o4(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const bL=["ctrl","shift","alt","meta"],vL={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>bL.some(n=>t[`${n}Key`]&&!e.includes(n))},wL=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(i,...r)=>{for(let o=0;o<e.length;o++){const a=vL[e[o]];if(a&&a(i,e))return}return t(i,...r)})},xL=An({patchProp:uL},q6);let f2;function EL(){return f2||(f2=y6(xL))}const SL=(...t)=>{const e=EL().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=AL(s);if(!i)return;const r=e._component;!ht(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,TL(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function TL(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function AL(t){return _n(t)?document.querySelector(t):t}const ML="modulepreload",RL=function(t){return"/develop/"+t},h2={},CL=function(e,n,s){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),o=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));i=Promise.all(n.map(a=>{if(a=RL(a),a in h2)return;h2[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":ML,l||(u.as="script",u.crossOrigin=""),u.href=a,o&&u.setAttribute("nonce",o),document.head.appendChild(u),l)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>e()).catch(r=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=r,window.dispatchEvent(o),!o.defaultPrevented)throw r})};function kL(){class t{constructor(){Z(this,"hasUpdate",!1);Z(this,"updateSW");Z(this,"updateCallback")}updatePreparing(){return!1}updatePending(){return!1}async checkForUpdate(n,s){if(this.updateCallback=s,!this.updateSW)try{const i=this,{registerSW:r}=await CL(async()=>{const{registerSW:o}=await import("./virtual_pwa-register-BkoeIjQX.js");return{registerSW:o}},[]);this.updateSW=r({immediate:!0,onOfflineReady(){console.log("PWA offline ready")},onNeedRefresh(){i.hasUpdate=!0,i.updateCallback&&i.updateCallback(i.hasUpdate)},onRegistered(o){},onRegisterError(o){}})}catch{console.log("PWA disabled")}}async update(n){this.hasUpdate&&(this.hasUpdate=!1,this.updateSW&&this.updateSW(!0))}async finishUpdate(){}}return new t}function PL(){try{throw new Error("new.App undefined")}catch{return console.log("Registering PWA updater"),kL()}}const za=PL();/*!
  * vue-router v4.4.3
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const rc=typeof document<"u";function IL(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Dt=Object.assign;function E_(t,e){const n={};for(const s in e){const i=e[s];n[s]=Ii(i)?i.map(t):t(i)}return n}const zd=()=>{},Ii=Array.isArray,a4=/#/g,OL=/&/g,LL=/\//g,DL=/=/g,NL=/\?/g,l4=/\+/g,UL=/%5B/g,$L=/%5D/g,c4=/%5E/g,FL=/%60/g,u4=/%7B/g,BL=/%7C/g,d4=/%7D/g,HL=/%20/g;function wv(t){return encodeURI(""+t).replace(BL,"|").replace(UL,"[").replace($L,"]")}function GL(t){return wv(t).replace(u4,"{").replace(d4,"}").replace(c4,"^")}function P1(t){return wv(t).replace(l4,"%2B").replace(HL,"+").replace(a4,"%23").replace(OL,"%26").replace(FL,"`").replace(u4,"{").replace(d4,"}").replace(c4,"^")}function zL(t){return P1(t).replace(DL,"%3D")}function VL(t){return wv(t).replace(a4,"%23").replace(NL,"%3F")}function jL(t){return t==null?"":VL(t).replace(LL,"%2F")}function df(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const WL=/\/$/,qL=t=>t.replace(WL,"");function S_(t,e,n="/"){let s,i={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),i=t(r)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=ZL(s??e,n),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:df(o)}}function XL(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function p2(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function KL(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&Zc(e.matched[s],n.matched[i])&&f4(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Zc(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function f4(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!YL(t[n],e[n]))return!1;return!0}function YL(t,e){return Ii(t)?m2(t,e):Ii(e)?m2(e,t):t===e}function m2(t,e){return Ii(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function ZL(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(o).join("/")}const io={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ff;(function(t){t.pop="pop",t.push="push"})(ff||(ff={}));var Vd;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Vd||(Vd={}));function JL(t){if(!t)if(rc){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),qL(t)}const QL=/^[^#]+#/;function eD(t,e){return t.replace(QL,"#")+e}function tD(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const bg=()=>({left:window.scrollX,top:window.scrollY});function nD(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=tD(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function g2(t,e){return(history.state?history.state.position-e:-1)+t}const I1=new Map;function sD(t,e){I1.set(t,e)}function iD(t){const e=I1.get(t);return I1.delete(t),e}let rD=()=>location.protocol+"//"+location.host;function h4(t,e){const{pathname:n,search:s,hash:i}=e,r=t.indexOf("#");if(r>-1){let a=i.includes(t.slice(r))?t.slice(r).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),p2(l,"")}return p2(n,t)+s+i}function oD(t,e,n,s){let i=[],r=[],o=null;const a=({state:f})=>{const h=h4(t,location),y=n.value,_=e.value;let p=0;if(f){if(n.value=h,e.value=f,o&&o===y){o=null;return}p=_?f.position-_.position:0}else s(h);i.forEach(g=>{g(n.value,y,{delta:p,type:ff.pop,direction:p?p>0?Vd.forward:Vd.back:Vd.unknown})})};function l(){o=n.value}function c(f){i.push(f);const h=()=>{const y=i.indexOf(f);y>-1&&i.splice(y,1)};return r.push(h),h}function u(){const{history:f}=window;f.state&&f.replaceState(Dt({},f.state,{scroll:bg()}),"")}function d(){for(const f of r)f();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function _2(t,e,n,s=!1,i=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:i?bg():null}}function aD(t){const{history:e,location:n}=window,s={value:h4(t,n)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:rD()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),i.value=c}catch(h){console.error(h),n[u?"replace":"assign"](f)}}function o(l,c){const u=Dt({},e.state,_2(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});r(l,u,!0),s.value=l}function a(l,c){const u=Dt({},i.value,e.state,{forward:l,scroll:bg()});r(u.current,u,!0);const d=Dt({},_2(s.value,l,null),{position:u.position+1},c);r(l,d,!1),s.value=l}return{location:s,state:i,push:a,replace:o}}function lD(t){t=JL(t);const e=aD(t),n=oD(t,e.state,e.location,e.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=Dt({location:"",base:t,go:s,createHref:eD.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function cD(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),lD(t)}function uD(t){return typeof t=="string"||t&&typeof t=="object"}function p4(t){return typeof t=="string"||typeof t=="symbol"}const m4=Symbol("");var y2;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(y2||(y2={}));function Jc(t,e){return Dt(new Error,{type:t,[m4]:!0},e)}function hr(t,e){return t instanceof Error&&m4 in t&&(e==null||!!(t.type&e))}const b2="[^/]+?",dD={sensitive:!1,strict:!1,start:!0,end:!0},fD=/[.+*?^${}()[\]/\\]/g;function hD(t,e){const n=Dt({},dD,e),s=[];let i=n.start?"^":"";const r=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let d=0;d<c.length;d++){const f=c[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(i+="/"),i+=f.value.replace(fD,"\\$&"),h+=40;else if(f.type===1){const{value:y,repeatable:_,optional:p,regexp:g}=f;r.push({name:y,repeatable:_,optional:p});const b=g||b2;if(b!==b2){h+=10;try{new RegExp(`(${b})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${y}" (${b}): `+w.message)}}let v=_?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;d||(v=p&&c.length<2?`(?:/${v})`:"/"+v),p&&(v+="?"),i+=v,h+=20,p&&(h+=-8),_&&(h+=-20),b===".*"&&(h+=-50)}u.push(h)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let f=1;f<u.length;f++){const h=u[f]||"",y=r[f-1];d[y.name]=h&&y.repeatable?h.split("/"):h}return d}function l(c){let u="",d=!1;for(const f of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const h of f)if(h.type===0)u+=h.value;else if(h.type===1){const{value:y,repeatable:_,optional:p}=h,g=y in c?c[y]:"";if(Ii(g)&&!_)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const b=Ii(g)?g.join("/"):g;if(!b)if(p)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${y}"`);u+=b}}return u||"/"}return{re:o,score:s,keys:r,parse:a,stringify:l}}function pD(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function g4(t,e){let n=0;const s=t.score,i=e.score;for(;n<s.length&&n<i.length;){const r=pD(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(v2(s))return 1;if(v2(i))return-1}return i.length-s.length}function v2(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const mD={type:0,value:""},gD=/[a-zA-Z0-9_]/;function _D(t){if(!t)return[[]];if(t==="/")return[[mD]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,l,c="",u="";function d(){c&&(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),n=1):f();break;case 4:f(),n=s;break;case 1:l==="("?n=2:gD.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),i}function yD(t,e,n){const s=hD(_D(t.path),n),i=Dt(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function bD(t,e){const n=[],s=new Map;e=E2({strict:!1,end:!0,sensitive:!1},e);function i(d){return s.get(d)}function r(d,f,h){const y=!h,_=vD(d);_.aliasOf=h&&h.record;const p=E2(e,d),g=[_];if("alias"in d){const w=typeof d.alias=="string"?[d.alias]:d.alias;for(const A of w)g.push(Dt({},_,{components:h?h.record.components:_.components,path:A,aliasOf:h?h.record:_}))}let b,v;for(const w of g){const{path:A}=w;if(f&&A[0]!=="/"){const x=f.record.path,T=x[x.length-1]==="/"?"":"/";w.path=f.record.path+(A&&T+A)}if(b=yD(w,f,p),h?h.alias.push(b):(v=v||b,v!==b&&v.alias.push(b),y&&d.name&&!x2(b)&&o(d.name)),_4(b)&&l(b),_.children){const x=_.children;for(let T=0;T<x.length;T++)r(x[T],b,h&&h.children[T])}h=h||b}return v?()=>{o(v)}:zd}function o(d){if(p4(d)){const f=s.get(d);f&&(s.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&s.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const f=ED(d,n);n.splice(f,0,d),d.record.name&&!x2(d)&&s.set(d.record.name,d)}function c(d,f){let h,y={},_,p;if("name"in d&&d.name){if(h=s.get(d.name),!h)throw Jc(1,{location:d});p=h.record.name,y=Dt(w2(f.params,h.keys.filter(v=>!v.optional).concat(h.parent?h.parent.keys.filter(v=>v.optional):[]).map(v=>v.name)),d.params&&w2(d.params,h.keys.map(v=>v.name))),_=h.stringify(y)}else if(d.path!=null)_=d.path,h=n.find(v=>v.re.test(_)),h&&(y=h.parse(_),p=h.record.name);else{if(h=f.name?s.get(f.name):n.find(v=>v.re.test(f.path)),!h)throw Jc(1,{location:d,currentLocation:f});p=h.record.name,y=Dt({},f.params,d.params),_=h.stringify(y)}const g=[];let b=h;for(;b;)g.unshift(b.record),b=b.parent;return{name:p,path:_,params:y,matched:g,meta:xD(g)}}t.forEach(d=>r(d));function u(){n.length=0,s.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function w2(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function vD(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:wD(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function wD(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function x2(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function xD(t){return t.reduce((e,n)=>Dt(e,n.meta),{})}function E2(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function ED(t,e){let n=0,s=e.length;for(;n!==s;){const r=n+s>>1;g4(t,e[r])<0?s=r:n=r+1}const i=SD(t);return i&&(s=e.lastIndexOf(i,s-1)),s}function SD(t){let e=t;for(;e=e.parent;)if(_4(e)&&g4(t,e)===0)return e}function _4({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function TD(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(l4," "),o=r.indexOf("="),a=df(o<0?r:r.slice(0,o)),l=o<0?null:df(r.slice(o+1));if(a in e){let c=e[a];Ii(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function S2(t){let e="";for(let n in t){const s=t[n];if(n=zL(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Ii(s)?s.map(r=>r&&P1(r)):[s&&P1(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function AD(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Ii(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const MD=Symbol(""),T2=Symbol(""),xv=Symbol(""),y4=Symbol(""),O1=Symbol("");function Wu(){let t=[];function e(s){return t.push(s),()=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Co(t,e,n,s,i,r=o=>o()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(Jc(4,{from:n,to:e})):f instanceof Error?l(f):uD(f)?l(Jc(2,{from:e,to:f})):(o&&s.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),a())},u=r(()=>t.call(s&&s.instances[i],e,n,c));let d=Promise.resolve(u);t.length<3&&(d=d.then(c)),d.catch(f=>l(f))})}function T_(t,e,n,s,i=r=>r()){const r=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(RD(l)){const u=(l.__vccOpts||l)[e];u&&r.push(Co(u,n,s,o,a,i))}else{let c=l();r.push(()=>c.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const d=IL(u)?u.default:u;o.components[a]=d;const h=(d.__vccOpts||d)[e];return h&&Co(h,n,s,o,a,i)()}))}}return r}function RD(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function A2(t){const e=Zi(xv),n=Zi(y4),s=gn(()=>{const l=Mc(t.to);return e.resolve(l)}),i=gn(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const f=d.findIndex(Zc.bind(null,u));if(f>-1)return f;const h=M2(l[c-2]);return c>1&&M2(u)===h&&d[d.length-1].path!==h?d.findIndex(Zc.bind(null,l[c-2])):f}),r=gn(()=>i.value>-1&&PD(n.params,s.value.params)),o=gn(()=>i.value>-1&&i.value===n.matched.length-1&&f4(n.params,s.value.params));function a(l={}){return kD(l)?e[Mc(t.replace)?"replace":"push"](Mc(t.to)).catch(zd):Promise.resolve()}return{route:s,href:gn(()=>s.value.href),isActive:r,isExactActive:o,navigate:a}}const CD=it({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:A2,setup(t,{slots:e}){const n=wu(A2(t)),{options:s}=Zi(xv),i=gn(()=>({[R2(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[R2(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&e.default(n);return t.custom?r:ll("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),b4=CD;function kD(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function PD(t,e){for(const n in e){const s=e[n],i=t[n];if(typeof s=="string"){if(s!==i)return!1}else if(!Ii(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function M2(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const R2=(t,e,n)=>t??e??n,ID=it({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=Zi(O1),i=gn(()=>t.route||s.value),r=Zi(T2,0),o=gn(()=>{let c=Mc(r);const{matched:u}=i.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=gn(()=>i.value.matched[o.value]);Pp(T2,gn(()=>o.value+1)),Pp(MD,a),Pp(O1,i);const l=ag();return tl(()=>[l.value,a.value,t.name],([c,u,d],[f,h,y])=>{u&&(u.instances[d]=c,h&&h!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!Zc(u,h)||!f)&&(u.enterCallbacks[d]||[]).forEach(_=>_(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,d=a.value,f=d&&d.components[u];if(!f)return C2(n.default,{Component:f,route:c});const h=d.props[u],y=h?h===!0?c.params:typeof h=="function"?h(c):h:null,p=ll(f,Dt({},y,e,{onVnodeUnmounted:g=>{g.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return C2(n.default,{Component:p,route:c})||p}}});function C2(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const v4=ID;function OD(t){const e=bD(t.routes,t),n=t.parseQuery||TD,s=t.stringifyQuery||S2,i=t.history,r=Wu(),o=Wu(),a=Wu(),l=lg(io);let c=io;rc&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=E_.bind(null,ne=>""+ne),d=E_.bind(null,jL),f=E_.bind(null,df);function h(ne,Me){let Te,ke;return p4(ne)?(Te=e.getRecordMatcher(ne),ke=Me):ke=ne,e.addRoute(ke,Te)}function y(ne){const Me=e.getRecordMatcher(ne);Me&&e.removeRoute(Me)}function _(){return e.getRoutes().map(ne=>ne.record)}function p(ne){return!!e.getRecordMatcher(ne)}function g(ne,Me){if(Me=Dt({},Me||l.value),typeof ne=="string"){const z=S_(n,ne,Me.path),te=e.resolve({path:z.path},Me),ce=i.createHref(z.fullPath);return Dt(z,te,{params:f(te.params),hash:df(z.hash),redirectedFrom:void 0,href:ce})}let Te;if(ne.path!=null)Te=Dt({},ne,{path:S_(n,ne.path,Me.path).path});else{const z=Dt({},ne.params);for(const te in z)z[te]==null&&delete z[te];Te=Dt({},ne,{params:d(z)}),Me.params=d(Me.params)}const ke=e.resolve(Te,Me),ze=ne.hash||"";ke.params=u(f(ke.params));const V=XL(s,Dt({},ne,{hash:GL(ze),path:ke.path})),B=i.createHref(V);return Dt({fullPath:V,hash:ze,query:s===S2?AD(ne.query):ne.query||{}},ke,{redirectedFrom:void 0,href:B})}function b(ne){return typeof ne=="string"?S_(n,ne,l.value.path):Dt({},ne)}function v(ne,Me){if(c!==ne)return Jc(8,{from:Me,to:ne})}function w(ne){return T(ne)}function A(ne){return w(Dt(b(ne),{replace:!0}))}function x(ne){const Me=ne.matched[ne.matched.length-1];if(Me&&Me.redirect){const{redirect:Te}=Me;let ke=typeof Te=="function"?Te(ne):Te;return typeof ke=="string"&&(ke=ke.includes("?")||ke.includes("#")?ke=b(ke):{path:ke},ke.params={}),Dt({query:ne.query,hash:ne.hash,params:ke.path!=null?{}:ne.params},ke)}}function T(ne,Me){const Te=c=g(ne),ke=l.value,ze=ne.state,V=ne.force,B=ne.replace===!0,z=x(Te);if(z)return T(Dt(b(z),{state:typeof z=="object"?Dt({},ze,z.state):ze,force:V,replace:B}),Me||Te);const te=Te;te.redirectedFrom=Me;let ce;return!V&&KL(s,ke,Te)&&(ce=Jc(16,{to:te,from:ke}),me(ke,ke,!0,!1)),(ce?Promise.resolve(ce):S(te,ke)).catch(ve=>hr(ve)?hr(ve,2)?ve:Y(ve):I(ve,te,ke)).then(ve=>{if(ve){if(hr(ve,2))return T(Dt({replace:B},b(ve.to),{state:typeof ve.to=="object"?Dt({},ze,ve.to.state):ze,force:V}),Me||te)}else ve=N(te,ke,!0,B,ze);return C(te,ke,ve),ve})}function M(ne,Me){const Te=v(ne,Me);return Te?Promise.reject(Te):Promise.resolve()}function E(ne){const Me=le.values().next().value;return Me&&typeof Me.runWithContext=="function"?Me.runWithContext(ne):ne()}function S(ne,Me){let Te;const[ke,ze,V]=LD(ne,Me);Te=T_(ke.reverse(),"beforeRouteLeave",ne,Me);for(const z of ke)z.leaveGuards.forEach(te=>{Te.push(Co(te,ne,Me))});const B=M.bind(null,ne,Me);return Te.push(B),Ie(Te).then(()=>{Te=[];for(const z of r.list())Te.push(Co(z,ne,Me));return Te.push(B),Ie(Te)}).then(()=>{Te=T_(ze,"beforeRouteUpdate",ne,Me);for(const z of ze)z.updateGuards.forEach(te=>{Te.push(Co(te,ne,Me))});return Te.push(B),Ie(Te)}).then(()=>{Te=[];for(const z of V)if(z.beforeEnter)if(Ii(z.beforeEnter))for(const te of z.beforeEnter)Te.push(Co(te,ne,Me));else Te.push(Co(z.beforeEnter,ne,Me));return Te.push(B),Ie(Te)}).then(()=>(ne.matched.forEach(z=>z.enterCallbacks={}),Te=T_(V,"beforeRouteEnter",ne,Me,E),Te.push(B),Ie(Te))).then(()=>{Te=[];for(const z of o.list())Te.push(Co(z,ne,Me));return Te.push(B),Ie(Te)}).catch(z=>hr(z,8)?z:Promise.reject(z))}function C(ne,Me,Te){a.list().forEach(ke=>E(()=>ke(ne,Me,Te)))}function N(ne,Me,Te,ke,ze){const V=v(ne,Me);if(V)return V;const B=Me===io,z=rc?history.state:{};Te&&(ke||B?i.replace(ne.fullPath,Dt({scroll:B&&z&&z.scroll},ze)):i.push(ne.fullPath,ze)),l.value=ne,me(ne,Me,Te,B),Y()}let G;function O(){G||(G=i.listen((ne,Me,Te)=>{if(!_e.listening)return;const ke=g(ne),ze=x(ke);if(ze){T(Dt(ze,{replace:!0}),ke).catch(zd);return}c=ke;const V=l.value;rc&&sD(g2(V.fullPath,Te.delta),bg()),S(ke,V).catch(B=>hr(B,12)?B:hr(B,2)?(T(B.to,ke).then(z=>{hr(z,20)&&!Te.delta&&Te.type===ff.pop&&i.go(-1,!1)}).catch(zd),Promise.reject()):(Te.delta&&i.go(-Te.delta,!1),I(B,ke,V))).then(B=>{B=B||N(ke,V,!1),B&&(Te.delta&&!hr(B,8)?i.go(-Te.delta,!1):Te.type===ff.pop&&hr(B,20)&&i.go(-1,!1)),C(ke,V,B)}).catch(zd)}))}let P=Wu(),k=Wu(),F;function I(ne,Me,Te){Y(ne);const ke=k.list();return ke.length?ke.forEach(ze=>ze(ne,Me,Te)):console.error(ne),Promise.reject(ne)}function ee(){return F&&l.value!==io?Promise.resolve():new Promise((ne,Me)=>{P.add([ne,Me])})}function Y(ne){return F||(F=!ne,O(),P.list().forEach(([Me,Te])=>ne?Te(ne):Me()),P.reset()),ne}function me(ne,Me,Te,ke){const{scrollBehavior:ze}=t;if(!rc||!ze)return Promise.resolve();const V=!Te&&iD(g2(ne.fullPath,0))||(ke||!Te)&&history.state&&history.state.scroll||null;return Uf().then(()=>ze(ne,Me,V)).then(B=>B&&nD(B)).catch(B=>I(B,ne,Me))}const ge=ne=>i.go(ne);let Ce;const le=new Set,_e={currentRoute:l,listening:!0,addRoute:h,removeRoute:y,clearRoutes:e.clearRoutes,hasRoute:p,getRoutes:_,resolve:g,options:t,push:w,replace:A,go:ge,back:()=>ge(-1),forward:()=>ge(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:k.add,isReady:ee,install(ne){const Me=this;ne.component("RouterLink",b4),ne.component("RouterView",v4),ne.config.globalProperties.$router=Me,Object.defineProperty(ne.config.globalProperties,"$route",{enumerable:!0,get:()=>Mc(l)}),rc&&!Ce&&l.value===io&&(Ce=!0,w(i.location).catch(ze=>{}));const Te={};for(const ze in io)Object.defineProperty(Te,ze,{get:()=>l.value[ze],enumerable:!0});ne.provide(xv,Me),ne.provide(y4,cR(Te)),ne.provide(O1,l);const ke=ne.unmount;le.add(ne),ne.unmount=function(){le.delete(ne),le.size<1&&(c=io,G&&G(),G=null,l.value=io,Ce=!1,F=!1),ke()}}};function Ie(ne){return ne.reduce((Me,Te)=>Me.then(()=>E(Te)),Promise.resolve())}return _e}function LD(t,e){const n=[],s=[],i=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(t.matched.find(c=>Zc(c,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Zc(c,l))||i.push(l))}return[n,s,i]}var DD=!1;/*!
 * pinia v2.2.2
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let w4;const vg=t=>w4=t,x4=Symbol();function L1(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var jd;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(jd||(jd={}));function ND(){const t=YM(!0),e=t.run(()=>ag({}));let n=[],s=[];const i=lv({install(r){vg(i),i._a=r,r.provide(x4,i),r.config.globalProperties.$pinia=i,s.forEach(o=>n.push(o)),s=[]},use(r){return!this._a&&!DD?s.push(r):n.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const E4=()=>{};function k2(t,e,n,s=E4){t.push(e);const i=()=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),s())};return!n&&ZM()&&cO(i),i}function xl(t,...e){t.slice().forEach(n=>{n(...e)})}const UD=t=>t(),P2=Symbol(),A_=Symbol();function D1(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],i=t[n];L1(i)&&L1(s)&&t.hasOwnProperty(n)&&!Mn(s)&&!Qa(s)?t[n]=D1(i,s):t[n]=s}return t}const $D=Symbol();function FD(t){return!L1(t)||!t.hasOwnProperty($D)}const{assign:bo}=Object;function BD(t){return!!(Mn(t)&&t.effect)}function HD(t,e,n,s){const{state:i,actions:r,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=i?i():{});const u=OO(n.state.value[t]);return bo(u,r,Object.keys(o||{}).reduce((d,f)=>(d[f]=lv(gn(()=>{vg(n);const h=n._s.get(t);return o[f].call(h,h)})),d),{}))}return l=S4(t,c,e,n,s,!0),l}function S4(t,e,n={},s,i,r){let o;const a=bo({actions:{}},n),l={deep:!0};let c,u,d=[],f=[],h;const y=s.state.value[t];!r&&!y&&(s.state.value[t]={}),ag({});let _;function p(M){let E;c=u=!1,typeof M=="function"?(M(s.state.value[t]),E={type:jd.patchFunction,storeId:t,events:h}):(D1(s.state.value[t],M),E={type:jd.patchObject,payload:M,storeId:t,events:h});const S=_=Symbol();Uf().then(()=>{_===S&&(c=!0)}),u=!0,xl(d,E,s.state.value[t])}const g=r?function(){const{state:E}=n,S=E?E():{};this.$patch(C=>{bo(C,S)})}:E4;function b(){o.stop(),d=[],f=[],s._s.delete(t)}const v=(M,E="")=>{if(P2 in M)return M[A_]=E,M;const S=function(){vg(s);const C=Array.from(arguments),N=[],G=[];function O(F){N.push(F)}function P(F){G.push(F)}xl(f,{args:C,name:S[A_],store:A,after:O,onError:P});let k;try{k=M.apply(this&&this.$id===t?this:A,C)}catch(F){throw xl(G,F),F}return k instanceof Promise?k.then(F=>(xl(N,F),F)).catch(F=>(xl(G,F),Promise.reject(F))):(xl(N,k),k)};return S[P2]=!0,S[A_]=E,S},w={_p:s,$id:t,$onAction:k2.bind(null,f),$patch:p,$reset:g,$subscribe(M,E={}){const S=k2(d,M,E.detached,()=>C()),C=o.run(()=>tl(()=>s.state.value[t],N=>{(E.flush==="sync"?u:c)&&M({storeId:t,type:jd.direct,events:h},N)},bo({},l,E)));return S},$dispose:b},A=wu(w);s._s.set(t,A);const T=(s._a&&s._a.runWithContext||UD)(()=>s._e.run(()=>(o=YM()).run(()=>e({action:v}))));for(const M in T){const E=T[M];if(Mn(E)&&!BD(E)||Qa(E))r||(y&&FD(E)&&(Mn(E)?E.value=y[M]:D1(E,y[M])),s.state.value[t][M]=E);else if(typeof E=="function"){const S=v(E,M);T[M]=S,a.actions[M]=E}}return bo(A,T),bo(wt(A),T),Object.defineProperty(A,"$state",{get:()=>s.state.value[t],set:M=>{p(E=>{bo(E,M)})}}),s._p.forEach(M=>{bo(A,o.run(()=>M({store:A,app:s._a,pinia:s,options:a})))}),y&&r&&n.hydrate&&n.hydrate(A.$state,y),c=!0,u=!0,A}function es(t,e,n){let s,i;const r=typeof e=="function";typeof t=="string"?(s=t,i=r?n:e):(i=t,s=t.id);function o(a,l){const c=c6();return a=a||(c?Zi(x4,null):null),a&&vg(a),a=w4,a._s.has(s)||(r?S4(s,e,i,a):HD(s,i,a)),a._s.get(s)}return o.$id=s,o}function Ev(t,e){return Array.isArray(e)?e.reduce((n,s)=>(n[s]=function(){return t(this.$pinia)[s]},n),{}):Object.keys(e).reduce((n,s)=>(n[s]=function(){const i=t(this.$pinia),r=e[s];return typeof r=="function"?r.call(this,i):i[r]},n),{})}const T4=35;var Nn=(t=>(t[t.Invalid=0]="Invalid",t[t.Get=1]="Get",t[t.Set=2]="Set",t[t.Log=3]="Log",t[t.CalImu=4]="CalImu",t[t.Blackbox=5]="Blackbox",t[t.Motor=6]="Motor",t[t.CalSticks=7]="CalSticks",t[t.Serial=8]="Serial",t[t.OSD=9]="OSD",t[t.Max=10]="Max",t))(Nn||{}),ln=(t=>(t[t.Invalid=0]="Invalid",t[t.Info=1]="Info",t[t.Profile=2]="Profile",t[t.DefaultProfile=3]="DefaultProfile",t[t.State=4]="State",t[t.PidRatePresets=5]="PidRatePresets",t[t.VtxSettings=6]="VtxSettings",t[t.OSDFont=7]="OSDFont",t[t.BLHeliSettings=8]="BLHeliSettings",t[t.BindInfo=9]="BindInfo",t[t.PerfCounters=10]="PerfCounters",t[t.BlackboxPresets=11]="BlackboxPresets",t[t.Target=12]="Target",t))(ln||{}),Sd=(t=>(t[t.Reset=0]="Reset",t[t.List=1]="List",t[t.Get=2]="Get",t))(Sd||{}),Td=(t=>(t[t.TestStatus=0]="TestStatus",t[t.TestEnable=1]="TestEnable",t[t.TestDisable=2]="TestDisable",t[t.TestSetValue=3]="TestSetValue",t[t.Esc4WayIf=4]="Esc4WayIf",t))(Td||{}),N1=(t=>(t[t.ReadChar=0]="ReadChar",t[t.WriteChar=1]="WriteChar",t))(N1||{}),Dp=(t=>(t[t.None=0]="None",t[t.Error=1]="Error",t[t.Streaming=2]="Streaming",t[t.Exit=3]="Exit",t))(Dp||{}),Ji=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function or(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var U1={exports:{}};const GD="2.0.0",A4=256,zD=Number.MAX_SAFE_INTEGER||9007199254740991,VD=16,jD=A4-6,WD=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var wg={MAX_LENGTH:A4,MAX_SAFE_COMPONENT_LENGTH:VD,MAX_SAFE_BUILD_LENGTH:jD,MAX_SAFE_INTEGER:zD,RELEASE_TYPES:WD,SEMVER_SPEC_VERSION:GD,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},M_={};const qD=typeof process=="object"&&M_&&M_.NODE_DEBUG&&/\bsemver\b/i.test(M_.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var xg=qD;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:s,MAX_LENGTH:i}=wg,r=xg;e=t.exports={};const o=e.re=[],a=e.safeRe=[],l=e.src=[],c=e.t={};let u=0;const d="[a-zA-Z0-9-]",f=[["\\s",1],["\\d",i],[d,s]],h=_=>{for(const[p,g]of f)_=_.split(`${p}*`).join(`${p}{0,${g}}`).split(`${p}+`).join(`${p}{1,${g}}`);return _},y=(_,p,g)=>{const b=h(p),v=u++;r(_,v,p),c[_]=v,l[v]=p,o[v]=new RegExp(p,g?"g":void 0),a[v]=new RegExp(b,g?"g":void 0)};y("NUMERICIDENTIFIER","0|[1-9]\\d*"),y("NUMERICIDENTIFIERLOOSE","\\d+"),y("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),y("MAINVERSION",`(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})`),y("MAINVERSIONLOOSE",`(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})`),y("PRERELEASEIDENTIFIER",`(?:${l[c.NUMERICIDENTIFIER]}|${l[c.NONNUMERICIDENTIFIER]})`),y("PRERELEASEIDENTIFIERLOOSE",`(?:${l[c.NUMERICIDENTIFIERLOOSE]}|${l[c.NONNUMERICIDENTIFIER]})`),y("PRERELEASE",`(?:-(${l[c.PRERELEASEIDENTIFIER]}(?:\\.${l[c.PRERELEASEIDENTIFIER]})*))`),y("PRERELEASELOOSE",`(?:-?(${l[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[c.PRERELEASEIDENTIFIERLOOSE]})*))`),y("BUILDIDENTIFIER",`${d}+`),y("BUILD",`(?:\\+(${l[c.BUILDIDENTIFIER]}(?:\\.${l[c.BUILDIDENTIFIER]})*))`),y("FULLPLAIN",`v?${l[c.MAINVERSION]}${l[c.PRERELEASE]}?${l[c.BUILD]}?`),y("FULL",`^${l[c.FULLPLAIN]}$`),y("LOOSEPLAIN",`[v=\\s]*${l[c.MAINVERSIONLOOSE]}${l[c.PRERELEASELOOSE]}?${l[c.BUILD]}?`),y("LOOSE",`^${l[c.LOOSEPLAIN]}$`),y("GTLT","((?:<|>)?=?)"),y("XRANGEIDENTIFIERLOOSE",`${l[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),y("XRANGEIDENTIFIER",`${l[c.NUMERICIDENTIFIER]}|x|X|\\*`),y("XRANGEPLAIN",`[v=\\s]*(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:${l[c.PRERELEASE]})?${l[c.BUILD]}?)?)?`),y("XRANGEPLAINLOOSE",`[v=\\s]*(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:${l[c.PRERELEASELOOSE]})?${l[c.BUILD]}?)?)?`),y("XRANGE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAIN]}$`),y("XRANGELOOSE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAINLOOSE]}$`),y("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),y("COERCE",`${l[c.COERCEPLAIN]}(?:$|[^\\d])`),y("COERCEFULL",l[c.COERCEPLAIN]+`(?:${l[c.PRERELEASE]})?(?:${l[c.BUILD]})?(?:$|[^\\d])`),y("COERCERTL",l[c.COERCE],!0),y("COERCERTLFULL",l[c.COERCEFULL],!0),y("LONETILDE","(?:~>?)"),y("TILDETRIM",`(\\s*)${l[c.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",y("TILDE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAIN]}$`),y("TILDELOOSE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAINLOOSE]}$`),y("LONECARET","(?:\\^)"),y("CARETTRIM",`(\\s*)${l[c.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",y("CARET",`^${l[c.LONECARET]}${l[c.XRANGEPLAIN]}$`),y("CARETLOOSE",`^${l[c.LONECARET]}${l[c.XRANGEPLAINLOOSE]}$`),y("COMPARATORLOOSE",`^${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]})$|^$`),y("COMPARATOR",`^${l[c.GTLT]}\\s*(${l[c.FULLPLAIN]})$|^$`),y("COMPARATORTRIM",`(\\s*)${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]}|${l[c.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",y("HYPHENRANGE",`^\\s*(${l[c.XRANGEPLAIN]})\\s+-\\s+(${l[c.XRANGEPLAIN]})\\s*$`),y("HYPHENRANGELOOSE",`^\\s*(${l[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[c.XRANGEPLAINLOOSE]})\\s*$`),y("STAR","(<|>)?=?\\s*\\*"),y("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),y("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(U1,U1.exports);var Ff=U1.exports;const XD=Object.freeze({loose:!0}),KD=Object.freeze({}),YD=t=>t?typeof t!="object"?XD:t:KD;var Sv=YD;const I2=/^[0-9]+$/,M4=(t,e)=>{const n=I2.test(t),s=I2.test(e);return n&&s&&(t=+t,e=+e),t===e?0:n&&!s?-1:s&&!n?1:t<e?-1:1},ZD=(t,e)=>M4(e,t);var R4={compareIdentifiers:M4,rcompareIdentifiers:ZD};const uh=xg,{MAX_LENGTH:O2,MAX_SAFE_INTEGER:dh}=wg,{safeRe:L2,t:D2}=Ff,JD=Sv,{compareIdentifiers:El}=R4;let QD=class Fi{constructor(e,n){if(n=JD(n),e instanceof Fi){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>O2)throw new TypeError(`version is longer than ${O2} characters`);uh("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const s=e.trim().match(n.loose?L2[D2.LOOSE]:L2[D2.FULL]);if(!s)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>dh||this.major<0)throw new TypeError("Invalid major version");if(this.minor>dh||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>dh||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const r=+i;if(r>=0&&r<dh)return r}return i}):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(uh("SemVer.compare",this.version,this.options,e),!(e instanceof Fi)){if(typeof e=="string"&&e===this.version)return 0;e=new Fi(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Fi||(e=new Fi(e,this.options)),El(this.major,e.major)||El(this.minor,e.minor)||El(this.patch,e.patch)}comparePre(e){if(e instanceof Fi||(e=new Fi(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{const s=this.prerelease[n],i=e.prerelease[n];if(uh("prerelease compare",n,s,i),s===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(s===void 0)return-1;if(s===i)continue;return El(s,i)}while(++n)}compareBuild(e){e instanceof Fi||(e=new Fi(e,this.options));let n=0;do{const s=this.build[n],i=e.build[n];if(uh("build compare",n,s,i),s===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(s===void 0)return-1;if(s===i)continue;return El(s,i)}while(++n)}inc(e,n,s){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,s);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,s);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,s),this.inc("pre",n,s);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,s),this.inc("pre",n,s);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(s)?1:0;if(!n&&s===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let r=this.prerelease.length;for(;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);if(r===-1){if(n===this.prerelease.join(".")&&s===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let r=[n,i];s===!1&&(r=[n]),El(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var hs=QD;const N2=hs,e7=(t,e,n=!1)=>{if(t instanceof N2)return t;try{return new N2(t,e)}catch(s){if(!n)return null;throw s}};var Su=e7;const t7=Su,n7=(t,e)=>{const n=t7(t,e);return n?n.version:null};var s7=n7;const i7=Su,r7=(t,e)=>{const n=i7(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null};var o7=r7;const U2=hs,a7=(t,e,n,s,i)=>{typeof n=="string"&&(i=s,s=n,n=void 0);try{return new U2(t instanceof U2?t.version:t,n).inc(e,s,i).version}catch{return null}};var l7=a7;const $2=Su,c7=(t,e)=>{const n=$2(t,null,!0),s=$2(e,null,!0),i=n.compare(s);if(i===0)return null;const r=i>0,o=r?n:s,a=r?s:n,l=!!o.prerelease.length;if(!!a.prerelease.length&&!l)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";const u=l?"pre":"";return n.major!==s.major?u+"major":n.minor!==s.minor?u+"minor":n.patch!==s.patch?u+"patch":"prerelease"};var u7=c7;const d7=hs,f7=(t,e)=>new d7(t,e).major;var h7=f7;const p7=hs,m7=(t,e)=>new p7(t,e).minor;var g7=m7;const _7=hs,y7=(t,e)=>new _7(t,e).patch;var b7=y7;const v7=Su,w7=(t,e)=>{const n=v7(t,e);return n&&n.prerelease.length?n.prerelease:null};var x7=w7;const F2=hs,E7=(t,e,n)=>new F2(t,n).compare(new F2(e,n));var Oi=E7;const S7=Oi,T7=(t,e,n)=>S7(e,t,n);var A7=T7;const M7=Oi,R7=(t,e)=>M7(t,e,!0);var C7=R7;const B2=hs,k7=(t,e,n)=>{const s=new B2(t,n),i=new B2(e,n);return s.compare(i)||s.compareBuild(i)};var Tv=k7;const P7=Tv,I7=(t,e)=>t.sort((n,s)=>P7(n,s,e));var O7=I7;const L7=Tv,D7=(t,e)=>t.sort((n,s)=>L7(s,n,e));var N7=D7;const U7=Oi,$7=(t,e,n)=>U7(t,e,n)>0;var Eg=$7;const F7=Oi,B7=(t,e,n)=>F7(t,e,n)<0;var Av=B7;const H7=Oi,G7=(t,e,n)=>H7(t,e,n)===0;var C4=G7;const z7=Oi,V7=(t,e,n)=>z7(t,e,n)!==0;var k4=V7;const j7=Oi,W7=(t,e,n)=>j7(t,e,n)>=0;var Mv=W7;const q7=Oi,X7=(t,e,n)=>q7(t,e,n)<=0;var Rv=X7;const K7=C4,Y7=k4,Z7=Eg,J7=Mv,Q7=Av,eN=Rv,tN=(t,e,n,s)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return K7(t,n,s);case"!=":return Y7(t,n,s);case">":return Z7(t,n,s);case">=":return J7(t,n,s);case"<":return Q7(t,n,s);case"<=":return eN(t,n,s);default:throw new TypeError(`Invalid operator: ${e}`)}};var P4=tN;const nN=hs,sN=Su,{safeRe:fh,t:hh}=Ff,iN=(t,e)=>{if(t instanceof nN)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(e.includePrerelease?fh[hh.COERCEFULL]:fh[hh.COERCE]);else{const l=e.includePrerelease?fh[hh.COERCERTLFULL]:fh[hh.COERCERTL];let c;for(;(c=l.exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||c.index+c[0].length!==n.index+n[0].length)&&(n=c),l.lastIndex=c.index+c[1].length+c[2].length;l.lastIndex=-1}if(n===null)return null;const s=n[2],i=n[3]||"0",r=n[4]||"0",o=e.includePrerelease&&n[5]?`-${n[5]}`:"",a=e.includePrerelease&&n[6]?`+${n[6]}`:"";return sN(`${s}.${i}.${r}${o}${a}`,e)};var rN=iN;let oN=class{constructor(){this.max=1e3,this.map=new Map}get(e){const n=this.map.get(e);if(n!==void 0)return this.map.delete(e),this.map.set(e,n),n}delete(e){return this.map.delete(e)}set(e,n){if(!this.delete(e)&&n!==void 0){if(this.map.size>=this.max){const i=this.map.keys().next().value;this.delete(i)}this.map.set(e,n)}return this}};var aN=oN,R_,H2;function Li(){if(H2)return R_;H2=1;const t=/\s+/g;class e{constructor(P,k){if(k=i(k),P instanceof e)return P.loose===!!k.loose&&P.includePrerelease===!!k.includePrerelease?P:new e(P.raw,k);if(P instanceof r)return this.raw=P.value,this.set=[[P]],this.formatted=void 0,this;if(this.options=k,this.loose=!!k.loose,this.includePrerelease=!!k.includePrerelease,this.raw=P.trim().replace(t," "),this.set=this.raw.split("||").map(F=>this.parseRange(F.trim())).filter(F=>F.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const F=this.set[0];if(this.set=this.set.filter(I=>!_(I[0])),this.set.length===0)this.set=[F];else if(this.set.length>1){for(const I of this.set)if(I.length===1&&p(I[0])){this.set=[I];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let P=0;P<this.set.length;P++){P>0&&(this.formatted+="||");const k=this.set[P];for(let F=0;F<k.length;F++)F>0&&(this.formatted+=" "),this.formatted+=k[F].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(P){const F=((this.options.includePrerelease&&h)|(this.options.loose&&y))+":"+P,I=s.get(F);if(I)return I;const ee=this.options.loose,Y=ee?l[c.HYPHENRANGELOOSE]:l[c.HYPHENRANGE];P=P.replace(Y,N(this.options.includePrerelease)),o("hyphen replace",P),P=P.replace(l[c.COMPARATORTRIM],u),o("comparator trim",P),P=P.replace(l[c.TILDETRIM],d),o("tilde trim",P),P=P.replace(l[c.CARETTRIM],f),o("caret trim",P);let me=P.split(" ").map(_e=>b(_e,this.options)).join(" ").split(/\s+/).map(_e=>C(_e,this.options));ee&&(me=me.filter(_e=>(o("loose invalid filter",_e,this.options),!!_e.match(l[c.COMPARATORLOOSE])))),o("range list",me);const ge=new Map,Ce=me.map(_e=>new r(_e,this.options));for(const _e of Ce){if(_(_e))return[_e];ge.set(_e.value,_e)}ge.size>1&&ge.has("")&&ge.delete("");const le=[...ge.values()];return s.set(F,le),le}intersects(P,k){if(!(P instanceof e))throw new TypeError("a Range is required");return this.set.some(F=>g(F,k)&&P.set.some(I=>g(I,k)&&F.every(ee=>I.every(Y=>ee.intersects(Y,k)))))}test(P){if(!P)return!1;if(typeof P=="string")try{P=new a(P,this.options)}catch{return!1}for(let k=0;k<this.set.length;k++)if(G(this.set[k],P,this.options))return!0;return!1}}R_=e;const n=aN,s=new n,i=Sv,r=Sg(),o=xg,a=hs,{safeRe:l,t:c,comparatorTrimReplace:u,tildeTrimReplace:d,caretTrimReplace:f}=Ff,{FLAG_INCLUDE_PRERELEASE:h,FLAG_LOOSE:y}=wg,_=O=>O.value==="<0.0.0-0",p=O=>O.value==="",g=(O,P)=>{let k=!0;const F=O.slice();let I=F.pop();for(;k&&F.length;)k=F.every(ee=>I.intersects(ee,P)),I=F.pop();return k},b=(O,P)=>(o("comp",O,P),O=x(O,P),o("caret",O),O=w(O,P),o("tildes",O),O=M(O,P),o("xrange",O),O=S(O,P),o("stars",O),O),v=O=>!O||O.toLowerCase()==="x"||O==="*",w=(O,P)=>O.trim().split(/\s+/).map(k=>A(k,P)).join(" "),A=(O,P)=>{const k=P.loose?l[c.TILDELOOSE]:l[c.TILDE];return O.replace(k,(F,I,ee,Y,me)=>{o("tilde",O,F,I,ee,Y,me);let ge;return v(I)?ge="":v(ee)?ge=`>=${I}.0.0 <${+I+1}.0.0-0`:v(Y)?ge=`>=${I}.${ee}.0 <${I}.${+ee+1}.0-0`:me?(o("replaceTilde pr",me),ge=`>=${I}.${ee}.${Y}-${me} <${I}.${+ee+1}.0-0`):ge=`>=${I}.${ee}.${Y} <${I}.${+ee+1}.0-0`,o("tilde return",ge),ge})},x=(O,P)=>O.trim().split(/\s+/).map(k=>T(k,P)).join(" "),T=(O,P)=>{o("caret",O,P);const k=P.loose?l[c.CARETLOOSE]:l[c.CARET],F=P.includePrerelease?"-0":"";return O.replace(k,(I,ee,Y,me,ge)=>{o("caret",O,I,ee,Y,me,ge);let Ce;return v(ee)?Ce="":v(Y)?Ce=`>=${ee}.0.0${F} <${+ee+1}.0.0-0`:v(me)?ee==="0"?Ce=`>=${ee}.${Y}.0${F} <${ee}.${+Y+1}.0-0`:Ce=`>=${ee}.${Y}.0${F} <${+ee+1}.0.0-0`:ge?(o("replaceCaret pr",ge),ee==="0"?Y==="0"?Ce=`>=${ee}.${Y}.${me}-${ge} <${ee}.${Y}.${+me+1}-0`:Ce=`>=${ee}.${Y}.${me}-${ge} <${ee}.${+Y+1}.0-0`:Ce=`>=${ee}.${Y}.${me}-${ge} <${+ee+1}.0.0-0`):(o("no pr"),ee==="0"?Y==="0"?Ce=`>=${ee}.${Y}.${me}${F} <${ee}.${Y}.${+me+1}-0`:Ce=`>=${ee}.${Y}.${me}${F} <${ee}.${+Y+1}.0-0`:Ce=`>=${ee}.${Y}.${me} <${+ee+1}.0.0-0`),o("caret return",Ce),Ce})},M=(O,P)=>(o("replaceXRanges",O,P),O.split(/\s+/).map(k=>E(k,P)).join(" ")),E=(O,P)=>{O=O.trim();const k=P.loose?l[c.XRANGELOOSE]:l[c.XRANGE];return O.replace(k,(F,I,ee,Y,me,ge)=>{o("xRange",O,F,I,ee,Y,me,ge);const Ce=v(ee),le=Ce||v(Y),_e=le||v(me),Ie=_e;return I==="="&&Ie&&(I=""),ge=P.includePrerelease?"-0":"",Ce?I===">"||I==="<"?F="<0.0.0-0":F="*":I&&Ie?(le&&(Y=0),me=0,I===">"?(I=">=",le?(ee=+ee+1,Y=0,me=0):(Y=+Y+1,me=0)):I==="<="&&(I="<",le?ee=+ee+1:Y=+Y+1),I==="<"&&(ge="-0"),F=`${I+ee}.${Y}.${me}${ge}`):le?F=`>=${ee}.0.0${ge} <${+ee+1}.0.0-0`:_e&&(F=`>=${ee}.${Y}.0${ge} <${ee}.${+Y+1}.0-0`),o("xRange return",F),F})},S=(O,P)=>(o("replaceStars",O,P),O.trim().replace(l[c.STAR],"")),C=(O,P)=>(o("replaceGTE0",O,P),O.trim().replace(l[P.includePrerelease?c.GTE0PRE:c.GTE0],"")),N=O=>(P,k,F,I,ee,Y,me,ge,Ce,le,_e,Ie)=>(v(F)?k="":v(I)?k=`>=${F}.0.0${O?"-0":""}`:v(ee)?k=`>=${F}.${I}.0${O?"-0":""}`:Y?k=`>=${k}`:k=`>=${k}${O?"-0":""}`,v(Ce)?ge="":v(le)?ge=`<${+Ce+1}.0.0-0`:v(_e)?ge=`<${Ce}.${+le+1}.0-0`:Ie?ge=`<=${Ce}.${le}.${_e}-${Ie}`:O?ge=`<${Ce}.${le}.${+_e+1}-0`:ge=`<=${ge}`,`${k} ${ge}`.trim()),G=(O,P,k)=>{for(let F=0;F<O.length;F++)if(!O[F].test(P))return!1;if(P.prerelease.length&&!k.includePrerelease){for(let F=0;F<O.length;F++)if(o(O[F].semver),O[F].semver!==r.ANY&&O[F].semver.prerelease.length>0){const I=O[F].semver;if(I.major===P.major&&I.minor===P.minor&&I.patch===P.patch)return!0}return!1}return!0};return R_}var C_,G2;function Sg(){if(G2)return C_;G2=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(u,d){if(d=n(d),u instanceof e){if(u.loose===!!d.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),o("comparator",u,d),this.options=d,this.loose=!!d.loose,this.parse(u),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(u){const d=this.options.loose?s[i.COMPARATORLOOSE]:s[i.COMPARATOR],f=u.match(d);if(!f)throw new TypeError(`Invalid comparator: ${u}`);this.operator=f[1]!==void 0?f[1]:"",this.operator==="="&&(this.operator=""),f[2]?this.semver=new a(f[2],this.options.loose):this.semver=t}toString(){return this.value}test(u){if(o("Comparator.test",u,this.options.loose),this.semver===t||u===t)return!0;if(typeof u=="string")try{u=new a(u,this.options)}catch{return!1}return r(u,this.operator,this.semver,this.options)}intersects(u,d){if(!(u instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(u.value,d).test(this.value):u.operator===""?u.value===""?!0:new l(this.value,d).test(u.semver):(d=n(d),d.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||r(this.semver,"<",u.semver,d)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||r(this.semver,">",u.semver,d)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}C_=e;const n=Sv,{safeRe:s,t:i}=Ff,r=P4,o=xg,a=hs,l=Li();return C_}const lN=Li(),cN=(t,e,n)=>{try{e=new lN(e,n)}catch{return!1}return e.test(t)};var Tg=cN;const uN=Li(),dN=(t,e)=>new uN(t,e).set.map(n=>n.map(s=>s.value).join(" ").trim().split(" "));var fN=dN;const hN=hs,pN=Li(),mN=(t,e,n)=>{let s=null,i=null,r=null;try{r=new pN(e,n)}catch{return null}return t.forEach(o=>{r.test(o)&&(!s||i.compare(o)===-1)&&(s=o,i=new hN(s,n))}),s};var gN=mN;const _N=hs,yN=Li(),bN=(t,e,n)=>{let s=null,i=null,r=null;try{r=new yN(e,n)}catch{return null}return t.forEach(o=>{r.test(o)&&(!s||i.compare(o)===1)&&(s=o,i=new _N(s,n))}),s};var vN=bN;const k_=hs,wN=Li(),z2=Eg,xN=(t,e)=>{t=new wN(t,e);let n=new k_("0.0.0");if(t.test(n)||(n=new k_("0.0.0-0"),t.test(n)))return n;n=null;for(let s=0;s<t.set.length;++s){const i=t.set[s];let r=null;i.forEach(o=>{const a=new k_(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!r||z2(a,r))&&(r=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),r&&(!n||z2(n,r))&&(n=r)}return n&&t.test(n)?n:null};var EN=xN;const SN=Li(),TN=(t,e)=>{try{return new SN(t,e).range||"*"}catch{return null}};var AN=TN;const MN=hs,I4=Sg(),{ANY:RN}=I4,CN=Li(),kN=Tg,V2=Eg,j2=Av,PN=Rv,IN=Mv,ON=(t,e,n,s)=>{t=new MN(t,s),e=new CN(e,s);let i,r,o,a,l;switch(n){case">":i=V2,r=PN,o=j2,a=">",l=">=";break;case"<":i=j2,r=IN,o=V2,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(kN(t,e,s))return!1;for(let c=0;c<e.set.length;++c){const u=e.set[c];let d=null,f=null;if(u.forEach(h=>{h.semver===RN&&(h=new I4(">=0.0.0")),d=d||h,f=f||h,i(h.semver,d.semver,s)?d=h:o(h.semver,f.semver,s)&&(f=h)}),d.operator===a||d.operator===l||(!f.operator||f.operator===a)&&r(t,f.semver))return!1;if(f.operator===l&&o(t,f.semver))return!1}return!0};var Cv=ON;const LN=Cv,DN=(t,e,n)=>LN(t,e,">",n);var NN=DN;const UN=Cv,$N=(t,e,n)=>UN(t,e,"<",n);var FN=$N;const W2=Li(),BN=(t,e,n)=>(t=new W2(t,n),e=new W2(e,n),t.intersects(e,n));var HN=BN;const GN=Tg,zN=Oi;var VN=(t,e,n)=>{const s=[];let i=null,r=null;const o=t.sort((u,d)=>zN(u,d,n));for(const u of o)GN(u,e,n)?(r=u,i||(i=u)):(r&&s.push([i,r]),r=null,i=null);i&&s.push([i,null]);const a=[];for(const[u,d]of s)u===d?a.push(u):!d&&u===o[0]?a.push("*"):d?u===o[0]?a.push(`<=${d}`):a.push(`${u} - ${d}`):a.push(`>=${u}`);const l=a.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return l.length<c.length?l:e};const q2=Li(),kv=Sg(),{ANY:P_}=kv,qu=Tg,Pv=Oi,jN=(t,e,n={})=>{if(t===e)return!0;t=new q2(t,n),e=new q2(e,n);let s=!1;e:for(const i of t.set){for(const r of e.set){const o=qN(i,r,n);if(s=s||o!==null,o)continue e}if(s)return!1}return!0},WN=[new kv(">=0.0.0-0")],X2=[new kv(">=0.0.0")],qN=(t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===P_){if(e.length===1&&e[0].semver===P_)return!0;n.includePrerelease?t=WN:t=X2}if(e.length===1&&e[0].semver===P_){if(n.includePrerelease)return!0;e=X2}const s=new Set;let i,r;for(const h of t)h.operator===">"||h.operator===">="?i=K2(i,h,n):h.operator==="<"||h.operator==="<="?r=Y2(r,h,n):s.add(h.semver);if(s.size>1)return null;let o;if(i&&r){if(o=Pv(i.semver,r.semver,n),o>0)return null;if(o===0&&(i.operator!==">="||r.operator!=="<="))return null}for(const h of s){if(i&&!qu(h,String(i),n)||r&&!qu(h,String(r),n))return null;for(const y of e)if(!qu(h,String(y),n))return!1;return!0}let a,l,c,u,d=r&&!n.includePrerelease&&r.semver.prerelease.length?r.semver:!1,f=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&r.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(const h of e){if(u=u||h.operator===">"||h.operator===">=",c=c||h.operator==="<"||h.operator==="<=",i){if(f&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===f.major&&h.semver.minor===f.minor&&h.semver.patch===f.patch&&(f=!1),h.operator===">"||h.operator===">="){if(a=K2(i,h,n),a===h&&a!==i)return!1}else if(i.operator===">="&&!qu(i.semver,String(h),n))return!1}if(r){if(d&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===d.major&&h.semver.minor===d.minor&&h.semver.patch===d.patch&&(d=!1),h.operator==="<"||h.operator==="<="){if(l=Y2(r,h,n),l===h&&l!==r)return!1}else if(r.operator==="<="&&!qu(r.semver,String(h),n))return!1}if(!h.operator&&(r||i)&&o!==0)return!1}return!(i&&c&&!r&&o!==0||r&&u&&!i&&o!==0||f||d)},K2=(t,e,n)=>{if(!t)return e;const s=Pv(t.semver,e.semver,n);return s>0?t:s<0||e.operator===">"&&t.operator===">="?e:t},Y2=(t,e,n)=>{if(!t)return e;const s=Pv(t.semver,e.semver,n);return s<0?t:s>0||e.operator==="<"&&t.operator==="<="?e:t};var XN=jN;const I_=Ff,Z2=wg,KN=hs,J2=R4,YN=Su,ZN=s7,JN=o7,QN=l7,eU=u7,tU=h7,nU=g7,sU=b7,iU=x7,rU=Oi,oU=A7,aU=C7,lU=Tv,cU=O7,uU=N7,dU=Eg,fU=Av,hU=C4,pU=k4,mU=Mv,gU=Rv,_U=P4,yU=rN,bU=Sg(),vU=Li(),wU=Tg,xU=fN,EU=gN,SU=vN,TU=EN,AU=AN,MU=Cv,RU=NN,CU=FN,kU=HN,PU=VN,IU=XN;var Np={parse:YN,valid:ZN,clean:JN,inc:QN,diff:eU,major:tU,minor:nU,patch:sU,prerelease:iU,compare:rU,rcompare:oU,compareLoose:aU,compareBuild:lU,sort:cU,rsort:uU,gt:dU,lt:fU,eq:hU,neq:pU,gte:mU,lte:gU,cmp:_U,coerce:yU,Comparator:bU,Range:vU,satisfies:wU,toComparators:xU,maxSatisfying:EU,minSatisfying:SU,minVersion:TU,validRange:AU,outside:MU,gtr:RU,ltr:CU,intersects:kU,simplifyRange:PU,subset:IU,SemVer:KN,re:I_.re,src:I_.src,tokens:I_.t,SEMVER_SPEC_VERSION:Z2.SEMVER_SPEC_VERSION,RELEASE_TYPES:Z2.RELEASE_TYPES,compareIdentifiers:J2.compareIdentifiers,rcompareIdentifiers:J2.rcompareIdentifiers};const Ss=or(Np);function Wd(t,e){const n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}function O_(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}class Iv{constructor(e=!0){Z(this,"offset",0);Z(this,"buf",new ArrayBuffer(4));Z(this,"view",new DataView(this.buf));this.litteEndian=e}get length(){return this.offset}reset(){this.offset=0}get(e){return this.view.getUint8(e)}writeUint8(e){this.grow(),this.view.setUint8(this.offset,e),this.offset++}writeUint16(e){this.grow(2),this.view.setUint16(this.offset,e,this.litteEndian),this.offset+=2}writeUint8s(e){this.grow(e.length),new Uint8Array(this.buf).set(Uint8Array.from(e),this.offset),this.offset+=e.length}writeFloat32(e){this.grow(4),this.view.setFloat32(this.offset,e),this.offset+=4}array(){return new Uint8Array(this.buf,0,this.offset)}grow(e=1){if(this.offset+e>=this.buf.byteLength){let n=this.buf.byteLength;for(;n<this.offset+e;)n*=2;const s=new ArrayBuffer(n);new Uint8Array(s).set(new Uint8Array(this.buf)),this.buf=s,this.view=new DataView(this.buf)}}}class Q2{constructor(e){Z(this,"offset",0);Z(this,"buf",new ArrayBuffer(0));Z(this,"view",new DataView(this.buf));e&&(this.buf=e.buffer.slice(0,e.length),this.view=new DataView(this.buf))}advance(e){this.offset+=e}remaining(){return this.buf.byteLength-this.offset}peekUint8(){return this.view.getUint8(this.offset)}peekUint16(){return this.view.getUint16(this.offset)}peekFloat32(){return this.view.getFloat32(this.offset)}peekFloat64(){return this.view.getFloat64(this.offset)}}function Qc(t){return`v${t>>16&255}.${t>>8&255}.${t>>0&255}`}function zi(t){return new Promise(e=>{setTimeout(e,t)})}const OU={0:"trace",1:"debug",2:"info",3:"warning",4:"error"},ei=class ei{static trace(e,...n){ei.log(0,e,...n)}static debug(e,...n){ei.log(1,e,...n)}static info(e,...n){ei.log(2,e,...n)}static warn(e,...n){ei.log(3,e,...n)}static warning(e,...n){ei.log(3,e,...n)}static error(e,...n){ei.log(4,e,...n)}static logFmtStr(e,n,s){let i="["+OU[e]+"]";for(n&&n.length&&(i+="["+n+"]"),i+=" ";typeof s[0]=="string";)i+=s.shift();return i}static logToFile(e,n,...s){for(const i of s)n+=" ",typeof i=="string"?n+=i:n+=JSON.stringify(i);ei.history.push(n)}static log(e,n,...s){if(!(e<ei.level))switch(e){case 0:{const i=this.logFmtStr(e,n,s);console.debug(i,...s),this.logToFile(e,i,...s);break}case 1:case 2:{const i=this.logFmtStr(e,n,s);console.log(i,...s),this.logToFile(e,i,...s);break}case 3:{const i=this.logFmtStr(e,n,s);console.warn(i,...s),this.logToFile(e,i,...s);break}case 4:{const i=this.logFmtStr(e,n,s);console.error(i,...s),this.logToFile(e,i,...s);break}}}};Z(ei,"level",2),Z(ei,"history",[]);let ut=ei;const O4=5,LU=224,L4=31;function Sl(t){return t<=255?24:t<=65535?25:t<=4294967295?26:27}const D4=new Array(147);for(let t=0;t<256;t++)D4[t]=+("1e"+Math.floor(45.15-t*.30103));class DU{constructor(){Z(this,"buf",new Iv)}encode(e){return this.encodeVal(e),this.buf.array()}encodeVal(e){const n=typeof e;switch(n){case"number":this.encodeNumber(e);break;case"object":e instanceof Uint8Array?this.encodeByteString(e):Array.isArray(e)?this.encodeArray(e):this.encodeObject(e);break;case"string":this.encodeString(e);break;case"boolean":this.encodeHeader(7,e?21:20);break;case"undefined":this.encodeHeader(7,23);break;default:ut.error("unhandled type",n);break}}encodeNumber(e){if(e>>>0===e)this.encodeRaw(0,e,Sl(e));else if(e>>0===e){const n=-e-1;this.encodeRaw(1,n,Sl(n))}else this.encodeHeader(7,26),this.buf.writeFloat32(e)}encodeObject(e){const n=Object.entries(e);this.encodeRaw(5,n.length,Sl(n.length));for(const[s,i]of n)this.encode(s),this.encode(i)}encodeArray(e){this.encodeRaw(4,e.length,Sl(e.length));for(const n of e)this.encode(n)}encodeString(e){this.encodeRaw(3,e.length,Sl(e.length));for(let n=0;n<e.length;n++)this.buf.writeUint8(e.charCodeAt(n))}encodeByteString(e){this.encodeRaw(2,e.length,Sl(e.length));for(let n=0;n<e.length;n++)this.buf.writeUint8(e[n])}encodeRaw(e,n,s){if(s==24&&n<24)return this.encodeHeader(e,n);this.encodeHeader(e,s);const i=1<<s-24;for(let r=i-1;r>=0;r--)this.buf.writeUint8(n>>r*8&255)}encodeHeader(e,n){return this.buf.writeUint8(e<<O4|n&L4)}}class NU{constructor(e){Z(this,"buf",new Q2);this.buf=new Q2(e)}isEOF(){return this.buf.remaining()==0}decode(){const{type:e,max:n}=this.decodeType();switch(this.buf.advance(1),e){case 0:return this.decodeRaw(n);case 1:return-1-this.decodeRaw(n);case 5:return this.decodeMap(n);case 4:return this.decodeArray(n);case 2:{const s=this.decodeRaw(n);if(this.buf.remaining()<s)throw new Error("EOF");const i=new Uint8Array(s);for(let r=0;r<s;r++)i[r]=this.buf.peekUint8(),this.buf.advance(1);return i}case 3:{const s=this.decodeRaw(n);if(this.buf.remaining()<s)throw new Error("EOF");let i="";for(let r=0;r<s;r++)i+=String.fromCharCode(this.buf.peekUint8()),this.buf.advance(1);return i}case 7:return this.decodeFloat(n);default:ut.error("unhandled type",e);break}}decodeArray(e){const n=this.decodeEntriesLeft(e),s=[];for(let i=0;i<n();i++)s.push(this.decode());return s}decodeMap(e){const n=this.decodeEntriesLeft(e),s={};for(let i=0;i<n();i++){const r=this.decode(),o=this.decode();s[r]=o}return s}decodeEntriesLeft(e){let n=0;return e!=31&&(n=this.decodeRaw(e)),()=>{if(n)return n;if(this.buf.remaining()<=0)return 0;const{type:s,max:i}=this.decodeType();return s==7&&i==31?(this.buf.advance(1),0):1/0}}decodeSimpleValue(e){switch(e){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;default:return e}}decodeFloat16(e){const n=(e&31744)>>10,s=e&1023;return(e>>15?-1:1)*(n?n===31?s?NaN:1/0:Math.pow(2,n-15)*(1+s/1024):6103515625e-14*(s/1024))}decodeFloat(e){switch(e){case 24:{const n=this.decodeSimpleValue(this.buf.peekUint8());return this.buf.advance(1),n}case 25:{const n=this.buf.peekUint16();return this.buf.advance(2),this.decodeFloat16(n)}case 26:{const n=[this.buf.peekUint8(),this.buf.peekUint8(),this.buf.peekUint8(),this.buf.peekUint8()],s=this.buf.peekFloat32();this.buf.advance(4);const i=D4[(n[0]&127)<<1|n[1]>>7];return(i*s+(s>0?.5:-.5)>>0)/i}case 27:{const n=this.buf.peekFloat64();return this.buf.advance(8),n}default:{if(e<24)return this.decodeSimpleValue(e);throw new Error("wrong size "+e+" on float")}}}decodeRaw(e){if(e<24)return e;const n=1<<e-24;if(this.buf.remaining()<n)throw new Error("EOF");let s=0;for(let i=n-1;i>=0;i--){const r=this.buf.peekUint8();this.buf.advance(1),s|=r<<i*8}return s>>>0}decodeType(){if(this.buf.remaining()<=0)throw new Error("EOF");const e=this.buf.peekUint8();return{type:(e&LU)>>O4,max:e&L4}}}class Up{static encode(e){return new DU().encode(e)}static decode(e){const n=[],s=new NU(e);for(;!s.isEOF();)try{n.push(s.decode())}catch(i){if(i.message!="EOF")throw i}return n}}var $1;(function(t){t[t.UsbCdcAcm=0]="UsbCdcAcm"})($1||($1={}));const UU=32,$U=34,FU=35,eE=255,BU=8,HU="none",GU=1,zU=[16,8,7,6,5],VU=[1,2],jU=["none","even","odd"],WU=["none","odd","even"],qU=[1,1.5,2],F1={protocol:$1.UsbCdcAcm,usbControlInterfaceClass:2,usbTransferInterfaceClass:10};function tE(t,e){const n=t.configurations[0];for(const s of n.interfaces)if(s.alternates[0].interfaceClass===e)return s;throw new TypeError(`Unable to find interface with class ${e}.`)}function nE(t,e){const n=t.alternates[0];for(const s of n.endpoints)if(s.direction==e)return s;throw new TypeError(`Interface ${t.interfaceNumber} does not have an ${e} endpoint.`)}class XU{constructor(e,n,s){this.type="bytes",this.device_=e,this.endpoint_=n,this.onError_=s}pull(e){(async()=>{var n;const s=e.desiredSize||this.endpoint_.packetSize;let i=Math.ceil(s/this.endpoint_.packetSize);try{for(;i;){const r=await this.device_.transferIn(this.endpoint_.endpointNumber,this.endpoint_.packetSize);if(r.status!="ok"){e.error(`USB error: ${r.status}`),this.onError_();break}if(!((n=r.data)===null||n===void 0)&&n.buffer&&r.data.byteLength>0){const o=new Uint8Array(r.data.buffer,r.data.byteOffset,r.data.byteLength);e.enqueue(o),i--}}}catch(r){e.error(r.toString()),this.onError_()}})()}}class KU{constructor(e,n,s){this.device_=e,this.endpoint_=n,this.onError_=s}async write(e,n){try{const s=await this.device_.transferOut(this.endpoint_.endpointNumber,e);s.status!="ok"&&(n.error(s.status),this.onError_())}catch(s){n.error(s.toString()),this.onError_()}}}class sE{constructor(e,n){this.polyfillOptions_=Object.assign(Object.assign({},F1),n),this.outputSignals_={dataTerminalReady:!1,requestToSend:!1,break:!1},this.device_=e,this.controlInterface_=tE(this.device_,this.polyfillOptions_.usbControlInterfaceClass),this.transferInterface_=tE(this.device_,this.polyfillOptions_.usbTransferInterfaceClass),this.inEndpoint_=nE(this.transferInterface_,"in"),this.outEndpoint_=nE(this.transferInterface_,"out")}get readable(){var e;return!this.readable_&&this.device_.opened&&(this.readable_=new ReadableStream(new XU(this.device_,this.inEndpoint_,()=>{this.readable_=null}),{highWaterMark:(e=this.serialOptions_.bufferSize)!==null&&e!==void 0?e:eE})),this.readable_}get writable(){var e;return!this.writable_&&this.device_.opened&&(this.writable_=new WritableStream(new KU(this.device_,this.outEndpoint_,()=>{this.writable_=null}),new ByteLengthQueuingStrategy({highWaterMark:(e=this.serialOptions_.bufferSize)!==null&&e!==void 0?e:eE}))),this.writable_}async open(e){this.serialOptions_=e,this.validateOptions();try{await this.device_.open(),this.device_.configuration===null&&await this.device_.selectConfiguration(1),await this.device_.claimInterface(this.controlInterface_.interfaceNumber),this.controlInterface_!==this.transferInterface_&&await this.device_.claimInterface(this.transferInterface_.interfaceNumber),await this.setLineCoding(),await this.setSignals({dataTerminalReady:!0})}catch(n){throw this.device_.opened&&await this.device_.close(),new Error("Error setting up device: "+n.toString())}}async close(){const e=[];this.readable_&&e.push(this.readable_.cancel()),this.writable_&&e.push(this.writable_.abort()),await Promise.all(e),this.readable_=null,this.writable_=null,this.device_.opened&&(await this.setSignals({dataTerminalReady:!1,requestToSend:!1}),await this.device_.close())}async forget(){return this.device_.forget()}getInfo(){return{usbVendorId:this.device_.vendorId,usbProductId:this.device_.productId}}reconfigure(e){return this.serialOptions_=Object.assign(Object.assign({},this.serialOptions_),e),this.validateOptions(),this.setLineCoding()}async setSignals(e){if(this.outputSignals_=Object.assign(Object.assign({},this.outputSignals_),e),e.dataTerminalReady!==void 0||e.requestToSend!==void 0){const n=(this.outputSignals_.dataTerminalReady?1:0)|(this.outputSignals_.requestToSend?2:0);await this.device_.controlTransferOut({requestType:"class",recipient:"interface",request:$U,value:n,index:this.controlInterface_.interfaceNumber})}if(e.break!==void 0){const n=this.outputSignals_.break?65535:0;await this.device_.controlTransferOut({requestType:"class",recipient:"interface",request:FU,value:n,index:this.controlInterface_.interfaceNumber})}}validateOptions(){if(!this.isValidBaudRate(this.serialOptions_.baudRate))throw new RangeError("invalid Baud Rate "+this.serialOptions_.baudRate);if(!this.isValidDataBits(this.serialOptions_.dataBits))throw new RangeError("invalid dataBits "+this.serialOptions_.dataBits);if(!this.isValidStopBits(this.serialOptions_.stopBits))throw new RangeError("invalid stopBits "+this.serialOptions_.stopBits);if(!this.isValidParity(this.serialOptions_.parity))throw new RangeError("invalid parity "+this.serialOptions_.parity)}isValidBaudRate(e){return e%1===0}isValidDataBits(e){return typeof e>"u"?!0:zU.includes(e)}isValidStopBits(e){return typeof e>"u"?!0:VU.includes(e)}isValidParity(e){return typeof e>"u"?!0:jU.includes(e)}async setLineCoding(){var e,n,s;const i=new ArrayBuffer(7),r=new DataView(i);if(r.setUint32(0,this.serialOptions_.baudRate,!0),r.setUint8(4,qU.indexOf((e=this.serialOptions_.stopBits)!==null&&e!==void 0?e:GU)),r.setUint8(5,WU.indexOf((n=this.serialOptions_.parity)!==null&&n!==void 0?n:HU)),r.setUint8(6,(s=this.serialOptions_.dataBits)!==null&&s!==void 0?s:BU),(await this.device_.controlTransferOut({requestType:"class",recipient:"interface",request:UU,value:0,index:this.controlInterface_.interfaceNumber},i)).status!="ok")throw new DOMException("NetworkError","Failed to set line coding.")}}let YU=class{async requestPort(e,n){n=Object.assign(Object.assign({},F1),n);const s=[];if(e&&e.filters)for(const o of e.filters){const a={classCode:n.usbControlInterfaceClass};o.usbVendorId!==void 0&&(a.vendorId=o.usbVendorId),o.usbProductId!==void 0&&(a.productId=o.usbProductId),s.push(a)}s.length===0&&s.push({classCode:n.usbControlInterfaceClass});const i=await navigator.usb.requestDevice({filters:s});return new sE(i,n)}async getPorts(e){e=Object.assign(Object.assign({},F1),e);const n=await navigator.usb.getDevices(),s=[];return n.forEach(i=>{try{const r=new sE(i,e);s.push(r)}catch{}}),s}};const ZU=new YU,Cc=navigator.serial?navigator.serial:ZU,JU=/(android)/i.test(navigator.userAgent),QU={baudRate:921600,bufferSize:4*1024*1024,updateInterval:1e3},e$={baudRate:921600,bufferSize:4*1024*1024,updateInterval:250},ac={websocketUrl(){return new URL(document.location.toString()).searchParams.get("ws")},serial:JU?QU:e$},t$="S",n$="R",iE=[{usbVendorId:1155,usbProductId:22336},{usbVendorId:11836,usbProductId:22336}],rE=()=>{};class oE extends TransformStream{constructor(){super({transform:(n,s)=>{for(const i of n){const r=this.push(i);r&&s.enqueue(r)}}});Z(this,"state",0);Z(this,"header",{cmd:0,flag:0,len:0});Z(this,"payload",new Uint8Array(0));Z(this,"offset",0)}push(n){switch(this.state){case 0:n==T4&&(this.state=1);break;case 1:this.header.cmd=n&31,this.header.flag=n>>5,this.state=2;break;case 2:this.header.len=n<<8,this.state=3;break;case 3:if(this.header.len|=n,this.offset=0,this.payload=new Uint8Array(this.header.len),this.state=4,this.header.len==0)return this.state=0,{...this.header,payload:this.payload};break;case 4:if(this.payload[this.offset++]=n,this.offset<this.header.len)break;return this.state=0,{...this.header,payload:this.payload}}}}let s$=class{constructor(){Z(this,"waitingCommands",Promise.resolve({}));Z(this,"port");Z(this,"ws");Z(this,"writer");Z(this,"reader");Z(this,"transfromClosed");Z(this,"errorCallback")}async connect(e=console.warn){const n=ac.websocketUrl();if(n)await this._connectWebsocket(n,e);else{const s=await Cc.requestPort({filters:iE});await this._connectPort(s,e)}return await this.get(ln.Info,1e4)}async connectFirstPort(e=console.warn){const n=ac.websocketUrl();if(n)await this._connectWebsocket(n,e);else{const s=await Cc.getPorts();if(!s.length)throw new Error("no ports");await this._connectPort(s[0],e)}return await this.get(ln.Info,1e4)}async _connectPort(e,n=console.warn){if(this.port=e,!this.port)return;await this.port.open({baudRate:ac.serial.baudRate,bufferSize:ac.serial.bufferSize,flowControl:"none"}),this.errorCallback=n,this.waitingCommands=Promise.resolve({});const s=new oE;this.transfromClosed=this.port.readable.pipeTo(s.writable),this.writer=await this.port.writable.getWriter(),this.reader=s.readable.getReader()}async _connectWebsocket(e,n=console.warn){const s=new oE,i=s.writable.getWriter();return this.reader=s.readable.getReader(),this.errorCallback=n,this.waitingCommands=Promise.resolve({}),this.transfromClosed=Promise.resolve({}),new Promise((r,o)=>{this.ws=new WebSocket("wss://"+e+"/ws"),this.ws.binaryType="arraybuffer",this.ws.onopen=a=>{r()},this.ws.onmessage=async a=>{try{i.write(new Uint8Array(a.data))}catch(l){n(l)}},this.ws.onclose=a=>{n(a),this.close()},this.ws.onerror=a=>{n(a),o(a)}})}async softReboot(){await this.write(O_(t$)),await this.close()}async hardReboot(){if(this.port)throw new Error("port already connected");const e=await Cc.requestPort({filters:iE});await this._connectPort(e);const n=await this.get(ln.Target,500).then(s=>s.name).catch(()=>{});return await zi(100),await this.write(O_(n$)),await zi(100),await this.write(O_(`\r
bl\r
`)),await this.close(),n}async get(e,n){const s=await this._command(Nn.Get,rE,n,[e]);if(s.payload[0]!=e)throw new Error("invalid value");if(s.payload.length<2)throw new Error("no payload");return s.payload.length==2?s.payload[1]:s.payload.slice(1)}async set(e,...n){const s=await this.command(Nn.Set,e,...n);if(s.payload[0]!=e)throw new Error("invalid value");if(s.payload.length<2)throw new Error("no payload");return s.payload.length==2?s.payload[1]:s.payload.slice(1)}async command(e,...n){return this._command(e,rE,void 0,n)}async commandProgress(e,n,...s){return this._command(e,n,void 0,s)}async close(){var e,n,s,i,r,o;try{await((e=this.reader)==null?void 0:e.cancel().catch(console.warn)),await(this.transfromClosed||Promise.resolve()).catch(console.warn),(n=this.reader)==null||n.releaseLock()}catch(a){ut.warn("serial",a)}try{await((s=this.writer)==null?void 0:s.close()),(i=this.writer)==null||i.releaseLock()}catch(a){ut.warn("serial",a)}await((r=this.port)==null?void 0:r.close().catch(console.warn)),(o=this.ws)==null||o.close(),this.reader=void 0,this.writer=void 0,this.transfromClosed=void 0,this.port=void 0,this.ws=void 0}async _command(e,n,s,i){return this.waitingCommands=this.waitingCommands.then(()=>this.send(e,n,s,i)).then(r=>{if(r.cmd!=e)throw new Error("invalid command");if(r.flag&Dp.Error)throw new Error(r.payload[0]);return r}).catch(r=>{throw this.errorCallback&&this.errorCallback(r),r})}async write(e){var n;if(this.ws)await((n=this.ws)==null?void 0:n.send(e));else if(this.writer)await this.writer.write(e);else throw new Error("no serial writer")}async send(e,n,s,i){const r=this.encodeValues(i),o=Uint8Array.from([T4,e,r.length>>8&255,r.length&255]);ut.trace("serial","[quic] sent cmd:",e,"len:",r.length,i),await this.write(Wd(o,r));let a=await this.readPacket(n,s);for(;a.cmd==Nn.Log;)ut.info("serial","[quic] "+a.payload[0]),a=await this.readPacket(n,s);return ut.trace("serial","[quic] recv cmd:",a.cmd,"flag:",a.flag,"len:",a.len,a.payload),a}encodeValues(e){let n=new Uint8Array;for(const s of e){const i=Up.encode(s);n=Wd(n,i)}return n}async readPacket(e,n){if(!this.reader)throw new Error("no serial reader");const s=[this.reader.read().then(l=>l.value)];n&&s.push(new Promise((l,c)=>setTimeout(()=>c("timeout"),n)));const i=await Promise.race(s);if(!i)throw new Error("no packet");if(i.cmd>=Nn.Max||i.cmd==Nn.Invalid)throw new Error("invalid command");if(!(i.flag&Dp.Streaming))return{...i,payload:Up.decode(i.payload)};const r=new Iv;r.writeUint8s(i.payload),ut.trace("serial","[quic] recv stream chunk",r.length),e(r.length);const o=i.cmd;for(;r;){const{value:l}=await this.reader.read();if(!l)throw new Error("no packet");if(l.cmd!=o||!(l.flag&Dp.Streaming))throw new Error("invalid command");if(l.len==0)break;r.writeUint8s(l.payload),ut.trace("serial","[quic] recv stream chunk",r.length),e(r.length)}const a=Up.decode(r.array());return{...i,payload:a}}};const bt=new s$,tn=es("root",{state:()=>({needs_apply:!1,needs_reboot:!1,alerts:[],pid_rate_presets:[]}),actions:{append_alert(t){this.alerts=[...this.alerts,{id:Date.now().toString()+"-"+this.alerts.length.toString(),...t}]},pop_alert(t){this.alerts=[...this.alerts.filter(e=>e.id!=t)]},set_needs_apply(){this.needs_apply=!0},set_needs_reboot(){this.needs_apply=!0,this.needs_reboot=!0},reset_needs_apply(){this.needs_apply=!1},reset_needs_reboot(){this.needs_apply=!1,this.needs_reboot=!1},fetch_pid_rate_presets(){return bt.get(ln.PidRatePresets).then(t=>this.pid_rate_presets=t)},cal_imu(){return bt.command(Nn.CalImu)},cal_sticks(){return bt.command(Nn.CalSticks)}}}),i$=it({name:"AlterPortal",setup(){return{root:tn()}},data(){return{timeouts:{}}},watch:{"root.alerts"(t,e){if(t.length<=e.length)return;const n=t[t.length-1].id;this.timeouts[n]=window.setTimeout(()=>{this.root.pop_alert(n),delete this.timeouts[n]},2500)}},methods:{dismiss(t){clearTimeout(this.timeouts[t]),this.root.pop_alert(t),delete this.timeouts[t]}}}),ct=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},r$={class:"alert-portal"},o$=["onClick"];function a$(t,e,n,s,i,r){return Q(),re("div",r$,[J(hL,{name:"alert",tag:"div"},{default:tt(()=>[(Q(!0),re(ot,null,Bt(t.root.alerts,o=>(Q(),re("div",{key:o.id,class:cs(["notification",["is-"+o.type]])},[m("button",{class:"delete",onClick:a=>t.dismiss(o.id)},null,8,o$),we(" "+Fe(o.msg),1)],2))),128))]),_:1})])}const l$=ct(i$,[["render",a$]]),c$=it({name:"ModalPortal"}),u$={class:"modal-portal"},d$={key:0,class:"modal is-active"},f$=m("div",{class:"modal-background"},null,-1);function h$(t,e,n,s,i,r){return Q(),re("div",u$,[t.$modal.isShown?(Q(),re("div",d$,[f$,(Q(),Vt(QO(t.$modal.component),mg(t.$modal.props,{onClose:e[0]||(e[0]=o=>t.$modal.close(o))}),null,16))])):Ve("",!0)])}const p$=ct(c$,[["render",h$]]),m$=it({name:"SelectModal",props:["options","title"],data(){return{value:void 0}}}),g$={class:"modal-card"},_$={class:"modal-card-head"},y$={class:"modal-card-title"},b$={class:"modal-card-body"},v$={class:"select is-fullwidth is-multiple select-list"},w$={class:"control"},x$=["value"],E$={class:"modal-card-foot"},S$=["disabled"];function T$(t,e,n,s,i,r){return Q(),re("div",g$,[m("header",_$,[m("p",y$,"Select "+Fe(t.title),1),m("button",{class:"delete has-background-primary","aria-label":"close",onClick:e[0]||(e[0]=o=>t.$emit("close"))})]),m("section",b$,[m("div",v$,[m("div",w$,[qe(m("select",{"onUpdate:modelValue":e[1]||(e[1]=o=>t.value=o),size:"8"},[(Q(!0),re(ot,null,Bt(t.options,o=>(Q(),re("option",{key:o.value,value:o.value},Fe(o.text),9,x$))),128))],512),[[yg,t.value]])])])]),m("footer",E$,[m("button",{class:"button",onClick:e[2]||(e[2]=o=>t.$emit("close"))},"Cancel"),m("button",{class:"button is-success",disabled:t.value==null,onClick:e[3]||(e[3]=o=>t.$emit("close",t.value))}," Select ",8,S$)])])}const aE=ct(m$,[["render",T$]]);var N4=(t=>(t[t.BRUSHLESS=2]="BRUSHLESS",t[t.OSD=4]="OSD",t[t.BLACKBOX=8]="BLACKBOX",t[t.DEBUG=16]="DEBUG",t))(N4||{}),U4=(t=>(t[t.ROTATE_NONE=0]="ROTATE_NONE",t[t.ROTATE_45_CCW=1]="ROTATE_45_CCW",t[t.ROTATE_45_CW=2]="ROTATE_45_CW",t[t.ROTATE_90_CW=4]="ROTATE_90_CW",t[t.ROTATE_90_CCW=8]="ROTATE_90_CCW",t[t.ROTATE_180=16]="ROTATE_180",t[t.FLIP_180=32]="FLIP_180",t))(U4||{}),$4=(t=>(t[t.INVALID=0]="INVALID",t[t.MPU6000=1]="MPU6000",t[t.MPU6500=2]="MPU6500",t[t.ICM20601=3]="ICM20601",t[t.ICM20602=4]="ICM20602",t[t.ICM20608=5]="ICM20608",t[t.ICM20649=6]="ICM20649",t[t.ICM20689=7]="ICM20689",t[t.ICM42605=8]="ICM42605",t[t.ICM42688P=9]="ICM42688P",t[t.BMI270=10]="BMI270",t))($4||{}),F4=(t=>(t[t.INVALID=0]="INVALID",t[t.MPU6000=1]="MPU6000",t[t.MPU6500=2]="MPU6500",t[t.ICM20601=3]="ICM20601",t[t.ICM20602=4]="ICM20602",t[t.ICM20608=5]="ICM20608",t[t.ICM20689=6]="ICM20689",t[t.ICM42605=7]="ICM42605",t[t.ICM42688P=8]="ICM42688P",t[t.BMI270=9]="BMI270",t[t.BMI323=10]="BMI323",t))(F4||{}),B4=(t=>(t[t.CHANNEL_5=0]="CHANNEL_5",t[t.CHANNEL_6=1]="CHANNEL_6",t[t.CHANNEL_7=2]="CHANNEL_7",t[t.CHANNEL_8=3]="CHANNEL_8",t[t.CHANNEL_9=4]="CHANNEL_9",t[t.CHANNEL_10=5]="CHANNEL_10",t[t.CHANNEL_11=6]="CHANNEL_11",t[t.CHANNEL_12=7]="CHANNEL_12",t[t.CHANNEL_13=8]="CHANNEL_13",t[t.CHANNEL_14=9]="CHANNEL_14",t[t.CHANNEL_15=10]="CHANNEL_15",t[t.CHANNEL_16=11]="CHANNEL_16",t[t.OFF=12]="OFF",t[t.ON=13]="ON",t[t.AUX_GESTURE=14]="AUX_GESTURE",t))(B4||{}),H4=(t=>(t[t.AUX_ARMING=0]="AUX_ARMING",t[t.AUX_IDLE_UP=1]="AUX_IDLE_UP",t[t.AUX_LEVELMODE=2]="AUX_LEVELMODE",t[t.AUX_RACEMODE=3]="AUX_RACEMODE",t[t.AUX_HORIZON=4]="AUX_HORIZON",t[t.AUX_STICK_BOOST_PROFILE=5]="AUX_STICK_BOOST_PROFILE",t[t._AUX_RATE_PROFILE=6]="_AUX_RATE_PROFILE",t[t.AUX_BUZZER_ENABLE=7]="AUX_BUZZER_ENABLE",t[t.AUX_TURTLE=8]="AUX_TURTLE",t[t.AUX_MOTOR_TEST=9]="AUX_MOTOR_TEST",t[t.AUX_RSSI=10]="AUX_RSSI",t[t.AUX_FPV_SWITCH=11]="AUX_FPV_SWITCH",t[t.AUX_BLACKBOX=12]="AUX_BLACKBOX",t))(H4||{}),G4=(t=>(t[t.AUX_ARMING=0]="AUX_ARMING",t[t.AUX_IDLE_UP=1]="AUX_IDLE_UP",t[t.AUX_LEVELMODE=2]="AUX_LEVELMODE",t[t.AUX_RACEMODE=3]="AUX_RACEMODE",t[t.AUX_HORIZON=4]="AUX_HORIZON",t[t.AUX_STICK_BOOST_PROFILE=5]="AUX_STICK_BOOST_PROFILE",t[t._AUX_RATE_PROFILE=6]="_AUX_RATE_PROFILE",t[t.AUX_BUZZER_ENABLE=7]="AUX_BUZZER_ENABLE",t[t.AUX_TURTLE=8]="AUX_TURTLE",t[t.AUX_MOTOR_TEST=9]="AUX_MOTOR_TEST",t[t.AUX_RSSI=10]="AUX_RSSI",t[t.AUX_FPV_SWITCH=11]="AUX_FPV_SWITCH",t[t.AUX_BLACKBOX=12]="AUX_BLACKBOX",t[t.AUX_PREARM=13]="AUX_PREARM",t))(G4||{}),z4=(t=>(t[t.INVALID=0]="INVALID",t[t.UNIFIED_SERIAL=1]="UNIFIED_SERIAL",t[t.SBUS=2]="SBUS",t[t.CRSF=3]="CRSF",t[t.IBUS=4]="IBUS",t[t.FPORT=5]="FPORT",t[t.DSMX_2048=6]="DSMX_2048",t[t.DSM2_1024=7]="DSM2_1024",t[t.NRF24_BAYANG_TELEMETRY=8]="NRF24_BAYANG_TELEMETRY",t[t.BAYANG_PROTOCOL_BLE_BEACON=9]="BAYANG_PROTOCOL_BLE_BEACON",t[t.BAYANG_PROTOCOL_TELEMETRY_AUTOBIND=10]="BAYANG_PROTOCOL_TELEMETRY_AUTOBIND",t[t.FRSKY_D8=11]="FRSKY_D8",t[t.FRSKY_D16=12]="FRSKY_D16",t[t.REDPINE=13]="REDPINE",t[t.EXPRESS_LRS=14]="EXPRESS_LRS",t))(z4||{}),V4=(t=>(t[t.INVALID=0]="INVALID",t[t.UNIFIED_SERIAL=1]="UNIFIED_SERIAL",t[t.SBUS=2]="SBUS",t[t.CRSF=3]="CRSF",t[t.IBUS=4]="IBUS",t[t.FPORT=5]="FPORT",t[t.DSM=6]="DSM",t[t.NRF24_BAYANG_TELEMETRY=7]="NRF24_BAYANG_TELEMETRY",t[t.BAYANG_PROTOCOL_BLE_BEACON=8]="BAYANG_PROTOCOL_BLE_BEACON",t[t.BAYANG_PROTOCOL_TELEMETRY_AUTOBIND=9]="BAYANG_PROTOCOL_TELEMETRY_AUTOBIND",t[t.FRSKY_D8=10]="FRSKY_D8",t[t.FRSKY_D16=11]="FRSKY_D16",t[t.REDPINE=12]="REDPINE",t[t.EXPRESS_LRS=13]="EXPRESS_LRS",t))(V4||{}),j4=(t=>(t[t.INVALID=0]="INVALID",t[t.UNIFIED_SERIAL=1]="UNIFIED_SERIAL",t[t.SBUS=2]="SBUS",t[t.CRSF=3]="CRSF",t[t.IBUS=4]="IBUS",t[t.FPORT=5]="FPORT",t[t.DSM=6]="DSM",t[t.NRF24_BAYANG_TELEMETRY=7]="NRF24_BAYANG_TELEMETRY",t[t.BAYANG_PROTOCOL_BLE_BEACON=8]="BAYANG_PROTOCOL_BLE_BEACON",t[t.BAYANG_PROTOCOL_TELEMETRY_AUTOBIND=9]="BAYANG_PROTOCOL_TELEMETRY_AUTOBIND",t[t.FRSKY_D8=10]="FRSKY_D8",t[t.FRSKY_D16_FCC=11]="FRSKY_D16_FCC",t[t.FRSKY_D16_LBT=12]="FRSKY_D16_LBT",t[t.REDPINE=13]="REDPINE",t[t.EXPRESS_LRS=14]="EXPRESS_LRS",t[t.FLYSKY_AFHDS=15]="FLYSKY_AFHDS",t[t.FLYSKY_AFHDS2A=16]="FLYSKY_AFHDS2A",t))(j4||{}),W4=(t=>(t[t.INVALID=0]="INVALID",t[t.DSM=1]="DSM",t[t.SBUS=2]="SBUS",t[t.IBUS=3]="IBUS",t[t.FPORT=4]="FPORT",t[t.CRSF=5]="CRSF",t[t.REDPINE=6]="REDPINE",t[t.SBUS_INVERTED=7]="SBUS_INVERTED",t[t.FPORT_INVERTED=8]="FPORT_INVERTED",t[t.REDPINE_INVERTED=9]="REDPINE_INVERTED",t))(W4||{}),lc=(t=>(t[t.STICK_WIZARD_INACTIVE=0]="STICK_WIZARD_INACTIVE",t[t.STICK_WIZARD_SUCCESS=1]="STICK_WIZARD_SUCCESS",t[t.STICK_WIZARD_FAILED=2]="STICK_WIZARD_FAILED",t[t.STICK_WIZARD_START=3]="STICK_WIZARD_START",t[t.STICK_WIZARD_CAPTURE_STICKS=4]="STICK_WIZARD_CAPTURE_STICKS",t[t.STICK_WIZARD_WAIT_FOR_CONFIRM=5]="STICK_WIZARD_WAIT_FOR_CONFIRM",t[t.STICK_WIZARD_CONFIRMED=6]="STICK_WIZARD_CONFIRMED",t[t.STICK_WIZARD_TIMEOUT=7]="STICK_WIZARD_TIMEOUT",t))(lc||{}),q4=(t=>(t[t.FAILLOOP_NONE=0]="FAILLOOP_NONE",t[t.FAILLOOP_LOW_BATTERY=2]="FAILLOOP_LOW_BATTERY",t[t.FAILLOOP_RADIO=3]="FAILLOOP_RADIO",t[t.FAILLOOP_GYRO=4]="FAILLOOP_GYRO",t[t.FAILLOOP_FAULT=5]="FAILLOOP_FAULT",t[t.FAILLOOP_LOOPTIME=6]="FAILLOOP_LOOPTIME",t[t.FAILLOOP_SPI=7]="FAILLOOP_SPI",t[t.FAILLOOP_SPI_MAIN=8]="FAILLOOP_SPI_MAIN",t))(q4||{}),Ze=(t=>(t[t.LOOP=0]="LOOP",t[t.TIME=1]="TIME",t[t.PID_P_TERM=2]="PID_P_TERM",t[t.PID_I_TERM=3]="PID_I_TERM",t[t.PID_D_TERM=4]="PID_D_TERM",t[t.RX=5]="RX",t[t.SETPOINT=6]="SETPOINT",t[t.ACCEL_RAW=7]="ACCEL_RAW",t[t.ACCEL_FILTER=8]="ACCEL_FILTER",t[t.GYRO_RAW=9]="GYRO_RAW",t[t.GYRO_FILTER=10]="GYRO_FILTER",t[t.MOTOR=11]="MOTOR",t[t.CPU_LOAD=12]="CPU_LOAD",t[t.DEBUG=13]="DEBUG",t))(Ze||{}),X4=(t=>(t[t.PACKET_RATE=0]="PACKET_RATE",t[t.CHANNEL=1]="CHANNEL",t[t.DIRECT=2]="DIRECT",t))(X4||{});const A$={0:"",2:"low battery at powerup - currently unused",3:"radio chip not found",4:"gyro not found",5:"clock, intterrupts, systick, gcc bad code, bad memory access (code issues like bad pointers) - this should not come up",6:"loop time issue - if loop time exceeds 20mS",7:"spi error  - triggered by hardware spi driver only",8:"spi error main loop  - triggered by hardware spi driver only"},la=es("constant",{state:()=>({Features:N4,GyroRotation:U4,AuxChannels:B4,RXSerialProtocol:W4,StickWizardState:lc,Failloop:q4,LQISource:X4}),getters:{RXProtocol(){const t=hn();return Ss.gt(t.quic_protocol_semver,"0.1.0")?j4:t.quic_protocol_version>5?V4:z4},AuxFunctions(){const t=hn();return Ss.gt(t.quic_protocol_semver,"0.1.0")?G4:H4},GyroType(){const t=hn();return Ss.gt(t.quic_protocol_semver,"0.2.0")?F4:$4}},actions:{}}),Ms=es("state",{state:()=>({looptime_autodetect:0,cpu_load:0,cpu_temp:0,vbat_filtered:0,vbattfilt:null,ibat_filtered:0,ibat_drawn:0,rx:[],rx_filtered:[],rx_status:0,rx_rssi:0,GEstG:null,accel:null,aux:[],stick_calibration_wizard:0,failloop:0,pidoutput:null,accel_raw:null,gyro:null,gyro_raw:null}),getters:{vbat(t){return t.vbattfilt||t.vbat_filtered},failloopMessage(t){return A$[t.failloop]}},actions:{fetch_state(){return bt.get(ln.State).then(t=>this.$patch(t)).catch(t=>ut.warn("state",t))}}});function Ag(t){return t!==String(parseFloat(t))}function M$(t){return Object.getOwnPropertyNames(t).filter(function(e){return t.propertyIsEnumerable(e)&&Ag(e)})}function R$(t){return Object.keys(t).filter(Ag)}function C$(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&t.propertyIsEnumerable(n)&&Ag(n)&&e.push(n);return e}var k$=Object.getOwnPropertyNames?M$:Object.keys?R$:C$,K4=function(){function t(e){this.enumObj=e,this.keysList=Object.freeze(k$(e));for(var n=this.keysList.length,s=new Array(n),i=new Map,r=0;r<n;++r){var o=this.keysList[r],a=e[o];s[r]=a,i.set(a,o),this[r]=Object.freeze([o,a])}this.valuesList=Object.freeze(s),this.keysByValueMap=i,this.size=this.length=n,Object.freeze(this)}return t.prototype.toString=function(){return"[object EnumWrapper]"},t.prototype.keys=function(){var e,n=this,s=0;return e={next:function(){var i=s>=n.length,r={done:i,value:n.keysList[s]};return++s,r}},e[Symbol.iterator]=function(){return this},e},t.prototype.values=function(){var e,n=this,s=0;return e={next:function(){var i=s>=n.length,r={done:i,value:n.valuesList[s]};return++s,r}},e[Symbol.iterator]=function(){return this},e},t.prototype.entries=function(){var e,n=this,s=0;return e={next:function(){var i=s>=n.length,r={done:i,value:n[s]};return++s,r}},e[Symbol.iterator]=function(){return this},e},t.prototype[Symbol.iterator]=function(){return this.entries()},t.prototype.forEach=function(e,n){for(var s=this.length,i=0;i<s;++i){var r=this[i];e.call(n,r[1],r[0],this,i)}},t.prototype.map=function(e,n){for(var s=this.length,i=new Array(s),r=0;r<s;++r){var o=this[r];i[r]=e.call(n,o[1],o[0],this,r)}return i},t.prototype.getKeys=function(){return this.keysList.slice()},t.prototype.getValues=function(){return this.valuesList.slice()},t.prototype.getEntries=function(){return Array.prototype.slice.call(this)},t.prototype.indexOfKey=function(e){return this.keysList.indexOf(e)},t.prototype.indexOfValue=function(e){return this.valuesList.indexOf(e)},t.prototype.isKey=function(e){return e!=null&&Ag(e)&&this.enumObj.hasOwnProperty(e)},t.prototype.asKeyOrThrow=function(e){if(this.isKey(e))return e;throw new Error("Unexpected key: "+e+". Expected one of: "+this.getValues())},t.prototype.asKeyOrDefault=function(e,n){return this.isKey(e)?e:n},t.prototype.isValue=function(e){return e!=null&&this.keysByValueMap.has(e)},t.prototype.asValueOrThrow=function(e){if(this.isValue(e))return e;throw new Error("Unexpected value: "+e+". Expected one of: "+this.getValues())},t.prototype.asValueOrDefault=function(e,n){return this.isValue(e)?e:n},t.prototype.getKeyOrThrow=function(e){var n=e!=null?this.keysByValueMap.get(e):void 0;if(n!=null)return n;throw new Error("Unexpected value: "+e+". Expected one of: "+this.getValues())},t.prototype.getKeyOrDefault=function(e,n){var s=e!=null?this.keysByValueMap.get(e):void 0;return s??n},t.prototype.getValueOrThrow=function(e){return this.enumObj[this.asKeyOrThrow(e)]},t.prototype.getValueOrDefault=function(e,n){return this.isKey(e)?this.enumObj[e]:n},t.prototype.createEnumSubset=function(){for(var e=this,n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return n.reduce(function(i,r){return i[r]=e.enumObj[r],i},{})},t}();K4.prototype[Symbol.toStringTag]="EnumWrapper";var Ov=Symbol("ts-enum-util:unhandledEntry"),hf=Symbol("ts-enum-util:handleNull"),pf=Symbol("ts-enum-util:handleUndefined"),qs=Symbol("ts-enum-util:handleUnexpected");function Y4(t){return new Error("Unhandled value: "+t)}var P$=function(){function t(e){this.value=e}return t.prototype.with=function(e){if(e.hasOwnProperty(this.value)){var n=e[this.value];return eu(n,this.value)}else{if(e[qs])return eu(e[qs],this.value);throw new Error("Unexpected value: "+this.value)}},t}(),I$=function(){function t(){}return t.prototype.with=function(e){if(e[hf])return eu(e[hf],null);if(e[qs])return eu(e[qs],null);throw new Error("Unexpected value: null")},t}(),O$=function(){function t(){}return t.prototype.with=function(e){if(e[pf])return eu(e[pf],void 0);if(e[qs])return eu(e[qs],void 0);throw new Error("Unexpected value: undefined")},t}();function eu(t,e){if(t===Ov)throw Y4(e);return t(e)}var L$=function(){function t(e){this.value=e}return t.prototype.with=function(e){if(e.hasOwnProperty(this.value))return tu(e[this.value],this.value);if(e.hasOwnProperty(qs))return tu(e[qs],this.value);throw new Error("Unexpected value: "+this.value)},t}(),D$=function(){function t(){}return t.prototype.with=function(e){if(e.hasOwnProperty(hf))return tu(e[hf],null);if(e.hasOwnProperty(qs))return tu(e[qs],null);throw new Error("Unexpected value: null")},t}(),N$=function(){function t(){}return t.prototype.with=function(e){if(e.hasOwnProperty(pf))return tu(e[pf],void 0);if(e.hasOwnProperty(qs))return tu(e[qs],void 0);throw new Error("Unexpected value: undefined")},t}();function tu(t,e){if(t===Ov)throw Y4(e);return t}function U$(t){return t===null?new I$:t===void 0?new O$:new P$(t)}function $$(t){return t===null?new D$:t===void 0?new N$:new L$(t)}var lE=new WeakMap;function Gn(t){var e=lE.get(t);return e||(e=new K4(t),lE.set(t,e)),e}Gn.handleNull=hf;Gn.handleUndefined=pf;Gn.handleUnexpected=qs;Gn.unhandledEntry=Ov;Gn.visitValue=U$;Gn.mapValue=$$;const hn=es("info",{state:()=>({usart_ports:[],motor_pins:[],mcu:"",target_name:"",git_version:"",quic_protocol_version:0,quic_protocol_semver:"v0.0.0",gyro_id:0,gyro_name:"",rx_protocol:0,rx_protocols:[],features:0}),getters:{has_feature(t){return e=>t.features==null?!0:t.features&e},quicVersionGt(t){return e=>Ss.gt(t.quic_protocol_semver,e)},quicVersionGte(t){return e=>Ss.gte(t.quic_protocol_semver,e)},is_read_only(t){const e=Ms();return t.quic_protocol_version<5||e.failloop>0}},actions:{set_info(t){this.$patch(t),this.quic_protocol_version&&(this.quic_protocol_semver=Qc(this.quic_protocol_version));const e=la();this.gyro_name=Gn(e.GyroType).getKeys()[this.gyro_id]}}}),Bf=es("default_profile",{state:()=>({serial:{rx:0,smart_audio:0,hdzero:0},filter:{gyro:[{},{}],dterm:[{},{}]},osd:{callsign:"",elements:[],elements_hd:[]},meta:{version:0,datetime:0},motor:{invert_yaw:1},rate:{mode:0,silverware:{},betaflight:{}},voltage:{},receiver:{lqi_source:-1,aux:[]},pid:{pid_profile:0,pid_rates:[{}],stick_profile:0,stick_rates:[{}],big_angle:{},small_angle:{},throttle_dterm_attenuation:{}}}),getters:{has_legacy_stickrates(t){return Ss.lte(Qc(t.meta.version),"v0.1.0")},has_legacy_osd(t){return Ss.lte(Qc(t.meta.version),"v0.1.0")}},actions:{fetch_default_profile(){return bt.get(ln.DefaultProfile).then(t=>{t.meta.name=t.meta.name.replace(/\0/g,""),this.$patch(t)})}}});var Z4={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(Ji,function(){var n=1e3,s=6e4,i=36e5,r="millisecond",o="second",a="minute",l="hour",c="day",u="week",d="month",f="quarter",h="year",y="date",_="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(O){var P=["th","st","nd","rd"],k=O%100;return"["+O+(P[(k-20)%10]||P[k]||P[0])+"]"}},v=function(O,P,k){var F=String(O);return!F||F.length>=P?O:""+Array(P+1-F.length).join(k)+O},w={s:v,z:function(O){var P=-O.utcOffset(),k=Math.abs(P),F=Math.floor(k/60),I=k%60;return(P<=0?"+":"-")+v(F,2,"0")+":"+v(I,2,"0")},m:function O(P,k){if(P.date()<k.date())return-O(k,P);var F=12*(k.year()-P.year())+(k.month()-P.month()),I=P.clone().add(F,d),ee=k-I<0,Y=P.clone().add(F+(ee?-1:1),d);return+(-(F+(k-I)/(ee?I-Y:Y-I))||0)},a:function(O){return O<0?Math.ceil(O)||0:Math.floor(O)},p:function(O){return{M:d,y:h,w:u,d:c,D:y,h:l,m:a,s:o,ms:r,Q:f}[O]||String(O||"").toLowerCase().replace(/s$/,"")},u:function(O){return O===void 0}},A="en",x={};x[A]=b;var T="$isDayjsObject",M=function(O){return O instanceof N||!(!O||!O[T])},E=function O(P,k,F){var I;if(!P)return A;if(typeof P=="string"){var ee=P.toLowerCase();x[ee]&&(I=ee),k&&(x[ee]=k,I=ee);var Y=P.split("-");if(!I&&Y.length>1)return O(Y[0])}else{var me=P.name;x[me]=P,I=me}return!F&&I&&(A=I),I||!F&&A},S=function(O,P){if(M(O))return O.clone();var k=typeof P=="object"?P:{};return k.date=O,k.args=arguments,new N(k)},C=w;C.l=E,C.i=M,C.w=function(O,P){return S(O,{locale:P.$L,utc:P.$u,x:P.$x,$offset:P.$offset})};var N=function(){function O(k){this.$L=E(k.locale,null,!0),this.parse(k),this.$x=this.$x||k.x||{},this[T]=!0}var P=O.prototype;return P.parse=function(k){this.$d=function(F){var I=F.date,ee=F.utc;if(I===null)return new Date(NaN);if(C.u(I))return new Date;if(I instanceof Date)return new Date(I);if(typeof I=="string"&&!/Z$/i.test(I)){var Y=I.match(p);if(Y){var me=Y[2]-1||0,ge=(Y[7]||"0").substring(0,3);return ee?new Date(Date.UTC(Y[1],me,Y[3]||1,Y[4]||0,Y[5]||0,Y[6]||0,ge)):new Date(Y[1],me,Y[3]||1,Y[4]||0,Y[5]||0,Y[6]||0,ge)}}return new Date(I)}(k),this.init()},P.init=function(){var k=this.$d;this.$y=k.getFullYear(),this.$M=k.getMonth(),this.$D=k.getDate(),this.$W=k.getDay(),this.$H=k.getHours(),this.$m=k.getMinutes(),this.$s=k.getSeconds(),this.$ms=k.getMilliseconds()},P.$utils=function(){return C},P.isValid=function(){return this.$d.toString()!==_},P.isSame=function(k,F){var I=S(k);return this.startOf(F)<=I&&I<=this.endOf(F)},P.isAfter=function(k,F){return S(k)<this.startOf(F)},P.isBefore=function(k,F){return this.endOf(F)<S(k)},P.$g=function(k,F,I){return C.u(k)?this[F]:this.set(I,k)},P.unix=function(){return Math.floor(this.valueOf()/1e3)},P.valueOf=function(){return this.$d.getTime()},P.startOf=function(k,F){var I=this,ee=!!C.u(F)||F,Y=C.p(k),me=function(Te,ke){var ze=C.w(I.$u?Date.UTC(I.$y,ke,Te):new Date(I.$y,ke,Te),I);return ee?ze:ze.endOf(c)},ge=function(Te,ke){return C.w(I.toDate()[Te].apply(I.toDate("s"),(ee?[0,0,0,0]:[23,59,59,999]).slice(ke)),I)},Ce=this.$W,le=this.$M,_e=this.$D,Ie="set"+(this.$u?"UTC":"");switch(Y){case h:return ee?me(1,0):me(31,11);case d:return ee?me(1,le):me(0,le+1);case u:var ne=this.$locale().weekStart||0,Me=(Ce<ne?Ce+7:Ce)-ne;return me(ee?_e-Me:_e+(6-Me),le);case c:case y:return ge(Ie+"Hours",0);case l:return ge(Ie+"Minutes",1);case a:return ge(Ie+"Seconds",2);case o:return ge(Ie+"Milliseconds",3);default:return this.clone()}},P.endOf=function(k){return this.startOf(k,!1)},P.$set=function(k,F){var I,ee=C.p(k),Y="set"+(this.$u?"UTC":""),me=(I={},I[c]=Y+"Date",I[y]=Y+"Date",I[d]=Y+"Month",I[h]=Y+"FullYear",I[l]=Y+"Hours",I[a]=Y+"Minutes",I[o]=Y+"Seconds",I[r]=Y+"Milliseconds",I)[ee],ge=ee===c?this.$D+(F-this.$W):F;if(ee===d||ee===h){var Ce=this.clone().set(y,1);Ce.$d[me](ge),Ce.init(),this.$d=Ce.set(y,Math.min(this.$D,Ce.daysInMonth())).$d}else me&&this.$d[me](ge);return this.init(),this},P.set=function(k,F){return this.clone().$set(k,F)},P.get=function(k){return this[C.p(k)]()},P.add=function(k,F){var I,ee=this;k=Number(k);var Y=C.p(F),me=function(le){var _e=S(ee);return C.w(_e.date(_e.date()+Math.round(le*k)),ee)};if(Y===d)return this.set(d,this.$M+k);if(Y===h)return this.set(h,this.$y+k);if(Y===c)return me(1);if(Y===u)return me(7);var ge=(I={},I[a]=s,I[l]=i,I[o]=n,I)[Y]||1,Ce=this.$d.getTime()+k*ge;return C.w(Ce,this)},P.subtract=function(k,F){return this.add(-1*k,F)},P.format=function(k){var F=this,I=this.$locale();if(!this.isValid())return I.invalidDate||_;var ee=k||"YYYY-MM-DDTHH:mm:ssZ",Y=C.z(this),me=this.$H,ge=this.$m,Ce=this.$M,le=I.weekdays,_e=I.months,Ie=I.meridiem,ne=function(ke,ze,V,B){return ke&&(ke[ze]||ke(F,ee))||V[ze].slice(0,B)},Me=function(ke){return C.s(me%12||12,ke,"0")},Te=Ie||function(ke,ze,V){var B=ke<12?"AM":"PM";return V?B.toLowerCase():B};return ee.replace(g,function(ke,ze){return ze||function(V){switch(V){case"YY":return String(F.$y).slice(-2);case"YYYY":return C.s(F.$y,4,"0");case"M":return Ce+1;case"MM":return C.s(Ce+1,2,"0");case"MMM":return ne(I.monthsShort,Ce,_e,3);case"MMMM":return ne(_e,Ce);case"D":return F.$D;case"DD":return C.s(F.$D,2,"0");case"d":return String(F.$W);case"dd":return ne(I.weekdaysMin,F.$W,le,2);case"ddd":return ne(I.weekdaysShort,F.$W,le,3);case"dddd":return le[F.$W];case"H":return String(me);case"HH":return C.s(me,2,"0");case"h":return Me(1);case"hh":return Me(2);case"a":return Te(me,ge,!0);case"A":return Te(me,ge,!1);case"m":return String(ge);case"mm":return C.s(ge,2,"0");case"s":return String(F.$s);case"ss":return C.s(F.$s,2,"0");case"SSS":return C.s(F.$ms,3,"0");case"Z":return Y}return null}(ke)||Y.replace(":","")})},P.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},P.diff=function(k,F,I){var ee,Y=this,me=C.p(F),ge=S(k),Ce=(ge.utcOffset()-this.utcOffset())*s,le=this-ge,_e=function(){return C.m(Y,ge)};switch(me){case h:ee=_e()/12;break;case d:ee=_e();break;case f:ee=_e()/3;break;case u:ee=(le-Ce)/6048e5;break;case c:ee=(le-Ce)/864e5;break;case l:ee=le/i;break;case a:ee=le/s;break;case o:ee=le/n;break;default:ee=le}return I?ee:C.a(ee)},P.daysInMonth=function(){return this.endOf(d).$D},P.$locale=function(){return x[this.$L]},P.locale=function(k,F){if(!k)return this.$L;var I=this.clone(),ee=E(k,F,!0);return ee&&(I.$L=ee),I},P.clone=function(){return C.w(this.$d,this)},P.toDate=function(){return new Date(this.valueOf())},P.toJSON=function(){return this.isValid()?this.toISOString():null},P.toISOString=function(){return this.$d.toISOString()},P.toString=function(){return this.$d.toUTCString()},O}(),G=N.prototype;return S.prototype=G,[["$ms",r],["$s",o],["$m",a],["$H",l],["$W",c],["$M",d],["$y",h],["$D",y]].forEach(function(O){G[O[1]]=function(P){return this.$g(P,O[0],O[1])}}),S.extend=function(O,P){return O.$i||(O(P,N,S),O.$i=!0),S},S.locale=E,S.isDayjs=M,S.unix=function(O){return S(1e3*O)},S.en=x[A],S.Ls=x,S.p={},S})})(Z4);var F$=Z4.exports;const En=or(F$);var J4={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(Ji,function(){return function(n,s,i){n=n||{};var r=s.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(c,u,d,f){return r.fromToBase(c,u,d,f)}i.en.relativeTime=o,r.fromToBase=function(c,u,d,f,h){for(var y,_,p,g=d.$locale().relativeTime||o,b=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],v=b.length,w=0;w<v;w+=1){var A=b[w];A.d&&(y=f?i(c).diff(d,A.d,!0):d.diff(c,A.d,!0));var x=(n.rounding||Math.round)(Math.abs(y));if(p=y>0,x<=A.r||!A.r){x<=1&&w>0&&(A=b[w-1]);var T=g[A.l];h&&(x=h(""+x)),_=typeof T=="string"?T.replace("%d",x):T(x,u,A.l,p);break}}if(u)return _;var M=p?g.future:g.past;return typeof M=="function"?M(_):M.replace("%s",_)},r.to=function(c,u){return a(c,u,this,!0)},r.from=function(c,u){return a(c,u,this)};var l=function(c){return c.$u?i.utc():i()};r.toNow=function(c){return this.to(l(this),c)},r.fromNow=function(c){return this.from(l(this),c)}}})})(J4);var B$=J4.exports;const H$=or(B$);En.extend(H$);function G$(t){return En(t).fromNow()}function z$(t,e=!1,n=1){const s=e?1e3:1024;if(Math.abs(t)<s)return t+" B";const i=e?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];let r=-1;const o=10**n;do t/=s,++r;while(Math.round(Math.abs(t)*o)/o>=s&&r<i.length-1);return t.toFixed(n)+" "+i[r]}const Lv=Symbol.for("yaml.alias"),B1=Symbol.for("yaml.document"),jo=Symbol.for("yaml.map"),Q4=Symbol.for("yaml.pair"),Gr=Symbol.for("yaml.scalar"),Tu=Symbol.for("yaml.seq"),ui=Symbol.for("yaml.node.type"),yl=t=>!!t&&typeof t=="object"&&t[ui]===Lv,Au=t=>!!t&&typeof t=="object"&&t[ui]===B1,Mu=t=>!!t&&typeof t=="object"&&t[ui]===jo,rn=t=>!!t&&typeof t=="object"&&t[ui]===Q4,Wt=t=>!!t&&typeof t=="object"&&t[ui]===Gr,Ru=t=>!!t&&typeof t=="object"&&t[ui]===Tu;function an(t){if(t&&typeof t=="object")switch(t[ui]){case jo:case Tu:return!0}return!1}function pn(t){if(t&&typeof t=="object")switch(t[ui]){case Lv:case jo:case Gr:case Tu:return!0}return!1}const V$=t=>(Wt(t)||an(t))&&!!t.anchor,vs=Symbol("break visit"),e5=Symbol("skip children"),Qi=Symbol("remove node");function Zo(t,e){const n=t5(e);Au(t)?cc(null,t.contents,n,Object.freeze([t]))===Qi&&(t.contents=null):cc(null,t,n,Object.freeze([]))}Zo.BREAK=vs;Zo.SKIP=e5;Zo.REMOVE=Qi;function cc(t,e,n,s){const i=n5(t,e,n,s);if(pn(i)||rn(i))return s5(t,s,i),cc(t,i,n,s);if(typeof i!="symbol"){if(an(e)){s=Object.freeze(s.concat(e));for(let r=0;r<e.items.length;++r){const o=cc(r,e.items[r],n,s);if(typeof o=="number")r=o-1;else{if(o===vs)return vs;o===Qi&&(e.items.splice(r,1),r-=1)}}}else if(rn(e)){s=Object.freeze(s.concat(e));const r=cc("key",e.key,n,s);if(r===vs)return vs;r===Qi&&(e.key=null);const o=cc("value",e.value,n,s);if(o===vs)return vs;o===Qi&&(e.value=null)}}return i}async function Mg(t,e){const n=t5(e);Au(t)?await uc(null,t.contents,n,Object.freeze([t]))===Qi&&(t.contents=null):await uc(null,t,n,Object.freeze([]))}Mg.BREAK=vs;Mg.SKIP=e5;Mg.REMOVE=Qi;async function uc(t,e,n,s){const i=await n5(t,e,n,s);if(pn(i)||rn(i))return s5(t,s,i),uc(t,i,n,s);if(typeof i!="symbol"){if(an(e)){s=Object.freeze(s.concat(e));for(let r=0;r<e.items.length;++r){const o=await uc(r,e.items[r],n,s);if(typeof o=="number")r=o-1;else{if(o===vs)return vs;o===Qi&&(e.items.splice(r,1),r-=1)}}}else if(rn(e)){s=Object.freeze(s.concat(e));const r=await uc("key",e.key,n,s);if(r===vs)return vs;r===Qi&&(e.key=null);const o=await uc("value",e.value,n,s);if(o===vs)return vs;o===Qi&&(e.value=null)}}return i}function t5(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function n5(t,e,n,s){var i,r,o,a,l;if(typeof n=="function")return n(t,e,s);if(Mu(e))return(i=n.Map)==null?void 0:i.call(n,t,e,s);if(Ru(e))return(r=n.Seq)==null?void 0:r.call(n,t,e,s);if(rn(e))return(o=n.Pair)==null?void 0:o.call(n,t,e,s);if(Wt(e))return(a=n.Scalar)==null?void 0:a.call(n,t,e,s);if(yl(e))return(l=n.Alias)==null?void 0:l.call(n,t,e,s)}function s5(t,e,n){const s=e[e.length-1];if(an(s))s.items[t]=n;else if(rn(s))t==="key"?s.key=n:s.value=n;else if(Au(s))s.contents=n;else{const i=yl(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const j$={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},W$=t=>t.replace(/[!,[\]{}]/g,e=>j$[e]);class os{constructor(e,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},os.defaultYaml,e),this.tags=Object.assign({},os.defaultTags,n)}clone(){const e=new os(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new os(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:os.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},os.defaultTags);break}return e}add(e,n){this.atNextDocument&&(this.yaml={explicit:os.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},os.defaultTags),this.atNextDocument=!1);const s=e.trim().split(/[ \t]+/),i=s.shift();switch(i){case"%TAG":{if(s.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),s.length<2))return!1;const[r,o]=s;return this.tags[r]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,s.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[r]=s;if(r==="1.1"||r==="1.2")return this.yaml.version=r,!0;{const o=/^\d+\.\d+$/.test(r);return n(6,`Unsupported YAML version ${r}`,o),!1}}default:return n(0,`Unknown directive ${i}`,!0),!1}}tagName(e,n){if(e==="!")return"!";if(e[0]!=="!")return n(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const o=e.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}const[,s,i]=e.match(/^(.*!)([^!]*)$/s);i||n(`The ${e} tag has no suffix`);const r=this.tags[s];if(r)try{return r+decodeURIComponent(i)}catch(o){return n(String(o)),null}return s==="!"?e:(n(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[n,s]of Object.entries(this.tags))if(e.startsWith(s))return n+W$(e.substring(s.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],s=Object.entries(this.tags);let i;if(e&&s.length>0&&pn(e.contents)){const r={};Zo(e.contents,(o,a)=>{pn(a)&&a.tag&&(r[a.tag]=!0)}),i=Object.keys(r)}else i=[];for(const[r,o]of s)r==="!!"&&o==="tag:yaml.org,2002:"||(!e||i.some(a=>a.startsWith(o)))&&n.push(`%TAG ${r} ${o}`);return n.join(`
`)}}os.defaultYaml={explicit:!1,version:"1.2"};os.defaultTags={"!!":"tag:yaml.org,2002:"};function i5(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function r5(t){const e=new Set;return Zo(t,{Value(n,s){s.anchor&&e.add(s.anchor)}}),e}function o5(t,e){for(let n=1;;++n){const s=`${t}${n}`;if(!e.has(s))return s}}function q$(t,e){const n=[],s=new Map;let i=null;return{onAnchor:r=>{n.push(r),i||(i=r5(t));const o=o5(e,i);return i.add(o),o},setAnchors:()=>{for(const r of n){const o=s.get(r);if(typeof o=="object"&&o.anchor&&(Wt(o.node)||an(o.node)))o.node.anchor=o.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=r,a}}},sourceObjects:s}}function dc(t,e,n,s){if(s&&typeof s=="object")if(Array.isArray(s))for(let i=0,r=s.length;i<r;++i){const o=s[i],a=dc(t,s,String(i),o);a===void 0?delete s[i]:a!==o&&(s[i]=a)}else if(s instanceof Map)for(const i of Array.from(s.keys())){const r=s.get(i),o=dc(t,s,i,r);o===void 0?s.delete(i):o!==r&&s.set(i,o)}else if(s instanceof Set)for(const i of Array.from(s)){const r=dc(t,s,i,i);r===void 0?s.delete(i):r!==i&&(s.delete(i),s.add(r))}else for(const[i,r]of Object.entries(s)){const o=dc(t,s,i,r);o===void 0?delete s[i]:o!==r&&(s[i]=o)}return t.call(e,n,s)}function li(t,e,n){if(Array.isArray(t))return t.map((s,i)=>li(s,String(i),n));if(t&&typeof t.toJSON=="function"){if(!n||!V$(t))return t.toJSON(e,n);const s={aliasCount:0,count:1,res:void 0};n.anchors.set(t,s),n.onCreate=r=>{s.res=r,delete n.onCreate};const i=t.toJSON(e,n);return n.onCreate&&n.onCreate(i),i}return typeof t=="bigint"&&!(n!=null&&n.keep)?Number(t):t}class Dv{constructor(e){Object.defineProperty(this,ui,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:s,onAnchor:i,reviver:r}={}){if(!Au(e))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},a=li(this,"",o);if(typeof i=="function")for(const{count:l,res:c}of o.anchors.values())i(c,l);return typeof r=="function"?dc(r,{"":a},"",a):a}}class Rg extends Dv{constructor(e){super(Lv),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let n;return Zo(e,{Node:(s,i)=>{if(i===this)return Zo.BREAK;i.anchor===this.source&&(n=i)}}),n}toJSON(e,n){if(!n)return{source:this.source};const{anchors:s,doc:i,maxAliasCount:r}=n,o=this.resolve(i);if(!o){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=s.get(o);if(a||(li(o,null,n),a=s.get(o)),!a||a.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(r>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=$p(i,o,s)),a.count*a.aliasCount>r)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(e,n,s){const i=`*${this.source}`;if(e){if(i5(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const r=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(r)}if(e.implicitKey)return`${i} `}return i}}function $p(t,e,n){if(yl(e)){const s=e.resolve(t),i=n&&s&&n.get(s);return i?i.count*i.aliasCount:0}else if(an(e)){let s=0;for(const i of e.items){const r=$p(t,i,n);r>s&&(s=r)}return s}else if(rn(e)){const s=$p(t,e.key,n),i=$p(t,e.value,n);return Math.max(s,i)}return 1}const a5=t=>!t||typeof t!="function"&&typeof t!="object";class mt extends Dv{constructor(e){super(Gr),this.value=e}toJSON(e,n){return n!=null&&n.keep?this.value:li(this.value,e,n)}toString(){return String(this.value)}}mt.BLOCK_FOLDED="BLOCK_FOLDED";mt.BLOCK_LITERAL="BLOCK_LITERAL";mt.PLAIN="PLAIN";mt.QUOTE_DOUBLE="QUOTE_DOUBLE";mt.QUOTE_SINGLE="QUOTE_SINGLE";const X$="tag:yaml.org,2002:";function K$(t,e,n){if(e){const s=n.filter(r=>r.tag===e),i=s.find(r=>!r.format)??s[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return n.find(s=>{var i;return((i=s.identify)==null?void 0:i.call(s,t))&&!s.format})}function mf(t,e,n){var d,f,h;if(Au(t)&&(t=t.contents),pn(t))return t;if(rn(t)){const y=(f=(d=n.schema[jo]).createNode)==null?void 0:f.call(d,n.schema,null,n);return y.items.push(t),y}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:s,onAnchor:i,onTagObj:r,schema:o,sourceObjects:a}=n;let l;if(s&&t&&typeof t=="object"){if(l=a.get(t),l)return l.anchor||(l.anchor=i(t)),new Rg(l.anchor);l={anchor:null,node:null},a.set(t,l)}e!=null&&e.startsWith("!!")&&(e=X$+e.slice(2));let c=K$(t,e,o.tags);if(!c){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){const y=new mt(t);return l&&(l.node=y),y}c=t instanceof Map?o[jo]:Symbol.iterator in Object(t)?o[Tu]:o[jo]}r&&(r(c),delete n.onTagObj);const u=c!=null&&c.createNode?c.createNode(n.schema,t,n):typeof((h=c==null?void 0:c.nodeClass)==null?void 0:h.from)=="function"?c.nodeClass.from(n.schema,t,n):new mt(t);return e?u.tag=e:c.default||(u.tag=c.tag),l&&(l.node=u),u}function bm(t,e,n){let s=n;for(let i=e.length-1;i>=0;--i){const r=e[i];if(typeof r=="number"&&Number.isInteger(r)&&r>=0){const o=[];o[r]=s,s=o}else s=new Map([[r,s]])}return mf(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const Ad=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;let l5=class extends Dv{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(s=>pn(s)||rn(s)?s.clone(e):s),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(Ad(e))this.add(n);else{const[s,...i]=e,r=this.get(s,!0);if(an(r))r.addIn(i,n);else if(r===void 0&&this.schema)this.set(s,bm(this.schema,i,n));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${i}`)}}deleteIn(e){const[n,...s]=e;if(s.length===0)return this.delete(n);const i=this.get(n,!0);if(an(i))return i.deleteIn(s);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`)}getIn(e,n){const[s,...i]=e,r=this.get(s,!0);return i.length===0?!n&&Wt(r)?r.value:r:an(r)?r.getIn(i,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!rn(n))return!1;const s=n.value;return s==null||e&&Wt(s)&&s.value==null&&!s.commentBefore&&!s.comment&&!s.tag})}hasIn(e){const[n,...s]=e;if(s.length===0)return this.has(n);const i=this.get(n,!0);return an(i)?i.hasIn(s):!1}setIn(e,n){const[s,...i]=e;if(i.length===0)this.set(s,n);else{const r=this.get(s,!0);if(an(r))r.setIn(i,n);else if(r===void 0&&this.schema)this.set(s,bm(this.schema,i,n));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${i}`)}}};const Y$=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function Or(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const Va=(t,e,n)=>t.endsWith(`
`)?Or(n,e):n.includes(`
`)?`
`+Or(n,e):(t.endsWith(" ")?"":" ")+n,c5="flow",H1="block",Fp="quoted";function Cg(t,e,n="flow",{indentAtStart:s,lineWidth:i=80,minContentWidth:r=20,onFold:o,onOverflow:a}={}){if(!i||i<0)return t;i<r&&(r=0);const l=Math.max(1+r,1+i-e.length);if(t.length<=l)return t;const c=[],u={};let d=i-e.length;typeof s=="number"&&(s>i-Math.max(2,r)?c.push(0):d=i-s);let f,h,y=!1,_=-1,p=-1,g=-1;n===H1&&(_=cE(t,_,e.length),_!==-1&&(d=_+l));for(let v;v=t[_+=1];){if(n===Fp&&v==="\\"){switch(p=_,t[_+1]){case"x":_+=3;break;case"u":_+=5;break;case"U":_+=9;break;default:_+=1}g=_}if(v===`
`)n===H1&&(_=cE(t,_,e.length)),d=_+e.length+l,f=void 0;else{if(v===" "&&h&&h!==" "&&h!==`
`&&h!=="	"){const w=t[_+1];w&&w!==" "&&w!==`
`&&w!=="	"&&(f=_)}if(_>=d)if(f)c.push(f),d=f+l,f=void 0;else if(n===Fp){for(;h===" "||h==="	";)h=v,v=t[_+=1],y=!0;const w=_>g+1?_-2:p-1;if(u[w])return t;c.push(w),u[w]=!0,d=w+l,f=void 0}else y=!0}h=v}if(y&&a&&a(),c.length===0)return t;o&&o();let b=t.slice(0,c[0]);for(let v=0;v<c.length;++v){const w=c[v],A=c[v+1]||t.length;w===0?b=`
${e}${t.slice(0,A)}`:(n===Fp&&u[w]&&(b+=`${t[w]}\\`),b+=`
${e}${t.slice(w+1,A)}`)}return b}function cE(t,e,n){let s=e,i=e+1,r=t[i];for(;r===" "||r==="	";)if(e<i+n)r=t[++e];else{do r=t[++e];while(r&&r!==`
`);s=e,i=e+1,r=t[i]}return s}const kg=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),Pg=t=>/^(%|---|\.\.\.)/m.test(t);function Z$(t,e,n){if(!e||e<0)return!1;const s=e-n,i=t.length;if(i<=s)return!1;for(let r=0,o=0;r<i;++r)if(t[r]===`
`){if(r-o>s)return!0;if(o=r+1,i-o<=s)return!1}return!0}function qd(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:s}=e,i=e.options.doubleQuotedMinMultiLineLength,r=e.indent||(Pg(t)?"  ":"");let o="",a=0;for(let l=0,c=n[l];c;c=n[++l])if(c===" "&&n[l+1]==="\\"&&n[l+2]==="n"&&(o+=n.slice(a,l)+"\\ ",l+=1,a=l,c="\\"),c==="\\")switch(n[l+1]){case"u":{o+=n.slice(a,l);const u=n.substr(l+2,4);switch(u){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:u.substr(0,2)==="00"?o+="\\x"+u.substr(2):o+=n.substr(l,6)}l+=5,a=l+1}break;case"n":if(s||n[l+2]==='"'||n.length<i)l+=1;else{for(o+=n.slice(a,l)+`

`;n[l+2]==="\\"&&n[l+3]==="n"&&n[l+4]!=='"';)o+=`
`,l+=2;o+=r,n[l+2]===" "&&(o+="\\"),l+=1,a=l+1}break;default:l+=1}return o=a?o+n.slice(a):n,s?o:Cg(o,r,Fp,kg(e,!1))}function G1(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return qd(t,e);const n=e.indent||(Pg(t)?"  ":""),s="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?s:Cg(s,n,c5,kg(e,!1))}function fc(t,e){const{singleQuote:n}=e.options;let s;if(n===!1)s=qd;else{const i=t.includes('"'),r=t.includes("'");i&&!r?s=G1:r&&!i?s=qd:s=n?G1:qd}return s(t,e)}let z1;try{z1=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{z1=/\n+(?!\n|$)/g}function Bp({comment:t,type:e,value:n},s,i,r){const{blockQuote:o,commentString:a,lineWidth:l}=s.options;if(!o||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return fc(n,s);const c=s.indent||(s.forceBlockIndent||Pg(n)?"  ":""),u=o==="literal"?!0:o==="folded"||e===mt.BLOCK_FOLDED?!1:e===mt.BLOCK_LITERAL?!0:!Z$(n,l,c.length);if(!n)return u?`|
`:`>
`;let d,f;for(f=n.length;f>0;--f){const x=n[f-1];if(x!==`
`&&x!=="	"&&x!==" ")break}let h=n.substring(f);const y=h.indexOf(`
`);y===-1?d="-":n===h||y!==h.length-1?(d="+",r&&r()):d="",h&&(n=n.slice(0,-h.length),h[h.length-1]===`
`&&(h=h.slice(0,-1)),h=h.replace(z1,`$&${c}`));let _=!1,p,g=-1;for(p=0;p<n.length;++p){const x=n[p];if(x===" ")_=!0;else if(x===`
`)g=p;else break}let b=n.substring(0,g<p?g+1:p);b&&(n=n.substring(b.length),b=b.replace(/\n+/g,`$&${c}`));let w=(u?"|":">")+(_?c?"2":"1":"")+d;if(t&&(w+=" "+a(t.replace(/ ?[\r\n]+/g," ")),i&&i()),u)return n=n.replace(/\n+/g,`$&${c}`),`${w}
${c}${b}${n}${h}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`);const A=Cg(`${b}${n}${h}`,c,H1,kg(s,!0));return`${w}
${c}${A}`}function J$(t,e,n,s){const{type:i,value:r}=t,{actualString:o,implicitKey:a,indent:l,indentStep:c,inFlow:u}=e;if(a&&r.includes(`
`)||u&&/[[\]{},]/.test(r))return fc(r,e);if(!r||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(r))return a||u||!r.includes(`
`)?fc(r,e):Bp(t,e,n,s);if(!a&&!u&&i!==mt.PLAIN&&r.includes(`
`))return Bp(t,e,n,s);if(Pg(r)){if(l==="")return e.forceBlockIndent=!0,Bp(t,e,n,s);if(a&&l===c)return fc(r,e)}const d=r.replace(/\n+/g,`$&
${l}`);if(o){const f=_=>{var p;return _.default&&_.tag!=="tag:yaml.org,2002:str"&&((p=_.test)==null?void 0:p.test(d))},{compat:h,tags:y}=e.doc.schema;if(y.some(f)||h!=null&&h.some(f))return fc(r,e)}return a?d:Cg(d,l,c5,kg(e,!1))}function Hf(t,e,n,s){const{implicitKey:i,inFlow:r}=e,o=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)});let{type:a}=t;a!==mt.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=mt.QUOTE_DOUBLE);const l=u=>{switch(u){case mt.BLOCK_FOLDED:case mt.BLOCK_LITERAL:return i||r?fc(o.value,e):Bp(o,e,n,s);case mt.QUOTE_DOUBLE:return qd(o.value,e);case mt.QUOTE_SINGLE:return G1(o.value,e);case mt.PLAIN:return J$(o,e,n,s);default:return null}};let c=l(a);if(c===null){const{defaultKeyType:u,defaultStringType:d}=e.options,f=i&&u||d;if(c=l(f),c===null)throw new Error(`Unsupported default string type ${f}`)}return c}function u5(t,e){const n=Object.assign({blockQuote:!0,commentString:Y$,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let s;switch(n.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:s,options:n}}function Q$(t,e){var i;if(e.tag){const r=t.filter(o=>o.tag===e.tag);if(r.length>0)return r.find(o=>o.format===e.format)??r[0]}let n,s;if(Wt(e)){s=e.value;const r=t.filter(o=>{var a;return(a=o.identify)==null?void 0:a.call(o,s)});n=r.find(o=>o.format===e.format)??r.find(o=>!o.format)}else s=e,n=t.find(r=>r.nodeClass&&s instanceof r.nodeClass);if(!n){const r=((i=s==null?void 0:s.constructor)==null?void 0:i.name)??typeof s;throw new Error(`Tag not resolved for ${r} value`)}return n}function eF(t,e,{anchors:n,doc:s}){if(!s.directives)return"";const i=[],r=(Wt(t)||an(t))&&t.anchor;r&&i5(r)&&(n.add(r),i.push(`&${r}`));const o=t.tag?t.tag:e.default?null:e.tag;return o&&i.push(s.directives.tagString(o)),i.join(" ")}function nu(t,e,n,s){var l;if(rn(t))return t.toString(e,n,s);if(yl(t)){if(e.doc.directives)return t.toString(e);if((l=e.resolvedAliases)!=null&&l.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let i;const r=pn(t)?t:e.doc.createNode(t,{onTagObj:c=>i=c});i||(i=Q$(e.doc.schema.tags,r));const o=eF(r,i,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);const a=typeof i.stringify=="function"?i.stringify(r,e,n,s):Wt(r)?Hf(r,e,n,s):r.toString(e,n,s);return o?Wt(r)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
${e.indent}${a}`:a}function tF({key:t,value:e},n,s,i){const{allNullValues:r,doc:o,indent:a,indentStep:l,options:{commentString:c,indentSeq:u,simpleKeys:d}}=n;let f=pn(t)&&t.comment||null;if(d){if(f)throw new Error("With simple keys, key nodes cannot have comments");if(an(t)||!pn(t)&&typeof t=="object"){const T="With simple keys, collection cannot be used as a key value";throw new Error(T)}}let h=!d&&(!t||f&&e==null&&!n.inFlow||an(t)||(Wt(t)?t.type===mt.BLOCK_FOLDED||t.type===mt.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!h&&(d||!r),indent:a+l});let y=!1,_=!1,p=nu(t,n,()=>y=!0,()=>_=!0);if(!h&&!n.inFlow&&p.length>1024){if(d)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");h=!0}if(n.inFlow){if(r||e==null)return y&&s&&s(),p===""?"?":h?`? ${p}`:p}else if(r&&!d||e==null&&h)return p=`? ${p}`,f&&!y?p+=Va(p,n.indent,c(f)):_&&i&&i(),p;y&&(f=null),h?(f&&(p+=Va(p,n.indent,c(f))),p=`? ${p}
${a}:`):(p=`${p}:`,f&&(p+=Va(p,n.indent,c(f))));let g,b,v;pn(e)?(g=!!e.spaceBefore,b=e.commentBefore,v=e.comment):(g=!1,b=null,v=null,e&&typeof e=="object"&&(e=o.createNode(e))),n.implicitKey=!1,!h&&!f&&Wt(e)&&(n.indentAtStart=p.length+1),_=!1,!u&&l.length>=2&&!n.inFlow&&!h&&Ru(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let w=!1;const A=nu(e,n,()=>w=!0,()=>_=!0);let x=" ";if(f||g||b){if(x=g?`
`:"",b){const T=c(b);x+=`
${Or(T,n.indent)}`}A===""&&!n.inFlow?x===`
`&&(x=`

`):x+=`
${n.indent}`}else if(!h&&an(e)){const T=A[0],M=A.indexOf(`
`),E=M!==-1,S=n.inFlow??e.flow??e.items.length===0;if(E||!S){let C=!1;if(E&&(T==="&"||T==="!")){let N=A.indexOf(" ");T==="&"&&N!==-1&&N<M&&A[N+1]==="!"&&(N=A.indexOf(" ",N+1)),(N===-1||M<N)&&(C=!0)}C||(x=`
${n.indent}`)}}else(A===""||A[0]===`
`)&&(x="");return p+=x+A,n.inFlow?w&&s&&s():v&&!w?p+=Va(p,n.indent,c(v)):_&&i&&i(),p}function d5(t,e){(t==="debug"||t==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(e):console.warn(e))}const uE="<<";function f5(t,e,{key:n,value:s}){if(t!=null&&t.doc.schema.merge&&nF(n))if(s=yl(s)?s.resolve(t.doc):s,Ru(s))for(const i of s.items)L_(t,e,i);else if(Array.isArray(s))for(const i of s)L_(t,e,i);else L_(t,e,s);else{const i=li(n,"",t);if(e instanceof Map)e.set(i,li(s,i,t));else if(e instanceof Set)e.add(i);else{const r=sF(n,i,t),o=li(s,r,t);r in e?Object.defineProperty(e,r,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[r]=o}}return e}const nF=t=>t===uE||Wt(t)&&t.value===uE&&(!t.type||t.type===mt.PLAIN);function L_(t,e,n){const s=t&&yl(n)?n.resolve(t.doc):n;if(!Mu(s))throw new Error("Merge sources must be maps or map aliases");const i=s.toJSON(null,t,Map);for(const[r,o]of i)e instanceof Map?e.has(r)||e.set(r,o):e instanceof Set?e.add(r):Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(e,r,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}function sF(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(pn(t)&&(n!=null&&n.doc)){const s=u5(n.doc,{});s.anchors=new Set;for(const r of n.anchors.keys())s.anchors.add(r.anchor);s.inFlow=!0,s.inStringifyKey=!0;const i=t.toString(s);if(!n.mapKeyWarned){let r=JSON.stringify(i);r.length>40&&(r=r.substring(0,36)+'..."'),d5(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${r}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return i}return JSON.stringify(e)}function Nv(t,e,n){const s=mf(t,void 0,n),i=mf(e,void 0,n);return new Jn(s,i)}class Jn{constructor(e,n=null){Object.defineProperty(this,ui,{value:Q4}),this.key=e,this.value=n}clone(e){let{key:n,value:s}=this;return pn(n)&&(n=n.clone(e)),pn(s)&&(s=s.clone(e)),new Jn(n,s)}toJSON(e,n){const s=n!=null&&n.mapAsMap?new Map:{};return f5(n,s,this)}toString(e,n,s){return e!=null&&e.doc?tF(this,e,n,s):JSON.stringify(this)}}function h5(t,e,n){return(e.inFlow??t.flow?rF:iF)(t,e,n)}function iF({comment:t,items:e},n,{blockItemPrefix:s,flowChars:i,itemIndent:r,onChompKeep:o,onComment:a}){const{indent:l,options:{commentString:c}}=n,u=Object.assign({},n,{indent:r,type:null});let d=!1;const f=[];for(let y=0;y<e.length;++y){const _=e[y];let p=null;if(pn(_))!d&&_.spaceBefore&&f.push(""),vm(n,f,_.commentBefore,d),_.comment&&(p=_.comment);else if(rn(_)){const b=pn(_.key)?_.key:null;b&&(!d&&b.spaceBefore&&f.push(""),vm(n,f,b.commentBefore,d))}d=!1;let g=nu(_,u,()=>p=null,()=>d=!0);p&&(g+=Va(g,r,c(p))),d&&p&&(d=!1),f.push(s+g)}let h;if(f.length===0)h=i.start+i.end;else{h=f[0];for(let y=1;y<f.length;++y){const _=f[y];h+=_?`
${l}${_}`:`
`}}return t?(h+=`
`+Or(c(t),l),a&&a()):d&&o&&o(),h}function rF({items:t},e,{flowChars:n,itemIndent:s}){const{indent:i,indentStep:r,flowCollectionPadding:o,options:{commentString:a}}=e;s+=r;const l=Object.assign({},e,{indent:s,inFlow:!0,type:null});let c=!1,u=0;const d=[];for(let y=0;y<t.length;++y){const _=t[y];let p=null;if(pn(_))_.spaceBefore&&d.push(""),vm(e,d,_.commentBefore,!1),_.comment&&(p=_.comment);else if(rn(_)){const b=pn(_.key)?_.key:null;b&&(b.spaceBefore&&d.push(""),vm(e,d,b.commentBefore,!1),b.comment&&(c=!0));const v=pn(_.value)?_.value:null;v?(v.comment&&(p=v.comment),v.commentBefore&&(c=!0)):_.value==null&&(b!=null&&b.comment)&&(p=b.comment)}p&&(c=!0);let g=nu(_,l,()=>p=null);y<t.length-1&&(g+=","),p&&(g+=Va(g,s,a(p))),!c&&(d.length>u||g.includes(`
`))&&(c=!0),d.push(g),u=d.length}const{start:f,end:h}=n;if(d.length===0)return f+h;if(!c){const y=d.reduce((_,p)=>_+p.length+2,2);c=e.options.lineWidth>0&&y>e.options.lineWidth}if(c){let y=f;for(const _ of d)y+=_?`
${r}${i}${_}`:`
`;return`${y}
${i}${h}`}else return`${f}${o}${d.join(" ")}${o}${h}`}function vm({indent:t,options:{commentString:e}},n,s,i){if(s&&i&&(s=s.replace(/^\n+/,"")),s){const r=Or(e(s),t);n.push(r.trimStart())}}function ja(t,e){const n=Wt(e)?e.value:e;for(const s of t)if(rn(s)&&(s.key===e||s.key===n||Wt(s.key)&&s.key.value===n))return s}class Hs extends l5{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(jo,e),this.items=[]}static from(e,n,s){const{keepUndefined:i,replacer:r}=s,o=new this(e),a=(l,c)=>{if(typeof r=="function")c=r.call(n,l,c);else if(Array.isArray(r)&&!r.includes(l))return;(c!==void 0||i)&&o.items.push(Nv(l,c,s))};if(n instanceof Map)for(const[l,c]of n)a(l,c);else if(n&&typeof n=="object")for(const l of Object.keys(n))a(l,n[l]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,n){var o;let s;rn(e)?s=e:!e||typeof e!="object"||!("key"in e)?s=new Jn(e,e==null?void 0:e.value):s=new Jn(e.key,e.value);const i=ja(this.items,s.key),r=(o=this.schema)==null?void 0:o.sortMapEntries;if(i){if(!n)throw new Error(`Key ${s.key} already set`);Wt(i.value)&&a5(s.value)?i.value.value=s.value:i.value=s.value}else if(r){const a=this.items.findIndex(l=>r(s,l)<0);a===-1?this.items.push(s):this.items.splice(a,0,s)}else this.items.push(s)}delete(e){const n=ja(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){const s=ja(this.items,e),i=s==null?void 0:s.value;return(!n&&Wt(i)?i.value:i)??void 0}has(e){return!!ja(this.items,e)}set(e,n){this.add(new Jn(e,n),!0)}toJSON(e,n,s){const i=s?new s:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(i);for(const r of this.items)f5(n,i,r);return i}toString(e,n,s){if(!e)return JSON.stringify(this);for(const i of this.items)if(!rn(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),h5(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:s,onComment:n})}}const Cu={collection:"map",default:!0,nodeClass:Hs,tag:"tag:yaml.org,2002:map",resolve(t,e){return Mu(t)||e("Expected a mapping for this tag"),t},createNode:(t,e,n)=>Hs.from(t,e,n)};class Jo extends l5{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(Tu,e),this.items=[]}add(e){this.items.push(e)}delete(e){const n=ph(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){const s=ph(e);if(typeof s!="number")return;const i=this.items[s];return!n&&Wt(i)?i.value:i}has(e){const n=ph(e);return typeof n=="number"&&n<this.items.length}set(e,n){const s=ph(e);if(typeof s!="number")throw new Error(`Expected a valid index, not ${e}.`);const i=this.items[s];Wt(i)&&a5(n)?i.value=n:this.items[s]=n}toJSON(e,n){const s=[];n!=null&&n.onCreate&&n.onCreate(s);let i=0;for(const r of this.items)s.push(li(r,String(i++),n));return s}toString(e,n,s){return e?h5(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:s,onComment:n}):JSON.stringify(this)}static from(e,n,s){const{replacer:i}=s,r=new this(e);if(n&&Symbol.iterator in Object(n)){let o=0;for(let a of n){if(typeof i=="function"){const l=n instanceof Set?a:String(o++);a=i.call(n,l,a)}r.items.push(mf(a,void 0,s))}}return r}}function ph(t){let e=Wt(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}const ku={collection:"seq",default:!0,nodeClass:Jo,tag:"tag:yaml.org,2002:seq",resolve(t,e){return Ru(t)||e("Expected a sequence for this tag"),t},createNode:(t,e,n)=>Jo.from(t,e,n)},Ig={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,n,s){return e=Object.assign({actualString:!0},e),Hf(t,e,n,s)}},Og={identify:t=>t==null,createNode:()=>new mt(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new mt(null),stringify:({source:t},e)=>typeof t=="string"&&Og.test.test(t)?t:e.options.nullStr},Uv={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new mt(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},n){if(t&&Uv.test.test(t)){const s=t[0]==="t"||t[0]==="T";if(e===s)return t}return e?n.options.trueStr:n.options.falseStr}};function Di({format:t,minFractionDigits:e,tag:n,value:s}){if(typeof s=="bigint")return String(s);const i=typeof s=="number"?s:Number(s);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let r=JSON.stringify(s);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(r)){let o=r.indexOf(".");o<0&&(o=r.length,r+=".");let a=e-(r.length-o-1);for(;a-- >0;)r+="0"}return r}const p5={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Di},m5={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():Di(t)}},g5={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){const e=new mt(parseFloat(t)),n=t.indexOf(".");return n!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-n-1),e},stringify:Di},Lg=t=>typeof t=="bigint"||Number.isInteger(t),$v=(t,e,n,{intAsBigInt:s})=>s?BigInt(t):parseInt(t.substring(e),n);function _5(t,e,n){const{value:s}=t;return Lg(s)&&s>=0?n+s.toString(e):Di(t)}const y5={identify:t=>Lg(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,n)=>$v(t,2,8,n),stringify:t=>_5(t,8,"0o")},b5={identify:Lg,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,n)=>$v(t,0,10,n),stringify:Di},v5={identify:t=>Lg(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,n)=>$v(t,2,16,n),stringify:t=>_5(t,16,"0x")},oF=[Cu,ku,Ig,Og,Uv,y5,b5,v5,p5,m5,g5];function dE(t){return typeof t=="bigint"||Number.isInteger(t)}const mh=({value:t})=>JSON.stringify(t),aF=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:mh},{identify:t=>t==null,createNode:()=>new mt(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:mh},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>t==="true",stringify:mh},{identify:dE,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>dE(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:mh}],lF={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},cF=[Cu,ku].concat(aF,lF),Fv={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof Buffer=="function")return Buffer.from(t,"base64");if(typeof atob=="function"){const n=atob(t.replace(/[\n\r]/g,"")),s=new Uint8Array(n.length);for(let i=0;i<n.length;++i)s[i]=n.charCodeAt(i);return s}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},s,i,r){const o=n;let a;if(typeof Buffer=="function")a=o instanceof Buffer?o.toString("base64"):Buffer.from(o.buffer).toString("base64");else if(typeof btoa=="function"){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=mt.BLOCK_LITERAL),e!==mt.QUOTE_DOUBLE){const l=Math.max(s.options.lineWidth-s.indent.length,s.options.minContentWidth),c=Math.ceil(a.length/l),u=new Array(c);for(let d=0,f=0;d<c;++d,f+=l)u[d]=a.substr(f,l);a=u.join(e===mt.BLOCK_LITERAL?`
`:" ")}return Hf({comment:t,type:e,value:a},s,i,r)}};function w5(t,e){if(Ru(t))for(let n=0;n<t.items.length;++n){let s=t.items[n];if(!rn(s)){if(Mu(s)){s.items.length>1&&e("Each pair must have its own sequence indicator");const i=s.items[0]||new Jn(new mt(null));if(s.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${s.commentBefore}
${i.key.commentBefore}`:s.commentBefore),s.comment){const r=i.value??i.key;r.comment=r.comment?`${s.comment}
${r.comment}`:s.comment}s=i}t.items[n]=rn(s)?s:new Jn(s)}}else e("Expected a sequence for this tag");return t}function x5(t,e,n){const{replacer:s}=n,i=new Jo(t);i.tag="tag:yaml.org,2002:pairs";let r=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof s=="function"&&(o=s.call(e,String(r++),o));let a,l;if(Array.isArray(o))if(o.length===2)a=o[0],l=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const c=Object.keys(o);if(c.length===1)a=c[0],l=o[a];else throw new TypeError(`Expected tuple with one key, not ${c.length} keys`)}else a=o;i.items.push(Nv(a,l,n))}return i}const Bv={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:w5,createNode:x5};class kc extends Jo{constructor(){super(),this.add=Hs.prototype.add.bind(this),this.delete=Hs.prototype.delete.bind(this),this.get=Hs.prototype.get.bind(this),this.has=Hs.prototype.has.bind(this),this.set=Hs.prototype.set.bind(this),this.tag=kc.tag}toJSON(e,n){if(!n)return super.toJSON(e);const s=new Map;n!=null&&n.onCreate&&n.onCreate(s);for(const i of this.items){let r,o;if(rn(i)?(r=li(i.key,"",n),o=li(i.value,r,n)):r=li(i,"",n),s.has(r))throw new Error("Ordered maps must not include duplicate keys");s.set(r,o)}return s}static from(e,n,s){const i=x5(e,n,s),r=new this;return r.items=i.items,r}}kc.tag="tag:yaml.org,2002:omap";const Hv={collection:"seq",identify:t=>t instanceof Map,nodeClass:kc,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){const n=w5(t,e),s=[];for(const{key:i}of n.items)Wt(i)&&(s.includes(i.value)?e(`Ordered maps must not include duplicate keys: ${i.value}`):s.push(i.value));return Object.assign(new kc,n)},createNode:(t,e,n)=>kc.from(t,e,n)};function E5({value:t,source:e},n){return e&&(t?S5:T5).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}const S5={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new mt(!0),stringify:E5},T5={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new mt(!1),stringify:E5},uF={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Di},dF={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():Di(t)}},fF={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){const e=new mt(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(n!==-1){const s=t.substring(n+1).replace(/_/g,"");s[s.length-1]==="0"&&(e.minFractionDigits=s.length)}return e},stringify:Di},Gf=t=>typeof t=="bigint"||Number.isInteger(t);function Dg(t,e,n,{intAsBigInt:s}){const i=t[0];if((i==="-"||i==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),s){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}const o=BigInt(t);return i==="-"?BigInt(-1)*o:o}const r=parseInt(t,n);return i==="-"?-1*r:r}function Gv(t,e,n){const{value:s}=t;if(Gf(s)){const i=s.toString(e);return s<0?"-"+n+i.substr(1):n+i}return Di(t)}const hF={identify:Gf,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,n)=>Dg(t,2,2,n),stringify:t=>Gv(t,2,"0b")},pF={identify:Gf,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,n)=>Dg(t,1,8,n),stringify:t=>Gv(t,8,"0")},mF={identify:Gf,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,n)=>Dg(t,0,10,n),stringify:Di},gF={identify:Gf,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,n)=>Dg(t,2,16,n),stringify:t=>Gv(t,16,"0x")};class Pc extends Hs{constructor(e){super(e),this.tag=Pc.tag}add(e){let n;rn(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new Jn(e.key,null):n=new Jn(e,null),ja(this.items,n.key)||this.items.push(n)}get(e,n){const s=ja(this.items,e);return!n&&rn(s)?Wt(s.key)?s.key.value:s.key:s}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const s=ja(this.items,e);s&&!n?this.items.splice(this.items.indexOf(s),1):!s&&n&&this.items.push(new Jn(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,s){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,s);throw new Error("Set items must all have null values")}static from(e,n,s){const{replacer:i}=s,r=new this(e);if(n&&Symbol.iterator in Object(n))for(let o of n)typeof i=="function"&&(o=i.call(n,o,o)),r.items.push(Nv(o,null,s));return r}}Pc.tag="tag:yaml.org,2002:set";const zv={collection:"map",identify:t=>t instanceof Set,nodeClass:Pc,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,n)=>Pc.from(t,e,n),resolve(t,e){if(Mu(t)){if(t.hasAllNullValues(!0))return Object.assign(new Pc,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};function Vv(t,e){const n=t[0],s=n==="-"||n==="+"?t.substring(1):t,i=o=>e?BigInt(o):Number(o),r=s.replace(/_/g,"").split(":").reduce((o,a)=>o*i(60)+i(a),i(0));return n==="-"?i(-1)*r:r}function A5(t){let{value:e}=t,n=o=>o;if(typeof e=="bigint")n=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return Di(t);let s="";e<0&&(s="-",e*=n(-1));const i=n(60),r=[e%i];return e<60?r.unshift(0):(e=(e-r[0])/i,r.unshift(e%i),e>=60&&(e=(e-r[0])/i,r.unshift(e))),s+r.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const M5={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:n})=>Vv(t,n),stringify:A5},R5={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>Vv(t,!1),stringify:A5},Ng={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){const e=t.match(Ng.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,s,i,r,o,a]=e.map(Number),l=e[7]?Number((e[7]+"00").substr(1,3)):0;let c=Date.UTC(n,s-1,i,r||0,o||0,a||0,l);const u=e[8];if(u&&u!=="Z"){let d=Vv(u,!1);Math.abs(d)<30&&(d*=60),c-=6e4*d}return new Date(c)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},fE=[Cu,ku,Ig,Og,S5,T5,hF,pF,mF,gF,uF,dF,fF,Fv,Hv,Bv,zv,M5,R5,Ng],hE=new Map([["core",oF],["failsafe",[Cu,ku,Ig]],["json",cF],["yaml11",fE],["yaml-1.1",fE]]),pE={binary:Fv,bool:Uv,float:g5,floatExp:m5,floatNaN:p5,floatTime:R5,int:b5,intHex:v5,intOct:y5,intTime:M5,map:Cu,null:Og,omap:Hv,pairs:Bv,seq:ku,set:zv,timestamp:Ng},_F={"tag:yaml.org,2002:binary":Fv,"tag:yaml.org,2002:omap":Hv,"tag:yaml.org,2002:pairs":Bv,"tag:yaml.org,2002:set":zv,"tag:yaml.org,2002:timestamp":Ng};function D_(t,e){let n=hE.get(e);if(!n)if(Array.isArray(t))n=[];else{const s=Array.from(hE.keys()).filter(i=>i!=="yaml11").map(i=>JSON.stringify(i)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${s} or define customTags array`)}if(Array.isArray(t))for(const s of t)n=n.concat(s);else typeof t=="function"&&(n=t(n.slice()));return n.map(s=>{if(typeof s!="string")return s;const i=pE[s];if(i)return i;const r=Object.keys(pE).map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown custom tag "${s}"; use one of ${r}`)})}const yF=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0;class Ug{constructor({compat:e,customTags:n,merge:s,resolveKnownTags:i,schema:r,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(e)?D_(e,"compat"):e?D_(null,e):null,this.merge=!!s,this.name=typeof r=="string"&&r||"core",this.knownTags=i?_F:{},this.tags=D_(n,this.name),this.toStringOptions=a??null,Object.defineProperty(this,jo,{value:Cu}),Object.defineProperty(this,Gr,{value:Ig}),Object.defineProperty(this,Tu,{value:ku}),this.sortMapEntries=typeof o=="function"?o:o===!0?yF:null}clone(){const e=Object.create(Ug.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function bF(t,e){var l;const n=[];let s=e.directives===!0;if(e.directives!==!1&&t.directives){const c=t.directives.toString(t);c?(n.push(c),s=!0):t.directives.docStart&&(s=!0)}s&&n.push("---");const i=u5(t,e),{commentString:r}=i.options;if(t.commentBefore){n.length!==1&&n.unshift("");const c=r(t.commentBefore);n.unshift(Or(c,""))}let o=!1,a=null;if(t.contents){if(pn(t.contents)){if(t.contents.spaceBefore&&s&&n.push(""),t.contents.commentBefore){const d=r(t.contents.commentBefore);n.push(Or(d,""))}i.forceBlockIndent=!!t.comment,a=t.contents.comment}const c=a?void 0:()=>o=!0;let u=nu(t.contents,i,()=>a=null,c);a&&(u+=Va(u,"",r(a))),(u[0]==="|"||u[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${u}`:n.push(u)}else n.push(nu(t.contents,i));if((l=t.directives)!=null&&l.docEnd)if(t.comment){const c=r(t.comment);c.includes(`
`)?(n.push("..."),n.push(Or(c,""))):n.push(`... ${c}`)}else n.push("...");else{let c=t.comment;c&&o&&(c=c.replace(/^\n+/,"")),c&&((!o||a)&&n[n.length-1]!==""&&n.push(""),n.push(Or(r(c),"")))}return n.join(`
`)+`
`}class Pu{constructor(e,n,s){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,ui,{value:B1});let i=null;typeof n=="function"||Array.isArray(n)?i=n:s===void 0&&n&&(s=n,n=void 0);const r=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},s);this.options=r;let{version:o}=r;s!=null&&s._directives?(this.directives=s._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new os({version:o}),this.setSchema(o,s),this.contents=e===void 0?null:this.createNode(e,i,s)}clone(){const e=Object.create(Pu.prototype,{[ui]:{value:B1}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=pn(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){Tl(this.contents)&&this.contents.add(e)}addIn(e,n){Tl(this.contents)&&this.contents.addIn(e,n)}createAlias(e,n){if(!e.anchor){const s=r5(this);e.anchor=!n||s.has(n)?o5(n||"a",s):n}return new Rg(e.anchor)}createNode(e,n,s){let i;if(typeof n=="function")e=n.call({"":e},"",e),i=n;else if(Array.isArray(n)){const p=b=>typeof b=="number"||b instanceof String||b instanceof Number,g=n.filter(p).map(String);g.length>0&&(n=n.concat(g)),i=n}else s===void 0&&n&&(s=n,n=void 0);const{aliasDuplicateObjects:r,anchorPrefix:o,flow:a,keepUndefined:l,onTagObj:c,tag:u}=s??{},{onAnchor:d,setAnchors:f,sourceObjects:h}=q$(this,o||"a"),y={aliasDuplicateObjects:r??!0,keepUndefined:l??!1,onAnchor:d,onTagObj:c,replacer:i,schema:this.schema,sourceObjects:h},_=mf(e,u,y);return a&&an(_)&&(_.flow=!0),f(),_}createPair(e,n,s={}){const i=this.createNode(e,null,s),r=this.createNode(n,null,s);return new Jn(i,r)}delete(e){return Tl(this.contents)?this.contents.delete(e):!1}deleteIn(e){return Ad(e)?this.contents==null?!1:(this.contents=null,!0):Tl(this.contents)?this.contents.deleteIn(e):!1}get(e,n){return an(this.contents)?this.contents.get(e,n):void 0}getIn(e,n){return Ad(e)?!n&&Wt(this.contents)?this.contents.value:this.contents:an(this.contents)?this.contents.getIn(e,n):void 0}has(e){return an(this.contents)?this.contents.has(e):!1}hasIn(e){return Ad(e)?this.contents!==void 0:an(this.contents)?this.contents.hasIn(e):!1}set(e,n){this.contents==null?this.contents=bm(this.schema,[e],n):Tl(this.contents)&&this.contents.set(e,n)}setIn(e,n){Ad(e)?this.contents=n:this.contents==null?this.contents=bm(this.schema,Array.from(e),n):Tl(this.contents)&&this.contents.setIn(e,n)}setSchema(e,n={}){typeof e=="number"&&(e=String(e));let s;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new os({version:"1.1"}),s={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new os({version:e}),s={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,s=null;break;default:{const i=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(s)this.schema=new Ug(Object.assign(s,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:n,mapAsMap:s,maxAliasCount:i,onAnchor:r,reviver:o}={}){const a={anchors:new Map,doc:this,keep:!e,mapAsMap:s===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},l=li(this.contents,n??"",a);if(typeof r=="function")for(const{count:c,res:u}of a.anchors.values())r(u,c);return typeof o=="function"?dc(o,{"":l},"",l):l}toJSON(e,n){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:n})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const n=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return bF(this,e)}}function Tl(t){if(an(t))return!0;throw new Error("Expected a YAML collection as document contents")}class jv extends Error{constructor(e,n,s,i){super(),this.name=e,this.code=s,this.message=i,this.pos=n}}class Wa extends jv{constructor(e,n,s){super("YAMLParseError",e,n,s)}}class C5 extends jv{constructor(e,n,s){super("YAMLWarning",e,n,s)}}const wm=(t,e)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(a=>e.linePos(a));const{line:s,col:i}=n.linePos[0];n.message+=` at line ${s}, column ${i}`;let r=i-1,o=t.substring(e.lineStarts[s-1],e.lineStarts[s]).replace(/[\n\r]+$/,"");if(r>=60&&o.length>80){const a=Math.min(r-39,o.length-79);o=""+o.substring(a),r-=a-1}if(o.length>80&&(o=o.substring(0,79)+""),s>1&&/^ *$/.test(o.substring(0,r))){let a=t.substring(e.lineStarts[s-2],e.lineStarts[s-1]);a.length>80&&(a=a.substring(0,79)+`
`),o=a+o}if(/[^ ]/.test(o)){let a=1;const l=n.linePos[1];l&&l.line===s&&l.col>i&&(a=Math.max(1,Math.min(l.col-i,80-r)));const c=" ".repeat(r)+"^".repeat(a);n.message+=`:

${o}
${c}
`}};function su(t,{flow:e,indicator:n,next:s,offset:i,onError:r,parentIndent:o,startOnNewline:a}){let l=!1,c=a,u=a,d="",f="",h=!1,y=!1,_=null,p=null,g=null,b=null,v=null,w=null,A=null;for(const M of t)switch(y&&(M.type!=="space"&&M.type!=="newline"&&M.type!=="comma"&&r(M.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),y=!1),_&&(c&&M.type!=="comment"&&M.type!=="newline"&&r(_,"TAB_AS_INDENT","Tabs are not allowed as indentation"),_=null),M.type){case"space":!e&&(n!=="doc-start"||(s==null?void 0:s.type)!=="flow-collection")&&M.source.includes("	")&&(_=M),u=!0;break;case"comment":{u||r(M,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const E=M.source.substring(1)||" ";d?d+=f+E:d=E,f="",c=!1;break}case"newline":c?d?d+=M.source:l=!0:f+=M.source,c=!0,h=!0,(p||g)&&(b=M),u=!0;break;case"anchor":p&&r(M,"MULTIPLE_ANCHORS","A node can have at most one anchor"),M.source.endsWith(":")&&r(M.offset+M.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),p=M,A===null&&(A=M.offset),c=!1,u=!1,y=!0;break;case"tag":{g&&r(M,"MULTIPLE_TAGS","A node can have at most one tag"),g=M,A===null&&(A=M.offset),c=!1,u=!1,y=!0;break}case n:(p||g)&&r(M,"BAD_PROP_ORDER",`Anchors and tags must be after the ${M.source} indicator`),w&&r(M,"UNEXPECTED_TOKEN",`Unexpected ${M.source} in ${e??"collection"}`),w=M,c=n==="seq-item-ind"||n==="explicit-key-ind",u=!1;break;case"comma":if(e){v&&r(M,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),v=M,c=!1,u=!1;break}default:r(M,"UNEXPECTED_TOKEN",`Unexpected ${M.type} token`),c=!1,u=!1}const x=t[t.length-1],T=x?x.offset+x.source.length:i;return y&&s&&s.type!=="space"&&s.type!=="newline"&&s.type!=="comma"&&(s.type!=="scalar"||s.source!=="")&&r(s.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),_&&(c&&_.indent<=o||(s==null?void 0:s.type)==="block-map"||(s==null?void 0:s.type)==="block-seq")&&r(_,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:v,found:w,spaceBefore:l,comment:d,hasNewline:h,anchor:p,tag:g,newlineAfterProp:b,end:T,start:A??T}}function gf(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return!0;if(t.end){for(const e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of t.items){for(const n of e.start)if(n.type==="newline")return!0;if(e.sep){for(const n of e.sep)if(n.type==="newline")return!0}if(gf(e.key)||gf(e.value))return!0}return!1;default:return!0}}function V1(t,e,n){if((e==null?void 0:e.type)==="flow-collection"){const s=e.end[0];s.indent===t&&(s.source==="]"||s.source==="}")&&gf(e)&&n(s,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function k5(t,e,n){const{uniqueKeys:s}=t.options;if(s===!1)return!1;const i=typeof s=="function"?s:(r,o)=>r===o||Wt(r)&&Wt(o)&&r.value===o.value&&!(r.value==="<<"&&t.schema.merge);return e.some(r=>i(r.key,n))}const mE="All mapping items must start at the same column";function vF({composeNode:t,composeEmptyNode:e},n,s,i,r){var u;const o=(r==null?void 0:r.nodeClass)??Hs,a=new o(n.schema);n.atRoot&&(n.atRoot=!1);let l=s.offset,c=null;for(const d of s.items){const{start:f,key:h,sep:y,value:_}=d,p=su(f,{indicator:"explicit-key-ind",next:h??(y==null?void 0:y[0]),offset:l,onError:i,parentIndent:s.indent,startOnNewline:!0}),g=!p.found;if(g){if(h&&(h.type==="block-seq"?i(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in h&&h.indent!==s.indent&&i(l,"BAD_INDENT",mE)),!p.anchor&&!p.tag&&!y){c=p.end,p.comment&&(a.comment?a.comment+=`
`+p.comment:a.comment=p.comment);continue}(p.newlineAfterProp||gf(h))&&i(h??f[f.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((u=p.found)==null?void 0:u.indent)!==s.indent&&i(l,"BAD_INDENT",mE);const b=p.end,v=h?t(n,h,p,i):e(n,b,f,null,p,i);n.schema.compat&&V1(s.indent,h,i),k5(n,a.items,v)&&i(b,"DUPLICATE_KEY","Map keys must be unique");const w=su(y??[],{indicator:"map-value-ind",next:_,offset:v.range[2],onError:i,parentIndent:s.indent,startOnNewline:!h||h.type==="block-scalar"});if(l=w.end,w.found){g&&((_==null?void 0:_.type)==="block-map"&&!w.hasNewline&&i(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&p.start<w.found.offset-1024&&i(v.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const A=_?t(n,_,w,i):e(n,l,y,null,w,i);n.schema.compat&&V1(s.indent,_,i),l=A.range[2];const x=new Jn(v,A);n.options.keepSourceTokens&&(x.srcToken=d),a.items.push(x)}else{g&&i(v.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),w.comment&&(v.comment?v.comment+=`
`+w.comment:v.comment=w.comment);const A=new Jn(v);n.options.keepSourceTokens&&(A.srcToken=d),a.items.push(A)}}return c&&c<l&&i(c,"IMPOSSIBLE","Map comment with trailing content"),a.range=[s.offset,l,c??l],a}function wF({composeNode:t,composeEmptyNode:e},n,s,i,r){const o=(r==null?void 0:r.nodeClass)??Jo,a=new o(n.schema);n.atRoot&&(n.atRoot=!1);let l=s.offset,c=null;for(const{start:u,value:d}of s.items){const f=su(u,{indicator:"seq-item-ind",next:d,offset:l,onError:i,parentIndent:s.indent,startOnNewline:!0});if(!f.found)if(f.anchor||f.tag||d)d&&d.type==="block-seq"?i(f.end,"BAD_INDENT","All sequence items must start at the same column"):i(l,"MISSING_CHAR","Sequence item without - indicator");else{c=f.end,f.comment&&(a.comment=f.comment);continue}const h=d?t(n,d,f,i):e(n,f.end,u,null,f,i);n.schema.compat&&V1(s.indent,d,i),l=h.range[2],a.items.push(h)}return a.range=[s.offset,l,c??l],a}function zf(t,e,n,s){let i="";if(t){let r=!1,o="";for(const a of t){const{source:l,type:c}=a;switch(c){case"space":r=!0;break;case"comment":{n&&!r&&s(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const u=l.substring(1)||" ";i?i+=o+u:i=u,o="";break}case"newline":i&&(o+=l),r=!0;break;default:s(a,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}e+=l.length}}return{comment:i,offset:e}}const N_="Block collections are not allowed within flow collections",U_=t=>t&&(t.type==="block-map"||t.type==="block-seq");function xF({composeNode:t,composeEmptyNode:e},n,s,i,r){const o=s.start.source==="{",a=o?"flow map":"flow sequence",l=(r==null?void 0:r.nodeClass)??(o?Hs:Jo),c=new l(n.schema);c.flow=!0;const u=n.atRoot;u&&(n.atRoot=!1);let d=s.offset+s.start.source.length;for(let p=0;p<s.items.length;++p){const g=s.items[p],{start:b,key:v,sep:w,value:A}=g,x=su(b,{flow:a,indicator:"explicit-key-ind",next:v??(w==null?void 0:w[0]),offset:d,onError:i,parentIndent:s.indent,startOnNewline:!1});if(!x.found){if(!x.anchor&&!x.tag&&!w&&!A){p===0&&x.comma?i(x.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):p<s.items.length-1&&i(x.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),x.comment&&(c.comment?c.comment+=`
`+x.comment:c.comment=x.comment),d=x.end;continue}!o&&n.options.strict&&gf(v)&&i(v,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(p===0)x.comma&&i(x.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(x.comma||i(x.start,"MISSING_CHAR",`Missing , between ${a} items`),x.comment){let T="";e:for(const M of b)switch(M.type){case"comma":case"space":break;case"comment":T=M.source.substring(1);break e;default:break e}if(T){let M=c.items[c.items.length-1];rn(M)&&(M=M.value??M.key),M.comment?M.comment+=`
`+T:M.comment=T,x.comment=x.comment.substring(T.length+1)}}if(!o&&!w&&!x.found){const T=A?t(n,A,x,i):e(n,x.end,w,null,x,i);c.items.push(T),d=T.range[2],U_(A)&&i(T.range,"BLOCK_IN_FLOW",N_)}else{const T=x.end,M=v?t(n,v,x,i):e(n,T,b,null,x,i);U_(v)&&i(M.range,"BLOCK_IN_FLOW",N_);const E=su(w??[],{flow:a,indicator:"map-value-ind",next:A,offset:M.range[2],onError:i,parentIndent:s.indent,startOnNewline:!1});if(E.found){if(!o&&!x.found&&n.options.strict){if(w)for(const N of w){if(N===E.found)break;if(N.type==="newline"){i(N,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}x.start<E.found.offset-1024&&i(E.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else A&&("source"in A&&A.source&&A.source[0]===":"?i(A,"MISSING_CHAR",`Missing space after : in ${a}`):i(E.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const S=A?t(n,A,E,i):E.found?e(n,E.end,w,null,E,i):null;S?U_(A)&&i(S.range,"BLOCK_IN_FLOW",N_):E.comment&&(M.comment?M.comment+=`
`+E.comment:M.comment=E.comment);const C=new Jn(M,S);if(n.options.keepSourceTokens&&(C.srcToken=g),o){const N=c;k5(n,N.items,M)&&i(T,"DUPLICATE_KEY","Map keys must be unique"),N.items.push(C)}else{const N=new Hs(n.schema);N.flow=!0,N.items.push(C),c.items.push(N)}d=S?S.range[2]:E.end}}const f=o?"}":"]",[h,...y]=s.end;let _=d;if(h&&h.source===f)_=h.offset+h.source.length;else{const p=a[0].toUpperCase()+a.substring(1),g=u?`${p} must end with a ${f}`:`${p} in block collection must be sufficiently indented and end with a ${f}`;i(d,u?"MISSING_CHAR":"BAD_INDENT",g),h&&h.source.length!==1&&y.unshift(h)}if(y.length>0){const p=zf(y,_,n.options.strict,i);p.comment&&(c.comment?c.comment+=`
`+p.comment:c.comment=p.comment),c.range=[s.offset,_,p.offset]}else c.range=[s.offset,_,_];return c}function $_(t,e,n,s,i,r){const o=n.type==="block-map"?vF(t,e,n,s,r):n.type==="block-seq"?wF(t,e,n,s,r):xF(t,e,n,s,r),a=o.constructor;return i==="!"||i===a.tagName?(o.tag=a.tagName,o):(i&&(o.tag=i),o)}function EF(t,e,n,s,i){var f;const r=s.tag,o=r?e.directives.tagName(r.source,h=>i(r,"TAG_RESOLVE_FAILED",h)):null;if(n.type==="block-seq"){const{anchor:h,newlineAfterProp:y}=s,_=h&&r?h.offset>r.offset?h:r:h??r;_&&(!y||y.offset<_.offset)&&i(_,"MISSING_CHAR","Missing newline after block sequence props")}const a=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!r||!o||o==="!"||o===Hs.tagName&&a==="map"||o===Jo.tagName&&a==="seq")return $_(t,e,n,i,o);let l=e.schema.tags.find(h=>h.tag===o&&h.collection===a);if(!l){const h=e.schema.knownTags[o];if(h&&h.collection===a)e.schema.tags.push(Object.assign({},h,{default:!1})),l=h;else return h!=null&&h.collection?i(r,"BAD_COLLECTION_TYPE",`${h.tag} used for ${a} collection, but expects ${h.collection}`,!0):i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),$_(t,e,n,i,o)}const c=$_(t,e,n,i,o,l),u=((f=l.resolve)==null?void 0:f.call(l,c,h=>i(r,"TAG_RESOLVE_FAILED",h),e.options))??c,d=pn(u)?u:new mt(u);return d.range=c.range,d.tag=o,l!=null&&l.format&&(d.format=l.format),d}function P5(t,e,n){const s=e.offset,i=SF(e,t.options.strict,n);if(!i)return{value:"",type:null,comment:"",range:[s,s,s]};const r=i.mode===">"?mt.BLOCK_FOLDED:mt.BLOCK_LITERAL,o=e.source?TF(e.source):[];let a=o.length;for(let _=o.length-1;_>=0;--_){const p=o[_][1];if(p===""||p==="\r")a=_;else break}if(a===0){const _=i.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"";let p=s+i.length;return e.source&&(p+=e.source.length),{value:_,type:r,comment:i.comment,range:[s,p,p]}}let l=e.indent+i.indent,c=e.offset+i.length,u=0;for(let _=0;_<a;++_){const[p,g]=o[_];if(g===""||g==="\r")i.indent===0&&p.length>l&&(l=p.length);else{p.length<l&&n(c+p.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),i.indent===0&&(l=p.length),u=_,l===0&&!t.atRoot&&n(c,"BAD_INDENT","Block scalar values in collections must be indented");break}c+=p.length+g.length+1}for(let _=o.length-1;_>=a;--_)o[_][0].length>l&&(a=_+1);let d="",f="",h=!1;for(let _=0;_<u;++_)d+=o[_][0].slice(l)+`
`;for(let _=u;_<a;++_){let[p,g]=o[_];c+=p.length+g.length+1;const b=g[g.length-1]==="\r";if(b&&(g=g.slice(0,-1)),g&&p.length<l){const w=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;n(c-g.length-(b?2:1),"BAD_INDENT",w),p=""}r===mt.BLOCK_LITERAL?(d+=f+p.slice(l)+g,f=`
`):p.length>l||g[0]==="	"?(f===" "?f=`
`:!h&&f===`
`&&(f=`

`),d+=f+p.slice(l)+g,f=`
`,h=!0):g===""?f===`
`?d+=`
`:f=`
`:(d+=f+g,f=" ",h=!1)}switch(i.chomp){case"-":break;case"+":for(let _=a;_<o.length;++_)d+=`
`+o[_][0].slice(l);d[d.length-1]!==`
`&&(d+=`
`);break;default:d+=`
`}const y=s+i.length+e.source.length;return{value:d,type:r,comment:i.comment,range:[s,y,y]}}function SF({offset:t,props:e},n,s){if(e[0].type!=="block-scalar-header")return s(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:i}=e[0],r=i[0];let o=0,a="",l=-1;for(let f=1;f<i.length;++f){const h=i[f];if(!a&&(h==="-"||h==="+"))a=h;else{const y=Number(h);!o&&y?o=y:l===-1&&(l=t+f)}}l!==-1&&s(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let c=!1,u="",d=i.length;for(let f=1;f<e.length;++f){const h=e[f];switch(h.type){case"space":c=!0;case"newline":d+=h.source.length;break;case"comment":n&&!c&&s(h,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),d+=h.source.length,u=h.source.substring(1);break;case"error":s(h,"UNEXPECTED_TOKEN",h.message),d+=h.source.length;break;default:{const y=`Unexpected token in block scalar header: ${h.type}`;s(h,"UNEXPECTED_TOKEN",y);const _=h.source;_&&typeof _=="string"&&(d+=_.length)}}}return{mode:r,indent:o,chomp:a,comment:u,length:d}}function TF(t){const e=t.split(/\n( *)/),n=e[0],s=n.match(/^( *)/),r=[s!=null&&s[1]?[s[1],n.slice(s[1].length)]:["",n]];for(let o=1;o<e.length;o+=2)r.push([e[o],e[o+1]]);return r}function I5(t,e,n){const{offset:s,type:i,source:r,end:o}=t;let a,l;const c=(f,h,y)=>n(s+f,h,y);switch(i){case"scalar":a=mt.PLAIN,l=AF(r,c);break;case"single-quoted-scalar":a=mt.QUOTE_SINGLE,l=MF(r,c);break;case"double-quoted-scalar":a=mt.QUOTE_DOUBLE,l=RF(r,c);break;default:return n(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[s,s+r.length,s+r.length]}}const u=s+r.length,d=zf(o,u,e,n);return{value:l,type:a,comment:d.comment,range:[s,u,d.offset]}}function AF(t,e){let n="";switch(t[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${t[0]}`;break}case"@":case"`":{n=`reserved character ${t[0]}`;break}}return n&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),O5(t)}function MF(t,e){return(t[t.length-1]!=="'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing 'quote"),O5(t.slice(1,-1)).replace(/''/g,"'")}function O5(t){let e,n;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let s=e.exec(t);if(!s)return t;let i=s[1],r=" ",o=e.lastIndex;for(n.lastIndex=o;s=n.exec(t);)s[1]===""?r===`
`?i+=r:r=`
`:(i+=r+s[1],r=" "),o=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=o,s=a.exec(t),i+r+((s==null?void 0:s[1])??"")}function RF(t,e){let n="";for(let s=1;s<t.length-1;++s){const i=t[s];if(!(i==="\r"&&t[s+1]===`
`))if(i===`
`){const{fold:r,offset:o}=CF(t,s);n+=r,s=o}else if(i==="\\"){let r=t[++s];const o=kF[r];if(o)n+=o;else if(r===`
`)for(r=t[s+1];r===" "||r==="	";)r=t[++s+1];else if(r==="\r"&&t[s+1]===`
`)for(r=t[++s+1];r===" "||r==="	";)r=t[++s+1];else if(r==="x"||r==="u"||r==="U"){const a={x:2,u:4,U:8}[r];n+=PF(t,s+1,a,e),s+=a}else{const a=t.substr(s-1,2);e(s-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),n+=a}}else if(i===" "||i==="	"){const r=s;let o=t[s+1];for(;o===" "||o==="	";)o=t[++s+1];o!==`
`&&!(o==="\r"&&t[s+2]===`
`)&&(n+=s>r?t.slice(r,s+1):i)}else n+=i}return(t[t.length-1]!=='"'||t.length===1)&&e(t.length,"MISSING_CHAR",'Missing closing "quote'),n}function CF(t,e){let n="",s=t[e+1];for(;(s===" "||s==="	"||s===`
`||s==="\r")&&!(s==="\r"&&t[e+2]!==`
`);)s===`
`&&(n+=`
`),e+=1,s=t[e+1];return n||(n=" "),{fold:n,offset:e}}const kF={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function PF(t,e,n,s){const i=t.substr(e,n),o=i.length===n&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(o)){const a=t.substr(e-2,n+2);return s(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}function L5(t,e,n,s){const{value:i,type:r,comment:o,range:a}=e.type==="block-scalar"?P5(t,e,s):I5(e,t.options.strict,s),l=n?t.directives.tagName(n.source,d=>s(n,"TAG_RESOLVE_FAILED",d)):null,c=n&&l?IF(t.schema,i,l,n,s):e.type==="scalar"?OF(t,i,e,s):t.schema[Gr];let u;try{const d=c.resolve(i,f=>s(n??e,"TAG_RESOLVE_FAILED",f),t.options);u=Wt(d)?d:new mt(d)}catch(d){const f=d instanceof Error?d.message:String(d);s(n??e,"TAG_RESOLVE_FAILED",f),u=new mt(i)}return u.range=a,u.source=i,r&&(u.type=r),l&&(u.tag=l),c.format&&(u.format=c.format),o&&(u.comment=o),u}function IF(t,e,n,s,i){var a;if(n==="!")return t[Gr];const r=[];for(const l of t.tags)if(!l.collection&&l.tag===n)if(l.default&&l.test)r.push(l);else return l;for(const l of r)if((a=l.test)!=null&&a.test(e))return l;const o=t.knownTags[n];return o&&!o.collection?(t.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(i(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),t[Gr])}function OF({directives:t,schema:e},n,s,i){const r=e.tags.find(o=>{var a;return o.default&&((a=o.test)==null?void 0:a.test(n))})||e[Gr];if(e.compat){const o=e.compat.find(a=>{var l;return a.default&&((l=a.test)==null?void 0:l.test(n))})??e[Gr];if(r.tag!==o.tag){const a=t.tagString(r.tag),l=t.tagString(o.tag),c=`Value may be parsed as either ${a} or ${l}`;i(s,"TAG_RESOLVE_FAILED",c,!0)}}return r}function LF(t,e,n){if(e){n===null&&(n=e.length);for(let s=n-1;s>=0;--s){let i=e[s];switch(i.type){case"space":case"comment":case"newline":t-=i.source.length;continue}for(i=e[++s];(i==null?void 0:i.type)==="space";)t+=i.source.length,i=e[++s];break}}return t}const DF={composeNode:D5,composeEmptyNode:Wv};function D5(t,e,n,s){const{spaceBefore:i,comment:r,anchor:o,tag:a}=n;let l,c=!0;switch(e.type){case"alias":l=NF(t,e,s),(o||a)&&s(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":l=L5(t,e,a,s),o&&(l.anchor=o.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":l=EF(DF,t,e,n,s),o&&(l.anchor=o.source.substring(1));break;default:{const u=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;s(e,"UNEXPECTED_TOKEN",u),l=Wv(t,e.offset,void 0,null,n,s),c=!1}}return o&&l.anchor===""&&s(o,"BAD_ALIAS","Anchor cannot be an empty string"),i&&(l.spaceBefore=!0),r&&(e.type==="scalar"&&e.source===""?l.comment=r:l.commentBefore=r),t.options.keepSourceTokens&&c&&(l.srcToken=e),l}function Wv(t,e,n,s,{spaceBefore:i,comment:r,anchor:o,tag:a,end:l},c){const u={type:"scalar",offset:LF(e,n,s),indent:-1,source:""},d=L5(t,u,a,c);return o&&(d.anchor=o.source.substring(1),d.anchor===""&&c(o,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(d.spaceBefore=!0),r&&(d.comment=r,d.range[2]=l),d}function NF({options:t},{offset:e,source:n,end:s},i){const r=new Rg(n.substring(1));r.source===""&&i(e,"BAD_ALIAS","Alias cannot be an empty string"),r.source.endsWith(":")&&i(e+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=e+n.length,a=zf(s,o,t.strict,i);return r.range=[e,o,a.offset],a.comment&&(r.comment=a.comment),r}function UF(t,e,{offset:n,start:s,value:i,end:r},o){const a=Object.assign({_directives:e},t),l=new Pu(void 0,a),c={atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},u=su(s,{indicator:"doc-start",next:i??(r==null?void 0:r[0]),offset:n,onError:o,parentIndent:0,startOnNewline:!0});u.found&&(l.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!u.hasNewline&&o(u.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=i?D5(c,i,u,o):Wv(c,u.end,s,null,u,o);const d=l.contents.range[2],f=zf(r,d,!1,o);return f.comment&&(l.comment=f.comment),l.range=[n,d,f.offset],l}function Xu(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];const{offset:e,source:n}=t;return[e,e+(typeof n=="string"?n.length:1)]}function gE(t){var i;let e="",n=!1,s=!1;for(let r=0;r<t.length;++r){const o=t[r];switch(o[0]){case"#":e+=(e===""?"":s?`

`:`
`)+(o.substring(1)||" "),n=!0,s=!1;break;case"%":((i=t[r+1])==null?void 0:i[0])!=="#"&&(r+=1),n=!1;break;default:n||(s=!0),n=!1}}return{comment:e,afterEmptyLine:s}}class qv{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,s,i,r)=>{const o=Xu(n);r?this.warnings.push(new C5(o,s,i)):this.errors.push(new Wa(o,s,i))},this.directives=new os({version:e.version||"1.2"}),this.options=e}decorate(e,n){const{comment:s,afterEmptyLine:i}=gE(this.prelude);if(s){const r=e.contents;if(n)e.comment=e.comment?`${e.comment}
${s}`:s;else if(i||e.directives.docStart||!r)e.commentBefore=s;else if(an(r)&&!r.flow&&r.items.length>0){let o=r.items[0];rn(o)&&(o=o.key);const a=o.commentBefore;o.commentBefore=a?`${s}
${a}`:s}else{const o=r.commentBefore;r.commentBefore=o?`${s}
${o}`:s}}n?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:gE(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,n=!1,s=-1){for(const i of e)yield*this.next(i);yield*this.end(n,s)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(n,s,i)=>{const r=Xu(e);r[0]+=n,this.onError(r,"BAD_DIRECTIVE",s,i)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const n=UF(this.options,this.directives,e,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const n=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,s=new Wa(Xu(e),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(s):this.doc.errors.push(s);break}case"doc-end":{if(!this.doc){const s="Unexpected doc-end without preceding document";this.errors.push(new Wa(Xu(e),"UNEXPECTED_TOKEN",s));break}this.doc.directives.docEnd=!0;const n=zf(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const s=this.doc.comment;this.doc.comment=s?`${s}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new Wa(Xu(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const s=Object.assign({_directives:this.directives},this.options),i=new Pu(void 0,s);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,n,n],this.decorate(i,!1),yield i}}}function $F(t,e=!0,n){if(t){const s=(i,r,o)=>{const a=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(n)n(a,r,o);else throw new Wa([a,a+1],r,o)};switch(t.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return I5(t,e,s);case"block-scalar":return P5({options:{strict:e}},t,s)}}return null}function FF(t,e){const{implicitKey:n=!1,indent:s,inFlow:i=!1,offset:r=-1,type:o="PLAIN"}=e,a=Hf({type:o,value:t},{implicitKey:n,indent:s>0?" ".repeat(s):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}}),l=e.end??[{type:"newline",offset:-1,indent:s,source:`
`}];switch(a[0]){case"|":case">":{const c=a.indexOf(`
`),u=a.substring(0,c),d=a.substring(c+1)+`
`,f=[{type:"block-scalar-header",offset:r,indent:s,source:u}];return N5(f,l)||f.push({type:"newline",offset:-1,indent:s,source:`
`}),{type:"block-scalar",offset:r,indent:s,props:f,source:d}}case'"':return{type:"double-quoted-scalar",offset:r,indent:s,source:a,end:l};case"'":return{type:"single-quoted-scalar",offset:r,indent:s,source:a,end:l};default:return{type:"scalar",offset:r,indent:s,source:a,end:l}}}function BF(t,e,n={}){let{afterKey:s=!1,implicitKey:i=!1,inFlow:r=!1,type:o}=n,a="indent"in t?t.indent:null;if(s&&typeof a=="number"&&(a+=2),!o)switch(t.type){case"single-quoted-scalar":o="QUOTE_SINGLE";break;case"double-quoted-scalar":o="QUOTE_DOUBLE";break;case"block-scalar":{const c=t.props[0];if(c.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o=c.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:o="PLAIN"}const l=Hf({type:o,value:e},{implicitKey:i||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:r,options:{blockQuote:!0,lineWidth:-1}});switch(l[0]){case"|":case">":HF(t,l);break;case'"':F_(t,l,"double-quoted-scalar");break;case"'":F_(t,l,"single-quoted-scalar");break;default:F_(t,l,"scalar")}}function HF(t,e){const n=e.indexOf(`
`),s=e.substring(0,n),i=e.substring(n+1)+`
`;if(t.type==="block-scalar"){const r=t.props[0];if(r.type!=="block-scalar-header")throw new Error("Invalid block scalar header");r.source=s,t.source=i}else{const{offset:r}=t,o="indent"in t?t.indent:-1,a=[{type:"block-scalar-header",offset:r,indent:o,source:s}];N5(a,"end"in t?t.end:void 0)||a.push({type:"newline",offset:-1,indent:o,source:`
`});for(const l of Object.keys(t))l!=="type"&&l!=="offset"&&delete t[l];Object.assign(t,{type:"block-scalar",indent:o,props:a,source:i})}}function N5(t,e){if(e)for(const n of e)switch(n.type){case"space":case"comment":t.push(n);break;case"newline":return t.push(n),!0}return!1}function F_(t,e,n){switch(t.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":t.type=n,t.source=e;break;case"block-scalar":{const s=t.props.slice(1);let i=e.length;t.props[0].type==="block-scalar-header"&&(i-=t.props[0].source.length);for(const r of s)r.offset+=i;delete t.props,Object.assign(t,{type:n,source:e,end:s});break}case"block-map":case"block-seq":{const i={type:"newline",offset:t.offset+e.length,indent:t.indent,source:`
`};delete t.items,Object.assign(t,{type:n,source:e,end:[i]});break}default:{const s="indent"in t?t.indent:-1,i="end"in t&&Array.isArray(t.end)?t.end.filter(r=>r.type==="space"||r.type==="comment"||r.type==="newline"):[];for(const r of Object.keys(t))r!=="type"&&r!=="offset"&&delete t[r];Object.assign(t,{type:n,indent:s,source:e,end:i})}}}const GF=t=>"type"in t?xm(t):Hp(t);function xm(t){switch(t.type){case"block-scalar":{let e="";for(const n of t.props)e+=xm(n);return e+t.source}case"block-map":case"block-seq":{let e="";for(const n of t.items)e+=Hp(n);return e}case"flow-collection":{let e=t.start.source;for(const n of t.items)e+=Hp(n);for(const n of t.end)e+=n.source;return e}case"document":{let e=Hp(t);if(t.end)for(const n of t.end)e+=n.source;return e}default:{let e=t.source;if("end"in t&&t.end)for(const n of t.end)e+=n.source;return e}}}function Hp({start:t,key:e,sep:n,value:s}){let i="";for(const r of t)i+=r.source;if(e&&(i+=xm(e)),n)for(const r of n)i+=r.source;return s&&(i+=xm(s)),i}const j1=Symbol("break visit"),zF=Symbol("skip children"),U5=Symbol("remove item");function cl(t,e){"type"in t&&t.type==="document"&&(t={start:t.start,value:t.value}),$5(Object.freeze([]),t,e)}cl.BREAK=j1;cl.SKIP=zF;cl.REMOVE=U5;cl.itemAtPath=(t,e)=>{let n=t;for(const[s,i]of e){const r=n==null?void 0:n[s];if(r&&"items"in r)n=r.items[i];else return}return n};cl.parentCollection=(t,e)=>{const n=cl.itemAtPath(t,e.slice(0,-1)),s=e[e.length-1][0],i=n==null?void 0:n[s];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function $5(t,e,n){let s=n(e,t);if(typeof s=="symbol")return s;for(const i of["key","value"]){const r=e[i];if(r&&"items"in r){for(let o=0;o<r.items.length;++o){const a=$5(Object.freeze(t.concat([[i,o]])),r.items[o],n);if(typeof a=="number")o=a-1;else{if(a===j1)return j1;a===U5&&(r.items.splice(o,1),o-=1)}}typeof s=="function"&&i==="key"&&(s=s(e,t))}}return typeof s=="function"?s(e,t):s}const $g="\uFEFF",Fg="",Bg="",_f="",VF=t=>!!t&&"items"in t,jF=t=>!!t&&(t.type==="scalar"||t.type==="single-quoted-scalar"||t.type==="double-quoted-scalar"||t.type==="block-scalar");function WF(t){switch(t){case $g:return"<BOM>";case Fg:return"<DOC>";case Bg:return"<FLOW_END>";case _f:return"<SCALAR>";default:return JSON.stringify(t)}}function F5(t){switch(t){case $g:return"byte-order-mark";case Fg:return"doc-mode";case Bg:return"flow-error-end";case _f:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const qF=Object.freeze(Object.defineProperty({__proto__:null,BOM:$g,DOCUMENT:Fg,FLOW_END:Bg,SCALAR:_f,createScalarToken:FF,isCollection:VF,isScalar:jF,prettyToken:WF,resolveAsScalar:$F,setScalarValue:BF,stringify:GF,tokenType:F5,visit:cl},Symbol.toStringTag,{value:"Module"}));function fi(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const _E=new Set("0123456789ABCDEFabcdef"),XF=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),gh=new Set(",[]{}"),KF=new Set(` ,[]{}
\r	`),B_=t=>!t||KF.has(t);class B5{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,n=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!n;let s=this.next??"stream";for(;s&&(n||this.hasChars(1));)s=yield*this.parseNext(s)}atLineEnd(){let e=this.pos,n=this.buffer[e];for(;n===" "||n==="	";)n=this.buffer[++e];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let n=this.buffer[e];if(this.indentNext>0){let s=0;for(;n===" ";)n=this.buffer[++s+e];if(n==="\r"){const i=this.buffer[s+e+1];if(i===`
`||!i&&!this.atEnd)return e+s+1}return n===`
`||s>=this.indentNext||!n&&!this.atEnd?e+s:-1}if(n==="-"||n==="."){const s=this.buffer.substr(e,3);if((s==="---"||s==="...")&&fi(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===$g&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let n=e.length,s=e.indexOf("#");for(;s!==-1;){const r=e[s-1];if(r===" "||r==="	"){n=s-1;break}else s=e.indexOf("#",s+1)}for(;;){const r=e[n-1];if(r===" "||r==="	")n-=1;else break}const i=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-n),yield*this.pushNewline(),"stream"}return yield Fg,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if((n==="---"||n==="...")&&fi(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!fi(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&fi(n)){const s=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=s,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(e[n]){case"#":yield*this.pushCount(e.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(B_),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,n,s=-1;do e=yield*this.pushNewline(),e>0?(n=yield*this.pushSpaces(!1),this.indentValue=s=n):n=0,n+=yield*this.pushSpaces(!0);while(e+n>0);const i=this.getLine();if(i===null)return this.setNext("flow");if((s!==-1&&s<this.indentNext&&i[0]!=="#"||s===0&&(i.startsWith("---")||i.startsWith("..."))&&fi(i[3]))&&!(s===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield Bg,yield*this.parseLineStart();let r=0;for(;i[r]===",";)r+=yield*this.pushCount(1),r+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(r+=yield*this.pushIndicators(),i[r]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-r),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(B_),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||fi(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let n=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let r=0;for(;this.buffer[n-1-r]==="\\";)r+=1;if(r%2===0)break;n=this.buffer.indexOf('"',n+1)}const s=this.buffer.substring(0,n);let i=s.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){const r=this.continueScalar(i+1);if(r===-1)break;i=s.indexOf(`
`,r)}i!==-1&&(n=i-(s[i-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const n=this.buffer[++e];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>fi(n)||n==="#")}*parseBlockScalar(){let e=this.pos-1,n=0,s;e:for(let r=this.pos;s=this.buffer[r];++r)switch(s){case" ":n+=1;break;case`
`:e=r,n=0;break;case"\r":{const o=this.buffer[r+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!s&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const r=this.continueScalar(e+1);if(r===-1)break;e=this.buffer.indexOf(`
`,r)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}let i=e+1;for(s=this.buffer[i];s===" ";)s=this.buffer[++i];if(s==="	"){for(;s==="	"||s===" "||s==="\r"||s===`
`;)s=this.buffer[++i];e=i-1}else if(!this.blockScalarKeep)do{let r=e-1,o=this.buffer[r];o==="\r"&&(o=this.buffer[--r]);const a=r;for(;o===" ";)o=this.buffer[--r];if(o===`
`&&r>=this.pos&&r+1+n>a)e=r;else break}while(!0);return yield _f,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let n=this.pos-1,s=this.pos-1,i;for(;i=this.buffer[++s];)if(i===":"){const r=this.buffer[s+1];if(fi(r)||e&&gh.has(r))break;n=s}else if(fi(i)){let r=this.buffer[s+1];if(i==="\r"&&(r===`
`?(s+=1,i=`
`,r=this.buffer[s+1]):n=s),r==="#"||e&&gh.has(r))break;if(i===`
`){const o=this.continueScalar(s+1);if(o===-1)break;s=Math.max(s,o-2)}}else{if(e&&gh.has(i))break;n=s}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield _f,yield*this.pushToIndex(n+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,n){const s=this.buffer.slice(this.pos,e);return s?(yield s,this.pos+=s.length,s.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(B_))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,n=this.charAt(1);if(fi(n)||e&&gh.has(n))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,n=this.buffer[e];for(;!fi(n)&&n!==">";)n=this.buffer[++e];return yield*this.pushToIndex(n===">"?e+1:e,!1)}else{let e=this.pos+1,n=this.buffer[e];for(;n;)if(XF.has(n))n=this.buffer[++e];else if(n==="%"&&_E.has(this.buffer[e+1])&&_E.has(this.buffer[e+2]))n=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let n=this.pos-1,s;do s=this.buffer[++n];while(s===" "||e&&s==="	");const i=n-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=n),i}*pushUntil(e){let n=this.pos,s=this.buffer[n];for(;!e(s);)s=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class H5{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let n=0,s=this.lineStarts.length;for(;n<s;){const r=n+s>>1;this.lineStarts[r]<e?n=r+1:s=r}if(this.lineStarts[n]===e)return{line:n+1,col:1};if(n===0)return{line:0,col:e};const i=this.lineStarts[n-1];return{line:n,col:e-i+1}}}}function Na(t,e){for(let n=0;n<t.length;++n)if(t[n].type===e)return!0;return!1}function yE(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function G5(t){switch(t==null?void 0:t.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function _h(t){switch(t.type){case"document":return t.start;case"block-map":{const e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function Al(t){var n;if(t.length===0)return[];let e=t.length;e:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((n=t[++e])==null?void 0:n.type)==="space";);return t.splice(e,t.length)}function bE(t){if(t.start.type==="flow-seq-start")for(const e of t.items)e.sep&&!e.value&&!Na(e.start,"explicit-key-ind")&&!Na(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,G5(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class Xv{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new B5,this.onNewLine=e}*parse(e,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const s of this.lexer.lex(e,n))yield*this.next(s);n||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const n=F5(e);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const s=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:s,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const n=e??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const s=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in s?s.indent:0:n.type==="flow-collection"&&s.type==="document"&&(n.indent=0),n.type==="flow-collection"&&bE(n),s.type){case"document":s.value=n;break;case"block-scalar":s.props.push(n);break;case"block-map":{const i=s.items[s.items.length-1];if(i.value){s.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=n;else{Object.assign(i,{key:n,sep:[]}),this.onKeyLine=!i.explicitKey;return}break}case"block-seq":{const i=s.items[s.items.length-1];i.value?s.items.push({start:[],value:n}):i.value=n;break}case"flow-collection":{const i=s.items[s.items.length-1];!i||i.value?s.items.push({start:[],key:n,sep:[]}):i.sep?i.value=n:Object.assign(i,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((s.type==="document"||s.type==="block-map"||s.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const i=n.items[n.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&yE(i.start)===-1&&(n.indent===0||i.start.every(r=>r.type!=="comment"||r.indent<n.indent))&&(s.type==="document"?s.end=i.start:s.items.push({start:i.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{yE(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const n=this.startBlockValue(e);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const n=_h(this.peek(2)),s=Al(n);let i;e.end?(i=e.end,i.push(this.sourceToken),delete e.end):i=[this.sourceToken];const r={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:s,key:e,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=r}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){var s;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const i="end"in n.value?n.value.end:void 0,r=Array.isArray(i)?i[i.length-1]:void 0;(r==null?void 0:r.type)==="comment"?i==null||i.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){const i=e.items[e.items.length-2],r=(s=i==null?void 0:i.value)==null?void 0:s.end;if(Array.isArray(r)){Array.prototype.push.apply(r,n.start),r.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const i=!this.onKeyLine&&this.indent===e.indent,r=i&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let o=[];if(r&&n.sep&&!n.value){const a=[];for(let l=0;l<n.sep.length;++l){const c=n.sep[l];switch(c.type){case"newline":a.push(l);break;case"space":break;case"comment":c.indent>e.indent&&(a.length=0);break;default:a.length=0}}a.length>=2&&(o=n.sep.splice(a[1]))}switch(this.type){case"anchor":case"tag":r||n.value?(o.push(this.sourceToken),e.items.push({start:o}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):r||n.value?(o.push(this.sourceToken),e.items.push({start:o,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Na(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(G5(n.key)&&!Na(n.sep,"newline")){const a=Al(n.start),l=n.key,c=n.sep;c.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:l,sep:c}]})}else o.length>0?n.sep=n.sep.concat(o,this.sourceToken):n.sep.push(this.sourceToken);else if(Na(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const a=Al(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||r?e.items.push({start:o,key:null,sep:[this.sourceToken]}):Na(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const a=this.flowScalar(this.type);r||n.value?(e.items.push({start:o,key:a,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(a):(Object.assign(n,{key:a,sep:[]}),this.onKeyLine=!0);return}default:{const a=this.startBlockValue(e);if(a){i&&a.type!=="block-seq"&&e.items.push({start:o}),this.stack.push(a);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){var s;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){const i="end"in n.value?n.value.end:void 0,r=Array.isArray(i)?i[i.length-1]:void 0;(r==null?void 0:r.type)==="comment"?i==null||i.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){const i=e.items[e.items.length-2],r=(s=i==null?void 0:i.value)==null?void 0:s.end;if(Array.isArray(r)){Array.prototype.push.apply(r,n.start),r.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||Na(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){const i=this.startBlockValue(e);if(i){this.stack.push(i);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const n=e.items[e.items.length-1];if(this.type==="flow-error-end"){let s;do yield*this.pop(),s=this.peek(1);while(s&&s.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?e.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);!n||n.value?e.items.push({start:[],key:i,sep:[]}):n.sep?this.stack.push(i):Object.assign(n,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const s=this.startBlockValue(e);s?this.stack.push(s):(yield*this.pop(),yield*this.step())}else{const s=this.peek(2);if(s.type==="block-map"&&(this.type==="map-value-ind"&&s.indent===e.indent||this.type==="newline"&&!s.items[s.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&s.type!=="flow-collection"){const i=_h(s),r=Al(i);bE(e);const o=e.end.splice(1,e.end.length);o.push(this.sourceToken);const a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:r,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=_h(e),s=Al(n);return s.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=_h(e),s=Al(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,n){return this.type!=="comment"||this.indent<=n?!1:e.every(s=>s.type==="newline"||s.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function z5(t){const e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new H5||null,prettyErrors:e}}function YF(t,e={}){const{lineCounter:n,prettyErrors:s}=z5(e),i=new Xv(n==null?void 0:n.addNewLine),r=new qv(e),o=Array.from(r.compose(i.parse(t)));if(s&&n)for(const a of o)a.errors.forEach(wm(t,n)),a.warnings.forEach(wm(t,n));return o.length>0?o:Object.assign([],{empty:!0},r.streamInfo())}function V5(t,e={}){const{lineCounter:n,prettyErrors:s}=z5(e),i=new Xv(n==null?void 0:n.addNewLine),r=new qv(e);let o=null;for(const a of r.compose(i.parse(t),!0,t.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new Wa(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return s&&n&&(o.errors.forEach(wm(t,n)),o.warnings.forEach(wm(t,n))),o}function ZF(t,e,n){let s;typeof e=="function"?s=e:n===void 0&&e&&typeof e=="object"&&(n=e);const i=V5(t,n);if(!i)return null;if(i.warnings.forEach(r=>d5(i.options.logLevel,r)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:s},n))}function JF(t,e,n){let s=null;if(typeof e=="function"||Array.isArray(e)?s=e:n===void 0&&e&&(n=e),typeof n=="string"&&(n=n.length),typeof n=="number"){const i=Math.round(n);n=i<1?void 0:i>8?{indent:8}:{indent:i}}if(t===void 0){const{keepUndefined:i}=n??e??{};if(!i)return}return new Pu(t,s,n).toString(n)}const zr=Object.freeze(Object.defineProperty({__proto__:null,Alias:Rg,CST:qF,Composer:qv,Document:Pu,Lexer:B5,LineCounter:H5,Pair:Jn,Parser:Xv,Scalar:mt,Schema:Ug,YAMLError:jv,YAMLMap:Hs,YAMLParseError:Wa,YAMLSeq:Jo,YAMLWarning:C5,isAlias:yl,isCollection:an,isDocument:Au,isMap:Mu,isNode:pn,isPair:rn,isScalar:Wt,isSeq:Ru,parse:ZF,parseAllDocuments:YF,parseDocument:V5,stringify:JF,visit:Zo,visitAsync:Mg},Symbol.toStringTag,{value:"Module"}));function W1(t){if(t!==void 0&&t!=="NONE"){if(Array.isArray(t)){for(let e=t.length-1;e>=0;e--)t[e]=W1(t[e]),t[e]||t.splice(e,1);if(t.length==0)return}if(Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);for(let n=e.length-1;n>=0;n--)t[e[n]]=W1(t[e[n]]),t[e[n]]||delete t[e[n]];if(Object.keys(t).length==0)return}return t}}const Iu=es("target",{state:()=>({name:"",brushless:!0,gyro_orientation:0,leds:[],serial_ports:[],serial_soft_ports:[],spi_ports:[],motor_pins:[]}),getters:{yaml(t){const e=hn();return zr.stringify(W1({mcu:e.mcu,...t.$state}))},serial_port_names(t){const e={},n=hn();if(n.quicVersionGte("0.2.0")){for(const s of t.serial_ports)s.index!=0&&(e[`SERIAL_PORT${s.index}`]=s.index);for(const s of t.serial_soft_ports)s.index!=0&&(e[`SERIAL_SOFT_PORT${s.index}`]=100+s.index)}else for(let s=1;s<n.usart_ports.length;s++)e[n.usart_ports[s]]=s;return e},motor_pin_names(t){const e=hn();return e.quicVersionGte("0.2.0")?t.motor_pins:e.motor_pins}},actions:{fetch(){return bt.get(ln.Target).then(t=>this.$patch(t))},apply(t){const e=tn();return bt.set(ln.Target,t).then(()=>this.fetch()).then(()=>e.append_alert({type:"success",msg:"Target applied!"}))}}});function Em(t,e){for(const[n,s]of Object.entries(e))s!==null&&typeof s=="object"?(t[n]===void 0&&(t[n]=new s.__proto__.constructor),Em(t[n],s)):t[n]=s;return t}function H_(t,e,n){return t<<16|e<<8|n}function vE(t){return t=t||H_(0,1,0),t<H_(0,1,0)&&(t=H_(0,1,0)),t}function QF(t,e,n,s){var i,r,o,a,l,c,u;if(Ss.eq(n,"v0.1.0")){const d={mode:0,rate:[((i=t.rate.silverware)==null?void 0:i.max_rate)||[860,860,500],((r=t.rate.silverware)==null?void 0:r.acro_expo)||[.8,.8,.6],((o=t.rate.silverware)==null?void 0:o.angle_expo)||[.55,0,.55]]},f={mode:1,rate:[((a=t.rate.betaflight)==null?void 0:a.rc_rate)||[1.3,1.3,1.3],((l=t.rate.betaflight)==null?void 0:l.super_rate)||[.7,.7,.7],((c=t.rate.betaflight)==null?void 0:c.expo)||[.4,.4,.4]]};t.rate.profile=0,t.rate.mode==0?t.rate.rates=[d,f]:t.rate.rates=[f,d]}if(Ss.lt(n,"v0.2.2")&&Ss.gte(s,"v0.2.2")){const d=e.serial_ports.filter(f=>f.index!=0);for(const f of Object.keys(t.serial))t.serial[f]!=0&&(t.serial[f]<=d.length?t.serial[f]=d[t.serial[f]-1].index:t.serial[f]=t.serial[f]-d.length+100)}return t.meta.name&&(t.meta.name=t.meta.name.replace(/\0/g,"")),(u=t.osd)!=null&&u.callsign&&(t.osd.callsign=t.osd.callsign.replace(/\0/g,"")),t}function G_(t){var o,a;const e=Iu(),n=Bf(),s=vE((o=n==null?void 0:n.meta)==null?void 0:o.version),i=vE((a=t==null?void 0:t.meta)==null?void 0:a.version);let r=JSON.parse(JSON.stringify(t));return r.meta||(r.meta={}),s!=i&&(r=QF(r,e.$state,Qc(i),Qc(s))),r.meta.datetime=Math.floor(Date.now()/1e3),r}const Gt=es("profile",{state:()=>({semver:"v0.0.0",modified:"",serial:{rx:0,smart_audio:0,hdzero:0},filter:{gyro:[{},{}],dterm:[{},{}]},osd:{callsign:"",elements:[],elements_hd:[]},meta:{name:"",datetime:0},motor:{gyro_orientation:0,invert_yaw:1,motor_pins:[]},rate:{mode:0,profile:0,silverware:{},betaflight:{},low_rate_mulitplier:0,level_max_angle:0,sticks_deadband:0,rates:[],throttle_expo:0,throttle_mid:0},voltage:{vbat_scale:0,ibat_scale:0},receiver:{lqi_source:-1,channel_mapping:0,aux:[],protocol:0},pid:{pid_profile:0,pid_rates:[{}],stick_profile:0,stick_rates:[{}],big_angle:{},small_angle:{},throttle_dterm_attenuation:{}},blackbox:{field_flags:0,sample_rate_hz:0}}),getters:{current_pid_rate:t=>t.pid.pid_rates[t.pid.pid_profile],current_stick_rate:t=>t.pid.stick_rates[t.pid.stick_profile],profileVersionGt(t){return e=>Ss.gt(t.semver,e)}},actions:{set_profile(t){t.modified=G$(new Date(t.meta.datetime*1e3)),t.semver=Qc(t.meta.version),t.meta.name=t.meta.name.replace(/\0/g,""),this.$patch(t)},set_current_pid_rate(t){const e=[...this.pid.pid_rates];e[this.pid.pid_profile]=t,this.pid={...this.pid,pid_rates:e}},set_current_stick_rate(t){const e=[...this.pid.stick_rates];e[this.pid.stick_profile]=t,this.pid={...this.pid,stick_rates:e}},set_osd_elements(t){this.osd={...this.osd,elements:t}},set_osd_elements_hd(t){this.osd={...this.osd,elements_hd:t}},reset(){const t=Bf();return this.apply_profile(t.$state)},fetch_profile(){return bt.get(ln.Profile).then(t=>this.set_profile(t))},async merge_profile(t){const e=G_(await bt.get(ln.Profile)),n=G_(t),s=Em(e,n);return this.apply_profile(s)},apply_profile(t){const e=tn(),n=G_(t);return bt.set(ln.Profile,n).then(s=>this.set_profile(s)).then(()=>e.append_alert({type:"success",msg:"Profile applied!"})).then(()=>e.reset_needs_apply()).catch(s=>{ut.error(s),e.append_alert({type:"danger",msg:"Apply failed! "+s})})}}}),q1=es("vtx",{state:()=>({settings:{protocol:0,detected:0,channel:0,band:0,power_table:{levels:0,labels:[],values:[]}}}),actions:{apply_vtx_settings(t){const e=tn();if(t.power_table)for(let n=0;n<t.power_table.labels.length;n++)for(;t.power_table.labels[n].length<3;)t.power_table.labels[n]+=" ";return bt.set(ln.VtxSettings,t).then(n=>this.settings=n).then(()=>{e.append_alert({type:"success",msg:"Apply successful!"})}).catch(()=>{e.append_alert({type:"danger",msg:"Apply failed"})})},update_vtx_settings(t=!1){if(this.settings.detected==0||t)return bt.get(ln.VtxSettings).then(e=>{const n=e.detected==0?this.settings.protocol:e.protocol;this.settings={...e,protocol:n}})}}}),j5=es("perf",{state:()=>({counters:[]}),actions:{fetch_perf_counters(){return bt.get(ln.PerfCounters).then(t=>this.counters=t)}}}),Kv=es("bind",{state:()=>({info:{bind_saved:0,raw:new Uint8Array}}),actions:{fetch_bind_info(){return bt.get(ln.BindInfo).then(t=>this.info=t)},apply_bind_info(t){const e=tn();return bt.set(ln.BindInfo,t).then(n=>this.info=n).then(()=>e.set_needs_reboot()).then(()=>e.append_alert({type:"success",msg:"Bind info applied!"})).catch(n=>{ut.error(n),e.append_alert({type:"danger",msg:"Apply failed! "+n})})}}}),e9=it({name:"Motor",setup(){return{profile:Gt(),info:hn(),constants:la()}},data(){return{invertYawModes:[{value:0,text:"Props In"},{value:1,text:"Props Out"}],dshotTimes:[{value:150,text:"150"},{value:300,text:"300"},{value:600,text:"600"}]}},computed:{gyroOrientation:{get(){return this.profile.motor.gyro_orientation&31},set(t){this.profile.motor.gyro_orientation=t|(this.gyroFlip?this.constants.GyroRotation.FLIP_180:0)}},gyroOrientations(){return[{value:this.constants.GyroRotation.ROTATE_NONE,text:"ROTATE_NONE"},{value:this.constants.GyroRotation.ROTATE_45_CCW,text:"ROTATE_45_CCW"},{value:this.constants.GyroRotation.ROTATE_45_CW,text:"ROTATE_45_CW"},{value:this.constants.GyroRotation.ROTATE_90_CW,text:"ROTATE_90_CW"},{value:this.constants.GyroRotation.ROTATE_90_CCW,text:"ROTATE_90_CCW"},{value:this.constants.GyroRotation.ROTATE_90_CCW|this.constants.GyroRotation.ROTATE_45_CCW,text:"ROTATE_135_CW"},{value:this.constants.GyroRotation.ROTATE_90_CW|this.constants.GyroRotation.ROTATE_45_CW,text:"ROTATE_135_CCW"},{value:this.constants.GyroRotation.ROTATE_180,text:"ROTATE_180"}]},gyroFlip:{get(){return(this.profile.motor.gyro_orientation&this.constants.GyroRotation.FLIP_180)>0},set(t){this.profile.motor.gyro_orientation=this.gyroOrientation|(t?this.constants.GyroRotation.FLIP_180:0)}}}}),t9={class:"card"},n9=m("header",{class:"card-header"},[m("p",{class:"card-header-title"},"Motor")],-1),s9={class:"card-content"},i9={class:"content column-narrow field-is-5"},r9={class:"columns"},o9={class:"column is-6"},a9={id:"svg1",width:"100%",style:{"max-width":"400px",width:"100%"},height:"400",viewBox:"0 0 135.46665 135.46665",version:"1.1","sodipodi:docname":"props_view.svg","inkscape:version":"1.3.2 (091e20ef0f, 2023-11-25, custom)","xml:space":"preserve","xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape","xmlns:sodipodi":"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd",xmlns:"http://www.w3.org/2000/svg","xmlns:svg":"http://www.w3.org/2000/svg"},l9=m("path",{id:"path1",style:{fill:"none",stroke:"#7a7a7a","stroke-width":"11.1468","stroke-linecap":"round","stroke-linejoin":"miter","stroke-dasharray":"none","stroke-opacity":"1"},d:"M 108.49869,108.49869 26.967982,26.967982"},null,-1),c9=m("path",{id:"path2",style:{display:"inline",fill:"#7a7a7a","fill-opacity":"1",stroke:"#7a7a7a","stroke-width":"11.1468","stroke-linecap":"round","stroke-linejoin":"miter","stroke-dasharray":"none","stroke-opacity":"1"},d:"M 26.967982,108.49869 108.49869,26.967982","inkscape:label":"path2"},null,-1),u9={key:0,id:"g5",style:{"stroke-width":"2.64583","stroke-dasharray":"none"},transform:"matrix(1.2037011,0,0,1.2037011,-13.909145,-13.640148)","inkscape:label":"props_in_bl"},d9=m("circle",{id:"path4",style:{fill:"none","fill-opacity":"1",stroke:"#62a834","stroke-width":"2.64583","stroke-linecap":"round","stroke-dasharray":"none","stroke-opacity":"1"},cx:"33.959526",cy:"101.60001",r:"13.229167"},null,-1),f9=m("path",{id:"path5",style:{fill:"none",stroke:"#7a7a7a","stroke-width":"2.64583","stroke-linecap":"round","stroke-linejoin":"miter","stroke-dasharray":"none","stroke-opacity":"1"},d:"m 25.42414,111.81499 0.346888,-6.75997"},null,-1),h9=m("path",{id:"path5-6",style:{fill:"none",stroke:"#7a7a7a","stroke-width":"2.64583","stroke-linecap":"round","stroke-linejoin":"miter","stroke-dasharray":"none","stroke-opacity":"1"},d:"m 25.42414,111.81499 -6.759978,0.34689"},null,-1),p9=[d9,f9,h9],m9={key:1,id:"g5-2",transform:"matrix(-1.2037011,0,0,-1.2037011,149.37581,149.26403)",style:{"stroke-width":"2.64583","stroke-dasharray":"none"},"inkscape:label":"props_in_fr"},g9=m("circle",{id:"path4-0",style:{fill:"none","fill-opacity":"1",stroke:"#62a834","stroke-width":"2.64583","stroke-linecap":"round","stroke-dasharray":"none","stroke-opacity":"1"},cx:"33.959526",cy:"101.60001",r:"13.229167"},null,-1),_9=m("path",{id:"path5-2",style:{fill:"none",stroke:"#7a7a7a","stroke-width":"2.64583","stroke-linecap":"round","stroke-linejoin":"miter","stroke-dasharray":"none","stroke-opacity":"1"},d:"m 25.42414,111.81499 0.346888,-6.75997"},null,-1),y9=m("path",{id:"path5-6-3",style:{fill:"none",stroke:"#7a7a7a","stroke-width":"2.64583","stroke-linecap":"round","stroke-linejoin":"miter","stroke-dasharray":"none","stroke-opacity":"1"},d:"m 25.42414,111.81499 -6.759978,0.34689"},null,-1),b9=[g9,_9,y9],v9={key:2,id:"g5-2-2",transform:"matrix(-1.2037013,0,0,1.2037013,149.37582,-13.797383)",style:{"stroke-width":"2.64583","stroke-dasharray":"none"},"inkscape:label":"props_in_br"},w9=m("circle",{id:"path4-0-2",style:{fill:"none","fill-opacity":"1",stroke:"#62a834","stroke-width":"2.64583","stroke-linecap":"round","stroke-dasharray":"none","stroke-opacity":"1"},cx:"33.959526",cy:"101.60001",r:"13.229167"},null,-1),x9=m("path",{id:"path5-2-8",style:{fill:"none",stroke:"#7a7a7a","stroke-width":"2.64583","stroke-linecap":"round","stroke-linejoin":"miter","stroke-dasharray":"none","stroke-opacity":"1"},d:"m 25.42414,111.81499 0.346888,-6.75997"},null,-1),E9=m("path",{id:"path5-6-3-9",style:{fill:"none",stroke:"#7a7a7a","stroke-width":"2.64583","stroke-linecap":"round","stroke-linejoin":"miter","stroke-dasharray":"none","stroke-opacity":"1"},d:"m 25.42414,111.81499 -6.759978,0.34689"},null,-1),S9=[w9,x9,E9],T9={key:3,id:"g5-2-1-2",transform:"matrix(1.2037013,0,0,-1.2037013,-13.829304,149.26404)",style:{display:"inline","stroke-width":"2.64583","stroke-dasharray":"none"},"inkscape:label":"props_in_fl"},A9=m("circle",{id:"path4-0-29-54",style:{fill:"none","fill-opacity":"1",stroke:"#62a834","stroke-width":"2.64583","stroke-linecap":"round","stroke-dasharray":"none","stroke-opacity":"1"},cx:"33.959526",cy:"101.60001",r:"13.229167"},null,-1),M9=m("path",{id:"path5-2-3-7",style:{fill:"none",stroke:"#7a7a7a","stroke-width":"2.64583","stroke-linecap":"round","stroke-linejoin":"miter","stroke-dasharray":"none","stroke-opacity":"1"},d:"m 25.42414,111.81499 0.346888,-6.75997"},null,-1),R9=m("path",{id:"path5-6-3-1-4",style:{fill:"none",stroke:"#7a7a7a","stroke-width":"2.64583","stroke-linecap":"round","stroke-linejoin":"miter","stroke-dasharray":"none","stroke-opacity":"1"},d:"m 25.42414,111.81499 -6.759978,0.34689"},null,-1),C9=[A9,M9,R9],k9={key:4,id:"g5-2-1",transform:"matrix(1.2037013,0,0,-1.2037013,-13.909145,149.65895)",style:{display:"inline","stroke-width":"2.64583","stroke-dasharray":"none"},"inkscape:label":"props_out_fl"},P9=m("circle",{id:"path4-0-29",style:{fill:"none","fill-opacity":"1",stroke:"#62a834","stroke-width":"2.64583","stroke-linecap":"round","stroke-dasharray":"none","stroke-opacity":"1"},cx:"33.959526",cy:"101.60001",r:"13.229167"},null,-1),I9=m("path",{id:"path5-2-3",style:{fill:"none",stroke:"#7a7a7a","stroke-width":"2.64583","stroke-linecap":"round","stroke-linejoin":"miter","stroke-dasharray":"none","stroke-opacity":"1"},d:"m 22.533776,108.2281 -0.34689,6.75997"},null,-1),O9=m("path",{id:"path5-6-3-1",style:{fill:"none",stroke:"#7a7a7a","stroke-width":"2.64583","stroke-linecap":"round","stroke-linejoin":"miter","stroke-dasharray":"none","stroke-opacity":"1"},d:"m 22.533776,108.2281 6.75997,-0.34689"},null,-1),L9=[P9,I9,O9],D9={key:5,id:"g5-2-1-8",transform:"matrix(-1.2037011,0,0,-1.2037011,149.37581,149.26403)",style:{display:"inline","stroke-width":"2.64583","stroke-dasharray":"none"},"inkscape:label":"props_out_fr"},N9=m("circle",{id:"path4-0-29-4",style:{fill:"none","fill-opacity":"1",stroke:"#62a834","stroke-width":"2.64583","stroke-linecap":"round","stroke-dasharray":"none","stroke-opacity":"1"},cx:"33.959526",cy:"101.60001",r:"13.229167"},null,-1),U9=m("path",{id:"path5-2-3-5",style:{fill:"none",stroke:"#7a7a7a","stroke-width":"2.64583","stroke-linecap":"round","stroke-linejoin":"miter","stroke-dasharray":"none","stroke-opacity":"1"},d:"m 22.533776,108.2281 -0.34689,6.75997"},null,-1),$9=m("path",{id:"path5-6-3-1-0",style:{fill:"none",stroke:"#7a7a7a","stroke-width":"2.64583","stroke-linecap":"round","stroke-linejoin":"miter","stroke-dasharray":"none","stroke-opacity":"1"},d:"m 22.533776,108.2281 6.75997,-0.34689"},null,-1),F9=[N9,U9,$9],B9={key:6,id:"g5-2-1-0",transform:"matrix(-1.2037013,0,0,1.2037013,149.37582,-13.988638)",style:{display:"inline","stroke-width":"2.64583","stroke-dasharray":"none"},"inkscape:label":"props_out_br"},H9=m("circle",{id:"path4-0-29-6",style:{fill:"none","fill-opacity":"1",stroke:"#62a834","stroke-width":"2.64583","stroke-linecap":"round","stroke-dasharray":"none","stroke-opacity":"1"},cx:"33.959526",cy:"101.60001",r:"13.229167"},null,-1),G9=m("path",{id:"path5-2-3-3",style:{fill:"none",stroke:"#7a7a7a","stroke-width":"2.64583","stroke-linecap":"round","stroke-linejoin":"miter","stroke-dasharray":"none","stroke-opacity":"1"},d:"m 22.533776,108.2281 -0.34689,6.75997"},null,-1),z9=m("path",{id:"path5-6-3-1-2",style:{fill:"none",stroke:"#7a7a7a","stroke-width":"2.64583","stroke-linecap":"round","stroke-linejoin":"miter","stroke-dasharray":"none","stroke-opacity":"1"},d:"m 22.533776,108.2281 6.75997,-0.34689"},null,-1),V9=[H9,G9,z9],j9={key:7,id:"g5-2-1-5",transform:"matrix(1.2037011,0,0,1.2037011,-13.909145,-13.842473)",style:{display:"inline","stroke-width":"2.64583","stroke-dasharray":"none"},"inkscape:label":"props_out_bl"},W9=m("circle",{id:"path4-0-29-5",style:{fill:"none","fill-opacity":"1",stroke:"#62a834","stroke-width":"2.64583","stroke-linecap":"round","stroke-dasharray":"none","stroke-opacity":"1"},cx:"33.959526",cy:"101.60001",r:"13.229167"},null,-1),q9=m("path",{id:"path5-2-3-4",style:{fill:"none",stroke:"#7a7a7a","stroke-width":"2.64583","stroke-linecap":"round","stroke-linejoin":"miter","stroke-dasharray":"none","stroke-opacity":"1"},d:"m 22.533776,108.2281 -0.34689,6.75997"},null,-1),X9=m("path",{id:"path5-6-3-1-7",style:{fill:"none",stroke:"#7a7a7a","stroke-width":"2.64583","stroke-linecap":"round","stroke-linejoin":"miter","stroke-dasharray":"none","stroke-opacity":"1"},d:"m 22.533776,108.2281 6.75997,-0.34689"},null,-1),K9=[W9,q9,X9],Y9={class:"column is-6"},Z9={class:"field is-horizontal"},J9={class:"field-label"},Q9={class:"label"},eB={class:"field-body"},tB={class:"field"},nB={class:"control is-expanded"},sB={class:"field is-horizontal"},iB={class:"field-label"},rB={class:"label"},oB={class:"field-body"},aB={class:"field"},lB={class:"control is-expanded"},cB={key:0,class:"field is-horizontal"},uB={class:"field-label"},dB={class:"label"},fB={class:"field-body"},hB={class:"field"},pB={class:"control is-expanded"},mB={class:"field is-horizontal"},gB={class:"field-label"},_B={class:"label"},yB={class:"field-body"},bB={class:"field"},vB={class:"control is-expanded"},wB=m("label",{class:"py-0",style:{height:"2em"},for:"gyro-flip"},null,-1),xB={class:"field is-horizontal"},EB={class:"field-label"},SB={class:"label"},TB={class:"field-body"},AB={class:"field"},MB={class:"control is-expanded"},RB={class:"field is-horizontal"},CB={class:"field-label"},kB={class:"label"},PB={class:"field-body"},IB={class:"field"},OB={class:"control is-expanded"},LB={class:"field is-horizontal"},DB={class:"field-label"},NB={class:"label"},UB={class:"field-body"},$B={class:"field"},FB={class:"control is-expanded"},BB={class:"field is-horizontal"},HB={class:"field-label"},GB={class:"label"},zB={class:"field-body"},VB={class:"field"},jB={class:"control is-expanded"},WB={key:1,class:"field is-horizontal"},qB={class:"field-label"},XB={class:"label"},KB={class:"field-body"},YB={class:"field"},ZB={class:"control is-expanded"};function JB(t,e,n,s,i,r){const o=Le("tooltip"),a=Le("input-select");return Q(),re("div",t9,[n9,m("div",s9,[m("div",i9,[m("div",r9,[m("div",o9,[m("div",null,[m("h4",null,[we(" Props "+Fe(t.profile.motor.invert_yaw?"Out":"In")+" ",1),J(o,{entry:"motor.invert_yaw"})]),(Q(),re("svg",a9,[l9,c9,t.profile.motor.invert_yaw?Ve("",!0):(Q(),re("g",u9,p9)),t.profile.motor.invert_yaw?Ve("",!0):(Q(),re("g",m9,b9)),t.profile.motor.invert_yaw?Ve("",!0):(Q(),re("g",v9,S9)),t.profile.motor.invert_yaw?Ve("",!0):(Q(),re("g",T9,C9)),t.profile.motor.invert_yaw?(Q(),re("g",k9,L9)):Ve("",!0),t.profile.motor.invert_yaw?(Q(),re("g",D9,F9)):Ve("",!0),t.profile.motor.invert_yaw?(Q(),re("g",B9,V9)):Ve("",!0),t.profile.motor.invert_yaw?(Q(),re("g",j9,K9)):Ve("",!0)]))])]),m("div",Y9,[m("div",Z9,[m("div",J9,[m("label",Q9,[we(" Invert Yaw "),J(o,{entry:"motor.invert_yaw"})])]),m("div",eB,[m("div",tB,[m("div",nB,[J(a,{id:"invert-yaw",modelValue:t.profile.motor.invert_yaw,"onUpdate:modelValue":e[0]||(e[0]=l=>t.profile.motor.invert_yaw=l),modelModifiers:{number:!0},class:"is-fullwidth",options:t.invertYawModes},null,8,["modelValue","options"])])])])]),m("div",sB,[m("div",iB,[m("label",rB,[we(" Digital Idle "),J(o,{entry:"motor.digital_idle"})])]),m("div",oB,[m("div",aB,[m("div",lB,[qe(m("input",{id:"digital-idle","onUpdate:modelValue":e[1]||(e[1]=l=>t.profile.motor.digital_idle=l),class:"input",type:"number",step:"0.5",min:"0",max:"100"},null,512),[[nt,t.profile.motor.digital_idle,void 0,{number:!0}]])])])])]),t.info.quic_protocol_version>1&&t.info.has_feature(t.constants.Features.BRUSHLESS)?(Q(),re("div",cB,[m("div",uB,[m("label",dB,[we(" DShot Time "),J(o,{entry:"motor.dshot_time"})])]),m("div",fB,[m("div",hB,[m("div",pB,[J(a,{id:"dshot-time",modelValue:t.profile.motor.dshot_time,"onUpdate:modelValue":e[2]||(e[2]=l=>t.profile.motor.dshot_time=l),class:"is-fullwidth",options:t.dshotTimes},null,8,["modelValue","options"])])])])])):Ve("",!0),m("div",mB,[m("div",gB,[m("label",_B,[we(" Flip Gyro "),J(o,{entry:"motor.flip_gyro"})])]),m("div",yB,[m("div",bB,[m("div",vB,[qe(m("input",{id:"gyro-flip","onUpdate:modelValue":e[3]||(e[3]=l=>t.gyroFlip=l),type:"checkbox",class:"switch"},null,512),[[r4,t.gyroFlip]]),wB])])])]),m("div",xB,[m("div",EB,[m("label",SB,[we(" Gyro Orientation "),J(o,{entry:"motor.gyro_orientation"})])]),m("div",TB,[m("div",AB,[m("div",MB,[J(a,{id:"gyro-orientation",modelValue:t.gyroOrientation,"onUpdate:modelValue":e[4]||(e[4]=l=>t.gyroOrientation=l),class:"is-fullwidth",options:t.gyroOrientations},null,8,["modelValue","options"])])])])]),m("div",RB,[m("div",CB,[m("label",kB,[we(" Torque Boost "),J(o,{entry:"motor.torque_boost"})])]),m("div",PB,[m("div",IB,[m("div",OB,[qe(m("input",{id:"torque-boost","onUpdate:modelValue":e[5]||(e[5]=l=>t.profile.motor.torque_boost=l),class:"input",type:"number",step:"0.1",min:"0"},null,512),[[nt,t.profile.motor.torque_boost,void 0,{number:!0}]])])])])]),m("div",LB,[m("div",DB,[m("label",NB,[we(" Throttle Boost "),J(o,{entry:"motor.throttle_boost"})])]),m("div",UB,[m("div",$B,[m("div",FB,[qe(m("input",{id:"throttle-boost","onUpdate:modelValue":e[6]||(e[6]=l=>t.profile.motor.throttle_boost=l),class:"input",type:"number",step:"0.1",min:"0"},null,512),[[nt,t.profile.motor.throttle_boost,void 0,{number:!0}]])])])])]),m("div",BB,[m("div",HB,[m("label",GB,[we(" Turtle Throttle Percent "),J(o,{entry:"motor.turtle_throttle_percent"})])]),m("div",zB,[m("div",VB,[m("div",jB,[qe(m("input",{id:"turtle-throttle-percent","onUpdate:modelValue":e[7]||(e[7]=l=>t.profile.motor.turtle_throttle_percent=l),class:"input",type:"number",step:"1",min:"0",max:"100"},null,512),[[nt,t.profile.motor.turtle_throttle_percent,void 0,{number:!0}]])])])])]),t.profile.profileVersionGt("0.2.0")?(Q(),re("div",WB,[m("div",qB,[m("label",XB,[we(" Motor Limit Percent "),J(o,{entry:"motor.motor_limit"})])]),m("div",KB,[m("div",YB,[m("div",ZB,[qe(m("input",{id:"motor-limit-percent","onUpdate:modelValue":e[8]||(e[8]=l=>t.profile.motor.motor_limit=l),class:"input",type:"number",step:"1",min:"0",max:"100"},null,512),[[nt,t.profile.motor.motor_limit,void 0,{number:!0}]])])])])])):Ve("",!0)])])])])])}const QB=ct(e9,[["render",JB]]),eH=it({name:"Voltage",setup(){return{profile:Gt(),state:Ms()}},data(){return{pidVoltageCompensationOptions:[{value:0,text:"Off"},{value:1,text:"On"}]}},computed:{pid_voltage_compensation:{get(){return this.profile.voltage.pid_voltage_compensation},set(t){this.profile.voltage.pid_voltage_compensation=t?1:0}}}}),tH={class:"card"},nH={class:"card-header"},sH=m("p",{class:"card-header-title"},"Voltage",-1),iH={class:"card-header-icon"},rH={class:"card-content"},oH={class:"content column-narrow field-is-5"},aH={class:"field is-horizontal"},lH={class:"field-label"},cH={class:"label"},uH={class:"field-body"},dH={class:"field"},fH={class:"control is-expanded"},hH={class:"field is-horizontal"},pH={class:"field-label"},mH={class:"label"},gH={class:"field-body"},_H={class:"field"},yH={class:"control is-expanded"},bH={class:"field is-horizontal"},vH={class:"field-label"},wH={class:"label"},xH={class:"field-body"},EH={class:"field"},SH={class:"control is-expanded"},TH={class:"field is-horizontal"},AH={class:"field-label"},MH={class:"label"},RH={class:"field-body"},CH={class:"field"},kH={class:"control is-expanded"},PH={class:"field is-horizontal"},IH={class:"field-label"},OH={class:"label"},LH={class:"field-body"},DH={class:"field"},NH={class:"control is-expanded"},UH={class:"field is-horizontal"},$H={class:"field-label"},FH={class:"label"},BH={class:"field-body"},HH={class:"field"},GH={class:"control is-expanded"},zH={class:"field is-horizontal"},VH={class:"field-label"},jH={class:"label"},WH={class:"field-body"},qH={class:"field"},XH={class:"control is-expanded"},KH={key:0,class:"field is-horizontal"},YH={class:"field-label"},ZH={class:"label"},JH={class:"field-body"},QH={class:"field"},eG={class:"control is-expanded"},tG=["checked"],nG=m("label",{class:"py-0",style:{height:"2em"},for:"use_filtered_voltage_for_warnings"},null,-1);function sG(t,e,n,s,i,r){const o=Le("tooltip"),a=Le("input-select");return Q(),re("div",tH,[m("header",nH,[sH,m("small",iH,Fe(t.state.vbat.toFixed(2))+"V "+Fe(t.state.ibat_filtered.toFixed(2))+"mA ",1)]),m("div",rH,[m("div",oH,[m("div",aH,[m("div",lH,[m("label",cH,[we(" LipoCellCount "),J(o,{entry:"voltage.lipo_cell_count"})])]),m("div",uH,[m("div",dH,[m("div",fH,[qe(m("input",{id:"lipo-cell-count","onUpdate:modelValue":e[0]||(e[0]=l=>t.profile.voltage.lipo_cell_count=l),class:"input",type:"number",step:"1",min:"0"},null,512),[[nt,t.profile.voltage.lipo_cell_count,void 0,{number:!0}]])])])])]),m("div",hH,[m("div",pH,[m("label",mH,[we(" PidVoltageCompensation "),J(o,{entry:"voltage.pid_voltage_compensation"})])]),m("div",gH,[m("div",_H,[m("div",yH,[J(a,{modelValue:t.profile.voltage.pid_voltage_compensation,"onUpdate:modelValue":e[1]||(e[1]=l=>t.profile.voltage.pid_voltage_compensation=l),modelModifiers:{number:!0},class:"is-fullwidth",options:t.pidVoltageCompensationOptions},null,8,["modelValue","options"])])])])]),m("div",bH,[m("div",vH,[m("label",wH,[we(" VBattLow "),J(o,{entry:"voltage.vbattlow"})])]),m("div",xH,[m("div",EH,[m("div",SH,[qe(m("input",{id:"vbattlow","onUpdate:modelValue":e[2]||(e[2]=l=>t.profile.voltage.vbattlow=l),class:"input",type:"number",step:"0.1",min:"0"},null,512),[[nt,t.profile.voltage.vbattlow,void 0,{number:!0}]])])])])]),m("div",TH,[m("div",AH,[m("label",MH,[we(" ActualBatteryVoltage "),J(o,{entry:"voltage.actual_battery_voltage"})])]),m("div",RH,[m("div",CH,[m("div",kH,[qe(m("input",{id:"actual-battery-voltage","onUpdate:modelValue":e[3]||(e[3]=l=>t.profile.voltage.actual_battery_voltage=l),class:"input",type:"number",step:"0.1",min:"0"},null,512),[[nt,t.profile.voltage.actual_battery_voltage,void 0,{number:!0}]])])])])]),m("div",PH,[m("div",IH,[m("label",OH,[we(" ReportedTelemetryVoltage "),J(o,{entry:"voltage.reported_telemetry_voltage"})])]),m("div",LH,[m("div",DH,[m("div",NH,[qe(m("input",{id:"reported-telemetry-voltage","onUpdate:modelValue":e[4]||(e[4]=l=>t.profile.voltage.reported_telemetry_voltage=l),class:"input",type:"number",step:"0.1",min:"0"},null,512),[[nt,t.profile.voltage.reported_telemetry_voltage,void 0,{number:!0}]])])])])]),m("div",UH,[m("div",$H,[m("label",FH,[we(" Voltage Meter Scale "),J(o,{entry:"voltage.vbat_scale"})])]),m("div",BH,[m("div",HH,[m("div",GH,[qe(m("input",{id:"vbat_scale","onUpdate:modelValue":e[5]||(e[5]=l=>t.profile.voltage.vbat_scale=l),class:"input",type:"number",step:"1",min:"0"},null,512),[[nt,t.profile.voltage.vbat_scale,void 0,{number:!0}]])])])])]),m("div",zH,[m("div",VH,[m("label",jH,[we(" Current Meter Scale "),J(o,{entry:"voltage.ibat_scale"})])]),m("div",WH,[m("div",qH,[m("div",XH,[qe(m("input",{id:"ibat_scale","onUpdate:modelValue":e[6]||(e[6]=l=>t.profile.voltage.ibat_scale=l),class:"input",type:"number",step:"1",min:"0"},null,512),[[nt,t.profile.voltage.ibat_scale,void 0,{number:!0}]])])])])]),t.profile.profileVersionGt("0.2.2")?(Q(),re("div",KH,[m("div",YH,[m("label",ZH,[we(" Filtered voltage warnings "),J(o,{entry:"voltage.use_filtered_voltage_for_warnings"})])]),m("div",JH,[m("div",QH,[m("div",eG,[m("input",{type:"checkbox",class:"switch",id:"use_filtered_voltage_for_warnings",checked:t.profile.voltage.use_filtered_voltage_for_warnings||0,onChange:e[7]||(e[7]=l=>t.profile.voltage.use_filtered_voltage_for_warnings=t.profile.voltage.use_filtered_voltage_for_warnings?0:1)},null,40,tG),nG])])])])):Ve("",!0)])])])}const iG=ct(eH,[["render",sG]]),rG=it({name:"Serial",setup(){return{root:tn(),target:Iu(),profile:Gt()}},computed:{serialPorts(){const t=[{value:0,text:"None"}];for(const[e,n]of Object.entries(this.target.serial_port_names))t.push({value:n,text:e});return t}},watch:{"profile.serial":{handler(){this.root.set_needs_reboot()},deep:!0}}}),oG={class:"card"},aG=m("header",{class:"card-header"},[m("p",{class:"card-header-title"},"Serial")],-1),lG={class:"card-content"},cG={class:"content column-narrow field-is-5"},uG={class:"field is-horizontal"},dG={class:"field-label"},fG={class:"label"},hG={class:"field-body"},pG={class:"field"},mG={class:"control is-expanded"},gG={class:"field is-horizontal"},_G={class:"field-label"},yG={class:"label"},bG={class:"field-body"},vG={class:"field"},wG={class:"control is-expanded"},xG={class:"field is-horizontal"},EG={class:"field-label"},SG={class:"label"},TG={class:"field-body"},AG={class:"field"},MG={class:"control is-expanded"};function RG(t,e,n,s,i,r){const o=Le("tooltip"),a=Le("input-select");return Q(),re("div",oG,[aG,m("div",lG,[m("div",cG,[m("div",uG,[m("div",dG,[m("label",fG,[we(" RX "),J(o,{entry:"serial.rx"})])]),m("div",hG,[m("div",pG,[m("div",mG,[J(a,{id:"rx",modelValue:t.profile.serial.rx,"onUpdate:modelValue":e[0]||(e[0]=l=>t.profile.serial.rx=l),modelModifiers:{number:!0},class:"is-fullwidth",options:t.serialPorts},null,8,["modelValue","options"])])])])]),m("div",gG,[m("div",_G,[m("label",yG,[we(" VTX "),J(o,{entry:"serial.smart_audio"})])]),m("div",bG,[m("div",vG,[m("div",wG,[J(a,{id:"smart-audio",modelValue:t.profile.serial.smart_audio,"onUpdate:modelValue":e[1]||(e[1]=l=>t.profile.serial.smart_audio=l),modelModifiers:{number:!0},class:"is-fullwidth",options:t.serialPorts},null,8,["modelValue","options"])])])])]),m("div",xG,[m("div",EG,[m("label",SG,[we(" Digital VTX "),J(o,{entry:"serial.digital_vtx"})])]),m("div",TG,[m("div",AG,[m("div",MG,[J(a,{id:"digital_vtx",modelValue:t.profile.serial.hdzero,"onUpdate:modelValue":e[2]||(e[2]=l=>t.profile.serial.hdzero=l),modelModifiers:{number:!0},class:"is-fullwidth",options:t.serialPorts},null,8,["modelValue","options"])])])])])])])])}const CG=ct(rG,[["render",RG]]),kG=it({name:"Vtx",setup(){return{vtx:q1(),info:hn()}},data(){return{protocolNames:["INVALID","TRAMP","SMARTAUDIO","MSP_VTX"],frequencyTable:[[5865,5845,5825,5805,5785,5765,5745,5725],[5733,5752,5771,5790,5809,5828,5847,5866],[5705,5685,5665,5645,5885,5905,5925,5945],[5740,5760,5780,5800,5820,5840,5860,5880],[5658,5695,5732,5769,5806,5843,5880,5917],[5333,5373,5413,5453,5493,5533,5573,5613]]}},computed:{displayValueEdit(){return this.vtx.settings.protocol==1},vtxProtocolOptions(){const t=[{value:0,text:"AUTO"},{value:1,text:"TRAMP"},{value:2,text:"SMARTAUDIO"}];return this.info.quicVersionGt("0.1.1")&&t.push({value:3,text:"MSP_VTX"}),t},vtxBandOptions(){const t=[{value:0,text:"VTX_BAND_A"},{value:1,text:"VTX_BAND_B"},{value:2,text:"VTX_BAND_E"},{value:3,text:"VTX_BAND_F"},{value:4,text:"VTX_BAND_R"}];return this.info.quicVersionGt("0.1.1")&&t.push({value:5,text:"VTX_BAND_L"}),t},vtxPowerLevelOptions(){if(this.vtx.settings.power_table)return this.vtx.settings.power_table.labels.map((e,n)=>({value:n,text:e}));const t=[{value:0,text:"VTX_POWER_LEVEL_1"},{value:1,text:"VTX_POWER_LEVEL_2"},{value:2,text:"VTX_POWER_LEVEL_3"},{value:3,text:"VTX_POWER_LEVEL_4"}];return this.info.quicVersionGt("0.1.1")&&t.push({value:4,text:"VTX_POWER_LEVEL_5"}),t},vtxChannelOptions(){return[{value:0,text:"VTX_CHANNEL_1"},{value:1,text:"VTX_CHANNEL_2"},{value:2,text:"VTX_CHANNEL_3"},{value:3,text:"VTX_CHANNEL_4"},{value:4,text:"VTX_CHANNEL_5"},{value:5,text:"VTX_CHANNEL_6"},{value:6,text:"VTX_CHANNEL_7"},{value:7,text:"VTX_CHANNEL_8"}]},vtxPitModeOptions(){return[{value:0,text:"Off"},{value:1,text:"On"}]}},created(){this.vtx.update_vtx_settings(!0)}}),PG={class:"card"},IG=m("header",{class:"card-header"},[m("p",{class:"card-header-title"},"VTX")],-1),OG={class:"card-content"},LG={class:"content columns"},DG={class:"column field-is-3"},NG={class:"field is-horizontal"},UG=m("div",{class:"field-label"},[m("label",{class:"label"},"Protocol")],-1),$G={class:"field-body"},FG={class:"field"},BG={class:"control is-expanded"},HG={class:"field is-horizontal"},GG=m("div",{class:"field-label"},[m("label",{class:"label"},"Frequency")],-1),zG={class:"field-body"},VG={class:"field"},jG={class:"control is-expanded"},WG={class:"field is-horizontal"},qG=m("div",{class:"field-label"},[m("label",{class:"label"},"Band")],-1),XG={class:"field-body"},KG={class:"field"},YG={class:"control is-expanded"},ZG={class:"field is-horizontal"},JG=m("div",{class:"field-label"},[m("label",{class:"label"},"Channel")],-1),QG={class:"field-body"},ez={class:"field"},tz={class:"control is-expanded"},nz={key:0,class:"field is-horizontal"},sz=m("div",{class:"field-label"},[m("label",{class:"label"},"Pit Mode")],-1),iz={class:"field-body"},rz={class:"field"},oz={class:"control is-expanded"},az={class:"field is-horizontal"},lz=m("div",{class:"field-label"},[m("label",{class:"label"},"Power")],-1),cz={class:"field-body"},uz={class:"field"},dz={class:"control is-expanded"},fz={key:1,class:"is-size-5 has-text-centered has-text-weight-semibold"},hz={class:"column field-is-3"},pz={class:"columns"},mz=m("div",{class:"column is-4",style:{"margin-left":"30%"}},[m("h6",{class:"mb-1 ml-2"},"Label")],-1),gz={key:0,class:"column is-4"},_z=m("h6",{class:"mb-1 ml-3"},"Value",-1),yz=[_z],bz={class:"field field-is-2 is-horizontal"},vz={class:"field-label"},wz={class:"label"},xz={class:"field-body"},Ez={class:"field"},Sz={class:"control is-expanded"},Tz={class:"columns is-multiline"},Az={class:"column is-6"},Mz=["id","onUpdate:modelValue","readonly"],Rz={key:0,class:"column is-6"},Cz=["id","onUpdate:modelValue"],kz={class:"card-footer"},Pz=m("span",{class:"card-footer-item"},null,-1);function Iz(t,e,n,s,i,r){const o=Le("input-select"),a=Le("spinner-btn");return Q(),re("div",PG,[IG,m("div",OG,[m("div",LG,[m("div",DG,[m("div",NG,[UG,m("div",$G,[m("div",FG,[m("div",BG,[J(o,{id:"vtx-protocol",modelValue:t.vtx.settings.protocol,"onUpdate:modelValue":e[0]||(e[0]=l=>t.vtx.settings.protocol=l),modelModifiers:{number:!0},options:t.vtxProtocolOptions},null,8,["modelValue","options"])])])])]),t.vtx.settings.detected?(Q(),re(ot,{key:0},[m("div",HG,[GG,m("div",zG,[m("div",VG,[m("div",jG,Fe(t.frequencyTable[t.vtx.settings.band][t.vtx.settings.channel]),1)])])]),m("div",WG,[qG,m("div",XG,[m("div",KG,[m("div",YG,[J(o,{id:"vtx-band",modelValue:t.vtx.settings.band,"onUpdate:modelValue":e[1]||(e[1]=l=>t.vtx.settings.band=l),modelModifiers:{number:!0},options:t.vtxBandOptions},null,8,["modelValue","options"])])])])]),m("div",ZG,[JG,m("div",QG,[m("div",ez,[m("div",tz,[J(o,{id:"vtx-channel",modelValue:t.vtx.settings.channel,"onUpdate:modelValue":e[2]||(e[2]=l=>t.vtx.settings.channel=l),modelModifiers:{number:!0},options:t.vtxChannelOptions},null,8,["modelValue","options"])])])])]),t.vtx.settings.pit_mode!=2?(Q(),re("div",nz,[sz,m("div",iz,[m("div",rz,[m("div",oz,[J(o,{id:"vtx-pit-mode",modelValue:t.vtx.settings.pit_mode,"onUpdate:modelValue":e[3]||(e[3]=l=>t.vtx.settings.pit_mode=l),modelModifiers:{number:!0},options:t.vtxPitModeOptions},null,8,["modelValue","options"])])])])])):Ve("",!0),m("div",az,[lz,m("div",cz,[m("div",uz,[m("div",dz,[J(o,{id:"vtx-power-level",modelValue:t.vtx.settings.power_level,"onUpdate:modelValue":e[4]||(e[4]=l=>t.vtx.settings.power_level=l),modelModifiers:{number:!0},options:t.vtxPowerLevelOptions},null,8,["modelValue","options"])])])])])],64)):(Q(),re("div",fz," Not detected "))]),m("div",hz,[t.vtx.settings.detected&&t.vtx.settings.power_table?(Q(),re(ot,{key:0},[m("div",pz,[mz,t.displayValueEdit?(Q(),re("div",gz,yz)):Ve("",!0)]),(Q(!0),re(ot,null,Bt(t.vtx.settings.power_table.labels,(l,c)=>(Q(),re("div",bz,[m("div",vz,[m("label",wz,"Power Level "+Fe(c+1),1)]),m("div",xz,[m("div",Ez,[m("div",Sz,[m("div",Tz,[m("div",Az,[qe(m("input",{id:"power-level-value-"+c,"onUpdate:modelValue":u=>t.vtx.settings.power_table.labels[c]=u,class:cs(["input",{"is-static":t.vtx.settings.protocol==3}]),readonly:t.vtx.settings.protocol==3,type:"text",maxlength:"3"},null,10,Mz),[[nt,t.vtx.settings.power_table.labels[c],void 0,{text:!0}]])]),t.displayValueEdit?(Q(),re("div",Rz,[qe(m("input",{id:"power-level-value-"+c,"onUpdate:modelValue":u=>t.vtx.settings.power_table.values[c]=u,class:"input",type:"number",step:"0.1",min:"0"},null,8,Cz),[[nt,t.vtx.settings.power_table.values[c],void 0,{number:!0}]])])):Ve("",!0)])])])])]))),256))],64)):Ve("",!0)])])]),m("footer",kz,[Pz,J(a,{class:"card-footer-item is-primary",onClick:e[5]||(e[5]=l=>t.vtx.apply_vtx_settings(t.vtx.settings))},{default:tt(()=>[we(" Apply ")]),_:1})])])}const Oz=ct(kG,[["render",Iz]]);/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Yv="167",Lz=0,wE=1,Dz=2,W5=1,Nz=2,Er=3,Vr=0,Ts=1,Wi=2,Wo=0,Ic=1,xE=2,EE=3,SE=4,Uz=5,Ua=100,$z=101,Fz=102,Bz=103,Hz=104,Gz=200,zz=201,Vz=202,jz=203,X1=204,K1=205,Wz=206,qz=207,Xz=208,Kz=209,Yz=210,Zz=211,Jz=212,Qz=213,eV=214,tV=0,nV=1,sV=2,Sm=3,iV=4,rV=5,oV=6,aV=7,q5=0,lV=1,cV=2,qo=0,uV=1,dV=2,fV=3,hV=4,pV=5,mV=6,gV=7,TE="attached",_V="detached",X5=300,iu=301,ru=302,Y1=303,Z1=304,Hg=306,ou=1e3,No=1001,Tm=1002,us=1003,K5=1004,Md=1005,Gs=1006,Gp=1007,Lr=1008,jr=1009,Y5=1010,Z5=1011,yf=1012,Zv=1013,ul=1014,Ci=1015,Vf=1016,Jv=1017,Qv=1018,au=1020,J5=35902,Q5=1021,eC=1022,ii=1023,tC=1024,nC=1025,Oc=1026,lu=1027,ew=1028,tw=1029,sC=1030,nw=1031,sw=1033,zp=33776,Vp=33777,jp=33778,Wp=33779,J1=35840,Q1=35841,ey=35842,ty=35843,ny=36196,sy=37492,iy=37496,ry=37808,oy=37809,ay=37810,ly=37811,cy=37812,uy=37813,dy=37814,fy=37815,hy=37816,py=37817,my=37818,gy=37819,_y=37820,yy=37821,qp=36492,by=36494,vy=36495,iC=36283,wy=36284,xy=36285,Ey=36286,bf=2300,vf=2301,z_=2302,AE=2400,ME=2401,RE=2402,yV=2500,bV=0,rC=1,Sy=2,vV=3200,wV=3201,oC=0,xV=1,Lo="",as="srgb",zn="srgb-linear",iw="display-p3",Gg="display-p3-linear",Am="linear",Kt="srgb",Mm="rec709",Rm="p3",Ml=7680,CE=519,EV=512,SV=513,TV=514,aC=515,AV=516,MV=517,RV=518,CV=519,Ty=35044,kE="300 es",Dr=2e3,Cm=2001;class Ou{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const s=this._listeners;s[e]===void 0&&(s[e]=[]),s[e].indexOf(n)===-1&&s[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const s=this._listeners;return s[e]!==void 0&&s[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const r=i.indexOf(n);r!==-1&&i.splice(r,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const s=this._listeners[e.type];if(s!==void 0){e.target=this;const i=s.slice(0);for(let r=0,o=i.length;r<o;r++)i[r].call(this,e);e.target=null}}}const Vn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let PE=1234567;const Xd=Math.PI/180,cu=180/Math.PI;function ki(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,s=Math.random()*4294967295|0;return(Vn[t&255]+Vn[t>>8&255]+Vn[t>>16&255]+Vn[t>>24&255]+"-"+Vn[e&255]+Vn[e>>8&255]+"-"+Vn[e>>16&15|64]+Vn[e>>24&255]+"-"+Vn[n&63|128]+Vn[n>>8&255]+"-"+Vn[n>>16&255]+Vn[n>>24&255]+Vn[s&255]+Vn[s>>8&255]+Vn[s>>16&255]+Vn[s>>24&255]).toLowerCase()}function Kn(t,e,n){return Math.max(e,Math.min(n,t))}function rw(t,e){return(t%e+e)%e}function kV(t,e,n,s,i){return s+(t-e)*(i-s)/(n-e)}function PV(t,e,n){return t!==e?(n-t)/(e-t):0}function Kd(t,e,n){return(1-n)*t+n*e}function IV(t,e,n,s){return Kd(t,e,1-Math.exp(-n*s))}function OV(t,e=1){return e-Math.abs(rw(t,e*2)-e)}function LV(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function DV(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function NV(t,e){return t+Math.floor(Math.random()*(e-t+1))}function UV(t,e){return t+Math.random()*(e-t)}function $V(t){return t*(.5-Math.random())}function FV(t){t!==void 0&&(PE=t);let e=PE+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function BV(t){return t*Xd}function HV(t){return t*cu}function GV(t){return(t&t-1)===0&&t!==0}function zV(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function VV(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function jV(t,e,n,s,i){const r=Math.cos,o=Math.sin,a=r(n/2),l=o(n/2),c=r((e+s)/2),u=o((e+s)/2),d=r((e-s)/2),f=o((e-s)/2),h=r((s-e)/2),y=o((s-e)/2);switch(i){case"XYX":t.set(a*u,l*d,l*f,a*c);break;case"YZY":t.set(l*f,a*u,l*d,a*c);break;case"ZXZ":t.set(l*d,l*f,a*u,a*c);break;case"XZX":t.set(a*u,l*y,l*h,a*c);break;case"YXY":t.set(l*h,a*u,l*y,a*c);break;case"ZYZ":t.set(l*y,l*h,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Ri(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Nt(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const WV={DEG2RAD:Xd,RAD2DEG:cu,generateUUID:ki,clamp:Kn,euclideanModulo:rw,mapLinear:kV,inverseLerp:PV,lerp:Kd,damp:IV,pingpong:OV,smoothstep:LV,smootherstep:DV,randInt:NV,randFloat:UV,randFloatSpread:$V,seededRandom:FV,degToRad:BV,radToDeg:HV,isPowerOfTwo:GV,ceilPowerOfTwo:zV,floorPowerOfTwo:VV,setQuaternionFromProperEuler:jV,normalize:Nt,denormalize:Ri};class xt{constructor(e=0,n=0){xt.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,s=this.y,i=e.elements;return this.x=i[0]*n+i[3]*s+i[6],this.y=i[1]*n+i[4]*s+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(e,Math.min(n,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const s=this.dot(e)/n;return Math.acos(Kn(s,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,s=this.y-e.y;return n*n+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,s){return this.x=e.x+(n.x-e.x)*s,this.y=e.y+(n.y-e.y)*s,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const s=Math.cos(n),i=Math.sin(n),r=this.x-e.x,o=this.y-e.y;return this.x=r*s-o*i+e.x,this.y=r*i+o*s+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class _t{constructor(e,n,s,i,r,o,a,l,c){_t.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,s,i,r,o,a,l,c)}set(e,n,s,i,r,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=n,u[4]=r,u[5]=l,u[6]=s,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,s=e.elements;return n[0]=s[0],n[1]=s[1],n[2]=s[2],n[3]=s[3],n[4]=s[4],n[5]=s[5],n[6]=s[6],n[7]=s[7],n[8]=s[8],this}extractBasis(e,n,s){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),s.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const s=e.elements,i=n.elements,r=this.elements,o=s[0],a=s[3],l=s[6],c=s[1],u=s[4],d=s[7],f=s[2],h=s[5],y=s[8],_=i[0],p=i[3],g=i[6],b=i[1],v=i[4],w=i[7],A=i[2],x=i[5],T=i[8];return r[0]=o*_+a*b+l*A,r[3]=o*p+a*v+l*x,r[6]=o*g+a*w+l*T,r[1]=c*_+u*b+d*A,r[4]=c*p+u*v+d*x,r[7]=c*g+u*w+d*T,r[2]=f*_+h*b+y*A,r[5]=f*p+h*v+y*x,r[8]=f*g+h*w+y*T,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],s=e[1],i=e[2],r=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return n*o*u-n*a*c-s*r*u+s*a*l+i*r*c-i*o*l}invert(){const e=this.elements,n=e[0],s=e[1],i=e[2],r=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*o-a*c,f=a*l-u*r,h=c*r-o*l,y=n*d+s*f+i*h;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const _=1/y;return e[0]=d*_,e[1]=(i*c-u*s)*_,e[2]=(a*s-i*o)*_,e[3]=f*_,e[4]=(u*n-i*l)*_,e[5]=(i*r-a*n)*_,e[6]=h*_,e[7]=(s*l-c*n)*_,e[8]=(o*n-s*r)*_,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,s,i,r,o,a){const l=Math.cos(r),c=Math.sin(r);return this.set(s*l,s*c,-s*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(V_.makeScale(e,n)),this}rotate(e){return this.premultiply(V_.makeRotation(-e)),this}translate(e,n){return this.premultiply(V_.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),s=Math.sin(e);return this.set(n,-s,0,s,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,s=e.elements;for(let i=0;i<9;i++)if(n[i]!==s[i])return!1;return!0}fromArray(e,n=0){for(let s=0;s<9;s++)this.elements[s]=e[s+n];return this}toArray(e=[],n=0){const s=this.elements;return e[n]=s[0],e[n+1]=s[1],e[n+2]=s[2],e[n+3]=s[3],e[n+4]=s[4],e[n+5]=s[5],e[n+6]=s[6],e[n+7]=s[7],e[n+8]=s[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const V_=new _t;function lC(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function wf(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function qV(){const t=wf("canvas");return t.style.display="block",t}const IE={};function Lc(t){t in IE||(IE[t]=!0,console.warn(t))}function XV(t,e,n){return new Promise(function(s,i){function r(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(r,n);break;default:s()}}setTimeout(r,n)})}const OE=new _t().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),LE=new _t().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Ku={[zn]:{transfer:Am,primaries:Mm,luminanceCoefficients:[.2126,.7152,.0722],toReference:t=>t,fromReference:t=>t},[as]:{transfer:Kt,primaries:Mm,luminanceCoefficients:[.2126,.7152,.0722],toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[Gg]:{transfer:Am,primaries:Rm,luminanceCoefficients:[.2289,.6917,.0793],toReference:t=>t.applyMatrix3(LE),fromReference:t=>t.applyMatrix3(OE)},[iw]:{transfer:Kt,primaries:Rm,luminanceCoefficients:[.2289,.6917,.0793],toReference:t=>t.convertSRGBToLinear().applyMatrix3(LE),fromReference:t=>t.applyMatrix3(OE).convertLinearToSRGB()}},KV=new Set([zn,Gg]),Ct={enabled:!0,_workingColorSpace:zn,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!KV.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const s=Ku[e].toReference,i=Ku[n].fromReference;return i(s(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return Ku[t].primaries},getTransfer:function(t){return t===Lo?Am:Ku[t].transfer},getLuminanceCoefficients:function(t,e=this._workingColorSpace){return t.fromArray(Ku[e].luminanceCoefficients)}};function Dc(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function j_(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Rl;class YV{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Rl===void 0&&(Rl=wf("canvas")),Rl.width=e.width,Rl.height=e.height;const s=Rl.getContext("2d");e instanceof ImageData?s.putImageData(e,0,0):s.drawImage(e,0,0,e.width,e.height),n=Rl}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=wf("canvas");n.width=e.width,n.height=e.height;const s=n.getContext("2d");s.drawImage(e,0,0,e.width,e.height);const i=s.getImageData(0,0,e.width,e.height),r=i.data;for(let o=0;o<r.length;o++)r[o]=Dc(r[o]/255)*255;return s.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let s=0;s<n.length;s++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[s]=Math.floor(Dc(n[s]/255)*255):n[s]=Dc(n[s]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let ZV=0;class cC{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:ZV++}),this.uuid=ki(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const s={uuid:this.uuid,url:""},i=this.data;if(i!==null){let r;if(Array.isArray(i)){r=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?r.push(W_(i[o].image)):r.push(W_(i[o]))}else r=W_(i);s.url=r}return n||(e.images[this.uuid]=s),s}}function W_(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?YV.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let JV=0;class $n extends Ou{constructor(e=$n.DEFAULT_IMAGE,n=$n.DEFAULT_MAPPING,s=No,i=No,r=Gs,o=Lr,a=ii,l=jr,c=$n.DEFAULT_ANISOTROPY,u=Lo){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:JV++}),this.uuid=ki(),this.name="",this.source=new cC(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=s,this.wrapT=i,this.magFilter=r,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new xt(0,0),this.repeat=new xt(1,1),this.center=new xt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new _t,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const s={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(s.userData=this.userData),n||(e.textures[this.uuid]=s),s}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==X5)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ou:e.x=e.x-Math.floor(e.x);break;case No:e.x=e.x<0?0:1;break;case Tm:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case ou:e.y=e.y-Math.floor(e.y);break;case No:e.y=e.y<0?0:1;break;case Tm:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}$n.DEFAULT_IMAGE=null;$n.DEFAULT_MAPPING=X5;$n.DEFAULT_ANISOTROPY=1;class Ft{constructor(e=0,n=0,s=0,i=1){Ft.prototype.isVector4=!0,this.x=e,this.y=n,this.z=s,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,s,i){return this.x=e,this.y=n,this.z=s,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,s=this.y,i=this.z,r=this.w,o=e.elements;return this.x=o[0]*n+o[4]*s+o[8]*i+o[12]*r,this.y=o[1]*n+o[5]*s+o[9]*i+o[13]*r,this.z=o[2]*n+o[6]*s+o[10]*i+o[14]*r,this.w=o[3]*n+o[7]*s+o[11]*i+o[15]*r,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,s,i,r;const l=e.elements,c=l[0],u=l[4],d=l[8],f=l[1],h=l[5],y=l[9],_=l[2],p=l[6],g=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-_)<.01&&Math.abs(y-p)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+_)<.1&&Math.abs(y+p)<.1&&Math.abs(c+h+g-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const v=(c+1)/2,w=(h+1)/2,A=(g+1)/2,x=(u+f)/4,T=(d+_)/4,M=(y+p)/4;return v>w&&v>A?v<.01?(s=0,i=.707106781,r=.707106781):(s=Math.sqrt(v),i=x/s,r=T/s):w>A?w<.01?(s=.707106781,i=0,r=.707106781):(i=Math.sqrt(w),s=x/i,r=M/i):A<.01?(s=.707106781,i=.707106781,r=0):(r=Math.sqrt(A),s=T/r,i=M/r),this.set(s,i,r,n),this}let b=Math.sqrt((p-y)*(p-y)+(d-_)*(d-_)+(f-u)*(f-u));return Math.abs(b)<.001&&(b=1),this.x=(p-y)/b,this.y=(d-_)/b,this.z=(f-u)/b,this.w=Math.acos((c+h+g-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(e,Math.min(n,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,s){return this.x=e.x+(n.x-e.x)*s,this.y=e.y+(n.y-e.y)*s,this.z=e.z+(n.z-e.z)*s,this.w=e.w+(n.w-e.w)*s,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class QV extends Ou{constructor(e=1,n=1,s={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Ft(0,0,e,n),this.scissorTest=!1,this.viewport=new Ft(0,0,e,n);const i={width:e,height:n,depth:1};s=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Gs,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},s);const r=new $n(i,s.mapping,s.wrapS,s.wrapT,s.magFilter,s.minFilter,s.format,s.type,s.anisotropy,s.colorSpace);r.flipY=!1,r.generateMipmaps=s.generateMipmaps,r.internalFormat=s.internalFormat,this.textures=[];const o=s.count;for(let a=0;a<o;a++)this.textures[a]=r.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=s.depthBuffer,this.stencilBuffer=s.stencilBuffer,this.resolveDepthBuffer=s.resolveDepthBuffer,this.resolveStencilBuffer=s.resolveStencilBuffer,this.depthTexture=s.depthTexture,this.samples=s.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,s=1){if(this.width!==e||this.height!==n||this.depth!==s){this.width=e,this.height=n,this.depth=s;for(let i=0,r=this.textures.length;i<r;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=s;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let s=0,i=e.textures.length;s<i;s++)this.textures[s]=e.textures[s].clone(),this.textures[s].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new cC(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class dl extends QV{constructor(e=1,n=1,s={}){super(e,n,s),this.isWebGLRenderTarget=!0}}class uC extends $n{constructor(e=null,n=1,s=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:s,depth:i},this.magFilter=us,this.minFilter=us,this.wrapR=No,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class ej extends $n{constructor(e=null,n=1,s=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:s,depth:i},this.magFilter=us,this.minFilter=us,this.wrapR=No,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Jr{constructor(e=0,n=0,s=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=s,this._w=i}static slerpFlat(e,n,s,i,r,o,a){let l=s[i+0],c=s[i+1],u=s[i+2],d=s[i+3];const f=r[o+0],h=r[o+1],y=r[o+2],_=r[o+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d;return}if(a===1){e[n+0]=f,e[n+1]=h,e[n+2]=y,e[n+3]=_;return}if(d!==_||l!==f||c!==h||u!==y){let p=1-a;const g=l*f+c*h+u*y+d*_,b=g>=0?1:-1,v=1-g*g;if(v>Number.EPSILON){const A=Math.sqrt(v),x=Math.atan2(A,g*b);p=Math.sin(p*x)/A,a=Math.sin(a*x)/A}const w=a*b;if(l=l*p+f*w,c=c*p+h*w,u=u*p+y*w,d=d*p+_*w,p===1-a){const A=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=A,c*=A,u*=A,d*=A}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d}static multiplyQuaternionsFlat(e,n,s,i,r,o){const a=s[i],l=s[i+1],c=s[i+2],u=s[i+3],d=r[o],f=r[o+1],h=r[o+2],y=r[o+3];return e[n]=a*y+u*d+l*h-c*f,e[n+1]=l*y+u*f+c*d-a*h,e[n+2]=c*y+u*h+a*f-l*d,e[n+3]=u*y-a*d-l*f-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,s,i){return this._x=e,this._y=n,this._z=s,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const s=e._x,i=e._y,r=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(s/2),u=a(i/2),d=a(r/2),f=l(s/2),h=l(i/2),y=l(r/2);switch(o){case"XYZ":this._x=f*u*d+c*h*y,this._y=c*h*d-f*u*y,this._z=c*u*y+f*h*d,this._w=c*u*d-f*h*y;break;case"YXZ":this._x=f*u*d+c*h*y,this._y=c*h*d-f*u*y,this._z=c*u*y-f*h*d,this._w=c*u*d+f*h*y;break;case"ZXY":this._x=f*u*d-c*h*y,this._y=c*h*d+f*u*y,this._z=c*u*y+f*h*d,this._w=c*u*d-f*h*y;break;case"ZYX":this._x=f*u*d-c*h*y,this._y=c*h*d+f*u*y,this._z=c*u*y-f*h*d,this._w=c*u*d+f*h*y;break;case"YZX":this._x=f*u*d+c*h*y,this._y=c*h*d+f*u*y,this._z=c*u*y-f*h*d,this._w=c*u*d-f*h*y;break;case"XZY":this._x=f*u*d-c*h*y,this._y=c*h*d-f*u*y,this._z=c*u*y+f*h*d,this._w=c*u*d+f*h*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const s=n/2,i=Math.sin(s);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(s),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,s=n[0],i=n[4],r=n[8],o=n[1],a=n[5],l=n[9],c=n[2],u=n[6],d=n[10],f=s+a+d;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(u-l)*h,this._y=(r-c)*h,this._z=(o-i)*h}else if(s>a&&s>d){const h=2*Math.sqrt(1+s-a-d);this._w=(u-l)/h,this._x=.25*h,this._y=(i+o)/h,this._z=(r+c)/h}else if(a>d){const h=2*Math.sqrt(1+a-s-d);this._w=(r-c)/h,this._x=(i+o)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+d-s-a);this._w=(o-i)/h,this._x=(r+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let s=e.dot(n)+1;return s<Number.EPSILON?(s=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=s):(this._x=0,this._y=-e.z,this._z=e.y,this._w=s)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=s),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Kn(this.dot(e),-1,1)))}rotateTowards(e,n){const s=this.angleTo(e);if(s===0)return this;const i=Math.min(1,n/s);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const s=e._x,i=e._y,r=e._z,o=e._w,a=n._x,l=n._y,c=n._z,u=n._w;return this._x=s*u+o*a+i*c-r*l,this._y=i*u+o*l+r*a-s*c,this._z=r*u+o*c+s*l-i*a,this._w=o*u-s*a-i*l-r*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const s=this._x,i=this._y,r=this._z,o=this._w;let a=o*e._w+s*e._x+i*e._y+r*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=s,this._y=i,this._z=r,this;const l=1-a*a;if(l<=Number.EPSILON){const h=1-n;return this._w=h*o+n*this._w,this._x=h*s+n*this._x,this._y=h*i+n*this._y,this._z=h*r+n*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-n)*u)/c,f=Math.sin(n*u)/c;return this._w=o*d+this._w*f,this._x=s*d+this._x*f,this._y=i*d+this._y*f,this._z=r*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,n,s){return this.copy(e).slerp(n,s)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),s=Math.random(),i=Math.sqrt(1-s),r=Math.sqrt(s);return this.set(i*Math.sin(e),i*Math.cos(e),r*Math.sin(n),r*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ae{constructor(e=0,n=0,s=0){ae.prototype.isVector3=!0,this.x=e,this.y=n,this.z=s}set(e,n,s){return s===void 0&&(s=this.z),this.x=e,this.y=n,this.z=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(DE.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(DE.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,s=this.y,i=this.z,r=e.elements;return this.x=r[0]*n+r[3]*s+r[6]*i,this.y=r[1]*n+r[4]*s+r[7]*i,this.z=r[2]*n+r[5]*s+r[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,s=this.y,i=this.z,r=e.elements,o=1/(r[3]*n+r[7]*s+r[11]*i+r[15]);return this.x=(r[0]*n+r[4]*s+r[8]*i+r[12])*o,this.y=(r[1]*n+r[5]*s+r[9]*i+r[13])*o,this.z=(r[2]*n+r[6]*s+r[10]*i+r[14])*o,this}applyQuaternion(e){const n=this.x,s=this.y,i=this.z,r=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*i-a*s),u=2*(a*n-r*i),d=2*(r*s-o*n);return this.x=n+l*c+o*d-a*u,this.y=s+l*u+a*c-r*d,this.z=i+l*d+r*u-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,s=this.y,i=this.z,r=e.elements;return this.x=r[0]*n+r[4]*s+r[8]*i,this.y=r[1]*n+r[5]*s+r[9]*i,this.z=r[2]*n+r[6]*s+r[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(e,Math.min(n,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,s){return this.x=e.x+(n.x-e.x)*s,this.y=e.y+(n.y-e.y)*s,this.z=e.z+(n.z-e.z)*s,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const s=e.x,i=e.y,r=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-r*a,this.y=r*o-s*l,this.z=s*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const s=e.dot(this)/n;return this.copy(e).multiplyScalar(s)}projectOnPlane(e){return q_.copy(this).projectOnVector(e),this.sub(q_)}reflect(e){return this.sub(q_.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const s=this.dot(e)/n;return Math.acos(Kn(s,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,s=this.y-e.y,i=this.z-e.z;return n*n+s*s+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,s){const i=Math.sin(n)*e;return this.x=i*Math.sin(s),this.y=Math.cos(n)*e,this.z=i*Math.cos(s),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,s){return this.x=e*Math.sin(n),this.y=s,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),s=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=s,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,s=Math.sqrt(1-n*n);return this.x=s*Math.cos(e),this.y=n,this.z=s*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const q_=new ae,DE=new Jr;class Qr{constructor(e=new ae(1/0,1/0,1/0),n=new ae(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,s=e.length;n<s;n+=3)this.expandByPoint(hi.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,s=e.count;n<s;n++)this.expandByPoint(hi.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,s=e.length;n<s;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const s=hi.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(s),this.max.copy(e).add(s),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const s=e.geometry;if(s!==void 0){const r=s.getAttribute("position");if(n===!0&&r!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=r.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,hi):hi.fromBufferAttribute(r,o),hi.applyMatrix4(e.matrixWorld),this.expandByPoint(hi);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),yh.copy(e.boundingBox)):(s.boundingBox===null&&s.computeBoundingBox(),yh.copy(s.boundingBox)),yh.applyMatrix4(e.matrixWorld),this.union(yh)}const i=e.children;for(let r=0,o=i.length;r<o;r++)this.expandByObject(i[r],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,hi),hi.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,s;return e.normal.x>0?(n=e.normal.x*this.min.x,s=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,s=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,s+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,s+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,s+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,s+=e.normal.z*this.min.z),n<=-e.constant&&s>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Yu),bh.subVectors(this.max,Yu),Cl.subVectors(e.a,Yu),kl.subVectors(e.b,Yu),Pl.subVectors(e.c,Yu),ro.subVectors(kl,Cl),oo.subVectors(Pl,kl),ga.subVectors(Cl,Pl);let n=[0,-ro.z,ro.y,0,-oo.z,oo.y,0,-ga.z,ga.y,ro.z,0,-ro.x,oo.z,0,-oo.x,ga.z,0,-ga.x,-ro.y,ro.x,0,-oo.y,oo.x,0,-ga.y,ga.x,0];return!X_(n,Cl,kl,Pl,bh)||(n=[1,0,0,0,1,0,0,0,1],!X_(n,Cl,kl,Pl,bh))?!1:(vh.crossVectors(ro,oo),n=[vh.x,vh.y,vh.z],X_(n,Cl,kl,Pl,bh))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,hi).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(hi).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(pr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),pr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),pr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),pr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),pr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),pr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),pr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),pr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(pr),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const pr=[new ae,new ae,new ae,new ae,new ae,new ae,new ae,new ae],hi=new ae,yh=new Qr,Cl=new ae,kl=new ae,Pl=new ae,ro=new ae,oo=new ae,ga=new ae,Yu=new ae,bh=new ae,vh=new ae,_a=new ae;function X_(t,e,n,s,i){for(let r=0,o=t.length-3;r<=o;r+=3){_a.fromArray(t,r);const a=i.x*Math.abs(_a.x)+i.y*Math.abs(_a.y)+i.z*Math.abs(_a.z),l=e.dot(_a),c=n.dot(_a),u=s.dot(_a);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const tj=new Qr,Zu=new ae,K_=new ae;class ar{constructor(e=new ae,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const s=this.center;n!==void 0?s.copy(n):tj.setFromPoints(e).getCenter(s);let i=0;for(let r=0,o=e.length;r<o;r++)i=Math.max(i,s.distanceToSquared(e[r]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const s=this.center.distanceToSquared(e);return n.copy(e),s>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Zu.subVectors(e,this.center);const n=Zu.lengthSq();if(n>this.radius*this.radius){const s=Math.sqrt(n),i=(s-this.radius)*.5;this.center.addScaledVector(Zu,i/s),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(K_.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Zu.copy(e.center).add(K_)),this.expandByPoint(Zu.copy(e.center).sub(K_))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const mr=new ae,Y_=new ae,wh=new ae,ao=new ae,Z_=new ae,xh=new ae,J_=new ae;class zg{constructor(e=new ae,n=new ae(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,mr)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const s=n.dot(this.direction);return s<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,s)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=mr.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(mr.copy(this.origin).addScaledVector(this.direction,n),mr.distanceToSquared(e))}distanceSqToSegment(e,n,s,i){Y_.copy(e).add(n).multiplyScalar(.5),wh.copy(n).sub(e).normalize(),ao.copy(this.origin).sub(Y_);const r=e.distanceTo(n)*.5,o=-this.direction.dot(wh),a=ao.dot(this.direction),l=-ao.dot(wh),c=ao.lengthSq(),u=Math.abs(1-o*o);let d,f,h,y;if(u>0)if(d=o*l-a,f=o*a-l,y=r*u,d>=0)if(f>=-y)if(f<=y){const _=1/u;d*=_,f*=_,h=d*(d+o*f+2*a)+f*(o*d+f+2*l)+c}else f=r,d=Math.max(0,-(o*f+a)),h=-d*d+f*(f+2*l)+c;else f=-r,d=Math.max(0,-(o*f+a)),h=-d*d+f*(f+2*l)+c;else f<=-y?(d=Math.max(0,-(-o*r+a)),f=d>0?-r:Math.min(Math.max(-r,-l),r),h=-d*d+f*(f+2*l)+c):f<=y?(d=0,f=Math.min(Math.max(-r,-l),r),h=f*(f+2*l)+c):(d=Math.max(0,-(o*r+a)),f=d>0?r:Math.min(Math.max(-r,-l),r),h=-d*d+f*(f+2*l)+c);else f=o>0?-r:r,d=Math.max(0,-(o*f+a)),h=-d*d+f*(f+2*l)+c;return s&&s.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(Y_).addScaledVector(wh,f),h}intersectSphere(e,n){mr.subVectors(e.center,this.origin);const s=mr.dot(this.direction),i=mr.dot(mr)-s*s,r=e.radius*e.radius;if(i>r)return null;const o=Math.sqrt(r-i),a=s-o,l=s+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const s=-(this.origin.dot(e.normal)+e.constant)/n;return s>=0?s:null}intersectPlane(e,n){const s=this.distanceToPlane(e);return s===null?null:this.at(s,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let s,i,r,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(s=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(s=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),u>=0?(r=(e.min.y-f.y)*u,o=(e.max.y-f.y)*u):(r=(e.max.y-f.y)*u,o=(e.min.y-f.y)*u),s>o||r>i||((r>s||isNaN(s))&&(s=r),(o<i||isNaN(i))&&(i=o),d>=0?(a=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(a=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),s>l||a>i)||((a>s||s!==s)&&(s=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(s>=0?s:i,n)}intersectsBox(e){return this.intersectBox(e,mr)!==null}intersectTriangle(e,n,s,i,r){Z_.subVectors(n,e),xh.subVectors(s,e),J_.crossVectors(Z_,xh);let o=this.direction.dot(J_),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;ao.subVectors(this.origin,e);const l=a*this.direction.dot(xh.crossVectors(ao,xh));if(l<0)return null;const c=a*this.direction.dot(Z_.cross(ao));if(c<0||l+c>o)return null;const u=-a*ao.dot(J_);return u<0?null:this.at(u/o,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class yt{constructor(e,n,s,i,r,o,a,l,c,u,d,f,h,y,_,p){yt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,s,i,r,o,a,l,c,u,d,f,h,y,_,p)}set(e,n,s,i,r,o,a,l,c,u,d,f,h,y,_,p){const g=this.elements;return g[0]=e,g[4]=n,g[8]=s,g[12]=i,g[1]=r,g[5]=o,g[9]=a,g[13]=l,g[2]=c,g[6]=u,g[10]=d,g[14]=f,g[3]=h,g[7]=y,g[11]=_,g[15]=p,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new yt().fromArray(this.elements)}copy(e){const n=this.elements,s=e.elements;return n[0]=s[0],n[1]=s[1],n[2]=s[2],n[3]=s[3],n[4]=s[4],n[5]=s[5],n[6]=s[6],n[7]=s[7],n[8]=s[8],n[9]=s[9],n[10]=s[10],n[11]=s[11],n[12]=s[12],n[13]=s[13],n[14]=s[14],n[15]=s[15],this}copyPosition(e){const n=this.elements,s=e.elements;return n[12]=s[12],n[13]=s[13],n[14]=s[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,s){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),s.setFromMatrixColumn(this,2),this}makeBasis(e,n,s){return this.set(e.x,n.x,s.x,0,e.y,n.y,s.y,0,e.z,n.z,s.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,s=e.elements,i=1/Il.setFromMatrixColumn(e,0).length(),r=1/Il.setFromMatrixColumn(e,1).length(),o=1/Il.setFromMatrixColumn(e,2).length();return n[0]=s[0]*i,n[1]=s[1]*i,n[2]=s[2]*i,n[3]=0,n[4]=s[4]*r,n[5]=s[5]*r,n[6]=s[6]*r,n[7]=0,n[8]=s[8]*o,n[9]=s[9]*o,n[10]=s[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,s=e.x,i=e.y,r=e.z,o=Math.cos(s),a=Math.sin(s),l=Math.cos(i),c=Math.sin(i),u=Math.cos(r),d=Math.sin(r);if(e.order==="XYZ"){const f=o*u,h=o*d,y=a*u,_=a*d;n[0]=l*u,n[4]=-l*d,n[8]=c,n[1]=h+y*c,n[5]=f-_*c,n[9]=-a*l,n[2]=_-f*c,n[6]=y+h*c,n[10]=o*l}else if(e.order==="YXZ"){const f=l*u,h=l*d,y=c*u,_=c*d;n[0]=f+_*a,n[4]=y*a-h,n[8]=o*c,n[1]=o*d,n[5]=o*u,n[9]=-a,n[2]=h*a-y,n[6]=_+f*a,n[10]=o*l}else if(e.order==="ZXY"){const f=l*u,h=l*d,y=c*u,_=c*d;n[0]=f-_*a,n[4]=-o*d,n[8]=y+h*a,n[1]=h+y*a,n[5]=o*u,n[9]=_-f*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const f=o*u,h=o*d,y=a*u,_=a*d;n[0]=l*u,n[4]=y*c-h,n[8]=f*c+_,n[1]=l*d,n[5]=_*c+f,n[9]=h*c-y,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const f=o*l,h=o*c,y=a*l,_=a*c;n[0]=l*u,n[4]=_-f*d,n[8]=y*d+h,n[1]=d,n[5]=o*u,n[9]=-a*u,n[2]=-c*u,n[6]=h*d+y,n[10]=f-_*d}else if(e.order==="XZY"){const f=o*l,h=o*c,y=a*l,_=a*c;n[0]=l*u,n[4]=-d,n[8]=c*u,n[1]=f*d+_,n[5]=o*u,n[9]=h*d-y,n[2]=y*d-h,n[6]=a*u,n[10]=_*d+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(nj,e,sj)}lookAt(e,n,s){const i=this.elements;return ks.subVectors(e,n),ks.lengthSq()===0&&(ks.z=1),ks.normalize(),lo.crossVectors(s,ks),lo.lengthSq()===0&&(Math.abs(s.z)===1?ks.x+=1e-4:ks.z+=1e-4,ks.normalize(),lo.crossVectors(s,ks)),lo.normalize(),Eh.crossVectors(ks,lo),i[0]=lo.x,i[4]=Eh.x,i[8]=ks.x,i[1]=lo.y,i[5]=Eh.y,i[9]=ks.y,i[2]=lo.z,i[6]=Eh.z,i[10]=ks.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const s=e.elements,i=n.elements,r=this.elements,o=s[0],a=s[4],l=s[8],c=s[12],u=s[1],d=s[5],f=s[9],h=s[13],y=s[2],_=s[6],p=s[10],g=s[14],b=s[3],v=s[7],w=s[11],A=s[15],x=i[0],T=i[4],M=i[8],E=i[12],S=i[1],C=i[5],N=i[9],G=i[13],O=i[2],P=i[6],k=i[10],F=i[14],I=i[3],ee=i[7],Y=i[11],me=i[15];return r[0]=o*x+a*S+l*O+c*I,r[4]=o*T+a*C+l*P+c*ee,r[8]=o*M+a*N+l*k+c*Y,r[12]=o*E+a*G+l*F+c*me,r[1]=u*x+d*S+f*O+h*I,r[5]=u*T+d*C+f*P+h*ee,r[9]=u*M+d*N+f*k+h*Y,r[13]=u*E+d*G+f*F+h*me,r[2]=y*x+_*S+p*O+g*I,r[6]=y*T+_*C+p*P+g*ee,r[10]=y*M+_*N+p*k+g*Y,r[14]=y*E+_*G+p*F+g*me,r[3]=b*x+v*S+w*O+A*I,r[7]=b*T+v*C+w*P+A*ee,r[11]=b*M+v*N+w*k+A*Y,r[15]=b*E+v*G+w*F+A*me,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],s=e[4],i=e[8],r=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],f=e[10],h=e[14],y=e[3],_=e[7],p=e[11],g=e[15];return y*(+r*l*d-i*c*d-r*a*f+s*c*f+i*a*h-s*l*h)+_*(+n*l*h-n*c*f+r*o*f-i*o*h+i*c*u-r*l*u)+p*(+n*c*d-n*a*h-r*o*d+s*o*h+r*a*u-s*c*u)+g*(-i*a*u-n*l*d+n*a*f+i*o*d-s*o*f+s*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,s){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=s),this}invert(){const e=this.elements,n=e[0],s=e[1],i=e[2],r=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],h=e[11],y=e[12],_=e[13],p=e[14],g=e[15],b=d*p*c-_*f*c+_*l*h-a*p*h-d*l*g+a*f*g,v=y*f*c-u*p*c-y*l*h+o*p*h+u*l*g-o*f*g,w=u*_*c-y*d*c+y*a*h-o*_*h-u*a*g+o*d*g,A=y*d*l-u*_*l-y*a*f+o*_*f+u*a*p-o*d*p,x=n*b+s*v+i*w+r*A;if(x===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/x;return e[0]=b*T,e[1]=(_*f*r-d*p*r-_*i*h+s*p*h+d*i*g-s*f*g)*T,e[2]=(a*p*r-_*l*r+_*i*c-s*p*c-a*i*g+s*l*g)*T,e[3]=(d*l*r-a*f*r-d*i*c+s*f*c+a*i*h-s*l*h)*T,e[4]=v*T,e[5]=(u*p*r-y*f*r+y*i*h-n*p*h-u*i*g+n*f*g)*T,e[6]=(y*l*r-o*p*r-y*i*c+n*p*c+o*i*g-n*l*g)*T,e[7]=(o*f*r-u*l*r+u*i*c-n*f*c-o*i*h+n*l*h)*T,e[8]=w*T,e[9]=(y*d*r-u*_*r-y*s*h+n*_*h+u*s*g-n*d*g)*T,e[10]=(o*_*r-y*a*r+y*s*c-n*_*c-o*s*g+n*a*g)*T,e[11]=(u*a*r-o*d*r-u*s*c+n*d*c+o*s*h-n*a*h)*T,e[12]=A*T,e[13]=(u*_*i-y*d*i+y*s*f-n*_*f-u*s*p+n*d*p)*T,e[14]=(y*a*i-o*_*i-y*s*l+n*_*l+o*s*p-n*a*p)*T,e[15]=(o*d*i-u*a*i+u*s*l-n*d*l-o*s*f+n*a*f)*T,this}scale(e){const n=this.elements,s=e.x,i=e.y,r=e.z;return n[0]*=s,n[4]*=i,n[8]*=r,n[1]*=s,n[5]*=i,n[9]*=r,n[2]*=s,n[6]*=i,n[10]*=r,n[3]*=s,n[7]*=i,n[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],s=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,s,i))}makeTranslation(e,n,s){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,s,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),s=Math.sin(e);return this.set(1,0,0,0,0,n,-s,0,0,s,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),s=Math.sin(e);return this.set(n,0,s,0,0,1,0,0,-s,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),s=Math.sin(e);return this.set(n,-s,0,0,s,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const s=Math.cos(n),i=Math.sin(n),r=1-s,o=e.x,a=e.y,l=e.z,c=r*o,u=r*a;return this.set(c*o+s,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+s,u*l-i*o,0,c*l-i*a,u*l+i*o,r*l*l+s,0,0,0,0,1),this}makeScale(e,n,s){return this.set(e,0,0,0,0,n,0,0,0,0,s,0,0,0,0,1),this}makeShear(e,n,s,i,r,o){return this.set(1,s,r,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,s){const i=this.elements,r=n._x,o=n._y,a=n._z,l=n._w,c=r+r,u=o+o,d=a+a,f=r*c,h=r*u,y=r*d,_=o*u,p=o*d,g=a*d,b=l*c,v=l*u,w=l*d,A=s.x,x=s.y,T=s.z;return i[0]=(1-(_+g))*A,i[1]=(h+w)*A,i[2]=(y-v)*A,i[3]=0,i[4]=(h-w)*x,i[5]=(1-(f+g))*x,i[6]=(p+b)*x,i[7]=0,i[8]=(y+v)*T,i[9]=(p-b)*T,i[10]=(1-(f+_))*T,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,s){const i=this.elements;let r=Il.set(i[0],i[1],i[2]).length();const o=Il.set(i[4],i[5],i[6]).length(),a=Il.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],pi.copy(this);const c=1/r,u=1/o,d=1/a;return pi.elements[0]*=c,pi.elements[1]*=c,pi.elements[2]*=c,pi.elements[4]*=u,pi.elements[5]*=u,pi.elements[6]*=u,pi.elements[8]*=d,pi.elements[9]*=d,pi.elements[10]*=d,n.setFromRotationMatrix(pi),s.x=r,s.y=o,s.z=a,this}makePerspective(e,n,s,i,r,o,a=Dr){const l=this.elements,c=2*r/(n-e),u=2*r/(s-i),d=(n+e)/(n-e),f=(s+i)/(s-i);let h,y;if(a===Dr)h=-(o+r)/(o-r),y=-2*o*r/(o-r);else if(a===Cm)h=-o/(o-r),y=-o*r/(o-r);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=h,l[14]=y,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,s,i,r,o,a=Dr){const l=this.elements,c=1/(n-e),u=1/(s-i),d=1/(o-r),f=(n+e)*c,h=(s+i)*u;let y,_;if(a===Dr)y=(o+r)*d,_=-2*d;else if(a===Cm)y=r*d,_=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-h,l[2]=0,l[6]=0,l[10]=_,l[14]=-y,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,s=e.elements;for(let i=0;i<16;i++)if(n[i]!==s[i])return!1;return!0}fromArray(e,n=0){for(let s=0;s<16;s++)this.elements[s]=e[s+n];return this}toArray(e=[],n=0){const s=this.elements;return e[n]=s[0],e[n+1]=s[1],e[n+2]=s[2],e[n+3]=s[3],e[n+4]=s[4],e[n+5]=s[5],e[n+6]=s[6],e[n+7]=s[7],e[n+8]=s[8],e[n+9]=s[9],e[n+10]=s[10],e[n+11]=s[11],e[n+12]=s[12],e[n+13]=s[13],e[n+14]=s[14],e[n+15]=s[15],e}}const Il=new ae,pi=new yt,nj=new ae(0,0,0),sj=new ae(1,1,1),lo=new ae,Eh=new ae,ks=new ae,NE=new yt,UE=new Jr;class ir{constructor(e=0,n=0,s=0,i=ir.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=s,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,s,i=this._order){return this._x=e,this._y=n,this._z=s,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,s=!0){const i=e.elements,r=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],d=i[2],f=i[6],h=i[10];switch(n){case"XYZ":this._y=Math.asin(Kn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-o,r)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Kn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,r),this._z=0);break;case"ZXY":this._x=Math.asin(Kn(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,h),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,r));break;case"ZYX":this._y=Math.asin(-Kn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,h),this._z=Math.atan2(l,r)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Kn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,r)):(this._x=0,this._y=Math.atan2(a,h));break;case"XZY":this._z=Math.asin(-Kn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(a,r)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,s===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,s){return NE.makeRotationFromQuaternion(e),this.setFromRotationMatrix(NE,n,s)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return UE.setFromEuler(this),this.setFromQuaternion(UE,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ir.DEFAULT_ORDER="XYZ";let dC=class{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}},ij=0;const $E=new ae,Ol=new Jr,gr=new yt,Sh=new ae,Ju=new ae,rj=new ae,oj=new Jr,FE=new ae(1,0,0),BE=new ae(0,1,0),HE=new ae(0,0,1),GE={type:"added"},aj={type:"removed"},Ll={type:"childadded",child:null},Q_={type:"childremoved",child:null};class nn extends Ou{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:ij++}),this.uuid=ki(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=nn.DEFAULT_UP.clone();const e=new ae,n=new ir,s=new Jr,i=new ae(1,1,1);function r(){s.setFromEuler(n,!1)}function o(){n.setFromQuaternion(s,void 0,!1)}n._onChange(r),s._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:s},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new yt},normalMatrix:{value:new _t}}),this.matrix=new yt,this.matrixWorld=new yt,this.matrixAutoUpdate=nn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=nn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new dC,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Ol.setFromAxisAngle(e,n),this.quaternion.multiply(Ol),this}rotateOnWorldAxis(e,n){return Ol.setFromAxisAngle(e,n),this.quaternion.premultiply(Ol),this}rotateX(e){return this.rotateOnAxis(FE,e)}rotateY(e){return this.rotateOnAxis(BE,e)}rotateZ(e){return this.rotateOnAxis(HE,e)}translateOnAxis(e,n){return $E.copy(e).applyQuaternion(this.quaternion),this.position.add($E.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(FE,e)}translateY(e){return this.translateOnAxis(BE,e)}translateZ(e){return this.translateOnAxis(HE,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(gr.copy(this.matrixWorld).invert())}lookAt(e,n,s){e.isVector3?Sh.copy(e):Sh.set(e,n,s);const i=this.parent;this.updateWorldMatrix(!0,!1),Ju.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?gr.lookAt(Ju,Sh,this.up):gr.lookAt(Sh,Ju,this.up),this.quaternion.setFromRotationMatrix(gr),i&&(gr.extractRotation(i.matrixWorld),Ol.setFromRotationMatrix(gr),this.quaternion.premultiply(Ol.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(GE),Ll.child=e,this.dispatchEvent(Ll),Ll.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let s=0;s<arguments.length;s++)this.remove(arguments[s]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(aj),Q_.child=e,this.dispatchEvent(Q_),Q_.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),gr.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),gr.multiply(e.parent.matrixWorld)),e.applyMatrix4(gr),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(GE),Ll.child=e,this.dispatchEvent(Ll),Ll.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let s=0,i=this.children.length;s<i;s++){const o=this.children[s].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,s=[]){this[e]===n&&s.push(this);const i=this.children;for(let r=0,o=i.length;r<o;r++)i[r].getObjectsByProperty(e,n,s);return s}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ju,e,rj),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ju,oj,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let s=0,i=n.length;s<i;s++)n[s].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let s=0,i=n.length;s<i;s++)n[s].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let s=0,i=n.length;s<i;s++)n[s].updateMatrixWorld(e)}updateWorldMatrix(e,n){const s=this.parent;if(e===!0&&s!==null&&s.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let r=0,o=i.length;r<o;r++)i[r].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",s={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},s.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function r(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];r(e.shapes,d)}else r(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(r(e.materials,this.material[l]));i.material=a}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(r(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),d=o(e.shapes),f=o(e.skeletons),h=o(e.animations),y=o(e.nodes);a.length>0&&(s.geometries=a),l.length>0&&(s.materials=l),c.length>0&&(s.textures=c),u.length>0&&(s.images=u),d.length>0&&(s.shapes=d),f.length>0&&(s.skeletons=f),h.length>0&&(s.animations=h),y.length>0&&(s.nodes=y)}return s.object=i,s;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let s=0;s<e.children.length;s++){const i=e.children[s];this.add(i.clone())}return this}}nn.DEFAULT_UP=new ae(0,1,0);nn.DEFAULT_MATRIX_AUTO_UPDATE=!0;nn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const mi=new ae,_r=new ae,e0=new ae,yr=new ae,Dl=new ae,Nl=new ae,zE=new ae,t0=new ae,n0=new ae,s0=new ae;class qi{constructor(e=new ae,n=new ae,s=new ae){this.a=e,this.b=n,this.c=s}static getNormal(e,n,s,i){i.subVectors(s,n),mi.subVectors(e,n),i.cross(mi);const r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(e,n,s,i,r){mi.subVectors(i,n),_r.subVectors(s,n),e0.subVectors(e,n);const o=mi.dot(mi),a=mi.dot(_r),l=mi.dot(e0),c=_r.dot(_r),u=_r.dot(e0),d=o*c-a*a;if(d===0)return r.set(0,0,0),null;const f=1/d,h=(c*l-a*u)*f,y=(o*u-a*l)*f;return r.set(1-h-y,y,h)}static containsPoint(e,n,s,i){return this.getBarycoord(e,n,s,i,yr)===null?!1:yr.x>=0&&yr.y>=0&&yr.x+yr.y<=1}static getInterpolation(e,n,s,i,r,o,a,l){return this.getBarycoord(e,n,s,i,yr)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(r,yr.x),l.addScaledVector(o,yr.y),l.addScaledVector(a,yr.z),l)}static isFrontFacing(e,n,s,i){return mi.subVectors(s,n),_r.subVectors(e,n),mi.cross(_r).dot(i)<0}set(e,n,s){return this.a.copy(e),this.b.copy(n),this.c.copy(s),this}setFromPointsAndIndices(e,n,s,i){return this.a.copy(e[n]),this.b.copy(e[s]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,s,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,s),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return mi.subVectors(this.c,this.b),_r.subVectors(this.a,this.b),mi.cross(_r).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return qi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return qi.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,s,i,r){return qi.getInterpolation(e,this.a,this.b,this.c,n,s,i,r)}containsPoint(e){return qi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return qi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const s=this.a,i=this.b,r=this.c;let o,a;Dl.subVectors(i,s),Nl.subVectors(r,s),t0.subVectors(e,s);const l=Dl.dot(t0),c=Nl.dot(t0);if(l<=0&&c<=0)return n.copy(s);n0.subVectors(e,i);const u=Dl.dot(n0),d=Nl.dot(n0);if(u>=0&&d<=u)return n.copy(i);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return o=l/(l-u),n.copy(s).addScaledVector(Dl,o);s0.subVectors(e,r);const h=Dl.dot(s0),y=Nl.dot(s0);if(y>=0&&h<=y)return n.copy(r);const _=h*c-l*y;if(_<=0&&c>=0&&y<=0)return a=c/(c-y),n.copy(s).addScaledVector(Nl,a);const p=u*y-h*d;if(p<=0&&d-u>=0&&h-y>=0)return zE.subVectors(r,i),a=(d-u)/(d-u+(h-y)),n.copy(i).addScaledVector(zE,a);const g=1/(p+_+f);return o=_*g,a=f*g,n.copy(s).addScaledVector(Dl,o).addScaledVector(Nl,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const fC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},co={h:0,s:0,l:0},Th={h:0,s:0,l:0};function i0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let pt=class{constructor(e,n,s){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,s)}set(e,n,s){if(n===void 0&&s===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,s);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=as){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Ct.toWorkingColorSpace(this,n),this}setRGB(e,n,s,i=Ct.workingColorSpace){return this.r=e,this.g=n,this.b=s,Ct.toWorkingColorSpace(this,i),this}setHSL(e,n,s,i=Ct.workingColorSpace){if(e=rw(e,1),n=Kn(n,0,1),s=Kn(s,0,1),n===0)this.r=this.g=this.b=s;else{const r=s<=.5?s*(1+n):s+n-s*n,o=2*s-r;this.r=i0(o,r,e+1/3),this.g=i0(o,r,e),this.b=i0(o,r,e-1/3)}return Ct.toWorkingColorSpace(this,i),this}setStyle(e,n=as){function s(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let r;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return s(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,n);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return s(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,n);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return s(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=i[1],o=r.length;if(o===3)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(r,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=as){const s=fC[e.toLowerCase()];return s!==void 0?this.setHex(s,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Dc(e.r),this.g=Dc(e.g),this.b=Dc(e.b),this}copyLinearToSRGB(e){return this.r=j_(e.r),this.g=j_(e.g),this.b=j_(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=as){return Ct.fromWorkingColorSpace(jn.copy(this),e),Math.round(Kn(jn.r*255,0,255))*65536+Math.round(Kn(jn.g*255,0,255))*256+Math.round(Kn(jn.b*255,0,255))}getHexString(e=as){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Ct.workingColorSpace){Ct.fromWorkingColorSpace(jn.copy(this),n);const s=jn.r,i=jn.g,r=jn.b,o=Math.max(s,i,r),a=Math.min(s,i,r);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=u<=.5?d/(o+a):d/(2-o-a),o){case s:l=(i-r)/d+(i<r?6:0);break;case i:l=(r-s)/d+2;break;case r:l=(s-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=Ct.workingColorSpace){return Ct.fromWorkingColorSpace(jn.copy(this),n),e.r=jn.r,e.g=jn.g,e.b=jn.b,e}getStyle(e=as){Ct.fromWorkingColorSpace(jn.copy(this),e);const n=jn.r,s=jn.g,i=jn.b;return e!==as?`color(${e} ${n.toFixed(3)} ${s.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(s*255)},${Math.round(i*255)})`}offsetHSL(e,n,s){return this.getHSL(co),this.setHSL(co.h+e,co.s+n,co.l+s)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,s){return this.r=e.r+(n.r-e.r)*s,this.g=e.g+(n.g-e.g)*s,this.b=e.b+(n.b-e.b)*s,this}lerpHSL(e,n){this.getHSL(co),e.getHSL(Th);const s=Kd(co.h,Th.h,n),i=Kd(co.s,Th.s,n),r=Kd(co.l,Th.l,n);return this.setHSL(s,i,r),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,s=this.g,i=this.b,r=e.elements;return this.r=r[0]*n+r[3]*s+r[6]*i,this.g=r[1]*n+r[4]*s+r[7]*i,this.b=r[2]*n+r[5]*s+r[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const jn=new pt;pt.NAMES=fC;let lj=0;class er extends Ou{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:lj++}),this.uuid=ki(),this.name="",this.type="Material",this.blending=Ic,this.side=Vr,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=X1,this.blendDst=K1,this.blendEquation=Ua,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new pt(0,0,0),this.blendAlpha=0,this.depthFunc=Sm,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=CE,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ml,this.stencilZFail=Ml,this.stencilZPass=Ml,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const s=e[n];if(s===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(s):i&&i.isVector3&&s&&s.isVector3?i.copy(s):this[n]=s}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const s={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.color&&this.color.isColor&&(s.color=this.color.getHex()),this.roughness!==void 0&&(s.roughness=this.roughness),this.metalness!==void 0&&(s.metalness=this.metalness),this.sheen!==void 0&&(s.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(s.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(s.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(s.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(s.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(s.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(s.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(s.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(s.shininess=this.shininess),this.clearcoat!==void 0&&(s.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(s.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(s.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(s.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,s.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(s.dispersion=this.dispersion),this.iridescence!==void 0&&(s.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(s.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(s.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(s.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(s.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(s.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(s.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(s.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(s.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(s.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(s.lightMap=this.lightMap.toJSON(e).uuid,s.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(s.aoMap=this.aoMap.toJSON(e).uuid,s.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(s.bumpMap=this.bumpMap.toJSON(e).uuid,s.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(s.normalMap=this.normalMap.toJSON(e).uuid,s.normalMapType=this.normalMapType,s.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(s.displacementMap=this.displacementMap.toJSON(e).uuid,s.displacementScale=this.displacementScale,s.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(s.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(s.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(s.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(s.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(s.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(s.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(s.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(s.combine=this.combine)),this.envMapRotation!==void 0&&(s.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(s.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(s.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(s.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(s.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(s.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(s.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(s.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(s.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(s.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(s.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(s.size=this.size),this.shadowSide!==null&&(s.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(s.sizeAttenuation=this.sizeAttenuation),this.blending!==Ic&&(s.blending=this.blending),this.side!==Vr&&(s.side=this.side),this.vertexColors===!0&&(s.vertexColors=!0),this.opacity<1&&(s.opacity=this.opacity),this.transparent===!0&&(s.transparent=!0),this.blendSrc!==X1&&(s.blendSrc=this.blendSrc),this.blendDst!==K1&&(s.blendDst=this.blendDst),this.blendEquation!==Ua&&(s.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(s.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(s.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(s.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(s.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(s.blendAlpha=this.blendAlpha),this.depthFunc!==Sm&&(s.depthFunc=this.depthFunc),this.depthTest===!1&&(s.depthTest=this.depthTest),this.depthWrite===!1&&(s.depthWrite=this.depthWrite),this.colorWrite===!1&&(s.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(s.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==CE&&(s.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(s.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(s.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Ml&&(s.stencilFail=this.stencilFail),this.stencilZFail!==Ml&&(s.stencilZFail=this.stencilZFail),this.stencilZPass!==Ml&&(s.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(s.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(s.rotation=this.rotation),this.polygonOffset===!0&&(s.polygonOffset=!0),this.polygonOffsetFactor!==0&&(s.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(s.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(s.linewidth=this.linewidth),this.dashSize!==void 0&&(s.dashSize=this.dashSize),this.gapSize!==void 0&&(s.gapSize=this.gapSize),this.scale!==void 0&&(s.scale=this.scale),this.dithering===!0&&(s.dithering=!0),this.alphaTest>0&&(s.alphaTest=this.alphaTest),this.alphaHash===!0&&(s.alphaHash=!0),this.alphaToCoverage===!0&&(s.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(s.premultipliedAlpha=!0),this.forceSinglePass===!0&&(s.forceSinglePass=!0),this.wireframe===!0&&(s.wireframe=!0),this.wireframeLinewidth>1&&(s.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(s.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(s.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(s.flatShading=!0),this.visible===!1&&(s.visible=!1),this.toneMapped===!1&&(s.toneMapped=!1),this.fog===!1&&(s.fog=!1),Object.keys(this.userData).length>0&&(s.userData=this.userData);function i(r){const o=[];for(const a in r){const l=r[a];delete l.metadata,o.push(l)}return o}if(n){const r=i(e.textures),o=i(e.images);r.length>0&&(s.textures=r),o.length>0&&(s.images=o)}return s}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let s=null;if(n!==null){const i=n.length;s=new Array(i);for(let r=0;r!==i;++r)s[r]=n[r].clone()}return this.clippingPlanes=s,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}onBeforeRender(){console.warn("Material: onBeforeRender() has been removed.")}}class Uo extends er{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new pt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ir,this.combine=q5,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const bn=new ae,Ah=new xt;class ds{constructor(e,n,s=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=s,this.usage=Ty,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=Ci,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return Lc("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,s){e*=this.itemSize,s*=n.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[e+i]=n.array[s+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,s=this.count;n<s;n++)Ah.fromBufferAttribute(this,n),Ah.applyMatrix3(e),this.setXY(n,Ah.x,Ah.y);else if(this.itemSize===3)for(let n=0,s=this.count;n<s;n++)bn.fromBufferAttribute(this,n),bn.applyMatrix3(e),this.setXYZ(n,bn.x,bn.y,bn.z);return this}applyMatrix4(e){for(let n=0,s=this.count;n<s;n++)bn.fromBufferAttribute(this,n),bn.applyMatrix4(e),this.setXYZ(n,bn.x,bn.y,bn.z);return this}applyNormalMatrix(e){for(let n=0,s=this.count;n<s;n++)bn.fromBufferAttribute(this,n),bn.applyNormalMatrix(e),this.setXYZ(n,bn.x,bn.y,bn.z);return this}transformDirection(e){for(let n=0,s=this.count;n<s;n++)bn.fromBufferAttribute(this,n),bn.transformDirection(e),this.setXYZ(n,bn.x,bn.y,bn.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let s=this.array[e*this.itemSize+n];return this.normalized&&(s=Ri(s,this.array)),s}setComponent(e,n,s){return this.normalized&&(s=Nt(s,this.array)),this.array[e*this.itemSize+n]=s,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Ri(n,this.array)),n}setX(e,n){return this.normalized&&(n=Nt(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Ri(n,this.array)),n}setY(e,n){return this.normalized&&(n=Nt(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Ri(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Nt(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Ri(n,this.array)),n}setW(e,n){return this.normalized&&(n=Nt(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,s){return e*=this.itemSize,this.normalized&&(n=Nt(n,this.array),s=Nt(s,this.array)),this.array[e+0]=n,this.array[e+1]=s,this}setXYZ(e,n,s,i){return e*=this.itemSize,this.normalized&&(n=Nt(n,this.array),s=Nt(s,this.array),i=Nt(i,this.array)),this.array[e+0]=n,this.array[e+1]=s,this.array[e+2]=i,this}setXYZW(e,n,s,i,r){return e*=this.itemSize,this.normalized&&(n=Nt(n,this.array),s=Nt(s,this.array),i=Nt(i,this.array),r=Nt(r,this.array)),this.array[e+0]=n,this.array[e+1]=s,this.array[e+2]=i,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Ty&&(e.usage=this.usage),e}}class hC extends ds{constructor(e,n,s){super(new Uint16Array(e),n,s)}}class pC extends ds{constructor(e,n,s){super(new Uint32Array(e),n,s)}}class Fr extends ds{constructor(e,n,s){super(new Float32Array(e),n,s)}}let cj=0;const Zs=new yt,r0=new nn,Ul=new ae,Ps=new Qr,Qu=new Qr,kn=new ae;class lr extends Ou{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:cj++}),this.uuid=ki(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(lC(e)?pC:hC)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,s=0){this.groups.push({start:e,count:n,materialIndex:s})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const s=this.attributes.normal;if(s!==void 0){const r=new _t().getNormalMatrix(e);s.applyNormalMatrix(r),s.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Zs.makeRotationFromQuaternion(e),this.applyMatrix4(Zs),this}rotateX(e){return Zs.makeRotationX(e),this.applyMatrix4(Zs),this}rotateY(e){return Zs.makeRotationY(e),this.applyMatrix4(Zs),this}rotateZ(e){return Zs.makeRotationZ(e),this.applyMatrix4(Zs),this}translate(e,n,s){return Zs.makeTranslation(e,n,s),this.applyMatrix4(Zs),this}scale(e,n,s){return Zs.makeScale(e,n,s),this.applyMatrix4(Zs),this}lookAt(e){return r0.lookAt(e),r0.updateMatrix(),this.applyMatrix4(r0.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ul).negate(),this.translate(Ul.x,Ul.y,Ul.z),this}setFromPoints(e){const n=[];for(let s=0,i=e.length;s<i;s++){const r=e[s];n.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Fr(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Qr);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ae(-1/0,-1/0,-1/0),new ae(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let s=0,i=n.length;s<i;s++){const r=n[s];Ps.setFromBufferAttribute(r),this.morphTargetsRelative?(kn.addVectors(this.boundingBox.min,Ps.min),this.boundingBox.expandByPoint(kn),kn.addVectors(this.boundingBox.max,Ps.max),this.boundingBox.expandByPoint(kn)):(this.boundingBox.expandByPoint(Ps.min),this.boundingBox.expandByPoint(Ps.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ar);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ae,1/0);return}if(e){const s=this.boundingSphere.center;if(Ps.setFromBufferAttribute(e),n)for(let r=0,o=n.length;r<o;r++){const a=n[r];Qu.setFromBufferAttribute(a),this.morphTargetsRelative?(kn.addVectors(Ps.min,Qu.min),Ps.expandByPoint(kn),kn.addVectors(Ps.max,Qu.max),Ps.expandByPoint(kn)):(Ps.expandByPoint(Qu.min),Ps.expandByPoint(Qu.max))}Ps.getCenter(s);let i=0;for(let r=0,o=e.count;r<o;r++)kn.fromBufferAttribute(e,r),i=Math.max(i,s.distanceToSquared(kn));if(n)for(let r=0,o=n.length;r<o;r++){const a=n[r],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)kn.fromBufferAttribute(a,c),l&&(Ul.fromBufferAttribute(e,c),kn.add(Ul)),i=Math.max(i,s.distanceToSquared(kn))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const s=n.position,i=n.normal,r=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ds(new Float32Array(4*s.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let M=0;M<s.count;M++)a[M]=new ae,l[M]=new ae;const c=new ae,u=new ae,d=new ae,f=new xt,h=new xt,y=new xt,_=new ae,p=new ae;function g(M,E,S){c.fromBufferAttribute(s,M),u.fromBufferAttribute(s,E),d.fromBufferAttribute(s,S),f.fromBufferAttribute(r,M),h.fromBufferAttribute(r,E),y.fromBufferAttribute(r,S),u.sub(c),d.sub(c),h.sub(f),y.sub(f);const C=1/(h.x*y.y-y.x*h.y);isFinite(C)&&(_.copy(u).multiplyScalar(y.y).addScaledVector(d,-h.y).multiplyScalar(C),p.copy(d).multiplyScalar(h.x).addScaledVector(u,-y.x).multiplyScalar(C),a[M].add(_),a[E].add(_),a[S].add(_),l[M].add(p),l[E].add(p),l[S].add(p))}let b=this.groups;b.length===0&&(b=[{start:0,count:e.count}]);for(let M=0,E=b.length;M<E;++M){const S=b[M],C=S.start,N=S.count;for(let G=C,O=C+N;G<O;G+=3)g(e.getX(G+0),e.getX(G+1),e.getX(G+2))}const v=new ae,w=new ae,A=new ae,x=new ae;function T(M){A.fromBufferAttribute(i,M),x.copy(A);const E=a[M];v.copy(E),v.sub(A.multiplyScalar(A.dot(E))).normalize(),w.crossVectors(x,E);const C=w.dot(l[M])<0?-1:1;o.setXYZW(M,v.x,v.y,v.z,C)}for(let M=0,E=b.length;M<E;++M){const S=b[M],C=S.start,N=S.count;for(let G=C,O=C+N;G<O;G+=3)T(e.getX(G+0)),T(e.getX(G+1)),T(e.getX(G+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let s=this.getAttribute("normal");if(s===void 0)s=new ds(new Float32Array(n.count*3),3),this.setAttribute("normal",s);else for(let f=0,h=s.count;f<h;f++)s.setXYZ(f,0,0,0);const i=new ae,r=new ae,o=new ae,a=new ae,l=new ae,c=new ae,u=new ae,d=new ae;if(e)for(let f=0,h=e.count;f<h;f+=3){const y=e.getX(f+0),_=e.getX(f+1),p=e.getX(f+2);i.fromBufferAttribute(n,y),r.fromBufferAttribute(n,_),o.fromBufferAttribute(n,p),u.subVectors(o,r),d.subVectors(i,r),u.cross(d),a.fromBufferAttribute(s,y),l.fromBufferAttribute(s,_),c.fromBufferAttribute(s,p),a.add(u),l.add(u),c.add(u),s.setXYZ(y,a.x,a.y,a.z),s.setXYZ(_,l.x,l.y,l.z),s.setXYZ(p,c.x,c.y,c.z)}else for(let f=0,h=n.count;f<h;f+=3)i.fromBufferAttribute(n,f+0),r.fromBufferAttribute(n,f+1),o.fromBufferAttribute(n,f+2),u.subVectors(o,r),d.subVectors(i,r),u.cross(d),s.setXYZ(f+0,u.x,u.y,u.z),s.setXYZ(f+1,u.x,u.y,u.z),s.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),s.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,s=e.count;n<s;n++)kn.fromBufferAttribute(e,n),kn.normalize(),e.setXYZ(n,kn.x,kn.y,kn.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,f=new c.constructor(l.length*u);let h=0,y=0;for(let _=0,p=l.length;_<p;_++){a.isInterleavedBufferAttribute?h=l[_]*a.data.stride+a.offset:h=l[_]*u;for(let g=0;g<u;g++)f[y++]=c[h++]}return new ds(f,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new lr,s=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,s);n.setAttribute(a,c)}const r=this.morphAttributes;for(const a in r){const l=[],c=r[a];for(let u=0,d=c.length;u<d;u++){const f=c[u],h=e(f,s);l.push(h)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const s=this.attributes;for(const l in s){const c=s[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let r=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,f=c.length;d<f;d++){const h=c[d];u.push(h.toJSON(e.data))}u.length>0&&(i[l]=u,r=!0)}r&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const s=e.index;s!==null&&this.setIndex(s.clone(n));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const r=e.morphAttributes;for(const c in r){const u=[],d=r[c];for(let f=0,h=d.length;f<h;f++)u.push(d[f].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const VE=new yt,ya=new zg,Mh=new ar,jE=new ae,$l=new ae,Fl=new ae,Bl=new ae,o0=new ae,Rh=new ae,Ch=new xt,kh=new xt,Ph=new xt,WE=new ae,qE=new ae,XE=new ae,Ih=new ae,Oh=new ae;class Es extends nn{constructor(e=new lr,n=new Uo){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,s=Object.keys(n);if(s.length>0){const i=n[s[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=i.length;r<o;r++){const a=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}getVertexPosition(e,n){const s=this.geometry,i=s.attributes.position,r=s.morphAttributes.position,o=s.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(r&&a){Rh.set(0,0,0);for(let l=0,c=r.length;l<c;l++){const u=a[l],d=r[l];u!==0&&(o0.fromBufferAttribute(d,e),o?Rh.addScaledVector(o0,u):Rh.addScaledVector(o0.sub(n),u))}n.add(Rh)}return n}raycast(e,n){const s=this.geometry,i=this.material,r=this.matrixWorld;i!==void 0&&(s.boundingSphere===null&&s.computeBoundingSphere(),Mh.copy(s.boundingSphere),Mh.applyMatrix4(r),ya.copy(e.ray).recast(e.near),!(Mh.containsPoint(ya.origin)===!1&&(ya.intersectSphere(Mh,jE)===null||ya.origin.distanceToSquared(jE)>(e.far-e.near)**2))&&(VE.copy(r).invert(),ya.copy(e.ray).applyMatrix4(VE),!(s.boundingBox!==null&&ya.intersectsBox(s.boundingBox)===!1)&&this._computeIntersections(e,n,ya)))}_computeIntersections(e,n,s){let i;const r=this.geometry,o=this.material,a=r.index,l=r.attributes.position,c=r.attributes.uv,u=r.attributes.uv1,d=r.attributes.normal,f=r.groups,h=r.drawRange;if(a!==null)if(Array.isArray(o))for(let y=0,_=f.length;y<_;y++){const p=f[y],g=o[p.materialIndex],b=Math.max(p.start,h.start),v=Math.min(a.count,Math.min(p.start+p.count,h.start+h.count));for(let w=b,A=v;w<A;w+=3){const x=a.getX(w),T=a.getX(w+1),M=a.getX(w+2);i=Lh(this,g,e,s,c,u,d,x,T,M),i&&(i.faceIndex=Math.floor(w/3),i.face.materialIndex=p.materialIndex,n.push(i))}}else{const y=Math.max(0,h.start),_=Math.min(a.count,h.start+h.count);for(let p=y,g=_;p<g;p+=3){const b=a.getX(p),v=a.getX(p+1),w=a.getX(p+2);i=Lh(this,o,e,s,c,u,d,b,v,w),i&&(i.faceIndex=Math.floor(p/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let y=0,_=f.length;y<_;y++){const p=f[y],g=o[p.materialIndex],b=Math.max(p.start,h.start),v=Math.min(l.count,Math.min(p.start+p.count,h.start+h.count));for(let w=b,A=v;w<A;w+=3){const x=w,T=w+1,M=w+2;i=Lh(this,g,e,s,c,u,d,x,T,M),i&&(i.faceIndex=Math.floor(w/3),i.face.materialIndex=p.materialIndex,n.push(i))}}else{const y=Math.max(0,h.start),_=Math.min(l.count,h.start+h.count);for(let p=y,g=_;p<g;p+=3){const b=p,v=p+1,w=p+2;i=Lh(this,o,e,s,c,u,d,b,v,w),i&&(i.faceIndex=Math.floor(p/3),n.push(i))}}}}function uj(t,e,n,s,i,r,o,a){let l;if(e.side===Ts?l=s.intersectTriangle(o,r,i,!0,a):l=s.intersectTriangle(i,r,o,e.side===Vr,a),l===null)return null;Oh.copy(a),Oh.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(Oh);return c<n.near||c>n.far?null:{distance:c,point:Oh.clone(),object:t}}function Lh(t,e,n,s,i,r,o,a,l,c){t.getVertexPosition(a,$l),t.getVertexPosition(l,Fl),t.getVertexPosition(c,Bl);const u=uj(t,e,n,s,$l,Fl,Bl,Ih);if(u){i&&(Ch.fromBufferAttribute(i,a),kh.fromBufferAttribute(i,l),Ph.fromBufferAttribute(i,c),u.uv=qi.getInterpolation(Ih,$l,Fl,Bl,Ch,kh,Ph,new xt)),r&&(Ch.fromBufferAttribute(r,a),kh.fromBufferAttribute(r,l),Ph.fromBufferAttribute(r,c),u.uv1=qi.getInterpolation(Ih,$l,Fl,Bl,Ch,kh,Ph,new xt)),o&&(WE.fromBufferAttribute(o,a),qE.fromBufferAttribute(o,l),XE.fromBufferAttribute(o,c),u.normal=qi.getInterpolation(Ih,$l,Fl,Bl,WE,qE,XE,new ae),u.normal.dot(s.direction)>0&&u.normal.multiplyScalar(-1));const d={a,b:l,c,normal:new ae,materialIndex:0};qi.getNormal($l,Fl,Bl,d.normal),u.face=d}return u}class Lu extends lr{constructor(e=1,n=1,s=1,i=1,r=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:s,widthSegments:i,heightSegments:r,depthSegments:o};const a=this;i=Math.floor(i),r=Math.floor(r),o=Math.floor(o);const l=[],c=[],u=[],d=[];let f=0,h=0;y("z","y","x",-1,-1,s,n,e,o,r,0),y("z","y","x",1,-1,s,n,-e,o,r,1),y("x","z","y",1,1,e,s,n,i,o,2),y("x","z","y",1,-1,e,s,-n,i,o,3),y("x","y","z",1,-1,e,n,s,i,r,4),y("x","y","z",-1,-1,e,n,-s,i,r,5),this.setIndex(l),this.setAttribute("position",new Fr(c,3)),this.setAttribute("normal",new Fr(u,3)),this.setAttribute("uv",new Fr(d,2));function y(_,p,g,b,v,w,A,x,T,M,E){const S=w/T,C=A/M,N=w/2,G=A/2,O=x/2,P=T+1,k=M+1;let F=0,I=0;const ee=new ae;for(let Y=0;Y<k;Y++){const me=Y*C-G;for(let ge=0;ge<P;ge++){const Ce=ge*S-N;ee[_]=Ce*b,ee[p]=me*v,ee[g]=O,c.push(ee.x,ee.y,ee.z),ee[_]=0,ee[p]=0,ee[g]=x>0?1:-1,u.push(ee.x,ee.y,ee.z),d.push(ge/T),d.push(1-Y/M),F+=1}}for(let Y=0;Y<M;Y++)for(let me=0;me<T;me++){const ge=f+me+P*Y,Ce=f+me+P*(Y+1),le=f+(me+1)+P*(Y+1),_e=f+(me+1)+P*Y;l.push(ge,Ce,_e),l.push(Ce,le,_e),I+=6}a.addGroup(h,I,E),h+=I,f+=F}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Lu(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function uu(t){const e={};for(const n in t){e[n]={};for(const s in t[n]){const i=t[n][s];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][s]=null):e[n][s]=i.clone():Array.isArray(i)?e[n][s]=i.slice():e[n][s]=i}}return e}function ss(t){const e={};for(let n=0;n<t.length;n++){const s=uu(t[n]);for(const i in s)e[i]=s[i]}return e}function dj(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function mC(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Ct.workingColorSpace}const fj={clone:uu,merge:ss};var hj=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,pj=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Qo extends er{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=hj,this.fragmentShader=pj,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=uu(e.uniforms),this.uniformsGroups=dj(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const s={};for(const i in this.extensions)this.extensions[i]===!0&&(s[i]=!0);return Object.keys(s).length>0&&(n.extensions=s),n}}class gC extends nn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new yt,this.projectionMatrix=new yt,this.projectionMatrixInverse=new yt,this.coordinateSystem=Dr}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const uo=new ae,KE=new xt,YE=new xt;class Yn extends gC{constructor(e=50,n=1,s=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=s,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=cu*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Xd*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return cu*2*Math.atan(Math.tan(Xd*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,s){uo.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(uo.x,uo.y).multiplyScalar(-e/uo.z),uo.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),s.set(uo.x,uo.y).multiplyScalar(-e/uo.z)}getViewSize(e,n){return this.getViewBounds(e,KE,YE),n.subVectors(YE,KE)}setViewOffset(e,n,s,i,r,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=s,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Xd*.5*this.fov)/this.zoom,s=2*n,i=this.aspect*s,r=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;r+=o.offsetX*i/l,n-=o.offsetY*s/c,i*=o.width/l,s*=o.height/c}const a=this.filmOffset;a!==0&&(r+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,n,n-s,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Hl=-90,Gl=1;class mj extends nn{constructor(e,n,s){super(),this.type="CubeCamera",this.renderTarget=s,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Yn(Hl,Gl,e,n);i.layers=this.layers,this.add(i);const r=new Yn(Hl,Gl,e,n);r.layers=this.layers,this.add(r);const o=new Yn(Hl,Gl,e,n);o.layers=this.layers,this.add(o);const a=new Yn(Hl,Gl,e,n);a.layers=this.layers,this.add(a);const l=new Yn(Hl,Gl,e,n);l.layers=this.layers,this.add(l);const c=new Yn(Hl,Gl,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[s,i,r,o,a,l]=n;for(const c of n)this.remove(c);if(e===Dr)s.up.set(0,1,0),s.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Cm)s.up.set(0,-1,0),s.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:s,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,o,a,l,c,u]=this.children,d=e.getRenderTarget(),f=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),y=e.xr.enabled;e.xr.enabled=!1;const _=s.texture.generateMipmaps;s.texture.generateMipmaps=!1,e.setRenderTarget(s,0,i),e.render(n,r),e.setRenderTarget(s,1,i),e.render(n,o),e.setRenderTarget(s,2,i),e.render(n,a),e.setRenderTarget(s,3,i),e.render(n,l),e.setRenderTarget(s,4,i),e.render(n,c),s.texture.generateMipmaps=_,e.setRenderTarget(s,5,i),e.render(n,u),e.setRenderTarget(d,f,h),e.xr.enabled=y,s.texture.needsPMREMUpdate=!0}}class _C extends $n{constructor(e,n,s,i,r,o,a,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:iu,super(e,n,s,i,r,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class gj extends dl{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const s={width:e,height:e,depth:1},i=[s,s,s,s,s,s];this.texture=new _C(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Gs}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const s={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Lu(5,5,5),r=new Qo({name:"CubemapFromEquirect",uniforms:uu(s.uniforms),vertexShader:s.vertexShader,fragmentShader:s.fragmentShader,side:Ts,blending:Wo});r.uniforms.tEquirect.value=n;const o=new Es(i,r),a=n.minFilter;return n.minFilter===Lr&&(n.minFilter=Gs),new mj(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,s,i){const r=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,s,i);e.setRenderTarget(r)}}const a0=new ae,_j=new ae,yj=new _t;class Ca{constructor(e=new ae(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,s,i){return this.normal.set(e,n,s),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,s){const i=a0.subVectors(s,n).cross(_j.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const s=e.delta(a0),i=this.normal.dot(s);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/i;return r<0||r>1?null:n.copy(e.start).addScaledVector(s,r)}intersectsLine(e){const n=this.distanceToPoint(e.start),s=this.distanceToPoint(e.end);return n<0&&s>0||s<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const s=n||yj.getNormalMatrix(e),i=this.coplanarPoint(a0).applyMatrix4(e),r=this.normal.applyMatrix3(s).normalize();return this.constant=-i.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const ba=new ar,Dh=new ae;class ow{constructor(e=new Ca,n=new Ca,s=new Ca,i=new Ca,r=new Ca,o=new Ca){this.planes=[e,n,s,i,r,o]}set(e,n,s,i,r,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(s),a[3].copy(i),a[4].copy(r),a[5].copy(o),this}copy(e){const n=this.planes;for(let s=0;s<6;s++)n[s].copy(e.planes[s]);return this}setFromProjectionMatrix(e,n=Dr){const s=this.planes,i=e.elements,r=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],d=i[6],f=i[7],h=i[8],y=i[9],_=i[10],p=i[11],g=i[12],b=i[13],v=i[14],w=i[15];if(s[0].setComponents(l-r,f-c,p-h,w-g).normalize(),s[1].setComponents(l+r,f+c,p+h,w+g).normalize(),s[2].setComponents(l+o,f+u,p+y,w+b).normalize(),s[3].setComponents(l-o,f-u,p-y,w-b).normalize(),s[4].setComponents(l-a,f-d,p-_,w-v).normalize(),n===Dr)s[5].setComponents(l+a,f+d,p+_,w+v).normalize();else if(n===Cm)s[5].setComponents(a,d,_,v).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),ba.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),ba.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(ba)}intersectsSprite(e){return ba.center.set(0,0,0),ba.radius=.7071067811865476,ba.applyMatrix4(e.matrixWorld),this.intersectsSphere(ba)}intersectsSphere(e){const n=this.planes,s=e.center,i=-e.radius;for(let r=0;r<6;r++)if(n[r].distanceToPoint(s)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let s=0;s<6;s++){const i=n[s];if(Dh.x=i.normal.x>0?e.max.x:e.min.x,Dh.y=i.normal.y>0?e.max.y:e.min.y,Dh.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Dh)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let s=0;s<6;s++)if(n[s].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function yC(){let t=null,e=!1,n=null,s=null;function i(r,o){n(r,o),s=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(s=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(s),e=!1},setAnimationLoop:function(r){n=r},setContext:function(r){t=r}}}function bj(t){const e=new WeakMap;function n(a,l){const c=a.array,u=a.usage,d=c.byteLength,f=t.createBuffer();t.bindBuffer(l,f),t.bufferData(l,c,u),a.onUploadCallback();let h;if(c instanceof Float32Array)h=t.FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?h=t.HALF_FLOAT:h=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)h=t.SHORT;else if(c instanceof Uint32Array)h=t.UNSIGNED_INT;else if(c instanceof Int32Array)h=t.INT;else if(c instanceof Int8Array)h=t.BYTE;else if(c instanceof Uint8Array)h=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)h=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:f,type:h,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:d}}function s(a,l,c){const u=l.array,d=l._updateRange,f=l.updateRanges;if(t.bindBuffer(c,a),d.count===-1&&f.length===0&&t.bufferSubData(c,0,u),f.length!==0){for(let h=0,y=f.length;h<y;h++){const _=f[h];t.bufferSubData(c,_.start*u.BYTES_PER_ELEMENT,u,_.start,_.count)}l.clearUpdateRanges()}d.count!==-1&&(t.bufferSubData(c,d.offset*u.BYTES_PER_ELEMENT,u,d.offset,d.count),d.count=-1),l.onUploadCallback()}function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function r(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(t.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const u=e.get(a);(!u||u.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const c=e.get(a);if(c===void 0)e.set(a,n(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");s(c.buffer,a,l),c.version=a.version}}return{get:i,remove:r,update:o}}class Vg extends lr{constructor(e=1,n=1,s=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:s,heightSegments:i};const r=e/2,o=n/2,a=Math.floor(s),l=Math.floor(i),c=a+1,u=l+1,d=e/a,f=n/l,h=[],y=[],_=[],p=[];for(let g=0;g<u;g++){const b=g*f-o;for(let v=0;v<c;v++){const w=v*d-r;y.push(w,-b,0),_.push(0,0,1),p.push(v/a),p.push(1-g/l)}}for(let g=0;g<l;g++)for(let b=0;b<a;b++){const v=b+c*g,w=b+c*(g+1),A=b+1+c*(g+1),x=b+1+c*g;h.push(v,w,x),h.push(w,A,x)}this.setIndex(h),this.setAttribute("position",new Fr(y,3)),this.setAttribute("normal",new Fr(_,3)),this.setAttribute("uv",new Fr(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vg(e.width,e.height,e.widthSegments,e.heightSegments)}}var vj=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,wj=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,xj=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Ej=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Sj=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Tj=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Aj=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Mj=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Rj=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Cj=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,kj=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Pj=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Ij=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Oj=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Lj=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Dj=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Nj=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Uj=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,$j=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Fj=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Bj=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Hj=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Gj=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,zj=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Vj=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,jj=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Wj=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,qj=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Xj=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Kj=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Yj="gl_FragColor = linearToOutputTexel( gl_FragColor );",Zj=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Jj=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Qj=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,eW=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,tW=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,nW=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,sW=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,iW=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,rW=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,oW=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,aW=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lW=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,cW=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,uW=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,dW=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,fW=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,hW=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,pW=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,mW=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,gW=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,_W=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,yW=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,bW=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,vW=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,wW=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,xW=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,EW=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,SW=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,TW=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,AW=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,MW=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,RW=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,CW=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,kW=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,PW=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,IW=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,OW=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,LW=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,DW=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,NW=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,UW=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,$W=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,FW=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,BW=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,HW=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,GW=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,zW=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,VW=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,jW=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,WW=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,qW=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,XW=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,KW=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,YW=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,ZW=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,JW=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,QW=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,eq=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,tq=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,nq=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,sq=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,iq=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,rq=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,oq=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,aq=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,lq=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,cq=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,uq=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,dq=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,fq=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,hq=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,pq=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,mq=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,gq=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,_q=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,yq=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const bq=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,vq=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,wq=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,xq=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Eq=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Sq=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Tq=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Aq=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Mq=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Rq=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Cq=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,kq=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Pq=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Iq=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Oq=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Lq=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Dq=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Nq=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Uq=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,$q=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Fq=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Bq=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Hq=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Gq=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zq=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Vq=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jq=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Wq=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,qq=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Xq=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Kq=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Yq=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Zq=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Jq=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,gt={alphahash_fragment:vj,alphahash_pars_fragment:wj,alphamap_fragment:xj,alphamap_pars_fragment:Ej,alphatest_fragment:Sj,alphatest_pars_fragment:Tj,aomap_fragment:Aj,aomap_pars_fragment:Mj,batching_pars_vertex:Rj,batching_vertex:Cj,begin_vertex:kj,beginnormal_vertex:Pj,bsdfs:Ij,iridescence_fragment:Oj,bumpmap_pars_fragment:Lj,clipping_planes_fragment:Dj,clipping_planes_pars_fragment:Nj,clipping_planes_pars_vertex:Uj,clipping_planes_vertex:$j,color_fragment:Fj,color_pars_fragment:Bj,color_pars_vertex:Hj,color_vertex:Gj,common:zj,cube_uv_reflection_fragment:Vj,defaultnormal_vertex:jj,displacementmap_pars_vertex:Wj,displacementmap_vertex:qj,emissivemap_fragment:Xj,emissivemap_pars_fragment:Kj,colorspace_fragment:Yj,colorspace_pars_fragment:Zj,envmap_fragment:Jj,envmap_common_pars_fragment:Qj,envmap_pars_fragment:eW,envmap_pars_vertex:tW,envmap_physical_pars_fragment:fW,envmap_vertex:nW,fog_vertex:sW,fog_pars_vertex:iW,fog_fragment:rW,fog_pars_fragment:oW,gradientmap_pars_fragment:aW,lightmap_pars_fragment:lW,lights_lambert_fragment:cW,lights_lambert_pars_fragment:uW,lights_pars_begin:dW,lights_toon_fragment:hW,lights_toon_pars_fragment:pW,lights_phong_fragment:mW,lights_phong_pars_fragment:gW,lights_physical_fragment:_W,lights_physical_pars_fragment:yW,lights_fragment_begin:bW,lights_fragment_maps:vW,lights_fragment_end:wW,logdepthbuf_fragment:xW,logdepthbuf_pars_fragment:EW,logdepthbuf_pars_vertex:SW,logdepthbuf_vertex:TW,map_fragment:AW,map_pars_fragment:MW,map_particle_fragment:RW,map_particle_pars_fragment:CW,metalnessmap_fragment:kW,metalnessmap_pars_fragment:PW,morphinstance_vertex:IW,morphcolor_vertex:OW,morphnormal_vertex:LW,morphtarget_pars_vertex:DW,morphtarget_vertex:NW,normal_fragment_begin:UW,normal_fragment_maps:$W,normal_pars_fragment:FW,normal_pars_vertex:BW,normal_vertex:HW,normalmap_pars_fragment:GW,clearcoat_normal_fragment_begin:zW,clearcoat_normal_fragment_maps:VW,clearcoat_pars_fragment:jW,iridescence_pars_fragment:WW,opaque_fragment:qW,packing:XW,premultiplied_alpha_fragment:KW,project_vertex:YW,dithering_fragment:ZW,dithering_pars_fragment:JW,roughnessmap_fragment:QW,roughnessmap_pars_fragment:eq,shadowmap_pars_fragment:tq,shadowmap_pars_vertex:nq,shadowmap_vertex:sq,shadowmask_pars_fragment:iq,skinbase_vertex:rq,skinning_pars_vertex:oq,skinning_vertex:aq,skinnormal_vertex:lq,specularmap_fragment:cq,specularmap_pars_fragment:uq,tonemapping_fragment:dq,tonemapping_pars_fragment:fq,transmission_fragment:hq,transmission_pars_fragment:pq,uv_pars_fragment:mq,uv_pars_vertex:gq,uv_vertex:_q,worldpos_vertex:yq,background_vert:bq,background_frag:vq,backgroundCube_vert:wq,backgroundCube_frag:xq,cube_vert:Eq,cube_frag:Sq,depth_vert:Tq,depth_frag:Aq,distanceRGBA_vert:Mq,distanceRGBA_frag:Rq,equirect_vert:Cq,equirect_frag:kq,linedashed_vert:Pq,linedashed_frag:Iq,meshbasic_vert:Oq,meshbasic_frag:Lq,meshlambert_vert:Dq,meshlambert_frag:Nq,meshmatcap_vert:Uq,meshmatcap_frag:$q,meshnormal_vert:Fq,meshnormal_frag:Bq,meshphong_vert:Hq,meshphong_frag:Gq,meshphysical_vert:zq,meshphysical_frag:Vq,meshtoon_vert:jq,meshtoon_frag:Wq,points_vert:qq,points_frag:Xq,shadow_vert:Kq,shadow_frag:Yq,sprite_vert:Zq,sprite_frag:Jq},Ge={common:{diffuse:{value:new pt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new _t},alphaMap:{value:null},alphaMapTransform:{value:new _t},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new _t}},envmap:{envMap:{value:null},envMapRotation:{value:new _t},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new _t}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new _t}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new _t},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new _t},normalScale:{value:new xt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new _t},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new _t}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new _t}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new _t}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new pt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new pt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new _t},alphaTest:{value:0},uvTransform:{value:new _t}},sprite:{diffuse:{value:new pt(16777215)},opacity:{value:1},center:{value:new xt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new _t},alphaMap:{value:null},alphaMapTransform:{value:new _t},alphaTest:{value:0}}},Vi={basic:{uniforms:ss([Ge.common,Ge.specularmap,Ge.envmap,Ge.aomap,Ge.lightmap,Ge.fog]),vertexShader:gt.meshbasic_vert,fragmentShader:gt.meshbasic_frag},lambert:{uniforms:ss([Ge.common,Ge.specularmap,Ge.envmap,Ge.aomap,Ge.lightmap,Ge.emissivemap,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.fog,Ge.lights,{emissive:{value:new pt(0)}}]),vertexShader:gt.meshlambert_vert,fragmentShader:gt.meshlambert_frag},phong:{uniforms:ss([Ge.common,Ge.specularmap,Ge.envmap,Ge.aomap,Ge.lightmap,Ge.emissivemap,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.fog,Ge.lights,{emissive:{value:new pt(0)},specular:{value:new pt(1118481)},shininess:{value:30}}]),vertexShader:gt.meshphong_vert,fragmentShader:gt.meshphong_frag},standard:{uniforms:ss([Ge.common,Ge.envmap,Ge.aomap,Ge.lightmap,Ge.emissivemap,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.roughnessmap,Ge.metalnessmap,Ge.fog,Ge.lights,{emissive:{value:new pt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:gt.meshphysical_vert,fragmentShader:gt.meshphysical_frag},toon:{uniforms:ss([Ge.common,Ge.aomap,Ge.lightmap,Ge.emissivemap,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.gradientmap,Ge.fog,Ge.lights,{emissive:{value:new pt(0)}}]),vertexShader:gt.meshtoon_vert,fragmentShader:gt.meshtoon_frag},matcap:{uniforms:ss([Ge.common,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.fog,{matcap:{value:null}}]),vertexShader:gt.meshmatcap_vert,fragmentShader:gt.meshmatcap_frag},points:{uniforms:ss([Ge.points,Ge.fog]),vertexShader:gt.points_vert,fragmentShader:gt.points_frag},dashed:{uniforms:ss([Ge.common,Ge.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:gt.linedashed_vert,fragmentShader:gt.linedashed_frag},depth:{uniforms:ss([Ge.common,Ge.displacementmap]),vertexShader:gt.depth_vert,fragmentShader:gt.depth_frag},normal:{uniforms:ss([Ge.common,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,{opacity:{value:1}}]),vertexShader:gt.meshnormal_vert,fragmentShader:gt.meshnormal_frag},sprite:{uniforms:ss([Ge.sprite,Ge.fog]),vertexShader:gt.sprite_vert,fragmentShader:gt.sprite_frag},background:{uniforms:{uvTransform:{value:new _t},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:gt.background_vert,fragmentShader:gt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new _t}},vertexShader:gt.backgroundCube_vert,fragmentShader:gt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:gt.cube_vert,fragmentShader:gt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:gt.equirect_vert,fragmentShader:gt.equirect_frag},distanceRGBA:{uniforms:ss([Ge.common,Ge.displacementmap,{referencePosition:{value:new ae},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:gt.distanceRGBA_vert,fragmentShader:gt.distanceRGBA_frag},shadow:{uniforms:ss([Ge.lights,Ge.fog,{color:{value:new pt(0)},opacity:{value:1}}]),vertexShader:gt.shadow_vert,fragmentShader:gt.shadow_frag}};Vi.physical={uniforms:ss([Vi.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new _t},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new _t},clearcoatNormalScale:{value:new xt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new _t},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new _t},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new _t},sheen:{value:0},sheenColor:{value:new pt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new _t},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new _t},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new _t},transmissionSamplerSize:{value:new xt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new _t},attenuationDistance:{value:0},attenuationColor:{value:new pt(0)},specularColor:{value:new pt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new _t},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new _t},anisotropyVector:{value:new xt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new _t}}]),vertexShader:gt.meshphysical_vert,fragmentShader:gt.meshphysical_frag};const Nh={r:0,b:0,g:0},va=new ir,Qq=new yt;function eX(t,e,n,s,i,r,o){const a=new pt(0);let l=r===!0?0:1,c,u,d=null,f=0,h=null;function y(b){let v=b.isScene===!0?b.background:null;return v&&v.isTexture&&(v=(b.backgroundBlurriness>0?n:e).get(v)),v}function _(b){let v=!1;const w=y(b);w===null?g(a,l):w&&w.isColor&&(g(w,1),v=!0);const A=t.xr.getEnvironmentBlendMode();A==="additive"?s.buffers.color.setClear(0,0,0,1,o):A==="alpha-blend"&&s.buffers.color.setClear(0,0,0,0,o),(t.autoClear||v)&&(s.buffers.depth.setTest(!0),s.buffers.depth.setMask(!0),s.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function p(b,v){const w=y(v);w&&(w.isCubeTexture||w.mapping===Hg)?(u===void 0&&(u=new Es(new Lu(1,1,1),new Qo({name:"BackgroundCubeMaterial",uniforms:uu(Vi.backgroundCube.uniforms),vertexShader:Vi.backgroundCube.vertexShader,fragmentShader:Vi.backgroundCube.fragmentShader,side:Ts,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(A,x,T){this.matrixWorld.copyPosition(T.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),va.copy(v.backgroundRotation),va.x*=-1,va.y*=-1,va.z*=-1,w.isCubeTexture&&w.isRenderTargetTexture===!1&&(va.y*=-1,va.z*=-1),u.material.uniforms.envMap.value=w,u.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(Qq.makeRotationFromEuler(va)),u.material.toneMapped=Ct.getTransfer(w.colorSpace)!==Kt,(d!==w||f!==w.version||h!==t.toneMapping)&&(u.material.needsUpdate=!0,d=w,f=w.version,h=t.toneMapping),u.layers.enableAll(),b.unshift(u,u.geometry,u.material,0,0,null)):w&&w.isTexture&&(c===void 0&&(c=new Es(new Vg(2,2),new Qo({name:"BackgroundMaterial",uniforms:uu(Vi.background.uniforms),vertexShader:Vi.background.vertexShader,fragmentShader:Vi.background.fragmentShader,side:Vr,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=w,c.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,c.material.toneMapped=Ct.getTransfer(w.colorSpace)!==Kt,w.matrixAutoUpdate===!0&&w.updateMatrix(),c.material.uniforms.uvTransform.value.copy(w.matrix),(d!==w||f!==w.version||h!==t.toneMapping)&&(c.material.needsUpdate=!0,d=w,f=w.version,h=t.toneMapping),c.layers.enableAll(),b.unshift(c,c.geometry,c.material,0,0,null))}function g(b,v){b.getRGB(Nh,mC(t)),s.buffers.color.setClear(Nh.r,Nh.g,Nh.b,v,o)}return{getClearColor:function(){return a},setClearColor:function(b,v=1){a.set(b),l=v,g(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(b){l=b,g(a,l)},render:_,addToRenderList:p}}function tX(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),s={},i=f(null);let r=i,o=!1;function a(S,C,N,G,O){let P=!1;const k=d(G,N,C);r!==k&&(r=k,c(r.object)),P=h(S,G,N,O),P&&y(S,G,N,O),O!==null&&e.update(O,t.ELEMENT_ARRAY_BUFFER),(P||o)&&(o=!1,w(S,C,N,G),O!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(O).buffer))}function l(){return t.createVertexArray()}function c(S){return t.bindVertexArray(S)}function u(S){return t.deleteVertexArray(S)}function d(S,C,N){const G=N.wireframe===!0;let O=s[S.id];O===void 0&&(O={},s[S.id]=O);let P=O[C.id];P===void 0&&(P={},O[C.id]=P);let k=P[G];return k===void 0&&(k=f(l()),P[G]=k),k}function f(S){const C=[],N=[],G=[];for(let O=0;O<n;O++)C[O]=0,N[O]=0,G[O]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:C,enabledAttributes:N,attributeDivisors:G,object:S,attributes:{},index:null}}function h(S,C,N,G){const O=r.attributes,P=C.attributes;let k=0;const F=N.getAttributes();for(const I in F)if(F[I].location>=0){const Y=O[I];let me=P[I];if(me===void 0&&(I==="instanceMatrix"&&S.instanceMatrix&&(me=S.instanceMatrix),I==="instanceColor"&&S.instanceColor&&(me=S.instanceColor)),Y===void 0||Y.attribute!==me||me&&Y.data!==me.data)return!0;k++}return r.attributesNum!==k||r.index!==G}function y(S,C,N,G){const O={},P=C.attributes;let k=0;const F=N.getAttributes();for(const I in F)if(F[I].location>=0){let Y=P[I];Y===void 0&&(I==="instanceMatrix"&&S.instanceMatrix&&(Y=S.instanceMatrix),I==="instanceColor"&&S.instanceColor&&(Y=S.instanceColor));const me={};me.attribute=Y,Y&&Y.data&&(me.data=Y.data),O[I]=me,k++}r.attributes=O,r.attributesNum=k,r.index=G}function _(){const S=r.newAttributes;for(let C=0,N=S.length;C<N;C++)S[C]=0}function p(S){g(S,0)}function g(S,C){const N=r.newAttributes,G=r.enabledAttributes,O=r.attributeDivisors;N[S]=1,G[S]===0&&(t.enableVertexAttribArray(S),G[S]=1),O[S]!==C&&(t.vertexAttribDivisor(S,C),O[S]=C)}function b(){const S=r.newAttributes,C=r.enabledAttributes;for(let N=0,G=C.length;N<G;N++)C[N]!==S[N]&&(t.disableVertexAttribArray(N),C[N]=0)}function v(S,C,N,G,O,P,k){k===!0?t.vertexAttribIPointer(S,C,N,O,P):t.vertexAttribPointer(S,C,N,G,O,P)}function w(S,C,N,G){_();const O=G.attributes,P=N.getAttributes(),k=C.defaultAttributeValues;for(const F in P){const I=P[F];if(I.location>=0){let ee=O[F];if(ee===void 0&&(F==="instanceMatrix"&&S.instanceMatrix&&(ee=S.instanceMatrix),F==="instanceColor"&&S.instanceColor&&(ee=S.instanceColor)),ee!==void 0){const Y=ee.normalized,me=ee.itemSize,ge=e.get(ee);if(ge===void 0)continue;const Ce=ge.buffer,le=ge.type,_e=ge.bytesPerElement,Ie=le===t.INT||le===t.UNSIGNED_INT||ee.gpuType===Zv;if(ee.isInterleavedBufferAttribute){const ne=ee.data,Me=ne.stride,Te=ee.offset;if(ne.isInstancedInterleavedBuffer){for(let ke=0;ke<I.locationSize;ke++)g(I.location+ke,ne.meshPerAttribute);S.isInstancedMesh!==!0&&G._maxInstanceCount===void 0&&(G._maxInstanceCount=ne.meshPerAttribute*ne.count)}else for(let ke=0;ke<I.locationSize;ke++)p(I.location+ke);t.bindBuffer(t.ARRAY_BUFFER,Ce);for(let ke=0;ke<I.locationSize;ke++)v(I.location+ke,me/I.locationSize,le,Y,Me*_e,(Te+me/I.locationSize*ke)*_e,Ie)}else{if(ee.isInstancedBufferAttribute){for(let ne=0;ne<I.locationSize;ne++)g(I.location+ne,ee.meshPerAttribute);S.isInstancedMesh!==!0&&G._maxInstanceCount===void 0&&(G._maxInstanceCount=ee.meshPerAttribute*ee.count)}else for(let ne=0;ne<I.locationSize;ne++)p(I.location+ne);t.bindBuffer(t.ARRAY_BUFFER,Ce);for(let ne=0;ne<I.locationSize;ne++)v(I.location+ne,me/I.locationSize,le,Y,me*_e,me/I.locationSize*ne*_e,Ie)}}else if(k!==void 0){const Y=k[F];if(Y!==void 0)switch(Y.length){case 2:t.vertexAttrib2fv(I.location,Y);break;case 3:t.vertexAttrib3fv(I.location,Y);break;case 4:t.vertexAttrib4fv(I.location,Y);break;default:t.vertexAttrib1fv(I.location,Y)}}}}b()}function A(){M();for(const S in s){const C=s[S];for(const N in C){const G=C[N];for(const O in G)u(G[O].object),delete G[O];delete C[N]}delete s[S]}}function x(S){if(s[S.id]===void 0)return;const C=s[S.id];for(const N in C){const G=C[N];for(const O in G)u(G[O].object),delete G[O];delete C[N]}delete s[S.id]}function T(S){for(const C in s){const N=s[C];if(N[S.id]===void 0)continue;const G=N[S.id];for(const O in G)u(G[O].object),delete G[O];delete N[S.id]}}function M(){E(),o=!0,r!==i&&(r=i,c(r.object))}function E(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:a,reset:M,resetDefaultState:E,dispose:A,releaseStatesOfGeometry:x,releaseStatesOfProgram:T,initAttributes:_,enableAttribute:p,disableUnusedAttributes:b}}function nX(t,e,n){let s;function i(c){s=c}function r(c,u){t.drawArrays(s,c,u),n.update(u,s,1)}function o(c,u,d){d!==0&&(t.drawArraysInstanced(s,c,u,d),n.update(u,s,d))}function a(c,u,d){if(d===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(s,c,0,u,0,d);let h=0;for(let y=0;y<d;y++)h+=u[y];n.update(h,s,1)}function l(c,u,d,f){if(d===0)return;const h=e.get("WEBGL_multi_draw");if(h===null)for(let y=0;y<c.length;y++)o(c[y],u[y],f[y]);else{h.multiDrawArraysInstancedWEBGL(s,c,0,u,0,f,0,d);let y=0;for(let _=0;_<d;_++)y+=u[_];for(let _=0;_<f.length;_++)n.update(y,s,f[_])}}this.setMode=i,this.render=r,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function sX(t,e,n,s){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const x=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(x.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(x){return!(x!==ii&&s.convert(x)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(x){const T=x===Vf&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(x!==jr&&s.convert(x)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&x!==Ci&&!T)}function l(x){if(x==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";x="mediump"}return x==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const d=n.logarithmicDepthBuffer===!0,f=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),y=t.getParameter(t.MAX_TEXTURE_SIZE),_=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),p=t.getParameter(t.MAX_VERTEX_ATTRIBS),g=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),b=t.getParameter(t.MAX_VARYING_VECTORS),v=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),w=h>0,A=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:r,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:d,maxTextures:f,maxVertexTextures:h,maxTextureSize:y,maxCubemapSize:_,maxAttributes:p,maxVertexUniforms:g,maxVaryings:b,maxFragmentUniforms:v,vertexTextures:w,maxSamples:A}}function iX(t){const e=this;let n=null,s=0,i=!1,r=!1;const o=new Ca,a=new _t,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f){const h=d.length!==0||f||s!==0||i;return i=f,s=d.length,h},this.beginShadows=function(){r=!0,u(null)},this.endShadows=function(){r=!1},this.setGlobalState=function(d,f){n=u(d,f,0)},this.setState=function(d,f,h){const y=d.clippingPlanes,_=d.clipIntersection,p=d.clipShadows,g=t.get(d);if(!i||y===null||y.length===0||r&&!p)r?u(null):c();else{const b=r?0:s,v=b*4;let w=g.clippingState||null;l.value=w,w=u(y,f,v,h);for(let A=0;A!==v;++A)w[A]=n[A];g.clippingState=w,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=b}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=s>0),e.numPlanes=s,e.numIntersection=0}function u(d,f,h,y){const _=d!==null?d.length:0;let p=null;if(_!==0){if(p=l.value,y!==!0||p===null){const g=h+_*4,b=f.matrixWorldInverse;a.getNormalMatrix(b),(p===null||p.length<g)&&(p=new Float32Array(g));for(let v=0,w=h;v!==_;++v,w+=4)o.copy(d[v]).applyMatrix4(b,a),o.normal.toArray(p,w),p[w+3]=o.constant}l.value=p,l.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,p}}function rX(t){let e=new WeakMap;function n(o,a){return a===Y1?o.mapping=iu:a===Z1&&(o.mapping=ru),o}function s(o){if(o&&o.isTexture){const a=o.mapping;if(a===Y1||a===Z1)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new gj(l.height);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",i),n(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function r(){e=new WeakMap}return{get:s,dispose:r}}class aw extends gC{constructor(e=-1,n=1,s=1,i=-1,r=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=s,this.bottom=i,this.near=r,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,s,i,r,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=s,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),s=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=s-e,o=s+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=c*this.view.offsetX,o=r+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(r,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const hc=4,ZE=[.125,.215,.35,.446,.526,.582],$a=20,l0=new aw,JE=new pt;let c0=null,u0=0,d0=0,f0=!1;const ka=(1+Math.sqrt(5))/2,zl=1/ka,QE=[new ae(-ka,zl,0),new ae(ka,zl,0),new ae(-zl,0,ka),new ae(zl,0,ka),new ae(0,ka,-zl),new ae(0,ka,zl),new ae(-1,1,-1),new ae(1,1,-1),new ae(-1,1,1),new ae(1,1,1)];class eS{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,s=.1,i=100){c0=this._renderer.getRenderTarget(),u0=this._renderer.getActiveCubeFace(),d0=this._renderer.getActiveMipmapLevel(),f0=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(e,s,i,r),n>0&&this._blur(r,0,0,n),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=sS(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=nS(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(c0,u0,d0),this._renderer.xr.enabled=f0,e.scissorTest=!1,Uh(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===iu||e.mapping===ru?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),c0=this._renderer.getRenderTarget(),u0=this._renderer.getActiveCubeFace(),d0=this._renderer.getActiveMipmapLevel(),f0=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const s=n||this._allocateTargets();return this._textureToCubeUV(e,s),this._applyPMREM(s),this._cleanup(s),s}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,s={magFilter:Gs,minFilter:Gs,generateMipmaps:!1,type:Vf,format:ii,colorSpace:zn,depthBuffer:!1},i=tS(e,n,s);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=tS(e,n,s);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=oX(r)),this._blurMaterial=aX(r,e,n)}return i}_compileMaterial(e){const n=new Es(this._lodPlanes[0],e);this._renderer.compile(n,l0)}_sceneToCubeUV(e,n,s,i){const a=new Yn(90,1,n,s),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,f=u.toneMapping;u.getClearColor(JE),u.toneMapping=qo,u.autoClear=!1;const h=new Uo({name:"PMREM.Background",side:Ts,depthWrite:!1,depthTest:!1}),y=new Es(new Lu,h);let _=!1;const p=e.background;p?p.isColor&&(h.color.copy(p),e.background=null,_=!0):(h.color.copy(JE),_=!0);for(let g=0;g<6;g++){const b=g%3;b===0?(a.up.set(0,l[g],0),a.lookAt(c[g],0,0)):b===1?(a.up.set(0,0,l[g]),a.lookAt(0,c[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,c[g]));const v=this._cubeSize;Uh(i,b*v,g>2?v:0,v,v),u.setRenderTarget(i),_&&u.render(y,a),u.render(e,a)}y.geometry.dispose(),y.material.dispose(),u.toneMapping=f,u.autoClear=d,e.background=p}_textureToCubeUV(e,n){const s=this._renderer,i=e.mapping===iu||e.mapping===ru;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=sS()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=nS());const r=i?this._cubemapMaterial:this._equirectMaterial,o=new Es(this._lodPlanes[0],r),a=r.uniforms;a.envMap.value=e;const l=this._cubeSize;Uh(n,0,0,3*l,2*l),s.setRenderTarget(n),s.render(o,l0)}_applyPMREM(e){const n=this._renderer,s=n.autoClear;n.autoClear=!1;const i=this._lodPlanes.length;for(let r=1;r<i;r++){const o=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),a=QE[(i-r-1)%QE.length];this._blur(e,r-1,r,o,a)}n.autoClear=s}_blur(e,n,s,i,r){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,s,i,"latitudinal",r),this._halfBlur(o,e,s,s,i,"longitudinal",r)}_halfBlur(e,n,s,i,r,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new Es(this._lodPlanes[i],c),f=c.uniforms,h=this._sizeLods[s]-1,y=isFinite(r)?Math.PI/(2*h):2*Math.PI/(2*$a-1),_=r/y,p=isFinite(r)?1+Math.floor(u*_):$a;p>$a&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${p} samples when the maximum is set to ${$a}`);const g=[];let b=0;for(let T=0;T<$a;++T){const M=T/_,E=Math.exp(-M*M/2);g.push(E),T===0?b+=E:T<p&&(b+=2*E)}for(let T=0;T<g.length;T++)g[T]=g[T]/b;f.envMap.value=e.texture,f.samples.value=p,f.weights.value=g,f.latitudinal.value=o==="latitudinal",a&&(f.poleAxis.value=a);const{_lodMax:v}=this;f.dTheta.value=y,f.mipInt.value=v-s;const w=this._sizeLods[i],A=3*w*(i>v-hc?i-v+hc:0),x=4*(this._cubeSize-w);Uh(n,A,x,3*w,2*w),l.setRenderTarget(n),l.render(d,l0)}}function oX(t){const e=[],n=[],s=[];let i=t;const r=t-hc+1+ZE.length;for(let o=0;o<r;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-hc?l=ZE[o-t+hc-1]:o===0&&(l=0),s.push(l);const c=1/(a-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],h=6,y=6,_=3,p=2,g=1,b=new Float32Array(_*y*h),v=new Float32Array(p*y*h),w=new Float32Array(g*y*h);for(let x=0;x<h;x++){const T=x%3*2/3-1,M=x>2?0:-1,E=[T,M,0,T+2/3,M,0,T+2/3,M+1,0,T,M,0,T+2/3,M+1,0,T,M+1,0];b.set(E,_*y*x),v.set(f,p*y*x);const S=[x,x,x,x,x,x];w.set(S,g*y*x)}const A=new lr;A.setAttribute("position",new ds(b,_)),A.setAttribute("uv",new ds(v,p)),A.setAttribute("faceIndex",new ds(w,g)),e.push(A),i>hc&&i--}return{lodPlanes:e,sizeLods:n,sigmas:s}}function tS(t,e,n){const s=new dl(t,e,n);return s.texture.mapping=Hg,s.texture.name="PMREM.cubeUv",s.scissorTest=!0,s}function Uh(t,e,n,s,i){t.viewport.set(e,n,s,i),t.scissor.set(e,n,s,i)}function aX(t,e,n){const s=new Float32Array($a),i=new ae(0,1,0);return new Qo({name:"SphericalGaussianBlur",defines:{n:$a,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:s},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:lw(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Wo,depthTest:!1,depthWrite:!1})}function nS(){return new Qo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:lw(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Wo,depthTest:!1,depthWrite:!1})}function sS(){return new Qo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:lw(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Wo,depthTest:!1,depthWrite:!1})}function lw(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function lX(t){let e=new WeakMap,n=null;function s(a){if(a&&a.isTexture){const l=a.mapping,c=l===Y1||l===Z1,u=l===iu||l===ru;if(c||u){let d=e.get(a);const f=d!==void 0?d.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==f)return n===null&&(n=new eS(t)),d=c?n.fromEquirectangular(a,d):n.fromCubemap(a,d),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),d.texture;if(d!==void 0)return d.texture;{const h=a.image;return c&&h&&h.height>0||u&&h&&i(h)?(n===null&&(n=new eS(t)),d=c?n.fromEquirectangular(a):n.fromCubemap(a),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),a.addEventListener("dispose",r),d.texture):null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function r(a){const l=a.target;l.removeEventListener("dispose",r);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:s,dispose:o}}function cX(t){const e={};function n(s){if(e[s]!==void 0)return e[s];let i;switch(s){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(s)}return e[s]=i,i}return{has:function(s){return n(s)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(s){const i=n(s);return i===null&&Lc("THREE.WebGLRenderer: "+s+" extension not supported."),i}}}function uX(t,e,n,s){const i={},r=new WeakMap;function o(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const y in f.attributes)e.remove(f.attributes[y]);for(const y in f.morphAttributes){const _=f.morphAttributes[y];for(let p=0,g=_.length;p<g;p++)e.remove(_[p])}f.removeEventListener("dispose",o),delete i[f.id];const h=r.get(f);h&&(e.remove(h),r.delete(f)),s.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function a(d,f){return i[f.id]===!0||(f.addEventListener("dispose",o),i[f.id]=!0,n.memory.geometries++),f}function l(d){const f=d.attributes;for(const y in f)e.update(f[y],t.ARRAY_BUFFER);const h=d.morphAttributes;for(const y in h){const _=h[y];for(let p=0,g=_.length;p<g;p++)e.update(_[p],t.ARRAY_BUFFER)}}function c(d){const f=[],h=d.index,y=d.attributes.position;let _=0;if(h!==null){const b=h.array;_=h.version;for(let v=0,w=b.length;v<w;v+=3){const A=b[v+0],x=b[v+1],T=b[v+2];f.push(A,x,x,T,T,A)}}else if(y!==void 0){const b=y.array;_=y.version;for(let v=0,w=b.length/3-1;v<w;v+=3){const A=v+0,x=v+1,T=v+2;f.push(A,x,x,T,T,A)}}else return;const p=new(lC(f)?pC:hC)(f,1);p.version=_;const g=r.get(d);g&&e.remove(g),r.set(d,p)}function u(d){const f=r.get(d);if(f){const h=d.index;h!==null&&f.version<h.version&&c(d)}else c(d);return r.get(d)}return{get:a,update:l,getWireframeAttribute:u}}function dX(t,e,n){let s;function i(f){s=f}let r,o;function a(f){r=f.type,o=f.bytesPerElement}function l(f,h){t.drawElements(s,h,r,f*o),n.update(h,s,1)}function c(f,h,y){y!==0&&(t.drawElementsInstanced(s,h,r,f*o,y),n.update(h,s,y))}function u(f,h,y){if(y===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(s,h,0,r,f,0,y);let p=0;for(let g=0;g<y;g++)p+=h[g];n.update(p,s,1)}function d(f,h,y,_){if(y===0)return;const p=e.get("WEBGL_multi_draw");if(p===null)for(let g=0;g<f.length;g++)c(f[g]/o,h[g],_[g]);else{p.multiDrawElementsInstancedWEBGL(s,h,0,r,f,0,_,0,y);let g=0;for(let b=0;b<y;b++)g+=h[b];for(let b=0;b<_.length;b++)n.update(g,s,_[b])}}this.setMode=i,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=d}function fX(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function s(r,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(r/3);break;case t.LINES:n.lines+=a*(r/2);break;case t.LINE_STRIP:n.lines+=a*(r-1);break;case t.LINE_LOOP:n.lines+=a*r;break;case t.POINTS:n.points+=a*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:s}}function hX(t,e,n){const s=new WeakMap,i=new Ft;function r(o,a,l){const c=o.morphTargetInfluences,u=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,d=u!==void 0?u.length:0;let f=s.get(a);if(f===void 0||f.count!==d){let E=function(){T.dispose(),s.delete(a),a.removeEventListener("dispose",E)};f!==void 0&&f.texture.dispose();const h=a.morphAttributes.position!==void 0,y=a.morphAttributes.normal!==void 0,_=a.morphAttributes.color!==void 0,p=a.morphAttributes.position||[],g=a.morphAttributes.normal||[],b=a.morphAttributes.color||[];let v=0;h===!0&&(v=1),y===!0&&(v=2),_===!0&&(v=3);let w=a.attributes.position.count*v,A=1;w>e.maxTextureSize&&(A=Math.ceil(w/e.maxTextureSize),w=e.maxTextureSize);const x=new Float32Array(w*A*4*d),T=new uC(x,w,A,d);T.type=Ci,T.needsUpdate=!0;const M=v*4;for(let S=0;S<d;S++){const C=p[S],N=g[S],G=b[S],O=w*A*4*S;for(let P=0;P<C.count;P++){const k=P*M;h===!0&&(i.fromBufferAttribute(C,P),x[O+k+0]=i.x,x[O+k+1]=i.y,x[O+k+2]=i.z,x[O+k+3]=0),y===!0&&(i.fromBufferAttribute(N,P),x[O+k+4]=i.x,x[O+k+5]=i.y,x[O+k+6]=i.z,x[O+k+7]=0),_===!0&&(i.fromBufferAttribute(G,P),x[O+k+8]=i.x,x[O+k+9]=i.y,x[O+k+10]=i.z,x[O+k+11]=G.itemSize===4?i.w:1)}}f={count:d,texture:T,size:new xt(w,A)},s.set(a,f),a.addEventListener("dispose",E)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let h=0;for(let _=0;_<c.length;_++)h+=c[_];const y=a.morphTargetsRelative?1:1-h;l.getUniforms().setValue(t,"morphTargetBaseInfluence",y),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",f.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",f.size)}return{update:r}}function pX(t,e,n,s){let i=new WeakMap;function r(l){const c=s.render.frame,u=l.geometry,d=e.get(l,u);if(i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;i.get(f)!==c&&(f.update(),i.set(f,c))}return d}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:r,dispose:o}}class bC extends $n{constructor(e,n,s,i,r,o,a,l,c,u=Oc){if(u!==Oc&&u!==lu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");s===void 0&&u===Oc&&(s=ul),s===void 0&&u===lu&&(s=au),super(null,i,r,o,a,l,u,s,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:us,this.minFilter=l!==void 0?l:us,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const vC=new $n,iS=new bC(1,1),wC=new uC,xC=new ej,EC=new _C,rS=[],oS=[],aS=new Float32Array(16),lS=new Float32Array(9),cS=new Float32Array(4);function Du(t,e,n){const s=t[0];if(s<=0||s>0)return t;const i=e*n;let r=rS[i];if(r===void 0&&(r=new Float32Array(i),rS[i]=r),e!==0){s.toArray(r,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(r,a)}return r}function Rn(t,e){if(t.length!==e.length)return!1;for(let n=0,s=t.length;n<s;n++)if(t[n]!==e[n])return!1;return!0}function Cn(t,e){for(let n=0,s=e.length;n<s;n++)t[n]=e[n]}function jg(t,e){let n=oS[e];n===void 0&&(n=new Int32Array(e),oS[e]=n);for(let s=0;s!==e;++s)n[s]=t.allocateTextureUnit();return n}function mX(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function gX(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Rn(n,e))return;t.uniform2fv(this.addr,e),Cn(n,e)}}function _X(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Rn(n,e))return;t.uniform3fv(this.addr,e),Cn(n,e)}}function yX(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Rn(n,e))return;t.uniform4fv(this.addr,e),Cn(n,e)}}function bX(t,e){const n=this.cache,s=e.elements;if(s===void 0){if(Rn(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Cn(n,e)}else{if(Rn(n,s))return;cS.set(s),t.uniformMatrix2fv(this.addr,!1,cS),Cn(n,s)}}function vX(t,e){const n=this.cache,s=e.elements;if(s===void 0){if(Rn(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Cn(n,e)}else{if(Rn(n,s))return;lS.set(s),t.uniformMatrix3fv(this.addr,!1,lS),Cn(n,s)}}function wX(t,e){const n=this.cache,s=e.elements;if(s===void 0){if(Rn(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Cn(n,e)}else{if(Rn(n,s))return;aS.set(s),t.uniformMatrix4fv(this.addr,!1,aS),Cn(n,s)}}function xX(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function EX(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Rn(n,e))return;t.uniform2iv(this.addr,e),Cn(n,e)}}function SX(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Rn(n,e))return;t.uniform3iv(this.addr,e),Cn(n,e)}}function TX(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Rn(n,e))return;t.uniform4iv(this.addr,e),Cn(n,e)}}function AX(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function MX(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Rn(n,e))return;t.uniform2uiv(this.addr,e),Cn(n,e)}}function RX(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Rn(n,e))return;t.uniform3uiv(this.addr,e),Cn(n,e)}}function CX(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Rn(n,e))return;t.uniform4uiv(this.addr,e),Cn(n,e)}}function kX(t,e,n){const s=this.cache,i=n.allocateTextureUnit();s[0]!==i&&(t.uniform1i(this.addr,i),s[0]=i);let r;this.type===t.SAMPLER_2D_SHADOW?(iS.compareFunction=aC,r=iS):r=vC,n.setTexture2D(e||r,i)}function PX(t,e,n){const s=this.cache,i=n.allocateTextureUnit();s[0]!==i&&(t.uniform1i(this.addr,i),s[0]=i),n.setTexture3D(e||xC,i)}function IX(t,e,n){const s=this.cache,i=n.allocateTextureUnit();s[0]!==i&&(t.uniform1i(this.addr,i),s[0]=i),n.setTextureCube(e||EC,i)}function OX(t,e,n){const s=this.cache,i=n.allocateTextureUnit();s[0]!==i&&(t.uniform1i(this.addr,i),s[0]=i),n.setTexture2DArray(e||wC,i)}function LX(t){switch(t){case 5126:return mX;case 35664:return gX;case 35665:return _X;case 35666:return yX;case 35674:return bX;case 35675:return vX;case 35676:return wX;case 5124:case 35670:return xX;case 35667:case 35671:return EX;case 35668:case 35672:return SX;case 35669:case 35673:return TX;case 5125:return AX;case 36294:return MX;case 36295:return RX;case 36296:return CX;case 35678:case 36198:case 36298:case 36306:case 35682:return kX;case 35679:case 36299:case 36307:return PX;case 35680:case 36300:case 36308:case 36293:return IX;case 36289:case 36303:case 36311:case 36292:return OX}}function DX(t,e){t.uniform1fv(this.addr,e)}function NX(t,e){const n=Du(e,this.size,2);t.uniform2fv(this.addr,n)}function UX(t,e){const n=Du(e,this.size,3);t.uniform3fv(this.addr,n)}function $X(t,e){const n=Du(e,this.size,4);t.uniform4fv(this.addr,n)}function FX(t,e){const n=Du(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function BX(t,e){const n=Du(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function HX(t,e){const n=Du(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function GX(t,e){t.uniform1iv(this.addr,e)}function zX(t,e){t.uniform2iv(this.addr,e)}function VX(t,e){t.uniform3iv(this.addr,e)}function jX(t,e){t.uniform4iv(this.addr,e)}function WX(t,e){t.uniform1uiv(this.addr,e)}function qX(t,e){t.uniform2uiv(this.addr,e)}function XX(t,e){t.uniform3uiv(this.addr,e)}function KX(t,e){t.uniform4uiv(this.addr,e)}function YX(t,e,n){const s=this.cache,i=e.length,r=jg(n,i);Rn(s,r)||(t.uniform1iv(this.addr,r),Cn(s,r));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||vC,r[o])}function ZX(t,e,n){const s=this.cache,i=e.length,r=jg(n,i);Rn(s,r)||(t.uniform1iv(this.addr,r),Cn(s,r));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||xC,r[o])}function JX(t,e,n){const s=this.cache,i=e.length,r=jg(n,i);Rn(s,r)||(t.uniform1iv(this.addr,r),Cn(s,r));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||EC,r[o])}function QX(t,e,n){const s=this.cache,i=e.length,r=jg(n,i);Rn(s,r)||(t.uniform1iv(this.addr,r),Cn(s,r));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||wC,r[o])}function eK(t){switch(t){case 5126:return DX;case 35664:return NX;case 35665:return UX;case 35666:return $X;case 35674:return FX;case 35675:return BX;case 35676:return HX;case 5124:case 35670:return GX;case 35667:case 35671:return zX;case 35668:case 35672:return VX;case 35669:case 35673:return jX;case 5125:return WX;case 36294:return qX;case 36295:return XX;case 36296:return KX;case 35678:case 36198:case 36298:case 36306:case 35682:return YX;case 35679:case 36299:case 36307:return ZX;case 35680:case 36300:case 36308:case 36293:return JX;case 36289:case 36303:case 36311:case 36292:return QX}}class tK{constructor(e,n,s){this.id=e,this.addr=s,this.cache=[],this.type=n.type,this.setValue=LX(n.type)}}class nK{constructor(e,n,s){this.id=e,this.addr=s,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=eK(n.type)}}class sK{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,s){const i=this.seq;for(let r=0,o=i.length;r!==o;++r){const a=i[r];a.setValue(e,n[a.id],s)}}}const h0=/(\w+)(\])?(\[|\.)?/g;function uS(t,e){t.seq.push(e),t.map[e.id]=e}function iK(t,e,n){const s=t.name,i=s.length;for(h0.lastIndex=0;;){const r=h0.exec(s),o=h0.lastIndex;let a=r[1];const l=r[2]==="]",c=r[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){uS(n,c===void 0?new tK(a,t,e):new nK(a,t,e));break}else{let d=n.map[a];d===void 0&&(d=new sK(a),uS(n,d)),n=d}}}class Xp{constructor(e,n){this.seq=[],this.map={};const s=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<s;++i){const r=e.getActiveUniform(n,i),o=e.getUniformLocation(n,r.name);iK(r,o,this)}}setValue(e,n,s,i){const r=this.map[n];r!==void 0&&r.setValue(e,s,i)}setOptional(e,n,s){const i=n[s];i!==void 0&&this.setValue(e,s,i)}static upload(e,n,s,i){for(let r=0,o=n.length;r!==o;++r){const a=n[r],l=s[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const s=[];for(let i=0,r=e.length;i!==r;++i){const o=e[i];o.id in n&&s.push(o)}return s}}function dS(t,e,n){const s=t.createShader(e);return t.shaderSource(s,n),t.compileShader(s),s}const rK=37297;let oK=0;function aK(t,e){const n=t.split(`
`),s=[],i=Math.max(e-6,0),r=Math.min(e+6,n.length);for(let o=i;o<r;o++){const a=o+1;s.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return s.join(`
`)}function lK(t){const e=Ct.getPrimaries(Ct.workingColorSpace),n=Ct.getPrimaries(t);let s;switch(e===n?s="":e===Rm&&n===Mm?s="LinearDisplayP3ToLinearSRGB":e===Mm&&n===Rm&&(s="LinearSRGBToLinearDisplayP3"),t){case zn:case Gg:return[s,"LinearTransferOETF"];case as:case iw:return[s,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[s,"LinearTransferOETF"]}}function fS(t,e,n){const s=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(s&&i==="")return"";const r=/ERROR: 0:(\d+)/.exec(i);if(r){const o=parseInt(r[1]);return n.toUpperCase()+`

`+i+`

`+aK(t.getShaderSource(e),o)}else return i}function cK(t,e){const n=lK(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function uK(t,e){let n;switch(e){case uV:n="Linear";break;case dV:n="Reinhard";break;case fV:n="OptimizedCineon";break;case hV:n="ACESFilmic";break;case mV:n="AgX";break;case gV:n="Neutral";break;case pV:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const $h=new ae;function dK(){Ct.getLuminanceCoefficients($h);const t=$h.x.toFixed(4),e=$h.y.toFixed(4),n=$h.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function fK(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Rd).join(`
`)}function hK(t){const e=[];for(const n in t){const s=t[n];s!==!1&&e.push("#define "+n+" "+s)}return e.join(`
`)}function pK(t,e){const n={},s=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<s;i++){const r=t.getActiveAttrib(e,i),o=r.name;let a=1;r.type===t.FLOAT_MAT2&&(a=2),r.type===t.FLOAT_MAT3&&(a=3),r.type===t.FLOAT_MAT4&&(a=4),n[o]={type:r.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function Rd(t){return t!==""}function hS(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function pS(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const mK=/^[ \t]*#include +<([\w\d./]+)>/gm;function Ay(t){return t.replace(mK,_K)}const gK=new Map;function _K(t,e){let n=gt[e];if(n===void 0){const s=gK.get(e);if(s!==void 0)n=gt[s],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,s);else throw new Error("Can not resolve #include <"+e+">")}return Ay(n)}const yK=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function mS(t){return t.replace(yK,bK)}function bK(t,e,n,s){let i="";for(let r=parseInt(e);r<parseInt(n);r++)i+=s.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return i}function gS(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function vK(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===W5?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Nz?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Er&&(e="SHADOWMAP_TYPE_VSM"),e}function wK(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case iu:case ru:e="ENVMAP_TYPE_CUBE";break;case Hg:e="ENVMAP_TYPE_CUBE_UV";break}return e}function xK(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case ru:e="ENVMAP_MODE_REFRACTION";break}return e}function EK(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case q5:e="ENVMAP_BLENDING_MULTIPLY";break;case lV:e="ENVMAP_BLENDING_MIX";break;case cV:e="ENVMAP_BLENDING_ADD";break}return e}function SK(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,s=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:s,maxMip:n}}function TK(t,e,n,s){const i=t.getContext(),r=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=vK(n),c=wK(n),u=xK(n),d=EK(n),f=SK(n),h=fK(n),y=hK(r),_=i.createProgram();let p,g,b=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(p=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y].filter(Rd).join(`
`),p.length>0&&(p+=`
`),g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y].filter(Rd).join(`
`),g.length>0&&(g+=`
`)):(p=[gS(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Rd).join(`
`),g=[gS(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==qo?"#define TONE_MAPPING":"",n.toneMapping!==qo?gt.tonemapping_pars_fragment:"",n.toneMapping!==qo?uK("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",gt.colorspace_pars_fragment,cK("linearToOutputTexel",n.outputColorSpace),dK(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Rd).join(`
`)),o=Ay(o),o=hS(o,n),o=pS(o,n),a=Ay(a),a=hS(a,n),a=pS(a,n),o=mS(o),a=mS(a),n.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,p=[h,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+p,g=["#define varying in",n.glslVersion===kE?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===kE?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const v=b+p+o,w=b+g+a,A=dS(i,i.VERTEX_SHADER,v),x=dS(i,i.FRAGMENT_SHADER,w);i.attachShader(_,A),i.attachShader(_,x),n.index0AttributeName!==void 0?i.bindAttribLocation(_,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(_,0,"position"),i.linkProgram(_);function T(C){if(t.debug.checkShaderErrors){const N=i.getProgramInfoLog(_).trim(),G=i.getShaderInfoLog(A).trim(),O=i.getShaderInfoLog(x).trim();let P=!0,k=!0;if(i.getProgramParameter(_,i.LINK_STATUS)===!1)if(P=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,_,A,x);else{const F=fS(i,A,"vertex"),I=fS(i,x,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(_,i.VALIDATE_STATUS)+`

Material Name: `+C.name+`
Material Type: `+C.type+`

Program Info Log: `+N+`
`+F+`
`+I)}else N!==""?console.warn("THREE.WebGLProgram: Program Info Log:",N):(G===""||O==="")&&(k=!1);k&&(C.diagnostics={runnable:P,programLog:N,vertexShader:{log:G,prefix:p},fragmentShader:{log:O,prefix:g}})}i.deleteShader(A),i.deleteShader(x),M=new Xp(i,_),E=pK(i,_)}let M;this.getUniforms=function(){return M===void 0&&T(this),M};let E;this.getAttributes=function(){return E===void 0&&T(this),E};let S=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return S===!1&&(S=i.getProgramParameter(_,rK)),S},this.destroy=function(){s.releaseStatesOfProgram(this),i.deleteProgram(_),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=oK++,this.cacheKey=e,this.usedTimes=1,this.program=_,this.vertexShader=A,this.fragmentShader=x,this}let AK=0;class MK{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,s=e.fragmentShader,i=this._getShaderStage(n),r=this._getShaderStage(s),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(r)===!1&&(o.add(r),r.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const s of n)s.usedTimes--,s.usedTimes===0&&this.shaderCache.delete(s.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let s=n.get(e);return s===void 0&&(s=new Set,n.set(e,s)),s}_getShaderStage(e){const n=this.shaderCache;let s=n.get(e);return s===void 0&&(s=new RK(e),n.set(e,s)),s}}class RK{constructor(e){this.id=AK++,this.code=e,this.usedTimes=0}}function CK(t,e,n,s,i,r,o){const a=new dC,l=new MK,c=new Set,u=[],d=i.logarithmicDepthBuffer,f=i.vertexTextures;let h=i.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function _(E){return c.add(E),E===0?"uv":`uv${E}`}function p(E,S,C,N,G){const O=N.fog,P=G.geometry,k=E.isMeshStandardMaterial?N.environment:null,F=(E.isMeshStandardMaterial?n:e).get(E.envMap||k),I=F&&F.mapping===Hg?F.image.height:null,ee=y[E.type];E.precision!==null&&(h=i.getMaxPrecision(E.precision),h!==E.precision&&console.warn("THREE.WebGLProgram.getParameters:",E.precision,"not supported, using",h,"instead."));const Y=P.morphAttributes.position||P.morphAttributes.normal||P.morphAttributes.color,me=Y!==void 0?Y.length:0;let ge=0;P.morphAttributes.position!==void 0&&(ge=1),P.morphAttributes.normal!==void 0&&(ge=2),P.morphAttributes.color!==void 0&&(ge=3);let Ce,le,_e,Ie;if(ee){const Pt=Vi[ee];Ce=Pt.vertexShader,le=Pt.fragmentShader}else Ce=E.vertexShader,le=E.fragmentShader,l.update(E),_e=l.getVertexShaderID(E),Ie=l.getFragmentShaderID(E);const ne=t.getRenderTarget(),Me=G.isInstancedMesh===!0,Te=G.isBatchedMesh===!0,ke=!!E.map,ze=!!E.matcap,V=!!F,B=!!E.aoMap,z=!!E.lightMap,te=!!E.bumpMap,ce=!!E.normalMap,ve=!!E.displacementMap,xe=!!E.emissiveMap,Re=!!E.metalnessMap,D=!!E.roughnessMap,R=E.anisotropy>0,q=E.clearcoat>0,ue=E.dispersion>0,be=E.iridescence>0,he=E.sheen>0,Oe=E.transmission>0,Pe=R&&!!E.anisotropyMap,Ne=q&&!!E.clearcoatMap,He=q&&!!E.clearcoatNormalMap,fe=q&&!!E.clearcoatRoughnessMap,K=be&&!!E.iridescenceMap,L=be&&!!E.iridescenceThicknessMap,se=he&&!!E.sheenColorMap,U=he&&!!E.sheenRoughnessMap,W=!!E.specularMap,X=!!E.specularColorMap,ie=!!E.specularIntensityMap,H=Oe&&!!E.transmissionMap,ye=Oe&&!!E.thicknessMap,pe=!!E.gradientMap,Ae=!!E.alphaMap,Ue=E.alphaTest>0,et=!!E.alphaHash,Et=!!E.extensions;let on=qo;E.toneMapped&&(ne===null||ne.isXRRenderTarget===!0)&&(on=t.toneMapping);const Fn={shaderID:ee,shaderType:E.type,shaderName:E.name,vertexShader:Ce,fragmentShader:le,defines:E.defines,customVertexShaderID:_e,customFragmentShaderID:Ie,isRawShaderMaterial:E.isRawShaderMaterial===!0,glslVersion:E.glslVersion,precision:h,batching:Te,batchingColor:Te&&G._colorsTexture!==null,instancing:Me,instancingColor:Me&&G.instanceColor!==null,instancingMorph:Me&&G.morphTexture!==null,supportsVertexTextures:f,outputColorSpace:ne===null?t.outputColorSpace:ne.isXRRenderTarget===!0?ne.texture.colorSpace:zn,alphaToCoverage:!!E.alphaToCoverage,map:ke,matcap:ze,envMap:V,envMapMode:V&&F.mapping,envMapCubeUVHeight:I,aoMap:B,lightMap:z,bumpMap:te,normalMap:ce,displacementMap:f&&ve,emissiveMap:xe,normalMapObjectSpace:ce&&E.normalMapType===xV,normalMapTangentSpace:ce&&E.normalMapType===oC,metalnessMap:Re,roughnessMap:D,anisotropy:R,anisotropyMap:Pe,clearcoat:q,clearcoatMap:Ne,clearcoatNormalMap:He,clearcoatRoughnessMap:fe,dispersion:ue,iridescence:be,iridescenceMap:K,iridescenceThicknessMap:L,sheen:he,sheenColorMap:se,sheenRoughnessMap:U,specularMap:W,specularColorMap:X,specularIntensityMap:ie,transmission:Oe,transmissionMap:H,thicknessMap:ye,gradientMap:pe,opaque:E.transparent===!1&&E.blending===Ic&&E.alphaToCoverage===!1,alphaMap:Ae,alphaTest:Ue,alphaHash:et,combine:E.combine,mapUv:ke&&_(E.map.channel),aoMapUv:B&&_(E.aoMap.channel),lightMapUv:z&&_(E.lightMap.channel),bumpMapUv:te&&_(E.bumpMap.channel),normalMapUv:ce&&_(E.normalMap.channel),displacementMapUv:ve&&_(E.displacementMap.channel),emissiveMapUv:xe&&_(E.emissiveMap.channel),metalnessMapUv:Re&&_(E.metalnessMap.channel),roughnessMapUv:D&&_(E.roughnessMap.channel),anisotropyMapUv:Pe&&_(E.anisotropyMap.channel),clearcoatMapUv:Ne&&_(E.clearcoatMap.channel),clearcoatNormalMapUv:He&&_(E.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:fe&&_(E.clearcoatRoughnessMap.channel),iridescenceMapUv:K&&_(E.iridescenceMap.channel),iridescenceThicknessMapUv:L&&_(E.iridescenceThicknessMap.channel),sheenColorMapUv:se&&_(E.sheenColorMap.channel),sheenRoughnessMapUv:U&&_(E.sheenRoughnessMap.channel),specularMapUv:W&&_(E.specularMap.channel),specularColorMapUv:X&&_(E.specularColorMap.channel),specularIntensityMapUv:ie&&_(E.specularIntensityMap.channel),transmissionMapUv:H&&_(E.transmissionMap.channel),thicknessMapUv:ye&&_(E.thicknessMap.channel),alphaMapUv:Ae&&_(E.alphaMap.channel),vertexTangents:!!P.attributes.tangent&&(ce||R),vertexColors:E.vertexColors,vertexAlphas:E.vertexColors===!0&&!!P.attributes.color&&P.attributes.color.itemSize===4,pointsUvs:G.isPoints===!0&&!!P.attributes.uv&&(ke||Ae),fog:!!O,useFog:E.fog===!0,fogExp2:!!O&&O.isFogExp2,flatShading:E.flatShading===!0,sizeAttenuation:E.sizeAttenuation===!0,logarithmicDepthBuffer:d,skinning:G.isSkinnedMesh===!0,morphTargets:P.morphAttributes.position!==void 0,morphNormals:P.morphAttributes.normal!==void 0,morphColors:P.morphAttributes.color!==void 0,morphTargetsCount:me,morphTextureStride:ge,numDirLights:S.directional.length,numPointLights:S.point.length,numSpotLights:S.spot.length,numSpotLightMaps:S.spotLightMap.length,numRectAreaLights:S.rectArea.length,numHemiLights:S.hemi.length,numDirLightShadows:S.directionalShadowMap.length,numPointLightShadows:S.pointShadowMap.length,numSpotLightShadows:S.spotShadowMap.length,numSpotLightShadowsWithMaps:S.numSpotLightShadowsWithMaps,numLightProbes:S.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:E.dithering,shadowMapEnabled:t.shadowMap.enabled&&C.length>0,shadowMapType:t.shadowMap.type,toneMapping:on,decodeVideoTexture:ke&&E.map.isVideoTexture===!0&&Ct.getTransfer(E.map.colorSpace)===Kt,premultipliedAlpha:E.premultipliedAlpha,doubleSided:E.side===Wi,flipSided:E.side===Ts,useDepthPacking:E.depthPacking>=0,depthPacking:E.depthPacking||0,index0AttributeName:E.index0AttributeName,extensionClipCullDistance:Et&&E.extensions.clipCullDistance===!0&&s.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Et&&E.extensions.multiDraw===!0||Te)&&s.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:s.has("KHR_parallel_shader_compile"),customProgramCacheKey:E.customProgramCacheKey()};return Fn.vertexUv1s=c.has(1),Fn.vertexUv2s=c.has(2),Fn.vertexUv3s=c.has(3),c.clear(),Fn}function g(E){const S=[];if(E.shaderID?S.push(E.shaderID):(S.push(E.customVertexShaderID),S.push(E.customFragmentShaderID)),E.defines!==void 0)for(const C in E.defines)S.push(C),S.push(E.defines[C]);return E.isRawShaderMaterial===!1&&(b(S,E),v(S,E),S.push(t.outputColorSpace)),S.push(E.customProgramCacheKey),S.join()}function b(E,S){E.push(S.precision),E.push(S.outputColorSpace),E.push(S.envMapMode),E.push(S.envMapCubeUVHeight),E.push(S.mapUv),E.push(S.alphaMapUv),E.push(S.lightMapUv),E.push(S.aoMapUv),E.push(S.bumpMapUv),E.push(S.normalMapUv),E.push(S.displacementMapUv),E.push(S.emissiveMapUv),E.push(S.metalnessMapUv),E.push(S.roughnessMapUv),E.push(S.anisotropyMapUv),E.push(S.clearcoatMapUv),E.push(S.clearcoatNormalMapUv),E.push(S.clearcoatRoughnessMapUv),E.push(S.iridescenceMapUv),E.push(S.iridescenceThicknessMapUv),E.push(S.sheenColorMapUv),E.push(S.sheenRoughnessMapUv),E.push(S.specularMapUv),E.push(S.specularColorMapUv),E.push(S.specularIntensityMapUv),E.push(S.transmissionMapUv),E.push(S.thicknessMapUv),E.push(S.combine),E.push(S.fogExp2),E.push(S.sizeAttenuation),E.push(S.morphTargetsCount),E.push(S.morphAttributeCount),E.push(S.numDirLights),E.push(S.numPointLights),E.push(S.numSpotLights),E.push(S.numSpotLightMaps),E.push(S.numHemiLights),E.push(S.numRectAreaLights),E.push(S.numDirLightShadows),E.push(S.numPointLightShadows),E.push(S.numSpotLightShadows),E.push(S.numSpotLightShadowsWithMaps),E.push(S.numLightProbes),E.push(S.shadowMapType),E.push(S.toneMapping),E.push(S.numClippingPlanes),E.push(S.numClipIntersection),E.push(S.depthPacking)}function v(E,S){a.disableAll(),S.supportsVertexTextures&&a.enable(0),S.instancing&&a.enable(1),S.instancingColor&&a.enable(2),S.instancingMorph&&a.enable(3),S.matcap&&a.enable(4),S.envMap&&a.enable(5),S.normalMapObjectSpace&&a.enable(6),S.normalMapTangentSpace&&a.enable(7),S.clearcoat&&a.enable(8),S.iridescence&&a.enable(9),S.alphaTest&&a.enable(10),S.vertexColors&&a.enable(11),S.vertexAlphas&&a.enable(12),S.vertexUv1s&&a.enable(13),S.vertexUv2s&&a.enable(14),S.vertexUv3s&&a.enable(15),S.vertexTangents&&a.enable(16),S.anisotropy&&a.enable(17),S.alphaHash&&a.enable(18),S.batching&&a.enable(19),S.dispersion&&a.enable(20),S.batchingColor&&a.enable(21),E.push(a.mask),a.disableAll(),S.fog&&a.enable(0),S.useFog&&a.enable(1),S.flatShading&&a.enable(2),S.logarithmicDepthBuffer&&a.enable(3),S.skinning&&a.enable(4),S.morphTargets&&a.enable(5),S.morphNormals&&a.enable(6),S.morphColors&&a.enable(7),S.premultipliedAlpha&&a.enable(8),S.shadowMapEnabled&&a.enable(9),S.doubleSided&&a.enable(10),S.flipSided&&a.enable(11),S.useDepthPacking&&a.enable(12),S.dithering&&a.enable(13),S.transmission&&a.enable(14),S.sheen&&a.enable(15),S.opaque&&a.enable(16),S.pointsUvs&&a.enable(17),S.decodeVideoTexture&&a.enable(18),S.alphaToCoverage&&a.enable(19),E.push(a.mask)}function w(E){const S=y[E.type];let C;if(S){const N=Vi[S];C=fj.clone(N.uniforms)}else C=E.uniforms;return C}function A(E,S){let C;for(let N=0,G=u.length;N<G;N++){const O=u[N];if(O.cacheKey===S){C=O,++C.usedTimes;break}}return C===void 0&&(C=new TK(t,S,E,r),u.push(C)),C}function x(E){if(--E.usedTimes===0){const S=u.indexOf(E);u[S]=u[u.length-1],u.pop(),E.destroy()}}function T(E){l.remove(E)}function M(){l.dispose()}return{getParameters:p,getProgramCacheKey:g,getUniforms:w,acquireProgram:A,releaseProgram:x,releaseShaderCache:T,programs:u,dispose:M}}function kK(){let t=new WeakMap;function e(r){let o=t.get(r);return o===void 0&&(o={},t.set(r,o)),o}function n(r){t.delete(r)}function s(r,o,a){t.get(r)[o]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:s,dispose:i}}function PK(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function _S(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function yS(){const t=[];let e=0;const n=[],s=[],i=[];function r(){e=0,n.length=0,s.length=0,i.length=0}function o(d,f,h,y,_,p){let g=t[e];return g===void 0?(g={id:d.id,object:d,geometry:f,material:h,groupOrder:y,renderOrder:d.renderOrder,z:_,group:p},t[e]=g):(g.id=d.id,g.object=d,g.geometry=f,g.material=h,g.groupOrder=y,g.renderOrder=d.renderOrder,g.z=_,g.group=p),e++,g}function a(d,f,h,y,_,p){const g=o(d,f,h,y,_,p);h.transmission>0?s.push(g):h.transparent===!0?i.push(g):n.push(g)}function l(d,f,h,y,_,p){const g=o(d,f,h,y,_,p);h.transmission>0?s.unshift(g):h.transparent===!0?i.unshift(g):n.unshift(g)}function c(d,f){n.length>1&&n.sort(d||PK),s.length>1&&s.sort(f||_S),i.length>1&&i.sort(f||_S)}function u(){for(let d=e,f=t.length;d<f;d++){const h=t[d];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:n,transmissive:s,transparent:i,init:r,push:a,unshift:l,finish:u,sort:c}}function IK(){let t=new WeakMap;function e(s,i){const r=t.get(s);let o;return r===void 0?(o=new yS,t.set(s,[o])):i>=r.length?(o=new yS,r.push(o)):o=r[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function OK(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new ae,color:new pt};break;case"SpotLight":n={position:new ae,direction:new ae,color:new pt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ae,color:new pt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ae,skyColor:new pt,groundColor:new pt};break;case"RectAreaLight":n={color:new pt,position:new ae,halfWidth:new ae,halfHeight:new ae};break}return t[e.id]=n,n}}}function LK(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new xt};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new xt};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new xt,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let DK=0;function NK(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function UK(t){const e=new OK,n=LK(),s={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)s.probe.push(new ae);const i=new ae,r=new yt,o=new yt;function a(c){let u=0,d=0,f=0;for(let E=0;E<9;E++)s.probe[E].set(0,0,0);let h=0,y=0,_=0,p=0,g=0,b=0,v=0,w=0,A=0,x=0,T=0;c.sort(NK);for(let E=0,S=c.length;E<S;E++){const C=c[E],N=C.color,G=C.intensity,O=C.distance,P=C.shadow&&C.shadow.map?C.shadow.map.texture:null;if(C.isAmbientLight)u+=N.r*G,d+=N.g*G,f+=N.b*G;else if(C.isLightProbe){for(let k=0;k<9;k++)s.probe[k].addScaledVector(C.sh.coefficients[k],G);T++}else if(C.isDirectionalLight){const k=e.get(C);if(k.color.copy(C.color).multiplyScalar(C.intensity),C.castShadow){const F=C.shadow,I=n.get(C);I.shadowIntensity=F.intensity,I.shadowBias=F.bias,I.shadowNormalBias=F.normalBias,I.shadowRadius=F.radius,I.shadowMapSize=F.mapSize,s.directionalShadow[h]=I,s.directionalShadowMap[h]=P,s.directionalShadowMatrix[h]=C.shadow.matrix,b++}s.directional[h]=k,h++}else if(C.isSpotLight){const k=e.get(C);k.position.setFromMatrixPosition(C.matrixWorld),k.color.copy(N).multiplyScalar(G),k.distance=O,k.coneCos=Math.cos(C.angle),k.penumbraCos=Math.cos(C.angle*(1-C.penumbra)),k.decay=C.decay,s.spot[_]=k;const F=C.shadow;if(C.map&&(s.spotLightMap[A]=C.map,A++,F.updateMatrices(C),C.castShadow&&x++),s.spotLightMatrix[_]=F.matrix,C.castShadow){const I=n.get(C);I.shadowIntensity=F.intensity,I.shadowBias=F.bias,I.shadowNormalBias=F.normalBias,I.shadowRadius=F.radius,I.shadowMapSize=F.mapSize,s.spotShadow[_]=I,s.spotShadowMap[_]=P,w++}_++}else if(C.isRectAreaLight){const k=e.get(C);k.color.copy(N).multiplyScalar(G),k.halfWidth.set(C.width*.5,0,0),k.halfHeight.set(0,C.height*.5,0),s.rectArea[p]=k,p++}else if(C.isPointLight){const k=e.get(C);if(k.color.copy(C.color).multiplyScalar(C.intensity),k.distance=C.distance,k.decay=C.decay,C.castShadow){const F=C.shadow,I=n.get(C);I.shadowIntensity=F.intensity,I.shadowBias=F.bias,I.shadowNormalBias=F.normalBias,I.shadowRadius=F.radius,I.shadowMapSize=F.mapSize,I.shadowCameraNear=F.camera.near,I.shadowCameraFar=F.camera.far,s.pointShadow[y]=I,s.pointShadowMap[y]=P,s.pointShadowMatrix[y]=C.shadow.matrix,v++}s.point[y]=k,y++}else if(C.isHemisphereLight){const k=e.get(C);k.skyColor.copy(C.color).multiplyScalar(G),k.groundColor.copy(C.groundColor).multiplyScalar(G),s.hemi[g]=k,g++}}p>0&&(t.has("OES_texture_float_linear")===!0?(s.rectAreaLTC1=Ge.LTC_FLOAT_1,s.rectAreaLTC2=Ge.LTC_FLOAT_2):(s.rectAreaLTC1=Ge.LTC_HALF_1,s.rectAreaLTC2=Ge.LTC_HALF_2)),s.ambient[0]=u,s.ambient[1]=d,s.ambient[2]=f;const M=s.hash;(M.directionalLength!==h||M.pointLength!==y||M.spotLength!==_||M.rectAreaLength!==p||M.hemiLength!==g||M.numDirectionalShadows!==b||M.numPointShadows!==v||M.numSpotShadows!==w||M.numSpotMaps!==A||M.numLightProbes!==T)&&(s.directional.length=h,s.spot.length=_,s.rectArea.length=p,s.point.length=y,s.hemi.length=g,s.directionalShadow.length=b,s.directionalShadowMap.length=b,s.pointShadow.length=v,s.pointShadowMap.length=v,s.spotShadow.length=w,s.spotShadowMap.length=w,s.directionalShadowMatrix.length=b,s.pointShadowMatrix.length=v,s.spotLightMatrix.length=w+A-x,s.spotLightMap.length=A,s.numSpotLightShadowsWithMaps=x,s.numLightProbes=T,M.directionalLength=h,M.pointLength=y,M.spotLength=_,M.rectAreaLength=p,M.hemiLength=g,M.numDirectionalShadows=b,M.numPointShadows=v,M.numSpotShadows=w,M.numSpotMaps=A,M.numLightProbes=T,s.version=DK++)}function l(c,u){let d=0,f=0,h=0,y=0,_=0;const p=u.matrixWorldInverse;for(let g=0,b=c.length;g<b;g++){const v=c[g];if(v.isDirectionalLight){const w=s.directional[d];w.direction.setFromMatrixPosition(v.matrixWorld),i.setFromMatrixPosition(v.target.matrixWorld),w.direction.sub(i),w.direction.transformDirection(p),d++}else if(v.isSpotLight){const w=s.spot[h];w.position.setFromMatrixPosition(v.matrixWorld),w.position.applyMatrix4(p),w.direction.setFromMatrixPosition(v.matrixWorld),i.setFromMatrixPosition(v.target.matrixWorld),w.direction.sub(i),w.direction.transformDirection(p),h++}else if(v.isRectAreaLight){const w=s.rectArea[y];w.position.setFromMatrixPosition(v.matrixWorld),w.position.applyMatrix4(p),o.identity(),r.copy(v.matrixWorld),r.premultiply(p),o.extractRotation(r),w.halfWidth.set(v.width*.5,0,0),w.halfHeight.set(0,v.height*.5,0),w.halfWidth.applyMatrix4(o),w.halfHeight.applyMatrix4(o),y++}else if(v.isPointLight){const w=s.point[f];w.position.setFromMatrixPosition(v.matrixWorld),w.position.applyMatrix4(p),f++}else if(v.isHemisphereLight){const w=s.hemi[_];w.direction.setFromMatrixPosition(v.matrixWorld),w.direction.transformDirection(p),_++}}}return{setup:a,setupView:l,state:s}}function bS(t){const e=new UK(t),n=[],s=[];function i(u){c.camera=u,n.length=0,s.length=0}function r(u){n.push(u)}function o(u){s.push(u)}function a(){e.setup(n)}function l(u){e.setupView(n,u)}const c={lightsArray:n,shadowsArray:s,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:a,setupLightsView:l,pushLight:r,pushShadow:o}}function $K(t){let e=new WeakMap;function n(i,r=0){const o=e.get(i);let a;return o===void 0?(a=new bS(t),e.set(i,[a])):r>=o.length?(a=new bS(t),o.push(a)):a=o[r],a}function s(){e=new WeakMap}return{get:n,dispose:s}}class FK extends er{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=vV,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class BK extends er{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const HK=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,GK=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function zK(t,e,n){let s=new ow;const i=new xt,r=new xt,o=new Ft,a=new FK({depthPacking:wV}),l=new BK,c={},u=n.maxTextureSize,d={[Vr]:Ts,[Ts]:Vr,[Wi]:Wi},f=new Qo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new xt},radius:{value:4}},vertexShader:HK,fragmentShader:GK}),h=f.clone();h.defines.HORIZONTAL_PASS=1;const y=new lr;y.setAttribute("position",new ds(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new Es(y,f),p=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=W5;let g=this.type;this.render=function(x,T,M){if(p.enabled===!1||p.autoUpdate===!1&&p.needsUpdate===!1||x.length===0)return;const E=t.getRenderTarget(),S=t.getActiveCubeFace(),C=t.getActiveMipmapLevel(),N=t.state;N.setBlending(Wo),N.buffers.color.setClear(1,1,1,1),N.buffers.depth.setTest(!0),N.setScissorTest(!1);const G=g!==Er&&this.type===Er,O=g===Er&&this.type!==Er;for(let P=0,k=x.length;P<k;P++){const F=x[P],I=F.shadow;if(I===void 0){console.warn("THREE.WebGLShadowMap:",F,"has no shadow.");continue}if(I.autoUpdate===!1&&I.needsUpdate===!1)continue;i.copy(I.mapSize);const ee=I.getFrameExtents();if(i.multiply(ee),r.copy(I.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(r.x=Math.floor(u/ee.x),i.x=r.x*ee.x,I.mapSize.x=r.x),i.y>u&&(r.y=Math.floor(u/ee.y),i.y=r.y*ee.y,I.mapSize.y=r.y)),I.map===null||G===!0||O===!0){const me=this.type!==Er?{minFilter:us,magFilter:us}:{};I.map!==null&&I.map.dispose(),I.map=new dl(i.x,i.y,me),I.map.texture.name=F.name+".shadowMap",I.camera.updateProjectionMatrix()}t.setRenderTarget(I.map),t.clear();const Y=I.getViewportCount();for(let me=0;me<Y;me++){const ge=I.getViewport(me);o.set(r.x*ge.x,r.y*ge.y,r.x*ge.z,r.y*ge.w),N.viewport(o),I.updateMatrices(F,me),s=I.getFrustum(),w(T,M,I.camera,F,this.type)}I.isPointLightShadow!==!0&&this.type===Er&&b(I,M),I.needsUpdate=!1}g=this.type,p.needsUpdate=!1,t.setRenderTarget(E,S,C)};function b(x,T){const M=e.update(_);f.defines.VSM_SAMPLES!==x.blurSamples&&(f.defines.VSM_SAMPLES=x.blurSamples,h.defines.VSM_SAMPLES=x.blurSamples,f.needsUpdate=!0,h.needsUpdate=!0),x.mapPass===null&&(x.mapPass=new dl(i.x,i.y)),f.uniforms.shadow_pass.value=x.map.texture,f.uniforms.resolution.value=x.mapSize,f.uniforms.radius.value=x.radius,t.setRenderTarget(x.mapPass),t.clear(),t.renderBufferDirect(T,null,M,f,_,null),h.uniforms.shadow_pass.value=x.mapPass.texture,h.uniforms.resolution.value=x.mapSize,h.uniforms.radius.value=x.radius,t.setRenderTarget(x.map),t.clear(),t.renderBufferDirect(T,null,M,h,_,null)}function v(x,T,M,E){let S=null;const C=M.isPointLight===!0?x.customDistanceMaterial:x.customDepthMaterial;if(C!==void 0)S=C;else if(S=M.isPointLight===!0?l:a,t.localClippingEnabled&&T.clipShadows===!0&&Array.isArray(T.clippingPlanes)&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0||T.map&&T.alphaTest>0){const N=S.uuid,G=T.uuid;let O=c[N];O===void 0&&(O={},c[N]=O);let P=O[G];P===void 0&&(P=S.clone(),O[G]=P,T.addEventListener("dispose",A)),S=P}if(S.visible=T.visible,S.wireframe=T.wireframe,E===Er?S.side=T.shadowSide!==null?T.shadowSide:T.side:S.side=T.shadowSide!==null?T.shadowSide:d[T.side],S.alphaMap=T.alphaMap,S.alphaTest=T.alphaTest,S.map=T.map,S.clipShadows=T.clipShadows,S.clippingPlanes=T.clippingPlanes,S.clipIntersection=T.clipIntersection,S.displacementMap=T.displacementMap,S.displacementScale=T.displacementScale,S.displacementBias=T.displacementBias,S.wireframeLinewidth=T.wireframeLinewidth,S.linewidth=T.linewidth,M.isPointLight===!0&&S.isMeshDistanceMaterial===!0){const N=t.properties.get(S);N.light=M}return S}function w(x,T,M,E,S){if(x.visible===!1)return;if(x.layers.test(T.layers)&&(x.isMesh||x.isLine||x.isPoints)&&(x.castShadow||x.receiveShadow&&S===Er)&&(!x.frustumCulled||s.intersectsObject(x))){x.modelViewMatrix.multiplyMatrices(M.matrixWorldInverse,x.matrixWorld);const G=e.update(x),O=x.material;if(Array.isArray(O)){const P=G.groups;for(let k=0,F=P.length;k<F;k++){const I=P[k],ee=O[I.materialIndex];if(ee&&ee.visible){const Y=v(x,ee,E,S);x.onBeforeShadow(t,x,T,M,G,Y,I),t.renderBufferDirect(M,null,G,Y,x,I),x.onAfterShadow(t,x,T,M,G,Y,I)}}}else if(O.visible){const P=v(x,O,E,S);x.onBeforeShadow(t,x,T,M,G,P,null),t.renderBufferDirect(M,null,G,P,x,null),x.onAfterShadow(t,x,T,M,G,P,null)}}const N=x.children;for(let G=0,O=N.length;G<O;G++)w(N[G],T,M,E,S)}function A(x){x.target.removeEventListener("dispose",A);for(const M in c){const E=c[M],S=x.target.uuid;S in E&&(E[S].dispose(),delete E[S])}}}function VK(t){function e(){let H=!1;const ye=new Ft;let pe=null;const Ae=new Ft(0,0,0,0);return{setMask:function(Ue){pe!==Ue&&!H&&(t.colorMask(Ue,Ue,Ue,Ue),pe=Ue)},setLocked:function(Ue){H=Ue},setClear:function(Ue,et,Et,on,Fn){Fn===!0&&(Ue*=on,et*=on,Et*=on),ye.set(Ue,et,Et,on),Ae.equals(ye)===!1&&(t.clearColor(Ue,et,Et,on),Ae.copy(ye))},reset:function(){H=!1,pe=null,Ae.set(-1,0,0,0)}}}function n(){let H=!1,ye=null,pe=null,Ae=null;return{setTest:function(Ue){Ue?Ie(t.DEPTH_TEST):ne(t.DEPTH_TEST)},setMask:function(Ue){ye!==Ue&&!H&&(t.depthMask(Ue),ye=Ue)},setFunc:function(Ue){if(pe!==Ue){switch(Ue){case tV:t.depthFunc(t.NEVER);break;case nV:t.depthFunc(t.ALWAYS);break;case sV:t.depthFunc(t.LESS);break;case Sm:t.depthFunc(t.LEQUAL);break;case iV:t.depthFunc(t.EQUAL);break;case rV:t.depthFunc(t.GEQUAL);break;case oV:t.depthFunc(t.GREATER);break;case aV:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}pe=Ue}},setLocked:function(Ue){H=Ue},setClear:function(Ue){Ae!==Ue&&(t.clearDepth(Ue),Ae=Ue)},reset:function(){H=!1,ye=null,pe=null,Ae=null}}}function s(){let H=!1,ye=null,pe=null,Ae=null,Ue=null,et=null,Et=null,on=null,Fn=null;return{setTest:function(Pt){H||(Pt?Ie(t.STENCIL_TEST):ne(t.STENCIL_TEST))},setMask:function(Pt){ye!==Pt&&!H&&(t.stencilMask(Pt),ye=Pt)},setFunc:function(Pt,fr,Ni){(pe!==Pt||Ae!==fr||Ue!==Ni)&&(t.stencilFunc(Pt,fr,Ni),pe=Pt,Ae=fr,Ue=Ni)},setOp:function(Pt,fr,Ni){(et!==Pt||Et!==fr||on!==Ni)&&(t.stencilOp(Pt,fr,Ni),et=Pt,Et=fr,on=Ni)},setLocked:function(Pt){H=Pt},setClear:function(Pt){Fn!==Pt&&(t.clearStencil(Pt),Fn=Pt)},reset:function(){H=!1,ye=null,pe=null,Ae=null,Ue=null,et=null,Et=null,on=null,Fn=null}}}const i=new e,r=new n,o=new s,a=new WeakMap,l=new WeakMap;let c={},u={},d=new WeakMap,f=[],h=null,y=!1,_=null,p=null,g=null,b=null,v=null,w=null,A=null,x=new pt(0,0,0),T=0,M=!1,E=null,S=null,C=null,N=null,G=null;const O=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let P=!1,k=0;const F=t.getParameter(t.VERSION);F.indexOf("WebGL")!==-1?(k=parseFloat(/^WebGL (\d)/.exec(F)[1]),P=k>=1):F.indexOf("OpenGL ES")!==-1&&(k=parseFloat(/^OpenGL ES (\d)/.exec(F)[1]),P=k>=2);let I=null,ee={};const Y=t.getParameter(t.SCISSOR_BOX),me=t.getParameter(t.VIEWPORT),ge=new Ft().fromArray(Y),Ce=new Ft().fromArray(me);function le(H,ye,pe,Ae){const Ue=new Uint8Array(4),et=t.createTexture();t.bindTexture(H,et),t.texParameteri(H,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(H,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Et=0;Et<pe;Et++)H===t.TEXTURE_3D||H===t.TEXTURE_2D_ARRAY?t.texImage3D(ye,0,t.RGBA,1,1,Ae,0,t.RGBA,t.UNSIGNED_BYTE,Ue):t.texImage2D(ye+Et,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Ue);return et}const _e={};_e[t.TEXTURE_2D]=le(t.TEXTURE_2D,t.TEXTURE_2D,1),_e[t.TEXTURE_CUBE_MAP]=le(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),_e[t.TEXTURE_2D_ARRAY]=le(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),_e[t.TEXTURE_3D]=le(t.TEXTURE_3D,t.TEXTURE_3D,1,1),i.setClear(0,0,0,1),r.setClear(1),o.setClear(0),Ie(t.DEPTH_TEST),r.setFunc(Sm),te(!1),ce(wE),Ie(t.CULL_FACE),B(Wo);function Ie(H){c[H]!==!0&&(t.enable(H),c[H]=!0)}function ne(H){c[H]!==!1&&(t.disable(H),c[H]=!1)}function Me(H,ye){return u[H]!==ye?(t.bindFramebuffer(H,ye),u[H]=ye,H===t.DRAW_FRAMEBUFFER&&(u[t.FRAMEBUFFER]=ye),H===t.FRAMEBUFFER&&(u[t.DRAW_FRAMEBUFFER]=ye),!0):!1}function Te(H,ye){let pe=f,Ae=!1;if(H){pe=d.get(ye),pe===void 0&&(pe=[],d.set(ye,pe));const Ue=H.textures;if(pe.length!==Ue.length||pe[0]!==t.COLOR_ATTACHMENT0){for(let et=0,Et=Ue.length;et<Et;et++)pe[et]=t.COLOR_ATTACHMENT0+et;pe.length=Ue.length,Ae=!0}}else pe[0]!==t.BACK&&(pe[0]=t.BACK,Ae=!0);Ae&&t.drawBuffers(pe)}function ke(H){return h!==H?(t.useProgram(H),h=H,!0):!1}const ze={[Ua]:t.FUNC_ADD,[$z]:t.FUNC_SUBTRACT,[Fz]:t.FUNC_REVERSE_SUBTRACT};ze[Bz]=t.MIN,ze[Hz]=t.MAX;const V={[Gz]:t.ZERO,[zz]:t.ONE,[Vz]:t.SRC_COLOR,[X1]:t.SRC_ALPHA,[Yz]:t.SRC_ALPHA_SATURATE,[Xz]:t.DST_COLOR,[Wz]:t.DST_ALPHA,[jz]:t.ONE_MINUS_SRC_COLOR,[K1]:t.ONE_MINUS_SRC_ALPHA,[Kz]:t.ONE_MINUS_DST_COLOR,[qz]:t.ONE_MINUS_DST_ALPHA,[Zz]:t.CONSTANT_COLOR,[Jz]:t.ONE_MINUS_CONSTANT_COLOR,[Qz]:t.CONSTANT_ALPHA,[eV]:t.ONE_MINUS_CONSTANT_ALPHA};function B(H,ye,pe,Ae,Ue,et,Et,on,Fn,Pt){if(H===Wo){y===!0&&(ne(t.BLEND),y=!1);return}if(y===!1&&(Ie(t.BLEND),y=!0),H!==Uz){if(H!==_||Pt!==M){if((p!==Ua||v!==Ua)&&(t.blendEquation(t.FUNC_ADD),p=Ua,v=Ua),Pt)switch(H){case Ic:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case xE:t.blendFunc(t.ONE,t.ONE);break;case EE:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case SE:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",H);break}else switch(H){case Ic:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case xE:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case EE:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case SE:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",H);break}g=null,b=null,w=null,A=null,x.set(0,0,0),T=0,_=H,M=Pt}return}Ue=Ue||ye,et=et||pe,Et=Et||Ae,(ye!==p||Ue!==v)&&(t.blendEquationSeparate(ze[ye],ze[Ue]),p=ye,v=Ue),(pe!==g||Ae!==b||et!==w||Et!==A)&&(t.blendFuncSeparate(V[pe],V[Ae],V[et],V[Et]),g=pe,b=Ae,w=et,A=Et),(on.equals(x)===!1||Fn!==T)&&(t.blendColor(on.r,on.g,on.b,Fn),x.copy(on),T=Fn),_=H,M=!1}function z(H,ye){H.side===Wi?ne(t.CULL_FACE):Ie(t.CULL_FACE);let pe=H.side===Ts;ye&&(pe=!pe),te(pe),H.blending===Ic&&H.transparent===!1?B(Wo):B(H.blending,H.blendEquation,H.blendSrc,H.blendDst,H.blendEquationAlpha,H.blendSrcAlpha,H.blendDstAlpha,H.blendColor,H.blendAlpha,H.premultipliedAlpha),r.setFunc(H.depthFunc),r.setTest(H.depthTest),r.setMask(H.depthWrite),i.setMask(H.colorWrite);const Ae=H.stencilWrite;o.setTest(Ae),Ae&&(o.setMask(H.stencilWriteMask),o.setFunc(H.stencilFunc,H.stencilRef,H.stencilFuncMask),o.setOp(H.stencilFail,H.stencilZFail,H.stencilZPass)),xe(H.polygonOffset,H.polygonOffsetFactor,H.polygonOffsetUnits),H.alphaToCoverage===!0?Ie(t.SAMPLE_ALPHA_TO_COVERAGE):ne(t.SAMPLE_ALPHA_TO_COVERAGE)}function te(H){E!==H&&(H?t.frontFace(t.CW):t.frontFace(t.CCW),E=H)}function ce(H){H!==Lz?(Ie(t.CULL_FACE),H!==S&&(H===wE?t.cullFace(t.BACK):H===Dz?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):ne(t.CULL_FACE),S=H}function ve(H){H!==C&&(P&&t.lineWidth(H),C=H)}function xe(H,ye,pe){H?(Ie(t.POLYGON_OFFSET_FILL),(N!==ye||G!==pe)&&(t.polygonOffset(ye,pe),N=ye,G=pe)):ne(t.POLYGON_OFFSET_FILL)}function Re(H){H?Ie(t.SCISSOR_TEST):ne(t.SCISSOR_TEST)}function D(H){H===void 0&&(H=t.TEXTURE0+O-1),I!==H&&(t.activeTexture(H),I=H)}function R(H,ye,pe){pe===void 0&&(I===null?pe=t.TEXTURE0+O-1:pe=I);let Ae=ee[pe];Ae===void 0&&(Ae={type:void 0,texture:void 0},ee[pe]=Ae),(Ae.type!==H||Ae.texture!==ye)&&(I!==pe&&(t.activeTexture(pe),I=pe),t.bindTexture(H,ye||_e[H]),Ae.type=H,Ae.texture=ye)}function q(){const H=ee[I];H!==void 0&&H.type!==void 0&&(t.bindTexture(H.type,null),H.type=void 0,H.texture=void 0)}function ue(){try{t.compressedTexImage2D.apply(t,arguments)}catch(H){console.error("THREE.WebGLState:",H)}}function be(){try{t.compressedTexImage3D.apply(t,arguments)}catch(H){console.error("THREE.WebGLState:",H)}}function he(){try{t.texSubImage2D.apply(t,arguments)}catch(H){console.error("THREE.WebGLState:",H)}}function Oe(){try{t.texSubImage3D.apply(t,arguments)}catch(H){console.error("THREE.WebGLState:",H)}}function Pe(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(H){console.error("THREE.WebGLState:",H)}}function Ne(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(H){console.error("THREE.WebGLState:",H)}}function He(){try{t.texStorage2D.apply(t,arguments)}catch(H){console.error("THREE.WebGLState:",H)}}function fe(){try{t.texStorage3D.apply(t,arguments)}catch(H){console.error("THREE.WebGLState:",H)}}function K(){try{t.texImage2D.apply(t,arguments)}catch(H){console.error("THREE.WebGLState:",H)}}function L(){try{t.texImage3D.apply(t,arguments)}catch(H){console.error("THREE.WebGLState:",H)}}function se(H){ge.equals(H)===!1&&(t.scissor(H.x,H.y,H.z,H.w),ge.copy(H))}function U(H){Ce.equals(H)===!1&&(t.viewport(H.x,H.y,H.z,H.w),Ce.copy(H))}function W(H,ye){let pe=l.get(ye);pe===void 0&&(pe=new WeakMap,l.set(ye,pe));let Ae=pe.get(H);Ae===void 0&&(Ae=t.getUniformBlockIndex(ye,H.name),pe.set(H,Ae))}function X(H,ye){const Ae=l.get(ye).get(H);a.get(ye)!==Ae&&(t.uniformBlockBinding(ye,Ae,H.__bindingPointIndex),a.set(ye,Ae))}function ie(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),c={},I=null,ee={},u={},d=new WeakMap,f=[],h=null,y=!1,_=null,p=null,g=null,b=null,v=null,w=null,A=null,x=new pt(0,0,0),T=0,M=!1,E=null,S=null,C=null,N=null,G=null,ge.set(0,0,t.canvas.width,t.canvas.height),Ce.set(0,0,t.canvas.width,t.canvas.height),i.reset(),r.reset(),o.reset()}return{buffers:{color:i,depth:r,stencil:o},enable:Ie,disable:ne,bindFramebuffer:Me,drawBuffers:Te,useProgram:ke,setBlending:B,setMaterial:z,setFlipSided:te,setCullFace:ce,setLineWidth:ve,setPolygonOffset:xe,setScissorTest:Re,activeTexture:D,bindTexture:R,unbindTexture:q,compressedTexImage2D:ue,compressedTexImage3D:be,texImage2D:K,texImage3D:L,updateUBOMapping:W,uniformBlockBinding:X,texStorage2D:He,texStorage3D:fe,texSubImage2D:he,texSubImage3D:Oe,compressedTexSubImage2D:Pe,compressedTexSubImage3D:Ne,scissor:se,viewport:U,reset:ie}}function vS(t,e,n,s){const i=jK(s);switch(n){case Q5:return t*e;case tC:return t*e;case nC:return t*e*2;case ew:return t*e/i.components*i.byteLength;case tw:return t*e/i.components*i.byteLength;case sC:return t*e*2/i.components*i.byteLength;case nw:return t*e*2/i.components*i.byteLength;case eC:return t*e*3/i.components*i.byteLength;case ii:return t*e*4/i.components*i.byteLength;case sw:return t*e*4/i.components*i.byteLength;case zp:case Vp:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case jp:case Wp:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Q1:case ty:return Math.max(t,16)*Math.max(e,8)/4;case J1:case ey:return Math.max(t,8)*Math.max(e,8)/2;case ny:case sy:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case iy:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case ry:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case oy:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case ay:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case ly:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case cy:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case uy:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case dy:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case fy:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case hy:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case py:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case my:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case gy:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case _y:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case yy:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case qp:case by:case vy:return Math.ceil(t/4)*Math.ceil(e/4)*16;case iC:case wy:return Math.ceil(t/4)*Math.ceil(e/4)*8;case xy:case Ey:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function jK(t){switch(t){case jr:case Y5:return{byteLength:1,components:1};case yf:case Z5:case Vf:return{byteLength:2,components:1};case Jv:case Qv:return{byteLength:2,components:4};case ul:case Zv:case Ci:return{byteLength:4,components:1};case J5:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}function WK(t,e,n,s,i,r,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new xt,u=new WeakMap;let d;const f=new WeakMap;let h=!1;try{h=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(D,R){return h?new OffscreenCanvas(D,R):wf("canvas")}function _(D,R,q){let ue=1;const be=Re(D);if((be.width>q||be.height>q)&&(ue=q/Math.max(be.width,be.height)),ue<1)if(typeof HTMLImageElement<"u"&&D instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&D instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&D instanceof ImageBitmap||typeof VideoFrame<"u"&&D instanceof VideoFrame){const he=Math.floor(ue*be.width),Oe=Math.floor(ue*be.height);d===void 0&&(d=y(he,Oe));const Pe=R?y(he,Oe):d;return Pe.width=he,Pe.height=Oe,Pe.getContext("2d").drawImage(D,0,0,he,Oe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+be.width+"x"+be.height+") to ("+he+"x"+Oe+")."),Pe}else return"data"in D&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+be.width+"x"+be.height+")."),D;return D}function p(D){return D.generateMipmaps&&D.minFilter!==us&&D.minFilter!==Gs}function g(D){t.generateMipmap(D)}function b(D,R,q,ue,be=!1){if(D!==null){if(t[D]!==void 0)return t[D];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+D+"'")}let he=R;if(R===t.RED&&(q===t.FLOAT&&(he=t.R32F),q===t.HALF_FLOAT&&(he=t.R16F),q===t.UNSIGNED_BYTE&&(he=t.R8)),R===t.RED_INTEGER&&(q===t.UNSIGNED_BYTE&&(he=t.R8UI),q===t.UNSIGNED_SHORT&&(he=t.R16UI),q===t.UNSIGNED_INT&&(he=t.R32UI),q===t.BYTE&&(he=t.R8I),q===t.SHORT&&(he=t.R16I),q===t.INT&&(he=t.R32I)),R===t.RG&&(q===t.FLOAT&&(he=t.RG32F),q===t.HALF_FLOAT&&(he=t.RG16F),q===t.UNSIGNED_BYTE&&(he=t.RG8)),R===t.RG_INTEGER&&(q===t.UNSIGNED_BYTE&&(he=t.RG8UI),q===t.UNSIGNED_SHORT&&(he=t.RG16UI),q===t.UNSIGNED_INT&&(he=t.RG32UI),q===t.BYTE&&(he=t.RG8I),q===t.SHORT&&(he=t.RG16I),q===t.INT&&(he=t.RG32I)),R===t.RGB&&q===t.UNSIGNED_INT_5_9_9_9_REV&&(he=t.RGB9_E5),R===t.RGBA){const Oe=be?Am:Ct.getTransfer(ue);q===t.FLOAT&&(he=t.RGBA32F),q===t.HALF_FLOAT&&(he=t.RGBA16F),q===t.UNSIGNED_BYTE&&(he=Oe===Kt?t.SRGB8_ALPHA8:t.RGBA8),q===t.UNSIGNED_SHORT_4_4_4_4&&(he=t.RGBA4),q===t.UNSIGNED_SHORT_5_5_5_1&&(he=t.RGB5_A1)}return(he===t.R16F||he===t.R32F||he===t.RG16F||he===t.RG32F||he===t.RGBA16F||he===t.RGBA32F)&&e.get("EXT_color_buffer_float"),he}function v(D,R){let q;return D?R===null||R===ul||R===au?q=t.DEPTH24_STENCIL8:R===Ci?q=t.DEPTH32F_STENCIL8:R===yf&&(q=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):R===null||R===ul||R===au?q=t.DEPTH_COMPONENT24:R===Ci?q=t.DEPTH_COMPONENT32F:R===yf&&(q=t.DEPTH_COMPONENT16),q}function w(D,R){return p(D)===!0||D.isFramebufferTexture&&D.minFilter!==us&&D.minFilter!==Gs?Math.log2(Math.max(R.width,R.height))+1:D.mipmaps!==void 0&&D.mipmaps.length>0?D.mipmaps.length:D.isCompressedTexture&&Array.isArray(D.image)?R.mipmaps.length:1}function A(D){const R=D.target;R.removeEventListener("dispose",A),T(R),R.isVideoTexture&&u.delete(R)}function x(D){const R=D.target;R.removeEventListener("dispose",x),E(R)}function T(D){const R=s.get(D);if(R.__webglInit===void 0)return;const q=D.source,ue=f.get(q);if(ue){const be=ue[R.__cacheKey];be.usedTimes--,be.usedTimes===0&&M(D),Object.keys(ue).length===0&&f.delete(q)}s.remove(D)}function M(D){const R=s.get(D);t.deleteTexture(R.__webglTexture);const q=D.source,ue=f.get(q);delete ue[R.__cacheKey],o.memory.textures--}function E(D){const R=s.get(D);if(D.depthTexture&&D.depthTexture.dispose(),D.isWebGLCubeRenderTarget)for(let ue=0;ue<6;ue++){if(Array.isArray(R.__webglFramebuffer[ue]))for(let be=0;be<R.__webglFramebuffer[ue].length;be++)t.deleteFramebuffer(R.__webglFramebuffer[ue][be]);else t.deleteFramebuffer(R.__webglFramebuffer[ue]);R.__webglDepthbuffer&&t.deleteRenderbuffer(R.__webglDepthbuffer[ue])}else{if(Array.isArray(R.__webglFramebuffer))for(let ue=0;ue<R.__webglFramebuffer.length;ue++)t.deleteFramebuffer(R.__webglFramebuffer[ue]);else t.deleteFramebuffer(R.__webglFramebuffer);if(R.__webglDepthbuffer&&t.deleteRenderbuffer(R.__webglDepthbuffer),R.__webglMultisampledFramebuffer&&t.deleteFramebuffer(R.__webglMultisampledFramebuffer),R.__webglColorRenderbuffer)for(let ue=0;ue<R.__webglColorRenderbuffer.length;ue++)R.__webglColorRenderbuffer[ue]&&t.deleteRenderbuffer(R.__webglColorRenderbuffer[ue]);R.__webglDepthRenderbuffer&&t.deleteRenderbuffer(R.__webglDepthRenderbuffer)}const q=D.textures;for(let ue=0,be=q.length;ue<be;ue++){const he=s.get(q[ue]);he.__webglTexture&&(t.deleteTexture(he.__webglTexture),o.memory.textures--),s.remove(q[ue])}s.remove(D)}let S=0;function C(){S=0}function N(){const D=S;return D>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+D+" texture units while this GPU supports only "+i.maxTextures),S+=1,D}function G(D){const R=[];return R.push(D.wrapS),R.push(D.wrapT),R.push(D.wrapR||0),R.push(D.magFilter),R.push(D.minFilter),R.push(D.anisotropy),R.push(D.internalFormat),R.push(D.format),R.push(D.type),R.push(D.generateMipmaps),R.push(D.premultiplyAlpha),R.push(D.flipY),R.push(D.unpackAlignment),R.push(D.colorSpace),R.join()}function O(D,R){const q=s.get(D);if(D.isVideoTexture&&ve(D),D.isRenderTargetTexture===!1&&D.version>0&&q.__version!==D.version){const ue=D.image;if(ue===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ue.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ce(q,D,R);return}}n.bindTexture(t.TEXTURE_2D,q.__webglTexture,t.TEXTURE0+R)}function P(D,R){const q=s.get(D);if(D.version>0&&q.__version!==D.version){Ce(q,D,R);return}n.bindTexture(t.TEXTURE_2D_ARRAY,q.__webglTexture,t.TEXTURE0+R)}function k(D,R){const q=s.get(D);if(D.version>0&&q.__version!==D.version){Ce(q,D,R);return}n.bindTexture(t.TEXTURE_3D,q.__webglTexture,t.TEXTURE0+R)}function F(D,R){const q=s.get(D);if(D.version>0&&q.__version!==D.version){le(q,D,R);return}n.bindTexture(t.TEXTURE_CUBE_MAP,q.__webglTexture,t.TEXTURE0+R)}const I={[ou]:t.REPEAT,[No]:t.CLAMP_TO_EDGE,[Tm]:t.MIRRORED_REPEAT},ee={[us]:t.NEAREST,[K5]:t.NEAREST_MIPMAP_NEAREST,[Md]:t.NEAREST_MIPMAP_LINEAR,[Gs]:t.LINEAR,[Gp]:t.LINEAR_MIPMAP_NEAREST,[Lr]:t.LINEAR_MIPMAP_LINEAR},Y={[EV]:t.NEVER,[CV]:t.ALWAYS,[SV]:t.LESS,[aC]:t.LEQUAL,[TV]:t.EQUAL,[RV]:t.GEQUAL,[AV]:t.GREATER,[MV]:t.NOTEQUAL};function me(D,R){if(R.type===Ci&&e.has("OES_texture_float_linear")===!1&&(R.magFilter===Gs||R.magFilter===Gp||R.magFilter===Md||R.magFilter===Lr||R.minFilter===Gs||R.minFilter===Gp||R.minFilter===Md||R.minFilter===Lr)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(D,t.TEXTURE_WRAP_S,I[R.wrapS]),t.texParameteri(D,t.TEXTURE_WRAP_T,I[R.wrapT]),(D===t.TEXTURE_3D||D===t.TEXTURE_2D_ARRAY)&&t.texParameteri(D,t.TEXTURE_WRAP_R,I[R.wrapR]),t.texParameteri(D,t.TEXTURE_MAG_FILTER,ee[R.magFilter]),t.texParameteri(D,t.TEXTURE_MIN_FILTER,ee[R.minFilter]),R.compareFunction&&(t.texParameteri(D,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(D,t.TEXTURE_COMPARE_FUNC,Y[R.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(R.magFilter===us||R.minFilter!==Md&&R.minFilter!==Lr||R.type===Ci&&e.has("OES_texture_float_linear")===!1)return;if(R.anisotropy>1||s.get(R).__currentAnisotropy){const q=e.get("EXT_texture_filter_anisotropic");t.texParameterf(D,q.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(R.anisotropy,i.getMaxAnisotropy())),s.get(R).__currentAnisotropy=R.anisotropy}}}function ge(D,R){let q=!1;D.__webglInit===void 0&&(D.__webglInit=!0,R.addEventListener("dispose",A));const ue=R.source;let be=f.get(ue);be===void 0&&(be={},f.set(ue,be));const he=G(R);if(he!==D.__cacheKey){be[he]===void 0&&(be[he]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,q=!0),be[he].usedTimes++;const Oe=be[D.__cacheKey];Oe!==void 0&&(be[D.__cacheKey].usedTimes--,Oe.usedTimes===0&&M(R)),D.__cacheKey=he,D.__webglTexture=be[he].texture}return q}function Ce(D,R,q){let ue=t.TEXTURE_2D;(R.isDataArrayTexture||R.isCompressedArrayTexture)&&(ue=t.TEXTURE_2D_ARRAY),R.isData3DTexture&&(ue=t.TEXTURE_3D);const be=ge(D,R),he=R.source;n.bindTexture(ue,D.__webglTexture,t.TEXTURE0+q);const Oe=s.get(he);if(he.version!==Oe.__version||be===!0){n.activeTexture(t.TEXTURE0+q);const Pe=Ct.getPrimaries(Ct.workingColorSpace),Ne=R.colorSpace===Lo?null:Ct.getPrimaries(R.colorSpace),He=R.colorSpace===Lo||Pe===Ne?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,R.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,R.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,R.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,He);let fe=_(R.image,!1,i.maxTextureSize);fe=xe(R,fe);const K=r.convert(R.format,R.colorSpace),L=r.convert(R.type);let se=b(R.internalFormat,K,L,R.colorSpace,R.isVideoTexture);me(ue,R);let U;const W=R.mipmaps,X=R.isVideoTexture!==!0,ie=Oe.__version===void 0||be===!0,H=he.dataReady,ye=w(R,fe);if(R.isDepthTexture)se=v(R.format===lu,R.type),ie&&(X?n.texStorage2D(t.TEXTURE_2D,1,se,fe.width,fe.height):n.texImage2D(t.TEXTURE_2D,0,se,fe.width,fe.height,0,K,L,null));else if(R.isDataTexture)if(W.length>0){X&&ie&&n.texStorage2D(t.TEXTURE_2D,ye,se,W[0].width,W[0].height);for(let pe=0,Ae=W.length;pe<Ae;pe++)U=W[pe],X?H&&n.texSubImage2D(t.TEXTURE_2D,pe,0,0,U.width,U.height,K,L,U.data):n.texImage2D(t.TEXTURE_2D,pe,se,U.width,U.height,0,K,L,U.data);R.generateMipmaps=!1}else X?(ie&&n.texStorage2D(t.TEXTURE_2D,ye,se,fe.width,fe.height),H&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,fe.width,fe.height,K,L,fe.data)):n.texImage2D(t.TEXTURE_2D,0,se,fe.width,fe.height,0,K,L,fe.data);else if(R.isCompressedTexture)if(R.isCompressedArrayTexture){X&&ie&&n.texStorage3D(t.TEXTURE_2D_ARRAY,ye,se,W[0].width,W[0].height,fe.depth);for(let pe=0,Ae=W.length;pe<Ae;pe++)if(U=W[pe],R.format!==ii)if(K!==null)if(X){if(H)if(R.layerUpdates.size>0){const Ue=vS(U.width,U.height,R.format,R.type);for(const et of R.layerUpdates){const Et=U.data.subarray(et*Ue/U.data.BYTES_PER_ELEMENT,(et+1)*Ue/U.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,pe,0,0,et,U.width,U.height,1,K,Et,0,0)}R.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,pe,0,0,0,U.width,U.height,fe.depth,K,U.data,0,0)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,pe,se,U.width,U.height,fe.depth,0,U.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else X?H&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,pe,0,0,0,U.width,U.height,fe.depth,K,L,U.data):n.texImage3D(t.TEXTURE_2D_ARRAY,pe,se,U.width,U.height,fe.depth,0,K,L,U.data)}else{X&&ie&&n.texStorage2D(t.TEXTURE_2D,ye,se,W[0].width,W[0].height);for(let pe=0,Ae=W.length;pe<Ae;pe++)U=W[pe],R.format!==ii?K!==null?X?H&&n.compressedTexSubImage2D(t.TEXTURE_2D,pe,0,0,U.width,U.height,K,U.data):n.compressedTexImage2D(t.TEXTURE_2D,pe,se,U.width,U.height,0,U.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):X?H&&n.texSubImage2D(t.TEXTURE_2D,pe,0,0,U.width,U.height,K,L,U.data):n.texImage2D(t.TEXTURE_2D,pe,se,U.width,U.height,0,K,L,U.data)}else if(R.isDataArrayTexture)if(X){if(ie&&n.texStorage3D(t.TEXTURE_2D_ARRAY,ye,se,fe.width,fe.height,fe.depth),H)if(R.layerUpdates.size>0){const pe=vS(fe.width,fe.height,R.format,R.type);for(const Ae of R.layerUpdates){const Ue=fe.data.subarray(Ae*pe/fe.data.BYTES_PER_ELEMENT,(Ae+1)*pe/fe.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Ae,fe.width,fe.height,1,K,L,Ue)}R.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,fe.width,fe.height,fe.depth,K,L,fe.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,se,fe.width,fe.height,fe.depth,0,K,L,fe.data);else if(R.isData3DTexture)X?(ie&&n.texStorage3D(t.TEXTURE_3D,ye,se,fe.width,fe.height,fe.depth),H&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,fe.width,fe.height,fe.depth,K,L,fe.data)):n.texImage3D(t.TEXTURE_3D,0,se,fe.width,fe.height,fe.depth,0,K,L,fe.data);else if(R.isFramebufferTexture){if(ie)if(X)n.texStorage2D(t.TEXTURE_2D,ye,se,fe.width,fe.height);else{let pe=fe.width,Ae=fe.height;for(let Ue=0;Ue<ye;Ue++)n.texImage2D(t.TEXTURE_2D,Ue,se,pe,Ae,0,K,L,null),pe>>=1,Ae>>=1}}else if(W.length>0){if(X&&ie){const pe=Re(W[0]);n.texStorage2D(t.TEXTURE_2D,ye,se,pe.width,pe.height)}for(let pe=0,Ae=W.length;pe<Ae;pe++)U=W[pe],X?H&&n.texSubImage2D(t.TEXTURE_2D,pe,0,0,K,L,U):n.texImage2D(t.TEXTURE_2D,pe,se,K,L,U);R.generateMipmaps=!1}else if(X){if(ie){const pe=Re(fe);n.texStorage2D(t.TEXTURE_2D,ye,se,pe.width,pe.height)}H&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,K,L,fe)}else n.texImage2D(t.TEXTURE_2D,0,se,K,L,fe);p(R)&&g(ue),Oe.__version=he.version,R.onUpdate&&R.onUpdate(R)}D.__version=R.version}function le(D,R,q){if(R.image.length!==6)return;const ue=ge(D,R),be=R.source;n.bindTexture(t.TEXTURE_CUBE_MAP,D.__webglTexture,t.TEXTURE0+q);const he=s.get(be);if(be.version!==he.__version||ue===!0){n.activeTexture(t.TEXTURE0+q);const Oe=Ct.getPrimaries(Ct.workingColorSpace),Pe=R.colorSpace===Lo?null:Ct.getPrimaries(R.colorSpace),Ne=R.colorSpace===Lo||Oe===Pe?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,R.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,R.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,R.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ne);const He=R.isCompressedTexture||R.image[0].isCompressedTexture,fe=R.image[0]&&R.image[0].isDataTexture,K=[];for(let Ae=0;Ae<6;Ae++)!He&&!fe?K[Ae]=_(R.image[Ae],!0,i.maxCubemapSize):K[Ae]=fe?R.image[Ae].image:R.image[Ae],K[Ae]=xe(R,K[Ae]);const L=K[0],se=r.convert(R.format,R.colorSpace),U=r.convert(R.type),W=b(R.internalFormat,se,U,R.colorSpace),X=R.isVideoTexture!==!0,ie=he.__version===void 0||ue===!0,H=be.dataReady;let ye=w(R,L);me(t.TEXTURE_CUBE_MAP,R);let pe;if(He){X&&ie&&n.texStorage2D(t.TEXTURE_CUBE_MAP,ye,W,L.width,L.height);for(let Ae=0;Ae<6;Ae++){pe=K[Ae].mipmaps;for(let Ue=0;Ue<pe.length;Ue++){const et=pe[Ue];R.format!==ii?se!==null?X?H&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,Ue,0,0,et.width,et.height,se,et.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,Ue,W,et.width,et.height,0,et.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):X?H&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,Ue,0,0,et.width,et.height,se,U,et.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,Ue,W,et.width,et.height,0,se,U,et.data)}}}else{if(pe=R.mipmaps,X&&ie){pe.length>0&&ye++;const Ae=Re(K[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,ye,W,Ae.width,Ae.height)}for(let Ae=0;Ae<6;Ae++)if(fe){X?H&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,0,0,0,K[Ae].width,K[Ae].height,se,U,K[Ae].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,0,W,K[Ae].width,K[Ae].height,0,se,U,K[Ae].data);for(let Ue=0;Ue<pe.length;Ue++){const Et=pe[Ue].image[Ae].image;X?H&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,Ue+1,0,0,Et.width,Et.height,se,U,Et.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,Ue+1,W,Et.width,Et.height,0,se,U,Et.data)}}else{X?H&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,0,0,0,se,U,K[Ae]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,0,W,se,U,K[Ae]);for(let Ue=0;Ue<pe.length;Ue++){const et=pe[Ue];X?H&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,Ue+1,0,0,se,U,et.image[Ae]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,Ue+1,W,se,U,et.image[Ae])}}}p(R)&&g(t.TEXTURE_CUBE_MAP),he.__version=be.version,R.onUpdate&&R.onUpdate(R)}D.__version=R.version}function _e(D,R,q,ue,be,he){const Oe=r.convert(q.format,q.colorSpace),Pe=r.convert(q.type),Ne=b(q.internalFormat,Oe,Pe,q.colorSpace);if(!s.get(R).__hasExternalTextures){const fe=Math.max(1,R.width>>he),K=Math.max(1,R.height>>he);be===t.TEXTURE_3D||be===t.TEXTURE_2D_ARRAY?n.texImage3D(be,he,Ne,fe,K,R.depth,0,Oe,Pe,null):n.texImage2D(be,he,Ne,fe,K,0,Oe,Pe,null)}n.bindFramebuffer(t.FRAMEBUFFER,D),ce(R)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,ue,be,s.get(q).__webglTexture,0,te(R)):(be===t.TEXTURE_2D||be>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&be<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,ue,be,s.get(q).__webglTexture,he),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Ie(D,R,q){if(t.bindRenderbuffer(t.RENDERBUFFER,D),R.depthBuffer){const ue=R.depthTexture,be=ue&&ue.isDepthTexture?ue.type:null,he=v(R.stencilBuffer,be),Oe=R.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Pe=te(R);ce(R)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Pe,he,R.width,R.height):q?t.renderbufferStorageMultisample(t.RENDERBUFFER,Pe,he,R.width,R.height):t.renderbufferStorage(t.RENDERBUFFER,he,R.width,R.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,Oe,t.RENDERBUFFER,D)}else{const ue=R.textures;for(let be=0;be<ue.length;be++){const he=ue[be],Oe=r.convert(he.format,he.colorSpace),Pe=r.convert(he.type),Ne=b(he.internalFormat,Oe,Pe,he.colorSpace),He=te(R);q&&ce(R)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,He,Ne,R.width,R.height):ce(R)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,He,Ne,R.width,R.height):t.renderbufferStorage(t.RENDERBUFFER,Ne,R.width,R.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function ne(D,R){if(R&&R.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,D),!(R.depthTexture&&R.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!s.get(R.depthTexture).__webglTexture||R.depthTexture.image.width!==R.width||R.depthTexture.image.height!==R.height)&&(R.depthTexture.image.width=R.width,R.depthTexture.image.height=R.height,R.depthTexture.needsUpdate=!0),O(R.depthTexture,0);const ue=s.get(R.depthTexture).__webglTexture,be=te(R);if(R.depthTexture.format===Oc)ce(R)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,ue,0,be):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,ue,0);else if(R.depthTexture.format===lu)ce(R)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,ue,0,be):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,ue,0);else throw new Error("Unknown depthTexture format")}function Me(D){const R=s.get(D),q=D.isWebGLCubeRenderTarget===!0;if(D.depthTexture&&!R.__autoAllocateDepthBuffer){if(q)throw new Error("target.depthTexture not supported in Cube render targets");ne(R.__webglFramebuffer,D)}else if(q){R.__webglDepthbuffer=[];for(let ue=0;ue<6;ue++)n.bindFramebuffer(t.FRAMEBUFFER,R.__webglFramebuffer[ue]),R.__webglDepthbuffer[ue]=t.createRenderbuffer(),Ie(R.__webglDepthbuffer[ue],D,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,R.__webglFramebuffer),R.__webglDepthbuffer=t.createRenderbuffer(),Ie(R.__webglDepthbuffer,D,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function Te(D,R,q){const ue=s.get(D);R!==void 0&&_e(ue.__webglFramebuffer,D,D.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),q!==void 0&&Me(D)}function ke(D){const R=D.texture,q=s.get(D),ue=s.get(R);D.addEventListener("dispose",x);const be=D.textures,he=D.isWebGLCubeRenderTarget===!0,Oe=be.length>1;if(Oe||(ue.__webglTexture===void 0&&(ue.__webglTexture=t.createTexture()),ue.__version=R.version,o.memory.textures++),he){q.__webglFramebuffer=[];for(let Pe=0;Pe<6;Pe++)if(R.mipmaps&&R.mipmaps.length>0){q.__webglFramebuffer[Pe]=[];for(let Ne=0;Ne<R.mipmaps.length;Ne++)q.__webglFramebuffer[Pe][Ne]=t.createFramebuffer()}else q.__webglFramebuffer[Pe]=t.createFramebuffer()}else{if(R.mipmaps&&R.mipmaps.length>0){q.__webglFramebuffer=[];for(let Pe=0;Pe<R.mipmaps.length;Pe++)q.__webglFramebuffer[Pe]=t.createFramebuffer()}else q.__webglFramebuffer=t.createFramebuffer();if(Oe)for(let Pe=0,Ne=be.length;Pe<Ne;Pe++){const He=s.get(be[Pe]);He.__webglTexture===void 0&&(He.__webglTexture=t.createTexture(),o.memory.textures++)}if(D.samples>0&&ce(D)===!1){q.__webglMultisampledFramebuffer=t.createFramebuffer(),q.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,q.__webglMultisampledFramebuffer);for(let Pe=0;Pe<be.length;Pe++){const Ne=be[Pe];q.__webglColorRenderbuffer[Pe]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,q.__webglColorRenderbuffer[Pe]);const He=r.convert(Ne.format,Ne.colorSpace),fe=r.convert(Ne.type),K=b(Ne.internalFormat,He,fe,Ne.colorSpace,D.isXRRenderTarget===!0),L=te(D);t.renderbufferStorageMultisample(t.RENDERBUFFER,L,K,D.width,D.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Pe,t.RENDERBUFFER,q.__webglColorRenderbuffer[Pe])}t.bindRenderbuffer(t.RENDERBUFFER,null),D.depthBuffer&&(q.__webglDepthRenderbuffer=t.createRenderbuffer(),Ie(q.__webglDepthRenderbuffer,D,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(he){n.bindTexture(t.TEXTURE_CUBE_MAP,ue.__webglTexture),me(t.TEXTURE_CUBE_MAP,R);for(let Pe=0;Pe<6;Pe++)if(R.mipmaps&&R.mipmaps.length>0)for(let Ne=0;Ne<R.mipmaps.length;Ne++)_e(q.__webglFramebuffer[Pe][Ne],D,R,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,Ne);else _e(q.__webglFramebuffer[Pe],D,R,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,0);p(R)&&g(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Oe){for(let Pe=0,Ne=be.length;Pe<Ne;Pe++){const He=be[Pe],fe=s.get(He);n.bindTexture(t.TEXTURE_2D,fe.__webglTexture),me(t.TEXTURE_2D,He),_e(q.__webglFramebuffer,D,He,t.COLOR_ATTACHMENT0+Pe,t.TEXTURE_2D,0),p(He)&&g(t.TEXTURE_2D)}n.unbindTexture()}else{let Pe=t.TEXTURE_2D;if((D.isWebGL3DRenderTarget||D.isWebGLArrayRenderTarget)&&(Pe=D.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Pe,ue.__webglTexture),me(Pe,R),R.mipmaps&&R.mipmaps.length>0)for(let Ne=0;Ne<R.mipmaps.length;Ne++)_e(q.__webglFramebuffer[Ne],D,R,t.COLOR_ATTACHMENT0,Pe,Ne);else _e(q.__webglFramebuffer,D,R,t.COLOR_ATTACHMENT0,Pe,0);p(R)&&g(Pe),n.unbindTexture()}D.depthBuffer&&Me(D)}function ze(D){const R=D.textures;for(let q=0,ue=R.length;q<ue;q++){const be=R[q];if(p(be)){const he=D.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Oe=s.get(be).__webglTexture;n.bindTexture(he,Oe),g(he),n.unbindTexture()}}}const V=[],B=[];function z(D){if(D.samples>0){if(ce(D)===!1){const R=D.textures,q=D.width,ue=D.height;let be=t.COLOR_BUFFER_BIT;const he=D.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Oe=s.get(D),Pe=R.length>1;if(Pe)for(let Ne=0;Ne<R.length;Ne++)n.bindFramebuffer(t.FRAMEBUFFER,Oe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ne,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Oe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ne,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Oe.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Oe.__webglFramebuffer);for(let Ne=0;Ne<R.length;Ne++){if(D.resolveDepthBuffer&&(D.depthBuffer&&(be|=t.DEPTH_BUFFER_BIT),D.stencilBuffer&&D.resolveStencilBuffer&&(be|=t.STENCIL_BUFFER_BIT)),Pe){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Oe.__webglColorRenderbuffer[Ne]);const He=s.get(R[Ne]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,He,0)}t.blitFramebuffer(0,0,q,ue,0,0,q,ue,be,t.NEAREST),l===!0&&(V.length=0,B.length=0,V.push(t.COLOR_ATTACHMENT0+Ne),D.depthBuffer&&D.resolveDepthBuffer===!1&&(V.push(he),B.push(he),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,B)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,V))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Pe)for(let Ne=0;Ne<R.length;Ne++){n.bindFramebuffer(t.FRAMEBUFFER,Oe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ne,t.RENDERBUFFER,Oe.__webglColorRenderbuffer[Ne]);const He=s.get(R[Ne]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Oe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ne,t.TEXTURE_2D,He,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Oe.__webglMultisampledFramebuffer)}else if(D.depthBuffer&&D.resolveDepthBuffer===!1&&l){const R=D.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[R])}}}function te(D){return Math.min(i.maxSamples,D.samples)}function ce(D){const R=s.get(D);return D.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&R.__useRenderToTexture!==!1}function ve(D){const R=o.render.frame;u.get(D)!==R&&(u.set(D,R),D.update())}function xe(D,R){const q=D.colorSpace,ue=D.format,be=D.type;return D.isCompressedTexture===!0||D.isVideoTexture===!0||q!==zn&&q!==Lo&&(Ct.getTransfer(q)===Kt?(ue!==ii||be!==jr)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",q)),R}function Re(D){return typeof HTMLImageElement<"u"&&D instanceof HTMLImageElement?(c.width=D.naturalWidth||D.width,c.height=D.naturalHeight||D.height):typeof VideoFrame<"u"&&D instanceof VideoFrame?(c.width=D.displayWidth,c.height=D.displayHeight):(c.width=D.width,c.height=D.height),c}this.allocateTextureUnit=N,this.resetTextureUnits=C,this.setTexture2D=O,this.setTexture2DArray=P,this.setTexture3D=k,this.setTextureCube=F,this.rebindTextures=Te,this.setupRenderTarget=ke,this.updateRenderTargetMipmap=ze,this.updateMultisampleRenderTarget=z,this.setupDepthRenderbuffer=Me,this.setupFrameBufferTexture=_e,this.useMultisampledRTT=ce}function qK(t,e){function n(s,i=Lo){let r;const o=Ct.getTransfer(i);if(s===jr)return t.UNSIGNED_BYTE;if(s===Jv)return t.UNSIGNED_SHORT_4_4_4_4;if(s===Qv)return t.UNSIGNED_SHORT_5_5_5_1;if(s===J5)return t.UNSIGNED_INT_5_9_9_9_REV;if(s===Y5)return t.BYTE;if(s===Z5)return t.SHORT;if(s===yf)return t.UNSIGNED_SHORT;if(s===Zv)return t.INT;if(s===ul)return t.UNSIGNED_INT;if(s===Ci)return t.FLOAT;if(s===Vf)return t.HALF_FLOAT;if(s===Q5)return t.ALPHA;if(s===eC)return t.RGB;if(s===ii)return t.RGBA;if(s===tC)return t.LUMINANCE;if(s===nC)return t.LUMINANCE_ALPHA;if(s===Oc)return t.DEPTH_COMPONENT;if(s===lu)return t.DEPTH_STENCIL;if(s===ew)return t.RED;if(s===tw)return t.RED_INTEGER;if(s===sC)return t.RG;if(s===nw)return t.RG_INTEGER;if(s===sw)return t.RGBA_INTEGER;if(s===zp||s===Vp||s===jp||s===Wp)if(o===Kt)if(r=e.get("WEBGL_compressed_texture_s3tc_srgb"),r!==null){if(s===zp)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Vp)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===jp)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Wp)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(r=e.get("WEBGL_compressed_texture_s3tc"),r!==null){if(s===zp)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Vp)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===jp)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Wp)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===J1||s===Q1||s===ey||s===ty)if(r=e.get("WEBGL_compressed_texture_pvrtc"),r!==null){if(s===J1)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===Q1)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===ey)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===ty)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===ny||s===sy||s===iy)if(r=e.get("WEBGL_compressed_texture_etc"),r!==null){if(s===ny||s===sy)return o===Kt?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(s===iy)return o===Kt?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===ry||s===oy||s===ay||s===ly||s===cy||s===uy||s===dy||s===fy||s===hy||s===py||s===my||s===gy||s===_y||s===yy)if(r=e.get("WEBGL_compressed_texture_astc"),r!==null){if(s===ry)return o===Kt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===oy)return o===Kt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===ay)return o===Kt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===ly)return o===Kt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===cy)return o===Kt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===uy)return o===Kt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===dy)return o===Kt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===fy)return o===Kt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===hy)return o===Kt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===py)return o===Kt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===my)return o===Kt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===gy)return o===Kt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===_y)return o===Kt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===yy)return o===Kt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===qp||s===by||s===vy)if(r=e.get("EXT_texture_compression_bptc"),r!==null){if(s===qp)return o===Kt?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===by)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===vy)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===iC||s===wy||s===xy||s===Ey)if(r=e.get("EXT_texture_compression_rgtc"),r!==null){if(s===qp)return r.COMPRESSED_RED_RGTC1_EXT;if(s===wy)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===xy)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===Ey)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===au?t.UNSIGNED_INT_24_8:t[s]!==void 0?t[s]:null}return{convert:n}}class XK extends Yn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class qa extends nn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const KK={type:"move"};class p0{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new qa,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new qa,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ae,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ae),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new qa,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ae,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ae),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const s of e.hand.values())this._getHandJoint(n,s)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,s){let i=null,r=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const _ of e.hand.values()){const p=n.getJointPose(_,s),g=this._getHandJoint(c,_);p!==null&&(g.matrix.fromArray(p.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=p.radius),g.visible=p!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],f=u.position.distanceTo(d.position),h=.02,y=.005;c.inputState.pinching&&f>h+y?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=h-y&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(r=n.getPose(e.gripSpace,s),r!==null&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,s),i===null&&r!==null&&(i=r),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(KK)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=r!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const s=new qa;s.matrixAutoUpdate=!1,s.visible=!1,e.joints[n.jointName]=s,e.add(s)}return e.joints[n.jointName]}}const YK=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,ZK=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class JK{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,s){if(this.texture===null){const i=new $n,r=e.properties.get(i);r.__webglTexture=n.texture,(n.depthNear!=s.depthNear||n.depthFar!=s.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,s=new Qo({vertexShader:YK,fragmentShader:ZK,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new Es(new Vg(20,20),s)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class QK extends Ou{constructor(e,n){super();const s=this;let i=null,r=1,o=null,a="local-floor",l=1,c=null,u=null,d=null,f=null,h=null,y=null;const _=new JK,p=n.getContextAttributes();let g=null,b=null;const v=[],w=[],A=new xt;let x=null;const T=new Yn;T.layers.enable(1),T.viewport=new Ft;const M=new Yn;M.layers.enable(2),M.viewport=new Ft;const E=[T,M],S=new XK;S.layers.enable(1),S.layers.enable(2);let C=null,N=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(le){let _e=v[le];return _e===void 0&&(_e=new p0,v[le]=_e),_e.getTargetRaySpace()},this.getControllerGrip=function(le){let _e=v[le];return _e===void 0&&(_e=new p0,v[le]=_e),_e.getGripSpace()},this.getHand=function(le){let _e=v[le];return _e===void 0&&(_e=new p0,v[le]=_e),_e.getHandSpace()};function G(le){const _e=w.indexOf(le.inputSource);if(_e===-1)return;const Ie=v[_e];Ie!==void 0&&(Ie.update(le.inputSource,le.frame,c||o),Ie.dispatchEvent({type:le.type,data:le.inputSource}))}function O(){i.removeEventListener("select",G),i.removeEventListener("selectstart",G),i.removeEventListener("selectend",G),i.removeEventListener("squeeze",G),i.removeEventListener("squeezestart",G),i.removeEventListener("squeezeend",G),i.removeEventListener("end",O),i.removeEventListener("inputsourceschange",P);for(let le=0;le<v.length;le++){const _e=w[le];_e!==null&&(w[le]=null,v[le].disconnect(_e))}C=null,N=null,_.reset(),e.setRenderTarget(g),h=null,f=null,d=null,i=null,b=null,Ce.stop(),s.isPresenting=!1,e.setPixelRatio(x),e.setSize(A.width,A.height,!1),s.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(le){r=le,s.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(le){a=le,s.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(le){c=le},this.getBaseLayer=function(){return f!==null?f:h},this.getBinding=function(){return d},this.getFrame=function(){return y},this.getSession=function(){return i},this.setSession=async function(le){if(i=le,i!==null){if(g=e.getRenderTarget(),i.addEventListener("select",G),i.addEventListener("selectstart",G),i.addEventListener("selectend",G),i.addEventListener("squeeze",G),i.addEventListener("squeezestart",G),i.addEventListener("squeezeend",G),i.addEventListener("end",O),i.addEventListener("inputsourceschange",P),p.xrCompatible!==!0&&await n.makeXRCompatible(),x=e.getPixelRatio(),e.getSize(A),i.renderState.layers===void 0){const _e={antialias:p.antialias,alpha:!0,depth:p.depth,stencil:p.stencil,framebufferScaleFactor:r};h=new XRWebGLLayer(i,n,_e),i.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),b=new dl(h.framebufferWidth,h.framebufferHeight,{format:ii,type:jr,colorSpace:e.outputColorSpace,stencilBuffer:p.stencil})}else{let _e=null,Ie=null,ne=null;p.depth&&(ne=p.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,_e=p.stencil?lu:Oc,Ie=p.stencil?au:ul);const Me={colorFormat:n.RGBA8,depthFormat:ne,scaleFactor:r};d=new XRWebGLBinding(i,n),f=d.createProjectionLayer(Me),i.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),b=new dl(f.textureWidth,f.textureHeight,{format:ii,type:jr,depthTexture:new bC(f.textureWidth,f.textureHeight,Ie,void 0,void 0,void 0,void 0,void 0,void 0,_e),stencilBuffer:p.stencil,colorSpace:e.outputColorSpace,samples:p.antialias?4:0,resolveDepthBuffer:f.ignoreDepthValues===!1})}b.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(a),Ce.setContext(i),Ce.start(),s.isPresenting=!0,s.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return _.getDepthTexture()};function P(le){for(let _e=0;_e<le.removed.length;_e++){const Ie=le.removed[_e],ne=w.indexOf(Ie);ne>=0&&(w[ne]=null,v[ne].disconnect(Ie))}for(let _e=0;_e<le.added.length;_e++){const Ie=le.added[_e];let ne=w.indexOf(Ie);if(ne===-1){for(let Te=0;Te<v.length;Te++)if(Te>=w.length){w.push(Ie),ne=Te;break}else if(w[Te]===null){w[Te]=Ie,ne=Te;break}if(ne===-1)break}const Me=v[ne];Me&&Me.connect(Ie)}}const k=new ae,F=new ae;function I(le,_e,Ie){k.setFromMatrixPosition(_e.matrixWorld),F.setFromMatrixPosition(Ie.matrixWorld);const ne=k.distanceTo(F),Me=_e.projectionMatrix.elements,Te=Ie.projectionMatrix.elements,ke=Me[14]/(Me[10]-1),ze=Me[14]/(Me[10]+1),V=(Me[9]+1)/Me[5],B=(Me[9]-1)/Me[5],z=(Me[8]-1)/Me[0],te=(Te[8]+1)/Te[0],ce=ke*z,ve=ke*te,xe=ne/(-z+te),Re=xe*-z;_e.matrixWorld.decompose(le.position,le.quaternion,le.scale),le.translateX(Re),le.translateZ(xe),le.matrixWorld.compose(le.position,le.quaternion,le.scale),le.matrixWorldInverse.copy(le.matrixWorld).invert();const D=ke+xe,R=ze+xe,q=ce-Re,ue=ve+(ne-Re),be=V*ze/R*D,he=B*ze/R*D;le.projectionMatrix.makePerspective(q,ue,be,he,D,R),le.projectionMatrixInverse.copy(le.projectionMatrix).invert()}function ee(le,_e){_e===null?le.matrixWorld.copy(le.matrix):le.matrixWorld.multiplyMatrices(_e.matrixWorld,le.matrix),le.matrixWorldInverse.copy(le.matrixWorld).invert()}this.updateCamera=function(le){if(i===null)return;_.texture!==null&&(le.near=_.depthNear,le.far=_.depthFar),S.near=M.near=T.near=le.near,S.far=M.far=T.far=le.far,(C!==S.near||N!==S.far)&&(i.updateRenderState({depthNear:S.near,depthFar:S.far}),C=S.near,N=S.far,T.near=C,T.far=N,M.near=C,M.far=N,T.updateProjectionMatrix(),M.updateProjectionMatrix(),le.updateProjectionMatrix());const _e=le.parent,Ie=S.cameras;ee(S,_e);for(let ne=0;ne<Ie.length;ne++)ee(Ie[ne],_e);Ie.length===2?I(S,T,M):S.projectionMatrix.copy(T.projectionMatrix),Y(le,S,_e)};function Y(le,_e,Ie){Ie===null?le.matrix.copy(_e.matrixWorld):(le.matrix.copy(Ie.matrixWorld),le.matrix.invert(),le.matrix.multiply(_e.matrixWorld)),le.matrix.decompose(le.position,le.quaternion,le.scale),le.updateMatrixWorld(!0),le.projectionMatrix.copy(_e.projectionMatrix),le.projectionMatrixInverse.copy(_e.projectionMatrixInverse),le.isPerspectiveCamera&&(le.fov=cu*2*Math.atan(1/le.projectionMatrix.elements[5]),le.zoom=1)}this.getCamera=function(){return S},this.getFoveation=function(){if(!(f===null&&h===null))return l},this.setFoveation=function(le){l=le,f!==null&&(f.fixedFoveation=le),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=le)},this.hasDepthSensing=function(){return _.texture!==null},this.getDepthSensingMesh=function(){return _.getMesh(S)};let me=null;function ge(le,_e){if(u=_e.getViewerPose(c||o),y=_e,u!==null){const Ie=u.views;h!==null&&(e.setRenderTargetFramebuffer(b,h.framebuffer),e.setRenderTarget(b));let ne=!1;Ie.length!==S.cameras.length&&(S.cameras.length=0,ne=!0);for(let Te=0;Te<Ie.length;Te++){const ke=Ie[Te];let ze=null;if(h!==null)ze=h.getViewport(ke);else{const B=d.getViewSubImage(f,ke);ze=B.viewport,Te===0&&(e.setRenderTargetTextures(b,B.colorTexture,f.ignoreDepthValues?void 0:B.depthStencilTexture),e.setRenderTarget(b))}let V=E[Te];V===void 0&&(V=new Yn,V.layers.enable(Te),V.viewport=new Ft,E[Te]=V),V.matrix.fromArray(ke.transform.matrix),V.matrix.decompose(V.position,V.quaternion,V.scale),V.projectionMatrix.fromArray(ke.projectionMatrix),V.projectionMatrixInverse.copy(V.projectionMatrix).invert(),V.viewport.set(ze.x,ze.y,ze.width,ze.height),Te===0&&(S.matrix.copy(V.matrix),S.matrix.decompose(S.position,S.quaternion,S.scale)),ne===!0&&S.cameras.push(V)}const Me=i.enabledFeatures;if(Me&&Me.includes("depth-sensing")){const Te=d.getDepthInformation(Ie[0]);Te&&Te.isValid&&Te.texture&&_.init(e,Te,i.renderState)}}for(let Ie=0;Ie<v.length;Ie++){const ne=w[Ie],Me=v[Ie];ne!==null&&Me!==void 0&&Me.update(ne,_e,c||o)}me&&me(le,_e),_e.detectedPlanes&&s.dispatchEvent({type:"planesdetected",data:_e}),y=null}const Ce=new yC;Ce.setAnimationLoop(ge),this.setAnimationLoop=function(le){me=le},this.dispose=function(){}}}const wa=new ir,eY=new yt;function tY(t,e){function n(p,g){p.matrixAutoUpdate===!0&&p.updateMatrix(),g.value.copy(p.matrix)}function s(p,g){g.color.getRGB(p.fogColor.value,mC(t)),g.isFog?(p.fogNear.value=g.near,p.fogFar.value=g.far):g.isFogExp2&&(p.fogDensity.value=g.density)}function i(p,g,b,v,w){g.isMeshBasicMaterial||g.isMeshLambertMaterial?r(p,g):g.isMeshToonMaterial?(r(p,g),d(p,g)):g.isMeshPhongMaterial?(r(p,g),u(p,g)):g.isMeshStandardMaterial?(r(p,g),f(p,g),g.isMeshPhysicalMaterial&&h(p,g,w)):g.isMeshMatcapMaterial?(r(p,g),y(p,g)):g.isMeshDepthMaterial?r(p,g):g.isMeshDistanceMaterial?(r(p,g),_(p,g)):g.isMeshNormalMaterial?r(p,g):g.isLineBasicMaterial?(o(p,g),g.isLineDashedMaterial&&a(p,g)):g.isPointsMaterial?l(p,g,b,v):g.isSpriteMaterial?c(p,g):g.isShadowMaterial?(p.color.value.copy(g.color),p.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function r(p,g){p.opacity.value=g.opacity,g.color&&p.diffuse.value.copy(g.color),g.emissive&&p.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(p.map.value=g.map,n(g.map,p.mapTransform)),g.alphaMap&&(p.alphaMap.value=g.alphaMap,n(g.alphaMap,p.alphaMapTransform)),g.bumpMap&&(p.bumpMap.value=g.bumpMap,n(g.bumpMap,p.bumpMapTransform),p.bumpScale.value=g.bumpScale,g.side===Ts&&(p.bumpScale.value*=-1)),g.normalMap&&(p.normalMap.value=g.normalMap,n(g.normalMap,p.normalMapTransform),p.normalScale.value.copy(g.normalScale),g.side===Ts&&p.normalScale.value.negate()),g.displacementMap&&(p.displacementMap.value=g.displacementMap,n(g.displacementMap,p.displacementMapTransform),p.displacementScale.value=g.displacementScale,p.displacementBias.value=g.displacementBias),g.emissiveMap&&(p.emissiveMap.value=g.emissiveMap,n(g.emissiveMap,p.emissiveMapTransform)),g.specularMap&&(p.specularMap.value=g.specularMap,n(g.specularMap,p.specularMapTransform)),g.alphaTest>0&&(p.alphaTest.value=g.alphaTest);const b=e.get(g),v=b.envMap,w=b.envMapRotation;v&&(p.envMap.value=v,wa.copy(w),wa.x*=-1,wa.y*=-1,wa.z*=-1,v.isCubeTexture&&v.isRenderTargetTexture===!1&&(wa.y*=-1,wa.z*=-1),p.envMapRotation.value.setFromMatrix4(eY.makeRotationFromEuler(wa)),p.flipEnvMap.value=v.isCubeTexture&&v.isRenderTargetTexture===!1?-1:1,p.reflectivity.value=g.reflectivity,p.ior.value=g.ior,p.refractionRatio.value=g.refractionRatio),g.lightMap&&(p.lightMap.value=g.lightMap,p.lightMapIntensity.value=g.lightMapIntensity,n(g.lightMap,p.lightMapTransform)),g.aoMap&&(p.aoMap.value=g.aoMap,p.aoMapIntensity.value=g.aoMapIntensity,n(g.aoMap,p.aoMapTransform))}function o(p,g){p.diffuse.value.copy(g.color),p.opacity.value=g.opacity,g.map&&(p.map.value=g.map,n(g.map,p.mapTransform))}function a(p,g){p.dashSize.value=g.dashSize,p.totalSize.value=g.dashSize+g.gapSize,p.scale.value=g.scale}function l(p,g,b,v){p.diffuse.value.copy(g.color),p.opacity.value=g.opacity,p.size.value=g.size*b,p.scale.value=v*.5,g.map&&(p.map.value=g.map,n(g.map,p.uvTransform)),g.alphaMap&&(p.alphaMap.value=g.alphaMap,n(g.alphaMap,p.alphaMapTransform)),g.alphaTest>0&&(p.alphaTest.value=g.alphaTest)}function c(p,g){p.diffuse.value.copy(g.color),p.opacity.value=g.opacity,p.rotation.value=g.rotation,g.map&&(p.map.value=g.map,n(g.map,p.mapTransform)),g.alphaMap&&(p.alphaMap.value=g.alphaMap,n(g.alphaMap,p.alphaMapTransform)),g.alphaTest>0&&(p.alphaTest.value=g.alphaTest)}function u(p,g){p.specular.value.copy(g.specular),p.shininess.value=Math.max(g.shininess,1e-4)}function d(p,g){g.gradientMap&&(p.gradientMap.value=g.gradientMap)}function f(p,g){p.metalness.value=g.metalness,g.metalnessMap&&(p.metalnessMap.value=g.metalnessMap,n(g.metalnessMap,p.metalnessMapTransform)),p.roughness.value=g.roughness,g.roughnessMap&&(p.roughnessMap.value=g.roughnessMap,n(g.roughnessMap,p.roughnessMapTransform)),g.envMap&&(p.envMapIntensity.value=g.envMapIntensity)}function h(p,g,b){p.ior.value=g.ior,g.sheen>0&&(p.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),p.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(p.sheenColorMap.value=g.sheenColorMap,n(g.sheenColorMap,p.sheenColorMapTransform)),g.sheenRoughnessMap&&(p.sheenRoughnessMap.value=g.sheenRoughnessMap,n(g.sheenRoughnessMap,p.sheenRoughnessMapTransform))),g.clearcoat>0&&(p.clearcoat.value=g.clearcoat,p.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(p.clearcoatMap.value=g.clearcoatMap,n(g.clearcoatMap,p.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(p.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,n(g.clearcoatRoughnessMap,p.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(p.clearcoatNormalMap.value=g.clearcoatNormalMap,n(g.clearcoatNormalMap,p.clearcoatNormalMapTransform),p.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===Ts&&p.clearcoatNormalScale.value.negate())),g.dispersion>0&&(p.dispersion.value=g.dispersion),g.iridescence>0&&(p.iridescence.value=g.iridescence,p.iridescenceIOR.value=g.iridescenceIOR,p.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],p.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(p.iridescenceMap.value=g.iridescenceMap,n(g.iridescenceMap,p.iridescenceMapTransform)),g.iridescenceThicknessMap&&(p.iridescenceThicknessMap.value=g.iridescenceThicknessMap,n(g.iridescenceThicknessMap,p.iridescenceThicknessMapTransform))),g.transmission>0&&(p.transmission.value=g.transmission,p.transmissionSamplerMap.value=b.texture,p.transmissionSamplerSize.value.set(b.width,b.height),g.transmissionMap&&(p.transmissionMap.value=g.transmissionMap,n(g.transmissionMap,p.transmissionMapTransform)),p.thickness.value=g.thickness,g.thicknessMap&&(p.thicknessMap.value=g.thicknessMap,n(g.thicknessMap,p.thicknessMapTransform)),p.attenuationDistance.value=g.attenuationDistance,p.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(p.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(p.anisotropyMap.value=g.anisotropyMap,n(g.anisotropyMap,p.anisotropyMapTransform))),p.specularIntensity.value=g.specularIntensity,p.specularColor.value.copy(g.specularColor),g.specularColorMap&&(p.specularColorMap.value=g.specularColorMap,n(g.specularColorMap,p.specularColorMapTransform)),g.specularIntensityMap&&(p.specularIntensityMap.value=g.specularIntensityMap,n(g.specularIntensityMap,p.specularIntensityMapTransform))}function y(p,g){g.matcap&&(p.matcap.value=g.matcap)}function _(p,g){const b=e.get(g).light;p.referencePosition.value.setFromMatrixPosition(b.matrixWorld),p.nearDistance.value=b.shadow.camera.near,p.farDistance.value=b.shadow.camera.far}return{refreshFogUniforms:s,refreshMaterialUniforms:i}}function nY(t,e,n,s){let i={},r={},o=[];const a=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(b,v){const w=v.program;s.uniformBlockBinding(b,w)}function c(b,v){let w=i[b.id];w===void 0&&(y(b),w=u(b),i[b.id]=w,b.addEventListener("dispose",p));const A=v.program;s.updateUBOMapping(b,A);const x=e.render.frame;r[b.id]!==x&&(f(b),r[b.id]=x)}function u(b){const v=d();b.__bindingPointIndex=v;const w=t.createBuffer(),A=b.__size,x=b.usage;return t.bindBuffer(t.UNIFORM_BUFFER,w),t.bufferData(t.UNIFORM_BUFFER,A,x),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,v,w),w}function d(){for(let b=0;b<a;b++)if(o.indexOf(b)===-1)return o.push(b),b;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(b){const v=i[b.id],w=b.uniforms,A=b.__cache;t.bindBuffer(t.UNIFORM_BUFFER,v);for(let x=0,T=w.length;x<T;x++){const M=Array.isArray(w[x])?w[x]:[w[x]];for(let E=0,S=M.length;E<S;E++){const C=M[E];if(h(C,x,E,A)===!0){const N=C.__offset,G=Array.isArray(C.value)?C.value:[C.value];let O=0;for(let P=0;P<G.length;P++){const k=G[P],F=_(k);typeof k=="number"||typeof k=="boolean"?(C.__data[0]=k,t.bufferSubData(t.UNIFORM_BUFFER,N+O,C.__data)):k.isMatrix3?(C.__data[0]=k.elements[0],C.__data[1]=k.elements[1],C.__data[2]=k.elements[2],C.__data[3]=0,C.__data[4]=k.elements[3],C.__data[5]=k.elements[4],C.__data[6]=k.elements[5],C.__data[7]=0,C.__data[8]=k.elements[6],C.__data[9]=k.elements[7],C.__data[10]=k.elements[8],C.__data[11]=0):(k.toArray(C.__data,O),O+=F.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,N,C.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function h(b,v,w,A){const x=b.value,T=v+"_"+w;if(A[T]===void 0)return typeof x=="number"||typeof x=="boolean"?A[T]=x:A[T]=x.clone(),!0;{const M=A[T];if(typeof x=="number"||typeof x=="boolean"){if(M!==x)return A[T]=x,!0}else if(M.equals(x)===!1)return M.copy(x),!0}return!1}function y(b){const v=b.uniforms;let w=0;const A=16;for(let T=0,M=v.length;T<M;T++){const E=Array.isArray(v[T])?v[T]:[v[T]];for(let S=0,C=E.length;S<C;S++){const N=E[S],G=Array.isArray(N.value)?N.value:[N.value];for(let O=0,P=G.length;O<P;O++){const k=G[O],F=_(k),I=w%A,ee=I%F.boundary,Y=I+ee;w+=ee,Y!==0&&A-Y<F.storage&&(w+=A-Y),N.__data=new Float32Array(F.storage/Float32Array.BYTES_PER_ELEMENT),N.__offset=w,w+=F.storage}}}const x=w%A;return x>0&&(w+=A-x),b.__size=w,b.__cache={},this}function _(b){const v={boundary:0,storage:0};return typeof b=="number"||typeof b=="boolean"?(v.boundary=4,v.storage=4):b.isVector2?(v.boundary=8,v.storage=8):b.isVector3||b.isColor?(v.boundary=16,v.storage=12):b.isVector4?(v.boundary=16,v.storage=16):b.isMatrix3?(v.boundary=48,v.storage=48):b.isMatrix4?(v.boundary=64,v.storage=64):b.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",b),v}function p(b){const v=b.target;v.removeEventListener("dispose",p);const w=o.indexOf(v.__bindingPointIndex);o.splice(w,1),t.deleteBuffer(i[v.id]),delete i[v.id],delete r[v.id]}function g(){for(const b in i)t.deleteBuffer(i[b]);o=[],i={},r={}}return{bind:l,update:c,dispose:g}}class wS{constructor(e={}){const{canvas:n=qV(),context:s=null,depth:i=!0,stencil:r=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1}=e;this.isWebGLRenderer=!0;let f;if(s!==null){if(typeof WebGLRenderingContext<"u"&&s instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");f=s.getContextAttributes().alpha}else f=o;const h=new Uint32Array(4),y=new Int32Array(4);let _=null,p=null;const g=[],b=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=as,this.toneMapping=qo,this.toneMappingExposure=1;const v=this;let w=!1,A=0,x=0,T=null,M=-1,E=null;const S=new Ft,C=new Ft;let N=null;const G=new pt(0);let O=0,P=n.width,k=n.height,F=1,I=null,ee=null;const Y=new Ft(0,0,P,k),me=new Ft(0,0,P,k);let ge=!1;const Ce=new ow;let le=!1,_e=!1;const Ie=new yt,ne=new ae,Me=new Ft,Te={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ke=!1;function ze(){return T===null?F:1}let V=s;function B($,oe){return n.getContext($,oe)}try{const $={alpha:!0,depth:i,stencil:r,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${Yv}`),n.addEventListener("webglcontextlost",pe,!1),n.addEventListener("webglcontextrestored",Ae,!1),n.addEventListener("webglcontextcreationerror",Ue,!1),V===null){const oe="webgl2";if(V=B(oe,$),V===null)throw B(oe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch($){throw console.error("THREE.WebGLRenderer: "+$.message),$}let z,te,ce,ve,xe,Re,D,R,q,ue,be,he,Oe,Pe,Ne,He,fe,K,L,se,U,W,X,ie;function H(){z=new cX(V),z.init(),W=new qK(V,z),te=new sX(V,z,e,W),ce=new VK(V),ve=new fX(V),xe=new kK,Re=new WK(V,z,ce,xe,te,W,ve),D=new rX(v),R=new lX(v),q=new bj(V),X=new tX(V,q),ue=new uX(V,q,ve,X),be=new pX(V,ue,q,ve),L=new hX(V,te,Re),He=new iX(xe),he=new CK(v,D,R,z,te,X,He),Oe=new tY(v,xe),Pe=new IK,Ne=new $K(z),K=new eX(v,D,R,ce,be,f,l),fe=new zK(v,be,te),ie=new nY(V,ve,te,ce),se=new nX(V,z,ve),U=new dX(V,z,ve),ve.programs=he.programs,v.capabilities=te,v.extensions=z,v.properties=xe,v.renderLists=Pe,v.shadowMap=fe,v.state=ce,v.info=ve}H();const ye=new QK(v,V);this.xr=ye,this.getContext=function(){return V},this.getContextAttributes=function(){return V.getContextAttributes()},this.forceContextLoss=function(){const $=z.get("WEBGL_lose_context");$&&$.loseContext()},this.forceContextRestore=function(){const $=z.get("WEBGL_lose_context");$&&$.restoreContext()},this.getPixelRatio=function(){return F},this.setPixelRatio=function($){$!==void 0&&(F=$,this.setSize(P,k,!1))},this.getSize=function($){return $.set(P,k)},this.setSize=function($,oe,Ee=!0){if(ye.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}P=$,k=oe,n.width=Math.floor($*F),n.height=Math.floor(oe*F),Ee===!0&&(n.style.width=$+"px",n.style.height=oe+"px"),this.setViewport(0,0,$,oe)},this.getDrawingBufferSize=function($){return $.set(P*F,k*F).floor()},this.setDrawingBufferSize=function($,oe,Ee){P=$,k=oe,F=Ee,n.width=Math.floor($*Ee),n.height=Math.floor(oe*Ee),this.setViewport(0,0,$,oe)},this.getCurrentViewport=function($){return $.copy(S)},this.getViewport=function($){return $.copy(Y)},this.setViewport=function($,oe,Ee,Se){$.isVector4?Y.set($.x,$.y,$.z,$.w):Y.set($,oe,Ee,Se),ce.viewport(S.copy(Y).multiplyScalar(F).round())},this.getScissor=function($){return $.copy(me)},this.setScissor=function($,oe,Ee,Se){$.isVector4?me.set($.x,$.y,$.z,$.w):me.set($,oe,Ee,Se),ce.scissor(C.copy(me).multiplyScalar(F).round())},this.getScissorTest=function(){return ge},this.setScissorTest=function($){ce.setScissorTest(ge=$)},this.setOpaqueSort=function($){I=$},this.setTransparentSort=function($){ee=$},this.getClearColor=function($){return $.copy(K.getClearColor())},this.setClearColor=function(){K.setClearColor.apply(K,arguments)},this.getClearAlpha=function(){return K.getClearAlpha()},this.setClearAlpha=function(){K.setClearAlpha.apply(K,arguments)},this.clear=function($=!0,oe=!0,Ee=!0){let Se=0;if($){let de=!1;if(T!==null){const $e=T.texture.format;de=$e===sw||$e===nw||$e===tw}if(de){const $e=T.texture.type,je=$e===jr||$e===ul||$e===yf||$e===au||$e===Jv||$e===Qv,Ke=K.getClearColor(),Ye=K.getClearAlpha(),at=Ke.r,lt=Ke.g,rt=Ke.b;je?(h[0]=at,h[1]=lt,h[2]=rt,h[3]=Ye,V.clearBufferuiv(V.COLOR,0,h)):(y[0]=at,y[1]=lt,y[2]=rt,y[3]=Ye,V.clearBufferiv(V.COLOR,0,y))}else Se|=V.COLOR_BUFFER_BIT}oe&&(Se|=V.DEPTH_BUFFER_BIT),Ee&&(Se|=V.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),V.clear(Se)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",pe,!1),n.removeEventListener("webglcontextrestored",Ae,!1),n.removeEventListener("webglcontextcreationerror",Ue,!1),Pe.dispose(),Ne.dispose(),xe.dispose(),D.dispose(),R.dispose(),be.dispose(),X.dispose(),ie.dispose(),he.dispose(),ye.dispose(),ye.removeEventListener("sessionstart",Ni),ye.removeEventListener("sessionend",yx),fa.stop()};function pe($){$.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),w=!0}function Ae(){console.log("THREE.WebGLRenderer: Context Restored."),w=!1;const $=ve.autoReset,oe=fe.enabled,Ee=fe.autoUpdate,Se=fe.needsUpdate,de=fe.type;H(),ve.autoReset=$,fe.enabled=oe,fe.autoUpdate=Ee,fe.needsUpdate=Se,fe.type=de}function Ue($){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",$.statusMessage)}function et($){const oe=$.target;oe.removeEventListener("dispose",et),Et(oe)}function Et($){on($),xe.remove($)}function on($){const oe=xe.get($).programs;oe!==void 0&&(oe.forEach(function(Ee){he.releaseProgram(Ee)}),$.isShaderMaterial&&he.releaseShaderCache($))}this.renderBufferDirect=function($,oe,Ee,Se,de,$e){oe===null&&(oe=Te);const je=de.isMesh&&de.matrixWorld.determinant()<0,Ke=zI($,oe,Ee,Se,de);ce.setMaterial(Se,je);let Ye=Ee.index,at=1;if(Se.wireframe===!0){if(Ye=ue.getWireframeAttribute(Ee),Ye===void 0)return;at=2}const lt=Ee.drawRange,rt=Ee.attributes.position;let It=lt.start*at,cn=(lt.start+lt.count)*at;$e!==null&&(It=Math.max(It,$e.start*at),cn=Math.min(cn,($e.start+$e.count)*at)),Ye!==null?(It=Math.max(It,0),cn=Math.min(cn,Ye.count)):rt!=null&&(It=Math.max(It,0),cn=Math.min(cn,rt.count));const un=cn-It;if(un<0||un===1/0)return;X.setup(de,Se,Ke,Ee,Ye);let Rs,Ot=se;if(Ye!==null&&(Rs=q.get(Ye),Ot=U,Ot.setIndex(Rs)),de.isMesh)Se.wireframe===!0?(ce.setLineWidth(Se.wireframeLinewidth*ze()),Ot.setMode(V.LINES)):Ot.setMode(V.TRIANGLES);else if(de.isLine){let Je=Se.linewidth;Je===void 0&&(Je=1),ce.setLineWidth(Je*ze()),de.isLineSegments?Ot.setMode(V.LINES):de.isLineLoop?Ot.setMode(V.LINE_LOOP):Ot.setMode(V.LINE_STRIP)}else de.isPoints?Ot.setMode(V.POINTS):de.isSprite&&Ot.setMode(V.TRIANGLES);if(de.isBatchedMesh)if(de._multiDrawInstances!==null)Ot.renderMultiDrawInstances(de._multiDrawStarts,de._multiDrawCounts,de._multiDrawCount,de._multiDrawInstances);else if(z.get("WEBGL_multi_draw"))Ot.renderMultiDraw(de._multiDrawStarts,de._multiDrawCounts,de._multiDrawCount);else{const Je=de._multiDrawStarts,Bn=de._multiDrawCounts,Lt=de._multiDrawCount,di=Ye?q.get(Ye).bytesPerElement:1,wl=xe.get(Se).currentProgram.getUniforms();for(let Cs=0;Cs<Lt;Cs++)wl.setValue(V,"_gl_DrawID",Cs),Ot.render(Je[Cs]/di,Bn[Cs])}else if(de.isInstancedMesh)Ot.renderInstances(It,un,de.count);else if(Ee.isInstancedBufferGeometry){const Je=Ee._maxInstanceCount!==void 0?Ee._maxInstanceCount:1/0,Bn=Math.min(Ee.instanceCount,Je);Ot.renderInstances(It,un,Bn)}else Ot.render(It,un)};function Fn($,oe,Ee){$.transparent===!0&&$.side===Wi&&$.forceSinglePass===!1?($.side=Ts,$.needsUpdate=!0,th($,oe,Ee),$.side=Vr,$.needsUpdate=!0,th($,oe,Ee),$.side=Wi):th($,oe,Ee)}this.compile=function($,oe,Ee=null){Ee===null&&(Ee=$),p=Ne.get(Ee),p.init(oe),b.push(p),Ee.traverseVisible(function(de){de.isLight&&de.layers.test(oe.layers)&&(p.pushLight(de),de.castShadow&&p.pushShadow(de))}),$!==Ee&&$.traverseVisible(function(de){de.isLight&&de.layers.test(oe.layers)&&(p.pushLight(de),de.castShadow&&p.pushShadow(de))}),p.setupLights();const Se=new Set;return $.traverse(function(de){const $e=de.material;if($e)if(Array.isArray($e))for(let je=0;je<$e.length;je++){const Ke=$e[je];Fn(Ke,Ee,de),Se.add(Ke)}else Fn($e,Ee,de),Se.add($e)}),b.pop(),p=null,Se},this.compileAsync=function($,oe,Ee=null){const Se=this.compile($,oe,Ee);return new Promise(de=>{function $e(){if(Se.forEach(function(je){xe.get(je).currentProgram.isReady()&&Se.delete(je)}),Se.size===0){de($);return}setTimeout($e,10)}z.get("KHR_parallel_shader_compile")!==null?$e():setTimeout($e,10)})};let Pt=null;function fr($){Pt&&Pt($)}function Ni(){fa.stop()}function yx(){fa.start()}const fa=new yC;fa.setAnimationLoop(fr),typeof self<"u"&&fa.setContext(self),this.setAnimationLoop=function($){Pt=$,ye.setAnimationLoop($),$===null?fa.stop():fa.start()},ye.addEventListener("sessionstart",Ni),ye.addEventListener("sessionend",yx),this.render=function($,oe){if(oe!==void 0&&oe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(w===!0)return;if($.matrixWorldAutoUpdate===!0&&$.updateMatrixWorld(),oe.parent===null&&oe.matrixWorldAutoUpdate===!0&&oe.updateMatrixWorld(),ye.enabled===!0&&ye.isPresenting===!0&&(ye.cameraAutoUpdate===!0&&ye.updateCamera(oe),oe=ye.getCamera()),$.isScene===!0&&$.onBeforeRender(v,$,oe,T),p=Ne.get($,b.length),p.init(oe),b.push(p),Ie.multiplyMatrices(oe.projectionMatrix,oe.matrixWorldInverse),Ce.setFromProjectionMatrix(Ie),_e=this.localClippingEnabled,le=He.init(this.clippingPlanes,_e),_=Pe.get($,g.length),_.init(),g.push(_),ye.enabled===!0&&ye.isPresenting===!0){const $e=v.xr.getDepthSensingMesh();$e!==null&&c_($e,oe,-1/0,v.sortObjects)}c_($,oe,0,v.sortObjects),_.finish(),v.sortObjects===!0&&_.sort(I,ee),ke=ye.enabled===!1||ye.isPresenting===!1||ye.hasDepthSensing()===!1,ke&&K.addToRenderList(_,$),this.info.render.frame++,le===!0&&He.beginShadows();const Ee=p.state.shadowsArray;fe.render(Ee,$,oe),le===!0&&He.endShadows(),this.info.autoReset===!0&&this.info.reset();const Se=_.opaque,de=_.transmissive;if(p.setupLights(),oe.isArrayCamera){const $e=oe.cameras;if(de.length>0)for(let je=0,Ke=$e.length;je<Ke;je++){const Ye=$e[je];vx(Se,de,$,Ye)}ke&&K.render($);for(let je=0,Ke=$e.length;je<Ke;je++){const Ye=$e[je];bx(_,$,Ye,Ye.viewport)}}else de.length>0&&vx(Se,de,$,oe),ke&&K.render($),bx(_,$,oe);T!==null&&(Re.updateMultisampleRenderTarget(T),Re.updateRenderTargetMipmap(T)),$.isScene===!0&&$.onAfterRender(v,$,oe),X.resetDefaultState(),M=-1,E=null,b.pop(),b.length>0?(p=b[b.length-1],le===!0&&He.setGlobalState(v.clippingPlanes,p.state.camera)):p=null,g.pop(),g.length>0?_=g[g.length-1]:_=null};function c_($,oe,Ee,Se){if($.visible===!1)return;if($.layers.test(oe.layers)){if($.isGroup)Ee=$.renderOrder;else if($.isLOD)$.autoUpdate===!0&&$.update(oe);else if($.isLight)p.pushLight($),$.castShadow&&p.pushShadow($);else if($.isSprite){if(!$.frustumCulled||Ce.intersectsSprite($)){Se&&Me.setFromMatrixPosition($.matrixWorld).applyMatrix4(Ie);const je=be.update($),Ke=$.material;Ke.visible&&_.push($,je,Ke,Ee,Me.z,null)}}else if(($.isMesh||$.isLine||$.isPoints)&&(!$.frustumCulled||Ce.intersectsObject($))){const je=be.update($),Ke=$.material;if(Se&&($.boundingSphere!==void 0?($.boundingSphere===null&&$.computeBoundingSphere(),Me.copy($.boundingSphere.center)):(je.boundingSphere===null&&je.computeBoundingSphere(),Me.copy(je.boundingSphere.center)),Me.applyMatrix4($.matrixWorld).applyMatrix4(Ie)),Array.isArray(Ke)){const Ye=je.groups;for(let at=0,lt=Ye.length;at<lt;at++){const rt=Ye[at],It=Ke[rt.materialIndex];It&&It.visible&&_.push($,je,It,Ee,Me.z,rt)}}else Ke.visible&&_.push($,je,Ke,Ee,Me.z,null)}}const $e=$.children;for(let je=0,Ke=$e.length;je<Ke;je++)c_($e[je],oe,Ee,Se)}function bx($,oe,Ee,Se){const de=$.opaque,$e=$.transmissive,je=$.transparent;p.setupLightsView(Ee),le===!0&&He.setGlobalState(v.clippingPlanes,Ee),Se&&ce.viewport(S.copy(Se)),de.length>0&&eh(de,oe,Ee),$e.length>0&&eh($e,oe,Ee),je.length>0&&eh(je,oe,Ee),ce.buffers.depth.setTest(!0),ce.buffers.depth.setMask(!0),ce.buffers.color.setMask(!0),ce.setPolygonOffset(!1)}function vx($,oe,Ee,Se){if((Ee.isScene===!0?Ee.overrideMaterial:null)!==null)return;p.state.transmissionRenderTarget[Se.id]===void 0&&(p.state.transmissionRenderTarget[Se.id]=new dl(1,1,{generateMipmaps:!0,type:z.has("EXT_color_buffer_half_float")||z.has("EXT_color_buffer_float")?Vf:jr,minFilter:Lr,samples:4,stencilBuffer:r,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Ct.workingColorSpace}));const $e=p.state.transmissionRenderTarget[Se.id],je=Se.viewport||S;$e.setSize(je.z,je.w);const Ke=v.getRenderTarget();v.setRenderTarget($e),v.getClearColor(G),O=v.getClearAlpha(),O<1&&v.setClearColor(16777215,.5),v.clear(),ke&&K.render(Ee);const Ye=v.toneMapping;v.toneMapping=qo;const at=Se.viewport;if(Se.viewport!==void 0&&(Se.viewport=void 0),p.setupLightsView(Se),le===!0&&He.setGlobalState(v.clippingPlanes,Se),eh($,Ee,Se),Re.updateMultisampleRenderTarget($e),Re.updateRenderTargetMipmap($e),z.has("WEBGL_multisampled_render_to_texture")===!1){let lt=!1;for(let rt=0,It=oe.length;rt<It;rt++){const cn=oe[rt],un=cn.object,Rs=cn.geometry,Ot=cn.material,Je=cn.group;if(Ot.side===Wi&&un.layers.test(Se.layers)){const Bn=Ot.side;Ot.side=Ts,Ot.needsUpdate=!0,wx(un,Ee,Se,Rs,Ot,Je),Ot.side=Bn,Ot.needsUpdate=!0,lt=!0}}lt===!0&&(Re.updateMultisampleRenderTarget($e),Re.updateRenderTargetMipmap($e))}v.setRenderTarget(Ke),v.setClearColor(G,O),at!==void 0&&(Se.viewport=at),v.toneMapping=Ye}function eh($,oe,Ee){const Se=oe.isScene===!0?oe.overrideMaterial:null;for(let de=0,$e=$.length;de<$e;de++){const je=$[de],Ke=je.object,Ye=je.geometry,at=Se===null?je.material:Se,lt=je.group;Ke.layers.test(Ee.layers)&&wx(Ke,oe,Ee,Ye,at,lt)}}function wx($,oe,Ee,Se,de,$e){$.onBeforeRender(v,oe,Ee,Se,de,$e),$.modelViewMatrix.multiplyMatrices(Ee.matrixWorldInverse,$.matrixWorld),$.normalMatrix.getNormalMatrix($.modelViewMatrix),de.transparent===!0&&de.side===Wi&&de.forceSinglePass===!1?(de.side=Ts,de.needsUpdate=!0,v.renderBufferDirect(Ee,oe,Se,de,$,$e),de.side=Vr,de.needsUpdate=!0,v.renderBufferDirect(Ee,oe,Se,de,$,$e),de.side=Wi):v.renderBufferDirect(Ee,oe,Se,de,$,$e),$.onAfterRender(v,oe,Ee,Se,de,$e)}function th($,oe,Ee){oe.isScene!==!0&&(oe=Te);const Se=xe.get($),de=p.state.lights,$e=p.state.shadowsArray,je=de.state.version,Ke=he.getParameters($,de.state,$e,oe,Ee),Ye=he.getProgramCacheKey(Ke);let at=Se.programs;Se.environment=$.isMeshStandardMaterial?oe.environment:null,Se.fog=oe.fog,Se.envMap=($.isMeshStandardMaterial?R:D).get($.envMap||Se.environment),Se.envMapRotation=Se.environment!==null&&$.envMap===null?oe.environmentRotation:$.envMapRotation,at===void 0&&($.addEventListener("dispose",et),at=new Map,Se.programs=at);let lt=at.get(Ye);if(lt!==void 0){if(Se.currentProgram===lt&&Se.lightsStateVersion===je)return Ex($,Ke),lt}else Ke.uniforms=he.getUniforms($),$.onBeforeCompile(Ke,v),lt=he.acquireProgram(Ke,Ye),at.set(Ye,lt),Se.uniforms=Ke.uniforms;const rt=Se.uniforms;return(!$.isShaderMaterial&&!$.isRawShaderMaterial||$.clipping===!0)&&(rt.clippingPlanes=He.uniform),Ex($,Ke),Se.needsLights=jI($),Se.lightsStateVersion=je,Se.needsLights&&(rt.ambientLightColor.value=de.state.ambient,rt.lightProbe.value=de.state.probe,rt.directionalLights.value=de.state.directional,rt.directionalLightShadows.value=de.state.directionalShadow,rt.spotLights.value=de.state.spot,rt.spotLightShadows.value=de.state.spotShadow,rt.rectAreaLights.value=de.state.rectArea,rt.ltc_1.value=de.state.rectAreaLTC1,rt.ltc_2.value=de.state.rectAreaLTC2,rt.pointLights.value=de.state.point,rt.pointLightShadows.value=de.state.pointShadow,rt.hemisphereLights.value=de.state.hemi,rt.directionalShadowMap.value=de.state.directionalShadowMap,rt.directionalShadowMatrix.value=de.state.directionalShadowMatrix,rt.spotShadowMap.value=de.state.spotShadowMap,rt.spotLightMatrix.value=de.state.spotLightMatrix,rt.spotLightMap.value=de.state.spotLightMap,rt.pointShadowMap.value=de.state.pointShadowMap,rt.pointShadowMatrix.value=de.state.pointShadowMatrix),Se.currentProgram=lt,Se.uniformsList=null,lt}function xx($){if($.uniformsList===null){const oe=$.currentProgram.getUniforms();$.uniformsList=Xp.seqWithValue(oe.seq,$.uniforms)}return $.uniformsList}function Ex($,oe){const Ee=xe.get($);Ee.outputColorSpace=oe.outputColorSpace,Ee.batching=oe.batching,Ee.batchingColor=oe.batchingColor,Ee.instancing=oe.instancing,Ee.instancingColor=oe.instancingColor,Ee.instancingMorph=oe.instancingMorph,Ee.skinning=oe.skinning,Ee.morphTargets=oe.morphTargets,Ee.morphNormals=oe.morphNormals,Ee.morphColors=oe.morphColors,Ee.morphTargetsCount=oe.morphTargetsCount,Ee.numClippingPlanes=oe.numClippingPlanes,Ee.numIntersection=oe.numClipIntersection,Ee.vertexAlphas=oe.vertexAlphas,Ee.vertexTangents=oe.vertexTangents,Ee.toneMapping=oe.toneMapping}function zI($,oe,Ee,Se,de){oe.isScene!==!0&&(oe=Te),Re.resetTextureUnits();const $e=oe.fog,je=Se.isMeshStandardMaterial?oe.environment:null,Ke=T===null?v.outputColorSpace:T.isXRRenderTarget===!0?T.texture.colorSpace:zn,Ye=(Se.isMeshStandardMaterial?R:D).get(Se.envMap||je),at=Se.vertexColors===!0&&!!Ee.attributes.color&&Ee.attributes.color.itemSize===4,lt=!!Ee.attributes.tangent&&(!!Se.normalMap||Se.anisotropy>0),rt=!!Ee.morphAttributes.position,It=!!Ee.morphAttributes.normal,cn=!!Ee.morphAttributes.color;let un=qo;Se.toneMapped&&(T===null||T.isXRRenderTarget===!0)&&(un=v.toneMapping);const Rs=Ee.morphAttributes.position||Ee.morphAttributes.normal||Ee.morphAttributes.color,Ot=Rs!==void 0?Rs.length:0,Je=xe.get(Se),Bn=p.state.lights;if(le===!0&&(_e===!0||$!==E)){const Ks=$===E&&Se.id===M;He.setState(Se,$,Ks)}let Lt=!1;Se.version===Je.__version?(Je.needsLights&&Je.lightsStateVersion!==Bn.state.version||Je.outputColorSpace!==Ke||de.isBatchedMesh&&Je.batching===!1||!de.isBatchedMesh&&Je.batching===!0||de.isBatchedMesh&&Je.batchingColor===!0&&de.colorTexture===null||de.isBatchedMesh&&Je.batchingColor===!1&&de.colorTexture!==null||de.isInstancedMesh&&Je.instancing===!1||!de.isInstancedMesh&&Je.instancing===!0||de.isSkinnedMesh&&Je.skinning===!1||!de.isSkinnedMesh&&Je.skinning===!0||de.isInstancedMesh&&Je.instancingColor===!0&&de.instanceColor===null||de.isInstancedMesh&&Je.instancingColor===!1&&de.instanceColor!==null||de.isInstancedMesh&&Je.instancingMorph===!0&&de.morphTexture===null||de.isInstancedMesh&&Je.instancingMorph===!1&&de.morphTexture!==null||Je.envMap!==Ye||Se.fog===!0&&Je.fog!==$e||Je.numClippingPlanes!==void 0&&(Je.numClippingPlanes!==He.numPlanes||Je.numIntersection!==He.numIntersection)||Je.vertexAlphas!==at||Je.vertexTangents!==lt||Je.morphTargets!==rt||Je.morphNormals!==It||Je.morphColors!==cn||Je.toneMapping!==un||Je.morphTargetsCount!==Ot)&&(Lt=!0):(Lt=!0,Je.__version=Se.version);let di=Je.currentProgram;Lt===!0&&(di=th(Se,oe,de));let wl=!1,Cs=!1,u_=!1;const yn=di.getUniforms(),to=Je.uniforms;if(ce.useProgram(di.program)&&(wl=!0,Cs=!0,u_=!0),Se.id!==M&&(M=Se.id,Cs=!0),wl||E!==$){yn.setValue(V,"projectionMatrix",$.projectionMatrix),yn.setValue(V,"viewMatrix",$.matrixWorldInverse);const Ks=yn.map.cameraPosition;Ks!==void 0&&Ks.setValue(V,ne.setFromMatrixPosition($.matrixWorld)),te.logarithmicDepthBuffer&&yn.setValue(V,"logDepthBufFC",2/(Math.log($.far+1)/Math.LN2)),(Se.isMeshPhongMaterial||Se.isMeshToonMaterial||Se.isMeshLambertMaterial||Se.isMeshBasicMaterial||Se.isMeshStandardMaterial||Se.isShaderMaterial)&&yn.setValue(V,"isOrthographic",$.isOrthographicCamera===!0),E!==$&&(E=$,Cs=!0,u_=!0)}if(de.isSkinnedMesh){yn.setOptional(V,de,"bindMatrix"),yn.setOptional(V,de,"bindMatrixInverse");const Ks=de.skeleton;Ks&&(Ks.boneTexture===null&&Ks.computeBoneTexture(),yn.setValue(V,"boneTexture",Ks.boneTexture,Re))}de.isBatchedMesh&&(yn.setOptional(V,de,"batchingTexture"),yn.setValue(V,"batchingTexture",de._matricesTexture,Re),yn.setOptional(V,de,"batchingIdTexture"),yn.setValue(V,"batchingIdTexture",de._indirectTexture,Re),yn.setOptional(V,de,"batchingColorTexture"),de._colorsTexture!==null&&yn.setValue(V,"batchingColorTexture",de._colorsTexture,Re));const d_=Ee.morphAttributes;if((d_.position!==void 0||d_.normal!==void 0||d_.color!==void 0)&&L.update(de,Ee,di),(Cs||Je.receiveShadow!==de.receiveShadow)&&(Je.receiveShadow=de.receiveShadow,yn.setValue(V,"receiveShadow",de.receiveShadow)),Se.isMeshGouraudMaterial&&Se.envMap!==null&&(to.envMap.value=Ye,to.flipEnvMap.value=Ye.isCubeTexture&&Ye.isRenderTargetTexture===!1?-1:1),Se.isMeshStandardMaterial&&Se.envMap===null&&oe.environment!==null&&(to.envMapIntensity.value=oe.environmentIntensity),Cs&&(yn.setValue(V,"toneMappingExposure",v.toneMappingExposure),Je.needsLights&&VI(to,u_),$e&&Se.fog===!0&&Oe.refreshFogUniforms(to,$e),Oe.refreshMaterialUniforms(to,Se,F,k,p.state.transmissionRenderTarget[$.id]),Xp.upload(V,xx(Je),to,Re)),Se.isShaderMaterial&&Se.uniformsNeedUpdate===!0&&(Xp.upload(V,xx(Je),to,Re),Se.uniformsNeedUpdate=!1),Se.isSpriteMaterial&&yn.setValue(V,"center",de.center),yn.setValue(V,"modelViewMatrix",de.modelViewMatrix),yn.setValue(V,"normalMatrix",de.normalMatrix),yn.setValue(V,"modelMatrix",de.matrixWorld),Se.isShaderMaterial||Se.isRawShaderMaterial){const Ks=Se.uniformsGroups;for(let f_=0,WI=Ks.length;f_<WI;f_++){const Sx=Ks[f_];ie.update(Sx,di),ie.bind(Sx,di)}}return di}function VI($,oe){$.ambientLightColor.needsUpdate=oe,$.lightProbe.needsUpdate=oe,$.directionalLights.needsUpdate=oe,$.directionalLightShadows.needsUpdate=oe,$.pointLights.needsUpdate=oe,$.pointLightShadows.needsUpdate=oe,$.spotLights.needsUpdate=oe,$.spotLightShadows.needsUpdate=oe,$.rectAreaLights.needsUpdate=oe,$.hemisphereLights.needsUpdate=oe}function jI($){return $.isMeshLambertMaterial||$.isMeshToonMaterial||$.isMeshPhongMaterial||$.isMeshStandardMaterial||$.isShadowMaterial||$.isShaderMaterial&&$.lights===!0}this.getActiveCubeFace=function(){return A},this.getActiveMipmapLevel=function(){return x},this.getRenderTarget=function(){return T},this.setRenderTargetTextures=function($,oe,Ee){xe.get($.texture).__webglTexture=oe,xe.get($.depthTexture).__webglTexture=Ee;const Se=xe.get($);Se.__hasExternalTextures=!0,Se.__autoAllocateDepthBuffer=Ee===void 0,Se.__autoAllocateDepthBuffer||z.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Se.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function($,oe){const Ee=xe.get($);Ee.__webglFramebuffer=oe,Ee.__useDefaultFramebuffer=oe===void 0},this.setRenderTarget=function($,oe=0,Ee=0){T=$,A=oe,x=Ee;let Se=!0,de=null,$e=!1,je=!1;if($){const Ye=xe.get($);Ye.__useDefaultFramebuffer!==void 0?(ce.bindFramebuffer(V.FRAMEBUFFER,null),Se=!1):Ye.__webglFramebuffer===void 0?Re.setupRenderTarget($):Ye.__hasExternalTextures&&Re.rebindTextures($,xe.get($.texture).__webglTexture,xe.get($.depthTexture).__webglTexture);const at=$.texture;(at.isData3DTexture||at.isDataArrayTexture||at.isCompressedArrayTexture)&&(je=!0);const lt=xe.get($).__webglFramebuffer;$.isWebGLCubeRenderTarget?(Array.isArray(lt[oe])?de=lt[oe][Ee]:de=lt[oe],$e=!0):$.samples>0&&Re.useMultisampledRTT($)===!1?de=xe.get($).__webglMultisampledFramebuffer:Array.isArray(lt)?de=lt[Ee]:de=lt,S.copy($.viewport),C.copy($.scissor),N=$.scissorTest}else S.copy(Y).multiplyScalar(F).floor(),C.copy(me).multiplyScalar(F).floor(),N=ge;if(ce.bindFramebuffer(V.FRAMEBUFFER,de)&&Se&&ce.drawBuffers($,de),ce.viewport(S),ce.scissor(C),ce.setScissorTest(N),$e){const Ye=xe.get($.texture);V.framebufferTexture2D(V.FRAMEBUFFER,V.COLOR_ATTACHMENT0,V.TEXTURE_CUBE_MAP_POSITIVE_X+oe,Ye.__webglTexture,Ee)}else if(je){const Ye=xe.get($.texture),at=oe||0;V.framebufferTextureLayer(V.FRAMEBUFFER,V.COLOR_ATTACHMENT0,Ye.__webglTexture,Ee||0,at)}M=-1},this.readRenderTargetPixels=function($,oe,Ee,Se,de,$e,je){if(!($&&$.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ke=xe.get($).__webglFramebuffer;if($.isWebGLCubeRenderTarget&&je!==void 0&&(Ke=Ke[je]),Ke){ce.bindFramebuffer(V.FRAMEBUFFER,Ke);try{const Ye=$.texture,at=Ye.format,lt=Ye.type;if(!te.textureFormatReadable(at)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!te.textureTypeReadable(lt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}oe>=0&&oe<=$.width-Se&&Ee>=0&&Ee<=$.height-de&&V.readPixels(oe,Ee,Se,de,W.convert(at),W.convert(lt),$e)}finally{const Ye=T!==null?xe.get(T).__webglFramebuffer:null;ce.bindFramebuffer(V.FRAMEBUFFER,Ye)}}},this.readRenderTargetPixelsAsync=async function($,oe,Ee,Se,de,$e,je){if(!($&&$.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Ke=xe.get($).__webglFramebuffer;if($.isWebGLCubeRenderTarget&&je!==void 0&&(Ke=Ke[je]),Ke){ce.bindFramebuffer(V.FRAMEBUFFER,Ke);try{const Ye=$.texture,at=Ye.format,lt=Ye.type;if(!te.textureFormatReadable(at))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!te.textureTypeReadable(lt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(oe>=0&&oe<=$.width-Se&&Ee>=0&&Ee<=$.height-de){const rt=V.createBuffer();V.bindBuffer(V.PIXEL_PACK_BUFFER,rt),V.bufferData(V.PIXEL_PACK_BUFFER,$e.byteLength,V.STREAM_READ),V.readPixels(oe,Ee,Se,de,W.convert(at),W.convert(lt),0),V.flush();const It=V.fenceSync(V.SYNC_GPU_COMMANDS_COMPLETE,0);await XV(V,It,4);try{V.bindBuffer(V.PIXEL_PACK_BUFFER,rt),V.getBufferSubData(V.PIXEL_PACK_BUFFER,0,$e)}finally{V.deleteBuffer(rt),V.deleteSync(It)}return $e}}finally{const Ye=T!==null?xe.get(T).__webglFramebuffer:null;ce.bindFramebuffer(V.FRAMEBUFFER,Ye)}}},this.copyFramebufferToTexture=function($,oe=null,Ee=0){$.isTexture!==!0&&(Lc("WebGLRenderer: copyFramebufferToTexture function signature has changed."),oe=arguments[0]||null,$=arguments[1]);const Se=Math.pow(2,-Ee),de=Math.floor($.image.width*Se),$e=Math.floor($.image.height*Se),je=oe!==null?oe.x:0,Ke=oe!==null?oe.y:0;Re.setTexture2D($,0),V.copyTexSubImage2D(V.TEXTURE_2D,Ee,0,0,je,Ke,de,$e),ce.unbindTexture()},this.copyTextureToTexture=function($,oe,Ee=null,Se=null,de=0){$.isTexture!==!0&&(Lc("WebGLRenderer: copyTextureToTexture function signature has changed."),Se=arguments[0]||null,$=arguments[1],oe=arguments[2],de=arguments[3]||0,Ee=null);let $e,je,Ke,Ye,at,lt;Ee!==null?($e=Ee.max.x-Ee.min.x,je=Ee.max.y-Ee.min.y,Ke=Ee.min.x,Ye=Ee.min.y):($e=$.image.width,je=$.image.height,Ke=0,Ye=0),Se!==null?(at=Se.x,lt=Se.y):(at=0,lt=0);const rt=W.convert(oe.format),It=W.convert(oe.type);Re.setTexture2D(oe,0),V.pixelStorei(V.UNPACK_FLIP_Y_WEBGL,oe.flipY),V.pixelStorei(V.UNPACK_PREMULTIPLY_ALPHA_WEBGL,oe.premultiplyAlpha),V.pixelStorei(V.UNPACK_ALIGNMENT,oe.unpackAlignment);const cn=V.getParameter(V.UNPACK_ROW_LENGTH),un=V.getParameter(V.UNPACK_IMAGE_HEIGHT),Rs=V.getParameter(V.UNPACK_SKIP_PIXELS),Ot=V.getParameter(V.UNPACK_SKIP_ROWS),Je=V.getParameter(V.UNPACK_SKIP_IMAGES),Bn=$.isCompressedTexture?$.mipmaps[de]:$.image;V.pixelStorei(V.UNPACK_ROW_LENGTH,Bn.width),V.pixelStorei(V.UNPACK_IMAGE_HEIGHT,Bn.height),V.pixelStorei(V.UNPACK_SKIP_PIXELS,Ke),V.pixelStorei(V.UNPACK_SKIP_ROWS,Ye),$.isDataTexture?V.texSubImage2D(V.TEXTURE_2D,de,at,lt,$e,je,rt,It,Bn.data):$.isCompressedTexture?V.compressedTexSubImage2D(V.TEXTURE_2D,de,at,lt,Bn.width,Bn.height,rt,Bn.data):V.texSubImage2D(V.TEXTURE_2D,de,at,lt,$e,je,rt,It,Bn),V.pixelStorei(V.UNPACK_ROW_LENGTH,cn),V.pixelStorei(V.UNPACK_IMAGE_HEIGHT,un),V.pixelStorei(V.UNPACK_SKIP_PIXELS,Rs),V.pixelStorei(V.UNPACK_SKIP_ROWS,Ot),V.pixelStorei(V.UNPACK_SKIP_IMAGES,Je),de===0&&oe.generateMipmaps&&V.generateMipmap(V.TEXTURE_2D),ce.unbindTexture()},this.copyTextureToTexture3D=function($,oe,Ee=null,Se=null,de=0){$.isTexture!==!0&&(Lc("WebGLRenderer: copyTextureToTexture3D function signature has changed."),Ee=arguments[0]||null,Se=arguments[1]||null,$=arguments[2],oe=arguments[3],de=arguments[4]||0);let $e,je,Ke,Ye,at,lt,rt,It,cn;const un=$.isCompressedTexture?$.mipmaps[de]:$.image;Ee!==null?($e=Ee.max.x-Ee.min.x,je=Ee.max.y-Ee.min.y,Ke=Ee.max.z-Ee.min.z,Ye=Ee.min.x,at=Ee.min.y,lt=Ee.min.z):($e=un.width,je=un.height,Ke=un.depth,Ye=0,at=0,lt=0),Se!==null?(rt=Se.x,It=Se.y,cn=Se.z):(rt=0,It=0,cn=0);const Rs=W.convert(oe.format),Ot=W.convert(oe.type);let Je;if(oe.isData3DTexture)Re.setTexture3D(oe,0),Je=V.TEXTURE_3D;else if(oe.isDataArrayTexture||oe.isCompressedArrayTexture)Re.setTexture2DArray(oe,0),Je=V.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}V.pixelStorei(V.UNPACK_FLIP_Y_WEBGL,oe.flipY),V.pixelStorei(V.UNPACK_PREMULTIPLY_ALPHA_WEBGL,oe.premultiplyAlpha),V.pixelStorei(V.UNPACK_ALIGNMENT,oe.unpackAlignment);const Bn=V.getParameter(V.UNPACK_ROW_LENGTH),Lt=V.getParameter(V.UNPACK_IMAGE_HEIGHT),di=V.getParameter(V.UNPACK_SKIP_PIXELS),wl=V.getParameter(V.UNPACK_SKIP_ROWS),Cs=V.getParameter(V.UNPACK_SKIP_IMAGES);V.pixelStorei(V.UNPACK_ROW_LENGTH,un.width),V.pixelStorei(V.UNPACK_IMAGE_HEIGHT,un.height),V.pixelStorei(V.UNPACK_SKIP_PIXELS,Ye),V.pixelStorei(V.UNPACK_SKIP_ROWS,at),V.pixelStorei(V.UNPACK_SKIP_IMAGES,lt),$.isDataTexture||$.isData3DTexture?V.texSubImage3D(Je,de,rt,It,cn,$e,je,Ke,Rs,Ot,un.data):oe.isCompressedArrayTexture?V.compressedTexSubImage3D(Je,de,rt,It,cn,$e,je,Ke,Rs,un.data):V.texSubImage3D(Je,de,rt,It,cn,$e,je,Ke,Rs,Ot,un),V.pixelStorei(V.UNPACK_ROW_LENGTH,Bn),V.pixelStorei(V.UNPACK_IMAGE_HEIGHT,Lt),V.pixelStorei(V.UNPACK_SKIP_PIXELS,di),V.pixelStorei(V.UNPACK_SKIP_ROWS,wl),V.pixelStorei(V.UNPACK_SKIP_IMAGES,Cs),de===0&&oe.generateMipmaps&&V.generateMipmap(Je),ce.unbindTexture()},this.initRenderTarget=function($){xe.get($).__webglFramebuffer===void 0&&Re.setupRenderTarget($)},this.initTexture=function($){$.isCubeTexture?Re.setTextureCube($,0):$.isData3DTexture?Re.setTexture3D($,0):$.isDataArrayTexture||$.isCompressedArrayTexture?Re.setTexture2DArray($,0):Re.setTexture2D($,0),ce.unbindTexture()},this.resetState=function(){A=0,x=0,T=null,ce.reset(),X.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Dr}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===iw?"display-p3":"srgb",n.unpackColorSpace=Ct.workingColorSpace===Gg?"display-p3":"srgb"}}class xS extends nn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ir,this.environmentIntensity=1,this.environmentRotation=new ir,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class sY{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Ty,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=ki()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return Lc("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,s){e*=this.stride,s*=n.stride;for(let i=0,r=this.stride;i<r;i++)this.array[e+i]=n.array[s+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ki()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),s=new this.constructor(n,this.stride);return s.setUsage(this.usage),s}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ki()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ts=new ae;class cw{constructor(e,n,s,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=s,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,s=this.data.count;n<s;n++)ts.fromBufferAttribute(this,n),ts.applyMatrix4(e),this.setXYZ(n,ts.x,ts.y,ts.z);return this}applyNormalMatrix(e){for(let n=0,s=this.count;n<s;n++)ts.fromBufferAttribute(this,n),ts.applyNormalMatrix(e),this.setXYZ(n,ts.x,ts.y,ts.z);return this}transformDirection(e){for(let n=0,s=this.count;n<s;n++)ts.fromBufferAttribute(this,n),ts.transformDirection(e),this.setXYZ(n,ts.x,ts.y,ts.z);return this}getComponent(e,n){let s=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(s=Ri(s,this.array)),s}setComponent(e,n,s){return this.normalized&&(s=Nt(s,this.array)),this.data.array[e*this.data.stride+this.offset+n]=s,this}setX(e,n){return this.normalized&&(n=Nt(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Nt(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Nt(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Nt(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Ri(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Ri(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Ri(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Ri(n,this.array)),n}setXY(e,n,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=Nt(n,this.array),s=Nt(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=s,this}setXYZ(e,n,s,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Nt(n,this.array),s=Nt(s,this.array),i=Nt(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=s,this.data.array[e+2]=i,this}setXYZW(e,n,s,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Nt(n,this.array),s=Nt(s,this.array),i=Nt(i,this.array),r=Nt(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=s,this.data.array[e+2]=i,this.data.array[e+3]=r,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let s=0;s<this.count;s++){const i=s*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)n.push(this.data.array[i+r])}return new ds(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new cw(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let s=0;s<this.count;s++){const i=s*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)n.push(this.data.array[i+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}const ES=new ae,SS=new Ft,TS=new Ft,iY=new ae,AS=new yt,Fh=new ae,m0=new ar,MS=new yt,g0=new zg;class rY extends Es{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=TE,this.bindMatrix=new yt,this.bindMatrixInverse=new yt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Qr),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let s=0;s<n.count;s++)this.getVertexPosition(s,Fh),this.boundingBox.expandByPoint(Fh)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new ar),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let s=0;s<n.count;s++)this.getVertexPosition(s,Fh),this.boundingSphere.expandByPoint(Fh)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const s=this.material,i=this.matrixWorld;s!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),m0.copy(this.boundingSphere),m0.applyMatrix4(i),e.ray.intersectsSphere(m0)!==!1&&(MS.copy(i).invert(),g0.copy(e.ray).applyMatrix4(MS),!(this.boundingBox!==null&&g0.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,g0)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Ft,n=this.geometry.attributes.skinWeight;for(let s=0,i=n.count;s<i;s++){e.fromBufferAttribute(n,s);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),n.setXYZW(s,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===TE?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===_V?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const s=this.skeleton,i=this.geometry;SS.fromBufferAttribute(i.attributes.skinIndex,e),TS.fromBufferAttribute(i.attributes.skinWeight,e),ES.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let r=0;r<4;r++){const o=TS.getComponent(r);if(o!==0){const a=SS.getComponent(r);AS.multiplyMatrices(s.bones[a].matrixWorld,s.boneInverses[a]),n.addScaledVector(iY.copy(ES).applyMatrix4(AS),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class SC extends nn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class TC extends $n{constructor(e=null,n=1,s=1,i,r,o,a,l,c=us,u=us,d,f){super(null,o,a,l,c,u,i,r,d,f),this.isDataTexture=!0,this.image={data:e,width:n,height:s},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const RS=new yt,oY=new yt;class uw{constructor(e=[],n=[]){this.uuid=ki(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let s=0,i=this.bones.length;s<i;s++)this.boneInverses.push(new yt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const s=new yt;this.bones[e]&&s.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(s)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const s=this.bones[e];s&&s.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const s=this.bones[e];s&&(s.parent&&s.parent.isBone?(s.matrix.copy(s.parent.matrixWorld).invert(),s.matrix.multiply(s.matrixWorld)):s.matrix.copy(s.matrixWorld),s.matrix.decompose(s.position,s.quaternion,s.scale))}}update(){const e=this.bones,n=this.boneInverses,s=this.boneMatrices,i=this.boneTexture;for(let r=0,o=e.length;r<o;r++){const a=e[r]?e[r].matrixWorld:oY;RS.multiplyMatrices(a,n[r]),RS.toArray(s,r*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new uw(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const s=new TC(n,e,e,ii,Ci);return s.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=s,this}getBoneByName(e){for(let n=0,s=this.bones.length;n<s;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let s=0,i=e.bones.length;s<i;s++){const r=e.bones[s];let o=n[r];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),o=new SC),this.bones.push(o),this.boneInverses.push(new yt().fromArray(e.boneInverses[s]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,s=this.boneInverses;for(let i=0,r=n.length;i<r;i++){const o=n[i];e.bones.push(o.uuid);const a=s[i];e.boneInverses.push(a.toArray())}return e}}class My extends ds{constructor(e,n,s,i=1){super(e,n,s),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Vl=new yt,CS=new yt,Bh=[],kS=new Qr,aY=new yt,ed=new Es,td=new ar;class lY extends Es{constructor(e,n,s){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new My(new Float32Array(s*16),16),this.instanceColor=null,this.morphTexture=null,this.count=s,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<s;i++)this.setMatrixAt(i,aY)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Qr),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let s=0;s<n;s++)this.getMatrixAt(s,Vl),kS.copy(e.boundingBox).applyMatrix4(Vl),this.boundingBox.union(kS)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new ar),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let s=0;s<n;s++)this.getMatrixAt(s,Vl),td.copy(e.boundingSphere).applyMatrix4(Vl),this.boundingSphere.union(td)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const s=n.morphTargetInfluences,i=this.morphTexture.source.data.data,r=s.length+1,o=e*r+1;for(let a=0;a<s.length;a++)s[a]=i[o+a]}raycast(e,n){const s=this.matrixWorld,i=this.count;if(ed.geometry=this.geometry,ed.material=this.material,ed.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),td.copy(this.boundingSphere),td.applyMatrix4(s),e.ray.intersectsSphere(td)!==!1))for(let r=0;r<i;r++){this.getMatrixAt(r,Vl),CS.multiplyMatrices(s,Vl),ed.matrixWorld=CS,ed.raycast(e,Bh);for(let o=0,a=Bh.length;o<a;o++){const l=Bh[o];l.instanceId=r,l.object=this,n.push(l)}Bh.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new My(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const s=n.morphTargetInfluences,i=s.length+1;this.morphTexture===null&&(this.morphTexture=new TC(new Float32Array(i*this.count),i,this.count,ew,Ci));const r=this.morphTexture.source.data.data;let o=0;for(let c=0;c<s.length;c++)o+=s[c];const a=this.geometry.morphTargetsRelative?1:1-o,l=i*e;r[l]=a,r.set(s,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}class AC extends er{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new pt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const km=new ae,Pm=new ae,PS=new yt,nd=new zg,Hh=new ar,_0=new ae,IS=new ae;let dw=class extends nn{constructor(e=new lr,n=new AC){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,s=[0];for(let i=1,r=n.count;i<r;i++)km.fromBufferAttribute(n,i-1),Pm.fromBufferAttribute(n,i),s[i]=s[i-1],s[i]+=km.distanceTo(Pm);e.setAttribute("lineDistance",new Fr(s,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const s=this.geometry,i=this.matrixWorld,r=e.params.Line.threshold,o=s.drawRange;if(s.boundingSphere===null&&s.computeBoundingSphere(),Hh.copy(s.boundingSphere),Hh.applyMatrix4(i),Hh.radius+=r,e.ray.intersectsSphere(Hh)===!1)return;PS.copy(i).invert(),nd.copy(e.ray).applyMatrix4(PS);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=this.isLineSegments?2:1,u=s.index,f=s.attributes.position;if(u!==null){const h=Math.max(0,o.start),y=Math.min(u.count,o.start+o.count);for(let _=h,p=y-1;_<p;_+=c){const g=u.getX(_),b=u.getX(_+1),v=Gh(this,e,nd,l,g,b);v&&n.push(v)}if(this.isLineLoop){const _=u.getX(y-1),p=u.getX(h),g=Gh(this,e,nd,l,_,p);g&&n.push(g)}}else{const h=Math.max(0,o.start),y=Math.min(f.count,o.start+o.count);for(let _=h,p=y-1;_<p;_+=c){const g=Gh(this,e,nd,l,_,_+1);g&&n.push(g)}if(this.isLineLoop){const _=Gh(this,e,nd,l,y-1,h);_&&n.push(_)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,s=Object.keys(n);if(s.length>0){const i=n[s[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=i.length;r<o;r++){const a=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}};function Gh(t,e,n,s,i,r){const o=t.geometry.attributes.position;if(km.fromBufferAttribute(o,i),Pm.fromBufferAttribute(o,r),n.distanceSqToSegment(km,Pm,_0,IS)>s)return;_0.applyMatrix4(t.matrixWorld);const l=e.ray.origin.distanceTo(_0);if(!(l<e.near||l>e.far))return{distance:l,point:IS.clone().applyMatrix4(t.matrixWorld),index:i,face:null,faceIndex:null,object:t}}const OS=new ae,LS=new ae;class cY extends dw{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,s=[];for(let i=0,r=n.count;i<r;i+=2)OS.fromBufferAttribute(n,i),LS.fromBufferAttribute(n,i+1),s[i]=i===0?0:s[i-1],s[i+1]=s[i]+OS.distanceTo(LS);e.setAttribute("lineDistance",new Fr(s,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class uY extends dw{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class MC extends er{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new pt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const DS=new yt,Ry=new zg,zh=new ar,Vh=new ae;class dY extends nn{constructor(e=new lr,n=new MC){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const s=this.geometry,i=this.matrixWorld,r=e.params.Points.threshold,o=s.drawRange;if(s.boundingSphere===null&&s.computeBoundingSphere(),zh.copy(s.boundingSphere),zh.applyMatrix4(i),zh.radius+=r,e.ray.intersectsSphere(zh)===!1)return;DS.copy(i).invert(),Ry.copy(e.ray).applyMatrix4(DS);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=s.index,d=s.attributes.position;if(c!==null){const f=Math.max(0,o.start),h=Math.min(c.count,o.start+o.count);for(let y=f,_=h;y<_;y++){const p=c.getX(y);Vh.fromBufferAttribute(d,p),NS(Vh,p,l,i,e,n,this)}}else{const f=Math.max(0,o.start),h=Math.min(d.count,o.start+o.count);for(let y=f,_=h;y<_;y++)Vh.fromBufferAttribute(d,y),NS(Vh,y,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,s=Object.keys(n);if(s.length>0){const i=n[s[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=i.length;r<o;r++){const a=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}function NS(t,e,n,s,i,r,o){const a=Ry.distanceSqToPoint(t);if(a<n){const l=new ae;Ry.closestPointToPoint(t,l),l.applyMatrix4(s);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;r.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class fw extends er{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new pt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=oC,this.normalScale=new xt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ir,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class cr extends fw{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new xt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Kn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new pt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new pt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new pt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}function jh(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function fY(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function hY(t){function e(i,r){return t[i]-t[r]}const n=t.length,s=new Array(n);for(let i=0;i!==n;++i)s[i]=i;return s.sort(e),s}function US(t,e,n){const s=t.length,i=new t.constructor(s);for(let r=0,o=0;o!==s;++r){const a=n[r]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function RC(t,e,n,s){let i=1,r=t[0];for(;r!==void 0&&r[s]===void 0;)r=t[i++];if(r===void 0)return;let o=r[s];if(o!==void 0)if(Array.isArray(o))do o=r[s],o!==void 0&&(e.push(r.time),n.push.apply(n,o)),r=t[i++];while(r!==void 0);else if(o.toArray!==void 0)do o=r[s],o!==void 0&&(e.push(r.time),o.toArray(n,n.length)),r=t[i++];while(r!==void 0);else do o=r[s],o!==void 0&&(e.push(r.time),n.push(o)),r=t[i++];while(r!==void 0)}class jf{constructor(e,n,s,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(s),this.sampleValues=n,this.valueSize=s,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let s=this._cachedIndex,i=n[s],r=n[s-1];e:{t:{let o;n:{s:if(!(e<i)){for(let a=s+2;;){if(i===void 0){if(e<r)break s;return s=n.length,this._cachedIndex=s,this.copySampleValue_(s-1)}if(s===a)break;if(r=i,i=n[++s],e<i)break t}o=n.length;break n}if(!(e>=r)){const a=n[1];e<a&&(s=2,r=a);for(let l=s-2;;){if(r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(s===l)break;if(i=r,r=n[--s-1],e>=r)break t}o=s,s=0;break n}break e}for(;s<o;){const a=s+o>>>1;e<n[a]?o=a:s=a+1}if(i=n[s],r=n[s-1],r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return s=n.length,this._cachedIndex=s,this.copySampleValue_(s-1)}this._cachedIndex=s,this.intervalChanged_(s,r,i)}return this.interpolate_(s,r,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,s=this.sampleValues,i=this.valueSize,r=e*i;for(let o=0;o!==i;++o)n[o]=s[r+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class pY extends jf{constructor(e,n,s,i){super(e,n,s,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:AE,endingEnd:AE}}intervalChanged_(e,n,s){const i=this.parameterPositions;let r=e-2,o=e+1,a=i[r],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case ME:r=e,a=2*n-s;break;case RE:r=i.length-2,a=n+i[r]-i[r+1];break;default:r=e,a=s}if(l===void 0)switch(this.getSettings_().endingEnd){case ME:o=e,l=2*s-n;break;case RE:o=1,l=s+i[1]-i[0];break;default:o=e-1,l=n}const c=(s-n)*.5,u=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-s),this._offsetPrev=r*u,this._offsetNext=o*u}interpolate_(e,n,s,i){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,f=this._weightPrev,h=this._weightNext,y=(s-n)/(i-n),_=y*y,p=_*y,g=-f*p+2*f*_-f*y,b=(1+f)*p+(-1.5-2*f)*_+(-.5+f)*y+1,v=(-1-h)*p+(1.5+h)*_+.5*y,w=h*p-h*_;for(let A=0;A!==a;++A)r[A]=g*o[u+A]+b*o[c+A]+v*o[l+A]+w*o[d+A];return r}}class mY extends jf{constructor(e,n,s,i){super(e,n,s,i)}interpolate_(e,n,s,i){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(s-n)/(i-n),d=1-u;for(let f=0;f!==a;++f)r[f]=o[c+f]*d+o[l+f]*u;return r}}class gY extends jf{constructor(e,n,s,i){super(e,n,s,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class ur{constructor(e,n,s,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=jh(n,this.TimeBufferType),this.values=jh(s,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let s;if(n.toJSON!==this.toJSON)s=n.toJSON(e);else{s={name:e.name,times:jh(e.times,Array),values:jh(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(s.interpolation=i)}return s.type=e.ValueTypeName,s}InterpolantFactoryMethodDiscrete(e){return new gY(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new mY(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new pY(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case bf:n=this.InterpolantFactoryMethodDiscrete;break;case vf:n=this.InterpolantFactoryMethodLinear;break;case z_:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const s="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(s);return console.warn("THREE.KeyframeTrack:",s),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return bf;case this.InterpolantFactoryMethodLinear:return vf;case this.InterpolantFactoryMethodSmooth:return z_}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let s=0,i=n.length;s!==i;++s)n[s]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let s=0,i=n.length;s!==i;++s)n[s]*=e}return this}trim(e,n){const s=this.times,i=s.length;let r=0,o=i-1;for(;r!==i&&s[r]<e;)++r;for(;o!==-1&&s[o]>n;)--o;if(++o,r!==0||o!==i){r>=o&&(o=Math.max(o,1),r=o-1);const a=this.getValueSize();this.times=s.slice(r,o),this.values=this.values.slice(r*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const s=this.times,i=this.values,r=s.length;r===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==r;a++){const l=s[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&fY(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),s=this.getValueSize(),i=this.getInterpolation()===z_,r=e.length-1;let o=1;for(let a=1;a<r;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const d=a*s,f=d-s,h=d+s;for(let y=0;y!==s;++y){const _=n[d+y];if(_!==n[f+y]||_!==n[h+y]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*s,f=o*s;for(let h=0;h!==s;++h)n[f+h]=n[d+h]}++o}}if(r>0){e[o]=e[r];for(let a=r*s,l=o*s,c=0;c!==s;++c)n[l+c]=n[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*s)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),s=this.constructor,i=new s(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}ur.prototype.TimeBufferType=Float32Array;ur.prototype.ValueBufferType=Float32Array;ur.prototype.DefaultInterpolation=vf;class Nu extends ur{constructor(e,n,s){super(e,n,s)}}Nu.prototype.ValueTypeName="bool";Nu.prototype.ValueBufferType=Array;Nu.prototype.DefaultInterpolation=bf;Nu.prototype.InterpolantFactoryMethodLinear=void 0;Nu.prototype.InterpolantFactoryMethodSmooth=void 0;class CC extends ur{}CC.prototype.ValueTypeName="color";class du extends ur{}du.prototype.ValueTypeName="number";class _Y extends jf{constructor(e,n,s,i){super(e,n,s,i)}interpolate_(e,n,s,i){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(s-n)/(i-n);let c=e*a;for(let u=c+a;c!==u;c+=4)Jr.slerpFlat(r,0,o,c-a,o,c,l);return r}}class fu extends ur{InterpolantFactoryMethodLinear(e){return new _Y(this.times,this.values,this.getValueSize(),e)}}fu.prototype.ValueTypeName="quaternion";fu.prototype.InterpolantFactoryMethodSmooth=void 0;class Uu extends ur{constructor(e,n,s){super(e,n,s)}}Uu.prototype.ValueTypeName="string";Uu.prototype.ValueBufferType=Array;Uu.prototype.DefaultInterpolation=bf;Uu.prototype.InterpolantFactoryMethodLinear=void 0;Uu.prototype.InterpolantFactoryMethodSmooth=void 0;class hu extends ur{}hu.prototype.ValueTypeName="vector";class yY{constructor(e="",n=-1,s=[],i=yV){this.name=e,this.tracks=s,this.duration=n,this.blendMode=i,this.uuid=ki(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],s=e.tracks,i=1/(e.fps||1);for(let o=0,a=s.length;o!==a;++o)n.push(vY(s[o]).scale(i));const r=new this(e.name,e.duration,n,e.blendMode);return r.uuid=e.uuid,r}static toJSON(e){const n=[],s=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let r=0,o=s.length;r!==o;++r)n.push(ur.toJSON(s[r]));return i}static CreateFromMorphTargetSequence(e,n,s,i){const r=n.length,o=[];for(let a=0;a<r;a++){let l=[],c=[];l.push((a+r-1)%r,a,(a+1)%r),c.push(0,1,0);const u=hY(l);l=US(l,1,u),c=US(c,1,u),!i&&l[0]===0&&(l.push(r),c.push(c[0])),o.push(new du(".morphTargetInfluences["+n[a].name+"]",l,c).scale(1/s))}return new this(e,-1,o)}static findByName(e,n){let s=e;if(!Array.isArray(e)){const i=e;s=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<s.length;i++)if(s[i].name===n)return s[i];return null}static CreateClipsFromMorphTargetSequences(e,n,s){const i={},r=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(r);if(u&&u.length>1){const d=u[1];let f=i[d];f||(i[d]=f=[]),f.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,s));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const s=function(d,f,h,y,_){if(h.length!==0){const p=[],g=[];RC(h,p,g,y),p.length!==0&&_.push(new d(f,p,g))}},i=[],r=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const f=c[d].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const h={};let y;for(y=0;y<f.length;y++)if(f[y].morphTargets)for(let _=0;_<f[y].morphTargets.length;_++)h[f[y].morphTargets[_]]=-1;for(const _ in h){const p=[],g=[];for(let b=0;b!==f[y].morphTargets.length;++b){const v=f[y];p.push(v.time),g.push(v.morphTarget===_?1:0)}i.push(new du(".morphTargetInfluence["+_+"]",p,g))}l=h.length*o}else{const h=".bones["+n[d].name+"]";s(hu,h+".position",f,"pos",i),s(fu,h+".quaternion",f,"rot",i),s(hu,h+".scale",f,"scl",i)}}return i.length===0?null:new this(r,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let s=0,i=e.length;s!==i;++s){const r=this.tracks[s];n=Math.max(n,r.times[r.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function bY(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return du;case"vector":case"vector2":case"vector3":case"vector4":return hu;case"color":return CC;case"quaternion":return fu;case"bool":case"boolean":return Nu;case"string":return Uu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function vY(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=bY(t.type);if(t.times===void 0){const n=[],s=[];RC(t.keys,n,s,"value"),t.times=n,t.values=s}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const $o={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class wY{constructor(e,n,s){const i=this;let r=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=s,this.itemStart=function(u){a++,r===!1&&i.onStart!==void 0&&i.onStart(u,o,a),r=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(r=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,f=c.length;d<f;d+=2){const h=c[d],y=c[d+1];if(h.global&&(h.lastIndex=0),h.test(u))return y}return null}}}const xY=new wY;class $u{constructor(e){this.manager=e!==void 0?e:xY,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const s=this;return new Promise(function(i,r){s.load(e,i,n,r)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}$u.DEFAULT_MATERIAL_NAME="__DEFAULT";const br={};class EY extends Error{constructor(e,n){super(e),this.response=n}}class kC extends $u{constructor(e){super(e)}load(e,n,s,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=$o.get(e);if(r!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(r),this.manager.itemEnd(e)},0),r;if(br[e]!==void 0){br[e].push({onLoad:n,onProgress:s,onError:i});return}br[e]=[],br[e].push({onLoad:n,onProgress:s,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=br[e],d=c.body.getReader(),f=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),h=f?parseInt(f):0,y=h!==0;let _=0;const p=new ReadableStream({start(g){b();function b(){d.read().then(({done:v,value:w})=>{if(v)g.close();else{_+=w.byteLength;const A=new ProgressEvent("progress",{lengthComputable:y,loaded:_,total:h});for(let x=0,T=u.length;x<T;x++){const M=u[x];M.onProgress&&M.onProgress(A)}g.enqueue(w),b()}},v=>{g.error(v)})}}});return new Response(p)}else throw new EY(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),f=d&&d[1]?d[1].toLowerCase():void 0,h=new TextDecoder(f);return c.arrayBuffer().then(y=>h.decode(y))}}}).then(c=>{$o.add(e,c);const u=br[e];delete br[e];for(let d=0,f=u.length;d<f;d++){const h=u[d];h.onLoad&&h.onLoad(c)}}).catch(c=>{const u=br[e];if(u===void 0)throw this.manager.itemError(e),c;delete br[e];for(let d=0,f=u.length;d<f;d++){const h=u[d];h.onError&&h.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class SY extends $u{constructor(e){super(e)}load(e,n,s,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=$o.get(e);if(o!==void 0)return r.manager.itemStart(e),setTimeout(function(){n&&n(o),r.manager.itemEnd(e)},0),o;const a=wf("img");function l(){u(),$o.add(e,this),n&&n(this),r.manager.itemEnd(e)}function c(d){u(),i&&i(d),r.manager.itemError(e),r.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),r.manager.itemStart(e),a.src=e,a}}class TY extends $u{constructor(e){super(e)}load(e,n,s,i){const r=new $n,o=new SY(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){r.image=a,r.needsUpdate=!0,n!==void 0&&n(r)},s,i),r}}class Wg extends nn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new pt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class AY extends Wg{constructor(e,n,s){super(e,s),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(nn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new pt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const y0=new yt,$S=new ae,FS=new ae;class hw{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new xt(512,512),this.map=null,this.mapPass=null,this.matrix=new yt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ow,this._frameExtents=new xt(1,1),this._viewportCount=1,this._viewports=[new Ft(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,s=this.matrix;$S.setFromMatrixPosition(e.matrixWorld),n.position.copy($S),FS.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(FS),n.updateMatrixWorld(),y0.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(y0),s.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),s.multiply(y0)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class MY extends hw{constructor(){super(new Yn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,s=cu*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,r=e.distance||n.far;(s!==n.fov||i!==n.aspect||r!==n.far)&&(n.fov=s,n.aspect=i,n.far=r,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class RY extends Wg{constructor(e,n,s=0,i=Math.PI/3,r=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(nn.DEFAULT_UP),this.updateMatrix(),this.target=new nn,this.distance=s,this.angle=i,this.penumbra=r,this.decay=o,this.map=null,this.shadow=new MY}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const BS=new yt,sd=new ae,b0=new ae;class CY extends hw{constructor(){super(new Yn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new xt(4,2),this._viewportCount=6,this._viewports=[new Ft(2,1,1,1),new Ft(0,1,1,1),new Ft(3,1,1,1),new Ft(1,1,1,1),new Ft(3,0,1,1),new Ft(1,0,1,1)],this._cubeDirections=[new ae(1,0,0),new ae(-1,0,0),new ae(0,0,1),new ae(0,0,-1),new ae(0,1,0),new ae(0,-1,0)],this._cubeUps=[new ae(0,1,0),new ae(0,1,0),new ae(0,1,0),new ae(0,1,0),new ae(0,0,1),new ae(0,0,-1)]}updateMatrices(e,n=0){const s=this.camera,i=this.matrix,r=e.distance||s.far;r!==s.far&&(s.far=r,s.updateProjectionMatrix()),sd.setFromMatrixPosition(e.matrixWorld),s.position.copy(sd),b0.copy(s.position),b0.add(this._cubeDirections[n]),s.up.copy(this._cubeUps[n]),s.lookAt(b0),s.updateMatrixWorld(),i.makeTranslation(-sd.x,-sd.y,-sd.z),BS.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),this._frustum.setFromProjectionMatrix(BS)}}class kY extends Wg{constructor(e,n,s=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=s,this.decay=i,this.shadow=new CY}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class PY extends hw{constructor(){super(new aw(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class PC extends Wg{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(nn.DEFAULT_UP),this.updateMatrix(),this.target=new nn,this.shadow=new PY}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Yd{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let s=0,i=e.length;s<i;s++)n+=String.fromCharCode(e[s]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class IY extends $u{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,s,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=$o.get(e);if(o!==void 0){if(r.manager.itemStart(e),o.then){o.then(c=>{n&&n(c),r.manager.itemEnd(e)}).catch(c=>{i&&i(c)});return}return setTimeout(function(){n&&n(o),r.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(c){return $o.add(e,c),n&&n(c),r.manager.itemEnd(e),c}).catch(function(c){i&&i(c),$o.remove(e),r.manager.itemError(e),r.manager.itemEnd(e)});$o.add(e,l),r.manager.itemStart(e)}}const pw="\\[\\]\\.:\\/",OY=new RegExp("["+pw+"]","g"),mw="[^"+pw+"]",LY="[^"+pw.replace("\\.","")+"]",DY=/((?:WC+[\/:])*)/.source.replace("WC",mw),NY=/(WCOD+)?/.source.replace("WCOD",LY),UY=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",mw),$Y=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",mw),FY=new RegExp("^"+DY+NY+UY+$Y+"$"),BY=["material","materials","bones","map"];class HY{constructor(e,n,s){const i=s||Ut.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const s=this._targetGroup.nCachedObjects_,i=this._bindings[s];i!==void 0&&i.getValue(e,n)}setValue(e,n){const s=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=s.length;i!==r;++i)s[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,s=e.length;n!==s;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,s=e.length;n!==s;++n)e[n].unbind()}}class Ut{constructor(e,n,s){this.path=n,this.parsedPath=s||Ut.parseTrackName(n),this.node=Ut.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,s){return e&&e.isAnimationObjectGroup?new Ut.Composite(e,n,s):new Ut(e,n,s)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(OY,"")}static parseTrackName(e){const n=FY.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const s={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=s.nodeName&&s.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const r=s.nodeName.substring(i+1);BY.indexOf(r)!==-1&&(s.nodeName=s.nodeName.substring(0,i),s.objectName=r)}if(s.propertyName===null||s.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return s}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const s=e.skeleton.getBoneByName(n);if(s!==void 0)return s}if(e.children){const s=function(r){for(let o=0;o<r.length;o++){const a=r[o];if(a.name===n||a.uuid===n)return a;const l=s(a.children);if(l)return l}return null},i=s(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const s=this.resolvedProperty;for(let i=0,r=s.length;i!==r;++i)e[n++]=s[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const s=this.resolvedProperty;for(let i=0,r=s.length;i!==r;++i)s[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const s=this.resolvedProperty;for(let i=0,r=s.length;i!==r;++i)s[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const s=this.resolvedProperty;for(let i=0,r=s.length;i!==r;++i)s[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,s=n.objectName,i=n.propertyName;let r=n.propertyIndex;if(e||(e=Ut.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(s){let c=n.objectIndex;switch(s){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[s]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[s]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(r!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[r]!==void 0&&(r=e.morphTargetDictionary[r])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=r}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ut.Composite=HY;Ut.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Ut.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Ut.prototype.GetterByBindingType=[Ut.prototype._getValue_direct,Ut.prototype._getValue_array,Ut.prototype._getValue_arrayElement,Ut.prototype._getValue_toArray];Ut.prototype.SetterByBindingTypeAndVersioning=[[Ut.prototype._setValue_direct,Ut.prototype._setValue_direct_setNeedsUpdate,Ut.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ut.prototype._setValue_array,Ut.prototype._setValue_array_setNeedsUpdate,Ut.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ut.prototype._setValue_arrayElement,Ut.prototype._setValue_arrayElement_setNeedsUpdate,Ut.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ut.prototype._setValue_fromArray,Ut.prototype._setValue_fromArray_setNeedsUpdate,Ut.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Yv}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Yv);function HS(t,e){if(e===bV)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===Sy||e===rC){let n=t.getIndex();if(n===null){const o=[],a=t.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);t.setIndex(o),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const s=n.count-2,i=[];if(e===Sy)for(let o=1;o<=s;o++)i.push(n.getX(0)),i.push(n.getX(o)),i.push(n.getX(o+1));else for(let o=0;o<s;o++)o%2===0?(i.push(n.getX(o)),i.push(n.getX(o+1)),i.push(n.getX(o+2))):(i.push(n.getX(o+2)),i.push(n.getX(o+1)),i.push(n.getX(o)));i.length/3!==s&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const r=t.clone();return r.setIndex(i),r.clearGroups(),r}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}class GY extends $u{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new qY(n)}),this.register(function(n){return new XY(n)}),this.register(function(n){return new sZ(n)}),this.register(function(n){return new iZ(n)}),this.register(function(n){return new rZ(n)}),this.register(function(n){return new YY(n)}),this.register(function(n){return new ZY(n)}),this.register(function(n){return new JY(n)}),this.register(function(n){return new QY(n)}),this.register(function(n){return new WY(n)}),this.register(function(n){return new eZ(n)}),this.register(function(n){return new KY(n)}),this.register(function(n){return new nZ(n)}),this.register(function(n){return new tZ(n)}),this.register(function(n){return new VY(n)}),this.register(function(n){return new oZ(n)}),this.register(function(n){return new aZ(n)})}load(e,n,s,i){const r=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const c=Yd.extractUrlBase(e);o=Yd.resolveURL(c,this.path)}else o=Yd.extractUrlBase(e);this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),r.manager.itemError(e),r.manager.itemEnd(e)},l=new kC(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{r.parse(c,o,function(u){n(u),r.manager.itemEnd(e)},a)}catch(u){a(u)}},s,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,s,i){let r;const o={},a={},l=new TextDecoder;if(typeof e=="string")r=JSON.parse(e);else if(e instanceof ArrayBuffer)if(l.decode(new Uint8Array(e,0,4))===IC){try{o[vt.KHR_BINARY_GLTF]=new lZ(e)}catch(d){i&&i(d);return}r=JSON.parse(o[vt.KHR_BINARY_GLTF].content)}else r=JSON.parse(l.decode(e));else r=e;if(r.asset===void 0||r.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new wZ(r,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const d=this.pluginCallbacks[u](c);d.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[d.name]=d,o[d.name]=!0}if(r.extensionsUsed)for(let u=0;u<r.extensionsUsed.length;++u){const d=r.extensionsUsed[u],f=r.extensionsRequired||[];switch(d){case vt.KHR_MATERIALS_UNLIT:o[d]=new jY;break;case vt.KHR_DRACO_MESH_COMPRESSION:o[d]=new cZ(r,this.dracoLoader);break;case vt.KHR_TEXTURE_TRANSFORM:o[d]=new uZ;break;case vt.KHR_MESH_QUANTIZATION:o[d]=new dZ;break;default:f.indexOf(d)>=0&&a[d]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}c.setExtensions(o),c.setPlugins(a),c.parse(s,i)}parseAsync(e,n){const s=this;return new Promise(function(i,r){s.parse(e,n,i,r)})}}function zY(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const vt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class VY{constructor(e){this.parser=e,this.name=vt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let s=0,i=n.length;s<i;s++){const r=n[s];r.extensions&&r.extensions[this.name]&&r.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(e){const n=this.parser,s="light:"+e;let i=n.cache.get(s);if(i)return i;const r=n.json,l=((r.extensions&&r.extensions[this.name]||{}).lights||[])[e];let c;const u=new pt(16777215);l.color!==void 0&&u.setRGB(l.color[0],l.color[1],l.color[2],zn);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new PC(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new kY(u),c.distance=d;break;case"spot":c=new RY(u),c.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,Mr(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=n.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),n.cache.add(s,i),i}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,s=this.parser,r=s.json.nodes[e],a=(r.extensions&&r.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return s._getNodeRef(n.cache,a,l)})}}class jY{constructor(){this.name=vt.KHR_MATERIALS_UNLIT}getMaterialType(){return Uo}extendParams(e,n,s){const i=[];e.color=new pt(1,1,1),e.opacity=1;const r=n.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){const o=r.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],zn),e.opacity=o[3]}r.baseColorTexture!==void 0&&i.push(s.assignTexture(e,"map",r.baseColorTexture,as))}return Promise.all(i)}}class WY{constructor(e){this.parser=e,this.name=vt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=i.extensions[this.name].emissiveStrength;return r!==void 0&&(n.emissiveIntensity=r),Promise.resolve()}}class qY{constructor(e){this.parser=e,this.name=vt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:cr}extendMaterialParams(e,n){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(n.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&r.push(s.assignTexture(n,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&r.push(s.assignTexture(n,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(r.push(s.assignTexture(n,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new xt(a,a)}return Promise.all(r)}}class XY{constructor(e){this.parser=e,this.name=vt.KHR_MATERIALS_DISPERSION}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:cr}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=i.extensions[this.name];return n.dispersion=r.dispersion!==void 0?r.dispersion:0,Promise.resolve()}}class KY{constructor(e){this.parser=e,this.name=vt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:cr}extendMaterialParams(e,n){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(n.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&r.push(s.assignTexture(n,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(n.iridescenceIOR=o.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&r.push(s.assignTexture(n,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(r)}}class YY{constructor(e){this.parser=e,this.name=vt.KHR_MATERIALS_SHEEN}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:cr}extendMaterialParams(e,n){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[];n.sheenColor=new pt(0,0,0),n.sheenRoughness=0,n.sheen=1;const o=i.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;n.sheenColor.setRGB(a[0],a[1],a[2],zn)}return o.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&r.push(s.assignTexture(n,"sheenColorMap",o.sheenColorTexture,as)),o.sheenRoughnessTexture!==void 0&&r.push(s.assignTexture(n,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(r)}}class ZY{constructor(e){this.parser=e,this.name=vt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:cr}extendMaterialParams(e,n){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(n.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&r.push(s.assignTexture(n,"transmissionMap",o.transmissionTexture)),Promise.all(r)}}class JY{constructor(e){this.parser=e,this.name=vt.KHR_MATERIALS_VOLUME}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:cr}extendMaterialParams(e,n){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];n.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&r.push(s.assignTexture(n,"thicknessMap",o.thicknessTexture)),n.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return n.attenuationColor=new pt().setRGB(a[0],a[1],a[2],zn),Promise.all(r)}}class QY{constructor(e){this.parser=e,this.name=vt.KHR_MATERIALS_IOR}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:cr}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=i.extensions[this.name];return n.ior=r.ior!==void 0?r.ior:1.5,Promise.resolve()}}class eZ{constructor(e){this.parser=e,this.name=vt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:cr}extendMaterialParams(e,n){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];n.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&r.push(s.assignTexture(n,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return n.specularColor=new pt().setRGB(a[0],a[1],a[2],zn),o.specularColorTexture!==void 0&&r.push(s.assignTexture(n,"specularColorMap",o.specularColorTexture,as)),Promise.all(r)}}class tZ{constructor(e){this.parser=e,this.name=vt.EXT_MATERIALS_BUMP}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:cr}extendMaterialParams(e,n){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];return n.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&r.push(s.assignTexture(n,"bumpMap",o.bumpTexture)),Promise.all(r)}}class nZ{constructor(e){this.parser=e,this.name=vt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:cr}extendMaterialParams(e,n){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(n.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(n.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&r.push(s.assignTexture(n,"anisotropyMap",o.anisotropyTexture)),Promise.all(r)}}class sZ{constructor(e){this.parser=e,this.name=vt.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,s=n.json,i=s.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const r=i.extensions[this.name],o=n.options.ktx2Loader;if(!o){if(s.extensionsRequired&&s.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,r.source,o)}}class iZ{constructor(e){this.parser=e,this.name=vt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,s=this.parser,i=s.json,r=i.textures[e];if(!r.extensions||!r.extensions[n])return null;const o=r.extensions[n],a=i.images[o.source];let l=s.textureLoader;if(a.uri){const c=s.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return s.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return s.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class rZ{constructor(e){this.parser=e,this.name=vt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,s=this.parser,i=s.json,r=i.textures[e];if(!r.extensions||!r.extensions[n])return null;const o=r.extensions[n],a=i.images[o.source];let l=s.textureLoader;if(a.uri){const c=s.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return s.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return s.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class oZ{constructor(e){this.name=vt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,s=n.bufferViews[e];if(s.extensions&&s.extensions[this.name]){const i=s.extensions[this.name],r=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return r.then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,u=i.count,d=i.byteStride,f=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,d,f,i.mode,i.filter).then(function(h){return h.buffer}):o.ready.then(function(){const h=new ArrayBuffer(u*d);return o.decodeGltfBuffer(new Uint8Array(h),u,d,f,i.mode,i.filter),h})})}else return null}}class aZ{constructor(e){this.name=vt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,s=n.nodes[e];if(!s.extensions||!s.extensions[this.name]||s.mesh===void 0)return null;const i=n.meshes[s.mesh];for(const c of i.primitives)if(c.mode!==ti.TRIANGLES&&c.mode!==ti.TRIANGLE_STRIP&&c.mode!==ti.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=s.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(u=>(l[c]=u,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const u=c.pop(),d=u.isGroup?u.children:[u],f=c[0].count,h=[];for(const y of d){const _=new yt,p=new ae,g=new Jr,b=new ae(1,1,1),v=new lY(y.geometry,y.material,f);for(let w=0;w<f;w++)l.TRANSLATION&&p.fromBufferAttribute(l.TRANSLATION,w),l.ROTATION&&g.fromBufferAttribute(l.ROTATION,w),l.SCALE&&b.fromBufferAttribute(l.SCALE,w),v.setMatrixAt(w,_.compose(p,g,b));for(const w in l)if(w==="_COLOR_0"){const A=l[w];v.instanceColor=new My(A.array,A.itemSize,A.normalized)}else w!=="TRANSLATION"&&w!=="ROTATION"&&w!=="SCALE"&&y.geometry.setAttribute(w,l[w]);nn.prototype.copy.call(v,y),this.parser.assignFinalMaterial(v),h.push(v)}return u.isGroup?(u.clear(),u.add(...h),u):h[0]}))}}const IC="glTF",id=12,GS={JSON:1313821514,BIN:5130562};class lZ{constructor(e){this.name=vt.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,id),s=new TextDecoder;if(this.header={magic:s.decode(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==IC)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-id,r=new DataView(e,id);let o=0;for(;o<i;){const a=r.getUint32(o,!0);o+=4;const l=r.getUint32(o,!0);if(o+=4,l===GS.JSON){const c=new Uint8Array(e,id+o,a);this.content=s.decode(c)}else if(l===GS.BIN){const c=id+o;this.body=e.slice(c,c+a)}o+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class cZ{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=vt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const s=this.json,i=this.dracoLoader,r=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const d=Cy[u]||u.toLowerCase();a[d]=o[u]}for(const u in e.attributes){const d=Cy[u]||u.toLowerCase();if(o[u]!==void 0){const f=s.accessors[e.attributes[u]],h=Nc[f.componentType];c[d]=h.name,l[d]=f.normalized===!0}}return n.getDependency("bufferView",r).then(function(u){return new Promise(function(d,f){i.decodeDracoFile(u,function(h){for(const y in h.attributes){const _=h.attributes[y],p=l[y];p!==void 0&&(_.normalized=p)}d(h)},a,c,zn,f)})})}}class uZ{constructor(){this.name=vt.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class dZ{constructor(){this.name=vt.KHR_MESH_QUANTIZATION}}class OC extends jf{constructor(e,n,s,i){super(e,n,s,i)}copySampleValue_(e){const n=this.resultBuffer,s=this.sampleValues,i=this.valueSize,r=e*i*3+i;for(let o=0;o!==i;o++)n[o]=s[r+o];return n}interpolate_(e,n,s,i){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=i-n,d=(s-n)/u,f=d*d,h=f*d,y=e*c,_=y-c,p=-2*h+3*f,g=h-f,b=1-p,v=g-f+d;for(let w=0;w!==a;w++){const A=o[_+w+a],x=o[_+w+l]*u,T=o[y+w+a],M=o[y+w]*u;r[w]=b*A+v*x+p*T+g*M}return r}}const fZ=new Jr;class hZ extends OC{interpolate_(e,n,s,i){const r=super.interpolate_(e,n,s,i);return fZ.fromArray(r).normalize().toArray(r),r}}const ti={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Nc={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},zS={9728:us,9729:Gs,9984:K5,9985:Gp,9986:Md,9987:Lr},VS={33071:No,33648:Tm,10497:ou},v0={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Cy={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},fo={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},pZ={CUBICSPLINE:void 0,LINEAR:vf,STEP:bf},w0={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function mZ(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new fw({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Vr})),t.DefaultMaterial}function xa(t,e,n){for(const s in n.extensions)t[s]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[s]=n.extensions[s])}function Mr(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function gZ(t,e,n){let s=!1,i=!1,r=!1;for(let c=0,u=e.length;c<u;c++){const d=e[c];if(d.POSITION!==void 0&&(s=!0),d.NORMAL!==void 0&&(i=!0),d.COLOR_0!==void 0&&(r=!0),s&&i&&r)break}if(!s&&!i&&!r)return Promise.resolve(t);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const d=e[c];if(s){const f=d.POSITION!==void 0?n.getDependency("accessor",d.POSITION):t.attributes.position;o.push(f)}if(i){const f=d.NORMAL!==void 0?n.getDependency("accessor",d.NORMAL):t.attributes.normal;a.push(f)}if(r){const f=d.COLOR_0!==void 0?n.getDependency("accessor",d.COLOR_0):t.attributes.color;l.push(f)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],f=c[2];return s&&(t.morphAttributes.position=u),i&&(t.morphAttributes.normal=d),r&&(t.morphAttributes.color=f),t.morphTargetsRelative=!0,t})}function _Z(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,s=e.weights.length;n<s;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let s=0,i=n.length;s<i;s++)t.morphTargetDictionary[n[s]]=s}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function yZ(t){let e;const n=t.extensions&&t.extensions[vt.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+x0(n.attributes):e=t.indices+":"+x0(t.attributes)+":"+t.mode,t.targets!==void 0)for(let s=0,i=t.targets.length;s<i;s++)e+=":"+x0(t.targets[s]);return e}function x0(t){let e="";const n=Object.keys(t).sort();for(let s=0,i=n.length;s<i;s++)e+=n[s]+":"+t[n[s]]+";";return e}function ky(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function bZ(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const vZ=new yt;class wZ{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new zY,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let s=!1,i=-1,r=!1,o=-1;if(typeof navigator<"u"){const a=navigator.userAgent;s=/^((?!chrome|android).)*safari/i.test(a)===!0;const l=a.match(/Version\/(\d+)/);i=s&&l?parseInt(l[1],10):-1,r=a.indexOf("Firefox")>-1,o=r?a.match(/Firefox\/([0-9]+)\./)[1]:-1}typeof createImageBitmap>"u"||s&&i<17||r&&o<98?this.textureLoader=new TY(this.options.manager):this.textureLoader=new IY(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new kC(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const s=this,i=this.json,r=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([s.getDependencies("scene"),s.getDependencies("animation"),s.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:s,userData:{}};return xa(r,a,i),Mr(a,i),Promise.all(s._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],s=this.json.meshes||[];for(let i=0,r=n.length;i<r;i++){const o=n[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,r=e.length;i<r;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(s[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,s){if(e.refs[n]<=1)return s;const i=s.clone(),r=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())r(u,a.children[c])};return r(s,i),i.name+="_instance_"+e.uses[n]++,i}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let s=0;s<n.length;s++){const i=e(n[s]);if(i)return i}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const s=[];for(let i=0;i<n.length;i++){const r=e(n[i]);r&&s.push(r)}return s}getDependency(e,n){const s=e+":"+n;let i=this.cache.get(s);if(!i){switch(e){case"scene":i=this.loadScene(n);break;case"node":i=this._invokeOne(function(r){return r.loadNode&&r.loadNode(n)});break;case"mesh":i=this._invokeOne(function(r){return r.loadMesh&&r.loadMesh(n)});break;case"accessor":i=this.loadAccessor(n);break;case"bufferView":i=this._invokeOne(function(r){return r.loadBufferView&&r.loadBufferView(n)});break;case"buffer":i=this.loadBuffer(n);break;case"material":i=this._invokeOne(function(r){return r.loadMaterial&&r.loadMaterial(n)});break;case"texture":i=this._invokeOne(function(r){return r.loadTexture&&r.loadTexture(n)});break;case"skin":i=this.loadSkin(n);break;case"animation":i=this._invokeOne(function(r){return r.loadAnimation&&r.loadAnimation(n)});break;case"camera":i=this.loadCamera(n);break;default:if(i=this._invokeOne(function(r){return r!=this&&r.getDependency&&r.getDependency(e,n)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(s,i)}return i}getDependencies(e){let n=this.cache.get(e);if(!n){const s=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(i.map(function(r,o){return s.getDependency(e,o)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],s=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[vt.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(r,o){s.load(Yd.resolveURL(n.uri,i.path),r,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(s){const i=n.byteLength||0,r=n.byteOffset||0;return s.slice(r,r+i)})}loadAccessor(e){const n=this,s=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=v0[i.type],a=Nc[i.componentType],l=i.normalized===!0,c=new a(i.count*o);return Promise.resolve(new ds(c,o,l))}const r=[];return i.bufferView!==void 0?r.push(this.getDependency("bufferView",i.bufferView)):r.push(null),i.sparse!==void 0&&(r.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(r).then(function(o){const a=o[0],l=v0[i.type],c=Nc[i.componentType],u=c.BYTES_PER_ELEMENT,d=u*l,f=i.byteOffset||0,h=i.bufferView!==void 0?s.bufferViews[i.bufferView].byteStride:void 0,y=i.normalized===!0;let _,p;if(h&&h!==d){const g=Math.floor(f/h),b="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+g+":"+i.count;let v=n.cache.get(b);v||(_=new c(a,g*h,i.count*h/u),v=new sY(_,h/u),n.cache.add(b,v)),p=new cw(v,l,f%h/u,y)}else a===null?_=new c(i.count*l):_=new c(a,f,i.count*l),p=new ds(_,l,y);if(i.sparse!==void 0){const g=v0.SCALAR,b=Nc[i.sparse.indices.componentType],v=i.sparse.indices.byteOffset||0,w=i.sparse.values.byteOffset||0,A=new b(o[1],v,i.sparse.count*g),x=new c(o[2],w,i.sparse.count*l);a!==null&&(p=new ds(p.array.slice(),p.itemSize,p.normalized));for(let T=0,M=A.length;T<M;T++){const E=A[T];if(p.setX(E,x[T*l]),l>=2&&p.setY(E,x[T*l+1]),l>=3&&p.setZ(E,x[T*l+2]),l>=4&&p.setW(E,x[T*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return p})}loadTexture(e){const n=this.json,s=this.options,r=n.textures[e].source,o=n.images[r];let a=this.textureLoader;if(o.uri){const l=s.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,r,a)}loadTextureImage(e,n,s){const i=this,r=this.json,o=r.textures[e],a=r.images[n],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(n,s).then(function(u){u.flipY=!1,u.name=o.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);const f=(r.samplers||{})[o.sampler]||{};return u.magFilter=zS[f.magFilter]||Gs,u.minFilter=zS[f.minFilter]||Lr,u.wrapS=VS[f.wrapS]||ou,u.wrapT=VS[f.wrapT]||ou,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,n){const s=this,i=this.json,r=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=s.getDependency("bufferView",o.bufferView).then(function(d){c=!0;const f=new Blob([d],{type:o.mimeType});return l=a.createObjectURL(f),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(d){return new Promise(function(f,h){let y=f;n.isImageBitmapLoader===!0&&(y=function(_){const p=new $n(_);p.needsUpdate=!0,f(p)}),n.load(Yd.resolveURL(d,r.path),y,void 0,h)})}).then(function(d){return c===!0&&a.revokeObjectURL(l),Mr(d,o),d.userData.mimeType=o.mimeType||bZ(o.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=u,u}assignTexture(e,n,s,i){const r=this;return this.getDependency("texture",s.index).then(function(o){if(!o)return null;if(s.texCoord!==void 0&&s.texCoord>0&&(o=o.clone(),o.channel=s.texCoord),r.extensions[vt.KHR_TEXTURE_TRANSFORM]){const a=s.extensions!==void 0?s.extensions[vt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=r.associations.get(o);o=r.extensions[vt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),r.associations.set(o,l)}}return i!==void 0&&(o.colorSpace=i),e[n]=o,o})}assignFinalMaterial(e){const n=e.geometry;let s=e.material;const i=n.attributes.tangent===void 0,r=n.attributes.color!==void 0,o=n.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+s.uuid;let l=this.cache.get(a);l||(l=new MC,er.prototype.copy.call(l,s),l.color.copy(s.color),l.map=s.map,l.sizeAttenuation=!1,this.cache.add(a,l)),s=l}else if(e.isLine){const a="LineBasicMaterial:"+s.uuid;let l=this.cache.get(a);l||(l=new AC,er.prototype.copy.call(l,s),l.color.copy(s.color),l.map=s.map,this.cache.add(a,l)),s=l}if(i||r||o){let a="ClonedMaterial:"+s.uuid+":";i&&(a+="derivative-tangents:"),r&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=s.clone(),r&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(s))),s=l}e.material=s}getMaterialType(){return fw}loadMaterial(e){const n=this,s=this.json,i=this.extensions,r=s.materials[e];let o;const a={},l=r.extensions||{},c=[];if(l[vt.KHR_MATERIALS_UNLIT]){const d=i[vt.KHR_MATERIALS_UNLIT];o=d.getMaterialType(),c.push(d.extendParams(a,r,n))}else{const d=r.pbrMetallicRoughness||{};if(a.color=new pt(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const f=d.baseColorFactor;a.color.setRGB(f[0],f[1],f[2],zn),a.opacity=f[3]}d.baseColorTexture!==void 0&&c.push(n.assignTexture(a,"map",d.baseColorTexture,as)),a.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,a.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(c.push(n.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),c.push(n.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),o=this._invokeOne(function(f){return f.getMaterialType&&f.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(f){return f.extendMaterialParams&&f.extendMaterialParams(e,a)})))}r.doubleSided===!0&&(a.side=Wi);const u=r.alphaMode||w0.OPAQUE;if(u===w0.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===w0.MASK&&(a.alphaTest=r.alphaCutoff!==void 0?r.alphaCutoff:.5)),r.normalTexture!==void 0&&o!==Uo&&(c.push(n.assignTexture(a,"normalMap",r.normalTexture)),a.normalScale=new xt(1,1),r.normalTexture.scale!==void 0)){const d=r.normalTexture.scale;a.normalScale.set(d,d)}if(r.occlusionTexture!==void 0&&o!==Uo&&(c.push(n.assignTexture(a,"aoMap",r.occlusionTexture)),r.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=r.occlusionTexture.strength)),r.emissiveFactor!==void 0&&o!==Uo){const d=r.emissiveFactor;a.emissive=new pt().setRGB(d[0],d[1],d[2],zn)}return r.emissiveTexture!==void 0&&o!==Uo&&c.push(n.assignTexture(a,"emissiveMap",r.emissiveTexture,as)),Promise.all(c).then(function(){const d=new o(a);return r.name&&(d.name=r.name),Mr(d,r),n.associations.set(d,{materials:e}),r.extensions&&xa(i,d,r),d})}createUniqueName(e){const n=Ut.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,s=this.extensions,i=this.primitiveCache;function r(a){return s[vt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,n).then(function(l){return jS(l,a,n)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=yZ(c),d=i[u];if(d)o.push(d.promise);else{let f;c.extensions&&c.extensions[vt.KHR_DRACO_MESH_COMPRESSION]?f=r(c):f=jS(new lr,c,n),i[u]={primitive:c,promise:f},o.push(f)}}return Promise.all(o)}loadMesh(e){const n=this,s=this.json,i=this.extensions,r=s.meshes[e],o=r.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?mZ(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(n.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],d=[];for(let h=0,y=u.length;h<y;h++){const _=u[h],p=o[h];let g;const b=c[h];if(p.mode===ti.TRIANGLES||p.mode===ti.TRIANGLE_STRIP||p.mode===ti.TRIANGLE_FAN||p.mode===void 0)g=r.isSkinnedMesh===!0?new rY(_,b):new Es(_,b),g.isSkinnedMesh===!0&&g.normalizeSkinWeights(),p.mode===ti.TRIANGLE_STRIP?g.geometry=HS(g.geometry,rC):p.mode===ti.TRIANGLE_FAN&&(g.geometry=HS(g.geometry,Sy));else if(p.mode===ti.LINES)g=new cY(_,b);else if(p.mode===ti.LINE_STRIP)g=new dw(_,b);else if(p.mode===ti.LINE_LOOP)g=new uY(_,b);else if(p.mode===ti.POINTS)g=new dY(_,b);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+p.mode);Object.keys(g.geometry.morphAttributes).length>0&&_Z(g,r),g.name=n.createUniqueName(r.name||"mesh_"+e),Mr(g,r),p.extensions&&xa(i,g,p),n.assignFinalMaterial(g),d.push(g)}for(let h=0,y=d.length;h<y;h++)n.associations.set(d[h],{meshes:e,primitives:h});if(d.length===1)return r.extensions&&xa(i,d[0],r),d[0];const f=new qa;r.extensions&&xa(i,f,r),n.associations.set(f,{meshes:e});for(let h=0,y=d.length;h<y;h++)f.add(d[h]);return f})}loadCamera(e){let n;const s=this.json.cameras[e],i=s[s.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return s.type==="perspective"?n=new Yn(WV.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):s.type==="orthographic"&&(n=new aw(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),s.name&&(n.name=this.createUniqueName(s.name)),Mr(n,s),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],s=[];for(let i=0,r=n.joints.length;i<r;i++)s.push(this._loadNodeShallow(n.joints[i]));return n.inverseBindMatrices!==void 0?s.push(this.getDependency("accessor",n.inverseBindMatrices)):s.push(null),Promise.all(s).then(function(i){const r=i.pop(),o=i,a=[],l=[];for(let c=0,u=o.length;c<u;c++){const d=o[c];if(d){a.push(d);const f=new yt;r!==null&&f.fromArray(r.array,c*16),l.push(f)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[c])}return new uw(a,l)})}loadAnimation(e){const n=this.json,s=this,i=n.animations[e],r=i.name?i.name:"animation_"+e,o=[],a=[],l=[],c=[],u=[];for(let d=0,f=i.channels.length;d<f;d++){const h=i.channels[d],y=i.samplers[h.sampler],_=h.target,p=_.node,g=i.parameters!==void 0?i.parameters[y.input]:y.input,b=i.parameters!==void 0?i.parameters[y.output]:y.output;_.node!==void 0&&(o.push(this.getDependency("node",p)),a.push(this.getDependency("accessor",g)),l.push(this.getDependency("accessor",b)),c.push(y),u.push(_))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c),Promise.all(u)]).then(function(d){const f=d[0],h=d[1],y=d[2],_=d[3],p=d[4],g=[];for(let b=0,v=f.length;b<v;b++){const w=f[b],A=h[b],x=y[b],T=_[b],M=p[b];if(w===void 0)continue;w.updateMatrix&&w.updateMatrix();const E=s._createAnimationTracks(w,A,x,T,M);if(E)for(let S=0;S<E.length;S++)g.push(E[S])}return new yY(r,void 0,g)})}createNodeMesh(e){const n=this.json,s=this,i=n.nodes[e];return i.mesh===void 0?null:s.getDependency("mesh",i.mesh).then(function(r){const o=s._getNodeRef(s.meshCache,i.mesh,r);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const n=this.json,s=this,i=n.nodes[e],r=s._loadNodeShallow(e),o=[],a=i.children||[];for(let c=0,u=a.length;c<u;c++)o.push(s.getDependency("node",a[c]));const l=i.skin===void 0?Promise.resolve(null):s.getDependency("skin",i.skin);return Promise.all([r,Promise.all(o),l]).then(function(c){const u=c[0],d=c[1],f=c[2];f!==null&&u.traverse(function(h){h.isSkinnedMesh&&h.bind(f,vZ)});for(let h=0,y=d.length;h<y;h++)u.add(d[h]);return u})}_loadNodeShallow(e){const n=this.json,s=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const r=n.nodes[e],o=r.name?i.createUniqueName(r.name):"",a=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),r.camera!==void 0&&a.push(i.getDependency("camera",r.camera).then(function(c){return i._getNodeRef(i.cameraCache,r.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let u;if(r.isBone===!0?u=new SC:c.length>1?u=new qa:c.length===1?u=c[0]:u=new nn,u!==c[0])for(let d=0,f=c.length;d<f;d++)u.add(c[d]);if(r.name&&(u.userData.name=r.name,u.name=o),Mr(u,r),r.extensions&&xa(s,u,r),r.matrix!==void 0){const d=new yt;d.fromArray(r.matrix),u.applyMatrix4(d)}else r.translation!==void 0&&u.position.fromArray(r.translation),r.rotation!==void 0&&u.quaternion.fromArray(r.rotation),r.scale!==void 0&&u.scale.fromArray(r.scale);return i.associations.has(u)||i.associations.set(u,{}),i.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const n=this.extensions,s=this.json.scenes[e],i=this,r=new qa;s.name&&(r.name=i.createUniqueName(s.name)),Mr(r,s),s.extensions&&xa(n,r,s);const o=s.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let u=0,d=l.length;u<d;u++)r.add(l[u]);const c=u=>{const d=new Map;for(const[f,h]of i.associations)(f instanceof er||f instanceof $n)&&d.set(f,h);return u.traverse(f=>{const h=i.associations.get(f);h!=null&&d.set(f,h)}),d};return i.associations=c(r),r})}_createAnimationTracks(e,n,s,i,r){const o=[],a=e.name?e.name:e.uuid,l=[];fo[r.path]===fo.weights?e.traverse(function(f){f.morphTargetInfluences&&l.push(f.name?f.name:f.uuid)}):l.push(a);let c;switch(fo[r.path]){case fo.weights:c=du;break;case fo.rotation:c=fu;break;case fo.position:case fo.scale:c=hu;break;default:switch(s.itemSize){case 1:c=du;break;case 2:case 3:default:c=hu;break}break}const u=i.interpolation!==void 0?pZ[i.interpolation]:vf,d=this._getArrayFromAccessor(s);for(let f=0,h=l.length;f<h;f++){const y=new c(l[f]+"."+fo[r.path],n.array,d,u);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(y),o.push(y)}return o}_getArrayFromAccessor(e){let n=e.array;if(e.normalized){const s=ky(n.constructor),i=new Float32Array(n.length);for(let r=0,o=n.length;r<o;r++)i[r]=n[r]*s;n=i}return n}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(s){const i=this instanceof fu?hZ:OC;return new i(this.times,this.values,this.getValueSize()/3,s)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function xZ(t,e,n){const s=e.attributes,i=new Qr;if(s.POSITION!==void 0){const a=n.json.accessors[s.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new ae(l[0],l[1],l[2]),new ae(c[0],c[1],c[2])),a.normalized){const u=ky(Nc[a.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const r=e.targets;if(r!==void 0){const a=new ae,l=new ae;for(let c=0,u=r.length;c<u;c++){const d=r[c];if(d.POSITION!==void 0){const f=n.json.accessors[d.POSITION],h=f.min,y=f.max;if(h!==void 0&&y!==void 0){if(l.setX(Math.max(Math.abs(h[0]),Math.abs(y[0]))),l.setY(Math.max(Math.abs(h[1]),Math.abs(y[1]))),l.setZ(Math.max(Math.abs(h[2]),Math.abs(y[2]))),f.normalized){const _=ky(Nc[f.componentType]);l.multiplyScalar(_)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}t.boundingBox=i;const o=new ar;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,t.boundingSphere=o}function jS(t,e,n){const s=e.attributes,i=[];function r(o,a){return n.getDependency("accessor",o).then(function(l){t.setAttribute(a,l)})}for(const o in s){const a=Cy[o]||o.toLowerCase();a in t.attributes||i.push(r(s[o],a))}if(e.indices!==void 0&&!t.index){const o=n.getDependency("accessor",e.indices).then(function(a){t.setIndex(a)});i.push(o)}return Ct.workingColorSpace!==zn&&"COLOR_0"in s&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${Ct.workingColorSpace}" not supported.`),Mr(t,e),xZ(t,e,n),Promise.all(i).then(function(){return e.targets!==void 0?gZ(t,e.targets,n):t})}const EZ=it({name:"GyroModel",setup(){return{frameRequest:-1,camera:new Yn,scene:new xS,renderer:new wS,model:void 0,state:Ms(),root:tn()}},async mounted(){await this.initThree()},beforeUnmount(){cancelAnimationFrame(this.frameRequest)},methods:{async initThree(){const t=document.getElementById("container");if(!t)return;this.camera=new Yn(45,t.clientWidth/t.clientHeight,.01,1e3),this.camera.position.z=140,this.camera.position.y=40,this.camera.lookAt(0,0,0);const e=new AY(14544639,986637,5),n=new PC(16777215,10);n.position.set(0,1e3,0),this.scene=new xS,this.scene.add(e,n);const s=new Lu,i=new Uo({color:65280,wireframe:!0}),r=new Es(s,i);this.scene.add(r);const a=await new GY().loadAsync("gt20.glb");this.model=a.scene.children[0],this.scene.add(this.model),this.renderer=new wS({antialias:!0,alpha:!0}),this.renderer.setClearColor(0,0),this.renderer.setSize(t.clientWidth,t.clientHeight),t.replaceChildren(this.renderer.domElement),this.animate()},animate(){if(this.model&&this.state.GEstG){const t=new ae(0,1,0),e=new ae(this.state.GEstG[0],this.state.GEstG[2],-this.state.GEstG[1]);e.normalize();const n=new Jr;n.setFromUnitVectors(t,e),this.model.rotation.setFromQuaternion(n)}this.renderer.render(this.scene,this.camera),this.frameRequest=requestAnimationFrame(this.animate)}}}),SZ={class:"card"},TZ={class:"card-header"},AZ=m("p",{class:"card-header-title"},"Model",-1),MZ=m("div",{class:"card-content"},[m("div",{class:"content"},[m("div",{id:"container",style:{height:"30vh",width:"100%"}}),m("small",{class:"float-right"},"Model: TKS GT20 by Tarkusx")])],-1);function RZ(t,e,n,s,i,r){const o=Le("spinner-btn");return Q(),re("div",SZ,[m("header",TZ,[AZ,J(o,{class:"card-header-button is-primary",onClick:e[0]||(e[0]=a=>t.root.cal_imu())},{default:tt(()=>[we(" calibrate ")]),_:1})]),MZ])}const LC=ct(EZ,[["render",RZ]]),CZ=it({name:"Home",components:{Motor:QB,Voltage:iG,Serial:CG,VTX:Oz,GyroModel:LC},setup(){return{profile:Gt()}}}),kZ={class:"columns is-multiline"},PZ={class:"column is-12"},IZ={class:"column is-12"},OZ={class:"columns"},LZ={class:"column is-6"},DZ={class:"column is-6"},NZ={class:"columns"},UZ={class:"column is-12"};function $Z(t,e,n,s,i,r){const o=Le("GyroModel"),a=Le("Motor"),l=Le("Voltage"),c=Le("Serial"),u=Le("VTX");return Q(),re(ot,null,[m("div",kZ,[m("div",PZ,[J(o)]),m("div",IZ,[J(a)])]),m("div",OZ,[m("div",LZ,[J(l)]),m("div",DZ,[J(c)])]),m("div",NZ,[m("div",UZ,[t.profile.serial.smart_audio!=0||t.profile.serial.hdzero!=0?(Q(),Vt(u,{key:0})):Ve("",!0)])])],64)}const FZ=ct(CZ,[["render",$Z]]);/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Wf(t){return t+.5|0}const Fo=(t,e,n)=>Math.max(Math.min(t,n),e);function Cd(t){return Fo(Wf(t*2.55),0,255)}function Xo(t){return Fo(Wf(t*255),0,255)}function Cr(t){return Fo(Wf(t/2.55)/100,0,1)}function WS(t){return Fo(Wf(t*100),0,100)}const Js={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Py=[..."0123456789ABCDEF"],BZ=t=>Py[t&15],HZ=t=>Py[(t&240)>>4]+Py[t&15],Wh=t=>(t&240)>>4===(t&15),GZ=t=>Wh(t.r)&&Wh(t.g)&&Wh(t.b)&&Wh(t.a);function zZ(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Js[t[1]]*17,g:255&Js[t[2]]*17,b:255&Js[t[3]]*17,a:e===5?Js[t[4]]*17:255}:(e===7||e===9)&&(n={r:Js[t[1]]<<4|Js[t[2]],g:Js[t[3]]<<4|Js[t[4]],b:Js[t[5]]<<4|Js[t[6]],a:e===9?Js[t[7]]<<4|Js[t[8]]:255})),n}const VZ=(t,e)=>t<255?e(t):"";function jZ(t){var e=GZ(t)?BZ:HZ;return t?"#"+e(t.r)+e(t.g)+e(t.b)+VZ(t.a,e):void 0}const WZ=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function DC(t,e,n){const s=e*Math.min(n,1-n),i=(r,o=(r+t/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function qZ(t,e,n){const s=(i,r=(i+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function XZ(t,e,n){const s=DC(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)s[i]*=1-e-n,s[i]+=e;return s}function KZ(t,e,n,s,i){return t===i?(e-n)/s+(e<n?6:0):e===i?(n-t)/s+2:(t-e)/s+4}function gw(t){const n=t.r/255,s=t.g/255,i=t.b/255,r=Math.max(n,s,i),o=Math.min(n,s,i),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=KZ(n,s,i,u,r),l=l*60+.5),[l|0,c||0,a]}function _w(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(Xo)}function yw(t,e,n){return _w(DC,t,e,n)}function YZ(t,e,n){return _w(XZ,t,e,n)}function ZZ(t,e,n){return _w(qZ,t,e,n)}function NC(t){return(t%360+360)%360}function JZ(t){const e=WZ.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?Cd(+e[5]):Xo(+e[5]));const i=NC(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=YZ(i,r,o):e[1]==="hsv"?s=ZZ(i,r,o):s=yw(i,r,o),{r:s[0],g:s[1],b:s[2],a:n}}function QZ(t,e){var n=gw(t);n[0]=NC(n[0]+e),n=yw(n),t.r=n[0],t.g=n[1],t.b=n[2]}function eJ(t){if(!t)return;const e=gw(t),n=e[0],s=WS(e[1]),i=WS(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${i}%, ${Cr(t.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const qS={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},XS={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function tJ(){const t={},e=Object.keys(XS),n=Object.keys(qS);let s,i,r,o,a;for(s=0;s<e.length;s++){for(o=a=e[s],i=0;i<n.length;i++)r=n[i],a=a.replace(r,qS[r]);r=parseInt(XS[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let qh;function nJ(t){qh||(qh=tJ(),qh.transparent=[0,0,0,0]);const e=qh[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const sJ=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function iJ(t){const e=sJ.exec(t);let n=255,s,i,r;if(e){if(e[7]!==s){const o=+e[7];n=e[8]?Cd(o):Fo(o*255,0,255)}return s=+e[1],i=+e[3],r=+e[5],s=255&(e[2]?Cd(s):Fo(s,0,255)),i=255&(e[4]?Cd(i):Fo(i,0,255)),r=255&(e[6]?Cd(r):Fo(r,0,255)),{r:s,g:i,b:r,a:n}}}function rJ(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Cr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const E0=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,jl=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function oJ(t,e,n){const s=jl(Cr(t.r)),i=jl(Cr(t.g)),r=jl(Cr(t.b));return{r:Xo(E0(s+n*(jl(Cr(e.r))-s))),g:Xo(E0(i+n*(jl(Cr(e.g))-i))),b:Xo(E0(r+n*(jl(Cr(e.b))-r))),a:t.a+n*(e.a-t.a)}}function Xh(t,e,n){if(t){let s=gw(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=yw(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function UC(t,e){return t&&Object.assign(e||{},t)}function KS(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Xo(t[3]))):(e=UC(t,{r:0,g:0,b:0,a:1}),e.a=Xo(e.a)),e}function aJ(t){return t.charAt(0)==="r"?iJ(t):JZ(t)}class xf{constructor(e){if(e instanceof xf)return e;const n=typeof e;let s;n==="object"?s=KS(e):n==="string"&&(s=zZ(e)||nJ(e)||aJ(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=UC(this._rgb);return e&&(e.a=Cr(e.a)),e}set rgb(e){this._rgb=KS(e)}rgbString(){return this._valid?rJ(this._rgb):void 0}hexString(){return this._valid?jZ(this._rgb):void 0}hslString(){return this._valid?eJ(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,i=e.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=s.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,s.r=255&c*s.r+r*i.r+.5,s.g=255&c*s.g+r*i.g+.5,s.b=255&c*s.b+r*i.b+.5,s.a=o*s.a+(1-o)*i.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=oJ(this._rgb,e._rgb,n)),this}clone(){return new xf(this.rgb)}alpha(e){return this._rgb.a=Xo(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Wf(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Xh(this._rgb,2,e),this}darken(e){return Xh(this._rgb,2,-e),this}saturate(e){return Xh(this._rgb,1,e),this}desaturate(e){return Xh(this._rgb,1,-e),this}rotate(e){return QZ(this._rgb,e),this}}/*!
 * Chart.js v4.4.4
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function vr(){}const lJ=(()=>{let t=0;return()=>t++})();function jt(t){return t===null||typeof t>"u"}function dn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function kt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Un(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Os(t,e){return Un(t)?t:e}function St(t,e){return typeof t>"u"?e:t}const cJ=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function zt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function $t(t,e,n,s){let i,r,o;if(dn(t))for(r=t.length,i=0;i<r;i++)e.call(n,t[i],i);else if(kt(t))for(o=Object.keys(t),r=o.length,i=0;i<r;i++)e.call(n,t[o[i]],o[i])}function Im(t,e){let n,s,i,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(i=t[n],r=e[n],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function Om(t){if(dn(t))return t.map(Om);if(kt(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let i=0;for(;i<s;++i)e[n[i]]=Om(t[n[i]]);return e}return t}function $C(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function uJ(t,e,n,s){if(!$C(t))return;const i=e[t],r=n[t];kt(i)&&kt(r)?Ef(i,r,s):e[t]=Om(r)}function Ef(t,e,n){const s=dn(e)?e:[e],i=s.length;if(!kt(t))return t;n=n||{};const r=n.merger||uJ;let o;for(let a=0;a<i;++a){if(o=s[a],!kt(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],t,o,n)}return t}function Zd(t,e){return Ef(t,e,{merger:dJ})}function dJ(t,e,n){if(!$C(t))return;const s=e[t],i=n[t];kt(s)&&kt(i)?Zd(s,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Om(i))}const YS={"":t=>t,x:t=>t.x,y:t=>t.y};function fJ(t){const e=t.split("."),n=[];let s="";for(const i of e)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function hJ(t){const e=fJ(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function Lm(t,e){return(YS[e]||(YS[e]=hJ(e)))(t)}function bw(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Dm=t=>typeof t<"u",ea=t=>typeof t=="function",ZS=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function pJ(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const wn=Math.PI,ci=2*wn,mJ=ci+wn,Nm=Number.POSITIVE_INFINITY,gJ=wn/180,Vs=wn/2,Ea=wn/4,JS=wn*2/3,Bo=Math.log10,pu=Math.sign;function Jd(t,e,n){return Math.abs(t-e)<n}function QS(t){const e=Math.round(t);t=Jd(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Bo(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function _J(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((i,r)=>i-r).pop(),e}function mu(t){return!isNaN(parseFloat(t))&&isFinite(t)}function yJ(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function FC(t,e,n){let s,i,r;for(s=0,i=t.length;s<i;s++)r=t[s][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function Ho(t){return t*(wn/180)}function vw(t){return t*(180/wn)}function eT(t){if(!Un(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function bJ(t,e){const n=e.x-t.x,s=e.y-t.y,i=Math.sqrt(n*n+s*s);let r=Math.atan2(s,n);return r<-.5*wn&&(r+=ci),{angle:r,distance:i}}function Iy(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function vJ(t,e){return(t-e+mJ)%ci-wn}function Ai(t){return(t%ci+ci)%ci}function BC(t,e,n,s){const i=Ai(t),r=Ai(e),o=Ai(n),a=Ai(r-i),l=Ai(o-i),c=Ai(i-r),u=Ai(i-o);return i===r||i===o||s&&r===o||a>l&&c<u}function ri(t,e,n){return Math.max(e,Math.min(n,t))}function wJ(t){return ri(t,-32768,32767)}function kd(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function ww(t,e,n){n=n||(o=>t[o]<e);let s=t.length-1,i=0,r;for(;s-i>1;)r=i+s>>1,n(r)?i=r:s=r;return{lo:i,hi:s}}const Xa=(t,e,n,s)=>ww(t,n,s?i=>{const r=t[i][e];return r<n||r===n&&t[i+1][e]===n}:i=>t[i][e]<n),xJ=(t,e,n)=>ww(t,n,s=>t[s][e]>=n);function EJ(t,e,n){let s=0,i=t.length;for(;s<i&&t[s]<e;)s++;for(;i>s&&t[i-1]>n;)i--;return s>0||i<t.length?t.slice(s,i):t}const HC=["push","pop","shift","splice","unshift"];function SJ(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),HC.forEach(n=>{const s="_onData"+bw(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...r)}),o}})})}function tT(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(e);i!==-1&&s.splice(i,1),!(s.length>0)&&(HC.forEach(r=>{delete t[r]}),delete t._chartjs)}function TJ(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const GC=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function zC(t,e){let n=[],s=!1;return function(...i){n=i,s||(s=!0,GC.call(window,()=>{s=!1,t.apply(e,n)}))}}function AJ(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const xw=t=>t==="start"?"left":t==="end"?"right":"center",qn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,MJ=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function VC(t,e,n){const s=e.length;let i=0,r=s;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:d,maxDefined:f}=o.getUserBounds();d&&(i=ri(Math.min(Xa(a,l,c).lo,n?s:Xa(e,l,o.getPixelForValue(c)).lo),0,s-1)),f?r=ri(Math.max(Xa(a,o.axis,u,!0).hi+1,n?0:Xa(e,l,o.getPixelForValue(u),!0).hi+1),i,s)-i:r=s-i}return{start:i,count:r}}function jC(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=i,!0;const r=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,i),r}const Kh=t=>t===0||t===1,nT=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ci/n)),sT=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*ci/n)+1,Qd={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Vs)+1,easeOutSine:t=>Math.sin(t*Vs),easeInOutSine:t=>-.5*(Math.cos(wn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Kh(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Kh(t)?t:nT(t,.075,.3),easeOutElastic:t=>Kh(t)?t:sT(t,.075,.3),easeInOutElastic(t){return Kh(t)?t:t<.5?.5*nT(t*2,.1125,.45):.5+.5*sT(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Qd.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Qd.easeInBounce(t*2)*.5:Qd.easeOutBounce(t*2-1)*.5+.5};function Ew(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function iT(t){return Ew(t)?t:new xf(t)}function S0(t){return Ew(t)?t:new xf(t).saturate(.5).darken(.1).hexString()}const RJ=["x","y","borderWidth","radius","tension"],CJ=["color","borderColor","backgroundColor"];function kJ(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:CJ},numbers:{type:"number",properties:RJ}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function PJ(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const rT=new Map;function IJ(t,e){e=e||{};const n=t+JSON.stringify(e);let s=rT.get(n);return s||(s=new Intl.NumberFormat(t,e),rT.set(n,s)),s}function Sw(t,e,n){return IJ(e,n).format(t)}const WC={values(t){return dn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let i,r=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),r=OJ(t,n)}const o=Bo(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Sw(t,s,l)},logarithmic(t,e,n){if(t===0)return"0";const s=n[e].significand||t/Math.pow(10,Math.floor(Bo(t)));return[1,2,3,5,10,15].includes(s)||e>.8*n.length?WC.numeric.call(this,t,e,n):""}};function OJ(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var qg={formatters:WC};function LJ(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:qg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const fl=Object.create(null),Oy=Object.create(null);function ef(t,e){if(!e)return t;const n=e.split(".");for(let s=0,i=n.length;s<i;++s){const r=n[s];t=t[r]||(t[r]=Object.create(null))}return t}function T0(t,e,n){return typeof e=="string"?Ef(ef(t,e),n):Ef(ef(t,""),e)}class DJ{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>S0(i.backgroundColor),this.hoverBorderColor=(s,i)=>S0(i.borderColor),this.hoverColor=(s,i)=>S0(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return T0(this,e,n)}get(e){return ef(this,e)}describe(e,n){return T0(Oy,e,n)}override(e,n){return T0(fl,e,n)}route(e,n,s,i){const r=ef(this,e),o=ef(this,s),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return kt(l)?Object.assign({},c,l):St(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var fn=new DJ({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[kJ,PJ,LJ]);function NJ(t){return!t||jt(t.size)||jt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Um(t,e,n,s,i){let r=e[i];return r||(r=e[i]=t.measureText(i).width,n.push(i)),r>s&&(s=r),s}function UJ(t,e,n,s){s=s||{};let i=s.data=s.data||{},r=s.garbageCollect=s.garbageCollect||[];s.font!==e&&(i=s.data={},r=s.garbageCollect=[],s.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,d,f;for(l=0;l<a;l++)if(d=n[l],d!=null&&!dn(d))o=Um(t,i,r,o,d);else if(dn(d))for(c=0,u=d.length;c<u;c++)f=d[c],f!=null&&!dn(f)&&(o=Um(t,i,r,o,f));t.restore();const h=r.length/2;if(h>n.length){for(l=0;l<h;l++)delete i[r[l]];r.splice(0,h)}return o}function Sa(t,e,n){const s=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*s)/s+i}function oT(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Ly(t,e,n,s){qC(t,e,n,s,null)}function qC(t,e,n,s,i){let r,o,a,l,c,u,d,f;const h=e.pointStyle,y=e.rotation,_=e.radius;let p=(y||0)*gJ;if(h&&typeof h=="object"&&(r=h.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(p),t.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),t.restore();return}if(!(isNaN(_)||_<=0)){switch(t.beginPath(),h){default:i?t.ellipse(n,s,i/2,_,0,0,ci):t.arc(n,s,_,0,ci),t.closePath();break;case"triangle":u=i?i/2:_,t.moveTo(n+Math.sin(p)*u,s-Math.cos(p)*_),p+=JS,t.lineTo(n+Math.sin(p)*u,s-Math.cos(p)*_),p+=JS,t.lineTo(n+Math.sin(p)*u,s-Math.cos(p)*_),t.closePath();break;case"rectRounded":c=_*.516,l=_-c,o=Math.cos(p+Ea)*l,d=Math.cos(p+Ea)*(i?i/2-c:l),a=Math.sin(p+Ea)*l,f=Math.sin(p+Ea)*(i?i/2-c:l),t.arc(n-d,s-a,c,p-wn,p-Vs),t.arc(n+f,s-o,c,p-Vs,p),t.arc(n+d,s+a,c,p,p+Vs),t.arc(n-f,s+o,c,p+Vs,p+wn),t.closePath();break;case"rect":if(!y){l=Math.SQRT1_2*_,u=i?i/2:l,t.rect(n-u,s-l,2*u,2*l);break}p+=Ea;case"rectRot":d=Math.cos(p)*(i?i/2:_),o=Math.cos(p)*_,a=Math.sin(p)*_,f=Math.sin(p)*(i?i/2:_),t.moveTo(n-d,s-a),t.lineTo(n+f,s-o),t.lineTo(n+d,s+a),t.lineTo(n-f,s+o),t.closePath();break;case"crossRot":p+=Ea;case"cross":d=Math.cos(p)*(i?i/2:_),o=Math.cos(p)*_,a=Math.sin(p)*_,f=Math.sin(p)*(i?i/2:_),t.moveTo(n-d,s-a),t.lineTo(n+d,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o);break;case"star":d=Math.cos(p)*(i?i/2:_),o=Math.cos(p)*_,a=Math.sin(p)*_,f=Math.sin(p)*(i?i/2:_),t.moveTo(n-d,s-a),t.lineTo(n+d,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o),p+=Ea,d=Math.cos(p)*(i?i/2:_),o=Math.cos(p)*_,a=Math.sin(p)*_,f=Math.sin(p)*(i?i/2:_),t.moveTo(n-d,s-a),t.lineTo(n+d,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o);break;case"line":o=i?i/2:Math.cos(p)*_,a=Math.sin(p)*_,t.moveTo(n-o,s-a),t.lineTo(n+o,s+a);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(p)*(i?i/2:_),s+Math.sin(p)*_);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Nr(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Tw(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Aw(t){t.restore()}function $J(t,e,n,s,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else i==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function FJ(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function BJ(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),jt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function HJ(t,e,n,s,i){if(i.strikethrough||i.underline){const r=t.measureText(s),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function GJ(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function hl(t,e,n,s,i,r={}){const o=dn(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,BJ(t,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&GJ(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),jt(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(c,n,s,r.maxWidth)),t.fillText(c,n,s,r.maxWidth),HJ(t,n,s,c,r),s+=Number(i.lineHeight);t.restore()}function $m(t,e){const{x:n,y:s,w:i,h:r,radius:o}=e;t.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*wn,wn,!0),t.lineTo(n,s+r-o.bottomLeft),t.arc(n+o.bottomLeft,s+r-o.bottomLeft,o.bottomLeft,wn,Vs,!0),t.lineTo(n+i-o.bottomRight,s+r),t.arc(n+i-o.bottomRight,s+r-o.bottomRight,o.bottomRight,Vs,0,!0),t.lineTo(n+i,s+o.topRight),t.arc(n+i-o.topRight,s+o.topRight,o.topRight,0,-Vs,!0),t.lineTo(n+o.topLeft,s)}const zJ=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,VJ=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function jJ(t,e){const n=(""+t).match(zJ);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const WJ=t=>+t||0;function XC(t,e){const n={},s=kt(e),i=s?Object.keys(e):e,r=kt(t)?s?o=>St(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=WJ(r(o));return n}function qJ(t){return XC(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Uc(t){return XC(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Qn(t){const e=qJ(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Tn(t,e){t=t||{},e=e||fn.font;let n=St(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=St(t.style,e.style);s&&!(""+s).match(VJ)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:St(t.family,e.family),lineHeight:jJ(St(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:St(t.weight,e.weight),string:""};return i.string=NJ(i),i}function Yh(t,e,n,s){let i,r,o;for(i=0,r=t.length;i<r;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function XJ(t,e,n){const{min:s,max:i}=t,r=cJ(e,(i-s)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(s,-Math.abs(r)),max:o(i,r)}}function ca(t,e){return Object.assign(Object.create(t),e)}function Mw(t,e=[""],n,s,i=()=>t[0]){const r=n||t;typeof s>"u"&&(s=JC("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:s,_getTarget:i,override:a=>Mw([a,...t],e,r,s)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return YC(a,l,()=>nQ(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return lT(a).includes(l)},ownKeys(a){return lT(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function gu(t,e,n,s){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:KC(t,s),setContext:r=>gu(t,r,n,s),override:r=>gu(t.override(r),e,n,s)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return YC(r,o,()=>YJ(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function KC(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:s,isScriptable:ea(n)?n:()=>n,isIndexable:ea(s)?s:()=>s}}const KJ=(t,e)=>t?t+bw(e):e,Rw=(t,e)=>kt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function YC(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function YJ(t,e,n){const{_proxy:s,_context:i,_subProxy:r,_descriptors:o}=t;let a=s[e];return ea(a)&&o.isScriptable(e)&&(a=ZJ(e,a,t,n)),dn(a)&&a.length&&(a=JJ(e,a,t,o.isIndexable)),Rw(e,a)&&(a=gu(a,i,r&&r[e],o)),a}function ZJ(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(r,o||s);return a.delete(t),Rw(t,l)&&(l=Cw(i._scopes,i,t,l)),l}function JJ(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&s(t))return e[r.index%e.length];if(kt(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=Cw(c,i,t,u);e.push(gu(d,r,o&&o[t],a))}}return e}function ZC(t,e,n){return ea(t)?t(e,n):t}const QJ=(t,e)=>t===!0?e:typeof t=="string"?Lm(e,t):void 0;function eQ(t,e,n,s,i){for(const r of e){const o=QJ(n,r);if(o){t.add(o);const a=ZC(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function Cw(t,e,n,s){const i=e._rootScopes,r=ZC(e._fallback,n,s),o=[...t,...i],a=new Set;a.add(s);let l=aT(a,o,n,r||n,s);return l===null||typeof r<"u"&&r!==n&&(l=aT(a,o,r,l,s),l===null)?!1:Mw(Array.from(a),[""],i,r,()=>tQ(e,n,s))}function aT(t,e,n,s,i){for(;n;)n=eQ(t,e,n,s,i);return n}function tQ(t,e,n){const s=t._getTarget();e in s||(s[e]={});const i=s[e];return dn(i)&&kt(n)?n:i||{}}function nQ(t,e,n,s){let i;for(const r of e)if(i=JC(KJ(r,t),n),typeof i<"u")return Rw(t,i)?Cw(n,s,t,i):i}function JC(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function lT(t){let e=t._keys;return e||(e=t._keys=sQ(t._scopes)),e}function sQ(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(s);return Array.from(e)}const iQ=Number.EPSILON||1e-14,_u=(t,e)=>e<t.length&&!t[e].skip&&t[e],QC=t=>t==="x"?"y":"x";function rQ(t,e,n,s){const i=t.skip?e:t,r=e,o=n.skip?e:n,a=Iy(r,i),l=Iy(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=s*c,f=s*u;return{previous:{x:r.x-d*(o.x-i.x),y:r.y-d*(o.y-i.y)},next:{x:r.x+f*(o.x-i.x),y:r.y+f*(o.y-i.y)}}}function oQ(t,e,n){const s=t.length;let i,r,o,a,l,c=_u(t,0);for(let u=0;u<s-1;++u)if(l=c,c=_u(t,u+1),!(!l||!c)){if(Jd(e[u],0,iQ)){n[u]=n[u+1]=0;continue}i=n[u]/e[u],r=n[u+1]/e[u],a=Math.pow(i,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=i*o*e[u],n[u+1]=r*o*e[u])}}function aQ(t,e,n="x"){const s=QC(n),i=t.length;let r,o,a,l=_u(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=_u(t,c+1),!a)continue;const u=a[n],d=a[s];o&&(r=(u-o[n])/3,a[`cp1${n}`]=u-r,a[`cp1${s}`]=d-r*e[c]),l&&(r=(l[n]-u)/3,a[`cp2${n}`]=u+r,a[`cp2${s}`]=d+r*e[c])}}function lQ(t,e="x"){const n=QC(e),s=t.length,i=Array(s).fill(0),r=Array(s);let o,a,l,c=_u(t,0);for(o=0;o<s;++o)if(a=l,l=c,c=_u(t,o+1),!!l){if(c){const u=c[e]-l[e];i[o]=u!==0?(c[n]-l[n])/u:0}r[o]=a?c?pu(i[o-1])!==pu(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}oQ(t,i,r),aQ(t,r,e)}function Zh(t,e,n){return Math.max(Math.min(t,n),e)}function cQ(t,e){let n,s,i,r,o,a=Nr(t[0],e);for(n=0,s=t.length;n<s;++n)o=r,r=a,a=n<s-1&&Nr(t[n+1],e),r&&(i=t[n],o&&(i.cp1x=Zh(i.cp1x,e.left,e.right),i.cp1y=Zh(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=Zh(i.cp2x,e.left,e.right),i.cp2y=Zh(i.cp2y,e.top,e.bottom)))}function uQ(t,e,n,s,i){let r,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")lQ(t,i);else{let c=s?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)a=t[r],l=rQ(c,a,t[Math.min(r+1,o-(s?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&cQ(t,n)}function kw(){return typeof window<"u"&&typeof document<"u"}function Pw(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Fm(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const Xg=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function dQ(t,e){return Xg(t).getPropertyValue(e)}const fQ=["top","right","bottom","left"];function nl(t,e,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const r=fQ[i];s[r]=parseFloat(t[e+"-"+r+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const hQ=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function pQ(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:i,offsetY:r}=s;let o=!1,a,l;if(hQ(i,r,t.target))a=i,l=r;else{const c=e.getBoundingClientRect();a=s.clientX-c.left,l=s.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Pa(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,i=Xg(n),r=i.boxSizing==="border-box",o=nl(i,"padding"),a=nl(i,"border","width"),{x:l,y:c,box:u}=pQ(t,n),d=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:h,height:y}=e;return r&&(h-=o.width+a.width,y-=o.height+a.height),{x:Math.round((l-d)/h*n.width/s),y:Math.round((c-f)/y*n.height/s)}}function mQ(t,e,n){let s,i;if(e===void 0||n===void 0){const r=t&&Pw(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const o=r.getBoundingClientRect(),a=Xg(r),l=nl(a,"border","width"),c=nl(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,s=Fm(a.maxWidth,r,"clientWidth"),i=Fm(a.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:s||Nm,maxHeight:i||Nm}}const Jh=t=>Math.round(t*10)/10;function gQ(t,e,n,s){const i=Xg(t),r=nl(i,"margin"),o=Fm(i.maxWidth,t,"clientWidth")||Nm,a=Fm(i.maxHeight,t,"clientHeight")||Nm,l=mQ(t,e,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const f=nl(i,"border","width"),h=nl(i,"padding");c-=h.width+f.width,u-=h.height+f.height}return c=Math.max(0,c-r.width),u=Math.max(0,s?c/s:u-r.height),c=Jh(Math.min(c,o,l.maxWidth)),u=Jh(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Jh(c/2)),(e!==void 0||n!==void 0)&&s&&l.height&&u>l.height&&(u=l.height,c=Jh(Math.floor(u*s))),{width:c,height:u}}function cT(t,e,n){const s=e||1,i=Math.floor(t.height*s),r=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||o.height!==i||o.width!==r?(t.currentDevicePixelRatio=s,o.height=i,o.width=r,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const _Q=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};kw()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function uT(t,e){const n=dQ(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Ia(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function yQ(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function bQ(t,e,n,s){const i={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=Ia(t,i,n),a=Ia(i,r,n),l=Ia(r,e,n),c=Ia(o,a,n),u=Ia(a,l,n);return Ia(c,u,n)}const vQ=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},wQ=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function $c(t,e,n){return t?vQ(e,n):wQ()}function ek(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function tk(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function nk(t){return t==="angle"?{between:BC,compare:vJ,normalize:Ai}:{between:kd,compare:(e,n)=>e-n,normalize:e=>e}}function dT({start:t,end:e,count:n,loop:s,style:i}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:i}}function xQ(t,e,n){const{property:s,start:i,end:r}=n,{between:o,normalize:a}=nk(s),l=e.length;let{start:c,end:u,loop:d}=t,f,h;if(d){for(c+=l,u+=l,f=0,h=l;f<h&&o(a(e[c%l][s]),i,r);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function EQ(t,e,n){if(!n)return[t];const{property:s,start:i,end:r}=n,o=e.length,{compare:a,between:l,normalize:c}=nk(s),{start:u,end:d,loop:f,style:h}=xQ(t,e,n),y=[];let _=!1,p=null,g,b,v;const w=()=>l(i,v,g)&&a(i,v)!==0,A=()=>a(r,g)===0||l(r,v,g),x=()=>_||w(),T=()=>!_||A();for(let M=u,E=u;M<=d;++M)b=e[M%o],!b.skip&&(g=c(b[s]),g!==v&&(_=l(g,i,r),p===null&&x()&&(p=a(g,i)===0?M:E),p!==null&&T()&&(y.push(dT({start:p,end:M,loop:f,count:o,style:h})),p=null),E=M,v=g));return p!==null&&y.push(dT({start:p,end:d,loop:f,count:o,style:h})),y}function SQ(t,e){const n=[],s=t.segments;for(let i=0;i<s.length;i++){const r=EQ(s[i],t.points,e);r.length&&n.push(...r)}return n}function TQ(t,e,n,s){let i=0,r=e-1;if(n&&!s)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(r+=i);r>i&&t[r%e].skip;)r--;return r%=e,{start:i,end:r}}function AQ(t,e,n,s){const i=t.length,r=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?a.skip||(s=!1,r.push({start:e%i,end:(l-1)%i,loop:s}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&r.push({start:e%i,end:o%i,loop:s}),r}function MQ(t,e){const n=t.points,s=t.options.spanGaps,i=n.length;if(!i)return[];const r=!!t._loop,{start:o,end:a}=TQ(n,i,r,s);if(s===!0)return fT(t,[{start:o,end:a,loop:r}],n,e);const l=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return fT(t,AQ(n,o,l,c),n,e)}function fT(t,e,n,s){return!s||!s.setContext||!n?e:RQ(t,e,n,s)}function RQ(t,e,n,s){const i=t._chart.getContext(),r=hT(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=r,d=e[0].start,f=d;function h(y,_,p,g){const b=a?-1:1;if(y!==_){for(y+=l;n[y%l].skip;)y-=b;for(;n[_%l].skip;)_+=b;y%l!==_%l&&(c.push({start:y%l,end:_%l,loop:p,style:g}),u=g,d=_%l)}}for(const y of e){d=a?d:y.start;let _=n[d%l],p;for(f=d+1;f<=y.end;f++){const g=n[f%l];p=hT(s.setContext(ca(i,{type:"segment",p0:_,p1:g,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),CQ(p,u)&&h(d,f-1,y.loop,u),_=g,u=p}d<f-1&&h(d,f-1,y.loop,u)}return c}function hT(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function CQ(t,e){if(!e)return!1;const n=[],s=function(i,r){return Ew(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(t,s)!==JSON.stringify(e,s)}/*!
 * Chart.js v4.4.4
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class kQ{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,i){const r=n.listeners[i],o=n.duration;r.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=GC.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const r=s.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,s,e,"progress")),r.length||(s.running=!1,this._notify(i,s,e,"complete"),s.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Sr=new kQ;const pT="transparent",PQ={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=iT(t||pT),i=s.valid&&iT(e||pT);return i&&i.valid?i.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class IQ{constructor(e,n,s,i){const r=n[s];i=Yh([e.to,i,r,e.from]);const o=Yh([e.from,r,i]);this._active=!0,this._fn=e.fn||PQ[e.type||typeof o],this._easing=Qd[e.easing]||Qd.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],r=s-this._start,o=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Yh([e.to,n,i,e.from]),this._from=Yh([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<s),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=r;return}l=n/s%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}}class sk{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!kt(e))return;const n=Object.keys(fn.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!kt(r))return;const o={};for(const a of n)o[a]=r[a];(dn(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!s.has(a))&&s.set(a,o)})})}_animateOptions(e,n){const s=n.options,i=LQ(e,s);if(!i)return[];const r=this._createAnimations(i,s);return s.$shared&&OQ(e.options.$animations,s).then(()=>{e.options=s},()=>{}),r}_createAnimations(e,n){const s=this._properties,i=[],r=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[c];let d=r[c];const f=s.get(c);if(d)if(f&&d.active()){d.update(f,u,a);continue}else d.cancel();if(!f||!f.duration){e[c]=u;continue}r[c]=d=new IQ(f,e,c,u),i.push(d)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return Sr.add(this._chart,s),!0}}function OQ(t,e){const n=[],s=Object.keys(e);for(let i=0;i<s.length;i++){const r=t[s[i]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function LQ(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function mT(t,e){const n=t&&t.options||{},s=n.reverse,i=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:s?r:i,end:s?i:r}}function DQ(t,e,n){if(n===!1)return!1;const s=mT(t,n),i=mT(e,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function NQ(t){let e,n,s,i;return kt(t)?(e=t.top,n=t.right,s=t.bottom,i=t.left):e=n=s=i=t,{top:e,right:n,bottom:s,left:i,disabled:t===!1}}function ik(t,e){const n=[],s=t._getSortedDatasetMetas(e);let i,r;for(i=0,r=s.length;i<r;++i)n.push(s[i].index);return n}function gT(t,e,n,s={}){const i=t.keys,r=s.mode==="single";let o,a,l,c;if(e!==null){for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(s.all)continue;break}c=t.values[l],Un(c)&&(r||e===0||pu(e)===pu(c))&&(e+=c)}return e}}function UQ(t,e){const{iScale:n,vScale:s}=e,i=n.axis==="x"?"x":"y",r=s.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[r]:t[u]};return a}function _T(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function $Q(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function FQ(t){const{min:e,max:n,minDefined:s,maxDefined:i}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function BQ(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function yT(t,e,n,s){for(const i of e.getMatchingVisibleMetas(s).reverse()){const r=t[i.index];if(n&&r>0||!n&&r<0)return i.index}return null}function bT(t,e){const{chart:n,_cachedMeta:s}=t,i=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=s,l=r.axis,c=o.axis,u=$Q(r,o,s),d=e.length;let f;for(let h=0;h<d;++h){const y=e[h],{[l]:_,[c]:p}=y,g=y._stacks||(y._stacks={});f=g[c]=BQ(i,u,_),f[a]=p,f._top=yT(f,o,!0,s.type),f._bottom=yT(f,o,!1,s.type);const b=f._visualValues||(f._visualValues={});b[a]=p}}function A0(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function HQ(t,e){return ca(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function GQ(t,e,n){return ca(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function rd(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const i of e){const r=i._stacks;if(!r||r[s]===void 0||r[s][n]===void 0)return;delete r[s][n],r[s]._visualValues!==void 0&&r[s]._visualValues[n]!==void 0&&delete r[s]._visualValues[n]}}}const M0=t=>t==="reset"||t==="none",vT=(t,e)=>e?t:Object.assign({},t),zQ=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:ik(n,!0),values:null};class Fc{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=_T(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&rd(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(d,f,h,y)=>d==="x"?f:d==="r"?y:h,r=n.xAxisID=St(s.xAxisID,A0(e,"x")),o=n.yAxisID=St(s.yAxisID,A0(e,"y")),a=n.rAxisID=St(s.rAxisID,A0(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,r,o,a),u=n.vAxisID=i(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&tT(this._data,this),e._stacked&&rd(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(kt(n)){const i=this._cachedMeta;this._data=UQ(n,i)}else if(s!==n){if(s){tT(s,this);const i=this._cachedMeta;rd(i),i._parsed=[]}n&&Object.isExtensible(n)&&SJ(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const r=n._stacked;n._stacked=_T(n.vScale,n),n.stack!==s.stack&&(i=!0,rd(n),n.stack=s.stack),this._resyncElements(e),(i||r!==n._stacked)&&bT(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:i}=this,{iScale:r,_stacked:o}=s,a=r.axis;let l=e===0&&n===i.length?!0:s._sorted,c=e>0&&s._parsed[e-1],u,d,f;if(this._parsing===!1)s._parsed=i,s._sorted=!0,f=i;else{dn(i[e])?f=this.parseArrayData(s,i,e,n):kt(i[e])?f=this.parseObjectData(s,i,e,n):f=this.parsePrimitiveData(s,i,e,n);const h=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<n;++u)s._parsed[u+e]=d=f[u],l&&(h()&&(l=!1),c=d);s._sorted=l}o&&bT(this,f)}parsePrimitiveData(e,n,s,i){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,d=new Array(i);let f,h,y;for(f=0,h=i;f<h;++f)y=f+s,d[f]={[a]:u||r.parse(c[y],y),[l]:o.parse(n[y],y)};return d}parseArrayData(e,n,s,i){const{xScale:r,yScale:o}=e,a=new Array(i);let l,c,u,d;for(l=0,c=i;l<c;++l)u=l+s,d=n[u],a[l]={x:r.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(e,n,s,i){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,d,f,h;for(u=0,d=i;u<d;++u)f=u+s,h=n[f],c[u]={x:r.parse(Lm(h,a),f),y:o.parse(Lm(h,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const i=this.chart,r=this._cachedMeta,o=n[e.axis],a={keys:ik(i,!0),values:n._stacks[e.axis]._visualValues};return gT(a,o,r.index,{mode:s})}updateRangeFromParsed(e,n,s,i){const r=s[n.axis];let o=r===null?NaN:r;const a=i&&s._stacks[n.axis];i&&a&&(i.values=a,o=gT(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const s=this._cachedMeta,i=s._parsed,r=s._sorted&&e===s.iScale,o=i.length,a=this._getOtherScale(e),l=zQ(n,s,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=FQ(a);let f,h;function y(){h=i[f];const _=h[a.axis];return!Un(h[e.axis])||u>_||d<_}for(f=0;f<o&&!(!y()&&(this.updateRangeFromParsed(c,e,h,l),r));++f);if(r){for(f=o-1;f>=0;--f)if(!y()){this.updateRangeFromParsed(c,e,h,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let i,r,o;for(i=0,r=n.length;i<r;++i)o=n[i][e.axis],Un(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,i=n.vScale,r=this.getParsed(e);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=NQ(St(this.options.clip,DQ(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(e,r,a,l),u=a;u<a+l;++u){const d=i[u];d.hidden||(d.active&&c?o.push(d):d.draw(e,r))}for(u=0;u<o.length;++u)o[u].draw(e,r)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=GQ(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=HQ(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=s,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const i=n==="active",r=this._cachedDataOpts,o=e+"-"+n,a=r[o],l=this.enableOptionSharing&&Dm(s);if(a)return vT(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),h=Object.keys(fn.elements[e]),y=()=>this.getContext(s,i,n),_=c.resolveNamedOptions(f,h,y,d);return _.$shared&&(_.$shared=l,r[o]=Object.freeze(vT(_,l))),_}_resolveAnimations(e,n,s){const i=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(f,this.getContext(e,s,n))}const c=new sk(i,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||M0(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),i=this._sharedOptions,r=this.getSharedOptions(s),o=this.includeOptions(n,r)||r!==i;return this.updateSharedOptions(r,n,s),{sharedOptions:r,includeOptions:o}}updateElement(e,n,s,i){M0(i)?Object.assign(e,s):this._resolveAnimations(n,i).update(e,s)}updateSharedOptions(e,n,s){e&&!M0(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,i){e.active=i;const r=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=s.length,r=n.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,n,s=!0){const i=this._cachedMeta,r=i.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),s&&this.updateElements(r,e,n,"reset")}updateElements(e,n,s,i){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(e,n);s._stacked&&rd(s,i)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,i]=e;this[n](s,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Z(Fc,"defaults",{}),Z(Fc,"datasetElementType",null),Z(Fc,"dataElementType",null);class Kp extends Fc{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:i=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=VC(n,i,o);this._drawStart=a,this._drawCount=l,jC(n)&&(a=0,l=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,n,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,i),f=o.axis,h=a.axis,{spanGaps:y,segment:_}=this.options,p=mu(y)?y:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||r||i==="none",b=n+s,v=e.length;let w=n>0&&this.getParsed(n-1);for(let A=0;A<v;++A){const x=e[A],T=g?x:{};if(A<n||A>=b){T.skip=!0;continue}const M=this.getParsed(A),E=jt(M[h]),S=T[f]=o.getPixelForValue(M[f],A),C=T[h]=r||E?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,M,l):M[h],A);T.skip=isNaN(S)||isNaN(C)||E,T.stop=A>0&&Math.abs(M[f]-w[f])>p,_&&(T.parsed=M,T.raw=c.data[A]),d&&(T.options=u||this.resolveDataElementOptions(A,x.active?"active":i)),g||this.updateElement(x,A,T,i),w=M}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return s;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Z(Kp,"id","line"),Z(Kp,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Z(Kp,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Yp extends Fc{getLabelAndValue(e){const n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:r}=n,o=this.getParsed(e),a=i.getLabelForValue(o.x),l=r.getLabelForValue(o.y);return{label:s[e]||"",value:"("+a+", "+l+")"}}update(e){const n=this._cachedMeta,{data:s=[]}=n,i=this.chart._animationsDisabled;let{start:r,count:o}=VC(n,s,i);if(this._drawStart=r,this._drawCount=o,jC(n)&&(r=0,o=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=s;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(s,r,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,i),d=this.getSharedOptions(u),f=this.includeOptions(i,d),h=o.axis,y=a.axis,{spanGaps:_,segment:p}=this.options,g=mu(_)?_:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||r||i==="none";let v=n>0&&this.getParsed(n-1);for(let w=n;w<n+s;++w){const A=e[w],x=this.getParsed(w),T=b?A:{},M=jt(x[y]),E=T[h]=o.getPixelForValue(x[h],w),S=T[y]=r||M?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,x,l):x[y],w);T.skip=isNaN(E)||isNaN(S)||M,T.stop=w>0&&Math.abs(x[h]-v[h])>g,p&&(T.parsed=x,T.raw=c.data[w]),f&&(T.options=d||this.resolveDataElementOptions(w,A.active?"active":i)),b||this.updateElement(A,w,T,i),v=x}this.updateSharedOptions(d,i,u)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const s=e.dataset,i=s.options&&s.options.borderWidth||0;if(!n.length)return i;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,r,o)/2}}Z(Yp,"id","scatter"),Z(Yp,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Z(Yp,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function Ta(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Iw{constructor(e){Z(this,"options");this.options=e||{}}static override(e){Object.assign(Iw.prototype,e)}init(){}formats(){return Ta()}parse(){return Ta()}format(){return Ta()}add(){return Ta()}diff(){return Ta()}startOf(){return Ta()}endOf(){return Ta()}}var rk={_date:Iw};function VQ(t,e,n,s){const{controller:i,data:r,_sorted:o}=t,a=i._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const l=a._reversePixels?xJ:Xa;if(s){if(i._sharedOptions){const c=r[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const d=l(r,e,n-u),f=l(r,e,n+u);return{lo:d.lo,hi:f.hi}}}}else return l(r,e,n)}return{lo:0,hi:r.length-1}}function qf(t,e,n,s,i){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:d,hi:f}=VQ(r[a],e,o,i);for(let h=d;h<=f;++h){const y=u[h];y.skip||s(y,c,h)}}}function jQ(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,i){const r=e?Math.abs(s.x-i.x):0,o=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function R0(t,e,n,s,i){const r=[];return!i&&!t.isPointInArea(e)||qf(t,n,e,function(a,l,c){!i&&!Nr(a,t.chartArea,0)||a.inRange(e.x,e.y,s)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function WQ(t,e,n,s){let i=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:d}=bJ(o,{x:e.x,y:e.y});BC(d,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return qf(t,n,e,r),i}function qQ(t,e,n,s,i,r){let o=[];const a=jQ(n);let l=Number.POSITIVE_INFINITY;function c(u,d,f){const h=u.inRange(e.x,e.y,i);if(s&&!h)return;const y=u.getCenterPoint(i);if(!(!!r||t.isPointInArea(y))&&!h)return;const p=a(e,y);p<l?(o=[{element:u,datasetIndex:d,index:f}],l=p):p===l&&o.push({element:u,datasetIndex:d,index:f})}return qf(t,n,e,c),o}function C0(t,e,n,s,i,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!s?WQ(t,e,n,i):qQ(t,e,n,s,i,r)}function wT(t,e,n,s,i){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return qf(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],i)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),s&&!a?[]:r}var XQ={evaluateInteractionItems:qf,modes:{index(t,e,n,s){const i=Pa(e,t),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?R0(t,i,r,s,o):C0(t,i,r,!1,s,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,s){const i=Pa(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?R0(t,i,r,s,o):C0(t,i,r,!1,s,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,s){const i=Pa(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return R0(t,i,r,s,o)},nearest(t,e,n,s){const i=Pa(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return C0(t,i,r,n.intersect,s,o)},x(t,e,n,s){const i=Pa(e,t);return wT(t,i,"x",n.intersect,s)},y(t,e,n,s){const i=Pa(e,t);return wT(t,i,"y",n.intersect,s)}}};const ok=["left","top","right","bottom"];function od(t,e){return t.filter(n=>n.pos===e)}function xT(t,e){return t.filter(n=>ok.indexOf(n.pos)===-1&&n.box.axis===e)}function ad(t,e){return t.sort((n,s)=>{const i=e?s:n,r=e?n:s;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function KQ(t){const e=[];let n,s,i,r,o,a;for(n=0,s=(t||[]).length;n<s;++n)i=t[n],{position:r,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return e}function YQ(t){const e={};for(const n of t){const{stack:s,pos:i,stackWeight:r}=n;if(!s||!ok.includes(i))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function ZQ(t,e){const n=YQ(t),{vBoxMaxWidth:s,hBoxMaxHeight:i}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*s:l&&e.availableWidth,a.height=i):(a.width=s,a.height=u?u*i:l&&e.availableHeight)}return n}function JQ(t){const e=KQ(t),n=ad(e.filter(c=>c.box.fullSize),!0),s=ad(od(e,"left"),!0),i=ad(od(e,"right")),r=ad(od(e,"top"),!0),o=ad(od(e,"bottom")),a=xT(e,"x"),l=xT(e,"y");return{fullSize:n,leftAndTop:s.concat(r),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:od(e,"chartArea"),vertical:s.concat(i).concat(l),horizontal:r.concat(o).concat(a)}}function ET(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function ak(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function QQ(t,e,n,s){const{pos:i,box:r}=n,o=t.maxPadding;if(!kt(i)){n.size&&(t[i]-=n.size);const d=s[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?r.height:r.width),n.size=d.size/d.count,t[i]+=n.size}r.getPadding&&ak(o,r.getPadding());const a=Math.max(0,e.outerWidth-ET(o,t,"left","right")),l=Math.max(0,e.outerHeight-ET(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function eee(t){const e=t.maxPadding;function n(s){const i=Math.max(e[s]-t[s],0);return t[s]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function tee(t,e){const n=e.maxPadding;function s(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(e[o],n[o])}),r}return s(t?["left","right"]:["top","bottom"])}function Pd(t,e,n,s){const i=[];let r,o,a,l,c,u;for(r=0,o=t.length,c=0;r<o;++r){a=t[r],l=a.box,l.update(a.width||e.w,a.height||e.h,tee(a.horizontal,e));const{same:d,other:f}=QQ(e,n,a,s);c|=d&&i.length,u=u||f,l.fullSize||i.push(a)}return c&&Pd(i,e,n,s)||u}function Qh(t,e,n,s,i){t.top=n,t.left=e,t.right=e+s,t.bottom=n+i,t.width=s,t.height=i}function ST(t,e,n,s){const i=n.padding;let{x:r,y:o}=e;for(const a of t){const l=a.box,c=s[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,f=c.size||l.height;Dm(c.start)&&(o=c.start),l.fullSize?Qh(l,i.left,o,n.outerWidth-i.right-i.left,f):Qh(l,e.left+c.placed,o,d,f),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,f=c.size||l.width;Dm(c.start)&&(r=c.start),l.fullSize?Qh(l,r,i.top,f,n.outerHeight-i.bottom-i.top):Qh(l,r,e.top+c.placed,f,d),c.start=r,c.placed+=d,r=l.right}}e.x=r,e.y=o}var oi={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const i=Qn(t.options.layout.padding),r=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=JQ(t.boxes),l=a.vertical,c=a.horizontal;$t(t.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const u=l.reduce((_,p)=>p.box.options&&p.box.options.display===!1?_:_+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},i);ak(f,Qn(s));const h=Object.assign({maxPadding:f,w:r,h:o,x:i.left,y:i.top},i),y=ZQ(l.concat(c),d);Pd(a.fullSize,h,d,y),Pd(l,h,d,y),Pd(c,h,d,y)&&Pd(l,h,d,y),eee(h),ST(a.leftAndTop,h,d,y),h.x+=h.w,h.y+=h.h,ST(a.rightAndBottom,h,d,y),t.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},$t(a.chartArea,_=>{const p=_.box;Object.assign(p,t.chartArea),p.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class lk{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,i){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(e){return!0}updateConfig(e){}}class nee extends lk{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Zp="$chartjs",see={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},TT=t=>t===null||t==="";function iee(t,e){const n=t.style,s=t.getAttribute("height"),i=t.getAttribute("width");if(t[Zp]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",TT(i)){const r=uT(t,"width");r!==void 0&&(t.width=r)}if(TT(s))if(t.style.height==="")t.height=t.width/(e||2);else{const r=uT(t,"height");r!==void 0&&(t.height=r)}return t}const ck=_Q?{passive:!0}:!1;function ree(t,e,n){t&&t.addEventListener(e,n,ck)}function oee(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,ck)}function aee(t,e){const n=see[t.type]||t.type,{x:s,y:i}=Pa(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:i!==void 0?i:null}}function Bm(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function lee(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Bm(a.addedNodes,s),o=o&&!Bm(a.removedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function cee(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Bm(a.removedNodes,s),o=o&&!Bm(a.addedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Sf=new Map;let AT=0;function uk(){const t=window.devicePixelRatio;t!==AT&&(AT=t,Sf.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function uee(t,e){Sf.size||window.addEventListener("resize",uk),Sf.set(t,e)}function dee(t){Sf.delete(t),Sf.size||window.removeEventListener("resize",uk)}function fee(t,e,n){const s=t.canvas,i=s&&Pw(s);if(!i)return;const r=zC((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(i),uee(t,r),o}function k0(t,e,n){n&&n.disconnect(),e==="resize"&&dee(t)}function hee(t,e,n){const s=t.canvas,i=zC(r=>{t.ctx!==null&&n(aee(r,t))},t);return ree(s,e,i),i}class pee extends lk{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(iee(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[Zp])return!1;const s=n[Zp].initial;["height","width"].forEach(r=>{const o=s[r];jt(o)?n.removeAttribute(r):n.setAttribute(r,o)});const i=s.style||{};return Object.keys(i).forEach(r=>{n.style[r]=i[r]}),n.width=n.width,delete n[Zp],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:lee,detach:cee,resize:fee}[n]||hee;i[n]=o(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),i=s[n];if(!i)return;({attach:k0,detach:k0,resize:k0}[n]||oee)(e,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,i){return gQ(e,n,s,i)}isAttached(e){const n=e&&Pw(e);return!!(n&&n.isConnected)}}function mee(t){return!kw()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?nee:pee}var Tp;let bl=(Tp=class{constructor(){Z(this,"x");Z(this,"y");Z(this,"active",!1);Z(this,"options");Z(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return mu(this.x)&&mu(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const i={};return e.forEach(r=>{i[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),i}},Z(Tp,"defaults",{}),Z(Tp,"defaultRoutes"),Tp);function gee(t,e){const n=t.options.ticks,s=_ee(t),i=Math.min(n.maxTicksLimit||s,s),r=n.major.enabled?bee(e):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>i)return vee(e,c,r,o/i),c;const u=yee(r,e,i);if(o>0){let d,f;const h=o>1?Math.round((l-a)/(o-1)):null;for(ep(e,c,u,jt(h)?0:a-h,a),d=0,f=o-1;d<f;d++)ep(e,c,u,r[d],r[d+1]);return ep(e,c,u,l,jt(h)?e.length:l+h),c}return ep(e,c,u),c}function _ee(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(s,i))}function yee(t,e,n){const s=wee(t),i=e.length/n;if(!s)return Math.max(i,1);const r=_J(s);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>i)return l}return Math.max(i,1)}function bee(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function vee(t,e,n,s){let i=0,r=n[0],o;for(s=Math.ceil(s),o=0;o<t.length;o++)o===r&&(e.push(t[o]),i++,r=n[i*s])}function ep(t,e,n,s,i){const r=St(s,0),o=Math.min(St(i,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-s,n=l/Math.floor(l/n)),u=r;u<0;)a++,u=Math.round(r+a*n);for(c=Math.max(r,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(r+a*n))}function wee(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const xee=t=>t==="left"?"right":t==="right"?"left":t,MT=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,RT=(t,e)=>Math.min(e||t,t);function CT(t,e){const n=[],s=t.length/e,i=t.length;let r=0;for(;r<i;r+=s)n.push(t[Math.floor(r)]);return n}function Eee(t,e,n){const s=t.ticks.length,i=Math.min(e,s-1),r=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(s===1?c=Math.max(l-r,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<r-a||l>o+a)))return l}function See(t,e){$t(t,n=>{const s=n.gc,i=s.length/2;let r;if(i>e){for(r=0;r<i;++r)delete n.data[s[r]];s.splice(0,i)}})}function ld(t){return t.drawTicks?t.tickLength:0}function kT(t,e){if(!t.display)return 0;const n=Tn(t.font,e),s=Qn(t.padding);return(dn(t.text)?t.text.length:1)*n.lineHeight+s.height}function Tee(t,e){return ca(t,{scale:e,type:"scale"})}function Aee(t,e,n){return ca(t,{tick:n,index:e,type:"tick"})}function Mee(t,e,n){let s=xw(t);return(n&&e!=="right"||!n&&e==="right")&&(s=xee(s)),s}function Ree(t,e,n,s){const{top:i,left:r,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,f,h,y;const _=o-i,p=a-r;if(t.isHorizontal()){if(h=qn(s,r,a),kt(n)){const g=Object.keys(n)[0],b=n[g];y=u[g].getPixelForValue(b)+_-e}else n==="center"?y=(c.bottom+c.top)/2+_-e:y=MT(t,n,e);f=a-r}else{if(kt(n)){const g=Object.keys(n)[0],b=n[g];h=u[g].getPixelForValue(b)-p+e}else n==="center"?h=(c.left+c.right)/2-p+e:h=MT(t,n,e);y=qn(s,o,i),d=n==="left"?-Vs:Vs}return{titleX:h,titleY:y,maxWidth:f,rotation:d}}class vl extends bl{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return e=Os(e,Number.POSITIVE_INFINITY),n=Os(n,Number.NEGATIVE_INFINITY),s=Os(s,Number.POSITIVE_INFINITY),i=Os(i,Number.NEGATIVE_INFINITY),{min:Os(e,s),max:Os(n,i),minDefined:Un(e),maxDefined:Un(n)}}getMinMax(e){let{min:n,max:s,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),r||(s=Math.max(s,o.max));return n=r&&n>s?s:n,s=i&&n>s?n:s,{min:Os(n,Os(s,n)),max:Os(s,Os(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){zt(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=XJ(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?CT(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=gee(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){zt(this.options.afterUpdate,[this])}beforeSetDimensions(){zt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){zt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),zt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){zt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,i,r;for(s=0,i=e.length;s<i;s++)r=e[s],r.label=zt(n.callback,[r.value,s,e],this)}afterTickToLabelConversion(){zt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){zt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=RT(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,r=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=r||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,h=ri(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/s:h/(s-1),d+6>a&&(a=h/(s-(e.offset?.5:1)),l=this.maxHeight-ld(e.grid)-n.padding-kT(e.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),o=vw(Math.min(Math.asin(ri((u.highest.height+6)/a,-1,1)),Math.asin(ri(l/c,-1,1))-Math.asin(ri(f/c,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){zt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){zt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=kT(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=ld(r)+l):(e.height=this.maxHeight,e.width=ld(r)+l),s.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:f}=this._getLabelSizes(),h=s.padding*2,y=Ho(this.labelRotation),_=Math.cos(y),p=Math.sin(y);if(a){const g=s.mirror?0:p*d.width+_*f.height;e.height=Math.min(this.maxHeight,e.height+g+h)}else{const g=s.mirror?0:_*d.width+p*f.height;e.width=Math.min(this.maxWidth,e.width+g+h)}this._calculatePadding(c,u,p,_)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,i){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,h=0;l?c?(f=i*e.width,h=s*n.height):(f=s*e.height,h=i*n.width):r==="start"?h=n.width:r==="end"?f=e.width:r!=="inner"&&(f=e.width/2,h=n.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((h-d+o)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;r==="start"?(u=0,d=e.height):r==="end"&&(u=n.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){zt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)jt(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=CT(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:i,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(n/RT(n,s));let c=0,u=0,d,f,h,y,_,p,g,b,v,w,A;for(d=0;d<n;d+=l){if(y=e[d].label,_=this._resolveTickFontOptions(d),i.font=p=_.string,g=r[p]=r[p]||{data:{},gc:[]},b=_.lineHeight,v=w=0,!jt(y)&&!dn(y))v=Um(i,g.data,g.gc,v,y),w=b;else if(dn(y))for(f=0,h=y.length;f<h;++f)A=y[f],!jt(A)&&!dn(A)&&(v=Um(i,g.data,g.gc,v,A),w+=b);o.push(v),a.push(w),c=Math.max(v,c),u=Math.max(w,u)}See(r,n);const x=o.indexOf(c),T=a.indexOf(u),M=E=>({width:o[E]||0,height:a[E]||0});return{first:M(0),last:M(n-1),widest:M(x),highest:M(T),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return wJ(this._alignToPixels?Sa(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=Aee(this.getContext(),e,s))}return this.$context||(this.$context=Tee(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Ho(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*s>a*i?a/s:l/i:l*i<a*s?l/s:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,i=this.options,{grid:r,position:o,border:a}=i,l=r.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=ld(r),h=[],y=a.setContext(this.getContext()),_=y.display?y.width:0,p=_/2,g=function(k){return Sa(s,k,_)};let b,v,w,A,x,T,M,E,S,C,N,G;if(o==="top")b=g(this.bottom),T=this.bottom-f,E=b-p,C=g(e.top)+p,G=e.bottom;else if(o==="bottom")b=g(this.top),C=e.top,G=g(e.bottom)-p,T=b+p,E=this.top+f;else if(o==="left")b=g(this.right),x=this.right-f,M=b-p,S=g(e.left)+p,N=e.right;else if(o==="right")b=g(this.left),S=e.left,N=g(e.right)-p,x=b+p,M=this.left+f;else if(n==="x"){if(o==="center")b=g((e.top+e.bottom)/2+.5);else if(kt(o)){const k=Object.keys(o)[0],F=o[k];b=g(this.chart.scales[k].getPixelForValue(F))}C=e.top,G=e.bottom,T=b+p,E=T+f}else if(n==="y"){if(o==="center")b=g((e.left+e.right)/2);else if(kt(o)){const k=Object.keys(o)[0],F=o[k];b=g(this.chart.scales[k].getPixelForValue(F))}x=b-p,M=x-f,S=e.left,N=e.right}const O=St(i.ticks.maxTicksLimit,d),P=Math.max(1,Math.ceil(d/O));for(v=0;v<d;v+=P){const k=this.getContext(v),F=r.setContext(k),I=a.setContext(k),ee=F.lineWidth,Y=F.color,me=I.dash||[],ge=I.dashOffset,Ce=F.tickWidth,le=F.tickColor,_e=F.tickBorderDash||[],Ie=F.tickBorderDashOffset;w=Eee(this,v,l),w!==void 0&&(A=Sa(s,w,ee),c?x=M=S=N=A:T=E=C=G=A,h.push({tx1:x,ty1:T,tx2:M,ty2:E,x1:S,y1:C,x2:N,y2:G,width:ee,color:Y,borderDash:me,borderDashOffset:ge,tickWidth:Ce,tickColor:le,tickBorderDash:_e,tickBorderDashOffset:Ie}))}return this._ticksLength=d,this._borderValue=b,h}_computeLabelItems(e){const n=this.axis,s=this.options,{position:i,ticks:r}=s,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=r,f=ld(s.grid),h=f+u,y=d?-u:h,_=-Ho(this.labelRotation),p=[];let g,b,v,w,A,x,T,M,E,S,C,N,G="middle";if(i==="top")x=this.bottom-y,T=this._getXAxisLabelAlignment();else if(i==="bottom")x=this.top+y,T=this._getXAxisLabelAlignment();else if(i==="left"){const P=this._getYAxisLabelAlignment(f);T=P.textAlign,A=P.x}else if(i==="right"){const P=this._getYAxisLabelAlignment(f);T=P.textAlign,A=P.x}else if(n==="x"){if(i==="center")x=(e.top+e.bottom)/2+h;else if(kt(i)){const P=Object.keys(i)[0],k=i[P];x=this.chart.scales[P].getPixelForValue(k)+h}T=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")A=(e.left+e.right)/2-h;else if(kt(i)){const P=Object.keys(i)[0],k=i[P];A=this.chart.scales[P].getPixelForValue(k)}T=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?G="top":l==="end"&&(G="bottom"));const O=this._getLabelSizes();for(g=0,b=a.length;g<b;++g){v=a[g],w=v.label;const P=r.setContext(this.getContext(g));M=this.getPixelForTick(g)+r.labelOffset,E=this._resolveTickFontOptions(g),S=E.lineHeight,C=dn(w)?w.length:1;const k=C/2,F=P.color,I=P.textStrokeColor,ee=P.textStrokeWidth;let Y=T;o?(A=M,T==="inner"&&(g===b-1?Y=this.options.reverse?"left":"right":g===0?Y=this.options.reverse?"right":"left":Y="center"),i==="top"?c==="near"||_!==0?N=-C*S+S/2:c==="center"?N=-O.highest.height/2-k*S+S:N=-O.highest.height+S/2:c==="near"||_!==0?N=S/2:c==="center"?N=O.highest.height/2-k*S:N=O.highest.height-C*S,d&&(N*=-1),_!==0&&!P.showLabelBackdrop&&(A+=S/2*Math.sin(_))):(x=M,N=(1-C)*S/2);let me;if(P.showLabelBackdrop){const ge=Qn(P.backdropPadding),Ce=O.heights[g],le=O.widths[g];let _e=N-ge.top,Ie=0-ge.left;switch(G){case"middle":_e-=Ce/2;break;case"bottom":_e-=Ce;break}switch(T){case"center":Ie-=le/2;break;case"right":Ie-=le;break;case"inner":g===b-1?Ie-=le:g>0&&(Ie-=le/2);break}me={left:Ie,top:_e,width:le+ge.width,height:Ce+ge.height,color:P.backdropColor}}p.push({label:w,font:E,textOffset:N,options:{rotation:_,color:F,strokeColor:I,strokeWidth:ee,textAlign:Y,textBaseline:G,translation:[A,x],backdrop:me}})}return p}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Ho(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let c,u;return n==="left"?i?(u=this.right+r,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+r,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:i,width:r,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,i,r,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(r=>r.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(c.x,c.y),s.stroke(),s.restore())};if(n.display)for(r=0,o=i.length;r<o;++r){const l=i[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:i}}=this,r=s.setContext(this.getContext()),o=s.display?r.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,f;this.isHorizontal()?(c=Sa(e,this.left,o)-o/2,u=Sa(e,this.right,a)+a/2,d=f=l):(d=Sa(e,this.top,o)-o/2,f=Sa(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&Tw(s,i);const r=this.getLabelItems(e);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;hl(s,c,0,u,l,a)}i&&Aw(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const r=Tn(s.font),o=Qn(s.padding),a=s.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||kt(n)?(l+=o.bottom,dn(s.text)&&(l+=r.lineHeight*(s.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:f}=Ree(this,l,n,a);hl(e,s.text,0,0,r,{color:s.color,maxWidth:d,rotation:f,textAlign:Mee(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=St(e.grid&&e.grid.z,-1),i=St(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==vl.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[s]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Tn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class tp{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;Pee(n)&&(s=this.register(n));const i=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,Cee(e,o,s),this.override&&fn.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,i=this.scope;s in n&&delete n[s],i&&s in fn[i]&&(delete fn[i][s],this.override&&delete fl[s])}}function Cee(t,e,n){const s=Ef(Object.create(null),[n?fn.get(n):{},fn.get(e),t.defaults]);fn.set(e,s),t.defaultRoutes&&kee(e,t.defaultRoutes),t.descriptors&&fn.describe(e,t.descriptors)}function kee(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),i=s.pop(),r=[t].concat(s).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");fn.route(r,i,l,a)})}function Pee(t){return"id"in t&&"defaults"in t}class Iee{constructor(){this.controllers=new tp(Fc,"datasets",!0),this.elements=new tp(bl,"elements"),this.plugins=new tp(Object,"plugins"),this.scales=new tp(vl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(i=>{const r=s||this._getRegistryForType(i);s||r.isForType(i)||r===this.plugins&&i.id?this._exec(e,r,i):$t(i,o=>{const a=s||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,s){const i=bw(e);zt(s["before"+i],[],s),n[e](s),zt(s["after"+i],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return i}}var Hi=new Iee;class Oee{constructor(){this._init=[]}notify(e,n,s,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(r,e,n,s);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,s,i){i=i||{};for(const r of e){const o=r.plugin,a=o[s],l=[n,i,r.options];if(zt(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){jt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,i=St(s.options&&s.options.plugins,{}),r=Lee(s);return i===!1&&!n?[]:Nee(e,r,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,i=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,s),e,"stop"),this._notify(i(s,n),e,"start")}}function Lee(t){const e={},n=[],s=Object.keys(Hi.plugins.items);for(let r=0;r<s.length;r++)n.push(Hi.getPlugin(s[r]));const i=t.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function Dee(t,e){return!e&&t===!1?null:t===!0?{}:t}function Nee(t,{plugins:e,localIds:n},s,i){const r=[],o=t.getContext();for(const a of e){const l=a.id,c=Dee(s[l],i);c!==null&&r.push({plugin:a,options:Uee(t.config,{plugin:a,local:n[l]},c,o)})}return r}function Uee(t,{plugin:e,local:n},s,i){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(s,r);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Dy(t,e){const n=fn.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function $ee(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Fee(t,e){return t===e?"_index_":"_value_"}function PT(t){if(t==="x"||t==="y"||t==="r")return t}function Bee(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Ny(t,...e){if(PT(t))return t;for(const n of e){const s=n.axis||Bee(n.position)||t.length>1&&PT(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function IT(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Hee(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return IT(t,"x",n[0])||IT(t,"y",n[0])}return{}}function Gee(t,e){const n=fl[t.type]||{scales:{}},s=e.scales||{},i=Dy(t.type,e),r=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!kt(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Ny(o,a,Hee(o,t),fn.scales[a.type]),c=Fee(l,i),u=n.scales||{};r[o]=Zd(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Dy(a,e),u=(fl[a]||{}).scales||{};Object.keys(u).forEach(d=>{const f=$ee(d,l),h=o[f+"AxisID"]||f;r[h]=r[h]||Object.create(null),Zd(r[h],[{axis:f},s[h],u[d]])})}),Object.keys(r).forEach(o=>{const a=r[o];Zd(a,[fn.scales[a.type],fn.scale])}),r}function dk(t){const e=t.options||(t.options={});e.plugins=St(e.plugins,{}),e.scales=Gee(t,e)}function fk(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function zee(t){return t=t||{},t.data=fk(t.data),dk(t),t}const OT=new Map,hk=new Set;function np(t,e){let n=OT.get(t);return n||(n=e(),OT.set(t,n),hk.add(n)),n}const cd=(t,e,n)=>{const s=Lm(e,n);s!==void 0&&t.add(s)};let Vee=class{constructor(e){this._config=zee(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=fk(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),dk(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return np(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return np(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return np(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return np(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let i=s.get(e);return(!i||n)&&(i=new Map,s.set(e,i)),i}getOptionScopes(e,n,s){const{options:i,type:r}=this,o=this._cachedScopes(e,s),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>cd(l,e,d))),u.forEach(d=>cd(l,i,d)),u.forEach(d=>cd(l,fl[r]||{},d)),u.forEach(d=>cd(l,fn,d)),u.forEach(d=>cd(l,Oy,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),hk.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,fl[n]||{},fn.datasets[n]||{},{type:n},fn,Oy]}resolveNamedOptions(e,n,s,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=LT(this._resolverCache,e,i);let l=o;if(Wee(o,n)){r.$shared=!1,s=ea(s)?s():s;const c=this.createResolver(e,s,a);l=gu(o,s,c)}for(const c of n)r[c]=l[c];return r}createResolver(e,n,s=[""],i){const{resolver:r}=LT(this._resolverCache,e,s);return kt(n)?gu(r,n,void 0,i):r}};function LT(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const i=n.join();let r=s.get(i);return r||(r={resolver:Mw(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,r)),r}const jee=t=>kt(t)&&Object.getOwnPropertyNames(t).some(e=>ea(t[e]));function Wee(t,e){const{isScriptable:n,isIndexable:s}=KC(t);for(const i of e){const r=n(i),o=s(i),a=(o||r)&&t[i];if(r&&(ea(a)||jee(a))||o&&dn(a))return!0}return!1}var qee="4.4.4";const Xee=["top","bottom","left","right","chartArea"];function DT(t,e){return t==="top"||t==="bottom"||Xee.indexOf(t)===-1&&e==="x"}function NT(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function UT(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),zt(n&&n.onComplete,[t],e)}function Kee(t){const e=t.chart,n=e.options.animation;zt(n&&n.onProgress,[t],e)}function pk(t){return kw()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Jp={},$T=t=>{const e=pk(t);return Object.values(Jp).filter(n=>n.canvas===e).pop()};function Yee(t,e,n){const s=Object.keys(t);for(const i of s){const r=+i;if(r>=e){const o=t[i];delete t[i],(n>0||r>e)&&(t[r+n]=o)}}}function Zee(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}function sp(t,e,n){return t.options.clip?t[n]:e[n]}function Jee(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:sp(n,e,"left"),right:sp(n,e,"right"),top:sp(s,e,"top"),bottom:sp(s,e,"bottom")}:e}var _o;let Kg=(_o=class{static register(...e){Hi.add(...e),FT()}static unregister(...e){Hi.remove(...e),FT()}constructor(e,n){const s=this.config=new Vee(n),i=pk(e),r=$T(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||mee(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=lJ(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Oee,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=AJ(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],Jp[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Sr.listen(this,"complete",UT),Sr.listen(this,"progress",Kee),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:i,_aspectRatio:r}=this;return jt(e)?n&&r?r:i?s/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Hi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():cT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return oT(this.canvas,this.ctx),this}stop(){return Sr.stop(this),this}resize(e,n){Sr.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,i=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,r),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,cT(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),zt(s.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};$t(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,i=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=Ny(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),$t(r,o=>{const a=o.options,l=a.id,c=Ny(l,a),u=St(a.type,o.dtype);(a.position===void 0||DT(a.position,c)!==DT(o.dposition))&&(a.position=o.dposition),i[l]=!0;let d=null;if(l in s&&s[l].type===u)d=s[l];else{const f=Hi.getScale(u);d=new f({id:l,type:u,ctx:this.ctx,chart:this}),s[d.id]=d}d.init(a,e)}),$t(i,(o,a)=>{o||delete s[a]}),$t(s,o=>{oi.configure(this,o,o.options),oi.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((i,r)=>i.index-r.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(NT("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,i)=>{n.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const r=n[s];let o=this.getDatasetMeta(s);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=r.indexAxis||Dy(a,this.options),o.order=r.order||0,o.index=s,o.label=""+r.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const l=Hi.getController(a),{datasetElementType:c,dataElementType:u}=fn.datasets[a];Object.assign(l,{dataElementType:Hi.getElement(u),datasetElementType:c&&Hi.getElement(c)}),o.controller=new l(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){$t(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),f=!i&&r.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),i||$t(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(NT("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){$t(this.scales,e=>{oi.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!ZS(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:r}of n){const o=s==="_removeElements"?-r:r;Yee(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=s(0);for(let r=1;r<n;r++)if(!ZS(i,s(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;oi.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],$t(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,ea(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),i={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Sr.has(this)?this.attached&&!Sr.running(this)&&Sr.start(this):(this.draw(),UT({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let i,r;for(i=0,r=n.length;i<r;++i){const o=n[i];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s=e._clip,i=!s.disabled,r=Jee(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&Tw(n,{left:s.left===!1?0:r.left-s.left,right:s.right===!1?this.width:r.right+s.right,top:s.top===!1?0:r.top-s.top,bottom:s.bottom===!1?this.height:r.bottom+s.bottom}),e.controller.draw(),i&&Aw(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return Nr(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,i){const r=XQ.modes[n];return typeof r=="function"?r(this,e,s,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let i=s.filter(r=>r&&r._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=ca(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const i=s?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,i);Dm(n)?(r.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(r,{visible:s}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Sr.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),oT(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Jp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(r,o)=>{n.addEventListener(this,r,o),e[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};$t(this.options.events,r=>s(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",r),s("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){$t(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},$t(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const i=s?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!Im(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const i=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=r(n,e),a=s?e:r(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const r=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(r||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:i=[],options:r}=this,o=n,a=this._getActiveElements(e,i,s,o),l=pJ(e),c=Zee(e,this._lastEvent,s,l);s&&(this._lastEvent=null,zt(r.onHover,[e,a,this],this),l&&zt(r.onClick,[e,a,this],this));const u=!Im(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(e,n,s,i){if(e.type==="mouseout")return[];if(!s)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}},Z(_o,"defaults",fn),Z(_o,"instances",Jp),Z(_o,"overrides",fl),Z(_o,"registry",Hi),Z(_o,"version",qee),Z(_o,"getChart",$T),_o);function FT(){return $t(Kg.instances,t=>t._plugins.invalidate())}function mk(t,e,n=e){t.lineCap=St(n.borderCapStyle,e.borderCapStyle),t.setLineDash(St(n.borderDash,e.borderDash)),t.lineDashOffset=St(n.borderDashOffset,e.borderDashOffset),t.lineJoin=St(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=St(n.borderWidth,e.borderWidth),t.strokeStyle=St(n.borderColor,e.borderColor)}function Qee(t,e,n){t.lineTo(n.x,n.y)}function ete(t){return t.stepped?$J:t.tension||t.cubicInterpolationMode==="monotone"?FJ:Qee}function gk(t,e,n={}){const s=t.length,{start:i=0,end:r=s-1}=n,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(r,a),u=i<o&&r<o||i>a&&r>a;return{count:s,start:l,loop:e.loop,ilen:c<l&&!u?s+c-l:c-l}}function tte(t,e,n,s){const{points:i,options:r}=e,{count:o,start:a,loop:l,ilen:c}=gk(i,n,s),u=ete(r);let{move:d=!0,reverse:f}=s||{},h,y,_;for(h=0;h<=c;++h)y=i[(a+(f?c-h:h))%o],!y.skip&&(d?(t.moveTo(y.x,y.y),d=!1):u(t,_,y,f,r.stepped),_=y);return l&&(y=i[(a+(f?c:0))%o],u(t,_,y,f,r.stepped)),!!l}function nte(t,e,n,s){const i=e.points,{count:r,start:o,ilen:a}=gk(i,n,s),{move:l=!0,reverse:c}=s||{};let u=0,d=0,f,h,y,_,p,g;const b=w=>(o+(c?a-w:w))%r,v=()=>{_!==p&&(t.lineTo(u,p),t.lineTo(u,_),t.lineTo(u,g))};for(l&&(h=i[b(0)],t.moveTo(h.x,h.y)),f=0;f<=a;++f){if(h=i[b(f)],h.skip)continue;const w=h.x,A=h.y,x=w|0;x===y?(A<_?_=A:A>p&&(p=A),u=(d*u+w)/++d):(v(),t.lineTo(w,A),y=x,d=0,_=p=A),g=A}v()}function Uy(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?nte:tte}function ste(t){return t.stepped?yQ:t.tension||t.cubicInterpolationMode==="monotone"?bQ:Ia}function ite(t,e,n,s){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,s)&&i.closePath()),mk(t,e.options),t.stroke(i)}function rte(t,e,n,s){const{segments:i,options:r}=e,o=Uy(e);for(const a of i)mk(t,r,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const ote=typeof Path2D=="function";function ate(t,e,n,s){ote&&!e.options.segment?ite(t,e,n,s):rte(t,e,n,s)}class Id extends bl{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;uQ(this._points,s,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=MQ(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,i=e[n],r=this.points,o=SQ(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=ste(s);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:f}=o[c],h=r[d],y=r[f];if(h===y){a.push(h);continue}const _=Math.abs((i-h[n])/(y[n]-h[n])),p=l(h,y,_,s.stepped);p[n]=e[n],a.push(p)}return a.length===1?a[0]:a}pathSegment(e,n,s){return Uy(this)(e,this,n,s)}path(e,n,s){const i=this.segments,r=Uy(this);let o=this._loop;n=n||0,s=s||this.points.length-n;for(const a of i)o&=r(e,this,a,{start:n,end:n+s-1});return!!o}draw(e,n,s,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),ate(e,this,s,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Z(Id,"id","line"),Z(Id,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Z(Id,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Z(Id,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function BT(t,e,n,s){const i=t.options,{[n]:r}=t.getProps([n],s);return Math.abs(e-r)<i.radius+i.hitRadius}class Qp extends bl{constructor(n){super();Z(this,"parsed");Z(this,"skip");Z(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,i){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(s-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,s){return BT(this,n,"x",s)}inYRange(n,s){return BT(this,n,"y",s)}getCenterPoint(n){const{x:s,y:i}=this.getProps(["x","y"],n);return{x:s,y:i}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);const i=s&&n.borderWidth||0;return(s+i)*2}draw(n,s){const i=this.options;this.skip||i.radius<.1||!Nr(this,s,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,Ly(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Z(Qp,"id","point"),Z(Qp,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Z(Qp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const HT=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},lte=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class GT extends bl{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=zt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,i)=>e.sort(s,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,i=Tn(s.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=HT(s,r);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let d=e;r.textAlign="left",r.textBaseline="middle";let f=-1,h=-u;return this.legendItems.forEach((y,_)=>{const p=s+n/2+r.measureText(y.text).width;(_===0||c[c.length-1]+p+2*a>o)&&(d+=u,c[c.length-(_>0?0:1)]=0,h+=u,f++),l[_]={left:0,top:h,row:f,width:p,height:i},c[c.length-1]+=p+a}),d}_fitCols(e,n,s,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let d=a,f=0,h=0,y=0,_=0;return this.legendItems.forEach((p,g)=>{const{itemWidth:b,itemHeight:v}=cte(s,n,r,p,i);g>0&&h+v+2*a>u&&(d+=f+a,c.push({width:f,height:h}),y+=f+a,_++,f=h=0),l[g]={left:y,top:h,col:_,width:b,height:v},f=Math.max(f,b),h+=v+a}),d+=f,c.push({width:f,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:i},rtl:r}}=this,o=$c(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=qn(s,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=qn(s,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=qn(s,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=qn(s,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Tw(e,this),this._draw(),Aw(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:i}=this,{align:r,labels:o}=e,a=fn.color,l=$c(e.rtl,this.left,this.width),c=Tn(o.font),{padding:u}=o,d=c.size,f=d/2;let h;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:y,boxHeight:_,itemHeight:p}=HT(o,d),g=function(x,T,M){if(isNaN(y)||y<=0||isNaN(_)||_<0)return;i.save();const E=St(M.lineWidth,1);if(i.fillStyle=St(M.fillStyle,a),i.lineCap=St(M.lineCap,"butt"),i.lineDashOffset=St(M.lineDashOffset,0),i.lineJoin=St(M.lineJoin,"miter"),i.lineWidth=E,i.strokeStyle=St(M.strokeStyle,a),i.setLineDash(St(M.lineDash,[])),o.usePointStyle){const S={radius:_*Math.SQRT2/2,pointStyle:M.pointStyle,rotation:M.rotation,borderWidth:E},C=l.xPlus(x,y/2),N=T+f;qC(i,S,C,N,o.pointStyleWidth&&y)}else{const S=T+Math.max((d-_)/2,0),C=l.leftForLtr(x,y),N=Uc(M.borderRadius);i.beginPath(),Object.values(N).some(G=>G!==0)?$m(i,{x:C,y:S,w:y,h:_,radius:N}):i.rect(C,S,y,_),i.fill(),E!==0&&i.stroke()}i.restore()},b=function(x,T,M){hl(i,M.text,x,T+p/2,c,{strikethrough:M.hidden,textAlign:l.textAlign(M.textAlign)})},v=this.isHorizontal(),w=this._computeTitleHeight();v?h={x:qn(r,this.left+u,this.right-s[0]),y:this.top+u+w,line:0}:h={x:this.left+u,y:qn(r,this.top+w+u,this.bottom-n[0].height),line:0},ek(this.ctx,e.textDirection);const A=p+u;this.legendItems.forEach((x,T)=>{i.strokeStyle=x.fontColor,i.fillStyle=x.fontColor;const M=i.measureText(x.text).width,E=l.textAlign(x.textAlign||(x.textAlign=o.textAlign)),S=y+f+M;let C=h.x,N=h.y;l.setWidth(this.width),v?T>0&&C+S+u>this.right&&(N=h.y+=A,h.line++,C=h.x=qn(r,this.left+u,this.right-s[h.line])):T>0&&N+A>this.bottom&&(C=h.x=C+n[h.line].width+u,h.line++,N=h.y=qn(r,this.top+w+u,this.bottom-n[h.line].height));const G=l.x(C);if(g(G,N,x),C=MJ(E,C+y+f,v?C+S:this.right,e.rtl),b(l.x(C),N,x),v)h.x+=S+u;else if(typeof x.text!="string"){const O=c.lineHeight;h.y+=_k(x,O)+u}else h.y+=A}),tk(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=Tn(n.font),i=Qn(n.padding);if(!n.display)return;const r=$c(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=s.size/2,c=i.top+l;let u,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,d=qn(e.align,d,this.right-f);else{const y=this.columnSizes.reduce((_,p)=>Math.max(_,p.height),0);u=c+qn(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}const h=qn(a,d,d+f);o.textAlign=r.textAlign(xw(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,hl(o,n.text,h,u,s)}_computeTitleHeight(){const e=this.options.title,n=Tn(e.font),s=Qn(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,i,r;if(kd(e,this.left,this.right)&&kd(n,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(i=r[s],kd(e,i.left,i.left+i.width)&&kd(n,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!fte(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,r=lte(i,s);i&&!r&&zt(n.onLeave,[e,i,this],this),this._hoveredItem=s,s&&!r&&zt(n.onHover,[e,s,this],this)}else s&&zt(n.onClick,[e,s,this],this)}}function cte(t,e,n,s,i){const r=ute(s,t,e,n),o=dte(i,s,e.lineHeight);return{itemWidth:r,itemHeight:o}}function ute(t,e,n,s){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),e+n.size/2+s.measureText(i).width}function dte(t,e,n){let s=t;return typeof e.text!="string"&&(s=_k(e,n)),s}function _k(t,e){const n=t.text?t.text.length:0;return e*n}function fte(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var hte={id:"legend",_element:GT,start(t,e,n){const s=t.legend=new GT({ctx:t.ctx,options:n,chart:t});oi.configure(t,s,n),oi.addBox(t,s)},stop(t){oi.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;oi.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),e.hidden=!0):(i.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=Qn(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:s||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class yk extends bl{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=dn(s.text)?s.text.length:1;this._padding=Qn(s.padding);const r=i*Tn(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:i,right:r,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=qn(a,s,r),d=n+e,c=r-s):(o.position==="left"?(u=s+e,d=qn(a,i,n),l=wn*-.5):(u=r-e,d=qn(a,n,i),l=wn*.5),c=i-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=Tn(n.font),r=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);hl(e,n.text,0,0,s,{color:n.color,maxWidth:l,rotation:c,textAlign:xw(n.align),textBaseline:"middle",translation:[o,a]})}}function pte(t,e){const n=new yk({ctx:t.ctx,options:e,chart:t});oi.configure(t,n,e),oi.addBox(t,n),t.titleBlock=n}var mte={id:"title",_element:yk,start(t,e,n){pte(t,n)},stop(t){const e=t.titleBlock;oi.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;oi.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Od={average(t){if(!t.length)return!1;let e,n,s=new Set,i=0,r=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();s.add(l.x),i+=l.y,++r}}return r===0||s.size===0?!1:{x:[...s].reduce((a,l)=>a+l)/s.size,y:i/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const l=t[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Iy(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,s=l.y}return{x:n,y:s}}};function Bi(t,e){return e&&(dn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Tr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function gte(t,e){const{element:n,datasetIndex:s,index:i}=e,r=t.getDatasetMeta(s).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:t,label:o,parsed:r.getParsed(i),raw:t.data.datasets[s].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function zT(t,e){const n=t.chart.ctx,{body:s,footer:i,title:r}=t,{boxWidth:o,boxHeight:a}=e,l=Tn(e.bodyFont),c=Tn(e.titleFont),u=Tn(e.footerFont),d=r.length,f=i.length,h=s.length,y=Qn(e.padding);let _=y.height,p=0,g=s.reduce((w,A)=>w+A.before.length+A.lines.length+A.after.length,0);if(g+=t.beforeBody.length+t.afterBody.length,d&&(_+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),g){const w=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;_+=h*w+(g-h)*l.lineHeight+(g-1)*e.bodySpacing}f&&(_+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let b=0;const v=function(w){p=Math.max(p,n.measureText(w).width+b)};return n.save(),n.font=c.string,$t(t.title,v),n.font=l.string,$t(t.beforeBody.concat(t.afterBody),v),b=e.displayColors?o+2+e.boxPadding:0,$t(s,w=>{$t(w.before,v),$t(w.lines,v),$t(w.after,v)}),b=0,n.font=u.string,$t(t.footer,v),n.restore(),p+=y.width,{width:p,height:_}}function _te(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function yte(t,e,n,s){const{x:i,width:r}=s,o=n.caretSize+n.caretPadding;if(t==="left"&&i+r+o>e.width||t==="right"&&i-r-o<0)return!0}function bte(t,e,n,s){const{x:i,width:r}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return s==="center"?c=i<=(a+l)/2?"left":"right":i<=r/2?c="left":i>=o-r/2&&(c="right"),yte(c,t,e,n)&&(c="center"),c}function VT(t,e,n){const s=n.yAlign||e.yAlign||_te(t,n);return{xAlign:n.xAlign||e.xAlign||bte(t,e,n,s),yAlign:s}}function vte(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function wte(t,e,n){let{y:s,height:i}=t;return e==="top"?s+=n:e==="bottom"?s-=i+n:s-=i/2,s}function jT(t,e,n,s){const{caretSize:i,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+r,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:h}=Uc(o);let y=vte(e,a);const _=wte(e,l,c);return l==="center"?a==="left"?y+=c:a==="right"&&(y-=c):a==="left"?y-=Math.max(u,f)+i:a==="right"&&(y+=Math.max(d,h)+i),{x:ri(y,0,s.width-e.width),y:ri(_,0,s.height-e.height)}}function ip(t,e,n){const s=Qn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function WT(t){return Bi([],Tr(t))}function xte(t,e,n){return ca(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function qT(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const bk={beforeTitle:vr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:vr,beforeBody:vr,beforeLabel:vr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return jt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:vr,afterBody:vr,beforeFooter:vr,footer:vr,afterFooter:vr};function ps(t,e,n,s){const i=t[e].call(n,s);return typeof i>"u"?bk[e].call(n,s):i}var y1;let XT=(y1=class extends bl{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&n.options.animation&&s.animations,r=new sk(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=xte(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,i=ps(s,"beforeTitle",this,e),r=ps(s,"title",this,e),o=ps(s,"afterTitle",this,e);let a=[];return a=Bi(a,Tr(i)),a=Bi(a,Tr(r)),a=Bi(a,Tr(o)),a}getBeforeBody(e,n){return WT(ps(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,i=[];return $t(e,r=>{const o={before:[],lines:[],after:[]},a=qT(s,r);Bi(o.before,Tr(ps(a,"beforeLabel",this,r))),Bi(o.lines,ps(a,"label",this,r)),Bi(o.after,Tr(ps(a,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(e,n){return WT(ps(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,i=ps(s,"beforeFooter",this,e),r=ps(s,"footer",this,e),o=ps(s,"afterFooter",this,e);let a=[];return a=Bi(a,Tr(i)),a=Bi(a,Tr(r)),a=Bi(a,Tr(o)),a}_createItems(e){const n=this._active,s=this.chart.data,i=[],r=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(gte(this.chart,n[l]));return e.filter&&(a=a.filter((u,d,f)=>e.filter(u,d,f,s))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,s))),$t(a,u=>{const d=qT(e.callbacks,u);i.push(ps(d,"labelColor",this,u)),r.push(ps(d,"labelPointStyle",this,u)),o.push(ps(d,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const s=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=Od[s.position].call(this,i,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const l=this._size=zT(this,s),c=Object.assign({},a,l),u=VT(this.chart,s,c),d=jT(s,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,i){const r=this.getCaretPosition(e,s,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,s){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=Uc(a),{x:f,y:h}=e,{width:y,height:_}=n;let p,g,b,v,w,A;return r==="center"?(w=h+_/2,i==="left"?(p=f,g=p-o,v=w+o,A=w-o):(p=f+y,g=p+o,v=w-o,A=w+o),b=p):(i==="left"?g=f+Math.max(l,u)+o:i==="right"?g=f+y-Math.max(c,d)-o:g=this.caretX,r==="top"?(v=h,w=v-o,p=g-o,b=g+o):(v=h+_,w=v+o,p=g+o,b=g-o),A=v),{x1:p,x2:g,x3:b,y1:v,y2:w,y3:A}}drawTitle(e,n,s){const i=this.title,r=i.length;let o,a,l;if(r){const c=$c(s.rtl,this.x,this.width);for(e.x=ip(this,s.titleAlign,s),n.textAlign=c.textAlign(s.titleAlign),n.textBaseline="middle",o=Tn(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=s.titleMarginBottom-a)}}_drawColorBox(e,n,s,i,r){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:c}=r,u=Tn(r.bodyFont),d=ip(this,"left",r),f=i.x(d),h=l<u.lineHeight?(u.lineHeight-l)/2:0,y=n.y+h;if(r.usePointStyle){const _={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},p=i.leftForLtr(f,c)+c/2,g=y+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,Ly(e,_,p,g),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Ly(e,_,p,g)}else{e.lineWidth=kt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const _=i.leftForLtr(f,c),p=i.leftForLtr(i.xPlus(f,1),c-2),g=Uc(o.borderRadius);Object.values(g).some(b=>b!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,$m(e,{x:_,y,w:c,h:l,radius:g}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),$m(e,{x:p,y:y+1,w:c-2,h:l-2,radius:g}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(_,y,c,l),e.strokeRect(_,y,c,l),e.fillStyle=o.backgroundColor,e.fillRect(p,y+1,c-2,l-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=s,d=Tn(s.bodyFont);let f=d.lineHeight,h=0;const y=$c(s.rtl,this.x,this.width),_=function(M){n.fillText(M,y.x(e.x+h),e.y+f/2),e.y+=f+r},p=y.textAlign(o);let g,b,v,w,A,x,T;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=ip(this,p,s),n.fillStyle=s.bodyColor,$t(this.beforeBody,_),h=a&&p!=="right"?o==="center"?c/2+u:c+2+u:0,w=0,x=i.length;w<x;++w){for(g=i[w],b=this.labelTextColors[w],n.fillStyle=b,$t(g.before,_),v=g.lines,a&&v.length&&(this._drawColorBox(n,e,w,y,s),f=Math.max(d.lineHeight,l)),A=0,T=v.length;A<T;++A)_(v[A]),f=d.lineHeight;$t(g.after,_)}h=0,f=d.lineHeight,$t(this.afterBody,_),e.y-=r}drawFooter(e,n,s){const i=this.footer,r=i.length;let o,a;if(r){const l=$c(s.rtl,this.x,this.width);for(e.x=ip(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=l.textAlign(s.footerAlign),n.textBaseline="middle",o=Tn(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,n,s,i){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=s,{topLeft:d,topRight:f,bottomLeft:h,bottomRight:y}=Uc(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,s,i),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&r==="right"&&this.drawCaret(e,n,s,i),n.lineTo(a+c,l+u-y),n.quadraticCurveTo(a+c,l+u,a+c-y,l+u),o==="bottom"&&this.drawCaret(e,n,s,i),n.lineTo(a+h,l+u),n.quadraticCurveTo(a,l+u,a,l+u-h),o==="center"&&r==="left"&&this.drawCaret(e,n,s,i),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,i=s&&s.x,r=s&&s.y;if(i||r){const o=Od[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=zT(this,e),l=Object.assign({},o,this._size),c=VT(n,e,l),u=jT(e,l,c,n);(i._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=Qn(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=s,this.drawBackground(r,e,i,n),ek(e,n.textDirection),r.y+=o.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),tk(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!Im(s,i),o=this._positionChanged(i,n);(r||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(e,r,n,s),a=this._positionChanged(o,e),l=n||!Im(o,r)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,s,i){const r=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,s);return r.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:s,caretY:i,options:r}=this,o=Od[r.position].call(this,e,n);return o!==!1&&(s!==o.x||i!==o.y)}},Z(y1,"positioners",Od),y1);var Ete={id:"tooltip",_element:XT,positioners:Od,afterInit(t,e,n){n&&(t.tooltip=new XT({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:bk},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Ste=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function Tte(t,e,n,s){const i=t.indexOf(e);if(i===-1)return Ste(t,e,n,s);const r=t.lastIndexOf(e);return i!==r?n:i}const Ate=(t,e)=>t===null?null:ri(Math.round(t),0,e);function KT(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class $y extends vl{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:i,label:r}of n)s[i]===r&&s.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(jt(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:Tte(s,e,St(n,e),this._addedLabels),Ate(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,i=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return KT.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Z($y,"id","category"),Z($y,"defaults",{ticks:{callback:KT}});function Mte(t,e){const n=[],{bounds:i,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:f}=t,h=r||1,y=u-1,{min:_,max:p}=e,g=!jt(o),b=!jt(a),v=!jt(c),w=(p-_)/(d+1);let A=QS((p-_)/y/h)*h,x,T,M,E;if(A<1e-14&&!g&&!b)return[{value:_},{value:p}];E=Math.ceil(p/A)-Math.floor(_/A),E>y&&(A=QS(E*A/y/h)*h),jt(l)||(x=Math.pow(10,l),A=Math.ceil(A*x)/x),i==="ticks"?(T=Math.floor(_/A)*A,M=Math.ceil(p/A)*A):(T=_,M=p),g&&b&&r&&yJ((a-o)/r,A/1e3)?(E=Math.round(Math.min((a-o)/A,u)),A=(a-o)/E,T=o,M=a):v?(T=g?o:T,M=b?a:M,E=c-1,A=(M-T)/E):(E=(M-T)/A,Jd(E,Math.round(E),A/1e3)?E=Math.round(E):E=Math.ceil(E));const S=Math.max(eT(A),eT(T));x=Math.pow(10,jt(l)?S:l),T=Math.round(T*x)/x,M=Math.round(M*x)/x;let C=0;for(g&&(f&&T!==o?(n.push({value:o}),T<o&&C++,Jd(Math.round((T+C*A)*x)/x,o,YT(o,w,t))&&C++):T<o&&C++);C<E;++C){const N=Math.round((T+C*A)*x)/x;if(b&&N>a)break;n.push({value:N})}return b&&f&&M!==a?n.length&&Jd(n[n.length-1].value,a,YT(a,w,t))?n[n.length-1].value=a:n.push({value:a}):(!b||M===a)&&n.push({value:M}),n}function YT(t,e,{horizontal:n,minRotation:s}){const i=Ho(s),r=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class Hm extends vl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return jt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:i,max:r}=this;const o=l=>i=n?i:l,a=l=>r=s?r:l;if(e){const l=pu(i),c=pu(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===r){let l=r===0?1:Math.abs(r*.05);a(r+l),e||o(i-l)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=Mte(i,r);return e.bounds==="ticks"&&FC(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const i=(s-n)/Math.max(e.length-1,1)/2;n-=i,s+=i}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return Sw(e,this.chart.options.locale,this.options.ticks.format)}}class Fy extends Hm{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Un(e)?e:0,this.max=Un(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=Ho(this.options.ticks.minRotation),i=(e?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Z(Fy,"id","linear"),Z(Fy,"defaults",{ticks:{callback:qg.formatters.numeric}});const Tf=t=>Math.floor(Bo(t)),Aa=(t,e)=>Math.pow(10,Tf(t)+e);function ZT(t){return t/Math.pow(10,Tf(t))===1}function JT(t,e,n){const s=Math.pow(10,n),i=Math.floor(t/s);return Math.ceil(e/s)-i}function Rte(t,e){const n=e-t;let s=Tf(n);for(;JT(t,e,s)>10;)s++;for(;JT(t,e,s)<10;)s--;return Math.min(s,Tf(t))}function Cte(t,{min:e,max:n}){e=Os(t.min,e);const s=[],i=Tf(e);let r=Rte(e,n),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=i>r?Math.pow(10,i):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let d=Math.floor((c-u)/Math.pow(10,r)),f=Os(t.min,Math.round((l+u+d*Math.pow(10,r))*o)/o);for(;f<n;)s.push({value:f,major:ZT(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(r++,d=2,o=r>=0?1:o),f=Math.round((l+u+d*Math.pow(10,r))*o)/o;const h=Os(t.max,f);return s.push({value:h,major:ZT(h),significand:d}),s}class QT extends vl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const s=Hm.prototype.parse.apply(this,[e,n]);if(s===0){this._zero=!0;return}return Un(s)&&s>0?s:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Un(e)?Math.max(0,e):null,this.max=Un(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Un(this._userMin)&&(this.min=e===Aa(this.min,0)?Aa(this.min,-1):Aa(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let s=this.min,i=this.max;const r=a=>s=e?s:a,o=a=>i=n?i:a;s===i&&(s<=0?(r(1),o(10)):(r(Aa(s,-1)),o(Aa(i,1)))),s<=0&&r(Aa(i,-1)),i<=0&&o(Aa(s,1)),this.min=s,this.max=i}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},s=Cte(n,this);return e.bounds==="ticks"&&FC(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(e){return e===void 0?"0":Sw(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Bo(e),this._valueRange=Bo(this.max)-Bo(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Bo(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}Z(QT,"id","logarithmic"),Z(QT,"defaults",{ticks:{callback:qg.formatters.logarithmic,major:{enabled:!0}}});function By(t){const e=t.ticks;if(e.display&&t.display){const n=Qn(e.backdropPadding);return St(e.font&&e.font.size,fn.font.size)+n.height}return 0}function kte(t,e,n){return n=dn(n)?n:[n],{w:UJ(t,e.string,n),h:n.length*e.lineHeight}}function eA(t,e,n,s,i){return t===s||t===i?{start:e-n/2,end:e+n/2}:t<s||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function Pte(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),s=[],i=[],r=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?wn/r:0;for(let l=0;l<r;l++){const c=o.setContext(t.getPointLabelContext(l));i[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+i[l],a),d=Tn(c.font),f=kte(t.ctx,d,t._pointLabels[l]);s[l]=f;const h=Ai(t.getIndexAngle(l)+a),y=Math.round(vw(h)),_=eA(y,u.x,f.w,0,180),p=eA(y,u.y,f.h,90,270);Ite(n,e,h,_,p)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=Dte(t,s,i)}function Ite(t,e,n,s,i){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;s.start<e.l?(a=(e.l-s.start)/r,t.l=Math.min(t.l,e.l-a)):s.end>e.r&&(a=(s.end-e.r)/r,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(l=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function Ote(t,e,n){const s=t.drawingArea,{extra:i,additionalAngle:r,padding:o,size:a}=n,l=t.getPointPosition(e,s+i+o,r),c=Math.round(vw(Ai(l.angle+Vs))),u=$te(l.y,a.h,c),d=Nte(c),f=Ute(l.x,a.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:f,top:u,right:f+a.w,bottom:u+a.h}}function Lte(t,e){if(!e)return!0;const{left:n,top:s,right:i,bottom:r}=t;return!(Nr({x:n,y:s},e)||Nr({x:n,y:r},e)||Nr({x:i,y:s},e)||Nr({x:i,y:r},e))}function Dte(t,e,n){const s=[],i=t._pointLabels.length,r=t.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:By(r)/2,additionalAngle:o?wn/i:0};let c;for(let u=0;u<i;u++){l.padding=n[u],l.size=e[u];const d=Ote(t,u,l);s.push(d),a==="auto"&&(d.visible=Lte(d,c),d.visible&&(c=d))}return s}function Nte(t){return t===0||t===180?"center":t<180?"left":"right"}function Ute(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function $te(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function Fte(t,e,n){const{left:s,top:i,right:r,bottom:o}=n,{backdropColor:a}=e;if(!jt(a)){const l=Uc(e.borderRadius),c=Qn(e.backdropPadding);t.fillStyle=a;const u=s-c.left,d=i-c.top,f=r-s+c.width,h=o-i+c.height;Object.values(l).some(y=>y!==0)?(t.beginPath(),$m(t,{x:u,y:d,w:f,h,radius:l}),t.fill()):t.fillRect(u,d,f,h)}}function Bte(t,e){const{ctx:n,options:{pointLabels:s}}=t;for(let i=e-1;i>=0;i--){const r=t._pointLabelItems[i];if(!r.visible)continue;const o=s.setContext(t.getPointLabelContext(i));Fte(n,o,r);const a=Tn(o.font),{x:l,y:c,textAlign:u}=r;hl(n,t._pointLabels[i],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function vk(t,e,n,s){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,ci);else{let r=t.getPointPosition(0,e);i.moveTo(r.x,r.y);for(let o=1;o<s;o++)r=t.getPointPosition(o,e),i.lineTo(r.x,r.y)}}function Hte(t,e,n,s,i){const r=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!s||!a||!l||n<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(i.dash),r.lineDashOffset=i.dashOffset,r.beginPath(),vk(t,n,o,s),r.closePath(),r.stroke(),r.restore())}function Gte(t,e,n){return ca(t,{label:n,index:e,type:"pointLabel"})}class rp extends Hm{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Qn(By(this.options)/2),n=this.width=this.maxWidth-e.width,s=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+s/2+e.top),this.drawingArea=Math.floor(Math.min(n,s)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Un(e)&&!isNaN(e)?e:0,this.max=Un(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/By(this.options))}generateTickLabels(e){Hm.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,s)=>{const i=zt(this.options.pointLabels.callback,[n,s],this);return i||i===0?i:""}).filter((n,s)=>this.chart.getDataVisibility(s))}fit(){const e=this.options;e.display&&e.pointLabels.display?Pte(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,s,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((s-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,s,i))}getIndexAngle(e){const n=ci/(this._pointLabels.length||1),s=this.options.startAngle||0;return Ai(e*n+Ho(s))}getDistanceFromCenterForValue(e){if(jt(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(jt(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const s=n[e];return Gte(this.getContext(),e,s)}}getPointPosition(e,n,s=0){const i=this.getIndexAngle(e)-Vs+s;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:s,right:i,bottom:r}=this._pointLabelItems[e];return{left:n,top:s,right:i,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const s=this.ctx;s.save(),s.beginPath(),vk(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),s.closePath(),s.fillStyle=e,s.fill(),s.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:s,grid:i,border:r}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&Bte(this,o),i.display&&this.ticks.forEach((u,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const f=this.getContext(d),h=i.setContext(f),y=r.setContext(f);Hte(this,h,l,o,y)}}),s.display){for(e.save(),a=o-1;a>=0;a--){const u=s.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:f}=u;!f||!d||(e.lineWidth=f,e.strokeStyle=d,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,s=n.ticks;if(!s.display)return;const i=this.getIndexAngle(0);let r,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=s.setContext(this.getContext(l)),u=Tn(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const d=Qn(c.backdropPadding);e.fillRect(-o/2-d.left,-r-u.size/2-d.top,o+d.width,u.size+d.height)}hl(e,a.label,0,-r,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}Z(rp,"id","radialLinear"),Z(rp,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:qg.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),Z(rp,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Z(rp,"descriptors",{angleLines:{_fallback:"grid"}});const Yg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},xs=Object.keys(Yg);function tA(t,e){return t-e}function nA(t,e){if(jt(e))return null;const n=t._adapter,{parser:s,round:i,isoWeekday:r}=t._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),Un(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(mu(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,i)),+o)}function sA(t,e,n,s){const i=xs.length;for(let r=xs.indexOf(t);r<i-1;++r){const o=Yg[xs[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=s)return xs[r]}return xs[i-1]}function zte(t,e,n,s,i){for(let r=xs.length-1;r>=xs.indexOf(n);r--){const o=xs[r];if(Yg[o].common&&t._adapter.diff(i,s,o)>=e-1)return o}return xs[n?xs.indexOf(n):0]}function Vte(t){for(let e=xs.indexOf(t)+1,n=xs.length;e<n;++e)if(Yg[xs[e]].common)return xs[e]}function iA(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:i}=ww(n,e),r=n[s]>=e?n[s]:n[i];t[r]=!0}}function jte(t,e,n,s){const i=t._adapter,r=+i.startOf(e[0].value,s),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+i.add(a,1,s))l=n[a],l>=0&&(e[l].major=!0);return e}function rA(t,e,n){const s=[],i={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],i[a]=o,s.push({value:a,major:!1});return r===0||!n?s:jte(t,s,i,n)}class Af extends vl{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),i=this._adapter=new rk._date(e.adapters.date);i.init(n),Zd(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:nA(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Un(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),r=Un(r)&&!isNaN(r)?r:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=EJ(i,r,o);return this._unit=n.unit||(s.autoSkip?sA(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):zte(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:Vte(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),rA(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,i,r;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?s=r:s=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=ri(n,0,o),s=ri(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,i=this.options,r=i.time,o=r.unit||sA(r.minUnit,n,s,this._getLabelCapacity(n)),a=St(i.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=mu(l)||l===!0,u={};let d=n,f,h;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(s,n,o)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+o);const y=i.ticks.source==="data"&&this.getDataTimestamps();for(f=d,h=0;f<s;f=+e.add(f,a,o),h++)iA(u,f,y);return(f===s||i.bounds==="ticks"||h===1)&&iA(u,f,y),Object.keys(u).sort(tA).map(_=>+_)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,r=this._unit,o=n||i[r];return this._adapter.format(e,o)}_tickFormatFunction(e,n,s,i){const r=this.options,o=r.ticks.callback;if(o)return zt(o,[e,n,s],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],f=s[n],h=c&&d&&f&&f.major;return this._adapter.format(e,i||(h?d:u))}generateTickLabels(e){let n,s,i;for(n=0,s=e.length;n<s;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,i=Ho(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*r+a*o,h:s*o+a*r}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,r=this._tickFormatFunction(e,0,rA(this,[e],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)e.push(nA(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return TJ(e.sort(tA))}}Z(Af,"id","time"),Z(Af,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function op(t,e,n){let s=0,i=t.length-1,r,o,a,l;n?(e>=t[s].pos&&e<=t[i].pos&&({lo:s,hi:i}=Xa(t,"pos",e)),{pos:r,time:a}=t[s],{pos:o,time:l}=t[i]):(e>=t[s].time&&e<=t[i].time&&({lo:s,hi:i}=Xa(t,"time",e)),{time:r,pos:a}=t[s],{time:o,pos:l}=t[i]);const c=o-r;return c?a+(l-a)*(e-r)/c:a}class oA extends Af{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=op(n,this.min),this._tableRange=op(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,i=[],r=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=s&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((i,r)=>i-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(op(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return op(this._table,s*this._tableRange+this._minPos,!0)}}Z(oA,"id","timeseries"),Z(oA,"defaults",Af.defaults);const wk={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},Wte={ariaLabel:{type:String},ariaDescribedby:{type:String}},qte={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...wk,...Wte},Xte=YR[0]==="2"?(t,e)=>Object.assign(t,{attrs:e}):(t,e)=>Object.assign(t,e);function Wl(t){return og(t)?wt(t):t}function Kte(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t;return og(e)?new Proxy(t,{}):t}function Yte(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function xk(t,e){t.labels=e}function Ek(t,e,n){const s=[];t.datasets=e.map(i=>{const r=t.datasets.find(o=>o[n]===i[n]);return!r||!i.data||s.includes(r)?{...i}:(s.push(r),Object.assign(r,i),r)})}function Zte(t,e){const n={labels:[],datasets:[]};return xk(n,t.labels),Ek(n,t.datasets,e),n}const Jte=it({props:qte,setup(t,e){let{expose:n,slots:s}=e;const i=ag(null),r=lg(null);n({chart:r});const o=()=>{if(!i.value)return;const{type:c,data:u,options:d,plugins:f,datasetIdKey:h}=t,y=Zte(u,h),_=Kte(y,u);r.value=new Kg(i.value,{type:c,data:_,options:{...d},plugins:f})},a=()=>{const c=wt(r.value);c&&(t.destroyDelay>0?setTimeout(()=>{c.destroy(),r.value=null},t.destroyDelay):(c.destroy(),r.value=null))},l=c=>{c.update(t.updateMode)};return hv(o),pv(a),tl([()=>t.options,()=>t.data],(c,u)=>{let[d,f]=c,[h,y]=u;const _=wt(r.value);if(!_)return;let p=!1;if(d){const g=Wl(d),b=Wl(h);g&&g!==b&&(Yte(_,g),p=!0)}if(f){const g=Wl(f.labels),b=Wl(y.labels),v=Wl(f.datasets),w=Wl(y.datasets);g!==b&&(xk(_.config.data,g),p=!0),v&&v!==w&&(Ek(_.config.data,v,t.datasetIdKey),p=!0)}p&&Uf(()=>{l(_)})},{deep:!0}),()=>ll("canvas",{role:"img",ariaLabel:t.ariaLabel,ariaDescribedby:t.ariaDescribedby,ref:i},[ll("p",{},[s.default?s.default():""])])}});function Sk(t,e){return Kg.register(e),it({props:wk,setup(n,s){let{expose:i}=s;const r=lg(null),o=a=>{r.value=a==null?void 0:a.chart};return i({chart:r}),()=>ll(Jte,Xte({ref:o},{type:t,...n}))}})}const Qte=Sk("line",Kp),ene=Sk("scatter",Yp),tne=it({name:"line-chart",components:{LineChart:Qte},props:["title","axis","labels"],data(){return{colors:["#1f77b4","#ff7f0e","#2ca02c","#d62728"]}},computed:{chartData(){return{labels:this.labels,datasets:this.axis.map((t,e)=>({label:t.label,data:t.data,borderColor:this.colors[e],fill:!1,radius:1,pointRadius:0,lineTension:.1}))}},chartOptions(){return{responsive:!0,maintainAspectRatio:!1,animation:{duration:0},scales:{x:{type:"linear"}},plugins:{title:{display:!0,text:this.title},tooltip:{enabled:!0,position:"average",mode:"index",intersect:!1}}}}}});function nne(t,e,n,s,i,r){const o=Le("LineChart",!0);return Q(),Vt(o,{data:t.chartData,options:t.chartOptions,ref:"chart"},null,8,["data","options"])}const Ow=ct(tne,[["render",nne]]),sne=it({name:"StickRates",components:{LineChart:Ow},setup(){return{profile:Gt()}},computed:{fileRef(){return this.$refs.file},downloadAnchorRef(){return this.$refs.downloadAnchor},currentProfile(){return this.profile.rate.rates[this.profile.rate.profile]},currentMode:{get(){return this.currentProfile.mode},set(t){const e=this.profile.rate.rates[this.profile.rate.profile].mode;this.rateBackup[e]=JSON.parse(JSON.stringify(this.profile.rate.rates[this.profile.rate.profile].rate)),this.profile.rate.rates[this.profile.rate.profile].mode=t;const n=[...this.rateBackup[t]||this.rateDefaults[t]];this.profile.rate.rates[this.profile.rate.profile].rate=n}},currentModeText(){return this.rateModes[this.currentProfile.mode].text},rateLabel(){return this.rateLabels[this.currentProfile.mode]}},data(){return{rateProfiles:[{value:0,text:"Rate Profile 1"},{value:1,text:"Rate Profile 2"}],MODE_SILVERWARE:0,MODE_BETAFLIGHT:1,MODE_ACTUAL:2,rateBackup:{},rateDefaults:[[[860,860,500],[.8,.8,.6],[.55,0,.55]],[[1.3,1.3,1.3],[.7,.7,.7],[.4,.4,.4]],[[70,70,70],[670,670,670],[0,0,0]]],rateStep:[[5,.05,.05],[.05,.05,.05],[5,5,.05]],rateLimits:[[{min:0,max:1800},{min:0,max:1},{min:0,max:1}],[{min:0,max:3},{min:0,max:3},{min:0,max:1}],[{min:0,max:500},{min:0,max:1800},{min:0,max:1}]],rateModes:[{value:0,text:"Silverware"},{value:1,text:"Betaflight"},{value:2,text:"Actual"}],plot:{axis:[],labels:[]},SILVERWARE_MAX_RATE:0,SILVERWARE_ACRO_EXPO:1,SILVERWARE_ANGLE_EXPO:2,BETAFLIGHT_RC_RATE:0,BETAFLIGHT_SUPER_RATE:1,BETAFLIGHT_EXPO:2,ACTUAL_CENTER_SENSITIVITY:0,ACTUAL_MAX_RATE:1,ACTUAL_EXPO:2,rateLabels:[["MAX_RATE","ACRO_EXPO","ANGLE_EXPO"],["RC_RATE","SUPER_RATE","EXPO"],["CENTER_SENSITIVITY","MAX_RATE","EXPO"]]}},methods:{constrain(t,e,n){return t>n?n:t<e?e:t},calcSilverware(t,e){const n=this.currentProfile.rate[this.SILVERWARE_ACRO_EXPO][t],s=this.currentProfile.rate[this.SILVERWARE_MAX_RATE][t];return(e*e*e*n+e*(1-n))*s},calcBetatflight(t,e){const s=this.currentProfile.rate[this.BETAFLIGHT_EXPO][t],i=Math.abs(e);s&&(e=e*Math.pow(i,3)*s+e*(1-s));let r=this.currentProfile.rate[this.BETAFLIGHT_RC_RATE][t];r>2&&(r+=14.54*(r-2));let o=200*r*e;const a=this.currentProfile.rate[this.BETAFLIGHT_SUPER_RATE][t];if(a){const l=1/this.constrain(1-i*a,.01,1);o*=l}return o},calcActual(t,e){const n=this.currentProfile.rate[this.ACTUAL_EXPO][t],i=Math.abs(e)*(Math.pow(e,5)*n+e*(1-n)),r=this.currentProfile.rate[this.ACTUAL_CENTER_SENSITIVITY][t],o=this.currentProfile.rate[this.ACTUAL_MAX_RATE][t],a=Math.max(0,o-r);return e*r+a*i},update(){const t=[{label:"Roll",data:[]},{label:"Pitch",data:[]},{label:"Yaw",data:[]}],e=[];for(let n=-100;n<=100;n++){const s=n/100;e.push(""+n.toString());for(let i=0;i<3;i++)switch(this.currentProfile.mode){case this.MODE_SILVERWARE:t[i].data.push({x:n,y:this.calcSilverware(i,s)});break;case this.MODE_BETAFLIGHT:t[i].data.push({x:n,y:this.calcBetatflight(i,s)});break;case this.MODE_ACTUAL:t[i].data.push({x:n,y:this.calcActual(i,s)});break}}this.plot={labels:e,axis:t}},uploadRates(){const t=new FileReader;t.addEventListener("load",e=>{var n,s;if((n=e==null?void 0:e.target)!=null&&n.result){const i=zr.parse((s=e==null?void 0:e.target)==null?void 0:s.result);this.profile.rate.rates=[...i]}}),this.fileRef.oninput=()=>{var e,n;(n=(e=this.fileRef)==null?void 0:e.files)!=null&&n.length&&t.readAsText(this.fileRef.files[0])},this.fileRef.click()},downloadRates(){const t=zr.stringify(this.profile.rate.rates),n="data:text/yaml;charset=utf-8,"+encodeURIComponent(t),s=new Date().toISOString().substring(0,10),r=`Rates_${this.profile.meta.name.replace(/\0/g,"")}_${s}.yaml`;this.downloadAnchorRef.setAttribute("href",n),this.downloadAnchorRef.setAttribute("download",r),this.downloadAnchorRef.click()}},mounted(){this.update()}}),ine={class:"card"},rne=m("header",{class:"card-header"},[m("p",{class:"card-header-title"},"Rates")],-1),one={class:"card-content"},ane={class:"content column-narrow field-is-5"},lne={class:"columns"},cne={class:"column is-6"},une={class:"field is-horizontal"},dne={class:"field-label"},fne={class:"label",for:"profile"},hne={class:"field-body"},pne={class:"field"},mne={class:"control is-expanded"},gne={class:"field is-horizontal"},_ne={class:"field-label"},yne={class:"label",for:"rate-mode"},bne={class:"field-body"},vne={class:"field"},wne={class:"control is-expanded"},xne={class:"card mt-5 mb-6"},Ene={class:"card-header"},Sne={class:"card-header-title"},Tne={class:"card-content"},Ane={class:"content"},Mne=aa('<div class="columns is-multiline"><div class="column is-offset-4 is-8"><div class="columns is-multiline"><div class="column is-4"><h6>Roll</h6></div><div class="column is-4"><h6>Pitch</h6></div><div class="column is-4"><h6>Yaw</h6></div></div></div></div>',1),Rne={class:"column is-4"},Cne=["for"],kne={class:"field-body"},Pne={class:"field"},Ine={class:"control is-expanded"},One={class:"columns is-multiline"},Lne={class:"column is-4"},Dne=["id","step","min","max","onUpdate:modelValue"],Nne={class:"column is-4"},Une=["id","step","min","max","onUpdate:modelValue"],$ne={class:"column is-4"},Fne=["id","step","min","max","onUpdate:modelValue"],Bne={class:"field is-horizontal"},Hne={class:"field-label"},Gne={class:"label",for:"level-max-angle"},zne={class:"field-body"},Vne={class:"field"},jne={class:"control is-expanded"},Wne={class:"field is-horizontal"},qne={class:"field-label"},Xne={class:"label",for:"sticks-deadband"},Kne={class:"field-body"},Yne={class:"field"},Zne={class:"control is-expanded"},Jne={class:"column is-6"},Qne={class:"card-footer"},ese={accept:".yaml",type:"file",ref:"file",style:{display:"none"}},tse={ref:"downloadAnchor",target:"_blank"};function nse(t,e,n,s,i,r){const o=Le("tooltip"),a=Le("input-select"),l=Le("LineChart"),c=Le("spinner-btn");return Q(),re("div",ine,[rne,m("div",one,[m("div",ane,[m("div",lne,[m("div",cne,[m("div",une,[m("div",dne,[m("label",fne,[we(" Profile "),J(o,{entry:"rate.profile"})])]),m("div",hne,[m("div",pne,[m("div",mne,[J(a,{id:"profile",class:"is-fullwidth",modelValue:t.profile.rate.profile,"onUpdate:modelValue":e[0]||(e[0]=u=>t.profile.rate.profile=u),modelModifiers:{number:!0},options:t.rateProfiles,onChange:e[1]||(e[1]=u=>t.update())},null,8,["modelValue","options"])])])])]),m("div",gne,[m("div",_ne,[m("label",yne,[we(" Mode "),J(o,{entry:"rate.mode"})])]),m("div",bne,[m("div",vne,[m("div",wne,[J(a,{id:"rate-mode",class:"is-fullwidth",modelValue:t.currentMode,"onUpdate:modelValue":e[2]||(e[2]=u=>t.currentMode=u),modelModifiers:{number:!0},options:t.rateModes,onChange:e[3]||(e[3]=u=>t.update())},null,8,["modelValue","options"])])])])]),m("div",xne,[m("header",Ene,[m("p",Sne,Fe(t.currentModeText),1)]),m("div",Tne,[m("div",Ane,[Mne,(Q(!0),re(ot,null,Bt(t.currentProfile.rate,(u,d)=>(Q(),re("div",{class:"columns is-multiline",key:t.rateLabel[d]},[m("div",Rne,[m("label",{for:`${t.currentModeText}-${t.rateLabel[d]}`},Fe(t.rateLabel[d]),9,Cne)]),m("div",kne,[m("div",Pne,[m("div",Ine,[m("div",One,[m("div",Lne,[qe(m("input",{class:"input",id:`${t.currentModeText}-${t.rateLabel[d]}-roll`,type:"number",step:t.rateStep[t.currentMode][d],min:t.rateLimits[t.currentMode][d].min,max:t.rateLimits[t.currentMode][d].max,"onUpdate:modelValue":f=>t.currentProfile.rate[d][0]=f,onInput:e[4]||(e[4]=f=>t.update())},null,40,Dne),[[nt,t.currentProfile.rate[d][0],void 0,{number:!0}]])]),m("div",Nne,[qe(m("input",{class:"input",id:`${t.currentModeText}-${t.rateLabel[d]}-pitch`,type:"number",step:t.rateStep[t.currentMode][d],min:t.rateLimits[t.currentMode][d].min,max:t.rateLimits[t.currentMode][d].max,"onUpdate:modelValue":f=>t.currentProfile.rate[d][1]=f,onInput:e[5]||(e[5]=f=>t.update())},null,40,Une),[[nt,t.currentProfile.rate[d][1],void 0,{number:!0}]])]),m("div",$ne,[qe(m("input",{class:"input",id:`${t.currentModeText}-${t.rateLabel[d]}-yaw`,type:"number",step:t.rateStep[t.currentMode][d],min:t.rateLimits[t.currentMode][d].min,max:t.rateLimits[t.currentMode][d].max,"onUpdate:modelValue":f=>t.currentProfile.rate[d][2]=f,onInput:e[6]||(e[6]=f=>t.update())},null,40,Fne),[[nt,t.currentProfile.rate[d][2],void 0,{number:!0}]])])])])])])]))),128))])])]),m("div",Bne,[m("div",Hne,[m("label",Gne,[we(" LevelMaxAngle "),J(o,{entry:"rate.level_max_angle"})])]),m("div",zne,[m("div",Vne,[m("div",jne,[qe(m("input",{class:"input",id:"level-max-angle",type:"number",step:"5","onUpdate:modelValue":e[7]||(e[7]=u=>t.profile.rate.level_max_angle=u)},null,512),[[nt,t.profile.rate.level_max_angle,void 0,{number:!0}]])])])])]),m("div",Wne,[m("div",qne,[m("label",Xne,[we(" SticksDeadband "),J(o,{entry:"rate.sticks_deadband"})])]),m("div",Kne,[m("div",Yne,[m("div",Zne,[qe(m("input",{class:"input",step:"0.01",id:"sticks-deadband",type:"number","onUpdate:modelValue":e[8]||(e[8]=u=>t.profile.rate.sticks_deadband=u)},null,512),[[nt,t.profile.rate.sticks_deadband,void 0,{number:!0}]])])])])])]),m("div",Jne,[J(l,{title:"Rates",labels:t.plot.labels,axis:t.plot.axis},null,8,["labels","axis"])])])])]),m("footer",Qne,[J(c,{class:"card-footer-item",onClick:t.downloadRates},{default:tt(()=>[we(" Save Rates ")]),_:1},8,["onClick"]),J(c,{class:"card-footer-item",onClick:t.uploadRates},{default:tt(()=>[we(" Load Rates ")]),_:1},8,["onClick"])]),m("input",ese,null,512),m("a",tse,null,512)])}const sse=ct(sne,[["render",nse]]),ise=it({name:"StickRatesLegacy",components:{LineChart:Ow},setup(){return{profile:Gt()}},data(){return{plotLowRates:!1,rateModes:[{value:0,text:"Silverware"},{value:1,text:"Betaflight"}],plot:{axis:[],labels:[]}}},computed:{currentMode(){return this.rateModes[this.profile.rate.mode]}},watch:{"profile.rate":{handler(t){this.update()},deep:!0},plotLowRates(){this.update()}},methods:{constrainf(t,e,n){return t>n?n:t<e?e:t},limitf(t,e){return this.constrainf(t,-e,e)},rcexpo(t,e){e>1&&(e=1),e<-1&&(e=-1);const n=t*t*t*e+t*(1-e);return this.limitf(n,1)},calcSilverware(t,e){const n=this.profile.rate.silverware.acro_expo[t],s=this.profile.rate.silverware.max_rate[t];return this.rcexpo(e,n)*s},calcBetatflight(t,e){const i=this.profile.rate.betaflight.expo[t];e=this.rcexpo(e,i);let r=this.profile.rate.betaflight.rc_rate[t];r>2&&(r+=14.54*(r-2));const o=e>0?e:-e;let a=200*r*e;const l=this.profile.rate.betaflight.super_rate[t];if(l){const c=1/this.constrainf(1-o*l,.01,1);a*=c}return this.constrainf(a,-1998,1998)},update(){const t=[{label:"Roll",data:[]},{label:"Pitch",data:[]},{label:"Yaw",data:[]}],e=[],n=this.plotLowRates?this.profile.rate.low_rate_mulitplier:1;for(let s=-100;s<=100;s++){const i=s/100;e.push(""+s);for(let r=0;r<3;r++)this.currentMode.text=="Silverware"?t[r].data.push({x:s,y:this.calcSilverware(r,i)*n}):this.currentMode.text=="Betaflight"&&t[r].data.push({x:s,y:this.calcBetatflight(r,i)*n})}this.plot={labels:e,axis:t}}},mounted(){this.update()}}),rse={class:"card"},ose=m("header",{class:"card-header"},[m("p",{class:"card-header-title"},"Rates")],-1),ase={class:"card-content"},lse={class:"content column-narrow field-is-5"},cse={class:"columns"},use={class:"column is-6"},dse={class:"field is-horizontal"},fse={class:"field-label"},hse={class:"label",for:"rate-mode"},pse={class:"field-body"},mse={class:"field"},gse={class:"control is-expanded"},_se={class:"card mt-5 mb-6"},yse={class:"card-header"},bse={class:"card-header-title"},vse={class:"card-content"},wse={class:"content"},xse=aa('<div class="columns is-multiline"><div class="column is-offset-4 is-8"><div class="columns is-multiline"><div class="column is-4"><h6>Roll</h6></div><div class="column is-4"><h6>Pitch</h6></div><div class="column is-4"><h6>Yaw</h6></div></div></div></div>',1),Ese={class:"column is-4"},Sse=["for"],Tse={class:"field-body"},Ase={class:"field"},Mse={class:"control is-expanded"},Rse={class:"columns is-multiline"},Cse={class:"column is-4"},kse=["id","onUpdate:modelValue"],Pse={class:"column is-4"},Ise=["id","onUpdate:modelValue"],Ose={class:"column is-4"},Lse=["id","onUpdate:modelValue"],Dse={class:"field is-horizontal"},Nse={class:"field-label"},Use={class:"label",for:"level-max-angle"},$se={class:"field-body"},Fse={class:"field"},Bse={class:"control is-expanded"},Hse={class:"field is-horizontal"},Gse={class:"field-label"},zse={class:"label",for:"low-rate-mulitplier"},Vse={class:"field-body"},jse={class:"field"},Wse={class:"control is-expanded"},qse={class:"field is-horizontal"},Xse={class:"field-label"},Kse={class:"label",for:"sticks-deadband"},Yse={class:"field-body"},Zse={class:"field"},Jse={class:"control is-expanded"},Qse={class:"column is-6"},eie=m("label",{for:"plotLowRates"},"Plot LowRates",-1);function tie(t,e,n,s,i,r){const o=Le("tooltip"),a=Le("input-select"),l=Le("LineChart");return Q(),re("div",rse,[ose,m("div",ase,[m("div",lse,[m("div",cse,[m("div",use,[m("div",dse,[m("div",fse,[m("label",hse,[we(" Mode "),J(o,{entry:"rate.mode"})])]),m("div",pse,[m("div",mse,[m("div",gse,[J(a,{id:"rate-mode",class:"is-fullwidth",modelValue:t.profile.rate.mode,"onUpdate:modelValue":e[0]||(e[0]=c=>t.profile.rate.mode=c),modelModifiers:{number:!0},options:t.rateModes,onChange:e[1]||(e[1]=c=>t.update())},null,8,["modelValue","options"])])])])]),m("div",_se,[m("header",yse,[m("p",bse,Fe(t.currentMode.text),1)]),m("div",vse,[m("div",wse,[xse,(Q(!0),re(ot,null,Bt(t.profile.rate[t.currentMode.text.toLowerCase()],(c,u)=>(Q(),re("div",{class:"columns is-multiline",key:u},[m("div",Ese,[m("label",{for:`${t.currentMode.text}-${u}`},Fe(u),9,Sse)]),m("div",Tse,[m("div",Ase,[m("div",Mse,[m("div",Rse,[m("div",Cse,[qe(m("input",{class:"input",id:`${t.currentMode.text}-${u}-roll`,type:"number",step:"10","onUpdate:modelValue":d=>t.profile.rate[t.currentMode.text.toLowerCase()][u][0]=d},null,8,kse),[[nt,t.profile.rate[t.currentMode.text.toLowerCase()][u][0],void 0,{number:!0}]])]),m("div",Pse,[qe(m("input",{class:"input",id:`${t.currentMode.text}-${u}-pitch`,type:"number",step:"10","onUpdate:modelValue":d=>t.profile.rate[t.currentMode.text.toLowerCase()][u][1]=d},null,8,Ise),[[nt,t.profile.rate[t.currentMode.text.toLowerCase()][u][1],void 0,{number:!0}]])]),m("div",Ose,[qe(m("input",{class:"input",id:`${t.currentMode.text}-${u}-yaw`,type:"number",step:"10","onUpdate:modelValue":d=>t.profile.rate[t.currentMode.text.toLowerCase()][u][2]=d},null,8,Lse),[[nt,t.profile.rate[t.currentMode.text.toLowerCase()][u][2],void 0,{number:!0}]])])])])])])]))),128))])])]),m("div",Dse,[m("div",Nse,[m("label",Use,[we(" LevelMaxAngle "),J(o,{entry:"rate.level_max_angle"})])]),m("div",$se,[m("div",Fse,[m("div",Bse,[qe(m("input",{class:"input",id:"level-max-angle",type:"number",step:"5","onUpdate:modelValue":e[2]||(e[2]=c=>t.profile.rate.level_max_angle=c)},null,512),[[nt,t.profile.rate.level_max_angle,void 0,{number:!0}]])])])])]),m("div",Hse,[m("div",Gse,[m("label",zse,[we(" LowRateMulitplier "),J(o,{entry:"rate.low_rate_mulitplier"})])]),m("div",Vse,[m("div",jse,[m("div",Wse,[qe(m("input",{class:"input",id:"low-rate-mulitplier",type:"number",step:"0.05","onUpdate:modelValue":e[3]||(e[3]=c=>t.profile.rate.low_rate_mulitplier=c)},null,512),[[nt,t.profile.rate.low_rate_mulitplier,void 0,{number:!0}]])])])])]),m("div",qse,[m("div",Xse,[m("label",Kse,[we(" SticksDeadband "),J(o,{entry:"rate.sticks_deadband"})])]),m("div",Yse,[m("div",Zse,[m("div",Jse,[qe(m("input",{class:"input",step:"0.01",id:"sticks-deadband",type:"number","onUpdate:modelValue":e[4]||(e[4]=c=>t.profile.rate.sticks_deadband=c)},null,512),[[nt,t.profile.rate.sticks_deadband,void 0,{number:!0}]])])])])])]),m("div",Qse,[t.profile.rate.silverware.acro_expo?(Q(),Vt(l,{key:0,title:(t.plotLowRates?"Low ":"")+"Rates",labels:t.plot.labels,axis:t.plot.axis},null,8,["title","labels","axis"])):Ve("",!0),qe(m("input",{id:"plotLowRates",name:"plotLowRates",type:"checkbox",class:"switch","onUpdate:modelValue":e[5]||(e[5]=c=>t.plotLowRates=c)},null,512),[[r4,t.plotLowRates]]),eie])])])])])}const nie=ct(ise,[["render",tie]]),sie=it({name:"PIDRates",setup(){return{root:tn(),profile:Gt()}},data(){return{pidProfiles:[{value:0,text:"PID Profile 1"},{value:1,text:"PID Profile 2"}],stickProfiles:[{value:0,text:"Stick Boost Profile AUX Off"},{value:1,text:"Stick Boost Profile AUX On"}],tdaOptions:[{value:0,text:"Off"},{value:1,text:"On"}],current_preset:-1}},computed:{pid_rates:{get(){return this.profile.current_pid_rate},set(t){this.profile.set_current_pid_rate(t)}},stick_rates:{get(){return this.profile.current_stick_rate},set(t){this.profile.set_current_stick_rate(t)}},presets(){return[{index:-1,name:"Choose..."},...this.root.pid_rate_presets].map(t=>({value:t.index,text:t.name}))}},methods:{load_preset(t){this.pid_rates=this.root.pid_rate_presets[t].rate}}}),iie={class:"card"},rie=m("header",{class:"card-header"},[m("p",{class:"card-header-title"},"PID")],-1),oie={class:"card-content"},aie={class:"content column-narrow field-is-5"},lie={class:"columns"},cie={class:"column is-6"},uie={class:"field field-is-2 is-horizontal"},die={class:"field-label"},fie={class:"label",for:"pid-preset"},hie={class:"field-body"},pie={class:"field has-addons"},mie={class:"control is-expanded"},gie={class:"control"},_ie={class:"field field-is-2 is-horizontal"},yie={class:"field-label"},bie={class:"label",for:"pid-profile"},vie={class:"field-body"},wie={class:"field"},xie={class:"control is-expanded"},Eie=aa('<div class="columns mt-4 mb-0"><div class="column is-offset-4 is-8"><div class="columns"><div class="column is-4"><h6>Roll</h6></div><div class="column is-4"><h6>Pitch</h6></div><div class="column is-4"><h6>Yaw</h6></div></div></div></div>',1),Sie={class:"field-label"},Tie={class:"label"},Aie={class:"field-body"},Mie={class:"field"},Rie={class:"control is-expanded"},Cie=["id","onUpdate:modelValue"],kie={class:"field"},Pie={class:"control is-expanded"},Iie=["id","onUpdate:modelValue"],Oie={class:"field"},Lie={class:"control is-expanded"},Die=["id","onUpdate:modelValue"],Nie={class:"field is-horizontal mt-6"},Uie={class:"field-label"},$ie={class:"label",for:"throttle_dterm_attenuation-enable"},Fie={class:"field-body"},Bie={class:"field"},Hie={class:"control is-expanded"},Gie={class:"field is-horizontal"},zie={class:"field-label"},Vie={class:"label",for:"throttle_dterm_attenuation-breakpoint"},jie={class:"field-body"},Wie={class:"field"},qie={class:"control is-expanded"},Xie={class:"field is-horizontal"},Kie={class:"field-label"},Yie={class:"label",for:"throttle_dterm_attenuation-percent"},Zie={class:"field-body"},Jie={class:"field"},Qie={class:"control is-expanded"},ere={class:"column is-6"},tre={class:"field field-is-2 is-horizontal"},nre={class:"field-label"},sre={class:"label",for:"stick-profile"},ire={class:"field-body"},rre={class:"field"},ore={class:"control is-expanded"},are=aa('<div class="columns my-0"><div class="column is-offset-4 is-8"><div class="columns"><div class="column is-4"><h6>Roll</h6></div><div class="column is-4"><h6>Pitch</h6></div><div class="column is-4"><h6>Yaw</h6></div></div></div></div>',1),lre={class:"field-label"},cre={class:"label"},ure={class:"field-body"},dre={class:"field"},fre={class:"control is-expanded"},hre=["id","onUpdate:modelValue"],pre={class:"field"},mre={class:"control is-expanded"},gre=["id","onUpdate:modelValue"],_re={class:"field"},yre={class:"control is-expanded"},bre=["id","onUpdate:modelValue"],vre={class:"columns mt-6 mb-1"},wre={class:"column is-4"},xre={class:"has-text-right"},Ere=m("div",{class:"column is-4"},[m("h6",null,"Small")],-1),Sre=m("div",{class:"column is-4"},[m("h6",null,"Big")],-1),Tre={class:"field-label"},Are={class:"label"},Mre={class:"field-body"},Rre={class:"field"},Cre={class:"control is-expanded"},kre=["id","onUpdate:modelValue"],Pre={class:"field"},Ire={class:"control is-expanded"},Ore=["id","onUpdate:modelValue"];function Lre(t,e,n,s,i,r){const o=Le("tooltip"),a=Le("input-select"),l=Le("spinner-btn");return Q(),re("div",iie,[rie,m("div",oie,[m("div",aie,[m("div",lie,[m("div",cie,[m("div",uie,[m("div",die,[m("label",fie,[we(" PID Preset "),J(o,{entry:"pid.preset"})])]),m("div",hie,[m("div",pie,[m("div",mie,[J(a,{id:"pid-preset",modelValue:t.current_preset,"onUpdate:modelValue":e[0]||(e[0]=c=>t.current_preset=c),modelModifiers:{number:!0},class:"is-fullwidth",options:t.presets},null,8,["modelValue","options"])]),m("div",gie,[J(l,{disabled:t.current_preset==-1,onClick:e[1]||(e[1]=c=>t.load_preset(t.current_preset))},{default:tt(()=>[we(" Load ")]),_:1},8,["disabled"])])])])]),m("div",_ie,[m("div",yie,[m("label",bie,[we(" PIDProfile "),J(o,{entry:"pid.profile"})])]),m("div",vie,[m("div",wie,[m("div",xie,[J(a,{id:"pid-profile",modelValue:t.profile.pid.pid_profile,"onUpdate:modelValue":e[2]||(e[2]=c=>t.profile.pid.pid_profile=c),modelModifiers:{number:!0},class:"is-fullwidth",options:t.pidProfiles},null,8,["modelValue","options"])])])])]),Eie,(Q(!0),re(ot,null,Bt(t.pid_rates,(c,u)=>(Q(),re("div",{key:u,class:"field field-is-2 is-horizontal"},[m("div",Sie,[m("label",Tie,Fe(u),1)]),m("div",Aie,[m("div",Mie,[m("p",Rie,[qe(m("input",{id:`pid-${u}-roll`,"onUpdate:modelValue":d=>t.pid_rates[u][0]=d,class:"input",type:"number",step:"1.0",min:"0"},null,8,Cie),[[nt,t.pid_rates[u][0],void 0,{number:!0}]])])]),m("div",kie,[m("p",Pie,[qe(m("input",{id:`pid-${u}-pitch`,"onUpdate:modelValue":d=>t.pid_rates[u][1]=d,class:"input",type:"number",step:"1.0",min:"0"},null,8,Iie),[[nt,t.pid_rates[u][1],void 0,{number:!0}]])])]),m("div",Oie,[m("p",Lie,[qe(m("input",{id:`pid-${u}-yaw`,"onUpdate:modelValue":d=>t.pid_rates[u][2]=d,class:"input",type:"number",step:"1.0",min:"0"},null,8,Die),[[nt,t.pid_rates[u][2],void 0,{number:!0}]])])])])]))),128)),m("div",Nie,[m("div",Uie,[m("label",$ie,[we(" Throttle DTerm Attenuation "),J(o,{entry:"pid.tda_active"})])]),m("div",Fie,[m("div",Bie,[m("div",Hie,[J(a,{id:"throttle_dterm_attenuation-enable",modelValue:t.profile.pid.throttle_dterm_attenuation.tda_active,"onUpdate:modelValue":e[3]||(e[3]=c=>t.profile.pid.throttle_dterm_attenuation.tda_active=c),modelModifiers:{number:!0},class:"is-fullwidth",options:t.tdaOptions},null,8,["modelValue","options"])])])])]),m("div",Gie,[m("div",zie,[m("label",Vie,[we(" TDA Breakpoint "),J(o,{entry:"pid.tda_breakpoint"})])]),m("div",jie,[m("div",Wie,[m("div",qie,[qe(m("input",{id:"throttle_dterm_attenuation-breakpoint","onUpdate:modelValue":e[4]||(e[4]=c=>t.profile.pid.throttle_dterm_attenuation.tda_breakpoint=c),class:"input",type:"number",step:"0.05",min:"0"},null,512),[[nt,t.profile.pid.throttle_dterm_attenuation.tda_breakpoint,void 0,{number:!0}]])])])])]),m("div",Xie,[m("div",Kie,[m("label",Yie,[we(" TDA Percent "),J(o,{entry:"pid.tda_percent"})])]),m("div",Zie,[m("div",Jie,[m("div",Qie,[qe(m("input",{id:"throttle_dterm_attenuation-percent","onUpdate:modelValue":e[5]||(e[5]=c=>t.profile.pid.throttle_dterm_attenuation.tda_percent=c),class:"input",type:"number",step:"0.05",min:"0"},null,512),[[nt,t.profile.pid.throttle_dterm_attenuation.tda_percent,void 0,{number:!0}]])])])])])]),m("div",ere,[m("div",tre,[m("div",nre,[m("label",sre,[we(" Stick Boost Profile "),J(o,{entry:"pid.stick_profile"})])]),m("div",ire,[m("div",rre,[m("div",ore,[J(a,{id:"stick-profile",modelValue:t.profile.pid.stick_profile,"onUpdate:modelValue":e[6]||(e[6]=c=>t.profile.pid.stick_profile=c),modelModifiers:{number:!0},class:"is-fullwidth",options:t.stickProfiles},null,8,["modelValue","options"])])])])]),are,(Q(!0),re(ot,null,Bt(t.stick_rates,(c,u)=>(Q(),re("div",{key:u,class:"field field-is-2 is-horizontal"},[m("div",lre,[m("label",cre,Fe(u),1)]),m("div",ure,[m("div",dre,[m("p",fre,[qe(m("input",{id:`stick-${u}-roll`,"onUpdate:modelValue":d=>t.stick_rates[u][0]=d,class:"input",type:"number",step:"0.01"},null,8,hre),[[nt,t.stick_rates[u][0],void 0,{number:!0}]])])]),m("div",pre,[m("p",mre,[qe(m("input",{id:`stick-${u}-pitch`,"onUpdate:modelValue":d=>t.stick_rates[u][1]=d,class:"input",type:"number",step:"0.01"},null,8,gre),[[nt,t.stick_rates[u][1],void 0,{number:!0}]])])]),m("div",_re,[m("p",yre,[qe(m("input",{id:`stick-${u}-yaw`,"onUpdate:modelValue":d=>t.stick_rates[u][2]=d,class:"input",type:"number",step:"0.01"},null,8,bre),[[nt,t.stick_rates[u][2],void 0,{number:!0}]])])])])]))),128)),m("div",vre,[m("div",wre,[m("h6",xre,[we(" Angle Strength "),J(o,{entry:"pid.angle_strength"})])]),Ere,Sre]),(Q(),re(ot,null,Bt(["kp","kd"],(c,u)=>m("div",{key:u,class:"field field-is-2 is-horizontal"},[m("div",Tre,[m("label",Are,Fe(c),1)]),m("div",Mre,[m("div",Rre,[m("p",Cre,[qe(m("input",{id:`small-angle-${c}`,"onUpdate:modelValue":d=>t.profile.pid.small_angle[c]=d,class:"input",type:"number",step:"0.01"},null,8,kre),[[nt,t.profile.pid.small_angle[c],void 0,{number:!0}]])])]),m("div",Pre,[m("p",Ire,[qe(m("input",{id:`big-angle-${c}`,"onUpdate:modelValue":d=>t.profile.pid.big_angle[c]=d,class:"input",type:"number",step:"0.01"},null,8,Ore),[[nt,t.profile.pid.big_angle[c],void 0,{number:!0}]])])])])])),64))])])])])])}const Dre=ct(sie,[["render",Lre]]),Nre=it({name:"FilterSettings",setup(){return{profile:Gt()}},data(){return{filterTypeOptions:[{value:0,text:"None"},{value:1,text:"PT1"},{value:2,text:"PT2"},{value:3,text:"PT3"}],toggleOptions:[{value:0,text:"Off"},{value:1,text:"On"}]}}}),Ure={class:"card"},$re={class:"card-header"},Fre=m("p",{class:"card-header-title"},"Filter",-1),Bre={class:"card-content"},Hre={class:"content column-narrow field-is-5"},Gre={key:0,class:"columns"},zre={key:0,class:"column is-6"},Vre={class:"field is-horizontal"},jre={class:"field-label"},Wre={class:"label",for:"gyro-1-type"},qre={class:"field-body"},Xre={class:"field"},Kre={class:"control is-expanded"},Yre={class:"field is-horizontal"},Zre={class:"field-label"},Jre={class:"label",for:"gyro-1-freq"},Qre={class:"field-body"},eoe={class:"field"},toe={class:"control is-expanded"},noe={class:"field is-horizontal mt-6"},soe={class:"field-label"},ioe={class:"label",for:"gyro-2-type"},roe={class:"field-body"},ooe={class:"field"},aoe={class:"control is-expanded"},loe={class:"field is-horizontal"},coe={class:"field-label"},uoe={class:"label",for:"gyro-2-freq"},doe={class:"field-body"},foe={class:"field"},hoe={class:"control is-expanded"},poe={key:0,class:"field is-horizontal mt-6"},moe={class:"field-label"},goe={class:"label",for:"gyro-dynamic-enable"},_oe={class:"field-body"},yoe={class:"field"},boe={class:"control is-expanded"},voe={key:1,class:"column is-6"},woe={class:"field is-horizontal"},xoe={class:"field-label"},Eoe={class:"label",for:"dterm-1-type"},Soe={class:"field-body"},Toe={class:"field"},Aoe={class:"control is-expanded"},Moe={class:"field is-horizontal"},Roe={class:"field-label"},Coe={class:"label",for:"dterm-1-freq"},koe={class:"field-body"},Poe={class:"field"},Ioe={class:"control is-expanded"},Ooe={class:"field is-horizontal mt-6"},Loe={class:"field-label"},Doe={class:"label",for:"dterm-2-type"},Noe={class:"field-body"},Uoe={class:"field"},$oe={class:"control is-expanded"},Foe={class:"field is-horizontal"},Boe={class:"field-label"},Hoe={class:"label",for:"dterm-2-freq"},Goe={class:"field-body"},zoe={class:"field"},Voe={class:"control is-expanded"},joe={class:"field is-horizontal mt-6"},Woe={class:"field-label"},qoe={class:"label",for:"dterm-dynamic-enable"},Xoe={class:"field-body"},Koe={class:"field"},Yoe={class:"control is-expanded"},Zoe={class:"field is-horizontal"},Joe={class:"field-label"},Qoe={class:"label",for:"dterm-dynamic-min"},eae={class:"field-body"},tae={class:"field"},nae={class:"control is-expanded"},sae={class:"field is-horizontal"},iae={class:"field-label"},rae={class:"label",for:"dterm-dynamic-max"},oae={class:"field-body"},aae={class:"field"},lae={class:"control is-expanded"};function cae(t,e,n,s,i,r){const o=Le("tooltip"),a=Le("input-select");return Q(),re("div",Ure,[m("header",$re,[Fre,J(o,{class:"card-header-icon",entry:"filter.settings",size:"lg"})]),m("div",Bre,[m("div",Hre,[t.profile?(Q(),re("div",Gre,[t.profile.filter.gyro?(Q(),re("div",zre,[m("div",Vre,[m("div",jre,[m("label",Wre,[we(" Gyro Pass 1 Type "),J(o,{entry:"filter.gyro_1_type"})])]),m("div",qre,[m("div",Xre,[m("div",Kre,[J(a,{id:"gyro-1-type",modelValue:t.profile.filter.gyro[0].type,"onUpdate:modelValue":e[0]||(e[0]=l=>t.profile.filter.gyro[0].type=l),modelModifiers:{number:!0},class:"is-fullwidth",options:t.filterTypeOptions},null,8,["modelValue","options"])])])])]),m("div",Yre,[m("div",Zre,[m("label",Jre,[we(" Gyro Pass 1 Freq "),J(o,{entry:"filter.gyro_1_freq"})])]),m("div",Qre,[m("div",eoe,[m("div",toe,[qe(m("input",{id:"gyro-1-freq","onUpdate:modelValue":e[1]||(e[1]=l=>t.profile.filter.gyro[0].cutoff_freq=l),class:"input",type:"number",step:"5",min:"0"},null,512),[[nt,t.profile.filter.gyro[0].cutoff_freq,void 0,{number:!0}]])])])])]),m("div",noe,[m("div",soe,[m("label",ioe,[we(" Gyro Pass 2 Type "),J(o,{entry:"filter.gyro_2_type"})])]),m("div",roe,[m("div",ooe,[m("div",aoe,[J(a,{id:"gyro-2-type",modelValue:t.profile.filter.gyro[1].type,"onUpdate:modelValue":e[2]||(e[2]=l=>t.profile.filter.gyro[1].type=l),modelModifiers:{number:!0},class:"is-fullwidth",options:t.filterTypeOptions},null,8,["modelValue","options"])])])])]),m("div",loe,[m("div",coe,[m("label",uoe,[we(" Gyro Pass 2 Freq "),J(o,{entry:"filter.gyro_2_freq"})])]),m("div",doe,[m("div",foe,[m("div",hoe,[qe(m("input",{id:"gyro-2-freq","onUpdate:modelValue":e[3]||(e[3]=l=>t.profile.filter.gyro[1].cutoff_freq=l),class:"input",type:"number",step:"5",min:"0"},null,512),[[nt,t.profile.filter.gyro[1].cutoff_freq,void 0,{number:!0}]])])])])]),t.profile.profileVersionGt("0.2.2")?(Q(),re("div",poe,[m("div",moe,[m("label",goe,[we(" Gyro Dynamic Notch "),J(o,{entry:"filter.gyro_dynamic_notch_enable"})])]),m("div",_oe,[m("div",yoe,[m("div",boe,[J(a,{id:"gyro-dynamic-enable",modelValue:t.profile.filter.gyro_dynamic_notch_enable,"onUpdate:modelValue":e[4]||(e[4]=l=>t.profile.filter.gyro_dynamic_notch_enable=l),modelModifiers:{number:!0},class:"is-fullwidth",options:t.toggleOptions},null,8,["modelValue","options"])])])])])):Ve("",!0)])):Ve("",!0),t.profile.filter.dterm?(Q(),re("div",voe,[m("div",woe,[m("div",xoe,[m("label",Eoe,[we(" DTerm Pass 1 Type "),J(o,{entry:"filter.dterm_1_type"})])]),m("div",Soe,[m("div",Toe,[m("div",Aoe,[J(a,{id:"dterm-1-type",modelValue:t.profile.filter.dterm[0].type,"onUpdate:modelValue":e[5]||(e[5]=l=>t.profile.filter.dterm[0].type=l),modelModifiers:{number:!0},class:"is-fullwidth",options:t.filterTypeOptions},null,8,["modelValue","options"])])])])]),m("div",Moe,[m("div",Roe,[m("label",Coe,[we(" DTerm Pass 1 Freq "),J(o,{entry:"filter.dterm_1_freq"})])]),m("div",koe,[m("div",Poe,[m("div",Ioe,[qe(m("input",{id:"dterm-1-freq","onUpdate:modelValue":e[6]||(e[6]=l=>t.profile.filter.dterm[0].cutoff_freq=l),class:"input",type:"number",step:"5",min:"0"},null,512),[[nt,t.profile.filter.dterm[0].cutoff_freq,void 0,{number:!0}]])])])])]),m("div",Ooe,[m("div",Loe,[m("label",Doe,[we(" DTerm Pass 2 Type "),J(o,{entry:"filter.dterm_2_type"})])]),m("div",Noe,[m("div",Uoe,[m("div",$oe,[J(a,{id:"dterm-2-type",modelValue:t.profile.filter.dterm[1].type,"onUpdate:modelValue":e[7]||(e[7]=l=>t.profile.filter.dterm[1].type=l),modelModifiers:{number:!0},class:"is-fullwidth",options:t.filterTypeOptions},null,8,["modelValue","options"])])])])]),m("div",Foe,[m("div",Boe,[m("label",Hoe,[we(" DTerm Pass 2 Freq "),J(o,{entry:"filter.dterm_2_freq"})])]),m("div",Goe,[m("div",zoe,[m("div",Voe,[qe(m("input",{id:"dterm-2-freq","onUpdate:modelValue":e[8]||(e[8]=l=>t.profile.filter.dterm[1].cutoff_freq=l),class:"input",type:"number",step:"5",min:"0"},null,512),[[nt,t.profile.filter.dterm[1].cutoff_freq,void 0,{number:!0}]])])])])]),m("div",joe,[m("div",Woe,[m("label",qoe,[we(" DTerm Dynamic "),J(o,{entry:"filter.dterm_dynamic_enable"})])]),m("div",Xoe,[m("div",Koe,[m("div",Yoe,[J(a,{id:"dterm-dynamic-enable",modelValue:t.profile.filter.dterm_dynamic_enable,"onUpdate:modelValue":e[9]||(e[9]=l=>t.profile.filter.dterm_dynamic_enable=l),modelModifiers:{number:!0},class:"is-fullwidth",options:t.toggleOptions},null,8,["modelValue","options"])])])])]),m("div",Zoe,[m("div",Joe,[m("label",Qoe,[we(" DTerm Dynamic Min "),J(o,{entry:"filter.dterm_dynamic_min"})])]),m("div",eae,[m("div",tae,[m("div",nae,[qe(m("input",{id:"dterm-dynamic-min","onUpdate:modelValue":e[10]||(e[10]=l=>t.profile.filter.dterm_dynamic_min=l),class:"input",type:"number",step:"5",min:"0"},null,512),[[nt,t.profile.filter.dterm_dynamic_min,void 0,{number:!0}]])])])])]),m("div",sae,[m("div",iae,[m("label",rae,[we(" DTerm Dynamic Max "),J(o,{entry:"filter.dterm_dynamic_max"})])]),m("div",oae,[m("div",aae,[m("div",lae,[qe(m("input",{id:"dterm-dynamic-max","onUpdate:modelValue":e[11]||(e[11]=l=>t.profile.filter.dterm_dynamic_max=l),class:"input",type:"number",step:"5",min:"0"},null,512),[[nt,t.profile.filter.dterm_dynamic_max,void 0,{number:!0}]])])])])])])):Ve("",!0)])):Ve("",!0)])])])}const uae=ct(Nre,[["render",cae]]),dae=it({name:"ThrottleSettings",components:{LineChart:Ow},setup(){return{profile:Gt()}},data(){return{plot:{labels:["Throttle"],axis:[{label:"Throttle",data:[]}]}}},watch:{"profile.rate.throttle_expo"(){this.update()},"profile.rate.throttle_mid"(){this.update()}},methods:{constrainf(t,e,n){return t>n?n:t<e?e:t},calcThrottle(t){const e=t*2-1,n=this.profile.rate.throttle_expo,s=this.profile.rate.throttle_mid;return this.constrainf((e*e*e*n+e*(1-n)+1)*s,0,1)},update(){const t=[];for(let e=0;e<=100;e++){const n=e/100;t.push({x:e,y:this.calcThrottle(n)*100})}this.plot.axis[0].data=t}},created(){this.update()}}),fae={class:"card"},hae=m("header",{class:"card-header"},[m("p",{class:"card-header-title"},"Throttle Settings")],-1),pae={class:"card-content"},mae={class:"content"},gae={class:"columns column-narrow field-is-5"},_ae={class:"column is-6"},yae={class:"field is-horizontal mt-6"},bae={class:"field-label"},vae={class:"label",for:"throttle_mid"},wae={class:"field-body"},xae={class:"field"},Eae={class:"control is-expanded"},Sae={class:"field is-horizontal"},Tae={class:"field-label"},Aae={class:"label",for:"throttle_expo"},Mae={class:"field-body"},Rae={class:"field"},Cae={class:"control is-expanded"},kae={class:"column is-6",style:{height:"30vw"}};function Pae(t,e,n,s,i,r){const o=Le("tooltip"),a=Le("LineChart");return Q(),re("div",fae,[hae,m("div",pae,[m("div",mae,[m("div",gae,[m("div",_ae,[m("div",yae,[m("div",bae,[m("label",vae,[we(" Throttle Mid "),J(o,{entry:"rate.throttle_mid"})])]),m("div",wae,[m("div",xae,[m("div",Eae,[qe(m("input",{class:"input",step:"0.01",id:"throttle_mid",type:"number",min:"0",max:"1","onUpdate:modelValue":e[0]||(e[0]=l=>t.profile.rate.throttle_mid=l)},null,512),[[nt,t.profile.rate.throttle_mid,void 0,{number:!0}]])])])])]),m("div",Sae,[m("div",Tae,[m("label",Aae,[we(" Throttle Expo "),J(o,{entry:"rate.throttle_expo"})])]),m("div",Mae,[m("div",Rae,[m("div",Cae,[qe(m("input",{class:"input",step:"0.01",id:"throttle_expo",type:"number",min:"0",max:"1","onUpdate:modelValue":e[1]||(e[1]=l=>t.profile.rate.throttle_expo=l)},null,512),[[nt,t.profile.rate.throttle_expo,void 0,{number:!0}]])])])])])]),m("div",kae,[J(a,{title:"Throttle",labels:t.plot.labels,axis:t.plot.axis},null,8,["labels","axis"])])])])])])}const Iae=ct(dae,[["render",Pae]]),Oae=it({name:"Rate",components:{StickRates:sse,PIDRates:Dre,FilterSettings:uae,StickRatesLegacy:nie,ThrottleSettings:Iae},setup(){return{profile:Gt(),default_profile:Bf()}}}),Lae={class:"columns is-multiline"},Dae={class:"column is-12"},Nae={key:0,class:"column is-12"},Uae={class:"column is-12"},$ae={class:"column is-12"};function Fae(t,e,n,s,i,r){const o=Le("StickRatesLegacy"),a=Le("StickRates"),l=Le("ThrottleSettings"),c=Le("PIDRates"),u=Le("FilterSettings");return Q(),re("div",Lae,[m("div",Dae,[t.default_profile.has_legacy_stickrates?(Q(),Vt(o,{key:0})):(Q(),Vt(a,{key:1}))]),t.profile.profileVersionGt("0.2.0")?(Q(),re("div",Nae,[J(l)])):Ve("",!0),m("div",Uae,[J(c)]),m("div",$ae,[J(u)])])}const Bae=ct(Oae,[["render",Fae]]);var Tk={exports:{}},Ak={exports:{}};(function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(n,s){return n<<s|n>>>32-s},rotr:function(n,s){return n<<32-s|n>>>s},endian:function(n){if(n.constructor==Number)return e.rotl(n,8)&16711935|e.rotl(n,24)&4278255360;for(var s=0;s<n.length;s++)n[s]=e.endian(n[s]);return n},randomBytes:function(n){for(var s=[];n>0;n--)s.push(Math.floor(Math.random()*256));return s},bytesToWords:function(n){for(var s=[],i=0,r=0;i<n.length;i++,r+=8)s[r>>>5]|=n[i]<<24-r%32;return s},wordsToBytes:function(n){for(var s=[],i=0;i<n.length*32;i+=8)s.push(n[i>>>5]>>>24-i%32&255);return s},bytesToHex:function(n){for(var s=[],i=0;i<n.length;i++)s.push((n[i]>>>4).toString(16)),s.push((n[i]&15).toString(16));return s.join("")},hexToBytes:function(n){for(var s=[],i=0;i<n.length;i+=2)s.push(parseInt(n.substr(i,2),16));return s},bytesToBase64:function(n){for(var s=[],i=0;i<n.length;i+=3)for(var r=n[i]<<16|n[i+1]<<8|n[i+2],o=0;o<4;o++)i*8+o*6<=n.length*8?s.push(t.charAt(r>>>6*(3-o)&63)):s.push("=");return s.join("")},base64ToBytes:function(n){n=n.replace(/[^A-Z0-9+\/]/ig,"");for(var s=[],i=0,r=0;i<n.length;r=++i%4)r!=0&&s.push((t.indexOf(n.charAt(i-1))&Math.pow(2,-2*r+8)-1)<<r*2|t.indexOf(n.charAt(i))>>>6-r*2);return s}};Ak.exports=e})();var Hae=Ak.exports,Hy={utf8:{stringToBytes:function(t){return Hy.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(Hy.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(t.charCodeAt(n)&255);return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}},aA=Hy;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Gae=function(t){return t!=null&&(Mk(t)||zae(t)||!!t._isBuffer)};function Mk(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function zae(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&Mk(t.slice(0,0))}(function(){var t=Hae,e=aA.utf8,n=Gae,s=aA.bin,i=function(r,o){r.constructor==String?o&&o.encoding==="binary"?r=s.stringToBytes(r):r=e.stringToBytes(r):n(r)?r=Array.prototype.slice.call(r,0):!Array.isArray(r)&&r.constructor!==Uint8Array&&(r=r.toString());for(var a=t.bytesToWords(r),l=r.length*8,c=1732584193,u=-271733879,d=-1732584194,f=271733878,h=0;h<a.length;h++)a[h]=(a[h]<<8|a[h]>>>24)&16711935|(a[h]<<24|a[h]>>>8)&4278255360;a[l>>>5]|=128<<l%32,a[(l+64>>>9<<4)+14]=l;for(var y=i._ff,_=i._gg,p=i._hh,g=i._ii,h=0;h<a.length;h+=16){var b=c,v=u,w=d,A=f;c=y(c,u,d,f,a[h+0],7,-680876936),f=y(f,c,u,d,a[h+1],12,-389564586),d=y(d,f,c,u,a[h+2],17,606105819),u=y(u,d,f,c,a[h+3],22,-1044525330),c=y(c,u,d,f,a[h+4],7,-176418897),f=y(f,c,u,d,a[h+5],12,1200080426),d=y(d,f,c,u,a[h+6],17,-1473231341),u=y(u,d,f,c,a[h+7],22,-45705983),c=y(c,u,d,f,a[h+8],7,1770035416),f=y(f,c,u,d,a[h+9],12,-1958414417),d=y(d,f,c,u,a[h+10],17,-42063),u=y(u,d,f,c,a[h+11],22,-1990404162),c=y(c,u,d,f,a[h+12],7,1804603682),f=y(f,c,u,d,a[h+13],12,-40341101),d=y(d,f,c,u,a[h+14],17,-1502002290),u=y(u,d,f,c,a[h+15],22,1236535329),c=_(c,u,d,f,a[h+1],5,-165796510),f=_(f,c,u,d,a[h+6],9,-1069501632),d=_(d,f,c,u,a[h+11],14,643717713),u=_(u,d,f,c,a[h+0],20,-373897302),c=_(c,u,d,f,a[h+5],5,-701558691),f=_(f,c,u,d,a[h+10],9,38016083),d=_(d,f,c,u,a[h+15],14,-660478335),u=_(u,d,f,c,a[h+4],20,-405537848),c=_(c,u,d,f,a[h+9],5,568446438),f=_(f,c,u,d,a[h+14],9,-1019803690),d=_(d,f,c,u,a[h+3],14,-187363961),u=_(u,d,f,c,a[h+8],20,1163531501),c=_(c,u,d,f,a[h+13],5,-1444681467),f=_(f,c,u,d,a[h+2],9,-51403784),d=_(d,f,c,u,a[h+7],14,1735328473),u=_(u,d,f,c,a[h+12],20,-1926607734),c=p(c,u,d,f,a[h+5],4,-378558),f=p(f,c,u,d,a[h+8],11,-2022574463),d=p(d,f,c,u,a[h+11],16,1839030562),u=p(u,d,f,c,a[h+14],23,-35309556),c=p(c,u,d,f,a[h+1],4,-1530992060),f=p(f,c,u,d,a[h+4],11,1272893353),d=p(d,f,c,u,a[h+7],16,-155497632),u=p(u,d,f,c,a[h+10],23,-1094730640),c=p(c,u,d,f,a[h+13],4,681279174),f=p(f,c,u,d,a[h+0],11,-358537222),d=p(d,f,c,u,a[h+3],16,-722521979),u=p(u,d,f,c,a[h+6],23,76029189),c=p(c,u,d,f,a[h+9],4,-640364487),f=p(f,c,u,d,a[h+12],11,-421815835),d=p(d,f,c,u,a[h+15],16,530742520),u=p(u,d,f,c,a[h+2],23,-995338651),c=g(c,u,d,f,a[h+0],6,-198630844),f=g(f,c,u,d,a[h+7],10,1126891415),d=g(d,f,c,u,a[h+14],15,-1416354905),u=g(u,d,f,c,a[h+5],21,-57434055),c=g(c,u,d,f,a[h+12],6,1700485571),f=g(f,c,u,d,a[h+3],10,-1894986606),d=g(d,f,c,u,a[h+10],15,-1051523),u=g(u,d,f,c,a[h+1],21,-2054922799),c=g(c,u,d,f,a[h+8],6,1873313359),f=g(f,c,u,d,a[h+15],10,-30611744),d=g(d,f,c,u,a[h+6],15,-1560198380),u=g(u,d,f,c,a[h+13],21,1309151649),c=g(c,u,d,f,a[h+4],6,-145523070),f=g(f,c,u,d,a[h+11],10,-1120210379),d=g(d,f,c,u,a[h+2],15,718787259),u=g(u,d,f,c,a[h+9],21,-343485551),c=c+b>>>0,u=u+v>>>0,d=d+w>>>0,f=f+A>>>0}return t.endian([c,u,d,f])};i._ff=function(r,o,a,l,c,u,d){var f=r+(o&a|~o&l)+(c>>>0)+d;return(f<<u|f>>>32-u)+o},i._gg=function(r,o,a,l,c,u,d){var f=r+(o&l|a&~l)+(c>>>0)+d;return(f<<u|f>>>32-u)+o},i._hh=function(r,o,a,l,c,u,d){var f=r+(o^a^l)+(c>>>0)+d;return(f<<u|f>>>32-u)+o},i._ii=function(r,o,a,l,c,u,d){var f=r+(a^(o|~l))+(c>>>0)+d;return(f<<u|f>>>32-u)+o},i._blocksize=16,i._digestsize=16,Tk.exports=function(r,o){if(r==null)throw new Error("Illegal argument "+r);var a=t.wordsToBytes(i(r,o));return o&&o.asBytes?a:o&&o.asString?s.bytesToString(a):t.bytesToHex(a)}})();var Vae=Tk.exports;const Rk=or(Vae),jae=it({name:"ReceiverSettings",data(){return{serialProto:0,elrsBindPhraseInput:""}},setup(){return{profile:Gt(),info:hn(),bind:Kv(),state:Ms(),root:tn()}},computed:{...Ev(la,{serialProtoNames:t=>Gn(t.RXSerialProtocol).getKeys(),serialProtoOptions:t=>Gn(t.RXSerialProtocol).getKeys().map((e,n)=>({value:n,text:n==0?"AUTO":e})),RXProtocol:t=>t.RXProtocol,protoNames:t=>Gn(t.RXProtocol).getKeys(),lqiSourceNames:t=>Gn(t.LQISource).getKeys().map((e,n)=>({value:n,text:e}))}),date(){return new Date(this.profile.meta.datetime*1e3)},rx_protocol(){return this.profile.receiver.protocol||this.info.rx_protocol},protocolOptions(){return(this.info.rx_protocols||[]).filter(t=>t>0).map(t=>({value:t,text:this.protoNames[t]}))},isSpiProtocol(){return[this.RXProtocol.FRSKY_D8,this.RXProtocol.FRSKY_D16||this.RXProtocol.FRSKY_D16_FCC,this.RXProtocol.FRSKY_D16||this.RXProtocol.FRSKY_D16_LBT,this.RXProtocol.REDPINE,this.RXProtocol.FLYSKY_AFHDS,this.RXProtocol.FLYSKY_AFHDS2A].includes(this.rx_protocol)},protoStatus(){return[this.RXProtocol.FRSKY_D8,this.RXProtocol.FRSKY_D16||this.RXProtocol.FRSKY_D16_FCC,this.RXProtocol.FRSKY_D16||this.RXProtocol.FRSKY_D16_LBT,this.RXProtocol.REDPINE,this.RXProtocol.EXPRESS_LRS,this.RXProtocol.FLYSKY_AFHDS,this.RXProtocol.FLYSKY_AFHDS2A].includes(this.rx_protocol)?["RX_STATUS_NONE","RX_STATUS_BINDING","RX_STATUS_BOUND"][this.state.rx_status]:""},serialProtoStatus(){let t=0;return this.state.rx_status>=100&&this.state.rx_status<200?t=this.state.rx_status-100:this.state.rx_status>=200&&this.state.rx_status<300&&(t=this.state.rx_status-200),this.state.rx_status>=200&&this.state.rx_status<300?this.serialProtoNames[t]+" detected":"trying "+this.serialProtoNames[t]},elrsBindPhrase(){var t,e,n;return(n=(e=(t=this.bind)==null?void 0:t.info)==null?void 0:e.raw)==null?void 0:n.slice(1,7).join(", ")},elrsSwitchMode(){var t,e;return(e=(t=this.bind)==null?void 0:t.info)!=null&&e.raw[8]?"Hybrid Switches":"Wide Switches"},downloadAnchor(){return this.$refs.downloadAnchor},fileRef(){return this.$refs.file}},watch:{"profile.receiver.protocol"(){this.reset()}},methods:{async applyBindInfo(t){await this.profile.apply_profile(this.profile.$state),await this.bind.apply_bind_info(t)},parseHexString(t){const e=[];for(;t.length>=2;)e.push(parseInt(t.substring(0,2),16)),t=t.substring(2,t.length);return e},applyElrsBindPhrase(t){var i;const e=Rk(`-DMY_BINDING_PHRASE="${t}"`),n=this.parseHexString(e).slice(0,6),s={...(i=this.bind)==null?void 0:i.info};s.bind_saved=1,s.raw[0]=1;for(let r=0;r<6;r++)s.raw[r+1]=n[r];return s.raw[7]=55,this.applyBindInfo(s)},applySerialBindInfo(){var n;this.serialProto==0&&this.state.rx_status>=200&&(this.serialProto=this.state.rx_status-200);const t=this.serialProto,e={...(n=this.bind)==null?void 0:n.info};for(let s=0;s<e.raw.length;s++)e.raw[s]=0;return e.bind_saved=t>0?1:0,e.raw[0]=t,this.applyBindInfo(e)},downloadBindData(){const t=window.btoa(String.fromCharCode(...new Uint8Array(this.bind.info.raw))),n="data:application/octet-stream;charset=utf-8,"+encodeURIComponent(t),s=this.date.toISOString().substring(0,10),r=`BindData_${this.profile.meta.name.replace(/\0/g,"")}_${s}.base64`;this.downloadAnchor.setAttribute("href",n),this.downloadAnchor.setAttribute("download",r),this.downloadAnchor.click()},uploadBindData(){const t=new FileReader;t.addEventListener("load",e=>{var s,i;const n={...(s=this.bind)==null?void 0:s.info};n.bind_saved=1,n.raw=Uint8Array.from(window.atob((i=e==null?void 0:e.target)==null?void 0:i.result),r=>r.charCodeAt(0)),this.applyBindInfo(n)}),this.fileRef.oninput=()=>{var e,n;(n=(e=this.fileRef)==null?void 0:e.files)!=null&&n.length&&t.readAsText(this.fileRef.files[0])},this.fileRef.click()},reset(){var e;const t={...(e=this.bind)==null?void 0:e.info};t.bind_saved=0;for(let n=0;n<t.raw.length;n++)t.raw[n]=0;return this.serialProto=0,this.elrsBindPhraseInput="",this.applyBindInfo(t)}},async created(){await this.bind.fetch_bind_info(),this.rx_protocol==this.RXProtocol.UNIFIED_SERIAL&&(this.serialProto=this.bind.info.raw[0],this.serialProto==0&&this.state.rx_status>=200&&(this.serialProto=this.state.rx_status-200))}}),Wae={class:"card"},qae={class:"card-header"},Xae=m("p",{class:"card-header-title"},"Receiver",-1),Kae={class:"card-content"},Yae={class:"content field-is-2"},Zae={class:"field is-horizontal"},Jae={class:"field-label"},Qae={class:"label"},ele={class:"field-body"},tle={class:"field"},nle={class:"control is-expanded"},sle={class:"field is-horizontal"},ile={class:"field-label"},rle={class:"label"},ole={class:"field-body"},ale={class:"field"},lle={class:"control is-expanded"},cle={class:"field is-horizontal"},ule={class:"field-label"},dle={class:"label"},fle={class:"field-body"},hle={class:"field"},ple={class:"control is-expanded"},mle={class:"field is-horizontal"},gle=m("div",{class:"field-label"},[m("label",{class:"label"},"RSSI")],-1),_le={class:"field-body"},yle={class:"field"},ble={class:"control is-expanded"},vle={key:0,class:"card mt-4"},wle=m("header",{class:"card-header"},[m("p",{class:"card-header-title"},"Serial Protocol")],-1),xle={class:"card-content"},Ele={key:0,class:"content"},Sle={class:"field is-horizontal"},Tle=m("div",{class:"field-label"},[m("label",{class:"label"}," Protocol ")],-1),Ale={class:"field-body"},Mle={class:"field"},Rle={class:"control is-expanded"},Cle={key:0,class:"field is-horizontal"},kle=m("div",{class:"field-label"},[m("label",{class:"label"},"Status")],-1),Ple={class:"field-body"},Ile={class:"field"},Ole={class:"control is-expanded"},Lle={key:1,class:"content has-text-centered"},Dle={class:"card-footer"},Nle=m("span",{class:"card-footer-item"},null,-1),Ule={key:1,class:"card mt-4"},$le=m("header",{class:"card-header"},[m("p",{class:"card-header-title"},"ExpressLRS")],-1),Fle={class:"card-content"},Ble={class:"field is-horizontal"},Hle=m("div",{class:"field-label"},[m("label",{class:"label"},"Status")],-1),Gle={class:"field-body"},zle={class:"field"},Vle={class:"control is-expanded"},jle={class:"content"},Wle={class:"field is-horizontal"},qle=m("div",{class:"field-label"},[m("label",{class:"label"},"Switch Mode")],-1),Xle={class:"field-body"},Kle={class:"field"},Yle={class:"control is-expanded"},Zle={class:"field is-horizontal"},Jle=m("div",{class:"field-label"},[m("label",{class:"label"},"Current Bind Phrase")],-1),Qle={class:"field-body"},ece={class:"field"},tce={class:"control is-expanded"},nce={class:"field is-horizontal"},sce=m("div",{class:"field-label"},[m("label",{class:"label"},"New Bind Phrase")],-1),ice={class:"field-body"},rce={class:"field"},oce={class:"control is-expanded"},ace={class:"card-footer"},lce=m("span",{class:"card-footer-item"},null,-1),cce={key:2,class:"card mt-4"},uce=m("header",{class:"card-header"},[m("p",{class:"card-header-title"},"Bind Data")],-1),dce={class:"card-content"},fce={class:"field is-horizontal"},hce=m("div",{class:"field-label"},[m("label",{class:"label"},"Status")],-1),pce={class:"field-body"},mce={class:"field"},gce={class:"control is-expanded"},_ce=m("div",{class:"content has-text-centered"},[we(" Save and load bind information for spi protocols."),m("br"),we(" Requires reboot after load. ")],-1),yce={class:"card-footer"},bce={class:"input",accept:".base64",type:"file",ref:"file",style:{display:"none"}},vce={ref:"downloadAnchor",target:"_blank"};function wce(t,e,n,s,i,r){const o=Le("spinner-btn"),a=Le("tooltip"),l=Le("input-select");return Q(),re("div",Wae,[m("header",qae,[Xae,J(o,{class:"card-header-button is-warning",onClick:t.reset},{default:tt(()=>[we(" Reset ")]),_:1},8,["onClick"])]),m("div",Kae,[m("div",Yae,[m("div",Zae,[m("div",Jae,[m("label",Qae,[we(" Protocol "),J(a,{entry:"receiver.protocol"})])]),m("div",ele,[m("div",tle,[m("div",nle,[J(l,{class:"is-fullwidth",modelValue:t.profile.receiver.protocol,"onUpdate:modelValue":e[0]||(e[0]=c=>t.profile.receiver.protocol=c),modelModifiers:{number:!0},options:t.protocolOptions},null,8,["modelValue","options"])])])])]),m("div",sle,[m("div",ile,[m("label",rle,[we(" LQI Source "),J(a,{entry:"receiver.lqi_source"})])]),m("div",ole,[m("div",ale,[m("div",lle,[J(l,{class:"is-fullwidth",modelValue:t.profile.receiver.lqi_source,"onUpdate:modelValue":e[1]||(e[1]=c=>t.profile.receiver.lqi_source=c),modelModifiers:{number:!0},options:t.lqiSourceNames},null,8,["modelValue","options"])])])])]),m("div",cle,[m("div",ule,[m("label",dle,[we(" Bind Saved "),J(a,{entry:"receiver.bind_saved"})])]),m("div",fle,[m("div",hle,[m("div",ple,Fe(t.bind.info.bind_saved?"yes":"no"),1)])])]),m("div",mle,[gle,m("div",_le,[m("div",yle,[m("div",ble,Fe(t.state.rx_rssi),1)])])]),t.bind.info.raw&&t.rx_protocol==t.RXProtocol.UNIFIED_SERIAL?(Q(),re("div",vle,[wle,m("div",xle,[t.profile.serial.rx?(Q(),re("div",Ele,[m("div",Sle,[Tle,m("div",Ale,[m("div",Mle,[m("div",Rle,[J(l,{class:"is-fullwidth",modelValue:t.serialProto,"onUpdate:modelValue":e[2]||(e[2]=c=>t.serialProto=c),modelModifiers:{number:!0},options:t.serialProtoOptions},null,8,["modelValue","options"])])])])]),t.serialProto==0?(Q(),re("div",Cle,[kle,m("div",Ple,[m("div",Ile,[m("div",Ole,Fe(t.serialProtoStatus),1)])])])):Ve("",!0)])):(Q(),re("div",Lle," No rx serial port selected. Check setup tab. "))]),m("footer",Dle,[Nle,J(o,{class:"card-footer-item",onClick:e[3]||(e[3]=c=>t.applySerialBindInfo())},{default:tt(()=>[we(" Apply ")]),_:1})])])):Ve("",!0),t.bind.info.raw&&t.rx_protocol==t.RXProtocol.EXPRESS_LRS?(Q(),re("div",Ule,[$le,m("div",Fle,[m("div",Ble,[Hle,m("div",Gle,[m("div",zle,[m("div",Vle,Fe(t.protoStatus),1)])])]),m("div",jle,[m("div",Wle,[qle,m("div",Xle,[m("div",Kle,[m("div",Yle,Fe(t.elrsSwitchMode),1)])])]),m("div",Zle,[Jle,m("div",Qle,[m("div",ece,[m("div",tce,Fe(t.elrsBindPhrase),1)])])]),m("div",nce,[sce,m("div",ice,[m("div",rce,[m("div",oce,[qe(m("input",{class:"input",id:"name",type:"text","onUpdate:modelValue":e[4]||(e[4]=c=>t.elrsBindPhraseInput=c)},null,512),[[nt,t.elrsBindPhraseInput]])])])])])])]),m("footer",ace,[lce,J(o,{class:"card-footer-item",onClick:e[5]||(e[5]=c=>t.applyElrsBindPhrase(t.elrsBindPhraseInput)),disabled:t.elrsBindPhraseInput.length<2},{default:tt(()=>[we(" Apply ")]),_:1},8,["disabled"])])])):Ve("",!0),t.bind.info.raw&&t.isSpiProtocol?(Q(),re("div",cce,[uce,m("div",dce,[m("div",fce,[hce,m("div",pce,[m("div",mce,[m("div",gce,Fe(t.protoStatus),1)])])]),_ce]),m("footer",yce,[J(o,{class:"card-footer-item",onClick:t.downloadBindData},{default:tt(()=>[we(" Save Bind Data ")]),_:1},8,["onClick"]),J(o,{class:"card-footer-item",onClick:t.uploadBindData},{default:tt(()=>[we(" Load Bind Data ")]),_:1},8,["onClick"])]),m("input",bce,null,512),m("a",vce,null,512)])):Ve("",!0)])])])}const xce=ct(jae,[["render",wce]]),Ece=it({name:"ReceiverSettingsLegacy",data(){return{lqiSourceNames:[{value:0,text:"PACKET_RATE"},{value:1,text:"CHANNEL"},{value:2,text:"DIRECT"}],elrsBindPhraseInput:""}},setup(){return{profile:Gt(),info:hn(),bind:Kv(),state:Ms(),root:tn()}},computed:{...Ev(la,{serialProtoNames:t=>Gn(t.RXSerialProtocol).getKeys(),RXProtocol:t=>t.RXProtocol}),date(){return new Date(this.profile.meta.datetime*1e3)},protoNames(){return Gn(this.RXProtocol).getKeys()},rx_protocol(){return this.profile.receiver.protocol||this.info.rx_protocol},protocolOptions(){return(this.info.rx_protocols||[]).filter(t=>t>0).map(t=>({value:t,text:this.protoNames[t]}))},serialProto(){return this.serialProtoNames.reduce((t,e,n)=>(t[e]=n,t),{})},isSpiProtocol(){return[this.RXProtocol.FRSKY_D8,this.RXProtocol.FRSKY_D16||this.RXProtocol.FRSKY_D16_FCC,this.RXProtocol.FRSKY_D16||this.RXProtocol.FRSKY_D16_LBT,this.RXProtocol.REDPINE,this.RXProtocol.FLYSKY_AFHDS,this.RXProtocol.FLYSKY_AFHDS2A].includes(this.rx_protocol)},protoStatus(){if([this.RXProtocol.FRSKY_D8,this.RXProtocol.FRSKY_D16||this.RXProtocol.FRSKY_D16_FCC,this.RXProtocol.FRSKY_D16||this.RXProtocol.FRSKY_D16_LBT,this.RXProtocol.REDPINE,this.RXProtocol.EXPRESS_LRS,this.RXProtocol.FLYSKY_AFHDS,this.RXProtocol.FLYSKY_AFHDS2A].includes(this.rx_protocol))return["RX_STATUS_NONE","RX_STATUS_BINDING","RX_STATUS_BOUND"][this.state.rx_status];if(this.rx_protocol==this.RXProtocol.UNIFIED_SERIAL){if(this.state.rx_status<100)return"RX_STATUS_NONE";if(this.state.rx_status>=100&&this.state.rx_status<200)return"RX_STATUS_DETECTING";if(this.state.rx_status>=200&&this.state.rx_status<300)return"RX_STATUS_DETECTED"}return""},serialProtoStatus(){let t=0;return this.state.rx_status>=100&&this.state.rx_status<200?t=this.state.rx_status-100:this.state.rx_status>=200&&this.state.rx_status<300&&(t=this.state.rx_status-200),this.serialProtoNames[t]},elrsBindPhrase(){var t,e,n;return(n=(e=(t=this.bind)==null?void 0:t.info)==null?void 0:e.raw)==null?void 0:n.slice(1,7).join(", ")},elrsSwitchMode(){var t,e;return(e=(t=this.bind)==null?void 0:t.info)!=null&&e.raw[8]?"Hybrid Switches":"Wide Switches"},downloadAnchor(){return this.$refs.downloadAnchor},fileRef(){return this.$refs.file}},watch:{"profile.receiver.protocol"(){this.reset()}},methods:{async applyBindInfo(t){await this.profile.apply_profile(this.profile.$state),await this.bind.apply_bind_info(t)},parseHexString(t){const e=[];for(;t.length>=2;)e.push(parseInt(t.substring(0,2),16)),t=t.substring(2,t.length);return e},apply_elrs_bind_phrase(t){var i;const e=Rk(`-DMY_BINDING_PHRASE="${t}"`),n=this.parseHexString(e).slice(0,6),s={...(i=this.bind)==null?void 0:i.info};s.bind_saved=1,s.raw[0]=1;for(let r=0;r<6;r++)s.raw[r+1]=n[r];return s.raw[7]=55,this.applyBindInfo(s)},downloadBindData(){const t=window.btoa(String.fromCharCode(...new Uint8Array(this.bind.info.raw))),n="data:application/octet-stream;charset=utf-8,"+encodeURIComponent(t),s=this.date.toISOString().substring(0,10),r=`BindData_${this.profile.meta.name.replace(/\0/g,"")}_${s}.base64`;this.downloadAnchor.setAttribute("href",n),this.downloadAnchor.setAttribute("download",r),this.downloadAnchor.click()},uploadBindData(){const t=new FileReader;t.addEventListener("load",e=>{var s,i;const n={...(s=this.bind)==null?void 0:s.info};n.bind_saved=1,n.raw=Uint8Array.from(window.atob((i=e==null?void 0:e.target)==null?void 0:i.result),r=>r.charCodeAt(0)),this.applyBindInfo(n)}),this.fileRef.oninput=()=>{var e,n;(n=(e=this.fileRef)==null?void 0:e.files)!=null&&n.length&&t.readAsText(this.fileRef.files[0])},this.fileRef.click()},reset(){var e;const t={...(e=this.bind)==null?void 0:e.info};t.bind_saved=0;for(let n=0;n<t.raw.length;n++)t.raw[n]=0;return this.applyBindInfo(t)}}}),Sce={class:"card"},Tce={class:"card-header"},Ace=m("p",{class:"card-header-title"},"Receiver",-1),Mce={class:"card-content"},Rce={class:"content field-is-2"},Cce={key:0,class:"field is-horizontal"},kce={class:"field-label"},Pce={class:"label"},Ice={class:"field-body"},Oce={class:"field"},Lce={class:"control is-expanded"},Dce={key:1,class:"field is-horizontal"},Nce={class:"field-label"},Uce={class:"label"},$ce={class:"field-body"},Fce={class:"field"},Bce={class:"control is-expanded"},Hce={key:2,class:"field is-horizontal"},Gce={class:"field-label"},zce={class:"label"},Vce={class:"field-body"},jce={class:"field"},Wce={class:"control is-expanded"},qce={key:3,class:"field is-horizontal"},Xce={class:"field-label"},Kce={class:"label"},Yce={class:"field-body"},Zce={class:"field"},Jce={class:"control is-expanded"},Qce={key:4,class:"field is-horizontal"},eue=m("div",{class:"field-label"},[m("label",{class:"label"},"RSSI")],-1),tue={class:"field-body"},nue={class:"field"},sue={class:"control is-expanded"},iue={key:5,class:"field is-horizontal"},rue=m("div",{class:"field-label"},[m("label",{class:"label"},"Status")],-1),oue={class:"field-body"},aue={class:"field"},lue={class:"control is-expanded"},cue={key:6,class:"field is-horizontal"},uue=m("div",{class:"field-label"},[m("label",{class:"label"},"Serial Protocol")],-1),due={class:"field-body"},fue={class:"field"},hue={class:"control is-expanded"},pue={key:7,class:"card mt-4"},mue=m("header",{class:"card-header"},[m("p",{class:"card-header-title"},"ExpressLRS")],-1),gue={class:"card-content"},_ue={class:"content"},yue={class:"field is-horizontal"},bue=m("div",{class:"field-label"},[m("label",{class:"label"},"Switch Mode")],-1),vue={class:"field-body"},wue={class:"field"},xue={class:"control is-expanded"},Eue={class:"field is-horizontal"},Sue=m("div",{class:"field-label"},[m("label",{class:"label"},"Current Bind Phrase")],-1),Tue={class:"field-body"},Aue={class:"field"},Mue={class:"control is-expanded"},Rue={class:"field is-horizontal"},Cue=m("div",{class:"field-label"},[m("label",{class:"label"},"New Bind Phrase")],-1),kue={class:"field-body"},Pue={class:"field"},Iue={class:"control is-expanded"},Oue={class:"card-footer"},Lue=m("span",{class:"card-footer-item"},null,-1),Due={key:8,class:"card mt-4"},Nue=m("header",{class:"card-header"},[m("p",{class:"card-header-title"},"Bind Data")],-1),Uue=m("div",{class:"card-content"},[m("div",{class:"content has-text-centered"},[we(" Save and load bind information for spi protocols."),m("br"),we(" Requires reboot after load. ")])],-1),$ue={class:"card-footer"},Fue={class:"input",accept:".base64",type:"file",ref:"file",style:{display:"none"}},Bue={ref:"downloadAnchor",target:"_blank"},Hue=m("div",{class:"columns mt-4"},[m("div",{class:"column is-12 has-text-centered"},[m("small",null," When binding via your transmitter, save bind by moving your right transmitter stick UP-UP-UP followed by DOWN-DOWN-DOWN, to toggle the Bind Saved flag above. When binding via passphrase or bind data this is not required. ")])],-1);function Gue(t,e,n,s,i,r){const o=Le("spinner-btn"),a=Le("tooltip"),l=Le("input-select");return Q(),re("div",Sce,[m("header",Tce,[Ace,J(o,{class:"card-header-button is-warning",onClick:t.reset},{default:tt(()=>[we("Reset")]),_:1},8,["onClick"])]),m("div",Mce,[m("div",Rce,[t.info.rx_protocol&&!t.profile.receiver.protocol?(Q(),re("div",Cce,[m("div",kce,[m("label",Pce,[we(" Protocol "),J(a,{entry:"receiver.protocol"})])]),m("div",Ice,[m("div",Oce,[m("div",Lce,Fe(t.protoNames[t.info.rx_protocol]),1)])])])):Ve("",!0),t.profile.receiver.protocol?(Q(),re("div",Dce,[m("div",Nce,[m("label",Uce,[we(" Protocol "),J(a,{entry:"receiver.protocol"})])]),m("div",$ce,[m("div",Fce,[m("div",Bce,[J(l,{class:"is-fullwidth",modelValue:t.profile.receiver.protocol,"onUpdate:modelValue":e[0]||(e[0]=c=>t.profile.receiver.protocol=c),modelModifiers:{number:!0},options:t.protocolOptions},null,8,["modelValue","options"])])])])])):Ve("",!0),t.info.quic_protocol_version>3?(Q(),re("div",Hce,[m("div",Gce,[m("label",zce,[we(" LQI Source "),J(a,{entry:"receiver.lqi_source"})])]),m("div",Vce,[m("div",jce,[m("div",Wce,[J(l,{class:"is-fullwidth",modelValue:t.profile.receiver.lqi_source,"onUpdate:modelValue":e[1]||(e[1]=c=>t.profile.receiver.lqi_source=c),modelModifiers:{number:!0},options:t.lqiSourceNames},null,8,["modelValue","options"])])])])])):Ve("",!0),t.info.quic_protocol_version>2?(Q(),re("div",qce,[m("div",Xce,[m("label",Kce,[we(" Bind Saved "),J(a,{entry:"receiver.bind_saved"})])]),m("div",Yce,[m("div",Zce,[m("div",Jce,Fe(t.bind.info.bind_saved?"yes":"no"),1)])])])):Ve("",!0),t.info.quic_protocol_version>2?(Q(),re("div",Qce,[eue,m("div",tue,[m("div",nue,[m("div",sue,Fe(t.state.rx_rssi),1)])])])):Ve("",!0),t.info.quic_protocol_version>2?(Q(),re("div",iue,[rue,m("div",oue,[m("div",aue,[m("div",lue,Fe(t.protoStatus),1)])])])):Ve("",!0),t.info.quic_protocol_version>2&&t.rx_protocol==t.RXProtocol.UNIFIED_SERIAL?(Q(),re("div",cue,[uue,m("div",due,[m("div",fue,[m("div",hue,Fe(t.serialProtoStatus),1)])])])):Ve("",!0),t.bind.info.raw&&t.rx_protocol==t.RXProtocol.EXPRESS_LRS?(Q(),re("div",pue,[mue,m("div",gue,[m("div",_ue,[m("div",yue,[bue,m("div",vue,[m("div",wue,[m("div",xue,Fe(t.elrsSwitchMode),1)])])]),m("div",Eue,[Sue,m("div",Tue,[m("div",Aue,[m("div",Mue,Fe(t.elrsBindPhrase),1)])])]),m("div",Rue,[Cue,m("div",kue,[m("div",Pue,[m("div",Iue,[qe(m("input",{class:"input",id:"name",type:"text","onUpdate:modelValue":e[2]||(e[2]=c=>t.elrsBindPhraseInput=c)},null,512),[[nt,t.elrsBindPhraseInput]])])])])])])]),m("footer",Oue,[Lue,J(o,{class:"card-footer-item",onClick:e[3]||(e[3]=c=>t.apply_elrs_bind_phrase(t.elrsBindPhraseInput)),disabled:t.elrsBindPhraseInput.length<2},{default:tt(()=>[we(" Apply ")]),_:1},8,["disabled"])])])):Ve("",!0),t.bind.info.raw&&t.isSpiProtocol?(Q(),re("div",Due,[Nue,Uue,m("footer",$ue,[J(o,{class:"card-footer-item",onClick:t.downloadBindData},{default:tt(()=>[we(" Save Bind Data ")]),_:1},8,["onClick"]),J(o,{class:"card-footer-item",onClick:t.uploadBindData},{default:tt(()=>[we(" Load Bind Data ")]),_:1},8,["onClick"])]),m("input",Fue,null,512),m("a",Bue,null,512)])):Ve("",!0),Hue])])])}const zue=ct(Ece,[["render",Gue]]),Vue=it({name:"RCChannels",setup(){return{root:tn(),state:Ms(),profile:Gt()}},data(){return{timerCount:0,timerTimeout:0,receiverChannelMappingOptions:[{value:0,text:"AETR"},{value:1,text:"TAER"}],channelNames:["Roll","Pitch","Yaw","Throttle"],wizardStates:["","Succeeded","Failed","","Recording, move sticks to extents","Testing calibration, move sticks again to extents","",""]}},computed:{channelStyle(){return this.state.rx_filtered.map((t,e)=>{if(e==3)return{"margin-left":"0%",width:2+Math.abs(t)*98+"%"};const n=2+Math.abs(t)*49;return{"margin-left":t<0?51-n+"%":"49%",width:n+"%"}})}},watch:{timerCount:{handler(t){clearTimeout(this.timerTimeout),t>0&&(this.timerTimeout=window.setTimeout(()=>{this.timerCount--},1e3))},immediate:!0},"state.stick_calibration_wizard":{handler(t){switch(t){case lc.STICK_WIZARD_SUCCESS:case lc.STICK_WIZARD_FAILED:this.timerCount=0,setTimeout(()=>this.profile.fetch_profile(),500);break;case lc.STICK_WIZARD_CAPTURE_STICKS:case lc.STICK_WIZARD_WAIT_FOR_CONFIRM:this.timerCount=19;break}},immediate:!0}}}),Xf=t=>(xu("data-v-24202b3e"),t=t(),Eu(),t),jue={class:"card"},Wue=Xf(()=>m("header",{class:"card-header"},[m("p",{class:"card-header-title"},"RC Channels")],-1)),que={class:"card-content"},Xue={class:"content"},Kue={class:"field field-is-2 is-horizontal mb-6"},Yue={class:"field-label"},Zue={class:"label"},Jue={class:"field-body"},Que={class:"field"},ede={class:"control is-expanded"},tde={class:"field-label",style:{"align-self":"unset"}},nde={class:"label"},sde={class:"field-body"},ide={class:"field has-addons"},rde={class:"control my-0"},ode=["id","onUpdate:modelValue"],ade=Xf(()=>m("p",{class:"control"},[m("a",{class:"button is-small is-static"}," min ")],-1)),lde={class:"field has-addons"},cde={class:"control my-0"},ude=["id","onUpdate:modelValue"],dde=Xf(()=>m("p",{class:"control"},[m("a",{class:"button is-small is-static"}," max ")],-1)),fde={class:"column is-6 py-0"},hde={class:"channel-container"},pde={class:"columns mt-5"},mde={class:"column is-8 wizard"},gde=Xf(()=>m("br",null,null,-1)),_de=Xf(()=>m("br",null,null,-1)),yde={key:0},bde={class:"column is-4"};function vde(t,e,n,s,i,r){const o=Le("tooltip"),a=Le("input-select"),l=Le("spinner-btn");return Q(),re("div",jue,[Wue,m("div",que,[m("div",Xue,[m("div",Kue,[m("div",Yue,[m("label",Zue,[we(" Channel Mapping "),J(o,{entry:"receiver.channel_mapping"})])]),m("div",Jue,[m("div",Que,[m("div",ede,[J(a,{modelValue:t.profile.receiver.channel_mapping,"onUpdate:modelValue":e[0]||(e[0]=c=>t.profile.receiver.channel_mapping=c),modelModifiers:{number:!0},class:"is-fullwidth",options:t.receiverChannelMappingOptions},null,8,["modelValue","options"])])])])]),(Q(!0),re(ot,null,Bt(t.channelStyle,(c,u)=>(Q(),re("div",{key:"channel-"+u,class:"field is-horizontal"},[m("div",tde,[m("label",nde,Fe(t.channelNames[u]),1)]),m("div",sde,[m("div",ide,[m("p",rde,[qe(m("input",{id:`limit-${t.channelNames[u]}-min`,"onUpdate:modelValue":d=>t.profile.receiver.stick_calibration_limits[u].min=d,class:"input is-small",type:"number",step:"0.1"},null,8,ode),[[nt,t.profile.receiver.stick_calibration_limits[u].min,void 0,{number:!0}]])]),ade]),m("div",lde,[m("p",cde,[qe(m("input",{id:`limit-${t.channelNames[u]}-max`,"onUpdate:modelValue":d=>t.profile.receiver.stick_calibration_limits[u].max=d,class:"input is-small",type:"number",step:"0.1"},null,8,ude),[[nt,t.profile.receiver.stick_calibration_limits[u].max,void 0,{number:!0}]])]),dde])]),m("div",fde,[m("div",hde,[m("div",{class:"channel-bar",style:ig(c)},Fe(Math.floor(t.state.rx_filtered[u]*(u!=3?50:100))),5)])])]))),128)),m("div",pde,[m("div",mde,[we(" Stick Calibration Wizard "),gde,we(" "+Fe(t.wizardStates[t.state.stick_calibration_wizard])+" ",1),_de,t.timerCount?(Q(),re("span",yde,"Continuing in "+Fe(t.timerCount)+"s..",1)):Ve("",!0)]),m("div",bde,[J(l,{class:"is-pulled-right is-primary",onClick:e[1]||(e[1]=c=>t.root.cal_sticks())},{default:tt(()=>[we(" Calibrate ")]),_:1})])])])])])}const wde=ct(Vue,[["render",vde],["__scopeId","data-v-24202b3e"]]),xde=it({name:"AuxChannels",setup(){return{state:Ms(),profile:Gt()}},computed:{...Ev(la,{auxChannels:t=>Gn(t.AuxChannels).map((e,n)=>({text:n,value:e})),auxFunctions:t=>Gn(t.AuxFunctions).getKeys().map((e,n)=>({index:n,key:e})).filter(e=>!e.key.startsWith("_"))})},methods:{valueForIndex(t){return this.state.aux[t]},classForIndex(t){return this.profile.receiver.aux?this.profile.receiver.aux[t]==12?"has-text-danger":this.profile.receiver.aux[t]==13||this.valueForIndex(this.profile.receiver.aux[t])?"has-text-success":"has-text-danger":""}}}),Ede={class:"card"},Sde=m("header",{class:"card-header"},[m("p",{class:"card-header-title"},"Aux Channels")],-1),Tde={class:"card-content"},Ade={class:"content"},Mde={class:"columns"},Rde={class:"column is-8"},Cde={class:"field-label"},kde=["for"],Pde={class:"field-body"},Ide={class:"field"},Ode={class:"control is-expanded"},Lde={class:"column is-4"},Dde={class:"card"},Nde=m("header",{class:"card-header"},[m("p",{class:"card-header-title"},"Current AUX State")],-1),Ude={class:"card-content"},$de={class:"content"},Fde={class:"column is-6 py-1"},Bde={class:"column is-6 py-1"},Hde=["id","name","checked"],Gde=["for"];function zde(t,e,n,s,i,r){const o=Le("tooltip"),a=Le("input-select");return Q(),re("div",Ede,[Sde,m("div",Tde,[m("div",Ade,[m("div",Mde,[m("div",Rde,[(Q(!0),re(ot,null,Bt(t.auxFunctions,l=>(Q(),re("div",{key:l.key,class:"field field-is-3 is-horizontal mr-4"},[m("div",Cde,[m("label",{class:cs(["label",t.classForIndex(l.index)]),for:l.key},[we(Fe(l.key)+" ",1),J(o,{entry:"channel."+l.key.toLowerCase()},null,8,["entry"])],10,kde)]),m("div",Pde,[m("div",Ide,[m("div",Ode,[J(a,{id:l.key,modelValue:t.profile.receiver.aux[l.index],"onUpdate:modelValue":c=>t.profile.receiver.aux[l.index]=c,modelModifiers:{number:!0},class:"is-fullwidth",options:t.auxChannels},null,8,["id","modelValue","onUpdate:modelValue","options"])])])])]))),128))]),m("div",Lde,[m("div",Dde,[Nde,m("div",Ude,[m("div",$de,[(Q(!0),re(ot,null,Bt(t.auxChannels,(l,c)=>(Q(),re("div",{key:l.text,class:"columns"},[m("div",Fde,Fe(l.text),1),m("div",Bde,[m("input",{type:"checkbox",class:"switch is-rounded",id:"active-"+c,name:"active-"+c,checked:t.valueForIndex(c),onclick:"return false;"},null,8,Hde),m("label",{class:"py-0",for:"active-"+c,style:{height:"2em",cursor:"default"}},null,8,Gde)])]))),128))])])])])])])])])}const Vde=ct(xde,[["render",zde]]),jde=it({name:"Receiver",components:{ReceiverSettings:xce,ReceiverSettingsLegacy:zue,RCChannels:wde,AuxChannels:Vde},setup(){return{info:hn()}}}),Wde={class:"columns is-multiline"},qde={class:"column is-12"},Xde={key:0,class:"column is-12"},Kde={class:"column is-12"};function Yde(t,e,n,s,i,r){const o=Le("ReceiverSettings"),a=Le("ReceiverSettingsLegacy"),l=Le("RCChannels"),c=Le("AuxChannels");return Q(),re("div",Wde,[m("div",qde,[t.info.quicVersionGt("0.1.0")?(Q(),Vt(o,{key:0})):(Q(),Vt(a,{key:1}))]),t.info.quicVersionGt("0.1.0")?(Q(),re("div",Xde,[J(l)])):Ve("",!0),m("div",Kde,[J(c)])])}const Zde=ct(jde,[["render",Yde]]);var De;let Rt=(De=class{static pixelsWidth(e,n=De.BORDER,s=!1){return s&&(n=0),e*(De.CHAR_WIDTH*(s?2:1)+n)+n}static pixelsHeight(e,n=De.BORDER,s=!1){return s&&(n=0),e*(De.CHAR_HEIGHT*(s?2:1)+n)+n}static elementDecode(e,n){switch(n){case"active":return e&1;case"invert":return e>>1&1;case"pos_x":return e>>2&255;case"pos_y":return e>>10&255;default:return 0}}static elementEncode(e,n,s){switch(n){case"active":return s?e|1:e&-2;case"invert":return s?e|2:e&-3;case"pos_x":return e&-1021|(s&255)<<2;case"pos_y":return e&-261121|(s&255)<<10;default:return e}}static unpackFont(e,n){return De.unpackFontCanvas(e,n),e.toDataURL()}static unpackFontBitmap(e,n=!1){const s=new global.OffscreenCanvas(209,305);return De.unpackFontCanvas(s,e,n),s.transferToImageBitmap()}static unpackFontCanvas(e,n,s=!1){const i=e.getContext("2d");i.clearRect(0,0,e.width,e.height),i.fillStyle="red",i.fillRect(0,0,De.FULL_WIDTH,De.FULL_HEIGHT);const r=new Uint8ClampedArray(De.CHAR_WIDTH*De.CHAR_HEIGHT*4);for(let o=0;o<De.FONT_HEIGHT;o++)for(let a=0;a<De.FONT_WIDTH;a++){const l=n[o*16+a];let c=0,u=0;for(const f of l)De.setPixel(r,c+0,u,f>>6&3,s),De.setPixel(r,c+1,u,f>>4&3,s),De.setPixel(r,c+2,u,f>>2&3,s),De.setPixel(r,c+3,u,f>>0&3,s),c+=4,c==De.CHAR_WIDTH&&(c=0,u++);const d=new ImageData(r,De.CHAR_WIDTH,De.CHAR_HEIGHT);i.putImageData(d,De.pixelsWidth(a),De.pixelsHeight(o))}}static packCanvas(e){const n=e.getImageData(0,0,De.FULL_WIDTH,De.FULL_HEIGHT),s=[];for(let i=0;i<De.FONT_HEIGHT;i++)for(let r=0;r<De.FONT_WIDTH;r++){const o=new Uint8Array(De.CHAR_WIDTH*De.CHAR_HEIGHT/4);let a=0,l=0;for(let c=0;c<54;c++)o[c]=(De.getPixel(n.data,a+0+De.pixelsWidth(r),l+De.pixelsHeight(i))&3)<<6|(De.getPixel(n.data,a+1+De.pixelsWidth(r),l+De.pixelsHeight(i))&3)<<4|(De.getPixel(n.data,a+2+De.pixelsWidth(r),l+De.pixelsHeight(i))&3)<<2|(De.getPixel(n.data,a+3+De.pixelsWidth(r),l+De.pixelsHeight(i))&3)<<0,a+=4,a==De.CHAR_WIDTH&&(a=0,l++);s.push(o)}return s}static packFont(e,n){const s=e.getContext("2d");return s.clearRect(0,0,e.width,e.height),s.drawImage(n,0,0),De.packCanvas(s)}static packLogo(e,n,s){const i=n.getContext("2d");i.clearRect(0,0,n.width,n.height),i.drawImage(s,0,0);const r=[],o=i.getImageData(0,0,s.width,s.height);for(let l=0;l<De.LOGO_HEIGHT;l++)for(let c=0;c<De.LOGO_WIDTH;c++){const u=new Uint8ClampedArray(De.CHAR_WIDTH*De.CHAR_HEIGHT*4);for(let d=0;d<De.CHAR_HEIGHT;d++)for(let f=0;f<De.CHAR_WIDTH;f++){const h=(d+De.pixelsHeight(l,0))*De.LOGO_FULL_WIDTH+f+De.pixelsWidth(c,0);u[(d*De.CHAR_WIDTH+f)*4+0]=o.data[h*4+0],u[(d*De.CHAR_WIDTH+f)*4+1]=o.data[h*4+1],u[(d*De.CHAR_WIDTH+f)*4+2]=o.data[h*4+2],u[(d*De.CHAR_WIDTH+f)*4+3]=o.data[h*4+3]}r.push(u)}const a=e.getContext("2d");for(let l=10;l<De.FONT_HEIGHT;l++)for(let c=0;c<De.FONT_WIDTH;c++){const u=r.shift(),d=new ImageData(u,De.CHAR_WIDTH,De.CHAR_HEIGHT);a.putImageData(d,De.pixelsWidth(c),De.pixelsHeight(l))}return De.packCanvas(a)}static setPixel(e,n,s,i,r=!1){let o=2,a=0;switch(r&&(o=0,a=2),i){case a:e[(s*De.CHAR_WIDTH+n)*4+0]=0,e[(s*De.CHAR_WIDTH+n)*4+1]=0,e[(s*De.CHAR_WIDTH+n)*4+2]=0,e[(s*De.CHAR_WIDTH+n)*4+3]=255;break;case o:e[(s*De.CHAR_WIDTH+n)*4+0]=255,e[(s*De.CHAR_WIDTH+n)*4+1]=255,e[(s*De.CHAR_WIDTH+n)*4+2]=255,e[(s*De.CHAR_WIDTH+n)*4+3]=255;break;default:e[(s*De.CHAR_WIDTH+n)*4+0]=0,e[(s*De.CHAR_WIDTH+n)*4+1]=0,e[(s*De.CHAR_WIDTH+n)*4+2]=0,e[(s*De.CHAR_WIDTH+n)*4+3]=0;break}}static getPixel(e,n,s){let i=0;return e[(s*De.FULL_WIDTH+n)*4+0]>0&&(i|=2),e[(s*De.FULL_WIDTH+n)*4+3]<255&&(i|=1),i}},Z(De,"CHAR_WIDTH",12),Z(De,"CHAR_HEIGHT",18),Z(De,"BORDER",1),Z(De,"FONT_WIDTH",16),Z(De,"FONT_HEIGHT",16),Z(De,"FULL_WIDTH",De.pixelsWidth(De.FONT_WIDTH)),Z(De,"FULL_HEIGHT",De.pixelsHeight(De.FONT_HEIGHT)),Z(De,"LOGO_HEIGHT",4),Z(De,"LOGO_WIDTH",24),Z(De,"LOGO_FULL_WIDTH",De.pixelsWidth(De.LOGO_WIDTH,0)),Z(De,"LOGO_FULL_HEIGHT",De.pixelsHeight(De.LOGO_HEIGHT,0)),De);const Ck=es("osd",{state:()=>({font_raw:void 0,font_bitmap:void 0,font_bitmap_inverted:void 0}),actions:{async fetch_sd_osd_font(){if(!hn().quicVersionGte("0.2.0"))return bt.get(ln.OSDFont).then(n=>{this.font_raw=n,this.font_bitmap=Rt.unpackFontBitmap(n),this.font_bitmap_inverted=Rt.unpackFontBitmap(n,!0)});const e=[];for(let n=0;n<256;n++){const s=await bt.command(Nn.OSD,N1.ReadChar,n);e[n]=s.payload[0]}this.font_raw=e,this.font_bitmap=Rt.unpackFontBitmap(e),this.font_bitmap_inverted=Rt.unpackFontBitmap(e,!0)},async apply_font(t){if(!hn().quicVersionGte("0.2.0"))return bt.set(ln.OSDFont,...t);for(let n=0;n<256;n++)await bt.command(Nn.OSD,N1.WriteChar,n,t[n])},fetch_hd_osd_font(){return new Promise((t,e)=>{const n=new Image;n.onload=()=>{t(n)},n.src="osd/hdzero_quic.png"}).then(t=>createImageBitmap(t)).then(t=>{this.font_raw=void 0,this.font_bitmap=t,this.font_bitmap_inverted=void 0})}}});function Jde(t,e,n,s,i,r){return s<2*r&&(r=s/2),i<2*r&&(r=i/2),t.beginPath(),t.moveTo(e+r,n),t.arcTo(e+s,n,e+s,n+i,r),t.arcTo(e+s,n+i,e,n+i,r),t.arcTo(e,n+i,e,n,r),t.arcTo(e,n,e+s,n,r),t.closePath(),t}const Qde=it({name:"OSDElements",setup(){return{profile:Gt(),osd:Ck()}},data(){return{preview:"NTSC",drag:{element:-1,colOffset:0,coord:{x:0,y:0}}}},computed:{is_hd(){return this.profile.serial.hdzero>0},currentElements(){return this.is_hd?this.profile.osd.elements_hd:this.profile.osd.elements},limits(){return{width:this.is_hd?50:30,height:this.is_hd?18:15}},screen(){const t={...this.limits};return!this.is_hd&&this.preview=="NTSC"&&(t.height-=2),t},canvas(){return this.$refs.canvas},canvasWidth(){return this.screen.width*Rt.CHAR_WIDTH},canvasHeight(){return this.screen.height*Rt.CHAR_HEIGHT},elementOptions(){const t=[{name:"CALLSIGN",enabled:!0,text:this.profile.osd.callsign},{name:"CELL COUNT",enabled:!0,text:"1S"},{name:"FUELGAUGE VOLTS",enabled:!0,text:" 4.3p"},{name:"FILTERED VOLTS",enabled:!0,text:" 4.3"},{name:"GYRO TEMP",enabled:!0,text:"  40"},{name:"FLIGHT MODE",enabled:!0,text:"   ACRO   "},{name:"RSSI",enabled:!0,text:"  90"},{name:"STOPWATCH",enabled:!0,text:"01:20"},{name:"SYSTEM STATUS",enabled:!0,text:"     **FAILSAFE**     "},{name:"THROTTLE",enabled:!0,text:"  50"},{name:"VTX CHANNEL",enabled:!0,text:"R:7:1"},{name:"CURRENT",enabled:!0,text:"0.00"}];return this.profile.profileVersionGt("0.2.2")&&t.push({name:"CROSSHAIR",enabled:!0,text:"rst"}),this.profile.profileVersionGt("0.2.3")&&t.push({name:"CURRENT DRAWN",enabled:!0,text:"0.00\x07"}),t},elements(){return this.currentElements.filter((t,e)=>this.elementOptions[e]).map((t,e)=>({index:e,...this.elementOptions[e],active:Rt.elementDecode(t,"active"),invert:Rt.elementDecode(t,"invert"),pos:{x:Rt.elementDecode(t,"pos_x"),y:Rt.elementDecode(t,"pos_y")},value:t}))},callsign:{set(t){let e=t.toUpperCase();for(let n=t.length;n<36;n++)e+="\0";this.profile.osd.callsign=e},get(){return this.profile.osd.callsign.replace(/\0/g,"")}}},watch:{elements(){this.draw_canvas()},drag(){this.draw_canvas()},canvasWidth(){this.$nextTick(()=>{this.draw_canvas()})},canvasHeight(){this.$nextTick(()=>{this.draw_canvas()})},"osd.font_bitmap"(){this.$nextTick(()=>{this.draw_canvas()})}},methods:{translateMouse(t){return{x:t.offsetX*(this.canvasWidth/this.canvas.clientWidth),y:t.offsetY*(this.canvasHeight/this.canvas.clientHeight)}},translateElemement(t){return!this.is_hd&&this.preview=="NTSC"&&t.y>12&&(t.y-=2),{x:t.x*Rt.CHAR_WIDTH,y:Rt.CHAR_HEIGHT-2+(t.y-1)*Rt.CHAR_HEIGHT}},normalizeCoords(t,e=0){return{x:Math.min(Math.max(Math.floor((t.x-e)/Rt.CHAR_WIDTH),0),this.limits.width-1),y:Math.min(Math.max(Math.floor(t.y/Rt.CHAR_HEIGHT),0),this.limits.height-1)}},drag_start(t){t.preventDefault(),t.stopPropagation();const e=this.translateMouse(t),n=this.findElement(e);if(n!=null){const s=this.translateElemement(n.pos),i=e.x-s.x;this.drag={element:n.index,colOffset:i,coord:this.normalizeCoords(e,i)},this.canvas.style.cursor="grab"}},drag_move(t){t.preventDefault(),t.stopPropagation();const e=this.translateMouse(t);if(this.drag.element==-1){const n=this.findElement(e);this.canvas.style.cursor=n!=null?"pointer":"initial";return}this.drag={...this.drag,coord:this.normalizeCoords(e,this.drag.colOffset)}},drag_drop(t){t.preventDefault(),t.stopPropagation();const e=this.translateMouse(t);if(this.drag.element==-1)return;const n=this.normalizeCoords(e,this.drag.colOffset);this.osd_set(this.drag.element,"pos_x",n.x),this.osd_set(this.drag.element,"pos_y",n.y),this.canvas.style.cursor="initial",this.drag={element:-1,colOffset:0,coord:{x:0,y:0}}},osd_set(t,e,n){const s=this.is_hd?this.profile.osd.elements_hd:this.profile.osd.elements,i=[...s];i[t]=Rt.elementEncode(s[t],e,n),this.is_hd?this.profile.set_osd_elements_hd(i):this.profile.set_osd_elements(i)},draw_canvas_text(t,e,n,s){let i=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);if(o==0)break;const a=Rt.pixelsWidth(Math.floor(o%16),Rt.BORDER,this.is_hd),l=Rt.pixelsHeight(Math.floor(o/16),Rt.BORDER,this.is_hd);let c;this.is_hd?(c=this.osd.font_bitmap,o+=256):c=s?this.osd.font_bitmap_inverted:this.osd.font_bitmap,c&&t.drawImage(c,a,l,Rt.CHAR_WIDTH*(this.is_hd?2:1),Rt.CHAR_HEIGHT*(this.is_hd?2:1),e.x+r*Rt.CHAR_WIDTH,e.y,Rt.CHAR_WIDTH,Rt.CHAR_HEIGHT),i++}t.strokeStyle="#000",t.lineWidth=1,Jde(t,e.x+.5,e.y+.5,i*Rt.CHAR_WIDTH,Rt.CHAR_HEIGHT,1.5),t.stroke()},draw_canvas(){const t=this.canvas.getContext("2d");if(t){t.clearRect(0,0,this.canvas.width,this.canvas.height);for(const[e,n]of this.elements.entries()){if(!n.enabled||!n.active)continue;let s={...n.pos};e==this.drag.element&&(s={...this.drag.coord}),this.draw_canvas_text(t,this.translateElemement(s),n.text,n.invert==1)}}},findElement(t){for(const e of this.elements){if(!e.enabled||!e.active)continue;const n=this.translateElemement(e.pos);if(t.y<n.y||t.y>n.y+Rt.CHAR_HEIGHT)continue;let s=e.text.indexOf("\0");if(s==-1&&(s=e.text.length),!(t.x<n.x||t.x>n.x+s*Rt.CHAR_WIDTH))return e}return null}},mounted(){Promise.resolve().then(()=>{if(this.is_hd)return this.osd.fetch_hd_osd_font()}).then(t=>this.draw_canvas())}}),Zg=t=>(xu("data-v-b96a772a"),t=t(),Eu(),t),efe={class:"card"},tfe={class:"card-header"},nfe=Zg(()=>m("p",{class:"card-header-title"},"Elements",-1)),sfe={class:"card-content"},ife={class:"content"},rfe={class:"columns is-multiline"},ofe={class:"column is-6"},afe={class:"field field-is-2 is-horizontal"},lfe=Zg(()=>m("div",{class:"field-label"},[m("label",{class:"label"}," Callsign Text ")],-1)),cfe={class:"field-body"},ufe={class:"field"},dfe={class:"control is-expanded"},ffe=aa('<div class="columns mt-4 mb-0" data-v-b96a772a><div class="column has-text-centered has-text-weight-semibold px-0 is-4" data-v-b96a772a> Element </div><div class="column has-text-left has-text-weight-semibold px-0 is-2" data-v-b96a772a> Active </div><div class="column has-text-left has-text-weight-semibold px-0 is-2" data-v-b96a772a> Invert </div><div class="column has-text-left has-text-weight-semibold px-0 is-2" data-v-b96a772a> X </div><div class="column has-text-left has-text-weight-semibold px-0 is-2" data-v-b96a772a> Y </div></div>',1),hfe={key:0,class:"field mb-2 field-is-2 is-horizontal"},pfe={class:"field-label"},mfe={class:"label",for:"pid-preset"},gfe={class:"field-body"},_fe={class:"field"},yfe={class:"control is-expanded"},bfe=["id","name","checked","onInput"],vfe=["for"],wfe={class:"field"},xfe={class:"control is-expanded"},Efe=["id","name","checked","onInput"],Sfe=["for"],Tfe={class:"field",style:{"align-self":"center"}},Afe={class:"control is-expanded"},Mfe=["value","max","onInput"],Rfe={class:"field",style:{"align-self":"center"}},Cfe={class:"control is-expanded"},kfe=["value","max","onInput"],Pfe={class:"column is-6"},Ife={class:"card"},Ofe={class:"card-header"},Lfe={class:"card-header-title"},Dfe={key:0,class:"select ml-4"},Nfe=Zg(()=>m("option",null,"NTSC",-1)),Ufe=Zg(()=>m("option",null,"PAL",-1)),$fe=[Nfe,Ufe],Ffe={class:"card-content"},Bfe={class:"content"},Hfe=["width","height"];function Gfe(t,e,n,s,i,r){const o=Le("tooltip");return Q(),re("div",efe,[m("header",tfe,[nfe,J(o,{class:"card-header-icon",entry:"osd.elements",size:"lg"})]),m("div",sfe,[m("div",ife,[m("div",rfe,[m("div",ofe,[m("div",afe,[lfe,m("div",cfe,[m("div",ufe,[m("div",dfe,[qe(m("input",{class:"input",type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>t.callsign=a)},null,512),[[nt,t.callsign]])])])])]),ffe,(Q(!0),re(ot,null,Bt(t.elements,(a,l)=>(Q(),re(ot,{key:l},[a.enabled?(Q(),re("div",hfe,[m("div",pfe,[m("label",mfe,Fe(a.name),1)]),m("div",gfe,[m("div",_fe,[m("div",yfe,[m("input",{id:"active-"+l,name:"active-"+l,type:"checkbox",class:"switch",checked:a.active==1,onInput:c=>t.osd_set(l,"active",!a.active)},null,40,bfe),m("label",{class:"py-0",style:{height:"2em"},for:"active-"+l},null,8,vfe)])]),m("div",wfe,[m("div",xfe,[m("input",{id:"invert-"+l,name:"invert-"+l,type:"checkbox",class:"switch",checked:a.invert==1,onInput:c=>t.osd_set(l,"invert",!a.invert)},null,40,Efe),m("label",{class:"py-0",style:{height:"2em"},for:"invert-"+l},null,8,Sfe)])]),m("div",Tfe,[m("div",Afe,[m("input",{class:"input",type:"number",step:"1",value:a.pos.x,min:"0",max:t.limits.width-1,onInput:c=>{var u;return t.osd_set(l,"pos_x",(u=c==null?void 0:c.target)==null?void 0:u.value)}},null,40,Mfe)])]),m("div",Rfe,[m("div",Cfe,[m("input",{class:"input",type:"number",step:"1",value:a.pos.y,min:"0",max:t.limits.height-1,onInput:c=>{var u;return t.osd_set(l,"pos_y",(u=c==null?void 0:c.target)==null?void 0:u.value)}},null,40,kfe)])])])])):Ve("",!0)],64))),128))]),m("div",Pfe,[m("div",Ife,[m("header",Ofe,[m("div",Lfe,[we(" Preview "),t.is_hd?Ve("",!0):(Q(),re("div",Dfe,[qe(m("select",{"onUpdate:modelValue":e[1]||(e[1]=a=>t.preview=a)},$fe,512),[[yg,t.preview]])]))])]),m("div",Ffe,[m("div",Bfe,[m("canvas",{width:t.canvasWidth,height:t.canvasHeight,ref:"canvas",class:"osd-canvas",onMousedown:e[2]||(e[2]=(...a)=>t.drag_start&&t.drag_start(...a)),onMousemove:e[3]||(e[3]=(...a)=>t.drag_move&&t.drag_move(...a)),onMouseup:e[4]||(e[4]=(...a)=>t.drag_drop&&t.drag_drop(...a)),onMouseleave:e[5]||(e[5]=(...a)=>t.drag_drop&&t.drag_drop(...a))},null,40,Hfe)])])])])])])])])}const zfe=ct(Qde,[["render",Gfe],["__scopeId","data-v-b96a772a"]]),Vfe=it({name:"OSDElementsLegacy",setup(){return{profile:Gt()}},data(){return{screen:{width:28,height:14,char_width:12,char_height:18},imageSource:null}},computed:{svg_width(){return this.screen.width*this.screen.char_width},svg_height(){return this.screen.height*this.screen.char_height},viewBox(){return`0 0 ${this.svg_width} ${this.svg_height}`},callsign:{get(){return this.profile.osd.elements.slice(1,5).flatMap(t=>[0,8,16,24].map(e=>{const n=t>>e&255;return n==63?"":String.fromCharCode(n)})).join("")},set(t){const e=t.toUpperCase(),n=Array(20).fill(63).map((i,r)=>r<e.length?e.charCodeAt(r):i).reduce((i,r,o)=>{const a=Math.floor(o/4),l=[0,8,16,24][o%4];return i[a]=i[a]|(r&255)<<l,i},[]),s=[...this.profile.osd.elements];for(let i=0;i<n.length;i++)s[i+1]=n[i];this.profile.osd.elements=s}},element_options(){return[{name:"CALLSIGN",enabled:!0,text:this.callsign},{name:"callsign2",enabled:!1,text:""},{name:"callsign3",enabled:!1,text:""},{name:"callsign4",enabled:!1,text:""},{name:"callsign5",enabled:!1,text:""},{name:"callsign6",enabled:!1,text:""},{name:"FUELGAUGE VOLTS",enabled:!0,text:"1S 4.3V"},{name:"FILTERED VOLTS",enabled:!0,text:"1S 4.3V"},{name:"GYRO TEMP",enabled:!0,text:"40C"},{name:"FLIGHT MODE",enabled:!0,text:"___ACRO___"},{name:"RSSI",enabled:!0,text:"90"},{name:"STOPWATCH",enabled:!0,text:"120"},{name:"SYSTEM STATUS",enabled:!0,text:"__**ARMED**____"},{name:"THROTTLE",enabled:!0,text:"50"},{name:"VTX CHANNEL",enabled:!0,text:"R:7:1"},{name:"CURRENT",enabled:!0,text:"2000A"}]},elements(){return this.profile.osd.elements.filter((t,e)=>this.element_options[e]).map((t,e)=>({...this.element_options[e],active:this.osd_decode(t,"active"),invert:this.osd_decode(t,"invert"),pos_x:this.osd_decode(t,"pos_x"),pos_y:this.osd_decode(t,"pos_y"),value:t}))}},methods:{osd_set(t,e,n){const s=[...this.profile.osd.elements];s[t]=this.osd_encode(this.profile.osd.elements[t],e,n),this.profile.set_osd_elements(s)},osd_decode(t,e){switch(e){case"active":return t&1;case"invert":return t>>1&1;case"pos_x":return t>>2&31;case"pos_y":return t>>7&15;default:return 0}},osd_encode(t,e,n){switch(e){case"active":return n?t|1:t&-2;case"invert":return n?t|2:t&-3;case"pos_x":return t&-125|(n&31)<<2;case"pos_y":return t&-1921|(n&15)<<7;default:return t}}}}),Lw=t=>(xu("data-v-be7b878d"),t=t(),Eu(),t),jfe={class:"card"},Wfe={class:"card-header"},qfe=Lw(()=>m("p",{class:"card-header-title"},"Elements",-1)),Xfe={class:"card-content"},Kfe={class:"content"},Yfe={class:"columns is-multiline"},Zfe={class:"column is-6"},Jfe={class:"field field-is-2 is-horizontal"},Qfe=Lw(()=>m("div",{class:"field-label"},[m("label",{class:"label"}," Callsign Text ")],-1)),ehe={class:"field-body"},the={class:"field"},nhe={class:"control is-expanded"},she=aa('<div class="columns mt-4 mb-0" data-v-be7b878d><div class="column has-text-centered has-text-weight-semibold px-0 is-4" data-v-be7b878d> Element </div><div class="column has-text-left has-text-weight-semibold px-0 is-2" data-v-be7b878d> Active </div><div class="column has-text-left has-text-weight-semibold px-0 is-2" data-v-be7b878d> Invert </div><div class="column has-text-left has-text-weight-semibold px-0 is-2" data-v-be7b878d> X </div><div class="column has-text-left has-text-weight-semibold px-0 is-2" data-v-be7b878d> Y </div></div>',1),ihe={key:0,class:"field mb-2 field-is-2 is-horizontal"},rhe={class:"field-label"},ohe={class:"label",for:"pid-preset"},ahe={class:"field-body"},lhe={class:"field"},che={class:"control is-expanded"},uhe=["id","name","checked","onInput"],dhe=["for"],fhe={class:"field"},hhe={class:"control is-expanded"},phe=["id","name","checked","onInput"],mhe=["for"],ghe={class:"field",style:{"align-self":"center"}},_he={class:"control is-expanded"},yhe=["value","onInput"],bhe={class:"field",style:{"align-self":"center"}},vhe={class:"control is-expanded"},whe=["value","onInput"],xhe={class:"column is-6"},Ehe={class:"card"},She=Lw(()=>m("header",{class:"card-header"},[m("p",{class:"card-header-title"},"Preview")],-1)),The={class:"card-content"},Ahe={class:"content"},Mhe=["viewBox"],Rhe={key:0},Che=["x","y"];function khe(t,e,n,s,i,r){const o=Le("tooltip");return Q(),re("div",jfe,[m("header",Wfe,[qfe,J(o,{class:"card-header-icon",entry:"osd.elements",size:"lg"})]),m("div",Xfe,[m("div",Kfe,[m("div",Yfe,[m("div",Zfe,[m("div",Jfe,[Qfe,m("div",ehe,[m("div",the,[m("div",nhe,[qe(m("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>t.callsign=a),class:"input",type:"text"},null,512),[[nt,t.callsign]])])])])]),she,(Q(!0),re(ot,null,Bt(t.elements,(a,l)=>(Q(),re(ot,{key:l},[a.enabled?(Q(),re("div",ihe,[m("div",rhe,[m("label",ohe,Fe(a.name),1)]),m("div",ahe,[m("div",lhe,[m("div",che,[m("input",{id:"active-"+l,name:"active-"+l,type:"checkbox",class:"switch",checked:a.active==1,onInput:c=>t.osd_set(l,"active",!a.active)},null,40,uhe),m("label",{class:"py-0",style:{height:"2em"},for:"active-"+l},null,8,dhe)])]),m("div",fhe,[m("div",hhe,[m("input",{id:"invert-"+l,name:"invert-"+l,type:"checkbox",class:"switch",checked:a.invert==1,onInput:c=>t.osd_set(l,"invert",!a.invert)},null,40,phe),m("label",{class:"py-0",style:{height:"2em"},for:"invert-"+l},null,8,mhe)])]),m("div",ghe,[m("div",_he,[m("input",{class:"input",type:"number",step:"1",value:a.pos_x,onInput:c=>{var u;return t.osd_set(l,"pos_x",(u=c==null?void 0:c.target)==null?void 0:u.value)}},null,40,yhe)])]),m("div",bhe,[m("div",vhe,[m("input",{class:"input",type:"number",step:"1",value:a.pos_y,onInput:c=>{var u;return t.osd_set(l,"pos_y",(u=c==null?void 0:c.target)==null?void 0:u.value)}},null,40,whe)])])])])):Ve("",!0)],64))),128))]),m("div",xhe,[m("div",Ehe,[She,m("div",The,[m("div",Ahe,[(Q(),re("svg",{viewBox:t.viewBox,xmlns:"http://www.w3.org/2000/svg"},[(Q(!0),re(ot,null,Bt(t.elements,(a,l)=>(Q(),re("g",{key:l},[a.enabled&&a.active?(Q(),re("g",Rhe,[(Q(!0),re(ot,null,Bt(a.text,(c,u)=>(Q(),re("text",{key:"el-"+l+"-"+u,class:cs({"text-invert":a.invert}),x:(a.pos_x+u)*t.screen.char_width,y:a.pos_y*(t.screen.char_height-1)},Fe(c),11,Che))),128))])):Ve("",!0)]))),128))],8,Mhe))])])])])])])])])}const Phe=ct(Vfe,[["render",khe],["__scopeId","data-v-be7b878d"]]),Ihe=t=>new Promise((e,n)=>{const s=new Image;s.onload=()=>e(s),s.onerror=i=>n(i),s.src=t}),Ohe=it({name:"OSDFont",data(){return{fontFiles:[{text:"betaflight",value:"betaflight.png"},{text:"bold",value:"bold.png"},{text:"clarity",value:"clarity.png"},{text:"default",value:"default.png"},{text:"digital",value:"digital.png"},{text:"extra_large",value:"extra_large.png"},{text:"impact_mini",value:"impact_mini.png"},{text:"impact",value:"impact.png"},{text:"large",value:"large.png"},{text:"vision",value:"vision.png"}],current_font_file:"clarity.png",imageSource:void 0}},setup(){return{root:tn(),profile:Gt(),osd:Ck()}},methods:{apply_osd_font(t){return Ihe("osd/"+t).then(e=>{const n=Rt.packFont(this.$refs.canvas,e);return this.osd.apply_font(n)}).then(()=>this.get_osd_font()).then(()=>this.root.append_alert({type:"success",msg:"Font updated!"})).catch(()=>{this.root.append_alert({type:"danger",msg:"Font update failed!"})})},async get_osd_font(){await this.osd.fetch_sd_osd_font(),this.imageSource=Rt.unpackFont(this.$refs.canvas,this.osd.font_raw)},uploadLogo(){const t=n=>new Promise((s,i)=>{const r=new FileReader;r.onerror=i,r.onabort=i,r.onload=o=>{var l;const a=new Image;a.onerror=i,a.onabort=i,a.onload=function(){s(a)},a.src=((l=o==null?void 0:o.target)==null?void 0:l.result)||""},r.readAsDataURL(n)});return(async()=>{const n={types:[{description:"Images",accept:{"image/*":[".png"]}}],excludeAcceptAllOption:!0,multiple:!1},[s]=await window.showOpenFilePicker(n);return await s.getFile()})().then(n=>t(n)).then(n=>{if(n.width!=288&&n.height!=72)throw new Error("Invalid logo dimensions");const s=Rt.packLogo(this.$refs.canvas,this.$refs.logoCanvas,n);return this.osd.apply_font(s)}).then(()=>this.get_osd_font()).then(()=>this.root.append_alert({type:"success",msg:"Logo updated!"})).catch(n=>{this.root.append_alert({type:"danger",msg:"Logo update failed! "+n.message})}).finally(()=>this.$refs.form.reset())}},created(){this.get_osd_font()}}),Lhe={class:"card"},Dhe={class:"card-header"},Nhe=m("p",{class:"card-header-title"},"Font",-1),Uhe={class:"card-content"},$he={class:"content"},Fhe={class:"field field-is-4 is-horizontal"},Bhe=m("div",{class:"field-label"},[m("label",{class:"label"}," Full OSD font to upload ")],-1),Hhe={class:"field-body"},Ghe={class:"field has-addons"},zhe={class:"control is-expanded"},Vhe={class:"control"},jhe={ref:"form"},Whe={class:"field field-is-4 is-horizontal"},qhe=m("div",{class:"field-label"},[m("label",{class:"label"},[we(" Custom Logo "),m("br"),we(" 288x72 Black/White/Transparent PNG ")])],-1),Xhe={class:"field-body"},Khe={class:"field has-addons"},Yhe=m("p",{class:"control is-expanded"},null,-1),Zhe={class:"control"},Jhe={class:"columns mt-5"},Qhe={class:"column is-6"},epe={class:"card"},tpe=m("header",{class:"card-header"},[m("p",{class:"card-header-title"},"Preview")],-1),npe={class:"card-content"},spe={class:"content"},ipe={class:"image m-0"},rpe=["src"],ope={class:"column is-6"},ape={class:"card"},lpe=m("header",{class:"card-header"},[m("p",{class:"card-header-title"},"Current")],-1),cpe={class:"card-content"},upe={class:"content"},dpe={class:"image m-0"},fpe=["src"],hpe={ref:"canvas",class:"mx-5 mt-3 is-hidden",width:"209",height:"305"},ppe={ref:"logoCanvas",class:"mx-5 mt-3 is-hidden",width:"288",height:"72"};function mpe(t,e,n,s,i,r){const o=Le("tooltip"),a=Le("input-select"),l=Le("spinner-btn");return Q(),re("div",Lhe,[m("header",Dhe,[Nhe,J(o,{class:"card-header-icon",entry:"osd.font",size:"lg"})]),m("div",Uhe,[m("div",$he,[m("div",Fhe,[Bhe,m("div",Hhe,[m("div",Ghe,[m("p",zhe,[J(a,{id:"font-file",class:"is-fullwidth",modelValue:t.current_font_file,"onUpdate:modelValue":e[0]||(e[0]=c=>t.current_font_file=c),options:t.fontFiles},null,8,["modelValue","options"])]),m("p",Vhe,[J(l,{class:"float-right",onClick:e[1]||(e[1]=c=>t.apply_osd_font(t.current_font_file))},{default:tt(()=>[we(" Upload Font ")]),_:1})])])])]),m("form",jhe,[m("div",Whe,[qhe,m("div",Xhe,[m("div",Khe,[Yhe,m("p",Zhe,[J(l,{onClick:e[2]||(e[2]=c=>t.uploadLogo())},{default:tt(()=>[we(" Upload Logo ")]),_:1})])])])])],512),m("div",Jhe,[m("div",Qhe,[m("div",epe,[tpe,m("div",npe,[m("div",spe,[m("figure",ipe,[m("img",{src:"osd/"+t.current_font_file},null,8,rpe)])])])])]),m("div",ope,[m("div",ape,[lpe,m("div",cpe,[m("div",upe,[m("figure",dpe,[m("img",{src:t.imageSource},null,8,fpe)]),m("canvas",hpe,null,512),m("canvas",ppe,null,512)])])])])])])])])}const gpe=ct(Ohe,[["render",mpe]]),_pe=it({name:"OSD",components:{OSDElements:zfe,OSDElementsLegacy:Phe,OSDFont:gpe},setup(){return{profile:Gt(),default_profile:Bf()}},computed:{is_hd(){return this.profile.serial.hdzero}}}),ype={class:"columns is-multiline"},bpe={class:"column is-12"},vpe={class:"column is-12"};function wpe(t,e,n,s,i,r){const o=Le("OSDElementsLegacy"),a=Le("OSDElements"),l=Le("OSDFont");return Q(),re("div",ype,[m("div",bpe,[t.default_profile.has_legacy_osd?(Q(),Vt(o,{key:0})):(Q(),Vt(a,{key:1}))]),m("div",vpe,[t.is_hd?Ve("",!0):(Q(),Vt(l,{key:0}))])])}const xpe=ct(_pe,[["render",wpe]]),Jg=es("motor",{state:()=>({loading:!1,test:{active:0,value:new Array},settings:null,_pins:[{index:1,id:"MOTOR_FL",label:"Front Left"},{index:3,id:"MOTOR_FR",label:"Front Right"},{index:0,id:"MOTOR_BL",label:"Back Left"},{index:2,id:"MOTOR_BR",label:"Back Right"}]}),getters:{pins(t){const e=Gt();return t._pins.map(n=>({...n,pin:e.motor.motor_pins[n.index]}))}},actions:{fetch_motor_test(){return bt.command(Nn.Motor,Td.TestStatus).then(t=>{this.test=t.payload[0]})},fetch_motor_settings(){const t=tn();return this.loading=!0,bt.get(ln.BLHeliSettings).then(e=>{this.settings=e}).catch(e=>{t.append_alert({type:"danger",msg:"Loading motor settings failed!"}),ut.error("motor",e)}).finally(()=>{this.loading=!1})},apply_motor_settings(t){const e=tn();return this.loading=!0,bt.set(ln.BLHeliSettings,...t).then(()=>{this.settings=t,e.append_alert({type:"success",msg:"Motor settings applied!"})}).catch(n=>{ut.error("motor",n),e.append_alert({type:"danger",msg:"Failed to apply motor settings!"})}).finally(()=>{this.loading=!1})},async motor_test_toggle(){return await this.fetch_motor_test(),bt.command(Nn.Motor,this.test.active?Td.TestDisable:Td.TestEnable).then(()=>{this.test.active=this.test.active?0:1})},motor_test_set_value(t){return bt.command(Nn.Motor,Td.TestSetValue,t).then(e=>{this.test.value=e.payload[0]})}}}),Epe=it({name:"MotorTest",setup(){return{motor:Jg(),state:Ms()}},computed:{value(){return this.motor.test.value.map(t=>(t<0&&(t=0),t*100))}},created(){this.motor.fetch_motor_test()},methods:{update(){return this.motor.motor_test_set_value(this.value.map(t=>t/100))}}}),Spe={key:0,class:"card"},Tpe={class:"card-header"},Ape=m("p",{class:"card-header-title"},"Motor Test",-1),Mpe={class:"card-header-icon"},Rpe=m("br",null,null,-1),Cpe={class:"card-content"},kpe={class:"content"},Ppe={key:0,class:"columns is-multiline"},Ipe={class:"field field-is-2 is-horizontal"},Ope={class:"field-label"},Lpe={class:"label",for:"pid-preset"},Dpe={class:"field-body"},Npe={class:"field has-addons"},Upe={class:"control is-expanded"},$pe=["id","onUpdate:modelValue"],Fpe={class:"control"},Bpe=["id","onUpdate:modelValue"],Hpe={key:1,class:"is-size-5 has-text-centered has-text-weight-semibold"},Gpe={class:"card-footer"},zpe=m("span",{class:"card-footer-item"},null,-1),Vpe=m("span",{class:"card-footer-item"},null,-1);function jpe(t,e,n,s,i,r){const o=Le("tooltip"),a=Le("spinner-btn");return t.motor.test?(Q(),re("div",Spe,[m("header",Tpe,[Ape,m("small",Mpe,[we(Fe(t.state.vbat.toFixed(2))+"V ",1),Rpe,we(" "+Fe(t.state.ibat_filtered.toFixed(2))+"mA ",1)]),J(o,{class:"card-header-icon",entry:"motor.test",size:"lg"})]),m("div",Cpe,[m("div",kpe,[t.motor.test.active?(Q(),re("div",Ppe,[(Q(!0),re(ot,null,Bt(t.motor.pins,l=>(Q(),re("div",{key:l.index,class:"column is-6"},[m("div",Ipe,[m("div",Ope,[m("label",Lpe,Fe(l.label),1)]),m("div",Dpe,[m("div",Npe,[m("div",Upe,[qe(m("input",{id:l.id,"onUpdate:modelValue":c=>t.value[l.index]=c,class:"input",type:"range",step:"1",min:"0",max:"50",onInput:e[0]||(e[0]=c=>t.update())},null,40,$pe),[[nt,t.value[l.index],void 0,{number:!0}]])]),m("div",Fpe,[qe(m("input",{id:l.id,"onUpdate:modelValue":c=>t.value[l.index]=c,class:"input",type:"number",step:"1",min:"0",max:"50",onChange:e[1]||(e[1]=c=>t.update())},null,40,Bpe),[[nt,t.value[l.index],void 0,{number:!0}]])])])])])]))),128))])):(Q(),re("div",Hpe," Motor Test disabled "))])]),m("footer",Gpe,[zpe,Vpe,J(a,{class:"card-footer-item",onClick:e[2]||(e[2]=l=>t.motor.motor_test_toggle())},{default:tt(()=>[we(Fe(t.motor.test.active?"Disable":"Enable"),1)]),_:1})])])):Ve("",!0)}const Wpe=ct(Epe,[["render",jpe]]),qpe=it({name:"MotorPins",setup(){return{motor:Jg(),target:Iu(),profile:Gt()}},computed:{motorPins(){return this.target.motor_pin_names.map((t,e)=>({value:e,text:`Pin ${e} (${t})`}))}}}),Xpe={class:"card"},Kpe={class:"card-header"},Ype=m("p",{class:"card-header-title"},"Motor Pins",-1),Zpe={class:"card-content"},Jpe={class:"content"},Qpe={class:"columns is-multiline my-2"},eme={class:"field field-is-2 is-horizontal"},tme={class:"field-label"},nme={class:"label",for:"pid-profile"},sme=m("br",null,null,-1),ime={class:"text-muted"},rme={class:"field-body"},ome={class:"field"},ame={class:"control is-expanded"};function lme(t,e,n,s,i,r){const o=Le("tooltip"),a=Le("input-select");return Q(),re("div",Xpe,[m("header",Kpe,[Ype,J(o,{class:"card-header-icon",entry:"motor_pins",size:"lg"})]),m("div",Zpe,[m("div",Jpe,[m("div",Qpe,[(Q(!0),re(ot,null,Bt(t.motor.pins,l=>(Q(),re("div",{key:"motor-pin-"+l.index,class:"column is-6"},[m("div",eme,[m("div",tme,[m("label",nme,[we(Fe(l.label)+" ",1),sme,m("span",ime,"Motor "+Fe(l.index),1)])]),m("div",rme,[m("div",ome,[m("div",ame,[J(a,{id:"motor-pin-"+l.index,modelValue:t.profile.motor.motor_pins[l.index],"onUpdate:modelValue":c=>t.profile.motor.motor_pins[l.index]=c,class:"is-fullwidth",options:t.motorPins},null,8,["id","modelValue","onUpdate:modelValue","options"])])])])])]))),128))])])])])}const cme=ct(qpe,[["render",lme]]),ume=it({name:"ESCSettings",setup(){return{motor:Jg(),info:hn()}},data(){return{motor_direction_options:[{value:1,text:"Normal"},{value:2,text:"Reversed"},{value:3,text:"Bidirectional"},{value:4,text:"Bidirectional Reversed"}]}},methods:{trim(t){return t.replace(/#/g,"").replace(/\$/g," ")},mapPin(t){return Ss.gt(this.info.quic_protocol_semver,"0.2.1")?t.index:t.pin}}}),dme={class:"card"},fme={class:"card-header"},hme=m("p",{class:"card-header-title"},"ESC Settings",-1),pme={class:"card-content"},mme={class:"content"},gme={key:0,class:"columns is-multiline"},_me={class:"columns is-multiline my-2"},yme={class:"column is-4"},bme={class:"column is-8"},vme={class:"column is-4 pt-0 mt-0"},wme=["for"],xme={class:"column is-8 pt-0 mt-0"},Eme={key:1,class:"is-size-5 has-text-centered has-text-weight-semibold"},Sme={class:"card-footer"},Tme=m("span",{class:"card-footer-item"},null,-1),Ame=m("span",{class:"card-footer-item"},null,-1);function Mme(t,e,n,s,i,r){const o=Le("tooltip"),a=Le("input-select"),l=Le("spinner-btn");return Q(),re("div",dme,[m("header",fme,[hme,J(o,{class:"card-header-icon",entry:"motor_settings",size:"lg"})]),m("div",pme,[m("div",mme,[t.motor.settings&&t.motor.settings.length?(Q(),re("div",gme,[(Q(!0),re(ot,null,Bt(t.motor.pins,c=>(Q(),re("div",{key:"motor-settings-"+c.index,class:"column is-6 px-5"},[m("div",_me,[m("div",yme,[m("h6",null,Fe(c.label),1)]),m("div",bme,Fe(t.trim(t.motor.settings[t.mapPin(c)].LAYOUT))+" - "+Fe(t.trim(t.motor.settings[t.mapPin(c)].NAME))+", "+Fe(t.motor.settings[t.mapPin(c)].MAIN_REVISION)+"."+Fe(t.motor.settings[t.mapPin(c)].SUB_REVISION),1),m("div",vme,[m("label",{for:"motor-direction-"+c.index},"Direction",8,wme)]),m("div",xme,[J(a,{id:"motor-direction-"+c.index,modelValue:t.motor.settings[t.mapPin(c)].MOTOR_DIRECTION,"onUpdate:modelValue":u=>t.motor.settings[t.mapPin(c)].MOTOR_DIRECTION=u,modelModifiers:{number:!0},options:t.motor_direction_options},null,8,["id","modelValue","onUpdate:modelValue","options"])])])]))),128))])):(Q(),re("div",Eme," Settings not loaded "))])]),m("footer",Sme,[Tme,Ame,t.motor.settings&&t.motor.settings.length?(Q(),Vt(l,{key:0,class:"card-footer-item",disabled:t.motor.loading,onClick:e[0]||(e[0]=c=>t.motor.apply_motor_settings(t.motor.settings))},{default:tt(()=>[we(" Apply ")]),_:1},8,["disabled"])):(Q(),Vt(l,{key:1,class:"card-footer-item",disabled:t.motor.loading,onClick:e[1]||(e[1]=c=>t.motor.fetch_motor_settings())},{default:tt(()=>[we(" Load ")]),_:1},8,["disabled"]))])])}const Rme=ct(ume,[["render",Mme]]),Cme=it({name:"Motor",components:{MotorTest:Wpe,MotorPins:cme,ESCSettings:Rme},setup(){return{info:hn(),constants:la()}}}),kme={class:"columns is-multiline"},Pme={class:"column is-12"},Ime={class:"column is-12"},Ome={key:0,class:"column is-12"};function Lme(t,e,n,s,i,r){const o=Le("MotorTest"),a=Le("MotorPins"),l=Le("ESCSettings");return Q(),re("div",kme,[m("div",Pme,[J(o)]),m("div",Ime,[J(a)]),t.info.has_feature(t.constants.Features.BRUSHLESS)?(Q(),re("div",Ome,[J(l)])):Ve("",!0)])}const Dme=ct(Cme,[["render",Lme]]);function wr(t){return e=>t*e*1/1e3*180/Math.PI}function P0(t){return e=>t+e}const Nme=[{name:"loopIteration",blackbox_field:Ze.LOOP,advance:1,signed:!1},{name:"time",blackbox_field:Ze.TIME,advance:1,signed:!1},{name:"axisP",array_index:0,blackbox_field:Ze.PID_P_TERM,advance:0,signed:!0},{name:"axisP",array_index:1,blackbox_field:Ze.PID_P_TERM,advance:0,signed:!0},{name:"axisP",array_index:2,blackbox_field:Ze.PID_P_TERM,advance:1,signed:!0},{name:"axisI",array_index:0,blackbox_field:Ze.PID_I_TERM,advance:0,signed:!0},{name:"axisI",array_index:1,blackbox_field:Ze.PID_I_TERM,advance:0,signed:!0},{name:"axisI",array_index:2,blackbox_field:Ze.PID_I_TERM,advance:1,signed:!0},{name:"axisD",array_index:0,blackbox_field:Ze.PID_D_TERM,advance:0,signed:!0},{name:"axisD",array_index:1,blackbox_field:Ze.PID_D_TERM,advance:0,signed:!0},{name:"axisD",array_index:2,blackbox_field:Ze.PID_D_TERM,advance:1,signed:!0},{name:"rcCommand",array_index:0,signed:!0,blackbox_field:Ze.RX,advance:0,convert:t=>t/2},{name:"rcCommand",array_index:1,signed:!0,blackbox_field:Ze.RX,advance:0,convert:t=>t/2},{name:"rcCommand",array_index:2,signed:!0,blackbox_field:Ze.RX,advance:0,convert:t=>-t/2},{name:"rcCommand",array_index:3,signed:!0,blackbox_field:Ze.RX,advance:1,convert:P0(1e3)},{name:"setpoint",array_index:0,blackbox_field:Ze.SETPOINT,advance:0,signed:!0,convert:wr(1)},{name:"setpoint",array_index:1,blackbox_field:Ze.SETPOINT,advance:0,signed:!0,convert:wr(1)},{name:"setpoint",array_index:2,blackbox_field:Ze.SETPOINT,advance:0,signed:!0,convert:wr(-1)},{name:"setpoint",array_index:3,blackbox_field:Ze.SETPOINT,advance:1,signed:!0},{name:"accRaw",array_index:0,blackbox_field:Ze.ACCEL_RAW,advance:0,signed:!0},{name:"accRaw",array_index:1,blackbox_field:Ze.ACCEL_RAW,advance:0,signed:!0},{name:"accRaw",array_index:2,blackbox_field:Ze.ACCEL_RAW,advance:1,signed:!0,convert:P0(1e3)},{name:"accSmooth",array_index:0,blackbox_field:Ze.ACCEL_FILTER,advance:0,signed:!0},{name:"accSmooth",array_index:1,blackbox_field:Ze.ACCEL_FILTER,advance:0,signed:!0},{name:"accSmooth",array_index:2,blackbox_field:Ze.ACCEL_FILTER,advance:1,signed:!0,convert:P0(1e3)},{name:"gyroRaw",array_index:0,blackbox_field:Ze.GYRO_RAW,advance:0,signed:!0,convert:wr(1)},{name:"gyroRaw",array_index:1,blackbox_field:Ze.GYRO_RAW,advance:0,signed:!0,convert:wr(1)},{name:"gyroRaw",array_index:2,blackbox_field:Ze.GYRO_RAW,advance:1,signed:!0,convert:wr(-1)},{name:"gyroADC",array_index:0,blackbox_field:Ze.GYRO_FILTER,advance:0,signed:!0,convert:wr(1)},{name:"gyroADC",array_index:1,blackbox_field:Ze.GYRO_FILTER,advance:0,signed:!0,convert:wr(1)},{name:"gyroADC",array_index:2,blackbox_field:Ze.GYRO_FILTER,advance:1,signed:!0,convert:wr(-1)},{name:"motor",array_index:0,blackbox_field:Ze.MOTOR,advance:0,signed:!0},{name:"motor",array_index:1,blackbox_field:Ze.MOTOR,advance:0,signed:!0},{name:"motor",array_index:2,blackbox_field:Ze.MOTOR,advance:0,signed:!0},{name:"motor",array_index:3,blackbox_field:Ze.MOTOR,advance:1,signed:!0},{name:"cpuload",blackbox_field:Ze.CPU_LOAD,advance:1,signed:!1},{name:"debug[0]",array_index:0,blackbox_field:Ze.DEBUG,advance:0,signed:!0},{name:"debug[1]",array_index:1,blackbox_field:Ze.DEBUG,advance:0,signed:!0},{name:"debug[2]",array_index:2,blackbox_field:Ze.DEBUG,advance:0,signed:!0},{name:"debug[3]",array_index:3,blackbox_field:Ze.DEBUG,advance:1,signed:!0}];let Ume=class{constructor(e){Z(this,"buffer",new Iv);Z(this,"defs",Nme);Z(this,"fieldflags");this.file=e,this.fieldflags=Dw(e.field_flags)}writeHeaders(e){this.writeHeaderRaw("Product","Blackbox flight data recorder by Nicholas Sherlock"),this.writeHeaderRaw("Data version","2"),this.writeHeaderRaw("Firmware type","Cleanflight"),this.writeHeaderRaw("Firmware revision","Betaflight 4.3.0"),this.writeHeaderRaw("gyro_scale","0x3f800000"),this.writeHeaderRaw("acc_1G","1000"),this.writeHeaderRaw("motorOutput","0,1000"),this.writeHeaderRaw("looptime",this.file.looptime.toString()),this.writeHeaderRaw("gyro_sync_denom","1"),this.writeHeaderRaw("pid_process_denom","1"),this.writeHeaderRaw("rates","78,78,78"),this.writeHeaderRaw("rates_type","3"),this.writeHeaderRaw("minthrottle","1000"),this.writeHeaderRaw("maxthrottle","2000"),this.writeHeaderRaw("gyro_notch_hz","0,0"),this.writeHeaderRaw("gyro_notch_cutoff","0,0"),this.writeHeaderRaw("Craft name",e.meta.name.replace(/\0/g,"")),this.writeHeaderRaw("rollPID",[e.pid.pid_rates[e.pid.pid_profile].kp[0],e.pid.pid_rates[e.pid.pid_profile].ki[0],e.pid.pid_rates[e.pid.pid_profile].kd[0]].join(",")),this.writeHeaderRaw("pitchPID",[e.pid.pid_rates[e.pid.pid_profile].kp[1],e.pid.pid_rates[e.pid.pid_profile].ki[1],e.pid.pid_rates[e.pid.pid_profile].kd[1]].join(",")),this.writeHeaderRaw("yawPID",[e.pid.pid_rates[e.pid.pid_profile].kp[2],e.pid.pid_rates[e.pid.pid_profile].ki[2],e.pid.pid_rates[e.pid.pid_profile].kd[2]].join(","));const n={1:0,2:2,3:3};e.filter.gyro[0].type>0&&(this.writeHeaderRaw("gyro_lpf1_type",n[e.filter.gyro[0].type].toString()),this.writeHeaderRaw("gyro_lpf1_static_hz",e.filter.gyro[0].cutoff_freq.toString())),e.filter.gyro[1].type>0&&(this.writeHeaderRaw("gyro_lpf2_type",n[e.filter.gyro[1].type].toString()),this.writeHeaderRaw("gyro_lpf2_static_hz",e.filter.gyro[1].cutoff_freq.toString())),e.filter.dterm[0].type>0&&(this.writeHeaderRaw("dterm_lpf1_type",n[e.filter.dterm[0].type].toString()),this.writeHeaderRaw("dterm_lpf1_static_hz",e.filter.dterm[0].cutoff_freq.toString())),e.filter.dterm_dynamic_enable&&this.writeHeaderRaw("dterm_lpf1_dyn_hz",[e.filter.dterm_dynamic_min,e.filter.dterm_dynamic_max].join(",")),e.filter.dterm[1].type>0&&(this.writeHeaderRaw("dterm_lpf2_type",n[e.filter.dterm[1].type].toString()),this.writeHeaderRaw("dterm_lpf2_static_hz",e.filter.dterm[1].cutoff_freq.toString())),this.writeHeaderRaw("I interval",""+this.file.blackbox_rate),this.writeHeaderRaw("P interval","1/"+this.file.blackbox_rate),this.writeHeaderJoin("Field I name",s=>{let i=s.name;return s.array_index!=null&&(i+="["+s.array_index+"]"),i}),this.writeHeaderJoin("Field I signed",s=>s.signed?"1":"0"),this.writeHeaderJoin("Field I predictor",s=>"0"),this.writeHeaderJoin("Field I encoding",s=>s.signed?"0":"1"),this.writeHeaderJoin("Field P predictor",s=>"0"),this.writeHeaderJoin("Field P encoding",s=>s.signed?"0":"1")}writeValue(e){if(!e[0]){ut.warn("blackbox","skipping blackbox entry");return}this.buffer.writeUint8(73);let n=1,s=0;for(const i of this.defs){if(n&this.fieldflags&1<<i.blackbox_field){let o=e[s];i.array_index!=null&&(o=o[i.array_index]),i.convert&&(o=i.convert(o)),i.signed?this.writeSigned(o):this.writeUnsigned(o),s+=i.advance}n<<=i.advance}}toUrl(){const e=this.buffer.array(),n=new Blob([e],{type:"octet/stream"});return window.URL.createObjectURL(n)}writeHeaderJoin(e,n){let s="",i=1,r=0;for(const o of this.defs)i&this.fieldflags&1<<o.blackbox_field&&(r++!=0&&(s+=","),s+=n(o)),i<<=o.advance;return this.writeHeaderRaw(e,s)}writeHeaderRaw(e,n){const s=`H ${e}:${n}
`;for(let i=0;i<s.length;i++)this.buffer.writeUint8(s.charCodeAt(i))}writeUnsigned(e){for(;e>127;)this.buffer.writeUint8((e&255|128)&255),e>>>=7;this.buffer.writeUint8(e)}writeSigned(e){const n=e<<1^e>>31;return this.writeUnsigned(n)}};const vo=["Roll","Pitch","Yaw"],lA=[...vo,"Throttle"],cA=t=>Array.from(Array(t).keys()).map(e=>e.toString()),Gy={[Ze.LOOP]:{name:"loop",title:"Loop",scale:1,unit:"none"},[Ze.TIME]:{name:"time",title:"Time",scale:1,unit:"us"},[Ze.PID_P_TERM]:{name:"pid_pterm",title:"PID P-Term",axis:vo,scale:1e3,unit:"none"},[Ze.PID_I_TERM]:{name:"pid_iterm",title:"PID I-Term",axis:vo,scale:1e3,unit:"none"},[Ze.PID_D_TERM]:{name:"pid_dterm",title:"PID D-Term",axis:vo,scale:1e3,unit:"none"},[Ze.RX]:{name:"rx",title:"RX",axis:lA,scale:1e3,unit:"none"},[Ze.SETPOINT]:{name:"setpoint",title:"Setpoint",axis:lA,scale:1e3,unit:"rad"},[Ze.ACCEL_RAW]:{name:"accel_raw",title:"Accel Raw",axis:vo,scale:1e3,unit:"rad"},[Ze.ACCEL_FILTER]:{name:"accel_filter",title:"Accel Filter",axis:vo,scale:1e3,unit:"rad"},[Ze.GYRO_RAW]:{name:"gyro_raw",title:"Gyro Raw",axis:vo,scale:1e3,unit:"rad"},[Ze.GYRO_FILTER]:{name:"gyro_filter",title:"Gyro Filter",axis:vo,scale:1e3,unit:"rad"},[Ze.MOTOR]:{name:"motor",title:"Motor",axis:cA(4),scale:1e3,unit:"none"},[Ze.CPU_LOAD]:{name:"cpu_load",title:"CPU Load",scale:1,unit:"us"},[Ze.DEBUG]:{name:"debug",title:"Debug",axis:cA(4),scale:1,unit:"none"}};function Dw(t){return(t??-1)|1<<Ze.LOOP|1<<Ze.TIME}const kk=es("blackbox",{state:()=>({busy:!1,speed:void 0,progress:void 0,list:{flash_size:0,files:[]},presets:[]}),actions:{reset_blackbox(){const t=tn();return bt.command(Nn.Blackbox,Sd.Reset).then(()=>{t.append_alert({type:"success",msg:"Blackbox successfully reset"})}).catch(e=>{t.append_alert({type:"danger",msg:e})})},list_blackbox(){return bt.command(Nn.Blackbox,Sd.List).then(t=>this.list=t.payload[0])},fetch_presets(){return bt.get(ln.BlackboxPresets).then(t=>this.presets=t)},download_blackbox_quic(t){const e=tn(),n=this.list.files[t],s=Dw(n.field_flags),i=performance.now();return bt.commandProgress(Nn.Blackbox,r=>{const o=(performance.now()-i)/1e3;this.progress=r/n.size,this.speed=r/o},Sd.Get,t).then(r=>{const o=Object.keys(Gy).filter((c,u)=>(s&1<<u)>0).map(c=>Gy[c]),a={...n,fields:o,entries:r.payload};return"data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(a))}).then(r=>(e.append_alert({type:"success",msg:"Blackbox successfully downloaded!"}),r)).catch(r=>{throw e.append_alert({type:"danger",msg:"Blackbox download failed"}),r}).finally(()=>{this.progress=void 0,this.speed=void 0})},download_blackbox_btfl(t){const e=tn(),n=this.list.files[t],s=performance.now();return bt.commandProgress(Nn.Blackbox,i=>{const r=(performance.now()-s)/1e3;this.progress=i/n.size,this.speed=i/r},Sd.Get,t).then(i=>{const r=Gt(),o=new Ume(n);o.writeHeaders(r);for(const a of i.payload)o.writeValue(a);return o.toUrl()}).then(i=>(e.append_alert({type:"success",msg:"Blackbox successfully downloaded!"}),i)).catch(i=>{throw e.append_alert({type:"danger",msg:"Blackbox download failed"}),i}).finally(()=>{this.progress=void 0,this.speed=void 0})}}}),$me=it({name:"blackbox",setup(){return{blackbox:kk(),profile:Gt(),state:Ms(),info:hn()}},data(){return{current_preset:-1}},computed:{usedSize(){var t,e;return(((e=(t=this.blackbox)==null?void 0:t.list)==null?void 0:e.files)||[]).reduce((n,s)=>n+s.size,0)},blackboxRate(){return this.profile.blackbox.sample_rate_hz.toString()+" Hz"},blackboxFields(){const t=Dw(this.profile.blackbox.field_flags),e=Gn(Ze).getEntries().map((n,s)=>({val:s,title:Gy[s].title,active:(t&1<<s)>0}));return e.every(n=>n.active)?["All"]:e.filter(n=>n.active).map(n=>n.title)},blackboxPresets(){return[{value:-1,text:"Choose..."},...this.blackbox.presets.map((t,e)=>({value:e,text:t.name}))]}},methods:{humanFileSize:z$,reset(){return this.blackbox.reset_blackbox().then(()=>this.blackbox.list_blackbox())},download_quic(t){return this.blackbox.download_blackbox_quic(t).then(e=>{const n=new Date().toISOString().substring(0,10),i=`${this.profile.meta.name.replace(/\0/g,"")}_${n}_file_${t}.json`;this.$refs.downloadAnchor.setAttribute("href",e),this.$refs.downloadAnchor.setAttribute("download",i),this.$refs.downloadAnchor.click()})},download_btfl(t){return this.blackbox.download_blackbox_btfl(t).then(e=>{const n=new Date().toISOString().substring(0,10),i=`${this.profile.meta.name.replace(/\0/g,"")}_${n}_file_${t}.bfl`;this.$refs.downloadAnchor.setAttribute("href",e),this.$refs.downloadAnchor.setAttribute("download",i),this.$refs.downloadAnchor.click()})},load_preset(t){this.profile.blackbox.field_flags=this.blackbox.presets[t].field_flags,this.profile.blackbox.sample_rate_hz=this.blackbox.presets[t].sample_rate_hz,this.current_preset=-1}},created(){this.blackbox.list_blackbox(),this.info.quicVersionGt("0.1.2")&&this.blackbox.fetch_presets()}}),Fme={class:"columns is-multiline"},Bme={class:"column is-12"},Hme={key:0,class:"card"},Gme=m("div",{class:"card-header"},[m("p",{class:"card-header-title"},"Blackbox Settings")],-1),zme={class:"card-content"},Vme={class:"content column-narrow"},jme={class:"field field-is-2 is-horizontal"},Wme=m("div",{class:"field-label"},[m("label",{class:"label",for:"pid-preset"}," Preset ")],-1),qme={class:"field-body"},Xme={class:"field has-addons"},Kme={class:"control"},Yme={class:"control"},Zme={class:"field field-is-2 is-horizontal"},Jme=m("div",{class:"field-label"},[m("label",{class:"label"},"Log Rate")],-1),Qme={class:"field-body"},ege={class:"field"},tge={class:"control is-expanded"},nge=["value"],sge={class:"field field-is-2 is-horizontal"},ige=m("div",{class:"field-label is-align-self-flex-start pt-2"},[m("label",{class:"label"},"Fields")],-1),rge={class:"field-body"},oge={class:"field"},age={class:"control is-expanded"},lge=["value"],cge={class:"column is-12"},uge={key:0,class:"card"},dge={class:"card-header"},fge=m("p",{class:"card-header-title"},"Blackbox Files",-1),hge={class:"blackbox-progress has-text-right"},pge=["value","max"],mge={class:"card-content"},gge={class:"content"},_ge={class:"mr-4 is-size-6"},yge={ref:"downloadAnchor",target:"_blank"},bge={key:0},vge=["value"],wge={class:"card-footer"},xge={class:"card-footer-item"},Ege=m("span",{class:"card-footer-item"},null,-1);function Sge(t,e,n,s,i,r){var c,u,d;const o=Le("input-select"),a=Le("spinner-btn"),l=Le("font-awesome-icon");return Q(),re("div",Fme,[m("div",Bme,[t.info.quicVersionGt("0.1.2")?(Q(),re("div",Hme,[Gme,m("div",zme,[m("div",Vme,[m("div",jme,[Wme,m("div",qme,[m("div",Xme,[m("div",Kme,[J(o,{id:"blackbox-preset",modelValue:t.current_preset,"onUpdate:modelValue":e[0]||(e[0]=f=>t.current_preset=f),modelModifiers:{number:!0},options:t.blackboxPresets},null,8,["modelValue","options"])]),m("div",Yme,[J(a,{onClick:e[1]||(e[1]=f=>t.load_preset(t.current_preset)),disabled:t.current_preset==-1},{default:tt(()=>[we(" Load ")]),_:1},8,["disabled"])])])])]),m("div",Zme,[Jme,m("div",Qme,[m("div",ege,[m("div",tge,[m("input",{class:"input is-static",value:t.blackboxRate,readonly:""},null,8,nge)])])])]),m("div",sge,[ige,m("div",rge,[m("div",oge,[m("div",age,[(Q(!0),re(ot,null,Bt(t.blackboxFields,f=>(Q(),re("input",{key:f,class:"input is-static",value:f,readonly:""},null,8,lge))),128))])])])])])])])):Ve("",!0)]),m("div",cge,[t.blackbox.list?(Q(),re("div",uge,[m("div",dge,[fge,m("div",hge,[m("progress",{class:"progress my-0 is-danger",value:t.usedSize,max:(t.blackbox.list.flash_size||1)*1024},null,8,pge),m("h6",null," Used: "+Fe(t.humanFileSize(t.usedSize))+" / "+Fe(t.humanFileSize(t.blackbox.list.flash_size*1024)),1)])]),m("div",mge,[m("div",gge,[(Q(!0),re(ot,null,Bt(t.blackbox.list.files,(f,h)=>(Q(),re("div",{key:h,class:"is-flex is-align-items-center"},[m("div",_ge," File "+Fe(h+1)+": "+Fe(t.humanFileSize(f.size)),1),J(a,{class:"is-small my-2 mx-2",onClick:y=>t.download_btfl(h)},{default:tt(()=>[J(l,{icon:"fa-solid fa-download",size:"lg",class:"mr-2","fixed-width":""}),we(" BTFL ")]),_:2},1032,["onClick"]),J(a,{class:"is-small my-2 mx-2",onClick:y=>t.download_quic(h)},{default:tt(()=>[J(l,{icon:"fa-solid fa-download",size:"lg",class:"mr-2","fixed-width":""}),we(" QUIC ")]),_:2},1032,["onClick"])]))),128)),m("a",yge,null,512),t.blackbox.progress?(Q(),re("div",bge,[we(" Downloading "+Fe(t.humanFileSize(t.blackbox.speed||0))+"/s... ",1),m("progress",{class:"progress is-info my-0",value:t.blackbox.progress,max:"1"},null,8,vge)])):Ve("",!0)])]),m("footer",wge,[m("span",xge,Fe(((d=(u=(c=t.blackbox)==null?void 0:c.list)==null?void 0:u.files)==null?void 0:d.length)||0)+" Files ",1),Ege,J(a,{class:"card-footer-item is-danger",onClick:e[2]||(e[2]=f=>t.reset())},{default:tt(()=>[we(" Reset ")]),_:1})])])):Ve("",!0)])])}const Tge=ct($me,[["render",Sge]]),Age=it({name:"RealtimePlot",components:{Scatter:ene},props:["title","time","input","axis","transform"],data(){return{colors:["#1f77b4","#ff7f0e","#2ca02c","#d62728"],lastUpdate:0,chartData:void 0,datasets:[]}},computed:{chartOptions(){return{responsive:!0,maintainAspectRatio:!1,animation:{duration:0},elements:{line:{tension:0}},scales:{x:{type:"time",time:{unit:"second",displayFormats:{second:"HH:mm:ss"}}}},plugins:{title:{display:!0,text:this.title},tooltip:{enabled:!0,mode:"index",position:"average",intersect:!1,callbacks:{label:t=>{let e=t.dataset.label||"";return e&&(e+=": "),e+=t.formattedValue,e}}}}}}},methods:{updateChartData(){let t=[];Array.isArray(this.axis)?t=this.axis.map((e,n)=>({label:e,data:this.datasets[n]||[],fill:!1,borderColor:this.colors[n],showLine:!0,interpolate:!0})):t=[{label:this.axis,data:this.datasets[0]||[],fill:!1,borderColor:this.colors[0],showLine:!0,interpolate:!0}],this.chartData={labels:[],datasets:t}}},watch:{input(t){const e=this.transform||(s=>s),n=this.time||Date.now();if(Array.isArray(this.axis))for(let s=0;s<this.axis.length;s++){const i=Array.isArray(t)?t[s]:t[this.axis[s]];for(this.datasets[s]=[...this.datasets[s]||[],{x:n,y:e(i)}];this.datasets[s].length>=60;)this.datasets[s].shift()}else for(this.datasets[0]=[...this.datasets[0]||[],{x:n,y:e(t)}];this.datasets[0].length>=60;)this.datasets[0].shift();Date.now()-this.lastUpdate>250&&this.updateChartData()},title(){this.updateChartData()},time(){this.updateChartData()},axis(){this.updateChartData()},transform(){this.updateChartData()}}});function Mge(t,e,n,s,i,r){const o=Le("Scatter");return t.chartData?(Q(),Vt(o,{key:0,data:t.chartData,options:t.chartOptions,ref:"chart"},null,8,["data","options"])):Ve("",!0)}const Pk=ct(Age,[["render",Mge]]),Rge=it({name:"State",components:{RealtimePlot:Pk,GyroModel:LC},setup(){return{state:Ms()}},data(){return{plots:[{name:"rx_filtered",size:12,title:"Rx Channels",axis:["Roll","Pitch","Yaw","Throttle"]},{name:"cpu_load",size:12,title:"CPU Load",axis:"us"},{name:"gyro_raw",size:6,title:"Gyro Raw",axis:["Roll","Pitch","Yaw"]},{name:"gyro",size:6,title:"Gyro Filter",axis:["Roll","Pitch","Yaw"]},{name:"gyro_temp",size:12,title:"Gyro Temperature",axis:"C"},{name:"GEstG",size:12,title:"Gyro Vector",axis:["Roll","Pitch","Yaw"]},{name:"accel_raw",size:6,title:"AccelRaw",axis:["Roll","Pitch","Yaw"]},{name:"accel",size:6,title:"AccelFilter",axis:["Roll","Pitch","Yaw"]},{name:"pidoutput",size:12,title:"Pid Output",axis:["Roll","Pitch","Yaw"]}]}}}),Cge={class:"columns is-multiline"},kge={class:"column is-12"};function Pge(t,e,n,s,i,r){const o=Le("GyroModel"),a=Le("RealtimePlot");return Q(),re("div",Cge,[m("div",kge,[J(o)]),(Q(!0),re(ot,null,Bt(t.plots,l=>(Q(),re("div",{key:l.name,class:cs(["column",["is-"+l.size]]),style:{height:"35vw"}},[J(a,{title:l.title,axis:l.axis,input:t.state[l.name]},null,8,["title","axis","input"])],2))),128))])}const Ige=ct(Rge,[["render",Pge]]),Oge=it({name:"Perf",components:{RealtimePlot:Pk},setup(){return{perf:j5()}}}),Lge={class:"columns is-multiline"};function Dge(t,e,n,s,i,r){const o=Le("RealtimePlot");return Q(),re("div",Lge,[(Q(!0),re(ot,null,Bt(t.perf.counters,(a,l)=>(Q(),re("div",{key:"counter"+l,class:"column is-6 my-3",style:{height:"35vw"}},[J(o,{title:a.name,axis:Object.keys(a).slice(1),input:a},null,8,["title","axis","input"])]))),128))])}const Nge=ct(Oge,[["render",Dge]]),Uge=it({name:"ProlfileMetadata",setup(){return{state:Ms(),info:hn(),profile:Gt(),serial:Hu()}},computed:{date(){return new Date(this.profile.meta.datetime*1e3)},fileRef(){return this.$refs.file},downloadAnchorRef(){return this.$refs.downloadAnchor},versionLink(){return/^(v\d\..*)/.test(this.info.git_version)?"https://github.com/BossHobby/QUICKSILVER/releases/tag/"+this.info.git_version:"https://github.com/BossHobby/QUICKSILVER/commit/"+this.info.git_version}},methods:{uploadProfile(){const t=new FileReader;t.addEventListener("load",e=>{var n,s;if((n=e==null?void 0:e.target)!=null&&n.result){const i=zr.parse((s=e==null?void 0:e.target)==null?void 0:s.result);this.profile.apply_profile(i)}}),this.fileRef.oninput=()=>{var e,n;(n=(e=this.fileRef)==null?void 0:e.files)!=null&&n.length&&t.readAsText(this.fileRef.files[0])},this.fileRef.click()},downloadProfile(){return bt.get(ln.Profile).then(t=>{const n="data:text/yaml;charset=utf-8,"+encodeURIComponent(zr.stringify(t)),s=this.date.toISOString().substring(0,10),r=`Profile_${t.meta.name.replace(/\0/g,"")}_${s}.yaml`;this.downloadAnchorRef.setAttribute("href",n),this.downloadAnchorRef.setAttribute("download",r),this.downloadAnchorRef.click()})}}}),$ge={class:"card"},Fge=m("header",{class:"card-header"},[m("p",{class:"card-header-title"},"Profile")],-1),Bge={class:"card-content"},Hge={class:"content column-narrow field-is-2"},Gge={class:"field is-horizontal"},zge=m("div",{class:"field-label"},[m("label",{class:"label",for:"name"},"Name")],-1),Vge={class:"field-body"},jge={class:"field"},Wge={class:"control is-expanded"},qge={class:"field is-horizontal"},Xge=m("div",{class:"field-label"},[m("label",{class:"label"},"Last Modified")],-1),Kge={class:"field-body"},Yge={class:"field"},Zge={class:"control is-expanded"},Jge=["value"],Qge={class:"field is-horizontal"},e_e=m("div",{class:"field-label"},[m("label",{class:"label"},"Version")],-1),t_e={class:"field-body"},n_e={class:"field"},s_e={class:"control is-expanded"},i_e=["href"],r_e={class:"card-footer"},o_e={accept:".yaml",type:"file",ref:"file",style:{display:"none"}},a_e={ref:"downloadAnchor",target:"_blank"};function l_e(t,e,n,s,i,r){const o=Le("spinner-btn");return Q(),re("div",$ge,[Fge,m("div",Bge,[m("div",Hge,[m("div",Gge,[zge,m("div",Vge,[m("div",jge,[m("div",Wge,[qe(m("input",{class:"input",type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>t.profile.meta.name=a)},null,512),[[nt,t.profile.meta.name]])])])])]),m("div",qge,[Xge,m("div",Kge,[m("div",Yge,[m("div",Zge,[m("input",{class:"input is-static",value:t.profile.modified,readonly:""},null,8,Jge)])])])]),m("div",Qge,[e_e,m("div",t_e,[m("div",n_e,[m("div",s_e,[m("a",{href:t.versionLink,target:"_blank"},Fe(t.info.git_version),9,i_e)])])])])])]),m("footer",r_e,[J(o,{class:"card-footer-item",onClick:t.downloadProfile},{default:tt(()=>[we(" Save Profile ")]),_:1},8,["onClick"]),J(o,{class:"card-footer-item",onClick:t.uploadProfile,disabled:t.info.is_read_only},{default:tt(()=>[we(" Load Profile ")]),_:1},8,["onClick","disabled"]),J(o,{class:"card-footer-item is-warning",onClick:t.profile.reset},{default:tt(()=>[we(" Reset Profile ")]),_:1},8,["onClick"])]),m("input",o_e,null,512),m("a",a_e,null,512)])}const c_e=ct(Uge,[["render",l_e]]),u_e={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",width:"512",height:"512",viewBox:"0 0 135.467 135.467"},d_e=aa('<g class="avocado" style="display:inline;"><path d="M69.621 38.07c-4.729-.64-8.735-3.46-10.802-7.607-1.579-3.168-2.136-6.913-1.473-9.896 1.03-4.631 4.365-9.363 8.903-12.633C70.292 5.02 77.212 2.032 82.87.757c4.06-.916 7.522-.907 9.344.023.943.481 1.464 1.054 1.974 2.17.55 1.202.795 1.987.988 3.163.464 2.823.21 6.31-.741 10.175-2.02 8.212-6.53 15.138-12.162 18.685-1.813 1.142-4.418 2.25-6.429 2.734-1.765.425-4.554.587-6.222.362z" style="display:inline;fill:#c4e3b1;stroke:#000;stroke-width:.5;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke;" transform="matrix(3.48553 0 0 3.50597 -197.99 .698)"></path><path d="M166.199 509.957C83.182 497.782 21.46 437.69 4.36 352.39c-4.056-20.235-4.946-50.55-1.992-67.88 10.226-59.992 51.749-124.678 108.968-169.754 51.058-40.223 145.14-83.676 222.645-102.83 45.315-11.2 88.7-14.69 114.038-9.174 16.054 3.494 28.386 9.712 36.597 18.453 6.833 7.274 17.873 31.376 21.583 47.12 11.418 48.452 5.028 115.65-17.625 185.343-28.043 86.276-75.87 158.886-132.825 201.652-57.153 42.915-128.752 63.553-189.55 54.637m15.067-145.991c31.602-6.945 64.13-24.238 92.152-48.993 13.76-12.155 45.704-45.437 59.153-61.63 34.087-41.04 60.658-84.263 70.277-114.316 4.255-13.296 5.614-27.714 3.488-37.01-7.844-34.295-62.915-37.06-149.283-7.494-37.862 12.96-88.139 37.275-113.64 54.958-39.573 27.439-68.164 65.247-78.073 103.242-3.992 15.303-4.946 38.741-2.065 50.727 7.833 32.593 31.967 54.929 66.857 61.875 12.579 2.504 36.437 1.87 51.134-1.36" style="display:inline;fill:#a5d287;stroke-width:1.5;" transform="matrix(.25937 0 0 .2609 1.209 .698)"></path><path d="M128.068 311.012c-12.552-3.545-16.875-6.677-20.113-14.573-8.473-20.658-10.75-51.147-5.445-72.903 3.344-13.712 11.383-30.584 19.964-41.893 40.265-53.074 110.07-63.441 159.023-23.62 15.26 12.414 18.662 17.97 18.662 30.471 0 19.633-13.12 44.962-36.376 70.221-27.184 29.527-55.627 46.361-88.202 52.204-15.179 2.722-38.045 2.767-47.513.093z" style="display:inline;fill:#7a3123;stroke:#000;stroke-width:1.5;stroke-opacity:1;" transform="matrix(.25937 0 0 .2609 1.209 .698)"></path><path d="M418.219.001c-21.382-.054-46.508 2.995-73.63 9.148-75.557 17.138-167.997 57.296-221.996 96.445C61.973 149.544 17.43 213.134 3.67 275.367c-8.864 40.085-1.422 90.424 19.668 132.993C50.952 464.098 104.465 502 167.64 510.58c22.274 3.025 59.527.84 83.109-4.873 26.856-6.508 61.658-21.392 85.869-36.73 75.247-47.673 135.468-140.752 162.463-251.107 12.71-51.956 16.106-98.802 9.908-136.74-2.582-15.803-5.862-26.361-13.203-42.511-6.814-14.99-13.783-22.695-26.372-29.16C457.24 3.206 439.6.054 418.219 0m35.794 28.083c20.248 10.63 28.248 32.904 23.337 64.969-6.07 39.63-27.916 87.713-63.976 140.816-19.707 29.022-33.64 46.138-60.06 73.77-26.007 27.202-43.975 42.903-70.2 61.35-29.164 20.512-53.613 31.84-83.99 38.913-15.996 3.725-60.378 4.963-74.707 2.084-37.771-7.585-76.49-30.896-91.848-60.01-16.208-32.684-12.856-77.852 9.14-123.191 22.295-45.953 57.499-85.17 103.327-115.114 48.39-31.618 125.333-64.89 187.018-80.869 41.773-7.833 87.404-20.622 121.959-2.718" style="display:inline;fill:#3c701b;fill-opacity:1;stroke:none;stroke-width:2;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke;" transform="matrix(.25937 0 0 .2609 1.209 .698)"></path><path d="M127.368 310.542c-4.944-1.352-10.614-3.704-12.6-5.226-8.16-6.253-13.546-24.786-14.515-49.946-.597-15.522-.29-19.846 2.126-29.91 15.105-62.922 80.627-104.569 138.758-88.197 22.703 6.394 49.868 24.999 56.643 38.795 2.201 4.481 2.58 7.283 2.065 15.302-2.516 39.193-54.888 97.022-103.251 114.008-21.8 7.658-51.918 9.909-69.226 5.174m88.387-72.511c29.984-15.482 40.481-51.755 20.916-72.276-22.185-23.268-67.124-8.939-79.103 25.223-6.18 17.626-.838 37.384 12.434 45.988 8.49 5.503 13.553 6.726 25.516 6.16 9.595-.454 12.82-1.265 20.237-5.095" style="display:inline;fill:#652012;stroke-width:1.5;" transform="matrix(.25937 0 0 .2609 1.209 .698)"></path></g>',1),f_e=[d_e];function h_e(t,e){return Q(),re("svg",u_e,[...f_e])}const Ik={render:h_e},p_e=it({name:"Info",components:{LogoClean:Ik},data(){return{updateAvailable:null,appVersion:"0.9.0"}},created(){za.updatePending()||za.checkForUpdate(this.appVersion,t=>this.updateAvailable=t)},methods:{doUpdate(){return za.update(this.updateAvailable)}}}),m_e={class:"hero is-primary"},g_e={class:"hero-body"},__e={class:"columns"},y_e={class:"column is-2 p-0"},b_e={class:"column"},v_e={class:"title"},w_e={class:"text-muted"},x_e=m("p",{class:"subtitle"},[we(" Checkout our "),m("a",{target:"_blank",href:"https://docs.bosshobby.com/",style:{"font-weight":"bold"}}," Docs"),we(" for help on getting started."),m("br"),we(" First time users should start on the FLASH tab. ")],-1),E_e={key:0,class:"subtitle"};function S_e(t,e,n,s,i,r){const o=Le("LogoClean"),a=Le("spinner-btn");return Q(),re("section",m_e,[m("div",g_e,[m("div",__e,[m("div",y_e,[J(o,{class:"logo logo-animation",viewBox:"-5 -5 160 160"})]),m("div",b_e,[m("p",v_e,[we(" QUICKSILVER "),m("small",w_e,Fe(t.appVersion),1)]),x_e,t.updateAvailable?(Q(),re("p",E_e,"New Version available!")):Ve("",!0),t.updateAvailable?(Q(),Vt(a,{key:1,onClick:t.doUpdate},{default:tt(()=>[we(" Update Now ")]),_:1},8,["onClick"])):Ve("",!0)])])])])}const Ok=ct(p_e,[["render",S_e]]),T_e=it({name:"SerialPassthrough",setup(){return{target:Iu(),serial:Hu()}},data(){return{serial_port:0,preset:null,presetOptions:[{value:null,text:"Please select an option"},{text:"ExpressLRS",value:{baudrate:42e4,half_duplex:!1,stop_bits:1}},{text:"OpenVTX",value:{baudrate:4800,half_duplex:!0,stop_bits:2}}]}},computed:{serialPorts(){const t=[{value:0,text:"SERIAL_PORT_INVALID"}];for(const[e,n]of Object.entries(this.target.serial_port_names))t.push({value:n,text:e});return t}},methods:{start_passthrough(){return this.serial.serial_passthrough({port:this.serial_port,...this.preset||{}})}}}),A_e={class:"card"},M_e={class:"card-header"},R_e=m("p",{class:"card-header-title"},"Serial Passthrough",-1),C_e={class:"card-content"},k_e={class:"content"},P_e={class:"columns"},I_e={class:"column is-6"},O_e={class:"field"},L_e=m("label",{class:"label"},"Serial Port",-1),D_e={class:"control is-expanded"},N_e={class:"column is-6"},U_e={class:"field"},$_e=m("label",{class:"label"},"Preset",-1),F_e={class:"control is-expanded"},B_e={class:"card-footer"},H_e=m("span",{class:"card-footer-item"},null,-1),G_e=m("span",{class:"card-footer-item"},null,-1);function z_e(t,e,n,s,i,r){const o=Le("tooltip"),a=Le("input-select"),l=Le("spinner-btn");return Q(),re("div",A_e,[m("header",M_e,[R_e,J(o,{class:"card-header-icon",entry:"serial_passthrough",size:"lg"})]),m("div",C_e,[m("div",k_e,[m("div",P_e,[m("div",I_e,[m("div",O_e,[L_e,m("div",D_e,[J(a,{modelValue:t.serial_port,"onUpdate:modelValue":e[0]||(e[0]=c=>t.serial_port=c),modelModifiers:{number:!0},class:"is-fullwidth",options:t.serialPorts},null,8,["modelValue","options"])])])]),m("div",N_e,[m("div",U_e,[$_e,m("div",F_e,[J(a,{modelValue:t.preset,"onUpdate:modelValue":e[1]||(e[1]=c=>t.preset=c),class:"is-fullwidth",options:t.presetOptions},null,8,["modelValue","options"])])])])])])]),m("footer",B_e,[H_e,G_e,J(l,{class:"card-footer-item",disabled:t.serial_port==0||t.preset==null,onClick:t.start_passthrough},{default:tt(()=>[we(" Start ")]),_:1},8,["disabled","onClick"])])])}const V_e=ct(T_e,[["render",z_e]]),j_e=it({name:"Target",setup(){const t=la();return{info:hn(),target:Iu(),Features:gn(()=>t.Features),GyroType:gn(()=>t.GyroType)}},computed:{fileRef(){return this.$refs.file},downloadAnchorRef(){return this.$refs.downloadAnchor},features(){return Gn(this.Features).getKeys().filter((t,e)=>this.info.features&1<<e+1).join(", ")}},methods:{uploadTarget(){const t=new FileReader;t.addEventListener("load",e=>{var n,s;if((n=e==null?void 0:e.target)!=null&&n.result){const i=zr.parse((s=e==null?void 0:e.target)==null?void 0:s.result);this.target.apply(i)}}),this.fileRef.oninput=()=>{var e,n;(n=(e=this.fileRef)==null?void 0:e.files)!=null&&n.length&&t.readAsText(this.fileRef.files[0])},this.fileRef.click()},downloadTarget(){const e="data:text/yaml;charset=utf-8,"+encodeURIComponent(this.target.yaml),n=new Date().toISOString().substring(0,10),s=`Target_${this.target.name}_${n}.yaml`;this.downloadAnchorRef.setAttribute("href",e),this.downloadAnchorRef.setAttribute("download",s),this.downloadAnchorRef.click()}}}),Fu=t=>(xu("data-v-1ee68027"),t=t(),Eu(),t),W_e={class:"card"},q_e=Fu(()=>m("header",{class:"card-header"},[m("p",{class:"card-header-title"},"Target")],-1)),X_e={class:"card-content"},K_e={class:"content column-narrow field-is-2"},Y_e={class:"field is-horizontal"},Z_e=Fu(()=>m("div",{class:"field-label"},[m("label",{class:"label",for:"name"},"Name")],-1)),J_e={class:"field-body"},Q_e={class:"field"},e0e={class:"control"},t0e=["value"],n0e={class:"field is-horizontal"},s0e=Fu(()=>m("div",{class:"field-label"},[m("label",{class:"label",for:"name"},"MCU")],-1)),i0e={class:"field-body"},r0e={class:"field"},o0e={class:"control"},a0e=["value"],l0e={key:1,class:"field is-horizontal"},c0e=Fu(()=>m("div",{class:"field-label"},[m("label",{class:"label",for:"name"},"Name")],-1)),u0e={class:"field-body"},d0e={class:"field"},f0e={class:"control"},h0e=["value"],p0e={key:2,class:"field is-horizontal"},m0e=Fu(()=>m("div",{class:"field-label"},[m("label",{class:"label"},"Gyro")],-1)),g0e={class:"field-body"},_0e={class:"field"},y0e={class:"control is-expanded"},b0e=["value"],v0e={key:3,class:"field is-horizontal"},w0e=Fu(()=>m("div",{class:"field-label"},[m("label",{class:"label"},"Features")],-1)),x0e={class:"field-body"},E0e={class:"field"},S0e={class:"control is-expanded"},T0e=["value"],A0e={key:0,class:"card-footer"},M0e={accept:".yaml",type:"file",ref:"file",style:{display:"none"}},R0e={ref:"downloadAnchor",target:"_blank"};function C0e(t,e,n,s,i,r){const o=Le("spinner-btn");return Q(),re("div",W_e,[q_e,m("div",X_e,[m("div",K_e,[t.info.quicVersionGte("0.2.0")?(Q(),re(ot,{key:0},[m("div",Y_e,[Z_e,m("div",J_e,[m("div",Q_e,[m("div",e0e,[m("input",{class:"input is-static",value:t.target.name,readonly:""},null,8,t0e)])])])]),m("div",n0e,[s0e,m("div",i0e,[m("div",r0e,[m("div",o0e,[m("input",{class:"input is-static",value:t.info.mcu,readonly:""},null,8,a0e)])])])])],64)):(Q(),re("div",l0e,[c0e,m("div",u0e,[m("div",d0e,[m("div",f0e,[m("input",{class:"input is-static",value:t.info.target_name,readonly:""},null,8,h0e)])])])])),t.info.gyro_id!=null?(Q(),re("div",p0e,[m0e,m("div",g0e,[m("div",_0e,[m("div",y0e,[m("input",{class:"input is-static",value:t.info.gyro_name,readonly:""},null,8,b0e)])])])])):Ve("",!0),t.info.features!=null?(Q(),re("div",v0e,[w0e,m("div",x0e,[m("div",E0e,[m("div",S0e,[m("input",{class:"input is-static",value:t.features,readonly:""},null,8,T0e)])])])])):Ve("",!0)])]),t.info.quicVersionGte("0.2.0")?(Q(),re("footer",A0e,[J(o,{class:"card-footer-item",onClick:t.downloadTarget},{default:tt(()=>[we(" Save Target ")]),_:1},8,["onClick"]),J(o,{class:"card-footer-item",onClick:t.uploadTarget},{default:tt(()=>[we(" Load Target ")]),_:1},8,["onClick"])])):Ve("",!0),m("input",M0e,null,512),m("a",R0e,null,512)])}const k0e=ct(j_e,[["render",C0e],["__scopeId","data-v-1ee68027"]]),P0e=it({name:"Profile",components:{Info:Ok,ProfileMetadata:c_e,SerialPassthrough:V_e,Target:k0e},setup(){return{info:hn(),state:Ms()}}}),I0e={class:"columns is-multiline"},O0e={class:"column is-12 is-hidden-mobile"},L0e={class:"column is-12"},D0e={class:"notification is-warning"},N0e=m("br",null,null,-1),U0e=m("br",null,null,-1),$0e={class:"notification is-danger"},F0e=m("br",null,null,-1),B0e=m("br",null,null,-1),H0e={class:"column is-12"},G0e={class:"column is-12"},z0e={class:"column is-12"};function V0e(t,e,n,s,i,r){const o=Le("Info"),a=Le("ProfileMetadata"),l=Le("Target"),c=Le("SerialPassthrough");return Q(),re("div",I0e,[m("div",O0e,[J(o)]),m("div",L0e,[qe(m("div",D0e,[we(" Incompatible Firmware! "),N0e,we(" Please update to be able to change settings. "),U0e,we(" Current profile can be exported and loaded. ")],512),[[_m,t.info.quic_protocol_version<5]]),qe(m("div",$0e,[we(" Faillop "+Fe(t.state.failloopMessage)+" ("+Fe(t.state.failloop)+") Detected! ",1),F0e,we(" Please fix the issue to be able to change settings. "),B0e],512),[[_m,t.state.failloop>0]])]),m("div",H0e,[J(a)]),m("div",G0e,[J(l)]),m("div",z0e,[J(c)])])}const j0e=ct(P0e,[["render",V0e]]);class W0e{constructor(e){Z(this,"progressCallback");this.device=e}onProgress(e){this.progressCallback=e}async open(){await this.device.open(),await this.device.claimInterface(0)}async close(){try{await this.device.close()}catch(e){ut.warn("flash","Close failed",e)}}progress(e,n,s){this.progressCallback&&this.progressCallback({task:e,current:n,total:s})}async getString(e){const n=await this.device.controlTransferIn({recipient:"device",requestType:"standard",request:6,value:768|e,index:0},255);if((n==null?void 0:n.status)!="ok")throw new Error(n.status);const s=n.data,i=s.getUint8(0);let r="";for(let o=2;o<i;o+=2){const a=s.getUint16(o,!0);r+=String.fromCharCode(a)}return r}async getInterfaceDescriptor(e){const n=await this.device.controlTransferIn({recipient:"device",requestType:"standard",request:6,value:512,index:0},18+e*9);if((n==null?void 0:n.status)!="ok")throw new Error(n.status);const s=new Uint8Array(n.data.buffer,9+e*9);return{bLength:s[0],bDescriptorType:s[1],bInterfaceNumber:s[2],bAlternateSetting:s[3],bNumEndpoints:s[4],bInterfaceClass:s[5],bInterfaceSubclass:s[6],bInterfaceProtocol:s[7],iInterface:s[8]}}async getFunctionalDescriptor(){const e=await this.device.controlTransferIn({recipient:"interface",requestType:"standard",request:6,value:8448,index:0},255);if((e==null?void 0:e.status)!="ok")throw new Error(e.status);const n=new Uint8Array(e.data.buffer);return{bLength:n[0],bDescriptorType:n[1],bmAttributes:n[2],wDetachTimeOut:n[4]<<8|n[3],wTransferSize:n[6]<<8|n[5],bcdDFUVersion:n[7]}}async getInterfaceDescriptors(e){const n=[],s=this.device.configuration;for(const i of s.interfaces)for(let r=0;r<i.alternates.length;r++){const o=await this.getInterfaceDescriptor(i.interfaceNumber+r);if(o.bInterfaceNumber!=e)continue;const a=await this.getString(o.iInterface);n.push(a)}return n}async controlTransferIn(e,n,s,i){const r=await this.device.controlTransferIn({recipient:"interface",requestType:"class",request:e,value:n,index:s},i);if((r==null?void 0:r.status)!="ok")throw new Error(r.status);return new Uint8Array(r.data.buffer)}async controlTransferOut(e,n,s,i){let r=new ArrayBuffer(0);i&&(r=new ArrayBuffer(i.length),new Uint8Array(r).set(i));const o=await this.device.controlTransferOut({recipient:"interface",requestType:"class",request:e,value:n,index:s},r);if((o==null?void 0:o.status)!="ok")throw new Error(o.status);return o}clearStatus(){const e=async()=>{const s=await this.controlTransferIn(3,0,0,6);if(s[4]==2)return s;const i=s[1]|s[2]<<8|s[3]<<16;return await zi(i),n()},n=async()=>(await this.controlTransferOut(4,0,0),e());return e()}async getChipInfo(){const e=s=>{s=="@External Flash /0x90000000/1001*128Kg,3*128Kg,20*128Ka"&&(s="@External Flash /0x90000000/998*128Kg,1*128Kg,4*128Kg,21*128Ka"),s=s.replace("@Option byte","@Option Bytes");const r=s.replace(/[^\x20-\x7E]+/g,"").split("/");if(r.length>3&&(ut.info("flash",'parseDescriptor: shrinking long descriptor "'+s+'"'),r.length=3),!r[0].startsWith("@"))return null;const o=r[0].trim().replace("@",""),a=parseInt(r[1]),l=[];let c=0;const u=r[2].split(",");if(u.length<1)return null;for(let f=0;f<u.length;f++){const h=u[f].split("*");if(h.length!=2)return null;const y=parseInt(h[0]);let _=parseInt(h[1]);if(!_)return null;switch(h[1].slice(-2,-1)){case"M":_*=1024;case"K":_*=1024;break}l.push({num_pages:y,start_address:a+c,page_size:_,total_size:y*_}),c+=y*_}return{type:o,start_address:a,sectors:l,total_size:c}};return(await this.getInterfaceDescriptors(0)).map(e).reduce(function(s,i,r){return s[i.type.toLowerCase().replace(" ","_")]=i,s},{})}async loadAddress(e,n=!0){const s=[33,e&255,e>>8&255,e>>16&255,e>>24&255];await this.controlTransferOut(1,0,0,s);const i=await this.controlTransferIn(3,0,0,6);if(i[4]!=4)throw new Error("Failed to request address load");const r=i[1]|i[2]<<8|i[3]<<16;await zi(r);const o=await this.controlTransferIn(3,0,0,6);if(o[4]!=5&&n)throw new Error("Failed to request address load");return o}async unlockOptionBytes(e,n){const s=async()=>{ut.info("flash","Initiate read unprotect"),await this.controlTransferOut(1,0,0,[146]);const o=await this.controlTransferIn(3,0,0,6);if(o[4]!=4)throw new Error("Failed to initiate unprotect memory command");const l=(o[1]|o[2]<<8|o[3]<<16)+2e4;await zi(l);try{const c=await this.controlTransferIn(3,0,0,6);throw ut.info("flash","Failed to execute unprotect memory command"),ut.info("flash",c),new Error("Failed to execute unprotect memory command")}catch{ut.info("flash","Unprotect memory command ran successfully. Unplug flight controller. Connect again in DFU mode and try flashing again.")}},i=async()=>{const o=await this.controlTransferIn(2,2,0,n);return(await this.controlTransferIn(3,0,0,6))[4]==9&&o.length==n?(ut.info("flash","Option bytes read successfully"),ut.info("flash","Chip does not appear read protected"),this.clearStatus()):(ut.info("flash","Option bytes could not be read. Quite possibly read protected."),await this.clearStatus(),s())};await this.clearStatus();const r=await this.loadAddress(e,!1);if(r[4]==10&&r[0]==11)return await this.clearStatus(),s();if(r[4]==5)return ut.info("flash","Address load for option bytes sector succeeded."),await this.clearStatus(),i();throw new Error("Address load failed")}async erasePages(e){const n=[];for(let i=0;i<e.sectors.length;i++)for(let r=0;r<e.sectors[i].num_pages;r++)n.push({sector:i,page:r});if(n.length===0)throw ut.info("flash","Aborting, No flash pages to erase"),new Error("No flash pages to erase");ut.info("flash","Executing local chip erase",n);let s=0;for(const i of n){s++,this.progress("erase",s,n.length);const r=i.page*e.sectors[i.sector].page_size+e.sectors[i.sector].start_address,o=[65,r&255,r>>8&255,r>>16&255,r>>24&255];ut.info("flash","Erasing. sector "+i.sector+", page "+i.page+" @ 0x"+r.toString(16)),await this.controlTransferOut(1,0,0,o);const a=await this.controlTransferIn(3,0,0,6);if(a[4]!=4)throw new Error("Failed to initiate page erase, page 0x"+r.toString(16));const l=a[1]|a[2]<<8|a[3]<<16;await zi(l);const c=await this.controlTransferIn(3,0,0,6);if(c[4]!=5)if(c[4]==4){if(ut.info("flash","erase_page: dfuDNBUSY after timeout, clearing"),await this.clearStatus(),(await this.controlTransferIn(3,0,0,6))[4]!=2)throw new Error("Failed to erase page 0x"+r.toString(16)+" (did not reach dfuIDLE after clearing")}else throw new Error("Failed to erase page 0x"+r.toString(16))}}async upload(e,n){ut.info("flash","Writing data...");const s=e.segment_bytes_total;let i=0;for(const r of e.segments){let o=r.address,a=2,l=0;for(await this.loadAddress(o);l<r.data.length;){let c=n;l+c>r.data.length&&(c=r.data.length-l);const u=r.data.slice(l,l+c);o+=c,l+=c,i+=c,this.progress("write",i,s),this.controlTransferOut(1,a++,0,[...u]);const d=await this.controlTransferIn(3,0,0,6);if(d[4]!=4)throw new Error("Failed to initiate write "+c+"bytes to 0x"+o.toString(16));const f=d[1]|d[2]<<8|d[3]<<16;if(await zi(f),(await this.controlTransferIn(3,0,0,6))[4]!=5)throw new Error("Failed to write "+c+"bytes to 0x"+o.toString(16))}}}async verify(e,n){ut.info("flash","Verifying data...");const s=e.segment_bytes_total;let i=0;for(const r of e.segments){let o=r.address,a=2,l=0;for(await this.clearStatus(),await this.loadAddress(o),await this.clearStatus();l<r.data.length;){let c=n;l+c>r.data.length&&(c=r.data.length-l);const u=await this.controlTransferIn(2,a++,0,c);for(let d=0;d<c;d++)if(u[d]!=r.data[l+d])throw new Error("verify failed");o+=c,l+=c,i+=c,this.progress("verify",i,s)}}}async leave(e){var s;ut.info("flash","Leaving dfu...");const n=((s=e==null?void 0:e.segments[0])==null?void 0:s.address)||134217728;await this.clearStatus(),await this.loadAddress(n);try{await this.controlTransferOut(1,0,0),await this.controlTransferIn(3,0,0,6)}catch(i){ut.warn("Flash","leave failed",i)}}async flash(e){const n=await this.getChipInfo(),s=n.internal_flash||n.external_flash;let i=0;if(n.internal_flash?i=s.total_size:n.external_flash&&(i=s.sectors[2].total_size),e.linear_bytes_total>i)throw new Error("Not Enough flash space "+e.linear_bytes_total+"> "+i);let r=2048;try{r=(await this.getFunctionalDescriptor()).wTransferSize}catch{}await this.clearStatus(),n.internal_flash&&await this.unlockOptionBytes(n.option_bytes.start_address,n.option_bytes.total_size),await this.erasePages(s),await this.upload(e,r),await this.verify(e,r),await zi(500),await this.leave(e)}}const q0e=new Uint8Array([1,0,170,18]),X0e={stm32f411:134266880,stm32f765:134316032,stm32f745:134316032,stm32h743:134348800,stm32f405:134266880,stm32g473:134266880,stm32f722:134266880,at32f435:135200768,at32f435m:135200768};class Gm{constructor(e,n){Z(this,"start_linear_address");Z(this,"start_segment_address");Z(this,"segments",[]);this.start_linear_address=e,this.start_segment_address=n}get linear_bytes_total(){return this.end_address-this.start_address}get segment_bytes_total(){return this.segments.reduce((e,n)=>e+=n.data.length,0)}get start_address(){return this.segments[0].address}get end_address(){return this.segments[this.segments.length-1].address+this.segments[this.segments.length-1].data.length}findSegment(e){for(let n=0;n<this.segments.length;n++)if(this.segments[n].address>=e&&e<=this.segments[n].address+this.segments[n].data.byteLength)return this.segments[n];return this.segments.push({address:e,data:new Uint8Array}),this.segments[this.segments.length-1]}patch(e,n){n=Wd(q0e,n);const s=this.findSegment(e),i=s.address-e,r=i+n.byteLength;s.data.byteLength<r&&(s.data=Wd(s.data,new Uint8Array(r-s.data.byteLength)));for(let o=i;o<r;o++)s.data[o]=n[o-i]}static parse(e){let n=!1,s=0,i=0;const r=new Gm(0,0),o=e.split(/\r?\n/);for(const a of o){if(a.length==0||a=="")continue;const l=parseInt(a.substr(1,2),16),c=parseInt(a.substr(3,4),16),u=parseInt(a.substr(7,2),16),d=a.substr(9,l*2),f=Gm.fromHex(d),h=parseInt(a.substr(9+l*2,2),16);let y=l+(c>>8)+c+u&255;for(let _=0;_<l;_++)y=y+f[_]&255;if(y=256-y&255,h!=y)throw new Error("invalid checksum");switch(u){case 0:{const _=s+c;(i==0||_!=i)&&r.segments.push({address:_,data:new Uint8Array}),i=_+l,r.segments[r.segments.length-1].data=Wd(r.segments[r.segments.length-1].data,f);break}case 1:if(l!=0)throw new Error("invalid END_OF_FILE");n=!0;break;case 2:if(l!=2||c!=0)throw new Error("invalid EXT_SEGMENT_ADDR");s=parseInt(d,16)<<4;break;case 3:if(l!=4||c!=0)throw new Error("invalid START_SEGMENT_ADDR");r.start_segment_address=parseInt(d,16);break;case 4:if(l!=2||c!=0)throw new Error("invalid EXT_SEGMENT_ADDR");s=parseInt(d,16)<<16;break;case 5:if(l!=4||c!=0)throw new Error("invalid START_LINEAR_ADDR");r.start_linear_address=parseInt(d,16);break}}if(!n)throw new Error("no END_OF_FILE record");return r}static fromHex(e){const n=new Uint8Array(Math.ceil(e.length/2));for(let s=0;s<n.length;s++)n[s]=parseInt(e.substr(s*2,2),16);return n}}const K0e=[{vendorId:1155,productId:57105},{vendorId:11836,productId:57105}];class Y0e{constructor(){Z(this,"device");Z(this,"progressCallback")}onProgress(e){this.progressCallback=e}async connect(){this.device=await navigator.usb.requestDevice({filters:K0e})}async flash(e){if(!this.device)return;const n=new W0e(this.device);n.onProgress(s=>{this.progressCallback&&this.progressCallback(s)}),await n.open(),await n.flash(e),await n.close()}}function Qg(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof process=="object"&&process.version!==void 0?`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`:"<environment undetectable>"}function Nw(t,e,n,s){if(typeof n!="function")throw new Error("method for before hook must be a function");return s||(s={}),Array.isArray(e)?e.reverse().reduce((i,r)=>Nw.bind(null,t,r,i,s),n)():Promise.resolve().then(()=>t.registry[e]?t.registry[e].reduce((i,r)=>r.hook.bind(null,i,s),n)():n(s))}function Z0e(t,e,n,s){const i=s;t.registry[n]||(t.registry[n]=[]),e==="before"&&(s=(r,o)=>Promise.resolve().then(i.bind(null,o)).then(r.bind(null,o))),e==="after"&&(s=(r,o)=>{let a;return Promise.resolve().then(r.bind(null,o)).then(l=>(a=l,i(a,o))).then(()=>a)}),e==="error"&&(s=(r,o)=>Promise.resolve().then(r.bind(null,o)).catch(a=>i(a,o))),t.registry[n].push({hook:s,orig:i})}function J0e(t,e,n){if(!t.registry[e])return;const s=t.registry[e].map(i=>i.orig).indexOf(n);s!==-1&&t.registry[e].splice(s,1)}const uA=Function.bind,dA=uA.bind(uA);function Lk(t,e,n){const s=dA(J0e,null).apply(null,n?[e,n]:[e]);t.api={remove:s},t.remove=s,["before","error","after","wrap"].forEach(i=>{const r=n?[e,i,n]:[e,i];t[i]=t.api[i]=dA(Z0e,null).apply(null,r)})}function Q0e(){const t=Symbol("Singular"),e={registry:{}},n=Nw.bind(null,e,t);return Lk(n,e,t),n}function e1e(){const t={registry:{}},e=Nw.bind(null,t);return Lk(e,t),e}const t1e={Singular:Q0e,Collection:e1e};var n1e="0.0.0-development",s1e=`octokit-endpoint.js/${n1e} ${Qg()}`,i1e={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":s1e},mediaType:{format:""}};function r1e(t){return t?Object.keys(t).reduce((e,n)=>(e[n.toLowerCase()]=t[n],e),{}):{}}function o1e(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);if(e===null)return!0;const n=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Function.prototype.call(n)===Function.prototype.call(t)}function Dk(t,e){const n=Object.assign({},t);return Object.keys(e).forEach(s=>{o1e(e[s])?s in t?n[s]=Dk(t[s],e[s]):Object.assign(n,{[s]:e[s]}):Object.assign(n,{[s]:e[s]})}),n}function fA(t){for(const e in t)t[e]===void 0&&delete t[e];return t}function zy(t,e,n){var i;if(typeof e=="string"){let[r,o]=e.split(" ");n=Object.assign(o?{method:r,url:o}:{url:r},n)}else n=Object.assign({},e);n.headers=r1e(n.headers),fA(n),fA(n.headers);const s=Dk(t||{},n);return n.url==="/graphql"&&(t&&((i=t.mediaType.previews)!=null&&i.length)&&(s.mediaType.previews=t.mediaType.previews.filter(r=>!s.mediaType.previews.includes(r)).concat(s.mediaType.previews)),s.mediaType.previews=(s.mediaType.previews||[]).map(r=>r.replace(/-preview/,""))),s}function a1e(t,e){const n=/\?/.test(t)?"&":"?",s=Object.keys(e);return s.length===0?t:t+n+s.map(i=>i==="q"?"q="+e.q.split("+").map(encodeURIComponent).join("+"):`${i}=${encodeURIComponent(e[i])}`).join("&")}var l1e=/\{[^}]+\}/g;function c1e(t){return t.replace(/^\W+|\W+$/g,"").split(/,/)}function u1e(t){const e=t.match(l1e);return e?e.map(c1e).reduce((n,s)=>n.concat(s),[]):[]}function hA(t,e){const n={__proto__:null};for(const s of Object.keys(t))e.indexOf(s)===-1&&(n[s]=t[s]);return n}function Nk(t){return t.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e}).join("")}function pc(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function ud(t,e,n){return e=t==="+"||t==="#"?Nk(e):pc(e),n?pc(n)+"="+e:e}function ql(t){return t!=null}function I0(t){return t===";"||t==="&"||t==="?"}function d1e(t,e,n,s){var i=t[n],r=[];if(ql(i)&&i!=="")if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")i=i.toString(),s&&s!=="*"&&(i=i.substring(0,parseInt(s,10))),r.push(ud(e,i,I0(e)?n:""));else if(s==="*")Array.isArray(i)?i.filter(ql).forEach(function(o){r.push(ud(e,o,I0(e)?n:""))}):Object.keys(i).forEach(function(o){ql(i[o])&&r.push(ud(e,i[o],o))});else{const o=[];Array.isArray(i)?i.filter(ql).forEach(function(a){o.push(ud(e,a))}):Object.keys(i).forEach(function(a){ql(i[a])&&(o.push(pc(a)),o.push(ud(e,i[a].toString())))}),I0(e)?r.push(pc(n)+"="+o.join(",")):o.length!==0&&r.push(o.join(","))}else e===";"?ql(i)&&r.push(pc(n)):i===""&&(e==="&"||e==="?")?r.push(pc(n)+"="):i===""&&r.push("");return r}function f1e(t){return{expand:h1e.bind(null,t)}}function h1e(t,e){var n=["+","#",".","/",";","?","&"];return t=t.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(s,i,r){if(i){let a="";const l=[];if(n.indexOf(i.charAt(0))!==-1&&(a=i.charAt(0),i=i.substr(1)),i.split(/,/g).forEach(function(c){var u=/([^:\*]*)(?::(\d+)|(\*))?/.exec(c);l.push(d1e(e,a,u[1],u[2]||u[3]))}),a&&a!=="+"){var o=",";return a==="?"?o="&":a!=="#"&&(o=a),(l.length!==0?a:"")+l.join(o)}else return l.join(",")}else return Nk(r)}),t==="/"?t:t.replace(/\/$/,"")}function Uk(t){var u;let e=t.method.toUpperCase(),n=(t.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),s=Object.assign({},t.headers),i,r=hA(t,["method","baseUrl","url","headers","request","mediaType"]);const o=u1e(n);n=f1e(n).expand(r),/^http/.test(n)||(n=t.baseUrl+n);const a=Object.keys(t).filter(d=>o.includes(d)).concat("baseUrl"),l=hA(r,a);if(!/application\/octet-stream/i.test(s.accept)&&(t.mediaType.format&&(s.accept=s.accept.split(/,/).map(d=>d.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${t.mediaType.format}`)).join(",")),n.endsWith("/graphql")&&(u=t.mediaType.previews)!=null&&u.length)){const d=s.accept.match(/[\w-]+(?=-preview)/g)||[];s.accept=d.concat(t.mediaType.previews).map(f=>{const h=t.mediaType.format?`.${t.mediaType.format}`:"+json";return`application/vnd.github.${f}-preview${h}`}).join(",")}return["GET","HEAD"].includes(e)?n=a1e(n,l):"data"in l?i=l.data:Object.keys(l).length&&(i=l),!s["content-type"]&&typeof i<"u"&&(s["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(e)&&typeof i>"u"&&(i=""),Object.assign({method:e,url:n,headers:s},typeof i<"u"?{body:i}:null,t.request?{request:t.request}:null)}function p1e(t,e,n){return Uk(zy(t,e,n))}function $k(t,e){const n=zy(t,e),s=p1e.bind(null,n);return Object.assign(s,{DEFAULTS:n,defaults:$k.bind(null,n),merge:zy.bind(null,n),parse:Uk})}var m1e=$k(null,i1e);let Ld=class extends Error{constructor(n,s,i){super(n);Z(this,"name");Z(this,"status");Z(this,"request");Z(this,"response");this.name="HttpError",this.status=Number.parseInt(s),Number.isNaN(this.status)&&(this.status=0),"response"in i&&(this.response=i.response);const r=Object.assign({},i.request);i.request.headers.authorization&&(r.headers=Object.assign({},i.request.headers,{authorization:i.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),r.url=r.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=r}};var g1e="0.0.0-development",_1e={headers:{"user-agent":`octokit-request.js/${g1e} ${Qg()}`}};function y1e(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);if(e===null)return!0;const n=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Function.prototype.call(n)===Function.prototype.call(t)}async function pA(t){var d,f,h,y,_;const e=((d=t.request)==null?void 0:d.fetch)||globalThis.fetch;if(!e)throw new Error("fetch is not set. Please pass a fetch implementation as new Octokit({ request: { fetch }}). Learn more at https://github.com/octokit/octokit.js/#fetch-missing");const n=((f=t.request)==null?void 0:f.log)||console,s=((h=t.request)==null?void 0:h.parseSuccessResponseBody)!==!1,i=y1e(t.body)||Array.isArray(t.body)?JSON.stringify(t.body):t.body,r=Object.fromEntries(Object.entries(t.headers).map(([p,g])=>[p,String(g)]));let o;try{o=await e(t.url,{method:t.method,body:i,redirect:(y=t.request)==null?void 0:y.redirect,headers:r,signal:(_=t.request)==null?void 0:_.signal,...t.body&&{duplex:"half"}})}catch(p){let g="Unknown Error";if(p instanceof Error){if(p.name==="AbortError")throw p.status=500,p;g=p.message,p.name==="TypeError"&&"cause"in p&&(p.cause instanceof Error?g=p.cause.message:typeof p.cause=="string"&&(g=p.cause))}const b=new Ld(g,500,{request:t});throw b.cause=p,b}const a=o.status,l=o.url,c={};for(const[p,g]of o.headers)c[p]=g;const u={url:l,status:a,headers:c,data:""};if("deprecation"in c){const p=c.link&&c.link.match(/<([^>]+)>; rel="deprecation"/),g=p&&p.pop();n.warn(`[@octokit/request] "${t.method} ${t.url}" is deprecated. It is scheduled to be removed on ${c.sunset}${g?`. See ${g}`:""}`)}if(a===204||a===205)return u;if(t.method==="HEAD"){if(a<400)return u;throw new Ld(o.statusText,a,{response:u,request:t})}if(a===304)throw u.data=await O0(o),new Ld("Not modified",a,{response:u,request:t});if(a>=400)throw u.data=await O0(o),new Ld(b1e(u.data),a,{response:u,request:t});return u.data=s?await O0(o):o.body,u}async function O0(t){const e=t.headers.get("content-type");return/application\/json/.test(e)?t.json().catch(()=>t.text()).catch(()=>""):!e||/^text\/|charset=utf-8$/.test(e)?t.text():t.arrayBuffer()}function b1e(t){if(typeof t=="string")return t;if(t instanceof ArrayBuffer)return"Unknown error";if("message"in t){const e="documentation_url"in t?` - ${t.documentation_url}`:"";return Array.isArray(t.errors)?`${t.message}: ${t.errors.map(n=>JSON.stringify(n)).join(", ")}${e}`:`${t.message}${e}`}return`Unknown error: ${JSON.stringify(t)}`}function Vy(t,e){const n=t.defaults(e);return Object.assign(function(i,r){const o=n.merge(i,r);if(!o.request||!o.request.hook)return pA(n.parse(o));const a=(l,c)=>pA(n.parse(n.merge(l,c)));return Object.assign(a,{endpoint:n,defaults:Vy.bind(null,n)}),o.request.hook(a,o)},{endpoint:n,defaults:Vy.bind(null,n)})}var jy=Vy(m1e,_1e),v1e="0.0.0-development";function w1e(t){return`Request failed due to following response errors:
`+t.errors.map(e=>` - ${e.message}`).join(`
`)}var x1e=class extends Error{constructor(n,s,i){super(w1e(i));Z(this,"name","GraphqlResponseError");Z(this,"errors");Z(this,"data");this.request=n,this.headers=s,this.response=i,this.errors=i.errors,this.data=i.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},E1e=["method","baseUrl","url","headers","request","query","mediaType"],S1e=["query","method","url"],mA=/\/api\/v3\/?$/;function T1e(t,e,n){if(n){if(typeof e=="string"&&"query"in n)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const o in n)if(S1e.includes(o))return Promise.reject(new Error(`[@octokit/graphql] "${o}" cannot be used as variable name`))}const s=typeof e=="string"?Object.assign({query:e},n):e,i=Object.keys(s).reduce((o,a)=>E1e.includes(a)?(o[a]=s[a],o):(o.variables||(o.variables={}),o.variables[a]=s[a],o),{}),r=s.baseUrl||t.endpoint.DEFAULTS.baseUrl;return mA.test(r)&&(i.url=r.replace(mA,"/api/graphql")),t(i).then(o=>{if(o.data.errors){const a={};for(const l of Object.keys(o.headers))a[l]=o.headers[l];throw new x1e(i,a,o.data)}return o.data.data})}function Uw(t,e){const n=t.defaults(e);return Object.assign((i,r)=>T1e(n,i,r),{defaults:Uw.bind(null,n),endpoint:n.endpoint})}Uw(jy,{headers:{"user-agent":`octokit-graphql.js/${v1e} ${Qg()}`},method:"POST",url:"/graphql"});function A1e(t){return Uw(t,{method:"POST",url:"/graphql"})}var M1e=/^v1\./,R1e=/^ghs_/,C1e=/^ghu_/;async function k1e(t){const e=t.split(/\./).length===3,n=M1e.test(t)||R1e.test(t),s=C1e.test(t);return{type:"token",token:t,tokenType:e?"app":n?"installation":s?"user-to-server":"oauth"}}function P1e(t){return t.split(/\./).length===3?`bearer ${t}`:`token ${t}`}async function I1e(t,e,n,s){const i=e.endpoint.merge(n,s);return i.headers.authorization=P1e(t),e(i)}var O1e=function(e){if(!e)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof e!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return e=e.replace(/^(token|bearer) +/i,""),Object.assign(k1e.bind(null,e),{hook:I1e.bind(null,e)})};const Fk="6.1.2",gA=()=>{},L1e=console.warn.bind(console),D1e=console.error.bind(console),_A=`octokit-core.js/${Fk} ${Qg()}`;var Ap;let N1e=(Ap=class{constructor(e={}){Z(this,"request");Z(this,"graphql");Z(this,"log");Z(this,"hook");Z(this,"auth");const n=new t1e.Collection,s={baseUrl:jy.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},e.request,{hook:n.bind(null,"request")}),mediaType:{previews:[],format:""}};if(s.headers["user-agent"]=e.userAgent?`${e.userAgent} ${_A}`:_A,e.baseUrl&&(s.baseUrl=e.baseUrl),e.previews&&(s.mediaType.previews=e.previews),e.timeZone&&(s.headers["time-zone"]=e.timeZone),this.request=jy.defaults(s),this.graphql=A1e(this.request).defaults(s),this.log=Object.assign({debug:gA,info:gA,warn:L1e,error:D1e},e.log),this.hook=n,e.authStrategy){const{authStrategy:r,...o}=e,a=r(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:o},e.auth));n.wrap("request",a.hook),this.auth=a}else if(!e.auth)this.auth=async()=>({type:"unauthenticated"});else{const r=O1e(e.auth);n.wrap("request",r.hook),this.auth=r}const i=this.constructor;for(let r=0;r<i.plugins.length;++r)Object.assign(this,i.plugins[r](this,e))}static defaults(e){return class extends this{constructor(...s){const i=s[0]||{};if(typeof e=="function"){super(e(i));return}super(Object.assign({},e,i,i.userAgent&&e.userAgent?{userAgent:`${i.userAgent} ${e.userAgent}`}:null))}}}static plugin(...e){var i;const n=this.plugins;return i=class extends this{},Z(i,"plugins",n.concat(e.filter(r=>!n.includes(r)))),i}},Z(Ap,"VERSION",Fk),Z(Ap,"plugins",[]),Ap);var U1e="11.3.1";function $1e(t){if(!t.data)return{...t,data:[]};if(!("total_count"in t.data&&!("url"in t.data)))return t;const n=t.data.incomplete_results,s=t.data.repository_selection,i=t.data.total_count;delete t.data.incomplete_results,delete t.data.repository_selection,delete t.data.total_count;const r=Object.keys(t.data)[0],o=t.data[r];return t.data=o,typeof n<"u"&&(t.data.incomplete_results=n),typeof s<"u"&&(t.data.repository_selection=s),t.data.total_count=i,t}function $w(t,e,n){const s=typeof e=="function"?e.endpoint(n):t.request.endpoint(e,n),i=typeof e=="function"?e:t.request,r=s.method,o=s.headers;let a=s.url;return{[Symbol.asyncIterator]:()=>({async next(){if(!a)return{done:!0};try{const l=await i({method:r,url:a,headers:o}),c=$1e(l);return a=((c.headers.link||"").match(/<([^>]+)>;\s*rel="next"/)||[])[1],{value:c}}catch(l){if(l.status!==409)throw l;return a="",{value:{status:200,headers:{},data:[]}}}}})}}function Bk(t,e,n,s){return typeof n=="function"&&(s=n,n=void 0),Hk(t,[],$w(t,e,n)[Symbol.asyncIterator](),s)}function Hk(t,e,n,s){return n.next().then(i=>{if(i.done)return e;let r=!1;function o(){r=!0}return e=e.concat(s?s(i.value,o):i.value.data),r?e:Hk(t,e,n,s)})}var Gk=Object.assign(Bk,{iterator:$w});function zk(t){return{paginate:Object.assign(Bk.bind(null,t),{iterator:$w.bind(null,t)})}}zk.VERSION=U1e;var F1e=(t,e)=>`The cursor at "${t.join(",")}" did not change its value "${e}" after a page transition. Please make sure your that your query is set up correctly.`,B1e=class extends Error{constructor(e,n){super(F1e(e.pathInQuery,n));Z(this,"name","MissingCursorChangeError");this.pageInfo=e,this.cursorValue=n,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},H1e=class extends Error{constructor(e){super(`No pageInfo property found in response. Please make sure to specify the pageInfo in your query. Response-Data: ${JSON.stringify(e,null,2)}`);Z(this,"name","MissingPageInfo");this.response=e,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},G1e=t=>Object.prototype.toString.call(t)==="[object Object]";function Vk(t){const e=jk(t,"pageInfo");if(e.length===0)throw new H1e(t);return e}var jk=(t,e,n=[])=>{for(const s of Object.keys(t)){const i=[...n,s],r=t[s];if(r.hasOwnProperty(e))return i;if(G1e(r)){const o=jk(r,e,i);if(o.length>0)return o}}return[]},tf=(t,e)=>e.reduce((n,s)=>n[s],t),L0=(t,e,n)=>{const s=e[e.length-1],i=[...e].slice(0,-1),r=tf(t,i);typeof n=="function"?r[s]=n(r[s]):r[s]=n},z1e=t=>{const e=Vk(t);return{pathInQuery:e,pageInfo:tf(t,[...e,"pageInfo"])}},Wk=t=>t.hasOwnProperty("hasNextPage"),V1e=t=>Wk(t)?t.endCursor:t.startCursor,j1e=t=>Wk(t)?t.hasNextPage:t.hasPreviousPage,qk=t=>(e,n={})=>{let s=!0,i={...n};return{[Symbol.asyncIterator]:()=>({async next(){if(!s)return{done:!0,value:{}};const r=await t.graphql(e,i),o=z1e(r),a=V1e(o.pageInfo);if(s=j1e(o.pageInfo),s&&a===i.cursor)throw new B1e(o,a);return i={...i,cursor:a},{done:!1,value:r}}})}},W1e=(t,e)=>{if(Object.keys(t).length===0)return Object.assign(t,e);const n=Vk(t),s=[...n,"nodes"],i=tf(e,s);i&&L0(t,s,l=>[...l,...i]);const r=[...n,"edges"],o=tf(e,r);o&&L0(t,r,l=>[...l,...o]);const a=[...n,"pageInfo"];return L0(t,a,tf(e,a)),t},q1e=t=>{const e=qk(t);return async(n,s={})=>{let i={};for await(const r of e(n,s))i=W1e(i,r);return i}};function X1e(t){return{graphql:Object.assign(t.graphql,{paginate:Object.assign(q1e(t),{iterator:qk(t)})})}}var K1e="13.2.2",Y1e={actions:{addCustomLabelsToSelfHostedRunnerForOrg:["POST /orgs/{org}/actions/runners/{runner_id}/labels"],addCustomLabelsToSelfHostedRunnerForRepo:["POST /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],addSelectedRepoToOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],addSelectedRepoToOrgVariable:["PUT /orgs/{org}/actions/variables/{name}/repositories/{repository_id}"],approveWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/approve"],cancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/cancel"],createEnvironmentVariable:["POST /repos/{owner}/{repo}/environments/{environment_name}/variables"],createOrUpdateEnvironmentSecret:["PUT /repos/{owner}/{repo}/environments/{environment_name}/secrets/{secret_name}"],createOrUpdateOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/actions/secrets/{secret_name}"],createOrgVariable:["POST /orgs/{org}/actions/variables"],createRegistrationTokenForOrg:["POST /orgs/{org}/actions/runners/registration-token"],createRegistrationTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/registration-token"],createRemoveTokenForOrg:["POST /orgs/{org}/actions/runners/remove-token"],createRemoveTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/remove-token"],createRepoVariable:["POST /repos/{owner}/{repo}/actions/variables"],createWorkflowDispatch:["POST /repos/{owner}/{repo}/actions/workflows/{workflow_id}/dispatches"],deleteActionsCacheById:["DELETE /repos/{owner}/{repo}/actions/caches/{cache_id}"],deleteActionsCacheByKey:["DELETE /repos/{owner}/{repo}/actions/caches{?key,ref}"],deleteArtifact:["DELETE /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],deleteEnvironmentSecret:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/secrets/{secret_name}"],deleteEnvironmentVariable:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/variables/{name}"],deleteOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}"],deleteOrgVariable:["DELETE /orgs/{org}/actions/variables/{name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/actions/secrets/{secret_name}"],deleteRepoVariable:["DELETE /repos/{owner}/{repo}/actions/variables/{name}"],deleteSelfHostedRunnerFromOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}"],deleteSelfHostedRunnerFromRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}"],deleteWorkflowRun:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}"],deleteWorkflowRunLogs:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],disableSelectedRepositoryGithubActionsOrganization:["DELETE /orgs/{org}/actions/permissions/repositories/{repository_id}"],disableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/disable"],downloadArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}/{archive_format}"],downloadJobLogsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}/logs"],downloadWorkflowRunAttemptLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/logs"],downloadWorkflowRunLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],enableSelectedRepositoryGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories/{repository_id}"],enableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/enable"],forceCancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/force-cancel"],generateRunnerJitconfigForOrg:["POST /orgs/{org}/actions/runners/generate-jitconfig"],generateRunnerJitconfigForRepo:["POST /repos/{owner}/{repo}/actions/runners/generate-jitconfig"],getActionsCacheList:["GET /repos/{owner}/{repo}/actions/caches"],getActionsCacheUsage:["GET /repos/{owner}/{repo}/actions/cache/usage"],getActionsCacheUsageByRepoForOrg:["GET /orgs/{org}/actions/cache/usage-by-repository"],getActionsCacheUsageForOrg:["GET /orgs/{org}/actions/cache/usage"],getAllowedActionsOrganization:["GET /orgs/{org}/actions/permissions/selected-actions"],getAllowedActionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/selected-actions"],getArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],getCustomOidcSubClaimForRepo:["GET /repos/{owner}/{repo}/actions/oidc/customization/sub"],getEnvironmentPublicKey:["GET /repos/{owner}/{repo}/environments/{environment_name}/secrets/public-key"],getEnvironmentSecret:["GET /repos/{owner}/{repo}/environments/{environment_name}/secrets/{secret_name}"],getEnvironmentVariable:["GET /repos/{owner}/{repo}/environments/{environment_name}/variables/{name}"],getGithubActionsDefaultWorkflowPermissionsOrganization:["GET /orgs/{org}/actions/permissions/workflow"],getGithubActionsDefaultWorkflowPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/workflow"],getGithubActionsPermissionsOrganization:["GET /orgs/{org}/actions/permissions"],getGithubActionsPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions"],getJobForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}"],getOrgPublicKey:["GET /orgs/{org}/actions/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}"],getOrgVariable:["GET /orgs/{org}/actions/variables/{name}"],getPendingDeploymentsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],getRepoPermissions:["GET /repos/{owner}/{repo}/actions/permissions",{},{renamed:["actions","getGithubActionsPermissionsRepository"]}],getRepoPublicKey:["GET /repos/{owner}/{repo}/actions/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/actions/secrets/{secret_name}"],getRepoVariable:["GET /repos/{owner}/{repo}/actions/variables/{name}"],getReviewsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/approvals"],getSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}"],getSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}"],getWorkflow:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}"],getWorkflowAccessToRepository:["GET /repos/{owner}/{repo}/actions/permissions/access"],getWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}"],getWorkflowRunAttempt:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}"],getWorkflowRunUsage:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/timing"],getWorkflowUsage:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/timing"],listArtifactsForRepo:["GET /repos/{owner}/{repo}/actions/artifacts"],listEnvironmentSecrets:["GET /repos/{owner}/{repo}/environments/{environment_name}/secrets"],listEnvironmentVariables:["GET /repos/{owner}/{repo}/environments/{environment_name}/variables"],listJobsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs"],listJobsForWorkflowRunAttempt:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/jobs"],listLabelsForSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}/labels"],listLabelsForSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],listOrgSecrets:["GET /orgs/{org}/actions/secrets"],listOrgVariables:["GET /orgs/{org}/actions/variables"],listRepoOrganizationSecrets:["GET /repos/{owner}/{repo}/actions/organization-secrets"],listRepoOrganizationVariables:["GET /repos/{owner}/{repo}/actions/organization-variables"],listRepoSecrets:["GET /repos/{owner}/{repo}/actions/secrets"],listRepoVariables:["GET /repos/{owner}/{repo}/actions/variables"],listRepoWorkflows:["GET /repos/{owner}/{repo}/actions/workflows"],listRunnerApplicationsForOrg:["GET /orgs/{org}/actions/runners/downloads"],listRunnerApplicationsForRepo:["GET /repos/{owner}/{repo}/actions/runners/downloads"],listSelectedReposForOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}/repositories"],listSelectedReposForOrgVariable:["GET /orgs/{org}/actions/variables/{name}/repositories"],listSelectedRepositoriesEnabledGithubActionsOrganization:["GET /orgs/{org}/actions/permissions/repositories"],listSelfHostedRunnersForOrg:["GET /orgs/{org}/actions/runners"],listSelfHostedRunnersForRepo:["GET /repos/{owner}/{repo}/actions/runners"],listWorkflowRunArtifacts:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts"],listWorkflowRuns:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs"],listWorkflowRunsForRepo:["GET /repos/{owner}/{repo}/actions/runs"],reRunJobForWorkflowRun:["POST /repos/{owner}/{repo}/actions/jobs/{job_id}/rerun"],reRunWorkflow:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun"],reRunWorkflowFailedJobs:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun-failed-jobs"],removeAllCustomLabelsFromSelfHostedRunnerForOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}/labels"],removeAllCustomLabelsFromSelfHostedRunnerForRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],removeCustomLabelFromSelfHostedRunnerForOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}/labels/{name}"],removeCustomLabelFromSelfHostedRunnerForRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}/labels/{name}"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],removeSelectedRepoFromOrgVariable:["DELETE /orgs/{org}/actions/variables/{name}/repositories/{repository_id}"],reviewCustomGatesForRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/deployment_protection_rule"],reviewPendingDeploymentsForRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],setAllowedActionsOrganization:["PUT /orgs/{org}/actions/permissions/selected-actions"],setAllowedActionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/selected-actions"],setCustomLabelsForSelfHostedRunnerForOrg:["PUT /orgs/{org}/actions/runners/{runner_id}/labels"],setCustomLabelsForSelfHostedRunnerForRepo:["PUT /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],setCustomOidcSubClaimForRepo:["PUT /repos/{owner}/{repo}/actions/oidc/customization/sub"],setGithubActionsDefaultWorkflowPermissionsOrganization:["PUT /orgs/{org}/actions/permissions/workflow"],setGithubActionsDefaultWorkflowPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/workflow"],setGithubActionsPermissionsOrganization:["PUT /orgs/{org}/actions/permissions"],setGithubActionsPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories"],setSelectedReposForOrgVariable:["PUT /orgs/{org}/actions/variables/{name}/repositories"],setSelectedRepositoriesEnabledGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories"],setWorkflowAccessToRepository:["PUT /repos/{owner}/{repo}/actions/permissions/access"],updateEnvironmentVariable:["PATCH /repos/{owner}/{repo}/environments/{environment_name}/variables/{name}"],updateOrgVariable:["PATCH /orgs/{org}/actions/variables/{name}"],updateRepoVariable:["PATCH /repos/{owner}/{repo}/actions/variables/{name}"]},activity:{checkRepoIsStarredByAuthenticatedUser:["GET /user/starred/{owner}/{repo}"],deleteRepoSubscription:["DELETE /repos/{owner}/{repo}/subscription"],deleteThreadSubscription:["DELETE /notifications/threads/{thread_id}/subscription"],getFeeds:["GET /feeds"],getRepoSubscription:["GET /repos/{owner}/{repo}/subscription"],getThread:["GET /notifications/threads/{thread_id}"],getThreadSubscriptionForAuthenticatedUser:["GET /notifications/threads/{thread_id}/subscription"],listEventsForAuthenticatedUser:["GET /users/{username}/events"],listNotificationsForAuthenticatedUser:["GET /notifications"],listOrgEventsForAuthenticatedUser:["GET /users/{username}/events/orgs/{org}"],listPublicEvents:["GET /events"],listPublicEventsForRepoNetwork:["GET /networks/{owner}/{repo}/events"],listPublicEventsForUser:["GET /users/{username}/events/public"],listPublicOrgEvents:["GET /orgs/{org}/events"],listReceivedEventsForUser:["GET /users/{username}/received_events"],listReceivedPublicEventsForUser:["GET /users/{username}/received_events/public"],listRepoEvents:["GET /repos/{owner}/{repo}/events"],listRepoNotificationsForAuthenticatedUser:["GET /repos/{owner}/{repo}/notifications"],listReposStarredByAuthenticatedUser:["GET /user/starred"],listReposStarredByUser:["GET /users/{username}/starred"],listReposWatchedByUser:["GET /users/{username}/subscriptions"],listStargazersForRepo:["GET /repos/{owner}/{repo}/stargazers"],listWatchedReposForAuthenticatedUser:["GET /user/subscriptions"],listWatchersForRepo:["GET /repos/{owner}/{repo}/subscribers"],markNotificationsAsRead:["PUT /notifications"],markRepoNotificationsAsRead:["PUT /repos/{owner}/{repo}/notifications"],markThreadAsDone:["DELETE /notifications/threads/{thread_id}"],markThreadAsRead:["PATCH /notifications/threads/{thread_id}"],setRepoSubscription:["PUT /repos/{owner}/{repo}/subscription"],setThreadSubscription:["PUT /notifications/threads/{thread_id}/subscription"],starRepoForAuthenticatedUser:["PUT /user/starred/{owner}/{repo}"],unstarRepoForAuthenticatedUser:["DELETE /user/starred/{owner}/{repo}"]},apps:{addRepoToInstallation:["PUT /user/installations/{installation_id}/repositories/{repository_id}",{},{renamed:["apps","addRepoToInstallationForAuthenticatedUser"]}],addRepoToInstallationForAuthenticatedUser:["PUT /user/installations/{installation_id}/repositories/{repository_id}"],checkToken:["POST /applications/{client_id}/token"],createFromManifest:["POST /app-manifests/{code}/conversions"],createInstallationAccessToken:["POST /app/installations/{installation_id}/access_tokens"],deleteAuthorization:["DELETE /applications/{client_id}/grant"],deleteInstallation:["DELETE /app/installations/{installation_id}"],deleteToken:["DELETE /applications/{client_id}/token"],getAuthenticated:["GET /app"],getBySlug:["GET /apps/{app_slug}"],getInstallation:["GET /app/installations/{installation_id}"],getOrgInstallation:["GET /orgs/{org}/installation"],getRepoInstallation:["GET /repos/{owner}/{repo}/installation"],getSubscriptionPlanForAccount:["GET /marketplace_listing/accounts/{account_id}"],getSubscriptionPlanForAccountStubbed:["GET /marketplace_listing/stubbed/accounts/{account_id}"],getUserInstallation:["GET /users/{username}/installation"],getWebhookConfigForApp:["GET /app/hook/config"],getWebhookDelivery:["GET /app/hook/deliveries/{delivery_id}"],listAccountsForPlan:["GET /marketplace_listing/plans/{plan_id}/accounts"],listAccountsForPlanStubbed:["GET /marketplace_listing/stubbed/plans/{plan_id}/accounts"],listInstallationReposForAuthenticatedUser:["GET /user/installations/{installation_id}/repositories"],listInstallationRequestsForAuthenticatedApp:["GET /app/installation-requests"],listInstallations:["GET /app/installations"],listInstallationsForAuthenticatedUser:["GET /user/installations"],listPlans:["GET /marketplace_listing/plans"],listPlansStubbed:["GET /marketplace_listing/stubbed/plans"],listReposAccessibleToInstallation:["GET /installation/repositories"],listSubscriptionsForAuthenticatedUser:["GET /user/marketplace_purchases"],listSubscriptionsForAuthenticatedUserStubbed:["GET /user/marketplace_purchases/stubbed"],listWebhookDeliveries:["GET /app/hook/deliveries"],redeliverWebhookDelivery:["POST /app/hook/deliveries/{delivery_id}/attempts"],removeRepoFromInstallation:["DELETE /user/installations/{installation_id}/repositories/{repository_id}",{},{renamed:["apps","removeRepoFromInstallationForAuthenticatedUser"]}],removeRepoFromInstallationForAuthenticatedUser:["DELETE /user/installations/{installation_id}/repositories/{repository_id}"],resetToken:["PATCH /applications/{client_id}/token"],revokeInstallationAccessToken:["DELETE /installation/token"],scopeToken:["POST /applications/{client_id}/token/scoped"],suspendInstallation:["PUT /app/installations/{installation_id}/suspended"],unsuspendInstallation:["DELETE /app/installations/{installation_id}/suspended"],updateWebhookConfigForApp:["PATCH /app/hook/config"]},billing:{getGithubActionsBillingOrg:["GET /orgs/{org}/settings/billing/actions"],getGithubActionsBillingUser:["GET /users/{username}/settings/billing/actions"],getGithubPackagesBillingOrg:["GET /orgs/{org}/settings/billing/packages"],getGithubPackagesBillingUser:["GET /users/{username}/settings/billing/packages"],getSharedStorageBillingOrg:["GET /orgs/{org}/settings/billing/shared-storage"],getSharedStorageBillingUser:["GET /users/{username}/settings/billing/shared-storage"]},checks:{create:["POST /repos/{owner}/{repo}/check-runs"],createSuite:["POST /repos/{owner}/{repo}/check-suites"],get:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}"],getSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}"],listAnnotations:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations"],listForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-runs"],listForSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs"],listSuitesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-suites"],rerequestRun:["POST /repos/{owner}/{repo}/check-runs/{check_run_id}/rerequest"],rerequestSuite:["POST /repos/{owner}/{repo}/check-suites/{check_suite_id}/rerequest"],setSuitesPreferences:["PATCH /repos/{owner}/{repo}/check-suites/preferences"],update:["PATCH /repos/{owner}/{repo}/check-runs/{check_run_id}"]},codeScanning:{deleteAnalysis:["DELETE /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}{?confirm_delete}"],getAlert:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}",{},{renamedParameters:{alert_id:"alert_number"}}],getAnalysis:["GET /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}"],getCodeqlDatabase:["GET /repos/{owner}/{repo}/code-scanning/codeql/databases/{language}"],getDefaultSetup:["GET /repos/{owner}/{repo}/code-scanning/default-setup"],getSarif:["GET /repos/{owner}/{repo}/code-scanning/sarifs/{sarif_id}"],listAlertInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances"],listAlertsForOrg:["GET /orgs/{org}/code-scanning/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/code-scanning/alerts"],listAlertsInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances",{},{renamed:["codeScanning","listAlertInstances"]}],listCodeqlDatabases:["GET /repos/{owner}/{repo}/code-scanning/codeql/databases"],listRecentAnalyses:["GET /repos/{owner}/{repo}/code-scanning/analyses"],updateAlert:["PATCH /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}"],updateDefaultSetup:["PATCH /repos/{owner}/{repo}/code-scanning/default-setup"],uploadSarif:["POST /repos/{owner}/{repo}/code-scanning/sarifs"]},codesOfConduct:{getAllCodesOfConduct:["GET /codes_of_conduct"],getConductCode:["GET /codes_of_conduct/{key}"]},codespaces:{addRepositoryForSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}/repositories/{repository_id}"],addSelectedRepoToOrgSecret:["PUT /orgs/{org}/codespaces/secrets/{secret_name}/repositories/{repository_id}"],checkPermissionsForDevcontainer:["GET /repos/{owner}/{repo}/codespaces/permissions_check"],codespaceMachinesForAuthenticatedUser:["GET /user/codespaces/{codespace_name}/machines"],createForAuthenticatedUser:["POST /user/codespaces"],createOrUpdateOrgSecret:["PUT /orgs/{org}/codespaces/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],createOrUpdateSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}"],createWithPrForAuthenticatedUser:["POST /repos/{owner}/{repo}/pulls/{pull_number}/codespaces"],createWithRepoForAuthenticatedUser:["POST /repos/{owner}/{repo}/codespaces"],deleteForAuthenticatedUser:["DELETE /user/codespaces/{codespace_name}"],deleteFromOrganization:["DELETE /orgs/{org}/members/{username}/codespaces/{codespace_name}"],deleteOrgSecret:["DELETE /orgs/{org}/codespaces/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],deleteSecretForAuthenticatedUser:["DELETE /user/codespaces/secrets/{secret_name}"],exportForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/exports"],getCodespacesForUserInOrg:["GET /orgs/{org}/members/{username}/codespaces"],getExportDetailsForAuthenticatedUser:["GET /user/codespaces/{codespace_name}/exports/{export_id}"],getForAuthenticatedUser:["GET /user/codespaces/{codespace_name}"],getOrgPublicKey:["GET /orgs/{org}/codespaces/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/codespaces/secrets/{secret_name}"],getPublicKeyForAuthenticatedUser:["GET /user/codespaces/secrets/public-key"],getRepoPublicKey:["GET /repos/{owner}/{repo}/codespaces/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],getSecretForAuthenticatedUser:["GET /user/codespaces/secrets/{secret_name}"],listDevcontainersInRepositoryForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/devcontainers"],listForAuthenticatedUser:["GET /user/codespaces"],listInOrganization:["GET /orgs/{org}/codespaces",{},{renamedParameters:{org_id:"org"}}],listInRepositoryForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces"],listOrgSecrets:["GET /orgs/{org}/codespaces/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/codespaces/secrets"],listRepositoriesForSecretForAuthenticatedUser:["GET /user/codespaces/secrets/{secret_name}/repositories"],listSecretsForAuthenticatedUser:["GET /user/codespaces/secrets"],listSelectedReposForOrgSecret:["GET /orgs/{org}/codespaces/secrets/{secret_name}/repositories"],preFlightWithRepoForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/new"],publishForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/publish"],removeRepositoryForSecretForAuthenticatedUser:["DELETE /user/codespaces/secrets/{secret_name}/repositories/{repository_id}"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/codespaces/secrets/{secret_name}/repositories/{repository_id}"],repoMachinesForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/machines"],setRepositoriesForSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}/repositories"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/codespaces/secrets/{secret_name}/repositories"],startForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/start"],stopForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/stop"],stopInOrganization:["POST /orgs/{org}/members/{username}/codespaces/{codespace_name}/stop"],updateForAuthenticatedUser:["PATCH /user/codespaces/{codespace_name}"]},copilot:{addCopilotSeatsForTeams:["POST /orgs/{org}/copilot/billing/selected_teams"],addCopilotSeatsForUsers:["POST /orgs/{org}/copilot/billing/selected_users"],cancelCopilotSeatAssignmentForTeams:["DELETE /orgs/{org}/copilot/billing/selected_teams"],cancelCopilotSeatAssignmentForUsers:["DELETE /orgs/{org}/copilot/billing/selected_users"],getCopilotOrganizationDetails:["GET /orgs/{org}/copilot/billing"],getCopilotSeatDetailsForUser:["GET /orgs/{org}/members/{username}/copilot"],listCopilotSeats:["GET /orgs/{org}/copilot/billing/seats"],usageMetricsForEnterprise:["GET /enterprises/{enterprise}/copilot/usage"],usageMetricsForOrg:["GET /orgs/{org}/copilot/usage"],usageMetricsForTeam:["GET /orgs/{org}/team/{team_slug}/copilot/usage"]},dependabot:{addSelectedRepoToOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}/repositories/{repository_id}"],createOrUpdateOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],deleteOrgSecret:["DELETE /orgs/{org}/dependabot/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],getAlert:["GET /repos/{owner}/{repo}/dependabot/alerts/{alert_number}"],getOrgPublicKey:["GET /orgs/{org}/dependabot/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/dependabot/secrets/{secret_name}"],getRepoPublicKey:["GET /repos/{owner}/{repo}/dependabot/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],listAlertsForEnterprise:["GET /enterprises/{enterprise}/dependabot/alerts"],listAlertsForOrg:["GET /orgs/{org}/dependabot/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/dependabot/alerts"],listOrgSecrets:["GET /orgs/{org}/dependabot/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/dependabot/secrets"],listSelectedReposForOrgSecret:["GET /orgs/{org}/dependabot/secrets/{secret_name}/repositories"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/dependabot/secrets/{secret_name}/repositories/{repository_id}"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}/repositories"],updateAlert:["PATCH /repos/{owner}/{repo}/dependabot/alerts/{alert_number}"]},dependencyGraph:{createRepositorySnapshot:["POST /repos/{owner}/{repo}/dependency-graph/snapshots"],diffRange:["GET /repos/{owner}/{repo}/dependency-graph/compare/{basehead}"],exportSbom:["GET /repos/{owner}/{repo}/dependency-graph/sbom"]},emojis:{get:["GET /emojis"]},gists:{checkIsStarred:["GET /gists/{gist_id}/star"],create:["POST /gists"],createComment:["POST /gists/{gist_id}/comments"],delete:["DELETE /gists/{gist_id}"],deleteComment:["DELETE /gists/{gist_id}/comments/{comment_id}"],fork:["POST /gists/{gist_id}/forks"],get:["GET /gists/{gist_id}"],getComment:["GET /gists/{gist_id}/comments/{comment_id}"],getRevision:["GET /gists/{gist_id}/{sha}"],list:["GET /gists"],listComments:["GET /gists/{gist_id}/comments"],listCommits:["GET /gists/{gist_id}/commits"],listForUser:["GET /users/{username}/gists"],listForks:["GET /gists/{gist_id}/forks"],listPublic:["GET /gists/public"],listStarred:["GET /gists/starred"],star:["PUT /gists/{gist_id}/star"],unstar:["DELETE /gists/{gist_id}/star"],update:["PATCH /gists/{gist_id}"],updateComment:["PATCH /gists/{gist_id}/comments/{comment_id}"]},git:{createBlob:["POST /repos/{owner}/{repo}/git/blobs"],createCommit:["POST /repos/{owner}/{repo}/git/commits"],createRef:["POST /repos/{owner}/{repo}/git/refs"],createTag:["POST /repos/{owner}/{repo}/git/tags"],createTree:["POST /repos/{owner}/{repo}/git/trees"],deleteRef:["DELETE /repos/{owner}/{repo}/git/refs/{ref}"],getBlob:["GET /repos/{owner}/{repo}/git/blobs/{file_sha}"],getCommit:["GET /repos/{owner}/{repo}/git/commits/{commit_sha}"],getRef:["GET /repos/{owner}/{repo}/git/ref/{ref}"],getTag:["GET /repos/{owner}/{repo}/git/tags/{tag_sha}"],getTree:["GET /repos/{owner}/{repo}/git/trees/{tree_sha}"],listMatchingRefs:["GET /repos/{owner}/{repo}/git/matching-refs/{ref}"],updateRef:["PATCH /repos/{owner}/{repo}/git/refs/{ref}"]},gitignore:{getAllTemplates:["GET /gitignore/templates"],getTemplate:["GET /gitignore/templates/{name}"]},interactions:{getRestrictionsForAuthenticatedUser:["GET /user/interaction-limits"],getRestrictionsForOrg:["GET /orgs/{org}/interaction-limits"],getRestrictionsForRepo:["GET /repos/{owner}/{repo}/interaction-limits"],getRestrictionsForYourPublicRepos:["GET /user/interaction-limits",{},{renamed:["interactions","getRestrictionsForAuthenticatedUser"]}],removeRestrictionsForAuthenticatedUser:["DELETE /user/interaction-limits"],removeRestrictionsForOrg:["DELETE /orgs/{org}/interaction-limits"],removeRestrictionsForRepo:["DELETE /repos/{owner}/{repo}/interaction-limits"],removeRestrictionsForYourPublicRepos:["DELETE /user/interaction-limits",{},{renamed:["interactions","removeRestrictionsForAuthenticatedUser"]}],setRestrictionsForAuthenticatedUser:["PUT /user/interaction-limits"],setRestrictionsForOrg:["PUT /orgs/{org}/interaction-limits"],setRestrictionsForRepo:["PUT /repos/{owner}/{repo}/interaction-limits"],setRestrictionsForYourPublicRepos:["PUT /user/interaction-limits",{},{renamed:["interactions","setRestrictionsForAuthenticatedUser"]}]},issues:{addAssignees:["POST /repos/{owner}/{repo}/issues/{issue_number}/assignees"],addLabels:["POST /repos/{owner}/{repo}/issues/{issue_number}/labels"],checkUserCanBeAssigned:["GET /repos/{owner}/{repo}/assignees/{assignee}"],checkUserCanBeAssignedToIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/assignees/{assignee}"],create:["POST /repos/{owner}/{repo}/issues"],createComment:["POST /repos/{owner}/{repo}/issues/{issue_number}/comments"],createLabel:["POST /repos/{owner}/{repo}/labels"],createMilestone:["POST /repos/{owner}/{repo}/milestones"],deleteComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}"],deleteLabel:["DELETE /repos/{owner}/{repo}/labels/{name}"],deleteMilestone:["DELETE /repos/{owner}/{repo}/milestones/{milestone_number}"],get:["GET /repos/{owner}/{repo}/issues/{issue_number}"],getComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}"],getEvent:["GET /repos/{owner}/{repo}/issues/events/{event_id}"],getLabel:["GET /repos/{owner}/{repo}/labels/{name}"],getMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}"],list:["GET /issues"],listAssignees:["GET /repos/{owner}/{repo}/assignees"],listComments:["GET /repos/{owner}/{repo}/issues/{issue_number}/comments"],listCommentsForRepo:["GET /repos/{owner}/{repo}/issues/comments"],listEvents:["GET /repos/{owner}/{repo}/issues/{issue_number}/events"],listEventsForRepo:["GET /repos/{owner}/{repo}/issues/events"],listEventsForTimeline:["GET /repos/{owner}/{repo}/issues/{issue_number}/timeline"],listForAuthenticatedUser:["GET /user/issues"],listForOrg:["GET /orgs/{org}/issues"],listForRepo:["GET /repos/{owner}/{repo}/issues"],listLabelsForMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels"],listLabelsForRepo:["GET /repos/{owner}/{repo}/labels"],listLabelsOnIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/labels"],listMilestones:["GET /repos/{owner}/{repo}/milestones"],lock:["PUT /repos/{owner}/{repo}/issues/{issue_number}/lock"],removeAllLabels:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels"],removeAssignees:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/assignees"],removeLabel:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels/{name}"],setLabels:["PUT /repos/{owner}/{repo}/issues/{issue_number}/labels"],unlock:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/lock"],update:["PATCH /repos/{owner}/{repo}/issues/{issue_number}"],updateComment:["PATCH /repos/{owner}/{repo}/issues/comments/{comment_id}"],updateLabel:["PATCH /repos/{owner}/{repo}/labels/{name}"],updateMilestone:["PATCH /repos/{owner}/{repo}/milestones/{milestone_number}"]},licenses:{get:["GET /licenses/{license}"],getAllCommonlyUsed:["GET /licenses"],getForRepo:["GET /repos/{owner}/{repo}/license"]},markdown:{render:["POST /markdown"],renderRaw:["POST /markdown/raw",{headers:{"content-type":"text/plain; charset=utf-8"}}]},meta:{get:["GET /meta"],getAllVersions:["GET /versions"],getOctocat:["GET /octocat"],getZen:["GET /zen"],root:["GET /"]},migrations:{deleteArchiveForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/archive"],deleteArchiveForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/archive"],downloadArchiveForOrg:["GET /orgs/{org}/migrations/{migration_id}/archive"],getArchiveForAuthenticatedUser:["GET /user/migrations/{migration_id}/archive"],getStatusForAuthenticatedUser:["GET /user/migrations/{migration_id}"],getStatusForOrg:["GET /orgs/{org}/migrations/{migration_id}"],listForAuthenticatedUser:["GET /user/migrations"],listForOrg:["GET /orgs/{org}/migrations"],listReposForAuthenticatedUser:["GET /user/migrations/{migration_id}/repositories"],listReposForOrg:["GET /orgs/{org}/migrations/{migration_id}/repositories"],listReposForUser:["GET /user/migrations/{migration_id}/repositories",{},{renamed:["migrations","listReposForAuthenticatedUser"]}],startForAuthenticatedUser:["POST /user/migrations"],startForOrg:["POST /orgs/{org}/migrations"],unlockRepoForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/repos/{repo_name}/lock"],unlockRepoForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/repos/{repo_name}/lock"]},oidc:{getOidcCustomSubTemplateForOrg:["GET /orgs/{org}/actions/oidc/customization/sub"],updateOidcCustomSubTemplateForOrg:["PUT /orgs/{org}/actions/oidc/customization/sub"]},orgs:{addSecurityManagerTeam:["PUT /orgs/{org}/security-managers/teams/{team_slug}"],assignTeamToOrgRole:["PUT /orgs/{org}/organization-roles/teams/{team_slug}/{role_id}"],assignUserToOrgRole:["PUT /orgs/{org}/organization-roles/users/{username}/{role_id}"],blockUser:["PUT /orgs/{org}/blocks/{username}"],cancelInvitation:["DELETE /orgs/{org}/invitations/{invitation_id}"],checkBlockedUser:["GET /orgs/{org}/blocks/{username}"],checkMembershipForUser:["GET /orgs/{org}/members/{username}"],checkPublicMembershipForUser:["GET /orgs/{org}/public_members/{username}"],convertMemberToOutsideCollaborator:["PUT /orgs/{org}/outside_collaborators/{username}"],createCustomOrganizationRole:["POST /orgs/{org}/organization-roles"],createInvitation:["POST /orgs/{org}/invitations"],createOrUpdateCustomProperties:["PATCH /orgs/{org}/properties/schema"],createOrUpdateCustomPropertiesValuesForRepos:["PATCH /orgs/{org}/properties/values"],createOrUpdateCustomProperty:["PUT /orgs/{org}/properties/schema/{custom_property_name}"],createWebhook:["POST /orgs/{org}/hooks"],delete:["DELETE /orgs/{org}"],deleteCustomOrganizationRole:["DELETE /orgs/{org}/organization-roles/{role_id}"],deleteWebhook:["DELETE /orgs/{org}/hooks/{hook_id}"],enableOrDisableSecurityProductOnAllOrgRepos:["POST /orgs/{org}/{security_product}/{enablement}"],get:["GET /orgs/{org}"],getAllCustomProperties:["GET /orgs/{org}/properties/schema"],getCustomProperty:["GET /orgs/{org}/properties/schema/{custom_property_name}"],getMembershipForAuthenticatedUser:["GET /user/memberships/orgs/{org}"],getMembershipForUser:["GET /orgs/{org}/memberships/{username}"],getOrgRole:["GET /orgs/{org}/organization-roles/{role_id}"],getWebhook:["GET /orgs/{org}/hooks/{hook_id}"],getWebhookConfigForOrg:["GET /orgs/{org}/hooks/{hook_id}/config"],getWebhookDelivery:["GET /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}"],list:["GET /organizations"],listAppInstallations:["GET /orgs/{org}/installations"],listBlockedUsers:["GET /orgs/{org}/blocks"],listCustomPropertiesValuesForRepos:["GET /orgs/{org}/properties/values"],listFailedInvitations:["GET /orgs/{org}/failed_invitations"],listForAuthenticatedUser:["GET /user/orgs"],listForUser:["GET /users/{username}/orgs"],listInvitationTeams:["GET /orgs/{org}/invitations/{invitation_id}/teams"],listMembers:["GET /orgs/{org}/members"],listMembershipsForAuthenticatedUser:["GET /user/memberships/orgs"],listOrgRoleTeams:["GET /orgs/{org}/organization-roles/{role_id}/teams"],listOrgRoleUsers:["GET /orgs/{org}/organization-roles/{role_id}/users"],listOrgRoles:["GET /orgs/{org}/organization-roles"],listOrganizationFineGrainedPermissions:["GET /orgs/{org}/organization-fine-grained-permissions"],listOutsideCollaborators:["GET /orgs/{org}/outside_collaborators"],listPatGrantRepositories:["GET /orgs/{org}/personal-access-tokens/{pat_id}/repositories"],listPatGrantRequestRepositories:["GET /orgs/{org}/personal-access-token-requests/{pat_request_id}/repositories"],listPatGrantRequests:["GET /orgs/{org}/personal-access-token-requests"],listPatGrants:["GET /orgs/{org}/personal-access-tokens"],listPendingInvitations:["GET /orgs/{org}/invitations"],listPublicMembers:["GET /orgs/{org}/public_members"],listSecurityManagerTeams:["GET /orgs/{org}/security-managers"],listWebhookDeliveries:["GET /orgs/{org}/hooks/{hook_id}/deliveries"],listWebhooks:["GET /orgs/{org}/hooks"],patchCustomOrganizationRole:["PATCH /orgs/{org}/organization-roles/{role_id}"],pingWebhook:["POST /orgs/{org}/hooks/{hook_id}/pings"],redeliverWebhookDelivery:["POST /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}/attempts"],removeCustomProperty:["DELETE /orgs/{org}/properties/schema/{custom_property_name}"],removeMember:["DELETE /orgs/{org}/members/{username}"],removeMembershipForUser:["DELETE /orgs/{org}/memberships/{username}"],removeOutsideCollaborator:["DELETE /orgs/{org}/outside_collaborators/{username}"],removePublicMembershipForAuthenticatedUser:["DELETE /orgs/{org}/public_members/{username}"],removeSecurityManagerTeam:["DELETE /orgs/{org}/security-managers/teams/{team_slug}"],reviewPatGrantRequest:["POST /orgs/{org}/personal-access-token-requests/{pat_request_id}"],reviewPatGrantRequestsInBulk:["POST /orgs/{org}/personal-access-token-requests"],revokeAllOrgRolesTeam:["DELETE /orgs/{org}/organization-roles/teams/{team_slug}"],revokeAllOrgRolesUser:["DELETE /orgs/{org}/organization-roles/users/{username}"],revokeOrgRoleTeam:["DELETE /orgs/{org}/organization-roles/teams/{team_slug}/{role_id}"],revokeOrgRoleUser:["DELETE /orgs/{org}/organization-roles/users/{username}/{role_id}"],setMembershipForUser:["PUT /orgs/{org}/memberships/{username}"],setPublicMembershipForAuthenticatedUser:["PUT /orgs/{org}/public_members/{username}"],unblockUser:["DELETE /orgs/{org}/blocks/{username}"],update:["PATCH /orgs/{org}"],updateMembershipForAuthenticatedUser:["PATCH /user/memberships/orgs/{org}"],updatePatAccess:["POST /orgs/{org}/personal-access-tokens/{pat_id}"],updatePatAccesses:["POST /orgs/{org}/personal-access-tokens"],updateWebhook:["PATCH /orgs/{org}/hooks/{hook_id}"],updateWebhookConfigForOrg:["PATCH /orgs/{org}/hooks/{hook_id}/config"]},packages:{deletePackageForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}"],deletePackageForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}"],deletePackageForUser:["DELETE /users/{username}/packages/{package_type}/{package_name}"],deletePackageVersionForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForUser:["DELETE /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getAllPackageVersionsForAPackageOwnedByAnOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByOrg"]}],getAllPackageVersionsForAPackageOwnedByTheAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByAuthenticatedUser"]}],getAllPackageVersionsForPackageOwnedByAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions"],getPackageForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}"],getPackageForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}"],getPackageForUser:["GET /users/{username}/packages/{package_type}/{package_name}"],getPackageVersionForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],listDockerMigrationConflictingPackagesForAuthenticatedUser:["GET /user/docker/conflicts"],listDockerMigrationConflictingPackagesForOrganization:["GET /orgs/{org}/docker/conflicts"],listDockerMigrationConflictingPackagesForUser:["GET /users/{username}/docker/conflicts"],listPackagesForAuthenticatedUser:["GET /user/packages"],listPackagesForOrganization:["GET /orgs/{org}/packages"],listPackagesForUser:["GET /users/{username}/packages"],restorePackageForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForUser:["POST /users/{username}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageVersionForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForUser:["POST /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"]},projects:{addCollaborator:["PUT /projects/{project_id}/collaborators/{username}"],createCard:["POST /projects/columns/{column_id}/cards"],createColumn:["POST /projects/{project_id}/columns"],createForAuthenticatedUser:["POST /user/projects"],createForOrg:["POST /orgs/{org}/projects"],createForRepo:["POST /repos/{owner}/{repo}/projects"],delete:["DELETE /projects/{project_id}"],deleteCard:["DELETE /projects/columns/cards/{card_id}"],deleteColumn:["DELETE /projects/columns/{column_id}"],get:["GET /projects/{project_id}"],getCard:["GET /projects/columns/cards/{card_id}"],getColumn:["GET /projects/columns/{column_id}"],getPermissionForUser:["GET /projects/{project_id}/collaborators/{username}/permission"],listCards:["GET /projects/columns/{column_id}/cards"],listCollaborators:["GET /projects/{project_id}/collaborators"],listColumns:["GET /projects/{project_id}/columns"],listForOrg:["GET /orgs/{org}/projects"],listForRepo:["GET /repos/{owner}/{repo}/projects"],listForUser:["GET /users/{username}/projects"],moveCard:["POST /projects/columns/cards/{card_id}/moves"],moveColumn:["POST /projects/columns/{column_id}/moves"],removeCollaborator:["DELETE /projects/{project_id}/collaborators/{username}"],update:["PATCH /projects/{project_id}"],updateCard:["PATCH /projects/columns/cards/{card_id}"],updateColumn:["PATCH /projects/columns/{column_id}"]},pulls:{checkIfMerged:["GET /repos/{owner}/{repo}/pulls/{pull_number}/merge"],create:["POST /repos/{owner}/{repo}/pulls"],createReplyForReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments/{comment_id}/replies"],createReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],createReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments"],deletePendingReview:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],deleteReviewComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}"],dismissReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/dismissals"],get:["GET /repos/{owner}/{repo}/pulls/{pull_number}"],getReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],getReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}"],list:["GET /repos/{owner}/{repo}/pulls"],listCommentsForReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments"],listCommits:["GET /repos/{owner}/{repo}/pulls/{pull_number}/commits"],listFiles:["GET /repos/{owner}/{repo}/pulls/{pull_number}/files"],listRequestedReviewers:["GET /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],listReviewComments:["GET /repos/{owner}/{repo}/pulls/{pull_number}/comments"],listReviewCommentsForRepo:["GET /repos/{owner}/{repo}/pulls/comments"],listReviews:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],merge:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/merge"],removeRequestedReviewers:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],requestReviewers:["POST /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],submitReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/events"],update:["PATCH /repos/{owner}/{repo}/pulls/{pull_number}"],updateBranch:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/update-branch"],updateReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],updateReviewComment:["PATCH /repos/{owner}/{repo}/pulls/comments/{comment_id}"]},rateLimit:{get:["GET /rate_limit"]},reactions:{createForCommitComment:["POST /repos/{owner}/{repo}/comments/{comment_id}/reactions"],createForIssue:["POST /repos/{owner}/{repo}/issues/{issue_number}/reactions"],createForIssueComment:["POST /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions"],createForPullRequestReviewComment:["POST /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions"],createForRelease:["POST /repos/{owner}/{repo}/releases/{release_id}/reactions"],createForTeamDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions"],createForTeamDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions"],deleteForCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}/reactions/{reaction_id}"],deleteForIssue:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/reactions/{reaction_id}"],deleteForIssueComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions/{reaction_id}"],deleteForPullRequestComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions/{reaction_id}"],deleteForRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}/reactions/{reaction_id}"],deleteForTeamDiscussion:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions/{reaction_id}"],deleteForTeamDiscussionComment:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions/{reaction_id}"],listForCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}/reactions"],listForIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/reactions"],listForIssueComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions"],listForPullRequestReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions"],listForRelease:["GET /repos/{owner}/{repo}/releases/{release_id}/reactions"],listForTeamDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions"],listForTeamDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions"]},repos:{acceptInvitation:["PATCH /user/repository_invitations/{invitation_id}",{},{renamed:["repos","acceptInvitationForAuthenticatedUser"]}],acceptInvitationForAuthenticatedUser:["PATCH /user/repository_invitations/{invitation_id}"],addAppAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],addCollaborator:["PUT /repos/{owner}/{repo}/collaborators/{username}"],addStatusCheckContexts:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],addTeamAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],addUserAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],cancelPagesDeployment:["POST /repos/{owner}/{repo}/pages/deployments/{pages_deployment_id}/cancel"],checkAutomatedSecurityFixes:["GET /repos/{owner}/{repo}/automated-security-fixes"],checkCollaborator:["GET /repos/{owner}/{repo}/collaborators/{username}"],checkPrivateVulnerabilityReporting:["GET /repos/{owner}/{repo}/private-vulnerability-reporting"],checkVulnerabilityAlerts:["GET /repos/{owner}/{repo}/vulnerability-alerts"],codeownersErrors:["GET /repos/{owner}/{repo}/codeowners/errors"],compareCommits:["GET /repos/{owner}/{repo}/compare/{base}...{head}"],compareCommitsWithBasehead:["GET /repos/{owner}/{repo}/compare/{basehead}"],createAutolink:["POST /repos/{owner}/{repo}/autolinks"],createCommitComment:["POST /repos/{owner}/{repo}/commits/{commit_sha}/comments"],createCommitSignatureProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],createCommitStatus:["POST /repos/{owner}/{repo}/statuses/{sha}"],createDeployKey:["POST /repos/{owner}/{repo}/keys"],createDeployment:["POST /repos/{owner}/{repo}/deployments"],createDeploymentBranchPolicy:["POST /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies"],createDeploymentProtectionRule:["POST /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules"],createDeploymentStatus:["POST /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],createDispatchEvent:["POST /repos/{owner}/{repo}/dispatches"],createForAuthenticatedUser:["POST /user/repos"],createFork:["POST /repos/{owner}/{repo}/forks"],createInOrg:["POST /orgs/{org}/repos"],createOrUpdateCustomPropertiesValues:["PATCH /repos/{owner}/{repo}/properties/values"],createOrUpdateEnvironment:["PUT /repos/{owner}/{repo}/environments/{environment_name}"],createOrUpdateFileContents:["PUT /repos/{owner}/{repo}/contents/{path}"],createOrgRuleset:["POST /orgs/{org}/rulesets"],createPagesDeployment:["POST /repos/{owner}/{repo}/pages/deployments"],createPagesSite:["POST /repos/{owner}/{repo}/pages"],createRelease:["POST /repos/{owner}/{repo}/releases"],createRepoRuleset:["POST /repos/{owner}/{repo}/rulesets"],createTagProtection:["POST /repos/{owner}/{repo}/tags/protection"],createUsingTemplate:["POST /repos/{template_owner}/{template_repo}/generate"],createWebhook:["POST /repos/{owner}/{repo}/hooks"],declineInvitation:["DELETE /user/repository_invitations/{invitation_id}",{},{renamed:["repos","declineInvitationForAuthenticatedUser"]}],declineInvitationForAuthenticatedUser:["DELETE /user/repository_invitations/{invitation_id}"],delete:["DELETE /repos/{owner}/{repo}"],deleteAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],deleteAdminBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],deleteAnEnvironment:["DELETE /repos/{owner}/{repo}/environments/{environment_name}"],deleteAutolink:["DELETE /repos/{owner}/{repo}/autolinks/{autolink_id}"],deleteBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection"],deleteCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}"],deleteCommitSignatureProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],deleteDeployKey:["DELETE /repos/{owner}/{repo}/keys/{key_id}"],deleteDeployment:["DELETE /repos/{owner}/{repo}/deployments/{deployment_id}"],deleteDeploymentBranchPolicy:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}"],deleteFile:["DELETE /repos/{owner}/{repo}/contents/{path}"],deleteInvitation:["DELETE /repos/{owner}/{repo}/invitations/{invitation_id}"],deleteOrgRuleset:["DELETE /orgs/{org}/rulesets/{ruleset_id}"],deletePagesSite:["DELETE /repos/{owner}/{repo}/pages"],deletePullRequestReviewProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],deleteRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}"],deleteReleaseAsset:["DELETE /repos/{owner}/{repo}/releases/assets/{asset_id}"],deleteRepoRuleset:["DELETE /repos/{owner}/{repo}/rulesets/{ruleset_id}"],deleteTagProtection:["DELETE /repos/{owner}/{repo}/tags/protection/{tag_protection_id}"],deleteWebhook:["DELETE /repos/{owner}/{repo}/hooks/{hook_id}"],disableAutomatedSecurityFixes:["DELETE /repos/{owner}/{repo}/automated-security-fixes"],disableDeploymentProtectionRule:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/{protection_rule_id}"],disablePrivateVulnerabilityReporting:["DELETE /repos/{owner}/{repo}/private-vulnerability-reporting"],disableVulnerabilityAlerts:["DELETE /repos/{owner}/{repo}/vulnerability-alerts"],downloadArchive:["GET /repos/{owner}/{repo}/zipball/{ref}",{},{renamed:["repos","downloadZipballArchive"]}],downloadTarballArchive:["GET /repos/{owner}/{repo}/tarball/{ref}"],downloadZipballArchive:["GET /repos/{owner}/{repo}/zipball/{ref}"],enableAutomatedSecurityFixes:["PUT /repos/{owner}/{repo}/automated-security-fixes"],enablePrivateVulnerabilityReporting:["PUT /repos/{owner}/{repo}/private-vulnerability-reporting"],enableVulnerabilityAlerts:["PUT /repos/{owner}/{repo}/vulnerability-alerts"],generateReleaseNotes:["POST /repos/{owner}/{repo}/releases/generate-notes"],get:["GET /repos/{owner}/{repo}"],getAccessRestrictions:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],getAdminBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],getAllDeploymentProtectionRules:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules"],getAllEnvironments:["GET /repos/{owner}/{repo}/environments"],getAllStatusCheckContexts:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts"],getAllTopics:["GET /repos/{owner}/{repo}/topics"],getAppsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps"],getAutolink:["GET /repos/{owner}/{repo}/autolinks/{autolink_id}"],getBranch:["GET /repos/{owner}/{repo}/branches/{branch}"],getBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection"],getBranchRules:["GET /repos/{owner}/{repo}/rules/branches/{branch}"],getClones:["GET /repos/{owner}/{repo}/traffic/clones"],getCodeFrequencyStats:["GET /repos/{owner}/{repo}/stats/code_frequency"],getCollaboratorPermissionLevel:["GET /repos/{owner}/{repo}/collaborators/{username}/permission"],getCombinedStatusForRef:["GET /repos/{owner}/{repo}/commits/{ref}/status"],getCommit:["GET /repos/{owner}/{repo}/commits/{ref}"],getCommitActivityStats:["GET /repos/{owner}/{repo}/stats/commit_activity"],getCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}"],getCommitSignatureProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],getCommunityProfileMetrics:["GET /repos/{owner}/{repo}/community/profile"],getContent:["GET /repos/{owner}/{repo}/contents/{path}"],getContributorsStats:["GET /repos/{owner}/{repo}/stats/contributors"],getCustomDeploymentProtectionRule:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/{protection_rule_id}"],getCustomPropertiesValues:["GET /repos/{owner}/{repo}/properties/values"],getDeployKey:["GET /repos/{owner}/{repo}/keys/{key_id}"],getDeployment:["GET /repos/{owner}/{repo}/deployments/{deployment_id}"],getDeploymentBranchPolicy:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}"],getDeploymentStatus:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses/{status_id}"],getEnvironment:["GET /repos/{owner}/{repo}/environments/{environment_name}"],getLatestPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/latest"],getLatestRelease:["GET /repos/{owner}/{repo}/releases/latest"],getOrgRuleSuite:["GET /orgs/{org}/rulesets/rule-suites/{rule_suite_id}"],getOrgRuleSuites:["GET /orgs/{org}/rulesets/rule-suites"],getOrgRuleset:["GET /orgs/{org}/rulesets/{ruleset_id}"],getOrgRulesets:["GET /orgs/{org}/rulesets"],getPages:["GET /repos/{owner}/{repo}/pages"],getPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/{build_id}"],getPagesDeployment:["GET /repos/{owner}/{repo}/pages/deployments/{pages_deployment_id}"],getPagesHealthCheck:["GET /repos/{owner}/{repo}/pages/health"],getParticipationStats:["GET /repos/{owner}/{repo}/stats/participation"],getPullRequestReviewProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],getPunchCardStats:["GET /repos/{owner}/{repo}/stats/punch_card"],getReadme:["GET /repos/{owner}/{repo}/readme"],getReadmeInDirectory:["GET /repos/{owner}/{repo}/readme/{dir}"],getRelease:["GET /repos/{owner}/{repo}/releases/{release_id}"],getReleaseAsset:["GET /repos/{owner}/{repo}/releases/assets/{asset_id}"],getReleaseByTag:["GET /repos/{owner}/{repo}/releases/tags/{tag}"],getRepoRuleSuite:["GET /repos/{owner}/{repo}/rulesets/rule-suites/{rule_suite_id}"],getRepoRuleSuites:["GET /repos/{owner}/{repo}/rulesets/rule-suites"],getRepoRuleset:["GET /repos/{owner}/{repo}/rulesets/{ruleset_id}"],getRepoRulesets:["GET /repos/{owner}/{repo}/rulesets"],getStatusChecksProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],getTeamsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams"],getTopPaths:["GET /repos/{owner}/{repo}/traffic/popular/paths"],getTopReferrers:["GET /repos/{owner}/{repo}/traffic/popular/referrers"],getUsersWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users"],getViews:["GET /repos/{owner}/{repo}/traffic/views"],getWebhook:["GET /repos/{owner}/{repo}/hooks/{hook_id}"],getWebhookConfigForRepo:["GET /repos/{owner}/{repo}/hooks/{hook_id}/config"],getWebhookDelivery:["GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}"],listActivities:["GET /repos/{owner}/{repo}/activity"],listAutolinks:["GET /repos/{owner}/{repo}/autolinks"],listBranches:["GET /repos/{owner}/{repo}/branches"],listBranchesForHeadCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/branches-where-head"],listCollaborators:["GET /repos/{owner}/{repo}/collaborators"],listCommentsForCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/comments"],listCommitCommentsForRepo:["GET /repos/{owner}/{repo}/comments"],listCommitStatusesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/statuses"],listCommits:["GET /repos/{owner}/{repo}/commits"],listContributors:["GET /repos/{owner}/{repo}/contributors"],listCustomDeploymentRuleIntegrations:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/apps"],listDeployKeys:["GET /repos/{owner}/{repo}/keys"],listDeploymentBranchPolicies:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies"],listDeploymentStatuses:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],listDeployments:["GET /repos/{owner}/{repo}/deployments"],listForAuthenticatedUser:["GET /user/repos"],listForOrg:["GET /orgs/{org}/repos"],listForUser:["GET /users/{username}/repos"],listForks:["GET /repos/{owner}/{repo}/forks"],listInvitations:["GET /repos/{owner}/{repo}/invitations"],listInvitationsForAuthenticatedUser:["GET /user/repository_invitations"],listLanguages:["GET /repos/{owner}/{repo}/languages"],listPagesBuilds:["GET /repos/{owner}/{repo}/pages/builds"],listPublic:["GET /repositories"],listPullRequestsAssociatedWithCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls"],listReleaseAssets:["GET /repos/{owner}/{repo}/releases/{release_id}/assets"],listReleases:["GET /repos/{owner}/{repo}/releases"],listTagProtection:["GET /repos/{owner}/{repo}/tags/protection"],listTags:["GET /repos/{owner}/{repo}/tags"],listTeams:["GET /repos/{owner}/{repo}/teams"],listWebhookDeliveries:["GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries"],listWebhooks:["GET /repos/{owner}/{repo}/hooks"],merge:["POST /repos/{owner}/{repo}/merges"],mergeUpstream:["POST /repos/{owner}/{repo}/merge-upstream"],pingWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/pings"],redeliverWebhookDelivery:["POST /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}/attempts"],removeAppAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],removeCollaborator:["DELETE /repos/{owner}/{repo}/collaborators/{username}"],removeStatusCheckContexts:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],removeStatusCheckProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],removeTeamAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],removeUserAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],renameBranch:["POST /repos/{owner}/{repo}/branches/{branch}/rename"],replaceAllTopics:["PUT /repos/{owner}/{repo}/topics"],requestPagesBuild:["POST /repos/{owner}/{repo}/pages/builds"],setAdminBranchProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],setAppAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],setStatusCheckContexts:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],setTeamAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],setUserAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],testPushWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/tests"],transfer:["POST /repos/{owner}/{repo}/transfer"],update:["PATCH /repos/{owner}/{repo}"],updateBranchProtection:["PUT /repos/{owner}/{repo}/branches/{branch}/protection"],updateCommitComment:["PATCH /repos/{owner}/{repo}/comments/{comment_id}"],updateDeploymentBranchPolicy:["PUT /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}"],updateInformationAboutPagesSite:["PUT /repos/{owner}/{repo}/pages"],updateInvitation:["PATCH /repos/{owner}/{repo}/invitations/{invitation_id}"],updateOrgRuleset:["PUT /orgs/{org}/rulesets/{ruleset_id}"],updatePullRequestReviewProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],updateRelease:["PATCH /repos/{owner}/{repo}/releases/{release_id}"],updateReleaseAsset:["PATCH /repos/{owner}/{repo}/releases/assets/{asset_id}"],updateRepoRuleset:["PUT /repos/{owner}/{repo}/rulesets/{ruleset_id}"],updateStatusCheckPotection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks",{},{renamed:["repos","updateStatusCheckProtection"]}],updateStatusCheckProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],updateWebhook:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}"],updateWebhookConfigForRepo:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}/config"],uploadReleaseAsset:["POST /repos/{owner}/{repo}/releases/{release_id}/assets{?name,label}",{baseUrl:"https://uploads.github.com"}]},search:{code:["GET /search/code"],commits:["GET /search/commits"],issuesAndPullRequests:["GET /search/issues"],labels:["GET /search/labels"],repos:["GET /search/repositories"],topics:["GET /search/topics"],users:["GET /search/users"]},secretScanning:{getAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"],listAlertsForEnterprise:["GET /enterprises/{enterprise}/secret-scanning/alerts"],listAlertsForOrg:["GET /orgs/{org}/secret-scanning/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/secret-scanning/alerts"],listLocationsForAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}/locations"],updateAlert:["PATCH /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"]},securityAdvisories:{createFork:["POST /repos/{owner}/{repo}/security-advisories/{ghsa_id}/forks"],createPrivateVulnerabilityReport:["POST /repos/{owner}/{repo}/security-advisories/reports"],createRepositoryAdvisory:["POST /repos/{owner}/{repo}/security-advisories"],createRepositoryAdvisoryCveRequest:["POST /repos/{owner}/{repo}/security-advisories/{ghsa_id}/cve"],getGlobalAdvisory:["GET /advisories/{ghsa_id}"],getRepositoryAdvisory:["GET /repos/{owner}/{repo}/security-advisories/{ghsa_id}"],listGlobalAdvisories:["GET /advisories"],listOrgRepositoryAdvisories:["GET /orgs/{org}/security-advisories"],listRepositoryAdvisories:["GET /repos/{owner}/{repo}/security-advisories"],updateRepositoryAdvisory:["PATCH /repos/{owner}/{repo}/security-advisories/{ghsa_id}"]},teams:{addOrUpdateMembershipForUserInOrg:["PUT /orgs/{org}/teams/{team_slug}/memberships/{username}"],addOrUpdateProjectPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/projects/{project_id}"],addOrUpdateRepoPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],checkPermissionsForProjectInOrg:["GET /orgs/{org}/teams/{team_slug}/projects/{project_id}"],checkPermissionsForRepoInOrg:["GET /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],create:["POST /orgs/{org}/teams"],createDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],createDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions"],deleteDiscussionCommentInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],deleteDiscussionInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],deleteInOrg:["DELETE /orgs/{org}/teams/{team_slug}"],getByName:["GET /orgs/{org}/teams/{team_slug}"],getDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],getDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],getMembershipForUserInOrg:["GET /orgs/{org}/teams/{team_slug}/memberships/{username}"],list:["GET /orgs/{org}/teams"],listChildInOrg:["GET /orgs/{org}/teams/{team_slug}/teams"],listDiscussionCommentsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],listDiscussionsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions"],listForAuthenticatedUser:["GET /user/teams"],listMembersInOrg:["GET /orgs/{org}/teams/{team_slug}/members"],listPendingInvitationsInOrg:["GET /orgs/{org}/teams/{team_slug}/invitations"],listProjectsInOrg:["GET /orgs/{org}/teams/{team_slug}/projects"],listReposInOrg:["GET /orgs/{org}/teams/{team_slug}/repos"],removeMembershipForUserInOrg:["DELETE /orgs/{org}/teams/{team_slug}/memberships/{username}"],removeProjectInOrg:["DELETE /orgs/{org}/teams/{team_slug}/projects/{project_id}"],removeRepoInOrg:["DELETE /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],updateDiscussionCommentInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],updateDiscussionInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],updateInOrg:["PATCH /orgs/{org}/teams/{team_slug}"]},users:{addEmailForAuthenticated:["POST /user/emails",{},{renamed:["users","addEmailForAuthenticatedUser"]}],addEmailForAuthenticatedUser:["POST /user/emails"],addSocialAccountForAuthenticatedUser:["POST /user/social_accounts"],block:["PUT /user/blocks/{username}"],checkBlocked:["GET /user/blocks/{username}"],checkFollowingForUser:["GET /users/{username}/following/{target_user}"],checkPersonIsFollowedByAuthenticated:["GET /user/following/{username}"],createGpgKeyForAuthenticated:["POST /user/gpg_keys",{},{renamed:["users","createGpgKeyForAuthenticatedUser"]}],createGpgKeyForAuthenticatedUser:["POST /user/gpg_keys"],createPublicSshKeyForAuthenticated:["POST /user/keys",{},{renamed:["users","createPublicSshKeyForAuthenticatedUser"]}],createPublicSshKeyForAuthenticatedUser:["POST /user/keys"],createSshSigningKeyForAuthenticatedUser:["POST /user/ssh_signing_keys"],deleteEmailForAuthenticated:["DELETE /user/emails",{},{renamed:["users","deleteEmailForAuthenticatedUser"]}],deleteEmailForAuthenticatedUser:["DELETE /user/emails"],deleteGpgKeyForAuthenticated:["DELETE /user/gpg_keys/{gpg_key_id}",{},{renamed:["users","deleteGpgKeyForAuthenticatedUser"]}],deleteGpgKeyForAuthenticatedUser:["DELETE /user/gpg_keys/{gpg_key_id}"],deletePublicSshKeyForAuthenticated:["DELETE /user/keys/{key_id}",{},{renamed:["users","deletePublicSshKeyForAuthenticatedUser"]}],deletePublicSshKeyForAuthenticatedUser:["DELETE /user/keys/{key_id}"],deleteSocialAccountForAuthenticatedUser:["DELETE /user/social_accounts"],deleteSshSigningKeyForAuthenticatedUser:["DELETE /user/ssh_signing_keys/{ssh_signing_key_id}"],follow:["PUT /user/following/{username}"],getAuthenticated:["GET /user"],getByUsername:["GET /users/{username}"],getContextForUser:["GET /users/{username}/hovercard"],getGpgKeyForAuthenticated:["GET /user/gpg_keys/{gpg_key_id}",{},{renamed:["users","getGpgKeyForAuthenticatedUser"]}],getGpgKeyForAuthenticatedUser:["GET /user/gpg_keys/{gpg_key_id}"],getPublicSshKeyForAuthenticated:["GET /user/keys/{key_id}",{},{renamed:["users","getPublicSshKeyForAuthenticatedUser"]}],getPublicSshKeyForAuthenticatedUser:["GET /user/keys/{key_id}"],getSshSigningKeyForAuthenticatedUser:["GET /user/ssh_signing_keys/{ssh_signing_key_id}"],list:["GET /users"],listBlockedByAuthenticated:["GET /user/blocks",{},{renamed:["users","listBlockedByAuthenticatedUser"]}],listBlockedByAuthenticatedUser:["GET /user/blocks"],listEmailsForAuthenticated:["GET /user/emails",{},{renamed:["users","listEmailsForAuthenticatedUser"]}],listEmailsForAuthenticatedUser:["GET /user/emails"],listFollowedByAuthenticated:["GET /user/following",{},{renamed:["users","listFollowedByAuthenticatedUser"]}],listFollowedByAuthenticatedUser:["GET /user/following"],listFollowersForAuthenticatedUser:["GET /user/followers"],listFollowersForUser:["GET /users/{username}/followers"],listFollowingForUser:["GET /users/{username}/following"],listGpgKeysForAuthenticated:["GET /user/gpg_keys",{},{renamed:["users","listGpgKeysForAuthenticatedUser"]}],listGpgKeysForAuthenticatedUser:["GET /user/gpg_keys"],listGpgKeysForUser:["GET /users/{username}/gpg_keys"],listPublicEmailsForAuthenticated:["GET /user/public_emails",{},{renamed:["users","listPublicEmailsForAuthenticatedUser"]}],listPublicEmailsForAuthenticatedUser:["GET /user/public_emails"],listPublicKeysForUser:["GET /users/{username}/keys"],listPublicSshKeysForAuthenticated:["GET /user/keys",{},{renamed:["users","listPublicSshKeysForAuthenticatedUser"]}],listPublicSshKeysForAuthenticatedUser:["GET /user/keys"],listSocialAccountsForAuthenticatedUser:["GET /user/social_accounts"],listSocialAccountsForUser:["GET /users/{username}/social_accounts"],listSshSigningKeysForAuthenticatedUser:["GET /user/ssh_signing_keys"],listSshSigningKeysForUser:["GET /users/{username}/ssh_signing_keys"],setPrimaryEmailVisibilityForAuthenticated:["PATCH /user/email/visibility",{},{renamed:["users","setPrimaryEmailVisibilityForAuthenticatedUser"]}],setPrimaryEmailVisibilityForAuthenticatedUser:["PATCH /user/email/visibility"],unblock:["DELETE /user/blocks/{username}"],unfollow:["DELETE /user/following/{username}"],updateAuthenticated:["PATCH /user"]}},Z1e=Y1e,sl=new Map;for(const[t,e]of Object.entries(Z1e))for(const[n,s]of Object.entries(e)){const[i,r,o]=s,[a,l]=i.split(/ /),c=Object.assign({method:a,url:l},r);sl.has(t)||sl.set(t,new Map),sl.get(t).set(n,{scope:t,methodName:n,endpointDefaults:c,decorations:o})}var J1e={has({scope:t},e){return sl.get(t).has(e)},getOwnPropertyDescriptor(t,e){return{value:this.get(t,e),configurable:!0,writable:!0,enumerable:!0}},defineProperty(t,e,n){return Object.defineProperty(t.cache,e,n),!0},deleteProperty(t,e){return delete t.cache[e],!0},ownKeys({scope:t}){return[...sl.get(t).keys()]},set(t,e,n){return t.cache[e]=n},get({octokit:t,scope:e,cache:n},s){if(n[s])return n[s];const i=sl.get(e).get(s);if(!i)return;const{endpointDefaults:r,decorations:o}=i;return o?n[s]=eye(t,e,s,r,o):n[s]=t.request.defaults(r),n[s]}};function Q1e(t){const e={};for(const n of sl.keys())e[n]=new Proxy({octokit:t,scope:n,cache:{}},J1e);return e}function eye(t,e,n,s,i){const r=t.request.defaults(s);function o(...a){let l=r.endpoint.merge(...a);if(i.mapToData)return l=Object.assign({},l,{data:l[i.mapToData],[i.mapToData]:void 0}),r(l);if(i.renamed){const[c,u]=i.renamed;t.log.warn(`octokit.${e}.${n}() has been renamed to octokit.${c}.${u}()`)}if(i.deprecated&&t.log.warn(i.deprecated),i.renamedParameters){const c=r.endpoint.merge(...a);for(const[u,d]of Object.entries(i.renamedParameters))u in c&&(t.log.warn(`"${u}" parameter is deprecated for "octokit.${e}.${n}()". Use "${d}" instead`),d in c||(c[d]=c[u]),delete c[u]);return r(c)}return r(...a)}return Object.assign(o,r)}function Xk(t){return{rest:Q1e(t)}}Xk.VERSION=K1e;var Kk={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(Ji,function(){var n=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Ji<"u"?Ji:typeof self<"u"?self:{};function s(fe){return fe&&fe.default||fe}var i=function(fe,K,L={}){var se,U,W;for(se in K)W=K[se],L[se]=(U=fe[se])!=null?U:W;return L},r=function(fe,K,L={}){var se,U;for(se in fe)U=fe[se],K[se]!==void 0&&(L[se]=U);return L},o={load:i,overwrite:r},a;a=class{constructor(K,L){this.incr=K,this.decr=L,this._first=null,this._last=null,this.length=0}push(K){var L;this.length++,typeof this.incr=="function"&&this.incr(),L={value:K,prev:this._last,next:null},this._last!=null?(this._last.next=L,this._last=L):this._first=this._last=L}shift(){var K;if(this._first!=null)return this.length--,typeof this.decr=="function"&&this.decr(),K=this._first.value,(this._first=this._first.next)!=null?this._first.prev=null:this._last=null,K}first(){if(this._first!=null)return this._first.value}getArray(){var K,L,se;for(K=this._first,se=[];K!=null;)se.push((L=K,K=K.next,L.value));return se}forEachShift(K){var L;for(L=this.shift();L!=null;)K(L),L=this.shift()}debug(){var K,L,se,U,W;for(K=this._first,W=[];K!=null;)W.push((L=K,K=K.next,{value:L.value,prev:(se=L.prev)!=null?se.value:void 0,next:(U=L.next)!=null?U.value:void 0}));return W}};var l=a,c;c=class{constructor(K){if(this.instance=K,this._events={},this.instance.on!=null||this.instance.once!=null||this.instance.removeAllListeners!=null)throw new Error("An Emitter already exists for this object");this.instance.on=(L,se)=>this._addListener(L,"many",se),this.instance.once=(L,se)=>this._addListener(L,"once",se),this.instance.removeAllListeners=(L=null)=>L!=null?delete this._events[L]:this._events={}}_addListener(K,L,se){var U;return(U=this._events)[K]==null&&(U[K]=[]),this._events[K].push({cb:se,status:L}),this.instance}listenerCount(K){return this._events[K]!=null?this._events[K].length:0}async trigger(K,...L){var se,U;try{return K!=="debug"&&this.trigger("debug",`Event triggered: ${K}`,L),this._events[K]==null?void 0:(this._events[K]=this._events[K].filter(function(W){return W.status!=="none"}),U=this._events[K].map(async W=>{var X,ie;if(W.status!=="none"){W.status==="once"&&(W.status="none");try{return ie=typeof W.cb=="function"?W.cb(...L):void 0,typeof(ie!=null?ie.then:void 0)=="function"?await ie:ie}catch(H){return X=H,this.trigger("error",X),null}}}),(await Promise.all(U)).find(function(W){return W!=null}))}catch(W){return se=W,this.trigger("error",se),null}}};var u=c,d,f,h;d=l,f=u,h=class{constructor(K){this.Events=new f(this),this._length=0,this._lists=(function(){var L,se,U;for(U=[],L=1,se=K;1<=se?L<=se:L>=se;1<=se?++L:--L)U.push(new d(()=>this.incr(),()=>this.decr()));return U}).call(this)}incr(){if(this._length++===0)return this.Events.trigger("leftzero")}decr(){if(--this._length===0)return this.Events.trigger("zero")}push(K){return this._lists[K.options.priority].push(K)}queued(K){return K!=null?this._lists[K].length:this._length}shiftAll(K){return this._lists.forEach(function(L){return L.forEachShift(K)})}getFirst(K=this._lists){var L,se,U;for(L=0,se=K.length;L<se;L++)if(U=K[L],U.length>0)return U;return[]}shiftLastFrom(K){return this.getFirst(this._lists.slice(K).reverse()).shift()}};var y=h,_;_=class extends Error{};var p=_,g,b,v,w,A;w=10,b=5,A=o,g=p,v=class{constructor(K,L,se,U,W,X,ie,H){this.task=K,this.args=L,this.rejectOnDrop=W,this.Events=X,this._states=ie,this.Promise=H,this.options=A.load(se,U),this.options.priority=this._sanitizePriority(this.options.priority),this.options.id===U.id&&(this.options.id=`${this.options.id}-${this._randomIndex()}`),this.promise=new this.Promise((ye,pe)=>{this._resolve=ye,this._reject=pe}),this.retryCount=0}_sanitizePriority(K){var L;return L=~~K!==K?b:K,L<0?0:L>w-1?w-1:L}_randomIndex(){return Math.random().toString(36).slice(2)}doDrop({error:K,message:L="This job has been dropped by Bottleneck"}={}){return this._states.remove(this.options.id)?(this.rejectOnDrop&&this._reject(K??new g(L)),this.Events.trigger("dropped",{args:this.args,options:this.options,task:this.task,promise:this.promise}),!0):!1}_assertStatus(K){var L;if(L=this._states.jobStatus(this.options.id),!(L===K||K==="DONE"&&L===null))throw new g(`Invalid job status ${L}, expected ${K}. Please open an issue at https://github.com/SGrondin/bottleneck/issues`)}doReceive(){return this._states.start(this.options.id),this.Events.trigger("received",{args:this.args,options:this.options})}doQueue(K,L){return this._assertStatus("RECEIVED"),this._states.next(this.options.id),this.Events.trigger("queued",{args:this.args,options:this.options,reachedHWM:K,blocked:L})}doRun(){return this.retryCount===0?(this._assertStatus("QUEUED"),this._states.next(this.options.id)):this._assertStatus("EXECUTING"),this.Events.trigger("scheduled",{args:this.args,options:this.options})}async doExecute(K,L,se,U){var W,X,ie;this.retryCount===0?(this._assertStatus("RUNNING"),this._states.next(this.options.id)):this._assertStatus("EXECUTING"),X={args:this.args,options:this.options,retryCount:this.retryCount},this.Events.trigger("executing",X);try{if(ie=await(K!=null?K.schedule(this.options,this.task,...this.args):this.task(...this.args)),L())return this.doDone(X),await U(this.options,X),this._assertStatus("DONE"),this._resolve(ie)}catch(H){return W=H,this._onFailure(W,X,L,se,U)}}doExpire(K,L,se){var U,W;return this._states.jobStatus(this.options.id==="RUNNING")&&this._states.next(this.options.id),this._assertStatus("EXECUTING"),W={args:this.args,options:this.options,retryCount:this.retryCount},U=new g(`This job timed out after ${this.options.expiration} ms.`),this._onFailure(U,W,K,L,se)}async _onFailure(K,L,se,U,W){var X,ie;if(se())return X=await this.Events.trigger("failed",K,L),X!=null?(ie=~~X,this.Events.trigger("retry",`Retrying ${this.options.id} after ${ie} ms`,L),this.retryCount++,U(ie)):(this.doDone(L),await W(this.options,L),this._assertStatus("DONE"),this._reject(K))}doDone(K){return this._assertStatus("EXECUTING"),this._states.next(this.options.id),this.Events.trigger("done",K)}};var x=v,T,M,E;E=o,T=p,M=class{constructor(K,L,se){this.instance=K,this.storeOptions=L,this.clientId=this.instance._randomIndex(),E.load(se,se,this),this._nextRequest=this._lastReservoirRefresh=this._lastReservoirIncrease=Date.now(),this._running=0,this._done=0,this._unblockTime=0,this.ready=this.Promise.resolve(),this.clients={},this._startHeartbeat()}_startHeartbeat(){var K;return this.heartbeat==null&&(this.storeOptions.reservoirRefreshInterval!=null&&this.storeOptions.reservoirRefreshAmount!=null||this.storeOptions.reservoirIncreaseInterval!=null&&this.storeOptions.reservoirIncreaseAmount!=null)?typeof(K=this.heartbeat=setInterval(()=>{var L,se,U,W,X;if(W=Date.now(),this.storeOptions.reservoirRefreshInterval!=null&&W>=this._lastReservoirRefresh+this.storeOptions.reservoirRefreshInterval&&(this._lastReservoirRefresh=W,this.storeOptions.reservoir=this.storeOptions.reservoirRefreshAmount,this.instance._drainAll(this.computeCapacity())),this.storeOptions.reservoirIncreaseInterval!=null&&W>=this._lastReservoirIncrease+this.storeOptions.reservoirIncreaseInterval&&({reservoirIncreaseAmount:L,reservoirIncreaseMaximum:U,reservoir:X}=this.storeOptions,this._lastReservoirIncrease=W,se=U!=null?Math.min(L,U-X):L,se>0))return this.storeOptions.reservoir+=se,this.instance._drainAll(this.computeCapacity())},this.heartbeatInterval)).unref=="function"?K.unref():void 0:clearInterval(this.heartbeat)}async __publish__(K){return await this.yieldLoop(),this.instance.Events.trigger("message",K.toString())}async __disconnect__(K){return await this.yieldLoop(),clearInterval(this.heartbeat),this.Promise.resolve()}yieldLoop(K=0){return new this.Promise(function(L,se){return setTimeout(L,K)})}computePenalty(){var K;return(K=this.storeOptions.penalty)!=null?K:15*this.storeOptions.minTime||5e3}async __updateSettings__(K){return await this.yieldLoop(),E.overwrite(K,K,this.storeOptions),this._startHeartbeat(),this.instance._drainAll(this.computeCapacity()),!0}async __running__(){return await this.yieldLoop(),this._running}async __queued__(){return await this.yieldLoop(),this.instance.queued()}async __done__(){return await this.yieldLoop(),this._done}async __groupCheck__(K){return await this.yieldLoop(),this._nextRequest+this.timeout<K}computeCapacity(){var K,L;return{maxConcurrent:K,reservoir:L}=this.storeOptions,K!=null&&L!=null?Math.min(K-this._running,L):K!=null?K-this._running:L??null}conditionsCheck(K){var L;return L=this.computeCapacity(),L==null||K<=L}async __incrementReservoir__(K){var L;return await this.yieldLoop(),L=this.storeOptions.reservoir+=K,this.instance._drainAll(this.computeCapacity()),L}async __currentReservoir__(){return await this.yieldLoop(),this.storeOptions.reservoir}isBlocked(K){return this._unblockTime>=K}check(K,L){return this.conditionsCheck(K)&&this._nextRequest-L<=0}async __check__(K){var L;return await this.yieldLoop(),L=Date.now(),this.check(K,L)}async __register__(K,L,se){var U,W;return await this.yieldLoop(),U=Date.now(),this.conditionsCheck(L)?(this._running+=L,this.storeOptions.reservoir!=null&&(this.storeOptions.reservoir-=L),W=Math.max(this._nextRequest-U,0),this._nextRequest=U+W+this.storeOptions.minTime,{success:!0,wait:W,reservoir:this.storeOptions.reservoir}):{success:!1}}strategyIsBlock(){return this.storeOptions.strategy===3}async __submit__(K,L){var se,U,W;if(await this.yieldLoop(),this.storeOptions.maxConcurrent!=null&&L>this.storeOptions.maxConcurrent)throw new T(`Impossible to add a job having a weight of ${L} to a limiter having a maxConcurrent setting of ${this.storeOptions.maxConcurrent}`);return U=Date.now(),W=this.storeOptions.highWater!=null&&K===this.storeOptions.highWater&&!this.check(L,U),se=this.strategyIsBlock()&&(W||this.isBlocked(U)),se&&(this._unblockTime=U+this.computePenalty(),this._nextRequest=this._unblockTime+this.storeOptions.minTime,this.instance._dropAllQueued()),{reachedHWM:W,blocked:se,strategy:this.storeOptions.strategy}}async __free__(K,L){return await this.yieldLoop(),this._running-=L,this._done+=L,this.instance._drainAll(this.computeCapacity()),{running:this._running}}};var S=M,C,N;C=p,N=class{constructor(K){this.status=K,this._jobs={},this.counts=this.status.map(function(){return 0})}next(K){var L,se;if(L=this._jobs[K],se=L+1,L!=null&&se<this.status.length)return this.counts[L]--,this.counts[se]++,this._jobs[K]++;if(L!=null)return this.counts[L]--,delete this._jobs[K]}start(K){var L;return L=0,this._jobs[K]=L,this.counts[L]++}remove(K){var L;return L=this._jobs[K],L!=null&&(this.counts[L]--,delete this._jobs[K]),L!=null}jobStatus(K){var L;return(L=this.status[this._jobs[K]])!=null?L:null}statusJobs(K){var L,se,U,W,X;if(K!=null){if(se=this.status.indexOf(K),se<0)throw new C(`status must be one of ${this.status.join(", ")}`);U=this._jobs,W=[];for(L in U)X=U[L],X===se&&W.push(L);return W}else return Object.keys(this._jobs)}statusCounts(){return this.counts.reduce((K,L,se)=>(K[this.status[se]]=L,K),{})}};var G=N,O,P;O=l,P=class{constructor(K,L){this.schedule=this.schedule.bind(this),this.name=K,this.Promise=L,this._running=0,this._queue=new O}isEmpty(){return this._queue.length===0}async _tryToRun(){var K,L,se,U,W,X,ie;if(this._running<1&&this._queue.length>0)return this._running++,{task:ie,args:K,resolve:W,reject:U}=this._queue.shift(),L=await async function(){try{return X=await ie(...K),function(){return W(X)}}catch(H){return se=H,function(){return U(se)}}}(),this._running--,this._tryToRun(),L()}schedule(K,...L){var se,U,W;return W=U=null,se=new this.Promise(function(X,ie){return W=X,U=ie}),this._queue.push({task:K,args:L,resolve:W,reject:U}),this._tryToRun(),se}};var k=P,F="2.19.5",I={version:F},ee=Object.freeze({version:F,default:I}),Y=()=>console.log("You must import the full version of Bottleneck in order to use this feature."),me=()=>console.log("You must import the full version of Bottleneck in order to use this feature."),ge=()=>console.log("You must import the full version of Bottleneck in order to use this feature."),Ce,le,_e,Ie,ne,Me;Me=o,Ce=u,Ie=Y,_e=me,ne=ge,le=(function(){class fe{constructor(L={}){this.deleteKey=this.deleteKey.bind(this),this.limiterOptions=L,Me.load(this.limiterOptions,this.defaults,this),this.Events=new Ce(this),this.instances={},this.Bottleneck=Ne,this._startAutoCleanup(),this.sharedConnection=this.connection!=null,this.connection==null&&(this.limiterOptions.datastore==="redis"?this.connection=new Ie(Object.assign({},this.limiterOptions,{Events:this.Events})):this.limiterOptions.datastore==="ioredis"&&(this.connection=new _e(Object.assign({},this.limiterOptions,{Events:this.Events}))))}key(L=""){var se;return(se=this.instances[L])!=null?se:(()=>{var U;return U=this.instances[L]=new this.Bottleneck(Object.assign(this.limiterOptions,{id:`${this.id}-${L}`,timeout:this.timeout,connection:this.connection})),this.Events.trigger("created",U,L),U})()}async deleteKey(L=""){var se,U;return U=this.instances[L],this.connection&&(se=await this.connection.__runCommand__(["del",...ne.allKeys(`${this.id}-${L}`)])),U!=null&&(delete this.instances[L],await U.disconnect()),U!=null||se>0}limiters(){var L,se,U,W;se=this.instances,U=[];for(L in se)W=se[L],U.push({key:L,limiter:W});return U}keys(){return Object.keys(this.instances)}async clusterKeys(){var L,se,U,W,X,ie,H,ye,pe;if(this.connection==null)return this.Promise.resolve(this.keys());for(ie=[],L=null,pe=`b_${this.id}-`.length,se=9;L!==0;)for([ye,U]=await this.connection.__runCommand__(["scan",L??0,"match",`b_${this.id}-*_settings`,"count",1e4]),L=~~ye,W=0,H=U.length;W<H;W++)X=U[W],ie.push(X.slice(pe,-se));return ie}_startAutoCleanup(){var L;return clearInterval(this.interval),typeof(L=this.interval=setInterval(async()=>{var se,U,W,X,ie,H;ie=Date.now(),W=this.instances,X=[];for(U in W){H=W[U];try{await H._store.__groupCheck__(ie)?X.push(this.deleteKey(U)):X.push(void 0)}catch(ye){se=ye,X.push(H.Events.trigger("error",se))}}return X},this.timeout/2)).unref=="function"?L.unref():void 0}updateSettings(L={}){if(Me.overwrite(L,this.defaults,this),Me.overwrite(L,L,this.limiterOptions),L.timeout!=null)return this._startAutoCleanup()}disconnect(L=!0){var se;if(!this.sharedConnection)return(se=this.connection)!=null?se.disconnect(L):void 0}}return fe.prototype.defaults={timeout:1e3*60*5,connection:null,Promise,id:"group-key"},fe}).call(n);var Te=le,ke,ze,V;V=o,ze=u,ke=(function(){class fe{constructor(L={}){this.options=L,V.load(this.options,this.defaults,this),this.Events=new ze(this),this._arr=[],this._resetPromise(),this._lastFlush=Date.now()}_resetPromise(){return this._promise=new this.Promise((L,se)=>this._resolve=L)}_flush(){return clearTimeout(this._timeout),this._lastFlush=Date.now(),this._resolve(),this.Events.trigger("batch",this._arr),this._arr=[],this._resetPromise()}add(L){var se;return this._arr.push(L),se=this._promise,this._arr.length===this.maxSize?this._flush():this.maxTime!=null&&this._arr.length===1&&(this._timeout=setTimeout(()=>this._flush(),this.maxTime)),se}}return fe.prototype.defaults={maxTime:null,maxSize:null,Promise},fe}).call(n);var B=ke,z=()=>console.log("You must import the full version of Bottleneck in order to use this feature."),te=s(ee),ce,ve,xe,Re,D,R,q,ue,be,he,Oe,Pe=[].splice;R=10,ve=5,Oe=o,q=y,Re=x,D=S,ue=z,xe=u,be=G,he=k,ce=(function(){class fe{constructor(L={},...se){var U,W;this._addToQueue=this._addToQueue.bind(this),this._validateOptions(L,se),Oe.load(L,this.instanceDefaults,this),this._queues=new q(R),this._scheduled={},this._states=new be(["RECEIVED","QUEUED","RUNNING","EXECUTING"].concat(this.trackDoneStatus?["DONE"]:[])),this._limiter=null,this.Events=new xe(this),this._submitLock=new he("submit",this.Promise),this._registerLock=new he("register",this.Promise),W=Oe.load(L,this.storeDefaults,{}),this._store=(function(){if(this.datastore==="redis"||this.datastore==="ioredis"||this.connection!=null)return U=Oe.load(L,this.redisStoreDefaults,{}),new ue(this,W,U);if(this.datastore==="local")return U=Oe.load(L,this.localStoreDefaults,{}),new D(this,W,U);throw new fe.prototype.BottleneckError(`Invalid datastore type: ${this.datastore}`)}).call(this),this._queues.on("leftzero",()=>{var X;return(X=this._store.heartbeat)!=null&&typeof X.ref=="function"?X.ref():void 0}),this._queues.on("zero",()=>{var X;return(X=this._store.heartbeat)!=null&&typeof X.unref=="function"?X.unref():void 0})}_validateOptions(L,se){if(!(L!=null&&typeof L=="object"&&se.length===0))throw new fe.prototype.BottleneckError("Bottleneck v2 takes a single object argument. Refer to https://github.com/SGrondin/bottleneck#upgrading-to-v2 if you're upgrading from Bottleneck v1.")}ready(){return this._store.ready}clients(){return this._store.clients}channel(){return`b_${this.id}`}channel_client(){return`b_${this.id}_${this._store.clientId}`}publish(L){return this._store.__publish__(L)}disconnect(L=!0){return this._store.__disconnect__(L)}chain(L){return this._limiter=L,this}queued(L){return this._queues.queued(L)}clusterQueued(){return this._store.__queued__()}empty(){return this.queued()===0&&this._submitLock.isEmpty()}running(){return this._store.__running__()}done(){return this._store.__done__()}jobStatus(L){return this._states.jobStatus(L)}jobs(L){return this._states.statusJobs(L)}counts(){return this._states.statusCounts()}_randomIndex(){return Math.random().toString(36).slice(2)}check(L=1){return this._store.__check__(L)}_clearGlobalState(L){return this._scheduled[L]!=null?(clearTimeout(this._scheduled[L].expiration),delete this._scheduled[L],!0):!1}async _free(L,se,U,W){var X,ie;try{if({running:ie}=await this._store.__free__(L,U.weight),this.Events.trigger("debug",`Freed ${U.id}`,W),ie===0&&this.empty())return this.Events.trigger("idle")}catch(H){return X=H,this.Events.trigger("error",X)}}_run(L,se,U){var W,X,ie;return se.doRun(),W=this._clearGlobalState.bind(this,L),ie=this._run.bind(this,L,se),X=this._free.bind(this,L,se),this._scheduled[L]={timeout:setTimeout(()=>se.doExecute(this._limiter,W,ie,X),U),expiration:se.options.expiration!=null?setTimeout(function(){return se.doExpire(W,ie,X)},U+se.options.expiration):void 0,job:se}}_drainOne(L){return this._registerLock.schedule(()=>{var se,U,W,X,ie;return this.queued()===0?this.Promise.resolve(null):(ie=this._queues.getFirst(),{options:X,args:se}=W=ie.first(),L!=null&&X.weight>L?this.Promise.resolve(null):(this.Events.trigger("debug",`Draining ${X.id}`,{args:se,options:X}),U=this._randomIndex(),this._store.__register__(U,X.weight,X.expiration).then(({success:H,wait:ye,reservoir:pe})=>{var Ae;return this.Events.trigger("debug",`Drained ${X.id}`,{success:H,args:se,options:X}),H?(ie.shift(),Ae=this.empty(),Ae&&this.Events.trigger("empty"),pe===0&&this.Events.trigger("depleted",Ae),this._run(U,W,ye),this.Promise.resolve(X.weight)):this.Promise.resolve(null)})))})}_drainAll(L,se=0){return this._drainOne(L).then(U=>{var W;return U!=null?(W=L!=null?L-U:L,this._drainAll(W,se+U)):this.Promise.resolve(se)}).catch(U=>this.Events.trigger("error",U))}_dropAllQueued(L){return this._queues.shiftAll(function(se){return se.doDrop({message:L})})}stop(L={}){var se,U;return L=Oe.load(L,this.stopDefaults),U=W=>{var X;return X=()=>{var ie;return ie=this._states.counts,ie[0]+ie[1]+ie[2]+ie[3]===W},new this.Promise((ie,H)=>X()?ie():this.on("done",()=>{if(X())return this.removeAllListeners("done"),ie()}))},se=L.dropWaitingJobs?(this._run=function(W,X){return X.doDrop({message:L.dropErrorMessage})},this._drainOne=()=>this.Promise.resolve(null),this._registerLock.schedule(()=>this._submitLock.schedule(()=>{var W,X,ie;X=this._scheduled;for(W in X)ie=X[W],this.jobStatus(ie.job.options.id)==="RUNNING"&&(clearTimeout(ie.timeout),clearTimeout(ie.expiration),ie.job.doDrop({message:L.dropErrorMessage}));return this._dropAllQueued(L.dropErrorMessage),U(0)}))):this.schedule({priority:R-1,weight:0},()=>U(1)),this._receive=function(W){return W._reject(new fe.prototype.BottleneckError(L.enqueueErrorMessage))},this.stop=()=>this.Promise.reject(new fe.prototype.BottleneckError("stop() has already been called")),se}async _addToQueue(L){var se,U,W,X,ie,H,ye;({args:se,options:X}=L);try{({reachedHWM:ie,blocked:U,strategy:ye}=await this._store.__submit__(this.queued(),X.weight))}catch(pe){return W=pe,this.Events.trigger("debug",`Could not queue ${X.id}`,{args:se,options:X,error:W}),L.doDrop({error:W}),!1}return U?(L.doDrop(),!0):ie&&(H=ye===fe.prototype.strategy.LEAK?this._queues.shiftLastFrom(X.priority):ye===fe.prototype.strategy.OVERFLOW_PRIORITY?this._queues.shiftLastFrom(X.priority+1):ye===fe.prototype.strategy.OVERFLOW?L:void 0,H!=null&&H.doDrop(),H==null||ye===fe.prototype.strategy.OVERFLOW)?(H==null&&L.doDrop(),ie):(L.doQueue(ie,U),this._queues.push(L),await this._drainAll(),ie)}_receive(L){return this._states.jobStatus(L.options.id)!=null?(L._reject(new fe.prototype.BottleneckError(`A job with the same id already exists (id=${L.options.id})`)),!1):(L.doReceive(),this._submitLock.schedule(this._addToQueue,L))}submit(...L){var se,U,W,X,ie,H,ye;return typeof L[0]=="function"?(ie=L,[U,...L]=ie,[se]=Pe.call(L,-1),X=Oe.load({},this.jobDefaults)):(H=L,[X,U,...L]=H,[se]=Pe.call(L,-1),X=Oe.load(X,this.jobDefaults)),ye=(...pe)=>new this.Promise(function(Ae,Ue){return U(...pe,function(...et){return(et[0]!=null?Ue:Ae)(et)})}),W=new Re(ye,L,X,this.jobDefaults,this.rejectOnDrop,this.Events,this._states,this.Promise),W.promise.then(function(pe){return typeof se=="function"?se(...pe):void 0}).catch(function(pe){return Array.isArray(pe)?typeof se=="function"?se(...pe):void 0:typeof se=="function"?se(pe):void 0}),this._receive(W)}schedule(...L){var se,U,W;return typeof L[0]=="function"?([W,...L]=L,U={}):[U,W,...L]=L,se=new Re(W,L,U,this.jobDefaults,this.rejectOnDrop,this.Events,this._states,this.Promise),this._receive(se),se.promise}wrap(L){var se,U;return se=this.schedule.bind(this),U=function(...W){return se(L.bind(this),...W)},U.withOptions=function(W,...X){return se(W,L,...X)},U}async updateSettings(L={}){return await this._store.__updateSettings__(Oe.overwrite(L,this.storeDefaults)),Oe.overwrite(L,this.instanceDefaults,this),this}currentReservoir(){return this._store.__currentReservoir__()}incrementReservoir(L=0){return this._store.__incrementReservoir__(L)}}return fe.default=fe,fe.Events=xe,fe.version=fe.prototype.version=te.version,fe.strategy=fe.prototype.strategy={LEAK:1,OVERFLOW:2,OVERFLOW_PRIORITY:4,BLOCK:3},fe.BottleneckError=fe.prototype.BottleneckError=p,fe.Group=fe.prototype.Group=Te,fe.RedisConnection=fe.prototype.RedisConnection=Y,fe.IORedisConnection=fe.prototype.IORedisConnection=me,fe.Batcher=fe.prototype.Batcher=B,fe.prototype.jobDefaults={priority:ve,weight:1,expiration:null,id:"<no-id>"},fe.prototype.storeDefaults={maxConcurrent:null,minTime:0,highWater:null,strategy:fe.prototype.strategy.LEAK,penalty:null,reservoir:null,reservoirRefreshInterval:null,reservoirRefreshAmount:null,reservoirIncreaseInterval:null,reservoirIncreaseAmount:null,reservoirIncreaseMaximum:null},fe.prototype.localStoreDefaults={Promise,timeout:null,heartbeatInterval:250},fe.prototype.redisStoreDefaults={Promise,timeout:null,heartbeatInterval:5e3,clientTimeout:1e4,Redis:null,clientOptions:{},clusterNodes:null,clearDatastore:!1,connection:null},fe.prototype.instanceDefaults={datastore:"local",connection:null,id:"<no-id>",rejectOnDrop:!0,trackDoneStatus:!1,Promise},fe.prototype.stopDefaults={enqueueErrorMessage:"This limiter has been stopped and cannot accept new jobs.",dropWaitingJobs:!0,dropErrorMessage:"This limiter has been stopped."},fe}).call(n);var Ne=ce,He=Ne;return He})})(Kk);var tye=Kk.exports;const Yk=or(tye);async function Zk(t,e,n,s){if(!n.request||!n.request.request)throw n;if(n.status>=400&&!t.doNotRetry.includes(n.status)){const i=s.request.retries!=null?s.request.retries:t.retries,r=Math.pow((s.request.retryCount||0)+1,2);throw e.retry.retryRequest(n,i,r)}throw n}async function nye(t,e,n,s){const i=new Yk;return i.on("failed",function(r,o){const a=~~r.request.request.retries,l=~~r.request.request.retryAfter;if(s.request.retryCount=o.retryCount+1,a>o.retryCount)return l*t.retryAfterBaseValue}),i.schedule(sye.bind(null,t,e,n),s)}async function sye(t,e,n,s){const i=await n(n,s);if(i.data&&i.data.errors&&/Something went wrong while executing your query/.test(i.data.errors[0].message)){const r=new Ld(i.data.errors[0].message,500,{request:s,response:i});return Zk(t,e,r,s)}return i}var iye="0.0.0-development";function Jk(t,e){const n=Object.assign({enabled:!0,retryAfterBaseValue:1e3,doNotRetry:[400,401,403,404,422,451],retries:3},e.retry);return n.enabled&&(t.hook.error("request",Zk.bind(null,n,t)),t.hook.wrap("request",nye.bind(null,n,t))),{retry:{retryRequest:(s,i,r)=>(s.request.request=Object.assign({},s.request.request,{retries:i,retryAfter:r}),s)}}}Jk.VERSION=iye;var rye="0.0.0-development",D0=()=>Promise.resolve();function oye(t,e,n){return t.retryLimiter.schedule(aye,t,e,n)}async function aye(t,e,n){const s=n.method!=="GET"&&n.method!=="HEAD",{pathname:i}=new URL(n.url,"http://github.test"),r=n.method==="GET"&&i.startsWith("/search/"),o=i.startsWith("/graphql"),l=~~e.retryCount>0?{priority:0,weight:0}:{};t.clustering&&(l.expiration=1e3*60),(s||o)&&await t.write.key(t.id).schedule(l,D0),s&&t.triggersNotification(i)&&await t.notifications.key(t.id).schedule(l,D0),r&&await t.search.key(t.id).schedule(l,D0);const c=t.global.key(t.id).schedule(l,e,n);if(o){const u=await c;if(u.data.errors!=null&&u.data.errors.some(d=>d.type==="RATE_LIMITED"))throw Object.assign(new Error("GraphQL Rate Limit Exceeded"),{response:u,data:u.data})}return c}var lye=["/orgs/{org}/invitations","/orgs/{org}/invitations/{invitation_id}","/orgs/{org}/teams/{team_slug}/discussions","/orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments","/repos/{owner}/{repo}/collaborators/{username}","/repos/{owner}/{repo}/commits/{commit_sha}/comments","/repos/{owner}/{repo}/issues","/repos/{owner}/{repo}/issues/{issue_number}/comments","/repos/{owner}/{repo}/pulls","/repos/{owner}/{repo}/pulls/{pull_number}/comments","/repos/{owner}/{repo}/pulls/{pull_number}/comments/{comment_id}/replies","/repos/{owner}/{repo}/pulls/{pull_number}/merge","/repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers","/repos/{owner}/{repo}/pulls/{pull_number}/reviews","/repos/{owner}/{repo}/releases","/teams/{team_id}/discussions","/teams/{team_id}/discussions/{discussion_number}/comments"];function cye(t){const n=`^(?:${t.map(s=>s.split("/").map(i=>i.startsWith("{")?"(?:.+?)":i).join("/")).map(s=>`(?:${s})`).join("|")})[^/]*$`;return new RegExp(n,"i")}var yA=cye(lye),Qk=yA.test.bind(yA),mc={},uye=function(t,e){mc.global=new t.Group({id:"octokit-global",maxConcurrent:10,...e}),mc.search=new t.Group({id:"octokit-search",maxConcurrent:1,minTime:2e3,...e}),mc.write=new t.Group({id:"octokit-write",maxConcurrent:1,minTime:1e3,...e}),mc.notifications=new t.Group({id:"octokit-notifications",maxConcurrent:1,minTime:3e3,...e})};function Fw(t,e){const{enabled:n=!0,Bottleneck:s=Yk,id:i="no-id",timeout:r=1e3*60*2,connection:o}=e.throttle||{};if(!n)return{};const a={connection:o,timeout:r};mc.global==null&&uye(s,a);const l=Object.assign({clustering:o!=null,triggersNotification:Qk,fallbackSecondaryRateRetryAfter:60,retryAfterBaseValue:1e3,retryLimiter:new s,id:i,...mc},e.throttle);if(typeof l.onSecondaryRateLimit!="function"||typeof l.onRateLimit!="function")throw new Error(`octokit/plugin-throttling error:
        You must pass the onSecondaryRateLimit and onRateLimit error handlers.
        See https://octokit.github.io/rest.js/#throttling

        const octokit = new Octokit({
          throttle: {
            onSecondaryRateLimit: (retryAfter, options) => {/* ... */},
            onRateLimit: (retryAfter, options) => {/* ... */}
          }
        })
    `);const c={},u=new s.Events(c);return c.on("secondary-limit",l.onSecondaryRateLimit),c.on("rate-limit",l.onRateLimit),c.on("error",d=>t.log.warn("Error in throttling-plugin limit handler",d)),l.retryLimiter.on("failed",async function(d,f){const[h,y,_]=f.args,{pathname:p}=new URL(_.url,"http://github.test");if(!(p.startsWith("/graphql")&&d.status!==401||d.status===403))return;const b=~~y.retryCount;y.retryCount=b,_.request.retryCount=b;const{wantRetry:v,retryAfter:w=0}=await async function(){var A;if(/\bsecondary rate\b/i.test(d.message)){const x=Number(d.response.headers["retry-after"])||h.fallbackSecondaryRateRetryAfter;return{wantRetry:await u.trigger("secondary-limit",x,_,t,b),retryAfter:x}}if(d.response.headers!=null&&d.response.headers["x-ratelimit-remaining"]==="0"||(((A=d.response.data)==null?void 0:A.errors)??[]).some(x=>x.type==="RATE_LIMITED")){const x=new Date(~~d.response.headers["x-ratelimit-reset"]*1e3).getTime(),T=Math.max(Math.ceil((x-Date.now())/1e3)+1,0);return{wantRetry:await u.trigger("rate-limit",T,_,t,b),retryAfter:T}}return{}}();if(v)return y.retryCount++,w*h.retryAfterBaseValue}),t.hook.wrap("request",oye.bind(null,l)),{}}Fw.VERSION=rye;Fw.triggersNotification=Qk;function e_(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof process=="object"&&process.version!==void 0?`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`:"<environment undetectable>"}function Bw(t,e,n,s){if(typeof n!="function")throw new Error("method for before hook must be a function");return s||(s={}),Array.isArray(e)?e.reverse().reduce((i,r)=>Bw.bind(null,t,r,i,s),n)():Promise.resolve().then(()=>t.registry[e]?t.registry[e].reduce((i,r)=>r.hook.bind(null,i,s),n)():n(s))}function dye(t,e,n,s){const i=s;t.registry[n]||(t.registry[n]=[]),e==="before"&&(s=(r,o)=>Promise.resolve().then(i.bind(null,o)).then(r.bind(null,o))),e==="after"&&(s=(r,o)=>{let a;return Promise.resolve().then(r.bind(null,o)).then(l=>(a=l,i(a,o))).then(()=>a)}),e==="error"&&(s=(r,o)=>Promise.resolve().then(r.bind(null,o)).catch(a=>i(a,o))),t.registry[n].push({hook:s,orig:i})}function fye(t,e,n){if(!t.registry[e])return;const s=t.registry[e].map(i=>i.orig).indexOf(n);s!==-1&&t.registry[e].splice(s,1)}const bA=Function.bind,vA=bA.bind(bA);function e8(t,e,n){const s=vA(fye,null).apply(null,n?[e,n]:[e]);t.api={remove:s},t.remove=s,["before","error","after","wrap"].forEach(i=>{const r=n?[e,i,n]:[e,i];t[i]=t.api[i]=vA(dye,null).apply(null,r)})}function hye(){const t=Symbol("Singular"),e={registry:{}},n=Bw.bind(null,e,t);return e8(n,e,t),n}function pye(){const t={registry:{}},e=Bw.bind(null,t);return e8(e,t),e}const mye={Singular:hye,Collection:pye};var gye="0.0.0-development",_ye=`octokit-endpoint.js/${gye} ${e_()}`,yye={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":_ye},mediaType:{format:""}};function bye(t){return t?Object.keys(t).reduce((e,n)=>(e[n.toLowerCase()]=t[n],e),{}):{}}function vye(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);if(e===null)return!0;const n=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Function.prototype.call(n)===Function.prototype.call(t)}function t8(t,e){const n=Object.assign({},t);return Object.keys(e).forEach(s=>{vye(e[s])?s in t?n[s]=t8(t[s],e[s]):Object.assign(n,{[s]:e[s]}):Object.assign(n,{[s]:e[s]})}),n}function wA(t){for(const e in t)t[e]===void 0&&delete t[e];return t}function Wy(t,e,n){var i;if(typeof e=="string"){let[r,o]=e.split(" ");n=Object.assign(o?{method:r,url:o}:{url:r},n)}else n=Object.assign({},e);n.headers=bye(n.headers),wA(n),wA(n.headers);const s=t8(t||{},n);return n.url==="/graphql"&&(t&&((i=t.mediaType.previews)!=null&&i.length)&&(s.mediaType.previews=t.mediaType.previews.filter(r=>!s.mediaType.previews.includes(r)).concat(s.mediaType.previews)),s.mediaType.previews=(s.mediaType.previews||[]).map(r=>r.replace(/-preview/,""))),s}function wye(t,e){const n=/\?/.test(t)?"&":"?",s=Object.keys(e);return s.length===0?t:t+n+s.map(i=>i==="q"?"q="+e.q.split("+").map(encodeURIComponent).join("+"):`${i}=${encodeURIComponent(e[i])}`).join("&")}var xye=/\{[^}]+\}/g;function Eye(t){return t.replace(/^\W+|\W+$/g,"").split(/,/)}function Sye(t){const e=t.match(xye);return e?e.map(Eye).reduce((n,s)=>n.concat(s),[]):[]}function xA(t,e){const n={__proto__:null};for(const s of Object.keys(t))e.indexOf(s)===-1&&(n[s]=t[s]);return n}function n8(t){return t.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e}).join("")}function gc(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function dd(t,e,n){return e=t==="+"||t==="#"?n8(e):gc(e),n?gc(n)+"="+e:e}function Xl(t){return t!=null}function N0(t){return t===";"||t==="&"||t==="?"}function Tye(t,e,n,s){var i=t[n],r=[];if(Xl(i)&&i!=="")if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")i=i.toString(),s&&s!=="*"&&(i=i.substring(0,parseInt(s,10))),r.push(dd(e,i,N0(e)?n:""));else if(s==="*")Array.isArray(i)?i.filter(Xl).forEach(function(o){r.push(dd(e,o,N0(e)?n:""))}):Object.keys(i).forEach(function(o){Xl(i[o])&&r.push(dd(e,i[o],o))});else{const o=[];Array.isArray(i)?i.filter(Xl).forEach(function(a){o.push(dd(e,a))}):Object.keys(i).forEach(function(a){Xl(i[a])&&(o.push(gc(a)),o.push(dd(e,i[a].toString())))}),N0(e)?r.push(gc(n)+"="+o.join(",")):o.length!==0&&r.push(o.join(","))}else e===";"?Xl(i)&&r.push(gc(n)):i===""&&(e==="&"||e==="?")?r.push(gc(n)+"="):i===""&&r.push("");return r}function Aye(t){return{expand:Mye.bind(null,t)}}function Mye(t,e){var n=["+","#",".","/",";","?","&"];return t=t.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(s,i,r){if(i){let a="";const l=[];if(n.indexOf(i.charAt(0))!==-1&&(a=i.charAt(0),i=i.substr(1)),i.split(/,/g).forEach(function(c){var u=/([^:\*]*)(?::(\d+)|(\*))?/.exec(c);l.push(Tye(e,a,u[1],u[2]||u[3]))}),a&&a!=="+"){var o=",";return a==="?"?o="&":a!=="#"&&(o=a),(l.length!==0?a:"")+l.join(o)}else return l.join(",")}else return n8(r)}),t==="/"?t:t.replace(/\/$/,"")}function s8(t){var u;let e=t.method.toUpperCase(),n=(t.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),s=Object.assign({},t.headers),i,r=xA(t,["method","baseUrl","url","headers","request","mediaType"]);const o=Sye(n);n=Aye(n).expand(r),/^http/.test(n)||(n=t.baseUrl+n);const a=Object.keys(t).filter(d=>o.includes(d)).concat("baseUrl"),l=xA(r,a);if(!/application\/octet-stream/i.test(s.accept)&&(t.mediaType.format&&(s.accept=s.accept.split(/,/).map(d=>d.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${t.mediaType.format}`)).join(",")),n.endsWith("/graphql")&&(u=t.mediaType.previews)!=null&&u.length)){const d=s.accept.match(/[\w-]+(?=-preview)/g)||[];s.accept=d.concat(t.mediaType.previews).map(f=>{const h=t.mediaType.format?`.${t.mediaType.format}`:"+json";return`application/vnd.github.${f}-preview${h}`}).join(",")}return["GET","HEAD"].includes(e)?n=wye(n,l):"data"in l?i=l.data:Object.keys(l).length&&(i=l),!s["content-type"]&&typeof i<"u"&&(s["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(e)&&typeof i>"u"&&(i=""),Object.assign({method:e,url:n,headers:s},typeof i<"u"?{body:i}:null,t.request?{request:t.request}:null)}function Rye(t,e,n){return s8(Wy(t,e,n))}function i8(t,e){const n=Wy(t,e),s=Rye.bind(null,n);return Object.assign(s,{DEFAULTS:n,defaults:i8.bind(null,n),merge:Wy.bind(null,n),parse:s8})}var Cye=i8(null,yye);let ap=class extends Error{constructor(n,s,i){super(n);Z(this,"name");Z(this,"status");Z(this,"request");Z(this,"response");this.name="HttpError",this.status=Number.parseInt(s),Number.isNaN(this.status)&&(this.status=0),"response"in i&&(this.response=i.response);const r=Object.assign({},i.request);i.request.headers.authorization&&(r.headers=Object.assign({},i.request.headers,{authorization:i.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),r.url=r.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=r}};var kye="0.0.0-development",Pye={headers:{"user-agent":`octokit-request.js/${kye} ${e_()}`}};function Iye(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);if(e===null)return!0;const n=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Function.prototype.call(n)===Function.prototype.call(t)}async function EA(t){var d,f,h,y,_;const e=((d=t.request)==null?void 0:d.fetch)||globalThis.fetch;if(!e)throw new Error("fetch is not set. Please pass a fetch implementation as new Octokit({ request: { fetch }}). Learn more at https://github.com/octokit/octokit.js/#fetch-missing");const n=((f=t.request)==null?void 0:f.log)||console,s=((h=t.request)==null?void 0:h.parseSuccessResponseBody)!==!1,i=Iye(t.body)||Array.isArray(t.body)?JSON.stringify(t.body):t.body,r=Object.fromEntries(Object.entries(t.headers).map(([p,g])=>[p,String(g)]));let o;try{o=await e(t.url,{method:t.method,body:i,redirect:(y=t.request)==null?void 0:y.redirect,headers:r,signal:(_=t.request)==null?void 0:_.signal,...t.body&&{duplex:"half"}})}catch(p){let g="Unknown Error";if(p instanceof Error){if(p.name==="AbortError")throw p.status=500,p;g=p.message,p.name==="TypeError"&&"cause"in p&&(p.cause instanceof Error?g=p.cause.message:typeof p.cause=="string"&&(g=p.cause))}const b=new ap(g,500,{request:t});throw b.cause=p,b}const a=o.status,l=o.url,c={};for(const[p,g]of o.headers)c[p]=g;const u={url:l,status:a,headers:c,data:""};if("deprecation"in c){const p=c.link&&c.link.match(/<([^>]+)>; rel="deprecation"/),g=p&&p.pop();n.warn(`[@octokit/request] "${t.method} ${t.url}" is deprecated. It is scheduled to be removed on ${c.sunset}${g?`. See ${g}`:""}`)}if(a===204||a===205)return u;if(t.method==="HEAD"){if(a<400)return u;throw new ap(o.statusText,a,{response:u,request:t})}if(a===304)throw u.data=await U0(o),new ap("Not modified",a,{response:u,request:t});if(a>=400)throw u.data=await U0(o),new ap(Oye(u.data),a,{response:u,request:t});return u.data=s?await U0(o):o.body,u}async function U0(t){const e=t.headers.get("content-type");return/application\/json/.test(e)?t.json().catch(()=>t.text()).catch(()=>""):!e||/^text\/|charset=utf-8$/.test(e)?t.text():t.arrayBuffer()}function Oye(t){if(typeof t=="string")return t;if(t instanceof ArrayBuffer)return"Unknown error";if("message"in t){const e="documentation_url"in t?` - ${t.documentation_url}`:"";return Array.isArray(t.errors)?`${t.message}: ${t.errors.map(n=>JSON.stringify(n)).join(", ")}${e}`:`${t.message}${e}`}return`Unknown error: ${JSON.stringify(t)}`}function qy(t,e){const n=t.defaults(e);return Object.assign(function(i,r){const o=n.merge(i,r);if(!o.request||!o.request.hook)return EA(n.parse(o));const a=(l,c)=>EA(n.parse(n.merge(l,c)));return Object.assign(a,{endpoint:n,defaults:qy.bind(null,n)}),o.request.hook(a,o)},{endpoint:n,defaults:qy.bind(null,n)})}var Xy=qy(Cye,Pye),Lye="0.0.0-development";function Dye(t){return`Request failed due to following response errors:
`+t.errors.map(e=>` - ${e.message}`).join(`
`)}var Nye=class extends Error{constructor(n,s,i){super(Dye(i));Z(this,"name","GraphqlResponseError");Z(this,"errors");Z(this,"data");this.request=n,this.headers=s,this.response=i,this.errors=i.errors,this.data=i.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},Uye=["method","baseUrl","url","headers","request","query","mediaType"],$ye=["query","method","url"],SA=/\/api\/v3\/?$/;function Fye(t,e,n){if(n){if(typeof e=="string"&&"query"in n)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const o in n)if($ye.includes(o))return Promise.reject(new Error(`[@octokit/graphql] "${o}" cannot be used as variable name`))}const s=typeof e=="string"?Object.assign({query:e},n):e,i=Object.keys(s).reduce((o,a)=>Uye.includes(a)?(o[a]=s[a],o):(o.variables||(o.variables={}),o.variables[a]=s[a],o),{}),r=s.baseUrl||t.endpoint.DEFAULTS.baseUrl;return SA.test(r)&&(i.url=r.replace(SA,"/api/graphql")),t(i).then(o=>{if(o.data.errors){const a={};for(const l of Object.keys(o.headers))a[l]=o.headers[l];throw new Nye(i,a,o.data)}return o.data.data})}function Hw(t,e){const n=t.defaults(e);return Object.assign((i,r)=>Fye(n,i,r),{defaults:Hw.bind(null,n),endpoint:n.endpoint})}Hw(Xy,{headers:{"user-agent":`octokit-graphql.js/${Lye} ${e_()}`},method:"POST",url:"/graphql"});function Bye(t){return Hw(t,{method:"POST",url:"/graphql"})}var Hye=/^v1\./,Gye=/^ghs_/,zye=/^ghu_/;async function Vye(t){const e=t.split(/\./).length===3,n=Hye.test(t)||Gye.test(t),s=zye.test(t);return{type:"token",token:t,tokenType:e?"app":n?"installation":s?"user-to-server":"oauth"}}function jye(t){return t.split(/\./).length===3?`bearer ${t}`:`token ${t}`}async function Wye(t,e,n,s){const i=e.endpoint.merge(n,s);return i.headers.authorization=jye(t),e(i)}var qye=function(e){if(!e)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof e!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return e=e.replace(/^(token|bearer) +/i,""),Object.assign(Vye.bind(null,e),{hook:Wye.bind(null,e)})};const r8="6.1.2",TA=()=>{},Xye=console.warn.bind(console),Kye=console.error.bind(console),AA=`octokit-core.js/${r8} ${e_()}`;var Mp;let Yye=(Mp=class{constructor(e={}){Z(this,"request");Z(this,"graphql");Z(this,"log");Z(this,"hook");Z(this,"auth");const n=new mye.Collection,s={baseUrl:Xy.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},e.request,{hook:n.bind(null,"request")}),mediaType:{previews:[],format:""}};if(s.headers["user-agent"]=e.userAgent?`${e.userAgent} ${AA}`:AA,e.baseUrl&&(s.baseUrl=e.baseUrl),e.previews&&(s.mediaType.previews=e.previews),e.timeZone&&(s.headers["time-zone"]=e.timeZone),this.request=Xy.defaults(s),this.graphql=Bye(this.request).defaults(s),this.log=Object.assign({debug:TA,info:TA,warn:Xye,error:Kye},e.log),this.hook=n,e.authStrategy){const{authStrategy:r,...o}=e,a=r(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:o},e.auth));n.wrap("request",a.hook),this.auth=a}else if(!e.auth)this.auth=async()=>({type:"unauthenticated"});else{const r=qye(e.auth);n.wrap("request",r.hook),this.auth=r}const i=this.constructor;for(let r=0;r<i.plugins.length;++r)Object.assign(this,i.plugins[r](this,e))}static defaults(e){return class extends this{constructor(...s){const i=s[0]||{};if(typeof e=="function"){super(e(i));return}super(Object.assign({},e,i,i.userAgent&&e.userAgent?{userAgent:`${i.userAgent} ${e.userAgent}`}:null))}}}static plugin(...e){var i;const n=this.plugins;return i=class extends this{},Z(i,"plugins",n.concat(e.filter(r=>!n.includes(r)))),i}},Z(Mp,"VERSION",r8),Z(Mp,"plugins",[]),Mp);function Gw(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof process=="object"&&process.version!==void 0?`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`:"<environment undetectable>"}var Zye="0.0.0-development",Jye=`octokit-endpoint.js/${Zye} ${Gw()}`,Qye={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":Jye},mediaType:{format:""}};function ebe(t){return t?Object.keys(t).reduce((e,n)=>(e[n.toLowerCase()]=t[n],e),{}):{}}function tbe(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);if(e===null)return!0;const n=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Function.prototype.call(n)===Function.prototype.call(t)}function o8(t,e){const n=Object.assign({},t);return Object.keys(e).forEach(s=>{tbe(e[s])?s in t?n[s]=o8(t[s],e[s]):Object.assign(n,{[s]:e[s]}):Object.assign(n,{[s]:e[s]})}),n}function MA(t){for(const e in t)t[e]===void 0&&delete t[e];return t}function Ky(t,e,n){var i;if(typeof e=="string"){let[r,o]=e.split(" ");n=Object.assign(o?{method:r,url:o}:{url:r},n)}else n=Object.assign({},e);n.headers=ebe(n.headers),MA(n),MA(n.headers);const s=o8(t||{},n);return n.url==="/graphql"&&(t&&((i=t.mediaType.previews)!=null&&i.length)&&(s.mediaType.previews=t.mediaType.previews.filter(r=>!s.mediaType.previews.includes(r)).concat(s.mediaType.previews)),s.mediaType.previews=(s.mediaType.previews||[]).map(r=>r.replace(/-preview/,""))),s}function nbe(t,e){const n=/\?/.test(t)?"&":"?",s=Object.keys(e);return s.length===0?t:t+n+s.map(i=>i==="q"?"q="+e.q.split("+").map(encodeURIComponent).join("+"):`${i}=${encodeURIComponent(e[i])}`).join("&")}var sbe=/\{[^}]+\}/g;function ibe(t){return t.replace(/^\W+|\W+$/g,"").split(/,/)}function rbe(t){const e=t.match(sbe);return e?e.map(ibe).reduce((n,s)=>n.concat(s),[]):[]}function RA(t,e){const n={__proto__:null};for(const s of Object.keys(t))e.indexOf(s)===-1&&(n[s]=t[s]);return n}function a8(t){return t.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e}).join("")}function _c(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function fd(t,e,n){return e=t==="+"||t==="#"?a8(e):_c(e),n?_c(n)+"="+e:e}function Kl(t){return t!=null}function $0(t){return t===";"||t==="&"||t==="?"}function obe(t,e,n,s){var i=t[n],r=[];if(Kl(i)&&i!=="")if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")i=i.toString(),s&&s!=="*"&&(i=i.substring(0,parseInt(s,10))),r.push(fd(e,i,$0(e)?n:""));else if(s==="*")Array.isArray(i)?i.filter(Kl).forEach(function(o){r.push(fd(e,o,$0(e)?n:""))}):Object.keys(i).forEach(function(o){Kl(i[o])&&r.push(fd(e,i[o],o))});else{const o=[];Array.isArray(i)?i.filter(Kl).forEach(function(a){o.push(fd(e,a))}):Object.keys(i).forEach(function(a){Kl(i[a])&&(o.push(_c(a)),o.push(fd(e,i[a].toString())))}),$0(e)?r.push(_c(n)+"="+o.join(",")):o.length!==0&&r.push(o.join(","))}else e===";"?Kl(i)&&r.push(_c(n)):i===""&&(e==="&"||e==="?")?r.push(_c(n)+"="):i===""&&r.push("");return r}function abe(t){return{expand:lbe.bind(null,t)}}function lbe(t,e){var n=["+","#",".","/",";","?","&"];return t=t.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(s,i,r){if(i){let a="";const l=[];if(n.indexOf(i.charAt(0))!==-1&&(a=i.charAt(0),i=i.substr(1)),i.split(/,/g).forEach(function(c){var u=/([^:\*]*)(?::(\d+)|(\*))?/.exec(c);l.push(obe(e,a,u[1],u[2]||u[3]))}),a&&a!=="+"){var o=",";return a==="?"?o="&":a!=="#"&&(o=a),(l.length!==0?a:"")+l.join(o)}else return l.join(",")}else return a8(r)}),t==="/"?t:t.replace(/\/$/,"")}function l8(t){var u;let e=t.method.toUpperCase(),n=(t.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),s=Object.assign({},t.headers),i,r=RA(t,["method","baseUrl","url","headers","request","mediaType"]);const o=rbe(n);n=abe(n).expand(r),/^http/.test(n)||(n=t.baseUrl+n);const a=Object.keys(t).filter(d=>o.includes(d)).concat("baseUrl"),l=RA(r,a);if(!/application\/octet-stream/i.test(s.accept)&&(t.mediaType.format&&(s.accept=s.accept.split(/,/).map(d=>d.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${t.mediaType.format}`)).join(",")),n.endsWith("/graphql")&&(u=t.mediaType.previews)!=null&&u.length)){const d=s.accept.match(/[\w-]+(?=-preview)/g)||[];s.accept=d.concat(t.mediaType.previews).map(f=>{const h=t.mediaType.format?`.${t.mediaType.format}`:"+json";return`application/vnd.github.${f}-preview${h}`}).join(",")}return["GET","HEAD"].includes(e)?n=nbe(n,l):"data"in l?i=l.data:Object.keys(l).length&&(i=l),!s["content-type"]&&typeof i<"u"&&(s["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(e)&&typeof i>"u"&&(i=""),Object.assign({method:e,url:n,headers:s},typeof i<"u"?{body:i}:null,t.request?{request:t.request}:null)}function cbe(t,e,n){return l8(Ky(t,e,n))}function c8(t,e){const n=Ky(t,e),s=cbe.bind(null,n);return Object.assign(s,{DEFAULTS:n,defaults:c8.bind(null,n),merge:Ky.bind(null,n),parse:l8})}var ube=c8(null,Qye);let lp=class extends Error{constructor(n,s,i){super(n);Z(this,"name");Z(this,"status");Z(this,"request");Z(this,"response");this.name="HttpError",this.status=Number.parseInt(s),Number.isNaN(this.status)&&(this.status=0),"response"in i&&(this.response=i.response);const r=Object.assign({},i.request);i.request.headers.authorization&&(r.headers=Object.assign({},i.request.headers,{authorization:i.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),r.url=r.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=r}};var dbe="0.0.0-development",fbe={headers:{"user-agent":`octokit-request.js/${dbe} ${Gw()}`}};function hbe(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);if(e===null)return!0;const n=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Function.prototype.call(n)===Function.prototype.call(t)}async function CA(t){var d,f,h,y,_;const e=((d=t.request)==null?void 0:d.fetch)||globalThis.fetch;if(!e)throw new Error("fetch is not set. Please pass a fetch implementation as new Octokit({ request: { fetch }}). Learn more at https://github.com/octokit/octokit.js/#fetch-missing");const n=((f=t.request)==null?void 0:f.log)||console,s=((h=t.request)==null?void 0:h.parseSuccessResponseBody)!==!1,i=hbe(t.body)||Array.isArray(t.body)?JSON.stringify(t.body):t.body,r=Object.fromEntries(Object.entries(t.headers).map(([p,g])=>[p,String(g)]));let o;try{o=await e(t.url,{method:t.method,body:i,redirect:(y=t.request)==null?void 0:y.redirect,headers:r,signal:(_=t.request)==null?void 0:_.signal,...t.body&&{duplex:"half"}})}catch(p){let g="Unknown Error";if(p instanceof Error){if(p.name==="AbortError")throw p.status=500,p;g=p.message,p.name==="TypeError"&&"cause"in p&&(p.cause instanceof Error?g=p.cause.message:typeof p.cause=="string"&&(g=p.cause))}const b=new lp(g,500,{request:t});throw b.cause=p,b}const a=o.status,l=o.url,c={};for(const[p,g]of o.headers)c[p]=g;const u={url:l,status:a,headers:c,data:""};if("deprecation"in c){const p=c.link&&c.link.match(/<([^>]+)>; rel="deprecation"/),g=p&&p.pop();n.warn(`[@octokit/request] "${t.method} ${t.url}" is deprecated. It is scheduled to be removed on ${c.sunset}${g?`. See ${g}`:""}`)}if(a===204||a===205)return u;if(t.method==="HEAD"){if(a<400)return u;throw new lp(o.statusText,a,{response:u,request:t})}if(a===304)throw u.data=await F0(o),new lp("Not modified",a,{response:u,request:t});if(a>=400)throw u.data=await F0(o),new lp(pbe(u.data),a,{response:u,request:t});return u.data=s?await F0(o):o.body,u}async function F0(t){const e=t.headers.get("content-type");return/application\/json/.test(e)?t.json().catch(()=>t.text()).catch(()=>""):!e||/^text\/|charset=utf-8$/.test(e)?t.text():t.arrayBuffer()}function pbe(t){if(typeof t=="string")return t;if(t instanceof ArrayBuffer)return"Unknown error";if("message"in t){const e="documentation_url"in t?` - ${t.documentation_url}`:"";return Array.isArray(t.errors)?`${t.message}: ${t.errors.map(n=>JSON.stringify(n)).join(", ")}${e}`:`${t.message}${e}`}return`Unknown error: ${JSON.stringify(t)}`}function Yy(t,e){const n=t.defaults(e);return Object.assign(function(i,r){const o=n.merge(i,r);if(!o.request||!o.request.hook)return CA(n.parse(o));const a=(l,c)=>CA(n.parse(n.merge(l,c)));return Object.assign(a,{endpoint:n,defaults:Yy.bind(null,n)}),o.request.hook(a,o)},{endpoint:n,defaults:Yy.bind(null,n)})}var mbe=Yy(ube,fbe);function zw(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof process=="object"&&process.version!==void 0?`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`:"<environment undetectable>"}var gbe="0.0.0-development",_be=`octokit-endpoint.js/${gbe} ${zw()}`,ybe={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":_be},mediaType:{format:""}};function bbe(t){return t?Object.keys(t).reduce((e,n)=>(e[n.toLowerCase()]=t[n],e),{}):{}}function vbe(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);if(e===null)return!0;const n=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Function.prototype.call(n)===Function.prototype.call(t)}function u8(t,e){const n=Object.assign({},t);return Object.keys(e).forEach(s=>{vbe(e[s])?s in t?n[s]=u8(t[s],e[s]):Object.assign(n,{[s]:e[s]}):Object.assign(n,{[s]:e[s]})}),n}function kA(t){for(const e in t)t[e]===void 0&&delete t[e];return t}function Zy(t,e,n){var i;if(typeof e=="string"){let[r,o]=e.split(" ");n=Object.assign(o?{method:r,url:o}:{url:r},n)}else n=Object.assign({},e);n.headers=bbe(n.headers),kA(n),kA(n.headers);const s=u8(t||{},n);return n.url==="/graphql"&&(t&&((i=t.mediaType.previews)!=null&&i.length)&&(s.mediaType.previews=t.mediaType.previews.filter(r=>!s.mediaType.previews.includes(r)).concat(s.mediaType.previews)),s.mediaType.previews=(s.mediaType.previews||[]).map(r=>r.replace(/-preview/,""))),s}function wbe(t,e){const n=/\?/.test(t)?"&":"?",s=Object.keys(e);return s.length===0?t:t+n+s.map(i=>i==="q"?"q="+e.q.split("+").map(encodeURIComponent).join("+"):`${i}=${encodeURIComponent(e[i])}`).join("&")}var xbe=/\{[^}]+\}/g;function Ebe(t){return t.replace(/^\W+|\W+$/g,"").split(/,/)}function Sbe(t){const e=t.match(xbe);return e?e.map(Ebe).reduce((n,s)=>n.concat(s),[]):[]}function PA(t,e){const n={__proto__:null};for(const s of Object.keys(t))e.indexOf(s)===-1&&(n[s]=t[s]);return n}function d8(t){return t.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e}).join("")}function yc(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function hd(t,e,n){return e=t==="+"||t==="#"?d8(e):yc(e),n?yc(n)+"="+e:e}function Yl(t){return t!=null}function B0(t){return t===";"||t==="&"||t==="?"}function Tbe(t,e,n,s){var i=t[n],r=[];if(Yl(i)&&i!=="")if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")i=i.toString(),s&&s!=="*"&&(i=i.substring(0,parseInt(s,10))),r.push(hd(e,i,B0(e)?n:""));else if(s==="*")Array.isArray(i)?i.filter(Yl).forEach(function(o){r.push(hd(e,o,B0(e)?n:""))}):Object.keys(i).forEach(function(o){Yl(i[o])&&r.push(hd(e,i[o],o))});else{const o=[];Array.isArray(i)?i.filter(Yl).forEach(function(a){o.push(hd(e,a))}):Object.keys(i).forEach(function(a){Yl(i[a])&&(o.push(yc(a)),o.push(hd(e,i[a].toString())))}),B0(e)?r.push(yc(n)+"="+o.join(",")):o.length!==0&&r.push(o.join(","))}else e===";"?Yl(i)&&r.push(yc(n)):i===""&&(e==="&"||e==="?")?r.push(yc(n)+"="):i===""&&r.push("");return r}function Abe(t){return{expand:Mbe.bind(null,t)}}function Mbe(t,e){var n=["+","#",".","/",";","?","&"];return t=t.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(s,i,r){if(i){let a="";const l=[];if(n.indexOf(i.charAt(0))!==-1&&(a=i.charAt(0),i=i.substr(1)),i.split(/,/g).forEach(function(c){var u=/([^:\*]*)(?::(\d+)|(\*))?/.exec(c);l.push(Tbe(e,a,u[1],u[2]||u[3]))}),a&&a!=="+"){var o=",";return a==="?"?o="&":a!=="#"&&(o=a),(l.length!==0?a:"")+l.join(o)}else return l.join(",")}else return d8(r)}),t==="/"?t:t.replace(/\/$/,"")}function f8(t){var u;let e=t.method.toUpperCase(),n=(t.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),s=Object.assign({},t.headers),i,r=PA(t,["method","baseUrl","url","headers","request","mediaType"]);const o=Sbe(n);n=Abe(n).expand(r),/^http/.test(n)||(n=t.baseUrl+n);const a=Object.keys(t).filter(d=>o.includes(d)).concat("baseUrl"),l=PA(r,a);if(!/application\/octet-stream/i.test(s.accept)&&(t.mediaType.format&&(s.accept=s.accept.split(/,/).map(d=>d.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${t.mediaType.format}`)).join(",")),n.endsWith("/graphql")&&(u=t.mediaType.previews)!=null&&u.length)){const d=s.accept.match(/[\w-]+(?=-preview)/g)||[];s.accept=d.concat(t.mediaType.previews).map(f=>{const h=t.mediaType.format?`.${t.mediaType.format}`:"+json";return`application/vnd.github.${f}-preview${h}`}).join(",")}return["GET","HEAD"].includes(e)?n=wbe(n,l):"data"in l?i=l.data:Object.keys(l).length&&(i=l),!s["content-type"]&&typeof i<"u"&&(s["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(e)&&typeof i>"u"&&(i=""),Object.assign({method:e,url:n,headers:s},typeof i<"u"?{body:i}:null,t.request?{request:t.request}:null)}function Rbe(t,e,n){return f8(Zy(t,e,n))}function h8(t,e){const n=Zy(t,e),s=Rbe.bind(null,n);return Object.assign(s,{DEFAULTS:n,defaults:h8.bind(null,n),merge:Zy.bind(null,n),parse:f8})}var Cbe=h8(null,ybe);let cp=class extends Error{constructor(n,s,i){super(n);Z(this,"name");Z(this,"status");Z(this,"request");Z(this,"response");this.name="HttpError",this.status=Number.parseInt(s),Number.isNaN(this.status)&&(this.status=0),"response"in i&&(this.response=i.response);const r=Object.assign({},i.request);i.request.headers.authorization&&(r.headers=Object.assign({},i.request.headers,{authorization:i.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),r.url=r.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=r}};var kbe="0.0.0-development",Pbe={headers:{"user-agent":`octokit-request.js/${kbe} ${zw()}`}};function Ibe(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);if(e===null)return!0;const n=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Function.prototype.call(n)===Function.prototype.call(t)}async function IA(t){var d,f,h,y,_;const e=((d=t.request)==null?void 0:d.fetch)||globalThis.fetch;if(!e)throw new Error("fetch is not set. Please pass a fetch implementation as new Octokit({ request: { fetch }}). Learn more at https://github.com/octokit/octokit.js/#fetch-missing");const n=((f=t.request)==null?void 0:f.log)||console,s=((h=t.request)==null?void 0:h.parseSuccessResponseBody)!==!1,i=Ibe(t.body)||Array.isArray(t.body)?JSON.stringify(t.body):t.body,r=Object.fromEntries(Object.entries(t.headers).map(([p,g])=>[p,String(g)]));let o;try{o=await e(t.url,{method:t.method,body:i,redirect:(y=t.request)==null?void 0:y.redirect,headers:r,signal:(_=t.request)==null?void 0:_.signal,...t.body&&{duplex:"half"}})}catch(p){let g="Unknown Error";if(p instanceof Error){if(p.name==="AbortError")throw p.status=500,p;g=p.message,p.name==="TypeError"&&"cause"in p&&(p.cause instanceof Error?g=p.cause.message:typeof p.cause=="string"&&(g=p.cause))}const b=new cp(g,500,{request:t});throw b.cause=p,b}const a=o.status,l=o.url,c={};for(const[p,g]of o.headers)c[p]=g;const u={url:l,status:a,headers:c,data:""};if("deprecation"in c){const p=c.link&&c.link.match(/<([^>]+)>; rel="deprecation"/),g=p&&p.pop();n.warn(`[@octokit/request] "${t.method} ${t.url}" is deprecated. It is scheduled to be removed on ${c.sunset}${g?`. See ${g}`:""}`)}if(a===204||a===205)return u;if(t.method==="HEAD"){if(a<400)return u;throw new cp(o.statusText,a,{response:u,request:t})}if(a===304)throw u.data=await H0(o),new cp("Not modified",a,{response:u,request:t});if(a>=400)throw u.data=await H0(o),new cp(Obe(u.data),a,{response:u,request:t});return u.data=s?await H0(o):o.body,u}async function H0(t){const e=t.headers.get("content-type");return/application\/json/.test(e)?t.json().catch(()=>t.text()).catch(()=>""):!e||/^text\/|charset=utf-8$/.test(e)?t.text():t.arrayBuffer()}function Obe(t){if(typeof t=="string")return t;if(t instanceof ArrayBuffer)return"Unknown error";if("message"in t){const e="documentation_url"in t?` - ${t.documentation_url}`:"";return Array.isArray(t.errors)?`${t.message}: ${t.errors.map(n=>JSON.stringify(n)).join(", ")}${e}`:`${t.message}${e}`}return`Unknown error: ${JSON.stringify(t)}`}function Jy(t,e){const n=t.defaults(e);return Object.assign(function(i,r){const o=n.merge(i,r);if(!o.request||!o.request.hook)return IA(n.parse(o));const a=(l,c)=>IA(n.parse(n.merge(l,c)));return Object.assign(a,{endpoint:n,defaults:Jy.bind(null,n)}),o.request.hook(a,o)},{endpoint:n,defaults:Jy.bind(null,n)})}var Lbe=Jy(Cbe,Pbe);function Vw(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof process=="object"&&process.version!==void 0?`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`:"<environment undetectable>"}var Dbe="0.0.0-development",Nbe=`octokit-endpoint.js/${Dbe} ${Vw()}`,Ube={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":Nbe},mediaType:{format:""}};function $be(t){return t?Object.keys(t).reduce((e,n)=>(e[n.toLowerCase()]=t[n],e),{}):{}}function Fbe(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);if(e===null)return!0;const n=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Function.prototype.call(n)===Function.prototype.call(t)}function p8(t,e){const n=Object.assign({},t);return Object.keys(e).forEach(s=>{Fbe(e[s])?s in t?n[s]=p8(t[s],e[s]):Object.assign(n,{[s]:e[s]}):Object.assign(n,{[s]:e[s]})}),n}function OA(t){for(const e in t)t[e]===void 0&&delete t[e];return t}function Qy(t,e,n){var i;if(typeof e=="string"){let[r,o]=e.split(" ");n=Object.assign(o?{method:r,url:o}:{url:r},n)}else n=Object.assign({},e);n.headers=$be(n.headers),OA(n),OA(n.headers);const s=p8(t||{},n);return n.url==="/graphql"&&(t&&((i=t.mediaType.previews)!=null&&i.length)&&(s.mediaType.previews=t.mediaType.previews.filter(r=>!s.mediaType.previews.includes(r)).concat(s.mediaType.previews)),s.mediaType.previews=(s.mediaType.previews||[]).map(r=>r.replace(/-preview/,""))),s}function Bbe(t,e){const n=/\?/.test(t)?"&":"?",s=Object.keys(e);return s.length===0?t:t+n+s.map(i=>i==="q"?"q="+e.q.split("+").map(encodeURIComponent).join("+"):`${i}=${encodeURIComponent(e[i])}`).join("&")}var Hbe=/\{[^}]+\}/g;function Gbe(t){return t.replace(/^\W+|\W+$/g,"").split(/,/)}function zbe(t){const e=t.match(Hbe);return e?e.map(Gbe).reduce((n,s)=>n.concat(s),[]):[]}function LA(t,e){const n={__proto__:null};for(const s of Object.keys(t))e.indexOf(s)===-1&&(n[s]=t[s]);return n}function m8(t){return t.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e}).join("")}function bc(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function pd(t,e,n){return e=t==="+"||t==="#"?m8(e):bc(e),n?bc(n)+"="+e:e}function Zl(t){return t!=null}function G0(t){return t===";"||t==="&"||t==="?"}function Vbe(t,e,n,s){var i=t[n],r=[];if(Zl(i)&&i!=="")if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")i=i.toString(),s&&s!=="*"&&(i=i.substring(0,parseInt(s,10))),r.push(pd(e,i,G0(e)?n:""));else if(s==="*")Array.isArray(i)?i.filter(Zl).forEach(function(o){r.push(pd(e,o,G0(e)?n:""))}):Object.keys(i).forEach(function(o){Zl(i[o])&&r.push(pd(e,i[o],o))});else{const o=[];Array.isArray(i)?i.filter(Zl).forEach(function(a){o.push(pd(e,a))}):Object.keys(i).forEach(function(a){Zl(i[a])&&(o.push(bc(a)),o.push(pd(e,i[a].toString())))}),G0(e)?r.push(bc(n)+"="+o.join(",")):o.length!==0&&r.push(o.join(","))}else e===";"?Zl(i)&&r.push(bc(n)):i===""&&(e==="&"||e==="?")?r.push(bc(n)+"="):i===""&&r.push("");return r}function jbe(t){return{expand:Wbe.bind(null,t)}}function Wbe(t,e){var n=["+","#",".","/",";","?","&"];return t=t.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(s,i,r){if(i){let a="";const l=[];if(n.indexOf(i.charAt(0))!==-1&&(a=i.charAt(0),i=i.substr(1)),i.split(/,/g).forEach(function(c){var u=/([^:\*]*)(?::(\d+)|(\*))?/.exec(c);l.push(Vbe(e,a,u[1],u[2]||u[3]))}),a&&a!=="+"){var o=",";return a==="?"?o="&":a!=="#"&&(o=a),(l.length!==0?a:"")+l.join(o)}else return l.join(",")}else return m8(r)}),t==="/"?t:t.replace(/\/$/,"")}function g8(t){var u;let e=t.method.toUpperCase(),n=(t.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),s=Object.assign({},t.headers),i,r=LA(t,["method","baseUrl","url","headers","request","mediaType"]);const o=zbe(n);n=jbe(n).expand(r),/^http/.test(n)||(n=t.baseUrl+n);const a=Object.keys(t).filter(d=>o.includes(d)).concat("baseUrl"),l=LA(r,a);if(!/application\/octet-stream/i.test(s.accept)&&(t.mediaType.format&&(s.accept=s.accept.split(/,/).map(d=>d.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${t.mediaType.format}`)).join(",")),n.endsWith("/graphql")&&(u=t.mediaType.previews)!=null&&u.length)){const d=s.accept.match(/[\w-]+(?=-preview)/g)||[];s.accept=d.concat(t.mediaType.previews).map(f=>{const h=t.mediaType.format?`.${t.mediaType.format}`:"+json";return`application/vnd.github.${f}-preview${h}`}).join(",")}return["GET","HEAD"].includes(e)?n=Bbe(n,l):"data"in l?i=l.data:Object.keys(l).length&&(i=l),!s["content-type"]&&typeof i<"u"&&(s["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(e)&&typeof i>"u"&&(i=""),Object.assign({method:e,url:n,headers:s},typeof i<"u"?{body:i}:null,t.request?{request:t.request}:null)}function qbe(t,e,n){return g8(Qy(t,e,n))}function _8(t,e){const n=Qy(t,e),s=qbe.bind(null,n);return Object.assign(s,{DEFAULTS:n,defaults:_8.bind(null,n),merge:Qy.bind(null,n),parse:g8})}var Xbe=_8(null,Ube);let up=class extends Error{constructor(n,s,i){super(n);Z(this,"name");Z(this,"status");Z(this,"request");Z(this,"response");this.name="HttpError",this.status=Number.parseInt(s),Number.isNaN(this.status)&&(this.status=0),"response"in i&&(this.response=i.response);const r=Object.assign({},i.request);i.request.headers.authorization&&(r.headers=Object.assign({},i.request.headers,{authorization:i.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),r.url=r.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=r}};var Kbe="0.0.0-development",Ybe={headers:{"user-agent":`octokit-request.js/${Kbe} ${Vw()}`}};function Zbe(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);if(e===null)return!0;const n=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Function.prototype.call(n)===Function.prototype.call(t)}async function DA(t){var d,f,h,y,_;const e=((d=t.request)==null?void 0:d.fetch)||globalThis.fetch;if(!e)throw new Error("fetch is not set. Please pass a fetch implementation as new Octokit({ request: { fetch }}). Learn more at https://github.com/octokit/octokit.js/#fetch-missing");const n=((f=t.request)==null?void 0:f.log)||console,s=((h=t.request)==null?void 0:h.parseSuccessResponseBody)!==!1,i=Zbe(t.body)||Array.isArray(t.body)?JSON.stringify(t.body):t.body,r=Object.fromEntries(Object.entries(t.headers).map(([p,g])=>[p,String(g)]));let o;try{o=await e(t.url,{method:t.method,body:i,redirect:(y=t.request)==null?void 0:y.redirect,headers:r,signal:(_=t.request)==null?void 0:_.signal,...t.body&&{duplex:"half"}})}catch(p){let g="Unknown Error";if(p instanceof Error){if(p.name==="AbortError")throw p.status=500,p;g=p.message,p.name==="TypeError"&&"cause"in p&&(p.cause instanceof Error?g=p.cause.message:typeof p.cause=="string"&&(g=p.cause))}const b=new up(g,500,{request:t});throw b.cause=p,b}const a=o.status,l=o.url,c={};for(const[p,g]of o.headers)c[p]=g;const u={url:l,status:a,headers:c,data:""};if("deprecation"in c){const p=c.link&&c.link.match(/<([^>]+)>; rel="deprecation"/),g=p&&p.pop();n.warn(`[@octokit/request] "${t.method} ${t.url}" is deprecated. It is scheduled to be removed on ${c.sunset}${g?`. See ${g}`:""}`)}if(a===204||a===205)return u;if(t.method==="HEAD"){if(a<400)return u;throw new up(o.statusText,a,{response:u,request:t})}if(a===304)throw u.data=await z0(o),new up("Not modified",a,{response:u,request:t});if(a>=400)throw u.data=await z0(o),new up(Jbe(u.data),a,{response:u,request:t});return u.data=s?await z0(o):o.body,u}async function z0(t){const e=t.headers.get("content-type");return/application\/json/.test(e)?t.json().catch(()=>t.text()).catch(()=>""):!e||/^text\/|charset=utf-8$/.test(e)?t.text():t.arrayBuffer()}function Jbe(t){if(typeof t=="string")return t;if(t instanceof ArrayBuffer)return"Unknown error";if("message"in t){const e="documentation_url"in t?` - ${t.documentation_url}`:"";return Array.isArray(t.errors)?`${t.message}: ${t.errors.map(n=>JSON.stringify(n)).join(", ")}${e}`:`${t.message}${e}`}return`Unknown error: ${JSON.stringify(t)}`}function eb(t,e){const n=t.defaults(e);return Object.assign(function(i,r){const o=n.merge(i,r);if(!o.request||!o.request.hook)return DA(n.parse(o));const a=(l,c)=>DA(n.parse(n.merge(l,c)));return Object.assign(a,{endpoint:n,defaults:eb.bind(null,n)}),o.request.hook(a,o)},{endpoint:n,defaults:eb.bind(null,n)})}var Qbe=eb(Xbe,Ybe);function jw(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof process=="object"&&process.version!==void 0?`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`:"<environment undetectable>"}var eve="0.0.0-development",tve=`octokit-endpoint.js/${eve} ${jw()}`,nve={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":tve},mediaType:{format:""}};function sve(t){return t?Object.keys(t).reduce((e,n)=>(e[n.toLowerCase()]=t[n],e),{}):{}}function ive(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);if(e===null)return!0;const n=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Function.prototype.call(n)===Function.prototype.call(t)}function y8(t,e){const n=Object.assign({},t);return Object.keys(e).forEach(s=>{ive(e[s])?s in t?n[s]=y8(t[s],e[s]):Object.assign(n,{[s]:e[s]}):Object.assign(n,{[s]:e[s]})}),n}function NA(t){for(const e in t)t[e]===void 0&&delete t[e];return t}function tb(t,e,n){var i;if(typeof e=="string"){let[r,o]=e.split(" ");n=Object.assign(o?{method:r,url:o}:{url:r},n)}else n=Object.assign({},e);n.headers=sve(n.headers),NA(n),NA(n.headers);const s=y8(t||{},n);return n.url==="/graphql"&&(t&&((i=t.mediaType.previews)!=null&&i.length)&&(s.mediaType.previews=t.mediaType.previews.filter(r=>!s.mediaType.previews.includes(r)).concat(s.mediaType.previews)),s.mediaType.previews=(s.mediaType.previews||[]).map(r=>r.replace(/-preview/,""))),s}function rve(t,e){const n=/\?/.test(t)?"&":"?",s=Object.keys(e);return s.length===0?t:t+n+s.map(i=>i==="q"?"q="+e.q.split("+").map(encodeURIComponent).join("+"):`${i}=${encodeURIComponent(e[i])}`).join("&")}var ove=/\{[^}]+\}/g;function ave(t){return t.replace(/^\W+|\W+$/g,"").split(/,/)}function lve(t){const e=t.match(ove);return e?e.map(ave).reduce((n,s)=>n.concat(s),[]):[]}function UA(t,e){const n={__proto__:null};for(const s of Object.keys(t))e.indexOf(s)===-1&&(n[s]=t[s]);return n}function b8(t){return t.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e}).join("")}function vc(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function md(t,e,n){return e=t==="+"||t==="#"?b8(e):vc(e),n?vc(n)+"="+e:e}function Jl(t){return t!=null}function V0(t){return t===";"||t==="&"||t==="?"}function cve(t,e,n,s){var i=t[n],r=[];if(Jl(i)&&i!=="")if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")i=i.toString(),s&&s!=="*"&&(i=i.substring(0,parseInt(s,10))),r.push(md(e,i,V0(e)?n:""));else if(s==="*")Array.isArray(i)?i.filter(Jl).forEach(function(o){r.push(md(e,o,V0(e)?n:""))}):Object.keys(i).forEach(function(o){Jl(i[o])&&r.push(md(e,i[o],o))});else{const o=[];Array.isArray(i)?i.filter(Jl).forEach(function(a){o.push(md(e,a))}):Object.keys(i).forEach(function(a){Jl(i[a])&&(o.push(vc(a)),o.push(md(e,i[a].toString())))}),V0(e)?r.push(vc(n)+"="+o.join(",")):o.length!==0&&r.push(o.join(","))}else e===";"?Jl(i)&&r.push(vc(n)):i===""&&(e==="&"||e==="?")?r.push(vc(n)+"="):i===""&&r.push("");return r}function uve(t){return{expand:dve.bind(null,t)}}function dve(t,e){var n=["+","#",".","/",";","?","&"];return t=t.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(s,i,r){if(i){let a="";const l=[];if(n.indexOf(i.charAt(0))!==-1&&(a=i.charAt(0),i=i.substr(1)),i.split(/,/g).forEach(function(c){var u=/([^:\*]*)(?::(\d+)|(\*))?/.exec(c);l.push(cve(e,a,u[1],u[2]||u[3]))}),a&&a!=="+"){var o=",";return a==="?"?o="&":a!=="#"&&(o=a),(l.length!==0?a:"")+l.join(o)}else return l.join(",")}else return b8(r)}),t==="/"?t:t.replace(/\/$/,"")}function v8(t){var u;let e=t.method.toUpperCase(),n=(t.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),s=Object.assign({},t.headers),i,r=UA(t,["method","baseUrl","url","headers","request","mediaType"]);const o=lve(n);n=uve(n).expand(r),/^http/.test(n)||(n=t.baseUrl+n);const a=Object.keys(t).filter(d=>o.includes(d)).concat("baseUrl"),l=UA(r,a);if(!/application\/octet-stream/i.test(s.accept)&&(t.mediaType.format&&(s.accept=s.accept.split(/,/).map(d=>d.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${t.mediaType.format}`)).join(",")),n.endsWith("/graphql")&&(u=t.mediaType.previews)!=null&&u.length)){const d=s.accept.match(/[\w-]+(?=-preview)/g)||[];s.accept=d.concat(t.mediaType.previews).map(f=>{const h=t.mediaType.format?`.${t.mediaType.format}`:"+json";return`application/vnd.github.${f}-preview${h}`}).join(",")}return["GET","HEAD"].includes(e)?n=rve(n,l):"data"in l?i=l.data:Object.keys(l).length&&(i=l),!s["content-type"]&&typeof i<"u"&&(s["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(e)&&typeof i>"u"&&(i=""),Object.assign({method:e,url:n,headers:s},typeof i<"u"?{body:i}:null,t.request?{request:t.request}:null)}function fve(t,e,n){return v8(tb(t,e,n))}function w8(t,e){const n=tb(t,e),s=fve.bind(null,n);return Object.assign(s,{DEFAULTS:n,defaults:w8.bind(null,n),merge:tb.bind(null,n),parse:v8})}var hve=w8(null,nve);let dp=class extends Error{constructor(n,s,i){super(n);Z(this,"name");Z(this,"status");Z(this,"request");Z(this,"response");this.name="HttpError",this.status=Number.parseInt(s),Number.isNaN(this.status)&&(this.status=0),"response"in i&&(this.response=i.response);const r=Object.assign({},i.request);i.request.headers.authorization&&(r.headers=Object.assign({},i.request.headers,{authorization:i.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),r.url=r.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=r}};var pve="0.0.0-development",mve={headers:{"user-agent":`octokit-request.js/${pve} ${jw()}`}};function gve(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);if(e===null)return!0;const n=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Function.prototype.call(n)===Function.prototype.call(t)}async function $A(t){var d,f,h,y,_;const e=((d=t.request)==null?void 0:d.fetch)||globalThis.fetch;if(!e)throw new Error("fetch is not set. Please pass a fetch implementation as new Octokit({ request: { fetch }}). Learn more at https://github.com/octokit/octokit.js/#fetch-missing");const n=((f=t.request)==null?void 0:f.log)||console,s=((h=t.request)==null?void 0:h.parseSuccessResponseBody)!==!1,i=gve(t.body)||Array.isArray(t.body)?JSON.stringify(t.body):t.body,r=Object.fromEntries(Object.entries(t.headers).map(([p,g])=>[p,String(g)]));let o;try{o=await e(t.url,{method:t.method,body:i,redirect:(y=t.request)==null?void 0:y.redirect,headers:r,signal:(_=t.request)==null?void 0:_.signal,...t.body&&{duplex:"half"}})}catch(p){let g="Unknown Error";if(p instanceof Error){if(p.name==="AbortError")throw p.status=500,p;g=p.message,p.name==="TypeError"&&"cause"in p&&(p.cause instanceof Error?g=p.cause.message:typeof p.cause=="string"&&(g=p.cause))}const b=new dp(g,500,{request:t});throw b.cause=p,b}const a=o.status,l=o.url,c={};for(const[p,g]of o.headers)c[p]=g;const u={url:l,status:a,headers:c,data:""};if("deprecation"in c){const p=c.link&&c.link.match(/<([^>]+)>; rel="deprecation"/),g=p&&p.pop();n.warn(`[@octokit/request] "${t.method} ${t.url}" is deprecated. It is scheduled to be removed on ${c.sunset}${g?`. See ${g}`:""}`)}if(a===204||a===205)return u;if(t.method==="HEAD"){if(a<400)return u;throw new dp(o.statusText,a,{response:u,request:t})}if(a===304)throw u.data=await j0(o),new dp("Not modified",a,{response:u,request:t});if(a>=400)throw u.data=await j0(o),new dp(_ve(u.data),a,{response:u,request:t});return u.data=s?await j0(o):o.body,u}async function j0(t){const e=t.headers.get("content-type");return/application\/json/.test(e)?t.json().catch(()=>t.text()).catch(()=>""):!e||/^text\/|charset=utf-8$/.test(e)?t.text():t.arrayBuffer()}function _ve(t){if(typeof t=="string")return t;if(t instanceof ArrayBuffer)return"Unknown error";if("message"in t){const e="documentation_url"in t?` - ${t.documentation_url}`:"";return Array.isArray(t.errors)?`${t.message}: ${t.errors.map(n=>JSON.stringify(n)).join(", ")}${e}`:`${t.message}${e}`}return`Unknown error: ${JSON.stringify(t)}`}function nb(t,e){const n=t.defaults(e);return Object.assign(function(i,r){const o=n.merge(i,r);if(!o.request||!o.request.hook)return $A(n.parse(o));const a=(l,c)=>$A(n.parse(n.merge(l,c)));return Object.assign(a,{endpoint:n,defaults:nb.bind(null,n)}),o.request.hook(a,o)},{endpoint:n,defaults:nb.bind(null,n)})}var yve=nb(hve,mve);function bve(t){const e=t.clientType||"oauth-app",n=t.baseUrl||"https://github.com",s={clientType:e,allowSignup:t.allowSignup!==!1,clientId:t.clientId,login:t.login||null,redirectUrl:t.redirectUrl||null,state:t.state||Math.random().toString(36).substr(2),url:""};if(e==="oauth-app"){const i="scopes"in t?t.scopes:[];s.scopes=typeof i=="string"?i.split(/[,\s]+/).filter(Boolean):i}return s.url=vve(`${n}/login/oauth/authorize`,s),s}function vve(t,e){const n={allowSignup:"allow_signup",clientId:"client_id",login:"login",redirectUrl:"redirect_uri",scopes:"scope",state:"state"};let s=t;return Object.keys(n).filter(i=>e[i]!==null).filter(i=>i!=="scopes"?!0:e.clientType==="github-app"?!1:!Array.isArray(e[i])||e[i].length>0).map(i=>[n[i],`${e[i]}`]).forEach(([i,r],o)=>{s+=o===0?"?":"&",s+=`${i}=${encodeURIComponent(r)}`}),s}function x8(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof process=="object"&&process.version!==void 0?`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`:"<environment undetectable>"}var wve="0.0.0-development",xve=`octokit-endpoint.js/${wve} ${x8()}`,Eve={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":xve},mediaType:{format:""}};function Sve(t){return t?Object.keys(t).reduce((e,n)=>(e[n.toLowerCase()]=t[n],e),{}):{}}function Tve(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);if(e===null)return!0;const n=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Function.prototype.call(n)===Function.prototype.call(t)}function E8(t,e){const n=Object.assign({},t);return Object.keys(e).forEach(s=>{Tve(e[s])?s in t?n[s]=E8(t[s],e[s]):Object.assign(n,{[s]:e[s]}):Object.assign(n,{[s]:e[s]})}),n}function FA(t){for(const e in t)t[e]===void 0&&delete t[e];return t}function sb(t,e,n){var i;if(typeof e=="string"){let[r,o]=e.split(" ");n=Object.assign(o?{method:r,url:o}:{url:r},n)}else n=Object.assign({},e);n.headers=Sve(n.headers),FA(n),FA(n.headers);const s=E8(t||{},n);return n.url==="/graphql"&&(t&&((i=t.mediaType.previews)!=null&&i.length)&&(s.mediaType.previews=t.mediaType.previews.filter(r=>!s.mediaType.previews.includes(r)).concat(s.mediaType.previews)),s.mediaType.previews=(s.mediaType.previews||[]).map(r=>r.replace(/-preview/,""))),s}function Ave(t,e){const n=/\?/.test(t)?"&":"?",s=Object.keys(e);return s.length===0?t:t+n+s.map(i=>i==="q"?"q="+e.q.split("+").map(encodeURIComponent).join("+"):`${i}=${encodeURIComponent(e[i])}`).join("&")}var Mve=/\{[^}]+\}/g;function Rve(t){return t.replace(/^\W+|\W+$/g,"").split(/,/)}function Cve(t){const e=t.match(Mve);return e?e.map(Rve).reduce((n,s)=>n.concat(s),[]):[]}function BA(t,e){const n={__proto__:null};for(const s of Object.keys(t))e.indexOf(s)===-1&&(n[s]=t[s]);return n}function S8(t){return t.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e}).join("")}function wc(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function gd(t,e,n){return e=t==="+"||t==="#"?S8(e):wc(e),n?wc(n)+"="+e:e}function Ql(t){return t!=null}function W0(t){return t===";"||t==="&"||t==="?"}function kve(t,e,n,s){var i=t[n],r=[];if(Ql(i)&&i!=="")if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")i=i.toString(),s&&s!=="*"&&(i=i.substring(0,parseInt(s,10))),r.push(gd(e,i,W0(e)?n:""));else if(s==="*")Array.isArray(i)?i.filter(Ql).forEach(function(o){r.push(gd(e,o,W0(e)?n:""))}):Object.keys(i).forEach(function(o){Ql(i[o])&&r.push(gd(e,i[o],o))});else{const o=[];Array.isArray(i)?i.filter(Ql).forEach(function(a){o.push(gd(e,a))}):Object.keys(i).forEach(function(a){Ql(i[a])&&(o.push(wc(a)),o.push(gd(e,i[a].toString())))}),W0(e)?r.push(wc(n)+"="+o.join(",")):o.length!==0&&r.push(o.join(","))}else e===";"?Ql(i)&&r.push(wc(n)):i===""&&(e==="&"||e==="?")?r.push(wc(n)+"="):i===""&&r.push("");return r}function Pve(t){return{expand:Ive.bind(null,t)}}function Ive(t,e){var n=["+","#",".","/",";","?","&"];return t=t.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(s,i,r){if(i){let a="";const l=[];if(n.indexOf(i.charAt(0))!==-1&&(a=i.charAt(0),i=i.substr(1)),i.split(/,/g).forEach(function(c){var u=/([^:\*]*)(?::(\d+)|(\*))?/.exec(c);l.push(kve(e,a,u[1],u[2]||u[3]))}),a&&a!=="+"){var o=",";return a==="?"?o="&":a!=="#"&&(o=a),(l.length!==0?a:"")+l.join(o)}else return l.join(",")}else return S8(r)}),t==="/"?t:t.replace(/\/$/,"")}function T8(t){var u;let e=t.method.toUpperCase(),n=(t.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),s=Object.assign({},t.headers),i,r=BA(t,["method","baseUrl","url","headers","request","mediaType"]);const o=Cve(n);n=Pve(n).expand(r),/^http/.test(n)||(n=t.baseUrl+n);const a=Object.keys(t).filter(d=>o.includes(d)).concat("baseUrl"),l=BA(r,a);if(!/application\/octet-stream/i.test(s.accept)&&(t.mediaType.format&&(s.accept=s.accept.split(/,/).map(d=>d.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${t.mediaType.format}`)).join(",")),n.endsWith("/graphql")&&(u=t.mediaType.previews)!=null&&u.length)){const d=s.accept.match(/[\w-]+(?=-preview)/g)||[];s.accept=d.concat(t.mediaType.previews).map(f=>{const h=t.mediaType.format?`.${t.mediaType.format}`:"+json";return`application/vnd.github.${f}-preview${h}`}).join(",")}return["GET","HEAD"].includes(e)?n=Ave(n,l):"data"in l?i=l.data:Object.keys(l).length&&(i=l),!s["content-type"]&&typeof i<"u"&&(s["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(e)&&typeof i>"u"&&(i=""),Object.assign({method:e,url:n,headers:s},typeof i<"u"?{body:i}:null,t.request?{request:t.request}:null)}function Ove(t,e,n){return T8(sb(t,e,n))}function A8(t,e){const n=sb(t,e),s=Ove.bind(null,n);return Object.assign(s,{DEFAULTS:n,defaults:A8.bind(null,n),merge:sb.bind(null,n),parse:T8})}var Lve=A8(null,Eve);let Dd=class extends Error{constructor(n,s,i){super(n);Z(this,"name");Z(this,"status");Z(this,"request");Z(this,"response");this.name="HttpError",this.status=Number.parseInt(s),Number.isNaN(this.status)&&(this.status=0),"response"in i&&(this.response=i.response);const r=Object.assign({},i.request);i.request.headers.authorization&&(r.headers=Object.assign({},i.request.headers,{authorization:i.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),r.url=r.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=r}};var Dve="0.0.0-development",Nve={headers:{"user-agent":`octokit-request.js/${Dve} ${x8()}`}};function Uve(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);if(e===null)return!0;const n=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Function.prototype.call(n)===Function.prototype.call(t)}async function HA(t){var d,f,h,y,_;const e=((d=t.request)==null?void 0:d.fetch)||globalThis.fetch;if(!e)throw new Error("fetch is not set. Please pass a fetch implementation as new Octokit({ request: { fetch }}). Learn more at https://github.com/octokit/octokit.js/#fetch-missing");const n=((f=t.request)==null?void 0:f.log)||console,s=((h=t.request)==null?void 0:h.parseSuccessResponseBody)!==!1,i=Uve(t.body)||Array.isArray(t.body)?JSON.stringify(t.body):t.body,r=Object.fromEntries(Object.entries(t.headers).map(([p,g])=>[p,String(g)]));let o;try{o=await e(t.url,{method:t.method,body:i,redirect:(y=t.request)==null?void 0:y.redirect,headers:r,signal:(_=t.request)==null?void 0:_.signal,...t.body&&{duplex:"half"}})}catch(p){let g="Unknown Error";if(p instanceof Error){if(p.name==="AbortError")throw p.status=500,p;g=p.message,p.name==="TypeError"&&"cause"in p&&(p.cause instanceof Error?g=p.cause.message:typeof p.cause=="string"&&(g=p.cause))}const b=new Dd(g,500,{request:t});throw b.cause=p,b}const a=o.status,l=o.url,c={};for(const[p,g]of o.headers)c[p]=g;const u={url:l,status:a,headers:c,data:""};if("deprecation"in c){const p=c.link&&c.link.match(/<([^>]+)>; rel="deprecation"/),g=p&&p.pop();n.warn(`[@octokit/request] "${t.method} ${t.url}" is deprecated. It is scheduled to be removed on ${c.sunset}${g?`. See ${g}`:""}`)}if(a===204||a===205)return u;if(t.method==="HEAD"){if(a<400)return u;throw new Dd(o.statusText,a,{response:u,request:t})}if(a===304)throw u.data=await q0(o),new Dd("Not modified",a,{response:u,request:t});if(a>=400)throw u.data=await q0(o),new Dd($ve(u.data),a,{response:u,request:t});return u.data=s?await q0(o):o.body,u}async function q0(t){const e=t.headers.get("content-type");return/application\/json/.test(e)?t.json().catch(()=>t.text()).catch(()=>""):!e||/^text\/|charset=utf-8$/.test(e)?t.text():t.arrayBuffer()}function $ve(t){if(typeof t=="string")return t;if(t instanceof ArrayBuffer)return"Unknown error";if("message"in t){const e="documentation_url"in t?` - ${t.documentation_url}`:"";return Array.isArray(t.errors)?`${t.message}: ${t.errors.map(n=>JSON.stringify(n)).join(", ")}${e}`:`${t.message}${e}`}return`Unknown error: ${JSON.stringify(t)}`}function ib(t,e){const n=t.defaults(e);return Object.assign(function(i,r){const o=n.merge(i,r);if(!o.request||!o.request.hook)return HA(n.parse(o));const a=(l,c)=>HA(n.parse(n.merge(l,c)));return Object.assign(a,{endpoint:n,defaults:ib.bind(null,n)}),o.request.hook(a,o)},{endpoint:n,defaults:ib.bind(null,n)})}var dr=ib(Lve,Nve);function M8(t){const e=t.endpoint.DEFAULTS;return/^https:\/\/(api\.)?github\.com$/.test(e.baseUrl)?"https://github.com":e.baseUrl.replace("/api/v3","")}async function t_(t,e,n){const s={baseUrl:M8(t),headers:{accept:"application/json"},...n},i=await t(e,s);if("error"in i.data){const r=new Dd(`${i.data.error_description} (${i.data.error}, ${i.data.error_uri})`,400,{request:t.endpoint.merge(e,s)});throw r.response=i,r}return i}function Fve({request:t=dr,...e}){const n=M8(t);return bve({...e,baseUrl:n})}async function Bve(t){const e=t.request||dr,n=await t_(e,"POST /login/oauth/access_token",{client_id:t.clientId,client_secret:t.clientSecret,code:t.code,redirect_uri:t.redirectUrl}),s={clientType:t.clientType,clientId:t.clientId,clientSecret:t.clientSecret,token:n.data.access_token,scopes:n.data.scope.split(/\s+/).filter(Boolean)};if(t.clientType==="github-app"){if("refresh_token"in n.data){const i=new Date(n.headers.date).getTime();s.refreshToken=n.data.refresh_token,s.expiresAt=GA(i,n.data.expires_in),s.refreshTokenExpiresAt=GA(i,n.data.refresh_token_expires_in)}delete s.scopes}return{...n,authentication:s}}function GA(t,e){return new Date(t+e*1e3).toISOString()}async function Hve(t){const e=t.request||dr,n={client_id:t.clientId};return"scopes"in t&&Array.isArray(t.scopes)&&(n.scope=t.scopes.join(" ")),t_(e,"POST /login/device/code",n)}async function zA(t){const e=t.request||dr,n=await t_(e,"POST /login/oauth/access_token",{client_id:t.clientId,device_code:t.code,grant_type:"urn:ietf:params:oauth:grant-type:device_code"}),s={clientType:t.clientType,clientId:t.clientId,token:n.data.access_token,scopes:n.data.scope.split(/\s+/).filter(Boolean)};if("clientSecret"in t&&(s.clientSecret=t.clientSecret),t.clientType==="github-app"){if("refresh_token"in n.data){const i=new Date(n.headers.date).getTime();s.refreshToken=n.data.refresh_token,s.expiresAt=VA(i,n.data.expires_in),s.refreshTokenExpiresAt=VA(i,n.data.refresh_token_expires_in)}delete s.scopes}return{...n,authentication:s}}function VA(t,e){return new Date(t+e*1e3).toISOString()}async function R8(t){const n=await(t.request||dr)("POST /applications/{client_id}/token",{headers:{authorization:`basic ${btoa(`${t.clientId}:${t.clientSecret}`)}`},client_id:t.clientId,access_token:t.token}),s={clientType:t.clientType,clientId:t.clientId,clientSecret:t.clientSecret,token:t.token,scopes:n.data.scopes};return n.data.expires_at&&(s.expiresAt=n.data.expires_at),t.clientType==="github-app"&&delete s.scopes,{...n,authentication:s}}async function C8(t){const e=t.request||dr,n=await t_(e,"POST /login/oauth/access_token",{client_id:t.clientId,client_secret:t.clientSecret,grant_type:"refresh_token",refresh_token:t.refreshToken}),s=new Date(n.headers.date).getTime(),i={clientType:"github-app",clientId:t.clientId,clientSecret:t.clientSecret,token:n.data.access_token,refreshToken:n.data.refresh_token,expiresAt:jA(s,n.data.expires_in),refreshTokenExpiresAt:jA(s,n.data.refresh_token_expires_in)};return{...n,authentication:i}}function jA(t,e){return new Date(t+e*1e3).toISOString()}async function Gve(t){const{request:e,clientType:n,clientId:s,clientSecret:i,token:r,...o}=t,l=await(e||dr)("POST /applications/{client_id}/token/scoped",{headers:{authorization:`basic ${btoa(`${s}:${i}`)}`},client_id:s,access_token:r,...o}),c=Object.assign({clientType:n,clientId:s,clientSecret:i,token:l.data.token},l.data.expires_at?{expiresAt:l.data.expires_at}:{});return{...l,authentication:c}}async function rb(t){const e=t.request||dr,n=btoa(`${t.clientId}:${t.clientSecret}`),s=await e("PATCH /applications/{client_id}/token",{headers:{authorization:`basic ${n}`},client_id:t.clientId,access_token:t.token}),i={clientType:t.clientType,clientId:t.clientId,clientSecret:t.clientSecret,token:s.data.token,scopes:s.data.scopes};return s.data.expires_at&&(i.expiresAt=s.data.expires_at),t.clientType==="github-app"&&delete i.scopes,{...s,authentication:i}}async function ob(t){const e=t.request||dr,n=btoa(`${t.clientId}:${t.clientSecret}`);return e("DELETE /applications/{client_id}/token",{headers:{authorization:`basic ${n}`},client_id:t.clientId,access_token:t.token})}async function ab(t){const e=t.request||dr,n=btoa(`${t.clientId}:${t.clientSecret}`);return e("DELETE /applications/{client_id}/grant",{headers:{authorization:`basic ${n}`},client_id:t.clientId,access_token:t.token})}async function k8(t,e){const n=zve(t,e.auth);if(n)return n;const{data:s}=await Hve({clientType:t.clientType,clientId:t.clientId,request:e.request||t.request,scopes:e.auth.scopes||t.scopes});await t.onVerification(s);const i=await lb(e.request||t.request,t.clientId,t.clientType,s);return t.authentication=i,i}function zve(t,e){if(e.refresh===!0||!t.authentication)return!1;if(t.clientType==="github-app")return t.authentication;const n=t.authentication,s=("scopes"in e&&e.scopes||t.scopes).join(" "),i=n.scopes.join(" ");return s===i?n:!1}async function WA(t){await new Promise(e=>setTimeout(e,t*1e3))}async function lb(t,e,n,s){try{const i={clientId:e,request:t,code:s.device_code},{authentication:r}=n==="oauth-app"?await zA({...i,clientType:"oauth-app"}):await zA({...i,clientType:"github-app"});return{type:"token",tokenType:"oauth",...r}}catch(i){if(!i.response)throw i;const r=i.response.data.error;if(r==="authorization_pending")return await WA(s.interval),lb(t,e,n,s);if(r==="slow_down")return await WA(s.interval+5),lb(t,e,n,s);throw i}}async function Vve(t,e){return k8(t,{auth:e})}async function jve(t,e,n,s){let i=e.endpoint.merge(n,s);if(/\/login\/(oauth\/access_token|device\/code)$/.test(i.url))return e(i);const{token:r}=await k8(t,{request:e,auth:{type:"oauth"}});return i.headers.authorization=`token ${r}`,e(i)}var Wve="0.0.0-development";function qve(t){const e=t.request||yve.defaults({headers:{"user-agent":`octokit-auth-oauth-device.js/${Wve} ${jw()}`}}),{request:n=e,...s}=t,i=t.clientType==="github-app"?{...s,clientType:"github-app",request:n}:{...s,clientType:"oauth-app",request:n,scopes:t.scopes||[]};if(!t.clientId)throw new Error('[@octokit/auth-oauth-device] "clientId" option must be set (https://github.com/octokit/auth-oauth-device.js#usage)');if(!t.onVerification)throw new Error('[@octokit/auth-oauth-device] "onVerification" option must be a function (https://github.com/octokit/auth-oauth-device.js#usage)');return Object.assign(Vve.bind(null,i),{hook:jve.bind(null,i)})}var P8="0.0.0-development";async function qA(t){if("code"in t.strategyOptions){const{authentication:e}=await Bve({clientId:t.clientId,clientSecret:t.clientSecret,clientType:t.clientType,onTokenCreated:t.onTokenCreated,...t.strategyOptions,request:t.request});return{type:"token",tokenType:"oauth",...e}}if("onVerification"in t.strategyOptions){const n=await qve({clientType:t.clientType,clientId:t.clientId,onTokenCreated:t.onTokenCreated,...t.strategyOptions,request:t.request})({type:"oauth"});return{clientSecret:t.clientSecret,...n}}if("token"in t.strategyOptions)return{type:"token",tokenType:"oauth",clientId:t.clientId,clientSecret:t.clientSecret,clientType:t.clientType,onTokenCreated:t.onTokenCreated,...t.strategyOptions};throw new Error("[@octokit/auth-oauth-user] Invalid strategy options")}async function cb(t,e={}){var s,i;if(t.authentication||(t.authentication=t.clientType==="oauth-app"?await qA(t):await qA(t)),t.authentication.invalid)throw new Error("[@octokit/auth-oauth-user] Token is invalid");const n=t.authentication;if("expiresAt"in n&&(e.type==="refresh"||new Date(n.expiresAt)<new Date)){const{authentication:r}=await C8({clientType:"github-app",clientId:t.clientId,clientSecret:t.clientSecret,refreshToken:n.refreshToken,request:t.request});t.authentication={tokenType:"oauth",type:"token",...r}}if(e.type==="refresh"){if(t.clientType==="oauth-app")throw new Error("[@octokit/auth-oauth-user] OAuth Apps do not support expiring tokens");if(!n.hasOwnProperty("expiresAt"))throw new Error("[@octokit/auth-oauth-user] Refresh token missing");await((s=t.onTokenCreated)==null?void 0:s.call(t,t.authentication,{type:e.type}))}if(e.type==="check"||e.type==="reset"){const r=e.type==="check"?R8:rb;try{const{authentication:o}=await r({clientType:t.clientType,clientId:t.clientId,clientSecret:t.clientSecret,token:t.authentication.token,request:t.request});return t.authentication={tokenType:"oauth",type:"token",...o},e.type==="reset"&&await((i=t.onTokenCreated)==null?void 0:i.call(t,t.authentication,{type:e.type})),t.authentication}catch(o){throw o.status===404&&(o.message="[@octokit/auth-oauth-user] Token is invalid",t.authentication.invalid=!0),o}}if(e.type==="delete"||e.type==="deleteAuthorization"){const r=e.type==="delete"?ob:ab;try{await r({clientType:t.clientType,clientId:t.clientId,clientSecret:t.clientSecret,token:t.authentication.token,request:t.request})}catch(o){if(o.status!==404)throw o}return t.authentication.invalid=!0,t.authentication}return t.authentication}var Xve=/\/applications\/[^/]+\/(token|grant)s?/;function Ww(t){return t&&Xve.test(t)}async function Kve(t,e,n,s={}){const i=e.endpoint.merge(n,s);if(/\/login\/(oauth\/access_token|device\/code)$/.test(i.url))return e(i);if(Ww(i.url)){const o=btoa(`${t.clientId}:${t.clientSecret}`);return i.headers.authorization=`basic ${o}`,e(i)}const{token:r}=t.clientType==="oauth-app"?await cb({...t,request:e}):await cb({...t,request:e});return i.headers.authorization="token "+r,e(i)}function Wr({clientId:t,clientSecret:e,clientType:n="oauth-app",request:s=Qbe.defaults({headers:{"user-agent":`octokit-auth-oauth-app.js/${P8} ${Vw()}`}}),onTokenCreated:i,...r}){const o=Object.assign({clientType:n,clientId:t,clientSecret:e,onTokenCreated:i,strategyOptions:r,request:s});return Object.assign(cb.bind(null,o),{hook:Kve.bind(null,o)})}Wr.VERSION=P8;async function Yve(t,e){if(e.type==="oauth-app")return{type:"oauth-app",clientId:t.clientId,clientSecret:t.clientSecret,clientType:t.clientType,headers:{authorization:`basic ${btoa(`${t.clientId}:${t.clientSecret}`)}`}};if("factory"in e){const{type:i,...r}={...e,...t};return e.factory(r)}const n={clientId:t.clientId,clientSecret:t.clientSecret,request:t.request,...e};return(t.clientType==="oauth-app"?await Wr({...n,clientType:t.clientType}):await Wr({...n,clientType:t.clientType}))()}async function Zve(t,e,n,s){let i=e.endpoint.merge(n,s);if(/\/login\/(oauth\/access_token|device\/code)$/.test(i.url))return e(i);if(t.clientType==="github-app"&&!Ww(i.url))throw new Error(`[@octokit/auth-oauth-app] GitHub Apps cannot use their client ID/secret for basic authentication for endpoints other than "/applications/{client_id}/**". "${i.method} ${i.url}" is not supported.`);const r=btoa(`${t.clientId}:${t.clientSecret}`);i.headers.authorization=`basic ${r}`;try{return await e(i)}catch(o){throw o.status!==401||(o.message=`[@octokit/auth-oauth-app] "${i.method} ${i.url}" does not support clientId/clientSecret basic authentication.`),o}}var Jve="0.0.0-development";function I8(t){const e=Object.assign({request:Lbe.defaults({headers:{"user-agent":`octokit-auth-oauth-app.js/${Jve} ${zw()}`}}),clientType:"oauth-app"},t);return Object.assign(Yve.bind(null,e),{hook:Zve.bind(null,e)})}function Qve(t){return t.includes("-----BEGIN RSA PRIVATE KEY-----")}function ewe(t){return t.includes("-----BEGIN OPENSSH PRIVATE KEY-----")}function O8(t){const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let s=0,i=t.length;s<i;s++)n[s]=t.charCodeAt(s);return e}function twe(t){const e=t.trim().split(`
`).slice(1,-1).join(""),n=atob(e);return O8(n)}function nwe(t,e){return`${XA(t)}.${XA(e)}`}function swe(t){for(var e="",n=new Uint8Array(t),s=n.byteLength,i=0;i<s;i++)e+=String.fromCharCode(n[i]);return L8(btoa(e))}function L8(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function XA(t){return L8(btoa(JSON.stringify(t)))}const{subtle:KA}=globalThis.crypto;async function iwe({privateKey:t,payload:e}){const n=t;if(Qve(n))throw new Error("[universal-github-app-jwt] Private Key is in PKCS#1 format, but only PKCS#8 is supported. See https://github.com/gr2m/universal-github-app-jwt#private-key-formats");if(ewe(n))throw new Error("[universal-github-app-jwt] Private Key is in OpenSSH format, but only PKCS#8 is supported. See https://github.com/gr2m/universal-github-app-jwt#private-key-formats");const s={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},i={alg:"RS256",typ:"JWT"},r=twe(n),o=await KA.importKey("pkcs8",r,s,!1,["sign"]),a=nwe(i,e),l=O8(a),c=await KA.sign(s.name,o,l),u=swe(c);return`${a}.${u}`}async function rwe({id:t,privateKey:e,now:n=Math.floor(Date.now()/1e3)}){const s=e.replace(/\\n/g,`
`),i=n-30,r=i+60*10,a=await iwe({privateKey:s,payload:{iat:i,exp:r,iss:t}});return{appId:t,expiration:r,token:a}}const ec=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,D8=new Set,ub=typeof process=="object"&&process?process:{},N8=(t,e,n,s)=>{typeof ub.emitWarning=="function"?ub.emitWarning(t,e,n,s):console.error(`[${n}] ${e}: ${t}`)};let zm=globalThis.AbortController,YA=globalThis.AbortSignal;var $M;if(typeof zm>"u"){YA=class{constructor(){Z(this,"onabort");Z(this,"_onabort",[]);Z(this,"reason");Z(this,"aborted",!1)}addEventListener(s,i){this._onabort.push(i)}},zm=class{constructor(){Z(this,"signal",new YA);e()}abort(s){var i,r;if(!this.signal.aborted){this.signal.reason=s,this.signal.aborted=!0;for(const o of this.signal._onabort)o(s);(r=(i=this.signal).onabort)==null||r.call(i,s)}}};let t=(($M=ub.env)==null?void 0:$M.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const e=()=>{t&&(t=!1,N8("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}const owe=t=>!D8.has(t),wo=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),U8=t=>wo(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?em:null:null;class em extends Array{constructor(e){super(e),this.fill(0)}}var zc;const Ga=class Ga{constructor(e,n){Z(this,"heap");Z(this,"length");if(!j(Ga,zc))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new n(e),this.length=0}static create(e){const n=U8(e);if(!n)return[];st(Ga,zc,!0);const s=new Ga(e,n);return st(Ga,zc,!1),s}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}};zc=new WeakMap,Tt(Ga,zc,!1);let db=Ga;var FM,BM,yi,Ds,bi,vi,Vc,jc,xn,wi,vn,Xt,ft,is,Ns,Wn,Pn,xi,In,Ei,Si,Us,Ti,Do,rs,Be,hb,Ka,Pr,Of,$s,$8,Ya,Wc,Lf,xo,Eo,pb,tm,nm,qt,mb,Nd,So,gb;const _x=class _x{constructor(e){Tt(this,Be);Tt(this,yi);Tt(this,Ds);Tt(this,bi);Tt(this,vi);Tt(this,Vc);Tt(this,jc);Z(this,"ttl");Z(this,"ttlResolution");Z(this,"ttlAutopurge");Z(this,"updateAgeOnGet");Z(this,"updateAgeOnHas");Z(this,"allowStale");Z(this,"noDisposeOnSet");Z(this,"noUpdateTTL");Z(this,"maxEntrySize");Z(this,"sizeCalculation");Z(this,"noDeleteOnFetchRejection");Z(this,"noDeleteOnStaleGet");Z(this,"allowStaleOnFetchAbort");Z(this,"allowStaleOnFetchRejection");Z(this,"ignoreFetchAbort");Tt(this,xn);Tt(this,wi);Tt(this,vn);Tt(this,Xt);Tt(this,ft);Tt(this,is);Tt(this,Ns);Tt(this,Wn);Tt(this,Pn);Tt(this,xi);Tt(this,In);Tt(this,Ei);Tt(this,Si);Tt(this,Us);Tt(this,Ti);Tt(this,Do);Tt(this,rs);Tt(this,Ka,()=>{});Tt(this,Pr,()=>{});Tt(this,Of,()=>{});Tt(this,$s,()=>!1);Tt(this,Ya,e=>{});Tt(this,Wc,(e,n,s)=>{});Tt(this,Lf,(e,n,s,i)=>{if(s||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});Z(this,FM,"LRUCache");const{max:n=0,ttl:s,ttlResolution:i=1,ttlAutopurge:r,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:l,dispose:c,disposeAfter:u,noDisposeOnSet:d,noUpdateTTL:f,maxSize:h=0,maxEntrySize:y=0,sizeCalculation:_,fetchMethod:p,memoMethod:g,noDeleteOnFetchRejection:b,noDeleteOnStaleGet:v,allowStaleOnFetchRejection:w,allowStaleOnFetchAbort:A,ignoreFetchAbort:x}=e;if(n!==0&&!wo(n))throw new TypeError("max option must be a nonnegative integer");const T=n?U8(n):Array;if(!T)throw new Error("invalid max value: "+n);if(st(this,yi,n),st(this,Ds,h),this.maxEntrySize=y||j(this,Ds),this.sizeCalculation=_,this.sizeCalculation){if(!j(this,Ds)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(g!==void 0&&typeof g!="function")throw new TypeError("memoMethod must be a function if defined");if(st(this,jc,g),p!==void 0&&typeof p!="function")throw new TypeError("fetchMethod must be a function if specified");if(st(this,Vc,p),st(this,Do,!!p),st(this,vn,new Map),st(this,Xt,new Array(n).fill(void 0)),st(this,ft,new Array(n).fill(void 0)),st(this,is,new T(n)),st(this,Ns,new T(n)),st(this,Wn,0),st(this,Pn,0),st(this,xi,db.create(n)),st(this,xn,0),st(this,wi,0),typeof c=="function"&&st(this,bi,c),typeof u=="function"?(st(this,vi,u),st(this,In,[])):(st(this,vi,void 0),st(this,In,void 0)),st(this,Ti,!!j(this,bi)),st(this,rs,!!j(this,vi)),this.noDisposeOnSet=!!d,this.noUpdateTTL=!!f,this.noDeleteOnFetchRejection=!!b,this.allowStaleOnFetchRejection=!!w,this.allowStaleOnFetchAbort=!!A,this.ignoreFetchAbort=!!x,this.maxEntrySize!==0){if(j(this,Ds)!==0&&!wo(j(this,Ds)))throw new TypeError("maxSize must be a positive integer if specified");if(!wo(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");We(this,Be,$8).call(this)}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!v,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=wo(i)||i===0?i:1,this.ttlAutopurge=!!r,this.ttl=s||0,this.ttl){if(!wo(this.ttl))throw new TypeError("ttl must be a positive integer if specified");We(this,Be,hb).call(this)}if(j(this,yi)===0&&this.ttl===0&&j(this,Ds)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!j(this,yi)&&!j(this,Ds)){const M="LRU_CACHE_UNBOUNDED";owe(M)&&(D8.add(M),N8("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",M,_x))}}static unsafeExposeInternals(e){return{starts:j(e,Si),ttls:j(e,Us),sizes:j(e,Ei),keyMap:j(e,vn),keyList:j(e,Xt),valList:j(e,ft),next:j(e,is),prev:j(e,Ns),get head(){return j(e,Wn)},get tail(){return j(e,Pn)},free:j(e,xi),isBackgroundFetch:n=>{var s;return We(s=e,Be,qt).call(s,n)},backgroundFetch:(n,s,i,r)=>{var o;return We(o=e,Be,nm).call(o,n,s,i,r)},moveToTail:n=>{var s;return We(s=e,Be,Nd).call(s,n)},indexes:n=>{var s;return We(s=e,Be,xo).call(s,n)},rindexes:n=>{var s;return We(s=e,Be,Eo).call(s,n)},isStale:n=>{var s;return j(s=e,$s).call(s,n)}}}get max(){return j(this,yi)}get maxSize(){return j(this,Ds)}get calculatedSize(){return j(this,wi)}get size(){return j(this,xn)}get fetchMethod(){return j(this,Vc)}get memoMethod(){return j(this,jc)}get dispose(){return j(this,bi)}get disposeAfter(){return j(this,vi)}getRemainingTTL(e){return j(this,vn).has(e)?1/0:0}*entries(){for(const e of We(this,Be,xo).call(this))j(this,ft)[e]!==void 0&&j(this,Xt)[e]!==void 0&&!We(this,Be,qt).call(this,j(this,ft)[e])&&(yield[j(this,Xt)[e],j(this,ft)[e]])}*rentries(){for(const e of We(this,Be,Eo).call(this))j(this,ft)[e]!==void 0&&j(this,Xt)[e]!==void 0&&!We(this,Be,qt).call(this,j(this,ft)[e])&&(yield[j(this,Xt)[e],j(this,ft)[e]])}*keys(){for(const e of We(this,Be,xo).call(this)){const n=j(this,Xt)[e];n!==void 0&&!We(this,Be,qt).call(this,j(this,ft)[e])&&(yield n)}}*rkeys(){for(const e of We(this,Be,Eo).call(this)){const n=j(this,Xt)[e];n!==void 0&&!We(this,Be,qt).call(this,j(this,ft)[e])&&(yield n)}}*values(){for(const e of We(this,Be,xo).call(this))j(this,ft)[e]!==void 0&&!We(this,Be,qt).call(this,j(this,ft)[e])&&(yield j(this,ft)[e])}*rvalues(){for(const e of We(this,Be,Eo).call(this))j(this,ft)[e]!==void 0&&!We(this,Be,qt).call(this,j(this,ft)[e])&&(yield j(this,ft)[e])}[(BM=Symbol.iterator,FM=Symbol.toStringTag,BM)](){return this.entries()}find(e,n={}){for(const s of We(this,Be,xo).call(this)){const i=j(this,ft)[s],r=We(this,Be,qt).call(this,i)?i.__staleWhileFetching:i;if(r!==void 0&&e(r,j(this,Xt)[s],this))return this.get(j(this,Xt)[s],n)}}forEach(e,n=this){for(const s of We(this,Be,xo).call(this)){const i=j(this,ft)[s],r=We(this,Be,qt).call(this,i)?i.__staleWhileFetching:i;r!==void 0&&e.call(n,r,j(this,Xt)[s],this)}}rforEach(e,n=this){for(const s of We(this,Be,Eo).call(this)){const i=j(this,ft)[s],r=We(this,Be,qt).call(this,i)?i.__staleWhileFetching:i;r!==void 0&&e.call(n,r,j(this,Xt)[s],this)}}purgeStale(){let e=!1;for(const n of We(this,Be,Eo).call(this,{allowStale:!0}))j(this,$s).call(this,n)&&(We(this,Be,So).call(this,j(this,Xt)[n],"expire"),e=!0);return e}info(e){const n=j(this,vn).get(e);if(n===void 0)return;const s=j(this,ft)[n],i=We(this,Be,qt).call(this,s)?s.__staleWhileFetching:s;if(i===void 0)return;const r={value:i};if(j(this,Us)&&j(this,Si)){const o=j(this,Us)[n],a=j(this,Si)[n];if(o&&a){const l=o-(ec.now()-a);r.ttl=l,r.start=Date.now()}}return j(this,Ei)&&(r.size=j(this,Ei)[n]),r}dump(){const e=[];for(const n of We(this,Be,xo).call(this,{allowStale:!0})){const s=j(this,Xt)[n],i=j(this,ft)[n],r=We(this,Be,qt).call(this,i)?i.__staleWhileFetching:i;if(r===void 0||s===void 0)continue;const o={value:r};if(j(this,Us)&&j(this,Si)){o.ttl=j(this,Us)[n];const a=ec.now()-j(this,Si)[n];o.start=Math.floor(Date.now()-a)}j(this,Ei)&&(o.size=j(this,Ei)[n]),e.unshift([s,o])}return e}load(e){this.clear();for(const[n,s]of e){if(s.start){const i=Date.now()-s.start;s.start=ec.now()-i}this.set(n,s.value,s)}}set(e,n,s={}){var f,h,y,_,p;if(n===void 0)return this.delete(e),this;const{ttl:i=this.ttl,start:r,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:l}=s;let{noUpdateTTL:c=this.noUpdateTTL}=s;const u=j(this,Lf).call(this,e,n,s.size||0,a);if(this.maxEntrySize&&u>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),We(this,Be,So).call(this,e,"set"),this;let d=j(this,xn)===0?void 0:j(this,vn).get(e);if(d===void 0)d=j(this,xn)===0?j(this,Pn):j(this,xi).length!==0?j(this,xi).pop():j(this,xn)===j(this,yi)?We(this,Be,tm).call(this,!1):j(this,xn),j(this,Xt)[d]=e,j(this,ft)[d]=n,j(this,vn).set(e,d),j(this,is)[j(this,Pn)]=d,j(this,Ns)[d]=j(this,Pn),st(this,Pn,d),nh(this,xn)._++,j(this,Wc).call(this,d,u,l),l&&(l.set="add"),c=!1;else{We(this,Be,Nd).call(this,d);const g=j(this,ft)[d];if(n!==g){if(j(this,Do)&&We(this,Be,qt).call(this,g)){g.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:b}=g;b!==void 0&&!o&&(j(this,Ti)&&((f=j(this,bi))==null||f.call(this,b,e,"set")),j(this,rs)&&((h=j(this,In))==null||h.push([b,e,"set"])))}else o||(j(this,Ti)&&((y=j(this,bi))==null||y.call(this,g,e,"set")),j(this,rs)&&((_=j(this,In))==null||_.push([g,e,"set"])));if(j(this,Ya).call(this,d),j(this,Wc).call(this,d,u,l),j(this,ft)[d]=n,l){l.set="replace";const b=g&&We(this,Be,qt).call(this,g)?g.__staleWhileFetching:g;b!==void 0&&(l.oldValue=b)}}else l&&(l.set="update")}if(i!==0&&!j(this,Us)&&We(this,Be,hb).call(this),j(this,Us)&&(c||j(this,Of).call(this,d,i,r),l&&j(this,Pr).call(this,l,d)),!o&&j(this,rs)&&j(this,In)){const g=j(this,In);let b;for(;b=g==null?void 0:g.shift();)(p=j(this,vi))==null||p.call(this,...b)}return this}pop(){var e;try{for(;j(this,xn);){const n=j(this,ft)[j(this,Wn)];if(We(this,Be,tm).call(this,!0),We(this,Be,qt).call(this,n)){if(n.__staleWhileFetching)return n.__staleWhileFetching}else if(n!==void 0)return n}}finally{if(j(this,rs)&&j(this,In)){const n=j(this,In);let s;for(;s=n==null?void 0:n.shift();)(e=j(this,vi))==null||e.call(this,...s)}}}has(e,n={}){const{updateAgeOnHas:s=this.updateAgeOnHas,status:i}=n,r=j(this,vn).get(e);if(r!==void 0){const o=j(this,ft)[r];if(We(this,Be,qt).call(this,o)&&o.__staleWhileFetching===void 0)return!1;if(j(this,$s).call(this,r))i&&(i.has="stale",j(this,Pr).call(this,i,r));else return s&&j(this,Ka).call(this,r),i&&(i.has="hit",j(this,Pr).call(this,i,r)),!0}else i&&(i.has="miss");return!1}peek(e,n={}){const{allowStale:s=this.allowStale}=n,i=j(this,vn).get(e);if(i===void 0||!s&&j(this,$s).call(this,i))return;const r=j(this,ft)[i];return We(this,Be,qt).call(this,r)?r.__staleWhileFetching:r}async fetch(e,n={}){const{allowStale:s=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:d=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:f=this.allowStaleOnFetchRejection,ignoreFetchAbort:h=this.ignoreFetchAbort,allowStaleOnFetchAbort:y=this.allowStaleOnFetchAbort,context:_,forceRefresh:p=!1,status:g,signal:b}=n;if(!j(this,Do))return g&&(g.fetch="get"),this.get(e,{allowStale:s,updateAgeOnGet:i,noDeleteOnStaleGet:r,status:g});const v={allowStale:s,updateAgeOnGet:i,noDeleteOnStaleGet:r,ttl:o,noDisposeOnSet:a,size:l,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:d,allowStaleOnFetchRejection:f,allowStaleOnFetchAbort:y,ignoreFetchAbort:h,status:g,signal:b};let w=j(this,vn).get(e);if(w===void 0){g&&(g.fetch="miss");const A=We(this,Be,nm).call(this,e,w,v,_);return A.__returned=A}else{const A=j(this,ft)[w];if(We(this,Be,qt).call(this,A)){const S=s&&A.__staleWhileFetching!==void 0;return g&&(g.fetch="inflight",S&&(g.returnedStale=!0)),S?A.__staleWhileFetching:A.__returned=A}const x=j(this,$s).call(this,w);if(!p&&!x)return g&&(g.fetch="hit"),We(this,Be,Nd).call(this,w),i&&j(this,Ka).call(this,w),g&&j(this,Pr).call(this,g,w),A;const T=We(this,Be,nm).call(this,e,w,v,_),E=T.__staleWhileFetching!==void 0&&s;return g&&(g.fetch=x?"stale":"refresh",E&&x&&(g.returnedStale=!0)),E?T.__staleWhileFetching:T.__returned=T}}async forceFetch(e,n={}){const s=await this.fetch(e,n);if(s===void 0)throw new Error("fetch() returned undefined");return s}memo(e,n={}){const s=j(this,jc);if(!s)throw new Error("no memoMethod provided to constructor");const{context:i,forceRefresh:r,...o}=n,a=this.get(e,o);if(!r&&a!==void 0)return a;const l=s(e,a,{options:o,context:i});return this.set(e,l,o),l}get(e,n={}){const{allowStale:s=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,status:o}=n,a=j(this,vn).get(e);if(a!==void 0){const l=j(this,ft)[a],c=We(this,Be,qt).call(this,l);return o&&j(this,Pr).call(this,o,a),j(this,$s).call(this,a)?(o&&(o.get="stale"),c?(o&&s&&l.__staleWhileFetching!==void 0&&(o.returnedStale=!0),s?l.__staleWhileFetching:void 0):(r||We(this,Be,So).call(this,e,"expire"),o&&s&&(o.returnedStale=!0),s?l:void 0)):(o&&(o.get="hit"),c?l.__staleWhileFetching:(We(this,Be,Nd).call(this,a),i&&j(this,Ka).call(this,a),l))}else o&&(o.get="miss")}delete(e){return We(this,Be,So).call(this,e,"delete")}clear(){return We(this,Be,gb).call(this,"delete")}};yi=new WeakMap,Ds=new WeakMap,bi=new WeakMap,vi=new WeakMap,Vc=new WeakMap,jc=new WeakMap,xn=new WeakMap,wi=new WeakMap,vn=new WeakMap,Xt=new WeakMap,ft=new WeakMap,is=new WeakMap,Ns=new WeakMap,Wn=new WeakMap,Pn=new WeakMap,xi=new WeakMap,In=new WeakMap,Ei=new WeakMap,Si=new WeakMap,Us=new WeakMap,Ti=new WeakMap,Do=new WeakMap,rs=new WeakMap,Be=new WeakSet,hb=function(){const e=new em(j(this,yi)),n=new em(j(this,yi));st(this,Us,e),st(this,Si,n),st(this,Of,(r,o,a=ec.now())=>{if(n[r]=o!==0?a:0,e[r]=o,o!==0&&this.ttlAutopurge){const l=setTimeout(()=>{j(this,$s).call(this,r)&&We(this,Be,So).call(this,j(this,Xt)[r],"expire")},o+1);l.unref&&l.unref()}}),st(this,Ka,r=>{n[r]=e[r]!==0?ec.now():0}),st(this,Pr,(r,o)=>{if(e[o]){const a=e[o],l=n[o];if(!a||!l)return;r.ttl=a,r.start=l,r.now=s||i();const c=r.now-l;r.remainingTTL=a-c}});let s=0;const i=()=>{const r=ec.now();if(this.ttlResolution>0){s=r;const o=setTimeout(()=>s=0,this.ttlResolution);o.unref&&o.unref()}return r};this.getRemainingTTL=r=>{const o=j(this,vn).get(r);if(o===void 0)return 0;const a=e[o],l=n[o];if(!a||!l)return 1/0;const c=(s||i())-l;return a-c},st(this,$s,r=>{const o=n[r],a=e[r];return!!a&&!!o&&(s||i())-o>a})},Ka=new WeakMap,Pr=new WeakMap,Of=new WeakMap,$s=new WeakMap,$8=function(){const e=new em(j(this,yi));st(this,wi,0),st(this,Ei,e),st(this,Ya,n=>{st(this,wi,j(this,wi)-e[n]),e[n]=0}),st(this,Lf,(n,s,i,r)=>{if(We(this,Be,qt).call(this,s))return 0;if(!wo(i))if(r){if(typeof r!="function")throw new TypeError("sizeCalculation must be a function");if(i=r(s,n),!wo(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return i}),st(this,Wc,(n,s,i)=>{if(e[n]=s,j(this,Ds)){const r=j(this,Ds)-e[n];for(;j(this,wi)>r;)We(this,Be,tm).call(this,!0)}st(this,wi,j(this,wi)+e[n]),i&&(i.entrySize=s,i.totalCalculatedSize=j(this,wi))})},Ya=new WeakMap,Wc=new WeakMap,Lf=new WeakMap,xo=function*({allowStale:e=this.allowStale}={}){if(j(this,xn))for(let n=j(this,Pn);!(!We(this,Be,pb).call(this,n)||((e||!j(this,$s).call(this,n))&&(yield n),n===j(this,Wn)));)n=j(this,Ns)[n]},Eo=function*({allowStale:e=this.allowStale}={}){if(j(this,xn))for(let n=j(this,Wn);!(!We(this,Be,pb).call(this,n)||((e||!j(this,$s).call(this,n))&&(yield n),n===j(this,Pn)));)n=j(this,is)[n]},pb=function(e){return e!==void 0&&j(this,vn).get(j(this,Xt)[e])===e},tm=function(e){var r,o;const n=j(this,Wn),s=j(this,Xt)[n],i=j(this,ft)[n];return j(this,Do)&&We(this,Be,qt).call(this,i)?i.__abortController.abort(new Error("evicted")):(j(this,Ti)||j(this,rs))&&(j(this,Ti)&&((r=j(this,bi))==null||r.call(this,i,s,"evict")),j(this,rs)&&((o=j(this,In))==null||o.push([i,s,"evict"]))),j(this,Ya).call(this,n),e&&(j(this,Xt)[n]=void 0,j(this,ft)[n]=void 0,j(this,xi).push(n)),j(this,xn)===1?(st(this,Wn,st(this,Pn,0)),j(this,xi).length=0):st(this,Wn,j(this,is)[n]),j(this,vn).delete(s),nh(this,xn)._--,n},nm=function(e,n,s,i){const r=n===void 0?void 0:j(this,ft)[n];if(We(this,Be,qt).call(this,r))return r;const o=new zm,{signal:a}=s;a==null||a.addEventListener("abort",()=>o.abort(a.reason),{signal:o.signal});const l={signal:o.signal,options:s,context:i},c=(_,p=!1)=>{const{aborted:g}=o.signal,b=s.ignoreFetchAbort&&_!==void 0;if(s.status&&(g&&!p?(s.status.fetchAborted=!0,s.status.fetchError=o.signal.reason,b&&(s.status.fetchAbortIgnored=!0)):s.status.fetchResolved=!0),g&&!b&&!p)return d(o.signal.reason);const v=h;return j(this,ft)[n]===h&&(_===void 0?v.__staleWhileFetching?j(this,ft)[n]=v.__staleWhileFetching:We(this,Be,So).call(this,e,"fetch"):(s.status&&(s.status.fetchUpdated=!0),this.set(e,_,l.options))),_},u=_=>(s.status&&(s.status.fetchRejected=!0,s.status.fetchError=_),d(_)),d=_=>{const{aborted:p}=o.signal,g=p&&s.allowStaleOnFetchAbort,b=g||s.allowStaleOnFetchRejection,v=b||s.noDeleteOnFetchRejection,w=h;if(j(this,ft)[n]===h&&(!v||w.__staleWhileFetching===void 0?We(this,Be,So).call(this,e,"fetch"):g||(j(this,ft)[n]=w.__staleWhileFetching)),b)return s.status&&w.__staleWhileFetching!==void 0&&(s.status.returnedStale=!0),w.__staleWhileFetching;if(w.__returned===w)throw _},f=(_,p)=>{var b;const g=(b=j(this,Vc))==null?void 0:b.call(this,e,r,l);g&&g instanceof Promise&&g.then(v=>_(v===void 0?void 0:v),p),o.signal.addEventListener("abort",()=>{(!s.ignoreFetchAbort||s.allowStaleOnFetchAbort)&&(_(void 0),s.allowStaleOnFetchAbort&&(_=v=>c(v,!0)))})};s.status&&(s.status.fetchDispatched=!0);const h=new Promise(f).then(c,u),y=Object.assign(h,{__abortController:o,__staleWhileFetching:r,__returned:void 0});return n===void 0?(this.set(e,y,{...l.options,status:void 0}),n=j(this,vn).get(e)):j(this,ft)[n]=y,y},qt=function(e){if(!j(this,Do))return!1;const n=e;return!!n&&n instanceof Promise&&n.hasOwnProperty("__staleWhileFetching")&&n.__abortController instanceof zm},mb=function(e,n){j(this,Ns)[n]=e,j(this,is)[e]=n},Nd=function(e){e!==j(this,Pn)&&(e===j(this,Wn)?st(this,Wn,j(this,is)[e]):We(this,Be,mb).call(this,j(this,Ns)[e],j(this,is)[e]),We(this,Be,mb).call(this,j(this,Pn),e),st(this,Pn,e))},So=function(e,n){var i,r,o,a;let s=!1;if(j(this,xn)!==0){const l=j(this,vn).get(e);if(l!==void 0)if(s=!0,j(this,xn)===1)We(this,Be,gb).call(this,n);else{j(this,Ya).call(this,l);const c=j(this,ft)[l];if(We(this,Be,qt).call(this,c)?c.__abortController.abort(new Error("deleted")):(j(this,Ti)||j(this,rs))&&(j(this,Ti)&&((i=j(this,bi))==null||i.call(this,c,e,n)),j(this,rs)&&((r=j(this,In))==null||r.push([c,e,n]))),j(this,vn).delete(e),j(this,Xt)[l]=void 0,j(this,ft)[l]=void 0,l===j(this,Pn))st(this,Pn,j(this,Ns)[l]);else if(l===j(this,Wn))st(this,Wn,j(this,is)[l]);else{const u=j(this,Ns)[l];j(this,is)[u]=j(this,is)[l];const d=j(this,is)[l];j(this,Ns)[d]=j(this,Ns)[l]}nh(this,xn)._--,j(this,xi).push(l)}}if(j(this,rs)&&((o=j(this,In))!=null&&o.length)){const l=j(this,In);let c;for(;c=l==null?void 0:l.shift();)(a=j(this,vi))==null||a.call(this,...c)}return s},gb=function(e){var n,s,i;for(const r of We(this,Be,Eo).call(this,{allowStale:!0})){const o=j(this,ft)[r];if(We(this,Be,qt).call(this,o))o.__abortController.abort(new Error("deleted"));else{const a=j(this,Xt)[r];j(this,Ti)&&((n=j(this,bi))==null||n.call(this,o,a,e)),j(this,rs)&&((s=j(this,In))==null||s.push([o,a,e]))}}if(j(this,vn).clear(),j(this,ft).fill(void 0),j(this,Xt).fill(void 0),j(this,Us)&&j(this,Si)&&(j(this,Us).fill(0),j(this,Si).fill(0)),j(this,Ei)&&j(this,Ei).fill(0),st(this,Wn,0),st(this,Pn,0),j(this,xi).length=0,st(this,wi,0),st(this,xn,0),j(this,rs)&&j(this,In)){const r=j(this,In);let o;for(;o=r==null?void 0:r.shift();)(i=j(this,vi))==null||i.call(this,...o)}};let fb=_x;async function Vm({appId:t,privateKey:e,timeDifference:n}){try{const s=await rwe({id:t,privateKey:e,now:n&&Math.floor(Date.now()/1e3)+n});return{type:"app",token:s.token,appId:s.appId,expiresAt:new Date(s.expiration*1e3).toISOString()}}catch(s){throw e==="-----BEGIN RSA PRIVATE KEY-----"?new Error("The 'privateKey` option contains only the first line '-----BEGIN RSA PRIVATE KEY-----'. If you are setting it using a `.env` file, make sure it is set on a single line with newlines replaced by '\n'"):s}}function awe(){return new fb({max:15e3,ttl:1e3*60*59})}async function lwe(t,e){const n=F8(e),s=await t.get(n);if(!s)return;const[i,r,o,a,l,c]=s.split("|"),u=e.permissions||l.split(/,/).reduce((d,f)=>(/!$/.test(f)?d[f.slice(0,-1)]="write":d[f]="read",d),{});return{token:i,createdAt:r,expiresAt:o,permissions:u,repositoryIds:e.repositoryIds,repositoryNames:e.repositoryNames,singleFileName:c,repositorySelection:a}}async function cwe(t,e,n){const s=F8(e),i=e.permissions?"":Object.keys(n.permissions).map(o=>`${o}${n.permissions[o]==="write"?"!":""}`).join(","),r=[n.token,n.createdAt,n.expiresAt,n.repositorySelection,i,n.singleFileName].join("|");await t.set(s,r)}function F8({installationId:t,permissions:e={},repositoryIds:n=[],repositoryNames:s=[]}){const i=Object.keys(e).sort().map(a=>e[a]==="read"?a:`${a}!`).join(","),r=n.sort().join(","),o=s.join(",");return[t,r,o,i].filter(Boolean).join("|")}function ZA({installationId:t,token:e,createdAt:n,expiresAt:s,repositorySelection:i,permissions:r,repositoryIds:o,repositoryNames:a,singleFileName:l}){return Object.assign({type:"token",tokenType:"installation",token:e,installationId:t,permissions:r,createdAt:n,expiresAt:s,repositorySelection:i},o?{repositoryIds:o}:null,a?{repositoryNames:a}:null,l?{singleFileName:l}:null)}async function B8(t,e,n){const s=Number(e.installationId||t.installationId);if(!s)throw new Error("[@octokit/auth-app] installationId option is required for installation authentication.");if(e.factory){const{type:b,factory:v,oauthApp:w,...A}={...t,...e};return v(A)}const i=Object.assign({installationId:s},e);if(!e.refresh){const b=await lwe(t.cache,i);if(b){const{token:v,createdAt:w,expiresAt:A,permissions:x,repositoryIds:T,repositoryNames:M,singleFileName:E,repositorySelection:S}=b;return ZA({installationId:s,token:v,createdAt:w,expiresAt:A,permissions:x,repositorySelection:S,repositoryIds:T,repositoryNames:M,singleFileName:E})}}const r=await Vm(t),o=n||t.request,{data:{token:a,expires_at:l,repositories:c,permissions:u,repository_selection:d,single_file:f}}=await o("POST /app/installations/{installation_id}/access_tokens",{installation_id:s,repository_ids:e.repositoryIds,repositories:e.repositoryNames,permissions:e.permissions,mediaType:{previews:["machine-man"]},headers:{authorization:`bearer ${r.token}`}}),h=u||{},y=d||"all",_=c?c.map(b=>b.id):void 0,p=c?c.map(b=>b.name):void 0,g=new Date().toISOString();return await cwe(t.cache,i,{token:a,createdAt:g,expiresAt:l,repositorySelection:y,permissions:h,repositoryIds:_,repositoryNames:p,singleFileName:f}),ZA({installationId:s,token:a,createdAt:g,expiresAt:l,repositorySelection:y,permissions:h,repositoryIds:_,repositoryNames:p,singleFileName:f})}async function uwe(t,e){switch(e.type){case"app":return Vm(t);case"oauth-app":return t.oauthApp({type:"oauth-app"});case"installation":return B8(t,{...e,type:"installation"});case"oauth-user":return t.oauthApp(e);default:throw new Error(`Invalid auth type: ${e.type}`)}}var dwe=["/app","/app/hook/config","/app/hook/deliveries","/app/hook/deliveries/{delivery_id}","/app/hook/deliveries/{delivery_id}/attempts","/app/installations","/app/installations/{installation_id}","/app/installations/{installation_id}/access_tokens","/app/installations/{installation_id}/suspended","/app/installation-requests","/marketplace_listing/accounts/{account_id}","/marketplace_listing/plan","/marketplace_listing/plans","/marketplace_listing/plans/{plan_id}/accounts","/marketplace_listing/stubbed/accounts/{account_id}","/marketplace_listing/stubbed/plan","/marketplace_listing/stubbed/plans","/marketplace_listing/stubbed/plans/{plan_id}/accounts","/orgs/{org}/installation","/repos/{owner}/{repo}/installation","/users/{username}/installation"];function fwe(t){const n=`^(?:${t.map(s=>s.split("/").map(i=>i.startsWith("{")?"(?:.+?)":i).join("/")).map(s=>`(?:${s})`).join("|")})$`;return new RegExp(n,"i")}var hwe=fwe(dwe);function pwe(t){return!!t&&hwe.test(t.split("?")[0])}var mwe=5*1e3;function gwe(t){return!(t.message.match(/'Expiration time' claim \('exp'\) must be a numeric value representing the future time at which the assertion expires/)||t.message.match(/'Issued at' claim \('iat'\) must be an Integer representing the time that the assertion was issued/))}async function _we(t,e,n,s){const i=e.endpoint.merge(n,s),r=i.url;if(/\/login\/oauth\/access_token$/.test(r))return e(i);if(pwe(r.replace(e.endpoint.DEFAULTS.baseUrl,""))){const{token:l}=await Vm(t);i.headers.authorization=`bearer ${l}`;let c;try{c=await e(i)}catch(u){if(gwe(u)||typeof u.response.headers.date>"u")throw u;const d=Math.floor((Date.parse(u.response.headers.date)-Date.parse(new Date().toString()))/1e3);t.log.warn(u.message),t.log.warn(`[@octokit/auth-app] GitHub API time and system time are different by ${d} seconds. Retrying request with the difference accounted for.`);const{token:f}=await Vm({...t,timeDifference:d});return i.headers.authorization=`bearer ${f}`,e(i)}return c}if(Ww(r)){const l=await t.oauthApp({type:"oauth-app"});return i.headers.authorization=l.headers.authorization,e(i)}const{token:o,createdAt:a}=await B8(t,{},e);return i.headers.authorization=`token ${o}`,H8(t,e,i,a)}async function H8(t,e,n,s,i=0){const r=+new Date-+new Date(s);try{return await e(n)}catch(o){if(o.status!==401)throw o;if(r>=mwe)throw i>0&&(o.message=`After ${i} retries within ${r/1e3}s of creating the installation access token, the response remains 401. At this point, the cause may be an authentication problem or a system outage. Please check https://www.githubstatus.com for status information`),o;++i;const a=i*1e3;return t.log.warn(`[@octokit/auth-app] Retrying after 401 response to account for token replication delay (retry: ${i}, wait: ${a/1e3}s)`),await new Promise(l=>setTimeout(l,a)),H8(t,e,n,s,i)}}var ywe="7.1.0";function qw(t){if(!t.appId)throw new Error("[@octokit/auth-app] appId option is required");if(!t.privateKey)throw new Error("[@octokit/auth-app] privateKey option is required");if("installationId"in t&&!t.installationId)throw new Error("[@octokit/auth-app] installationId is set to a falsy value");const e=Object.assign({warn:console.warn.bind(console)},t.log),n=t.request||mbe.defaults({headers:{"user-agent":`octokit-auth-app.js/${ywe} ${Gw()}`}}),s=Object.assign({request:n,cache:awe()},t,t.installationId?{installationId:Number(t.installationId)}:{},{log:e,oauthApp:I8({clientType:"github-app",clientId:t.clientId||"",clientSecret:t.clientSecret||"",request:n})});return Object.assign(uwe.bind(null,s),{hook:_we.bind(null,s)})}function Kf(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof process=="object"&&process.version!==void 0?`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`:"<environment undetectable>"}function Xw(t,e,n,s){if(typeof n!="function")throw new Error("method for before hook must be a function");return s||(s={}),Array.isArray(e)?e.reverse().reduce((i,r)=>Xw.bind(null,t,r,i,s),n)():Promise.resolve().then(()=>t.registry[e]?t.registry[e].reduce((i,r)=>r.hook.bind(null,i,s),n)():n(s))}function bwe(t,e,n,s){const i=s;t.registry[n]||(t.registry[n]=[]),e==="before"&&(s=(r,o)=>Promise.resolve().then(i.bind(null,o)).then(r.bind(null,o))),e==="after"&&(s=(r,o)=>{let a;return Promise.resolve().then(r.bind(null,o)).then(l=>(a=l,i(a,o))).then(()=>a)}),e==="error"&&(s=(r,o)=>Promise.resolve().then(r.bind(null,o)).catch(a=>i(a,o))),t.registry[n].push({hook:s,orig:i})}function vwe(t,e,n){if(!t.registry[e])return;const s=t.registry[e].map(i=>i.orig).indexOf(n);s!==-1&&t.registry[e].splice(s,1)}const JA=Function.bind,QA=JA.bind(JA);function G8(t,e,n){const s=QA(vwe,null).apply(null,n?[e,n]:[e]);t.api={remove:s},t.remove=s,["before","error","after","wrap"].forEach(i=>{const r=n?[e,i,n]:[e,i];t[i]=t.api[i]=QA(bwe,null).apply(null,r)})}function wwe(){const t=Symbol("Singular"),e={registry:{}},n=Xw.bind(null,e,t);return G8(n,e,t),n}function xwe(){const t={registry:{}},e=Xw.bind(null,t);return G8(e,t),e}const Ewe={Singular:wwe,Collection:xwe};var Swe="0.0.0-development",Twe=`octokit-endpoint.js/${Swe} ${Kf()}`,Awe={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":Twe},mediaType:{format:""}};function Mwe(t){return t?Object.keys(t).reduce((e,n)=>(e[n.toLowerCase()]=t[n],e),{}):{}}function Rwe(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);if(e===null)return!0;const n=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Function.prototype.call(n)===Function.prototype.call(t)}function z8(t,e){const n=Object.assign({},t);return Object.keys(e).forEach(s=>{Rwe(e[s])?s in t?n[s]=z8(t[s],e[s]):Object.assign(n,{[s]:e[s]}):Object.assign(n,{[s]:e[s]})}),n}function e3(t){for(const e in t)t[e]===void 0&&delete t[e];return t}function _b(t,e,n){var i;if(typeof e=="string"){let[r,o]=e.split(" ");n=Object.assign(o?{method:r,url:o}:{url:r},n)}else n=Object.assign({},e);n.headers=Mwe(n.headers),e3(n),e3(n.headers);const s=z8(t||{},n);return n.url==="/graphql"&&(t&&((i=t.mediaType.previews)!=null&&i.length)&&(s.mediaType.previews=t.mediaType.previews.filter(r=>!s.mediaType.previews.includes(r)).concat(s.mediaType.previews)),s.mediaType.previews=(s.mediaType.previews||[]).map(r=>r.replace(/-preview/,""))),s}function Cwe(t,e){const n=/\?/.test(t)?"&":"?",s=Object.keys(e);return s.length===0?t:t+n+s.map(i=>i==="q"?"q="+e.q.split("+").map(encodeURIComponent).join("+"):`${i}=${encodeURIComponent(e[i])}`).join("&")}var kwe=/\{[^}]+\}/g;function Pwe(t){return t.replace(/^\W+|\W+$/g,"").split(/,/)}function Iwe(t){const e=t.match(kwe);return e?e.map(Pwe).reduce((n,s)=>n.concat(s),[]):[]}function t3(t,e){const n={__proto__:null};for(const s of Object.keys(t))e.indexOf(s)===-1&&(n[s]=t[s]);return n}function V8(t){return t.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e}).join("")}function xc(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function _d(t,e,n){return e=t==="+"||t==="#"?V8(e):xc(e),n?xc(n)+"="+e:e}function tc(t){return t!=null}function X0(t){return t===";"||t==="&"||t==="?"}function Owe(t,e,n,s){var i=t[n],r=[];if(tc(i)&&i!=="")if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")i=i.toString(),s&&s!=="*"&&(i=i.substring(0,parseInt(s,10))),r.push(_d(e,i,X0(e)?n:""));else if(s==="*")Array.isArray(i)?i.filter(tc).forEach(function(o){r.push(_d(e,o,X0(e)?n:""))}):Object.keys(i).forEach(function(o){tc(i[o])&&r.push(_d(e,i[o],o))});else{const o=[];Array.isArray(i)?i.filter(tc).forEach(function(a){o.push(_d(e,a))}):Object.keys(i).forEach(function(a){tc(i[a])&&(o.push(xc(a)),o.push(_d(e,i[a].toString())))}),X0(e)?r.push(xc(n)+"="+o.join(",")):o.length!==0&&r.push(o.join(","))}else e===";"?tc(i)&&r.push(xc(n)):i===""&&(e==="&"||e==="?")?r.push(xc(n)+"="):i===""&&r.push("");return r}function Lwe(t){return{expand:Dwe.bind(null,t)}}function Dwe(t,e){var n=["+","#",".","/",";","?","&"];return t=t.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(s,i,r){if(i){let a="";const l=[];if(n.indexOf(i.charAt(0))!==-1&&(a=i.charAt(0),i=i.substr(1)),i.split(/,/g).forEach(function(c){var u=/([^:\*]*)(?::(\d+)|(\*))?/.exec(c);l.push(Owe(e,a,u[1],u[2]||u[3]))}),a&&a!=="+"){var o=",";return a==="?"?o="&":a!=="#"&&(o=a),(l.length!==0?a:"")+l.join(o)}else return l.join(",")}else return V8(r)}),t==="/"?t:t.replace(/\/$/,"")}function j8(t){var u;let e=t.method.toUpperCase(),n=(t.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),s=Object.assign({},t.headers),i,r=t3(t,["method","baseUrl","url","headers","request","mediaType"]);const o=Iwe(n);n=Lwe(n).expand(r),/^http/.test(n)||(n=t.baseUrl+n);const a=Object.keys(t).filter(d=>o.includes(d)).concat("baseUrl"),l=t3(r,a);if(!/application\/octet-stream/i.test(s.accept)&&(t.mediaType.format&&(s.accept=s.accept.split(/,/).map(d=>d.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${t.mediaType.format}`)).join(",")),n.endsWith("/graphql")&&(u=t.mediaType.previews)!=null&&u.length)){const d=s.accept.match(/[\w-]+(?=-preview)/g)||[];s.accept=d.concat(t.mediaType.previews).map(f=>{const h=t.mediaType.format?`.${t.mediaType.format}`:"+json";return`application/vnd.github.${f}-preview${h}`}).join(",")}return["GET","HEAD"].includes(e)?n=Cwe(n,l):"data"in l?i=l.data:Object.keys(l).length&&(i=l),!s["content-type"]&&typeof i<"u"&&(s["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(e)&&typeof i>"u"&&(i=""),Object.assign({method:e,url:n,headers:s},typeof i<"u"?{body:i}:null,t.request?{request:t.request}:null)}function Nwe(t,e,n){return j8(_b(t,e,n))}function W8(t,e){const n=_b(t,e),s=Nwe.bind(null,n);return Object.assign(s,{DEFAULTS:n,defaults:W8.bind(null,n),merge:_b.bind(null,n),parse:j8})}var Uwe=W8(null,Awe);class fp extends Error{constructor(n,s,i){super(n);Z(this,"name");Z(this,"status");Z(this,"request");Z(this,"response");this.name="HttpError",this.status=Number.parseInt(s),Number.isNaN(this.status)&&(this.status=0),"response"in i&&(this.response=i.response);const r=Object.assign({},i.request);i.request.headers.authorization&&(r.headers=Object.assign({},i.request.headers,{authorization:i.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),r.url=r.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=r}}var $we="0.0.0-development",Fwe={headers:{"user-agent":`octokit-request.js/${$we} ${Kf()}`}};function Bwe(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);if(e===null)return!0;const n=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Function.prototype.call(n)===Function.prototype.call(t)}async function n3(t){var d,f,h,y,_;const e=((d=t.request)==null?void 0:d.fetch)||globalThis.fetch;if(!e)throw new Error("fetch is not set. Please pass a fetch implementation as new Octokit({ request: { fetch }}). Learn more at https://github.com/octokit/octokit.js/#fetch-missing");const n=((f=t.request)==null?void 0:f.log)||console,s=((h=t.request)==null?void 0:h.parseSuccessResponseBody)!==!1,i=Bwe(t.body)||Array.isArray(t.body)?JSON.stringify(t.body):t.body,r=Object.fromEntries(Object.entries(t.headers).map(([p,g])=>[p,String(g)]));let o;try{o=await e(t.url,{method:t.method,body:i,redirect:(y=t.request)==null?void 0:y.redirect,headers:r,signal:(_=t.request)==null?void 0:_.signal,...t.body&&{duplex:"half"}})}catch(p){let g="Unknown Error";if(p instanceof Error){if(p.name==="AbortError")throw p.status=500,p;g=p.message,p.name==="TypeError"&&"cause"in p&&(p.cause instanceof Error?g=p.cause.message:typeof p.cause=="string"&&(g=p.cause))}const b=new fp(g,500,{request:t});throw b.cause=p,b}const a=o.status,l=o.url,c={};for(const[p,g]of o.headers)c[p]=g;const u={url:l,status:a,headers:c,data:""};if("deprecation"in c){const p=c.link&&c.link.match(/<([^>]+)>; rel="deprecation"/),g=p&&p.pop();n.warn(`[@octokit/request] "${t.method} ${t.url}" is deprecated. It is scheduled to be removed on ${c.sunset}${g?`. See ${g}`:""}`)}if(a===204||a===205)return u;if(t.method==="HEAD"){if(a<400)return u;throw new fp(o.statusText,a,{response:u,request:t})}if(a===304)throw u.data=await K0(o),new fp("Not modified",a,{response:u,request:t});if(a>=400)throw u.data=await K0(o),new fp(Hwe(u.data),a,{response:u,request:t});return u.data=s?await K0(o):o.body,u}async function K0(t){const e=t.headers.get("content-type");return/application\/json/.test(e)?t.json().catch(()=>t.text()).catch(()=>""):!e||/^text\/|charset=utf-8$/.test(e)?t.text():t.arrayBuffer()}function Hwe(t){if(typeof t=="string")return t;if(t instanceof ArrayBuffer)return"Unknown error";if("message"in t){const e="documentation_url"in t?` - ${t.documentation_url}`:"";return Array.isArray(t.errors)?`${t.message}: ${t.errors.map(n=>JSON.stringify(n)).join(", ")}${e}`:`${t.message}${e}`}return`Unknown error: ${JSON.stringify(t)}`}function yb(t,e){const n=t.defaults(e);return Object.assign(function(i,r){const o=n.merge(i,r);if(!o.request||!o.request.hook)return n3(n.parse(o));const a=(l,c)=>n3(n.parse(n.merge(l,c)));return Object.assign(a,{endpoint:n,defaults:yb.bind(null,n)}),o.request.hook(a,o)},{endpoint:n,defaults:yb.bind(null,n)})}var bb=yb(Uwe,Fwe),Gwe="0.0.0-development";function zwe(t){return`Request failed due to following response errors:
`+t.errors.map(e=>` - ${e.message}`).join(`
`)}var Vwe=class extends Error{constructor(e,n,s){super(zwe(s));Z(this,"name","GraphqlResponseError");Z(this,"errors");Z(this,"data");this.request=e,this.headers=n,this.response=s,this.errors=s.errors,this.data=s.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},jwe=["method","baseUrl","url","headers","request","query","mediaType"],Wwe=["query","method","url"],s3=/\/api\/v3\/?$/;function qwe(t,e,n){if(n){if(typeof e=="string"&&"query"in n)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const o in n)if(Wwe.includes(o))return Promise.reject(new Error(`[@octokit/graphql] "${o}" cannot be used as variable name`))}const s=typeof e=="string"?Object.assign({query:e},n):e,i=Object.keys(s).reduce((o,a)=>jwe.includes(a)?(o[a]=s[a],o):(o.variables||(o.variables={}),o.variables[a]=s[a],o),{}),r=s.baseUrl||t.endpoint.DEFAULTS.baseUrl;return s3.test(r)&&(i.url=r.replace(s3,"/api/graphql")),t(i).then(o=>{if(o.data.errors){const a={};for(const l of Object.keys(o.headers))a[l]=o.headers[l];throw new Vwe(i,a,o.data)}return o.data.data})}function Kw(t,e){const n=t.defaults(e);return Object.assign((i,r)=>qwe(n,i,r),{defaults:Kw.bind(null,n),endpoint:n.endpoint})}Kw(bb,{headers:{"user-agent":`octokit-graphql.js/${Gwe} ${Kf()}`},method:"POST",url:"/graphql"});function Xwe(t){return Kw(t,{method:"POST",url:"/graphql"})}var Kwe=/^v1\./,Ywe=/^ghs_/,Zwe=/^ghu_/;async function Jwe(t){const e=t.split(/\./).length===3,n=Kwe.test(t)||Ywe.test(t),s=Zwe.test(t);return{type:"token",token:t,tokenType:e?"app":n?"installation":s?"user-to-server":"oauth"}}function Qwe(t){return t.split(/\./).length===3?`bearer ${t}`:`token ${t}`}async function exe(t,e,n,s){const i=e.endpoint.merge(n,s);return i.headers.authorization=Qwe(t),e(i)}var txe=function(e){if(!e)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof e!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return e=e.replace(/^(token|bearer) +/i,""),Object.assign(Jwe.bind(null,e),{hook:exe.bind(null,e)})};const q8="6.1.2",i3=()=>{},nxe=console.warn.bind(console),sxe=console.error.bind(console),r3=`octokit-core.js/${q8} ${Kf()}`;var Rp;let ixe=(Rp=class{constructor(e={}){Z(this,"request");Z(this,"graphql");Z(this,"log");Z(this,"hook");Z(this,"auth");const n=new Ewe.Collection,s={baseUrl:bb.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},e.request,{hook:n.bind(null,"request")}),mediaType:{previews:[],format:""}};if(s.headers["user-agent"]=e.userAgent?`${e.userAgent} ${r3}`:r3,e.baseUrl&&(s.baseUrl=e.baseUrl),e.previews&&(s.mediaType.previews=e.previews),e.timeZone&&(s.headers["time-zone"]=e.timeZone),this.request=bb.defaults(s),this.graphql=Xwe(this.request).defaults(s),this.log=Object.assign({debug:i3,info:i3,warn:nxe,error:sxe},e.log),this.hook=n,e.authStrategy){const{authStrategy:r,...o}=e,a=r(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:o},e.auth));n.wrap("request",a.hook),this.auth=a}else if(!e.auth)this.auth=async()=>({type:"unauthenticated"});else{const r=txe(e.auth);n.wrap("request",r.hook),this.auth=r}const i=this.constructor;for(let r=0;r<i.plugins.length;++r)Object.assign(this,i.plugins[r](this,e))}static defaults(e){return class extends this{constructor(...s){const i=s[0]||{};if(typeof e=="function"){super(e(i));return}super(Object.assign({},e,i,i.userAgent&&e.userAgent?{userAgent:`${i.userAgent} ${e.userAgent}`}:null))}}}static plugin(...e){var i;const n=this.plugins;return i=class extends this{},Z(i,"plugins",n.concat(e.filter(r=>!n.includes(r)))),i}},Z(Rp,"VERSION",q8),Z(Rp,"plugins",[]),Rp);async function rxe(t){return{type:"unauthenticated",reason:t}}function oxe(t){return t.status!==403||!t.response?!1:t.response.headers["x-ratelimit-remaining"]==="0"}var axe=/\babuse\b/i;function lxe(t){return t.status!==403?!1:axe.test(t.message)}async function cxe(t,e,n,s){const i=e.endpoint.merge(n,s);return e(i).catch(r=>{throw r.status===404?(r.message=`Not found. May be due to lack of authentication. Reason: ${t}`,r):oxe(r)?(r.message=`API rate limit exceeded. This maybe caused by the lack of authentication. Reason: ${t}`,r):lxe(r)?(r.message=`You have triggered an abuse detection mechanism. This maybe caused by the lack of authentication. Reason: ${t}`,r):r.status===401?(r.message=`Unauthorized. "${i.method} ${i.url}" failed most likely due to lack of authentication. Reason: ${t}`,r):(r.status>=400&&r.status<500&&(r.message=r.message.replace(/\.?$/,`. May be caused by lack of authentication (${t}).`)),r)})}var jm=function(e){if(!e||!e.reason)throw new Error("[@octokit/auth-unauthenticated] No reason passed to createUnauthenticatedAuth");return Object.assign(rxe.bind(null,e.reason),{hook:cxe.bind(null,e.reason)})},X8="7.1.3";function K8(t,e,n){if(Array.isArray(e)){for(const s of e)K8(t,s,n);return}t.eventHandlers[e]||(t.eventHandlers[e]=[]),t.eventHandlers[e].push(n)}var uxe=ixe.defaults({userAgent:`octokit-oauth-app.js/${X8} ${Kf()}`});async function qr(t,e){const{name:n,action:s}=e;if(t.eventHandlers[`${n}.${s}`])for(const i of t.eventHandlers[`${n}.${s}`])await i(e);if(t.eventHandlers[n])for(const i of t.eventHandlers[n])await i(e)}async function dxe(t,e){return t.octokit.auth({type:"oauth-user",...e,async factory(n){const s=new t.Octokit({authStrategy:Wr,auth:n}),i=await s.auth({type:"get"});return await qr(t,{name:"token",action:"created",token:i.token,scopes:i.scopes,authentication:i,octokit:s}),s}})}function fxe(t,e){const n={clientId:t.clientId,request:t.octokit.request,...e,allowSignup:t.allowSignup??e.allowSignup,redirectUrl:e.redirectUrl??t.redirectUrl,scopes:e.scopes??t.defaultScopes};return Fve({clientType:t.clientType,...n})}async function hxe(t,e){const n=await t.octokit.auth({type:"oauth-user",...e});return await qr(t,{name:"token",action:"created",token:n.token,scopes:n.scopes,authentication:n,octokit:new t.Octokit({authStrategy:Wr,auth:{clientType:t.clientType,clientId:t.clientId,clientSecret:t.clientSecret,token:n.token,scopes:n.scopes,refreshToken:n.refreshToken,expiresAt:n.expiresAt,refreshTokenExpiresAt:n.refreshTokenExpiresAt}})}),{authentication:n}}async function pxe(t,e){const n=await R8({clientType:t.clientType,clientId:t.clientId,clientSecret:t.clientSecret,request:t.octokit.request,...e});return Object.assign(n.authentication,{type:"token",tokenType:"oauth"}),n}async function mxe(t,e){const n={clientId:t.clientId,clientSecret:t.clientSecret,request:t.octokit.request,...e};if(t.clientType==="oauth-app"){const r=await rb({clientType:"oauth-app",...n}),o=Object.assign(r.authentication,{type:"token",tokenType:"oauth"});return await qr(t,{name:"token",action:"reset",token:r.authentication.token,scopes:r.authentication.scopes||void 0,authentication:o,octokit:new t.Octokit({authStrategy:Wr,auth:{clientType:t.clientType,clientId:t.clientId,clientSecret:t.clientSecret,token:r.authentication.token,scopes:r.authentication.scopes}})}),{...r,authentication:o}}const s=await rb({clientType:"github-app",...n}),i=Object.assign(s.authentication,{type:"token",tokenType:"oauth"});return await qr(t,{name:"token",action:"reset",token:s.authentication.token,authentication:i,octokit:new t.Octokit({authStrategy:Wr,auth:{clientType:t.clientType,clientId:t.clientId,clientSecret:t.clientSecret,token:s.authentication.token}})}),{...s,authentication:i}}async function gxe(t,e){if(t.clientType==="oauth-app")throw new Error("[@octokit/oauth-app] app.refreshToken() is not supported for OAuth Apps");const n=await C8({clientType:"github-app",clientId:t.clientId,clientSecret:t.clientSecret,request:t.octokit.request,refreshToken:e.refreshToken}),s=Object.assign(n.authentication,{type:"token",tokenType:"oauth"});return await qr(t,{name:"token",action:"refreshed",token:n.authentication.token,authentication:s,octokit:new t.Octokit({authStrategy:Wr,auth:{clientType:t.clientType,clientId:t.clientId,clientSecret:t.clientSecret,token:n.authentication.token}})}),{...n,authentication:s}}async function _xe(t,e){if(t.clientType==="oauth-app")throw new Error("[@octokit/oauth-app] app.scopeToken() is not supported for OAuth Apps");const n=await Gve({clientType:"github-app",clientId:t.clientId,clientSecret:t.clientSecret,request:t.octokit.request,...e}),s=Object.assign(n.authentication,{type:"token",tokenType:"oauth"});return await qr(t,{name:"token",action:"scoped",token:n.authentication.token,authentication:s,octokit:new t.Octokit({authStrategy:Wr,auth:{clientType:t.clientType,clientId:t.clientId,clientSecret:t.clientSecret,token:n.authentication.token}})}),{...n,authentication:s}}async function yxe(t,e){const n={clientId:t.clientId,clientSecret:t.clientSecret,request:t.octokit.request,...e},s=t.clientType==="oauth-app"?await ob({clientType:"oauth-app",...n}):await ob({clientType:"github-app",...n});return await qr(t,{name:"token",action:"deleted",token:e.token,octokit:new t.Octokit({authStrategy:jm,auth:{reason:'Handling "token.deleted" event. The access for the token has been revoked.'}})}),s}async function bxe(t,e){const n={clientId:t.clientId,clientSecret:t.clientSecret,request:t.octokit.request,...e},s=t.clientType==="oauth-app"?await ab({clientType:"oauth-app",...n}):await ab({clientType:"github-app",...n});return await qr(t,{name:"token",action:"deleted",token:e.token,octokit:new t.Octokit({authStrategy:jm,auth:{reason:'Handling "token.deleted" event. The access for the token has been revoked.'}})}),await qr(t,{name:"authorization",action:"deleted",token:e.token,octokit:new t.Octokit({authStrategy:jm,auth:{reason:'Handling "authorization.deleted" event. The access for the app has been revoked.'}})}),s}var b1,vxe=(b1=class{constructor(t){Z(this,"type");Z(this,"on");Z(this,"octokit");Z(this,"getUserOctokit");Z(this,"getWebFlowAuthorizationUrl");Z(this,"createToken");Z(this,"checkToken");Z(this,"resetToken");Z(this,"refreshToken");Z(this,"scopeToken");Z(this,"deleteToken");Z(this,"deleteAuthorization");const e=t.Octokit||uxe;this.type=t.clientType||"oauth-app";const n=new e({authStrategy:I8,auth:{clientType:this.type,clientId:t.clientId,clientSecret:t.clientSecret}}),s={clientType:this.type,clientId:t.clientId,clientSecret:t.clientSecret,defaultScopes:t.defaultScopes||[],allowSignup:t.allowSignup,baseUrl:t.baseUrl,redirectUrl:t.redirectUrl,log:t.log,Octokit:e,octokit:n,eventHandlers:{}};this.on=K8.bind(null,s),this.octokit=n,this.getUserOctokit=dxe.bind(null,s),this.getWebFlowAuthorizationUrl=fxe.bind(null,s),this.createToken=hxe.bind(null,s),this.checkToken=pxe.bind(null,s),this.resetToken=mxe.bind(null,s),this.refreshToken=gxe.bind(null,s),this.scopeToken=_xe.bind(null,s),this.deleteToken=yxe.bind(null,s),this.deleteAuthorization=bxe.bind(null,s)}static defaults(t){return class extends this{constructor(...n){super({...t,...n[0]})}}}},Z(b1,"VERSION",X8),b1),Yw=new TextEncoder;function wxe(t){const n=t.match(/[\dA-F]{2}/gi).map(function(s){return parseInt(s,16)});return new Uint8Array(n)}function xxe(t){return Array.prototype.map.call(new Uint8Array(t),e=>e.toString(16).padStart(2,"0")).join("")}async function Y8(t){return crypto.subtle.importKey("raw",Yw.encode(t),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"])}async function Exe(t,e){if(!t||!e)throw new TypeError("[@octokit/webhooks-methods] secret & payload required for sign()");if(typeof e!="string")throw new TypeError("[@octokit/webhooks-methods] payload must be a string");const n="sha256",s=await crypto.subtle.sign("HMAC",await Y8(t),Yw.encode(e));return`${n}=${xxe(s)}`}async function Z8(t,e,n){if(!t||!e||!n)throw new TypeError("[@octokit/webhooks-methods] secret, eventPayload & signature required");if(typeof e!="string")throw new TypeError("[@octokit/webhooks-methods] eventPayload must be a string");return await crypto.subtle.verify("HMAC",await Y8(t),wxe(n.replace("sha256=","")),Yw.encode(e))}var J8=t=>({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console),...t}),Sxe=["branch_protection_configuration","branch_protection_configuration.disabled","branch_protection_configuration.enabled","branch_protection_rule","branch_protection_rule.created","branch_protection_rule.deleted","branch_protection_rule.edited","check_run","check_run.completed","check_run.created","check_run.requested_action","check_run.rerequested","check_suite","check_suite.completed","check_suite.requested","check_suite.rerequested","code_scanning_alert","code_scanning_alert.appeared_in_branch","code_scanning_alert.closed_by_user","code_scanning_alert.created","code_scanning_alert.fixed","code_scanning_alert.reopened","code_scanning_alert.reopened_by_user","commit_comment","commit_comment.created","create","custom_property","custom_property.created","custom_property.deleted","custom_property.updated","custom_property_values","custom_property_values.updated","delete","dependabot_alert","dependabot_alert.auto_dismissed","dependabot_alert.auto_reopened","dependabot_alert.created","dependabot_alert.dismissed","dependabot_alert.fixed","dependabot_alert.reintroduced","dependabot_alert.reopened","deploy_key","deploy_key.created","deploy_key.deleted","deployment","deployment.created","deployment_protection_rule","deployment_protection_rule.requested","deployment_review","deployment_review.approved","deployment_review.rejected","deployment_review.requested","deployment_status","deployment_status.created","discussion","discussion.answered","discussion.category_changed","discussion.closed","discussion.created","discussion.deleted","discussion.edited","discussion.labeled","discussion.locked","discussion.pinned","discussion.reopened","discussion.transferred","discussion.unanswered","discussion.unlabeled","discussion.unlocked","discussion.unpinned","discussion_comment","discussion_comment.created","discussion_comment.deleted","discussion_comment.edited","fork","github_app_authorization","github_app_authorization.revoked","gollum","installation","installation.created","installation.deleted","installation.new_permissions_accepted","installation.suspend","installation.unsuspend","installation_repositories","installation_repositories.added","installation_repositories.removed","installation_target","installation_target.renamed","issue_comment","issue_comment.created","issue_comment.deleted","issue_comment.edited","issues","issues.assigned","issues.closed","issues.deleted","issues.demilestoned","issues.edited","issues.labeled","issues.locked","issues.milestoned","issues.opened","issues.pinned","issues.reopened","issues.transferred","issues.unassigned","issues.unlabeled","issues.unlocked","issues.unpinned","label","label.created","label.deleted","label.edited","marketplace_purchase","marketplace_purchase.cancelled","marketplace_purchase.changed","marketplace_purchase.pending_change","marketplace_purchase.pending_change_cancelled","marketplace_purchase.purchased","member","member.added","member.edited","member.removed","membership","membership.added","membership.removed","merge_group","merge_group.checks_requested","merge_group.destroyed","meta","meta.deleted","milestone","milestone.closed","milestone.created","milestone.deleted","milestone.edited","milestone.opened","org_block","org_block.blocked","org_block.unblocked","organization","organization.deleted","organization.member_added","organization.member_invited","organization.member_removed","organization.renamed","package","package.published","package.updated","page_build","personal_access_token_request","personal_access_token_request.approved","personal_access_token_request.cancelled","personal_access_token_request.created","personal_access_token_request.denied","ping","project","project.closed","project.created","project.deleted","project.edited","project.reopened","project_card","project_card.converted","project_card.created","project_card.deleted","project_card.edited","project_card.moved","project_column","project_column.created","project_column.deleted","project_column.edited","project_column.moved","projects_v2","projects_v2.closed","projects_v2.created","projects_v2.deleted","projects_v2.edited","projects_v2.reopened","projects_v2_item","projects_v2_item.archived","projects_v2_item.converted","projects_v2_item.created","projects_v2_item.deleted","projects_v2_item.edited","projects_v2_item.reordered","projects_v2_item.restored","public","pull_request","pull_request.assigned","pull_request.auto_merge_disabled","pull_request.auto_merge_enabled","pull_request.closed","pull_request.converted_to_draft","pull_request.demilestoned","pull_request.dequeued","pull_request.edited","pull_request.enqueued","pull_request.labeled","pull_request.locked","pull_request.milestoned","pull_request.opened","pull_request.ready_for_review","pull_request.reopened","pull_request.review_request_removed","pull_request.review_requested","pull_request.synchronize","pull_request.unassigned","pull_request.unlabeled","pull_request.unlocked","pull_request_review","pull_request_review.dismissed","pull_request_review.edited","pull_request_review.submitted","pull_request_review_comment","pull_request_review_comment.created","pull_request_review_comment.deleted","pull_request_review_comment.edited","pull_request_review_thread","pull_request_review_thread.resolved","pull_request_review_thread.unresolved","push","registry_package","registry_package.published","registry_package.updated","release","release.created","release.deleted","release.edited","release.prereleased","release.published","release.released","release.unpublished","repository","repository.archived","repository.created","repository.deleted","repository.edited","repository.privatized","repository.publicized","repository.renamed","repository.transferred","repository.unarchived","repository_advisory","repository_advisory.published","repository_advisory.reported","repository_dispatch","repository_dispatch.sample.collected","repository_import","repository_ruleset","repository_ruleset.created","repository_ruleset.deleted","repository_ruleset.edited","repository_vulnerability_alert","repository_vulnerability_alert.create","repository_vulnerability_alert.dismiss","repository_vulnerability_alert.reopen","repository_vulnerability_alert.resolve","secret_scanning_alert","secret_scanning_alert.created","secret_scanning_alert.reopened","secret_scanning_alert.resolved","secret_scanning_alert.revoked","secret_scanning_alert.validated","secret_scanning_alert_location","secret_scanning_alert_location.created","security_advisory","security_advisory.published","security_advisory.updated","security_advisory.withdrawn","security_and_analysis","sponsorship","sponsorship.cancelled","sponsorship.created","sponsorship.edited","sponsorship.pending_cancellation","sponsorship.pending_tier_change","sponsorship.tier_changed","star","star.created","star.deleted","status","team","team.added_to_repository","team.created","team.deleted","team.edited","team.removed_from_repository","team_add","watch","watch.started","workflow_dispatch","workflow_job","workflow_job.completed","workflow_job.in_progress","workflow_job.queued","workflow_job.waiting","workflow_run","workflow_run.completed","workflow_run.in_progress","workflow_run.requested"];function Zw(t,e,n){t.hooks[e]||(t.hooks[e]=[]),t.hooks[e].push(n)}function Q8(t,e,n){if(Array.isArray(e)){e.forEach(s=>Q8(t,s,n));return}if(["*","error"].includes(e)){const s=e==="*"?"any":e,i=`Using the "${e}" event with the regular Webhooks.on() function is not supported. Please use the Webhooks.on${s.charAt(0).toUpperCase()+s.slice(1)}() method instead`;throw new Error(i)}Sxe.includes(e)||t.log.warn(`"${e}" is not a known webhook name (https://developer.github.com/v3/activity/events/types/)`),Zw(t,e,n)}function Txe(t,e){Zw(t,"*",e)}function Axe(t,e){Zw(t,"error",e)}function o3(t,e){let n;try{n=t(e)}catch(s){console.log('FATAL: Error occurred in "error" event handler'),console.log(s)}n&&n.catch&&n.catch(s=>{console.log('FATAL: Error occurred in "error" event handler'),console.log(s)})}function Mxe(t,e,n){const s=[t.hooks[n],t.hooks["*"]];return e&&s.unshift(t.hooks[`${n}.${e}`]),[].concat(...s.filter(Boolean))}function Rxe(t,e){const n=t.hooks.error||[];if(e instanceof Error){const o=Object.assign(new AggregateError([e],e.message),{event:e});return n.forEach(a=>o3(a,o)),Promise.reject(o)}if(!e||!e.name){const o=new Error("Event name not passed");throw new AggregateError([o],o.message)}if(!e.payload){const o=new Error("Event name not passed");throw new AggregateError([o],o.message)}const s=Mxe(t,"action"in e.payload?e.payload.action:null,e.name);if(s.length===0)return Promise.resolve();const i=[],r=s.map(o=>{let a=Promise.resolve(e);return t.transform&&(a=a.then(t.transform)),a.then(l=>o(l)).catch(l=>i.push(Object.assign(l,{event:e})))});return Promise.all(r).then(()=>{if(i.length===0)return;const o=new AggregateError(i,i.map(a=>a.message).join(`
`));throw Object.assign(o,{event:e}),n.forEach(a=>o3(a,o)),o})}function eP(t,e,n){if(Array.isArray(e)){e.forEach(s=>eP(t,s,n));return}if(t.hooks[e]){for(let s=t.hooks[e].length-1;s>=0;s--)if(t.hooks[e][s]===n){t.hooks[e].splice(s,1);return}}}function Cxe(t){const e={hooks:{},log:J8(t&&t.log)};return t&&t.transform&&(e.transform=t.transform),{on:Q8.bind(null,e),onAny:Txe.bind(null,e),onError:Axe.bind(null,e),removeListener:eP.bind(null,e),receive:Rxe.bind(null,e)}}async function kxe(t,e){if(!await Z8(t.secret,e.payload,e.signature).catch(()=>!1)){const i=new Error("[@octokit/webhooks] signature does not match event payload and secret");return t.eventHandler.receive(Object.assign(i,{event:e,status:400}))}let s;try{s=JSON.parse(e.payload)}catch(i){throw i.message="Invalid JSON",i.status=400,new AggregateError([i],i.message)}return t.eventHandler.receive({id:e.id,name:e.name,payload:s})}var Pxe=class{constructor(t){Z(this,"sign");Z(this,"verify");Z(this,"on");Z(this,"onAny");Z(this,"onError");Z(this,"removeListener");Z(this,"receive");Z(this,"verifyAndReceive");if(!t||!t.secret)throw new Error("[@octokit/webhooks] options.secret required");const e={eventHandler:Cxe(t),secret:t.secret,hooks:{},log:J8(t.log)};this.sign=Exe.bind(null,t.secret),this.verify=Z8.bind(null,t.secret),this.on=e.eventHandler.on,this.onAny=e.eventHandler.onAny,this.onError=e.eventHandler.onError,this.removeListener=e.eventHandler.removeListener,this.receive=e.eventHandler.receive,this.verifyAndReceive=kxe.bind(null,e)}},Ixe="15.1.0";function Oxe(t,e){return new Pxe({secret:e.secret,transform:async n=>{if(!("installation"in n.payload)||typeof n.payload.installation!="object"){const r=new t.constructor({authStrategy:jm,auth:{reason:'"installation" key missing in webhook event payload'}});return{...n,octokit:r}}const s=n.payload.installation.id,i=await t.auth({type:"installation",installationId:s,factory(r){return new r.octokit.constructor({...r.octokitOptions,authStrategy:qw,auth:{...r,installationId:s}})}});return i.hook.before("request",r=>{r.headers["x-github-delivery"]=n.id}),{...n,octokit:i}}})}async function tP(t,e){return t.octokit.auth({type:"installation",installationId:e,factory(n){const s={...n.octokitOptions,authStrategy:qw,auth:{...n,installationId:e}};return new n.octokit.constructor(s)}})}function Lxe(t){return Object.assign(Dxe.bind(null,t),{iterator:nP.bind(null,t)})}async function Dxe(t,e){const n=nP(t)[Symbol.asyncIterator]();let s=await n.next();for(;!s.done;)await e(s.value),s=await n.next()}function nP(t){return{async*[Symbol.asyncIterator](){const e=Gk.iterator(t.octokit,"GET /app/installations");for await(const{data:n}of e)for(const s of n)yield{octokit:await tP(t,s.id),installation:s}}}}function Nxe(t){return Object.assign(Uxe.bind(null,t),{iterator:sP.bind(null,t)})}async function Uxe(t,e,n){const s=sP(t,n?e:void 0)[Symbol.asyncIterator]();let i=await s.next();for(;!i.done;)n?await n(i.value):await e(i.value),i=await s.next()}function $xe(t,e){return{async*[Symbol.asyncIterator](){yield{octokit:await t.getInstallationOctokit(e)}}}}function sP(t,e){return{async*[Symbol.asyncIterator](){const n=e?$xe(t,e.installationId):t.eachInstallation.iterator();for await(const{octokit:s}of n){const i=Gk.iterator(s,"GET /installation/repositories");for await(const{data:r}of i)for(const o of r)yield{octokit:s,repository:o}}}}}function Fxe(t){let e;return async function(s={}){e||(e=Bxe(t));const i=await e,r=new URL(i);return s.target_id!==void 0&&(r.pathname+="/permissions",r.searchParams.append("target_id",s.target_id.toFixed())),s.state!==void 0&&r.searchParams.append("state",s.state),r.href}}async function Bxe(t){const{data:e}=await t.octokit.request("GET /app");if(!e)throw new Error("[@octokit/app] unable to fetch metadata for app");return`${e.html_url}/installations/new`}var v1,Hxe=(v1=class{constructor(e){Z(this,"octokit");Z(this,"webhooks");Z(this,"oauth");Z(this,"getInstallationOctokit");Z(this,"eachInstallation");Z(this,"eachRepository");Z(this,"getInstallationUrl");Z(this,"log");const n=e.Octokit||Yye,s=Object.assign({appId:e.appId,privateKey:e.privateKey},e.oauth?{clientId:e.oauth.clientId,clientSecret:e.oauth.clientSecret}:{});this.octokit=new n({authStrategy:qw,auth:s,log:e.log}),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},e.log),e.webhooks?this.webhooks=Oxe(this.octokit,e.webhooks):Object.defineProperty(this,"webhooks",{get(){throw new Error("[@octokit/app] webhooks option not set")}}),e.oauth?this.oauth=new vxe({...e.oauth,clientType:"github-app",Octokit:n}):Object.defineProperty(this,"oauth",{get(){throw new Error("[@octokit/app] oauth.clientId / oauth.clientSecret options are not set")}}),this.getInstallationOctokit=tP.bind(null,this),this.eachInstallation=Lxe(this),this.eachRepository=Nxe(this),this.getInstallationUrl=Fxe(this)}static defaults(e){return class extends this{constructor(...s){super({...e,...s[0]})}}}},Z(v1,"VERSION",Ixe),v1),Gxe="0.0.0-development",zxe=N1e.plugin(Xk,zk,X1e,Jk,Fw).defaults({userAgent:`octokit.js/${Gxe}`,throttle:{onRateLimit:Vxe,onSecondaryRateLimit:jxe}});function Vxe(t,e,n){if(n.log.warn(`Request quota exhausted for request ${e.method} ${e.url}`),e.request.retryCount===0)return n.log.info(`Retrying after ${t} seconds!`),!0}function jxe(t,e,n){if(n.log.warn(`SecondaryRateLimit detected for request ${e.method} ${e.url}`),e.request.retryCount===0)return n.log.info(`Retrying after ${t} seconds!`),!0}var Wxe=Hxe.defaults({Octokit:zxe});const Mf=15,vb=30,wb=19,qxe=29,Wm=256,Jw=Wm+1+qxe,a3=2*Jw+1,yd=256,Xxe=7,l3=16,c3=17,u3=18,Y0=8*2,qm=-1,Kxe=1,hp=2,Yxe=0,oc=0,d3=1,Zxe=3,ms=4,_i=0,iP=1,pp=2,Mi=-2,Jxe=-3,nc=-5;function n_(t){return s_(t.map(([e,n])=>new Array(e).fill(n,0,e)))}function s_(t){return t.reduce((e,n)=>e.concat(Array.isArray(n)?s_(n):n),[])}const f3=[0,1,2,3].concat(...n_([[2,4],[2,5],[4,6],[4,7],[8,8],[8,9],[16,10],[16,11],[32,12],[32,13],[64,14],[64,15],[2,0],[1,16],[1,17],[2,18],[2,19],[4,20],[4,21],[8,22],[8,23],[16,24],[16,25],[32,26],[32,27],[64,28],[64,29]]));function Yt(){const t=this;function e(i){const r=t.dyn_tree,o=t.stat_desc.static_tree,a=t.stat_desc.extra_bits,l=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,d,f,h,y,_,p=0;for(h=0;h<=Mf;h++)i.bl_count[h]=0;for(r[i.heap[i.heap_max]*2+1]=0,u=i.heap_max+1;u<a3;u++)d=i.heap[u],h=r[r[d*2+1]*2+1]+1,h>c&&(h=c,p++),r[d*2+1]=h,!(d>t.max_code)&&(i.bl_count[h]++,y=0,d>=l&&(y=a[d-l]),_=r[d*2],i.opt_len+=_*(h+y),o&&(i.static_len+=_*(o[d*2+1]+y)));if(p!==0){do{for(h=c-1;i.bl_count[h]===0;)h--;i.bl_count[h]--,i.bl_count[h+1]+=2,i.bl_count[c]--,p-=2}while(p>0);for(h=c;h!==0;h--)for(d=i.bl_count[h];d!==0;)f=i.heap[--u],!(f>t.max_code)&&(r[f*2+1]!=h&&(i.opt_len+=(h-r[f*2+1])*r[f*2],r[f*2+1]=h),d--)}}function n(i,r){let o=0;do o|=i&1,i>>>=1,o<<=1;while(--r>0);return o>>>1}function s(i,r,o){const a=[];let l=0,c,u,d;for(c=1;c<=Mf;c++)a[c]=l=l+o[c-1]<<1;for(u=0;u<=r;u++)d=i[u*2+1],d!==0&&(i[u*2]=n(a[d]++,d))}t.build_tree=function(i){const r=t.dyn_tree,o=t.stat_desc.static_tree,a=t.stat_desc.elems;let l,c,u=-1,d;for(i.heap_len=0,i.heap_max=a3,l=0;l<a;l++)r[l*2]!==0?(i.heap[++i.heap_len]=u=l,i.depth[l]=0):r[l*2+1]=0;for(;i.heap_len<2;)d=i.heap[++i.heap_len]=u<2?++u:0,r[d*2]=1,i.depth[d]=0,i.opt_len--,o&&(i.static_len-=o[d*2+1]);for(t.max_code=u,l=Math.floor(i.heap_len/2);l>=1;l--)i.pqdownheap(r,l);d=a;do l=i.heap[1],i.heap[1]=i.heap[i.heap_len--],i.pqdownheap(r,1),c=i.heap[1],i.heap[--i.heap_max]=l,i.heap[--i.heap_max]=c,r[d*2]=r[l*2]+r[c*2],i.depth[d]=Math.max(i.depth[l],i.depth[c])+1,r[l*2+1]=r[c*2+1]=d,i.heap[1]=d++,i.pqdownheap(r,1);while(i.heap_len>=2);i.heap[--i.heap_max]=i.heap[1],e(i),s(r,t.max_code,i.bl_count)}}Yt._length_code=[0,1,2,3,4,5,6,7].concat(...n_([[2,8],[2,9],[2,10],[2,11],[4,12],[4,13],[4,14],[4,15],[8,16],[8,17],[8,18],[8,19],[16,20],[16,21],[16,22],[16,23],[32,24],[32,25],[32,26],[31,27],[1,28]]));Yt.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0];Yt.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576];Yt.d_code=function(t){return t<256?f3[t]:f3[256+(t>>>7)]};Yt.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];Yt.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];Yt.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7];Yt.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function Hn(t,e,n,s,i){const r=this;r.static_tree=t,r.extra_bits=e,r.extra_base=n,r.elems=s,r.max_length=i}const Qxe=[12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,19,275,147,403,83,339,211,467,51,307,179,435,115,371,243,499,11,267,139,395,75,331,203,459,43,299,171,427,107,363,235,491,27,283,155,411,91,347,219,475,59,315,187,443,123,379,251,507,7,263,135,391,71,327,199,455,39,295,167,423,103,359,231,487,23,279,151,407,87,343,215,471,55,311,183,439,119,375,247,503,15,271,143,399,79,335,207,463,47,303,175,431,111,367,239,495,31,287,159,415,95,351,223,479,63,319,191,447,127,383,255,511,0,64,32,96,16,80,48,112,8,72,40,104,24,88,56,120,4,68,36,100,20,84,52,116,3,131,67,195,35,163,99,227],e2e=n_([[144,8],[112,9],[24,7],[8,8]]);Hn.static_ltree=s_(Qxe.map((t,e)=>[t,e2e[e]]));const t2e=[0,16,8,24,4,20,12,28,2,18,10,26,6,22,14,30,1,17,9,25,5,21,13,29,3,19,11,27,7,23],n2e=n_([[30,5]]);Hn.static_dtree=s_(t2e.map((t,e)=>[t,n2e[e]]));Hn.static_l_desc=new Hn(Hn.static_ltree,Yt.extra_lbits,Wm+1,Jw,Mf);Hn.static_d_desc=new Hn(Hn.static_dtree,Yt.extra_dbits,0,vb,Mf);Hn.static_bl_desc=new Hn(null,Yt.extra_blbits,0,wb,Xxe);const s2e=9,i2e=8;function $i(t,e,n,s,i){const r=this;r.good_length=t,r.max_lazy=e,r.nice_length=n,r.max_chain=s,r.func=i}const rP=0,sm=1,Oa=2,gi=[new $i(0,0,0,0,rP),new $i(4,4,8,4,sm),new $i(4,5,16,8,sm),new $i(4,6,32,32,sm),new $i(4,4,16,16,Oa),new $i(8,16,32,32,Oa),new $i(8,16,128,128,Oa),new $i(8,32,128,256,Oa),new $i(32,128,258,1024,Oa),new $i(32,258,258,4096,Oa)],mp=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],Qs=0,gp=1,bd=2,_p=3,r2e=32,Z0=42,yp=113,vd=666,J0=8,o2e=0,Q0=1,a2e=2,Qt=3,im=258,Is=im+Qt+1;function h3(t,e,n,s){const i=t[e*2],r=t[n*2];return i<r||i==r&&s[e]<=s[n]}function l2e(){const t=this;let e,n,s,i,r,o,a,l,c,u,d,f,h,y,_,p,g,b,v,w,A,x,T,M,E,S,C,N,G,O,P,k,F;const I=new Yt,ee=new Yt,Y=new Yt;t.depth=[];let me,ge,Ce,le,_e,Ie;t.bl_count=[],t.heap=[],P=[],k=[],F=[];function ne(){c=2*r,d[h-1]=0;for(let U=0;U<h-1;U++)d[U]=0;S=gi[C].max_lazy,G=gi[C].good_length,O=gi[C].nice_length,E=gi[C].max_chain,A=0,g=0,T=0,b=M=Qt-1,w=0,f=0}function Me(){let U;for(U=0;U<Jw;U++)P[U*2]=0;for(U=0;U<vb;U++)k[U*2]=0;for(U=0;U<wb;U++)F[U*2]=0;P[yd*2]=1,t.opt_len=t.static_len=0,ge=Ce=0}function Te(){I.dyn_tree=P,I.stat_desc=Hn.static_l_desc,ee.dyn_tree=k,ee.stat_desc=Hn.static_d_desc,Y.dyn_tree=F,Y.stat_desc=Hn.static_bl_desc,_e=0,Ie=0,le=8,Me()}t.pqdownheap=function(U,W){const X=t.heap,ie=X[W];let H=W<<1;for(;H<=t.heap_len&&(H<t.heap_len&&h3(U,X[H+1],X[H],t.depth)&&H++,!h3(U,ie,X[H],t.depth));)X[W]=X[H],W=H,H<<=1;X[W]=ie};function ke(U,W){let X=-1,ie,H=U[0*2+1],ye=0,pe=7,Ae=4;H===0&&(pe=138,Ae=3),U[(W+1)*2+1]=65535;for(let Ue=0;Ue<=W;Ue++)ie=H,H=U[(Ue+1)*2+1],!(++ye<pe&&ie==H)&&(ye<Ae?F[ie*2]+=ye:ie!==0?(ie!=X&&F[ie*2]++,F[l3*2]++):ye<=10?F[c3*2]++:F[u3*2]++,ye=0,X=ie,H===0?(pe=138,Ae=3):ie==H?(pe=6,Ae=3):(pe=7,Ae=4))}function ze(){let U;for(ke(P,I.max_code),ke(k,ee.max_code),Y.build_tree(t),U=wb-1;U>=3&&F[Yt.bl_order[U]*2+1]===0;U--);return t.opt_len+=3*(U+1)+5+5+4,U}function V(U){t.pending_buf[t.pending++]=U}function B(U){V(U&255),V(U>>>8&255)}function z(U){V(U>>8&255),V(U&255&255)}function te(U,W){let X;const ie=W;Ie>Y0-ie?(X=U,_e|=X<<Ie&65535,B(_e),_e=X>>>Y0-Ie,Ie+=ie-Y0):(_e|=U<<Ie&65535,Ie+=ie)}function ce(U,W){const X=U*2;te(W[X]&65535,W[X+1]&65535)}function ve(U,W){let X,ie=-1,H,ye=U[0*2+1],pe=0,Ae=7,Ue=4;for(ye===0&&(Ae=138,Ue=3),X=0;X<=W;X++)if(H=ye,ye=U[(X+1)*2+1],!(++pe<Ae&&H==ye)){if(pe<Ue)do ce(H,F);while(--pe!==0);else H!==0?(H!=ie&&(ce(H,F),pe--),ce(l3,F),te(pe-3,2)):pe<=10?(ce(c3,F),te(pe-3,3)):(ce(u3,F),te(pe-11,7));pe=0,ie=H,ye===0?(Ae=138,Ue=3):H==ye?(Ae=6,Ue=3):(Ae=7,Ue=4)}}function xe(U,W,X){let ie;for(te(U-257,5),te(W-1,5),te(X-4,4),ie=0;ie<X;ie++)te(F[Yt.bl_order[ie]*2+1],3);ve(P,U-1),ve(k,W-1)}function Re(){Ie==16?(B(_e),_e=0,Ie=0):Ie>=8&&(V(_e&255),_e>>>=8,Ie-=8)}function D(){te(Q0<<1,3),ce(yd,Hn.static_ltree),Re(),1+le+10-Ie<9&&(te(Q0<<1,3),ce(yd,Hn.static_ltree),Re()),le=7}function R(U,W){let X,ie,H;if(t.dist_buf[ge]=U,t.lc_buf[ge]=W&255,ge++,U===0?P[W*2]++:(Ce++,U--,P[(Yt._length_code[W]+Wm+1)*2]++,k[Yt.d_code(U)*2]++),!(ge&8191)&&C>2){for(X=ge*8,ie=A-g,H=0;H<vb;H++)X+=k[H*2]*(5+Yt.extra_dbits[H]);if(X>>>=3,Ce<Math.floor(ge/2)&&X<Math.floor(ie/2))return!0}return ge==me-1}function q(U,W){let X,ie,H=0,ye,pe;if(ge!==0)do X=t.dist_buf[H],ie=t.lc_buf[H],H++,X===0?ce(ie,U):(ye=Yt._length_code[ie],ce(ye+Wm+1,U),pe=Yt.extra_lbits[ye],pe!==0&&(ie-=Yt.base_length[ye],te(ie,pe)),X--,ye=Yt.d_code(X),ce(ye,W),pe=Yt.extra_dbits[ye],pe!==0&&(X-=Yt.base_dist[ye],te(X,pe)));while(H<ge);ce(yd,U),le=U[yd*2+1]}function ue(){Ie>8?B(_e):Ie>0&&V(_e&255),_e=0,Ie=0}function be(U,W,X){ue(),le=8,B(W),B(~W),t.pending_buf.set(l.subarray(U,U+W),t.pending),t.pending+=W}function he(U,W,X){te((o2e<<1)+(X?1:0),3),be(U,W)}function Oe(U,W,X){let ie,H,ye=0;C>0?(I.build_tree(t),ee.build_tree(t),ye=ze(),ie=t.opt_len+3+7>>>3,H=t.static_len+3+7>>>3,H<=ie&&(ie=H)):ie=H=W+5,W+4<=ie&&U!=-1?he(U,W,X):H==ie?(te((Q0<<1)+(X?1:0),3),q(Hn.static_ltree,Hn.static_dtree)):(te((a2e<<1)+(X?1:0),3),xe(I.max_code+1,ee.max_code+1,ye+1),q(P,k)),Me(),X&&ue()}function Pe(U){Oe(g>=0?g:-1,A-g,U),g=A,e.flush_pending()}function Ne(){let U,W,X,ie;do{if(ie=c-T-A,ie===0&&A===0&&T===0)ie=r;else if(ie==-1)ie--;else if(A>=r+r-Is){l.set(l.subarray(r,r+r),0),x-=r,A-=r,g-=r,U=h,X=U;do W=d[--X]&65535,d[X]=W>=r?W-r:0;while(--U!==0);U=r,X=U;do W=u[--X]&65535,u[X]=W>=r?W-r:0;while(--U!==0);ie+=r}if(e.avail_in===0)return;U=e.read_buf(l,A+T,ie),T+=U,T>=Qt&&(f=l[A]&255,f=(f<<p^l[A+1]&255)&_)}while(T<Is&&e.avail_in!==0)}function He(U){let W=65535,X;for(W>s-5&&(W=s-5);;){if(T<=1){if(Ne(),T===0&&U==oc)return Qs;if(T===0)break}if(A+=T,T=0,X=g+W,(A===0||A>=X)&&(T=A-X,A=X,Pe(!1),e.avail_out===0)||A-g>=r-Is&&(Pe(!1),e.avail_out===0))return Qs}return Pe(U==ms),e.avail_out===0?U==ms?bd:Qs:U==ms?_p:gp}function fe(U){let W=E,X=A,ie,H,ye=M;const pe=A>r-Is?A-(r-Is):0;let Ae=O;const Ue=a,et=A+im;let Et=l[X+ye-1],on=l[X+ye];M>=G&&(W>>=2),Ae>T&&(Ae=T);do if(ie=U,!(l[ie+ye]!=on||l[ie+ye-1]!=Et||l[ie]!=l[X]||l[++ie]!=l[X+1])){X+=2,ie++;do;while(l[++X]==l[++ie]&&l[++X]==l[++ie]&&l[++X]==l[++ie]&&l[++X]==l[++ie]&&l[++X]==l[++ie]&&l[++X]==l[++ie]&&l[++X]==l[++ie]&&l[++X]==l[++ie]&&X<et);if(H=im-(et-X),X=et-im,H>ye){if(x=U,ye=H,H>=Ae)break;Et=l[X+ye-1],on=l[X+ye]}}while((U=u[U&Ue]&65535)>pe&&--W!==0);return ye<=T?ye:T}function K(U){let W=0,X;for(;;){if(T<Is){if(Ne(),T<Is&&U==oc)return Qs;if(T===0)break}if(T>=Qt&&(f=(f<<p^l[A+(Qt-1)]&255)&_,W=d[f]&65535,u[A&a]=d[f],d[f]=A),W!==0&&(A-W&65535)<=r-Is&&N!=hp&&(b=fe(W)),b>=Qt)if(X=R(A-x,b-Qt),T-=b,b<=S&&T>=Qt){b--;do A++,f=(f<<p^l[A+(Qt-1)]&255)&_,W=d[f]&65535,u[A&a]=d[f],d[f]=A;while(--b!==0);A++}else A+=b,b=0,f=l[A]&255,f=(f<<p^l[A+1]&255)&_;else X=R(0,l[A]&255),T--,A++;if(X&&(Pe(!1),e.avail_out===0))return Qs}return Pe(U==ms),e.avail_out===0?U==ms?bd:Qs:U==ms?_p:gp}function L(U){let W=0,X,ie;for(;;){if(T<Is){if(Ne(),T<Is&&U==oc)return Qs;if(T===0)break}if(T>=Qt&&(f=(f<<p^l[A+(Qt-1)]&255)&_,W=d[f]&65535,u[A&a]=d[f],d[f]=A),M=b,v=x,b=Qt-1,W!==0&&M<S&&(A-W&65535)<=r-Is&&(N!=hp&&(b=fe(W)),b<=5&&(N==Kxe||b==Qt&&A-x>4096)&&(b=Qt-1)),M>=Qt&&b<=M){ie=A+T-Qt,X=R(A-1-v,M-Qt),T-=M-1,M-=2;do++A<=ie&&(f=(f<<p^l[A+(Qt-1)]&255)&_,W=d[f]&65535,u[A&a]=d[f],d[f]=A);while(--M!==0);if(w=0,b=Qt-1,A++,X&&(Pe(!1),e.avail_out===0))return Qs}else if(w!==0){if(X=R(0,l[A-1]&255),X&&Pe(!1),A++,T--,e.avail_out===0)return Qs}else w=1,A++,T--}return w!==0&&(X=R(0,l[A-1]&255),w=0),Pe(U==ms),e.avail_out===0?U==ms?bd:Qs:U==ms?_p:gp}function se(U){return U.total_in=U.total_out=0,U.msg=null,t.pending=0,t.pending_out=0,n=yp,i=oc,Te(),ne(),_i}t.deflateInit=function(U,W,X,ie,H,ye){return ie||(ie=J0),H||(H=i2e),ye||(ye=Yxe),U.msg=null,W==qm&&(W=6),H<1||H>s2e||ie!=J0||X<9||X>15||W<0||W>9||ye<0||ye>hp?Mi:(U.dstate=t,o=X,r=1<<o,a=r-1,y=H+7,h=1<<y,_=h-1,p=Math.floor((y+Qt-1)/Qt),l=new Uint8Array(r*2),u=[],d=[],me=1<<H+6,t.pending_buf=new Uint8Array(me*4),s=me*4,t.dist_buf=new Uint16Array(me),t.lc_buf=new Uint8Array(me),C=W,N=ye,se(U))},t.deflateEnd=function(){return n!=Z0&&n!=yp&&n!=vd?Mi:(t.lc_buf=null,t.dist_buf=null,t.pending_buf=null,d=null,u=null,l=null,t.dstate=null,n==yp?Jxe:_i)},t.deflateParams=function(U,W,X){let ie=_i;return W==qm&&(W=6),W<0||W>9||X<0||X>hp?Mi:(gi[C].func!=gi[W].func&&U.total_in!==0&&(ie=U.deflate(d3)),C!=W&&(C=W,S=gi[C].max_lazy,G=gi[C].good_length,O=gi[C].nice_length,E=gi[C].max_chain),N=X,ie)},t.deflateSetDictionary=function(U,W,X){let ie=X,H,ye=0;if(!W||n!=Z0)return Mi;if(ie<Qt)return _i;for(ie>r-Is&&(ie=r-Is,ye=X-ie),l.set(W.subarray(ye,ye+ie),0),A=ie,g=ie,f=l[0]&255,f=(f<<p^l[1]&255)&_,H=0;H<=ie-Qt;H++)f=(f<<p^l[H+(Qt-1)]&255)&_,u[H&a]=d[f],d[f]=H;return _i},t.deflate=function(U,W){let X,ie,H,ye,pe;if(W>ms||W<0)return Mi;if(!U.next_out||!U.next_in&&U.avail_in!==0||n==vd&&W!=ms)return U.msg=mp[pp-Mi],Mi;if(U.avail_out===0)return U.msg=mp[pp-nc],nc;if(e=U,ye=i,i=W,n==Z0&&(ie=J0+(o-8<<4)<<8,H=(C-1&255)>>1,H>3&&(H=3),ie|=H<<6,A!==0&&(ie|=r2e),ie+=31-ie%31,n=yp,z(ie)),t.pending!==0){if(e.flush_pending(),e.avail_out===0)return i=-1,_i}else if(e.avail_in===0&&W<=ye&&W!=ms)return e.msg=mp[pp-nc],nc;if(n==vd&&e.avail_in!==0)return U.msg=mp[pp-nc],nc;if(e.avail_in!==0||T!==0||W!=oc&&n!=vd){switch(pe=-1,gi[C].func){case rP:pe=He(W);break;case sm:pe=K(W);break;case Oa:pe=L(W);break}if((pe==bd||pe==_p)&&(n=vd),pe==Qs||pe==bd)return e.avail_out===0&&(i=-1),_i;if(pe==gp){if(W==d3)D();else if(he(0,0,!1),W==Zxe)for(X=0;X<h;X++)d[X]=0;if(e.flush_pending(),e.avail_out===0)return i=-1,_i}}return W!=ms?_i:iP}}function oP(){const t=this;t.next_in_index=0,t.next_out_index=0,t.avail_in=0,t.total_in=0,t.avail_out=0,t.total_out=0}oP.prototype={deflateInit(t,e){const n=this;return n.dstate=new l2e,e||(e=Mf),n.dstate.deflateInit(n,t,e)},deflate(t){const e=this;return e.dstate?e.dstate.deflate(e,t):Mi},deflateEnd(){const t=this;if(!t.dstate)return Mi;const e=t.dstate.deflateEnd();return t.dstate=null,e},deflateParams(t,e){const n=this;return n.dstate?n.dstate.deflateParams(n,t,e):Mi},deflateSetDictionary(t,e){const n=this;return n.dstate?n.dstate.deflateSetDictionary(n,t,e):Mi},read_buf(t,e,n){const s=this;let i=s.avail_in;return i>n&&(i=n),i===0?0:(s.avail_in-=i,t.set(s.next_in.subarray(s.next_in_index,s.next_in_index+i),e),s.next_in_index+=i,s.total_in+=i,i)},flush_pending(){const t=this;let e=t.dstate.pending;e>t.avail_out&&(e=t.avail_out),e!==0&&(t.next_out.set(t.dstate.pending_buf.subarray(t.dstate.pending_out,t.dstate.pending_out+e),t.next_out_index),t.next_out_index+=e,t.dstate.pending_out+=e,t.total_out+=e,t.avail_out-=e,t.dstate.pending-=e,t.dstate.pending===0&&(t.dstate.pending_out=0))}};function c2e(t){const e=this,n=new oP,s=u2e(t&&t.chunkSize?t.chunkSize:64*1024),i=oc,r=new Uint8Array(s);let o=t?t.level:qm;typeof o>"u"&&(o=qm),n.deflateInit(o),n.next_out=r,e.append=function(a,l){let c,u,d=0,f=0,h=0;const y=[];if(a.length){n.next_in_index=0,n.next_in=a,n.avail_in=a.length;do{if(n.next_out_index=0,n.avail_out=s,c=n.deflate(i),c!=_i)throw new Error("deflating: "+n.msg);n.next_out_index&&(n.next_out_index==s?y.push(new Uint8Array(r)):y.push(r.subarray(0,n.next_out_index))),h+=n.next_out_index,l&&n.next_in_index>0&&n.next_in_index!=d&&(l(n.next_in_index),d=n.next_in_index)}while(n.avail_in>0||n.avail_out===0);return y.length>1?(u=new Uint8Array(h),y.forEach(function(_){u.set(_,f),f+=_.length})):u=y[0]?new Uint8Array(y[0]):new Uint8Array,u}},e.flush=function(){let a,l,c=0,u=0;const d=[];do{if(n.next_out_index=0,n.avail_out=s,a=n.deflate(ms),a!=iP&&a!=_i)throw new Error("deflating: "+n.msg);s-n.avail_out>0&&d.push(r.slice(0,n.next_out_index)),u+=n.next_out_index}while(n.avail_in>0||n.avail_out===0);return n.deflateEnd(),l=new Uint8Array(u),d.forEach(function(f){l.set(f,c),c+=f.length}),l}}function u2e(t){return t+5*(Math.floor(t/16383)+1)}const d2e=15,Mt=0,Br=1,f2e=2,bs=-2,Zt=-3,p3=-4,Hr=-5,Ls=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],aP=1440,h2e=0,p2e=4,m2e=9,g2e=5,_2e=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],y2e=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],b2e=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],v2e=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],w2e=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],x2e=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ho=15;function xb(){const t=this;let e,n,s,i,r,o;function a(c,u,d,f,h,y,_,p,g,b,v){let w,A,x,T,M,E,S,C,N,G,O,P,k,F,I;G=0,M=d;do s[c[u+G]]++,G++,M--;while(M!==0);if(s[0]==d)return _[0]=-1,p[0]=0,Mt;for(C=p[0],E=1;E<=ho&&s[E]===0;E++);for(S=E,C<E&&(C=E),M=ho;M!==0&&s[M]===0;M--);for(x=M,C>M&&(C=M),p[0]=C,F=1<<E;E<M;E++,F<<=1)if((F-=s[E])<0)return Zt;if((F-=s[M])<0)return Zt;for(s[M]+=F,o[1]=E=0,G=1,k=2;--M!==0;)o[k]=E+=s[G],k++,G++;M=0,G=0;do(E=c[u+G])!==0&&(v[o[E]++]=M),G++;while(++M<d);for(d=o[x],o[0]=M=0,G=0,T=-1,P=-C,r[0]=0,O=0,I=0;S<=x;S++)for(w=s[S];w--!==0;){for(;S>P+C;){if(T++,P+=C,I=x-P,I=I>C?C:I,(A=1<<(E=S-P))>w+1&&(A-=w+1,k=S,E<I))for(;++E<I&&!((A<<=1)<=s[++k]);)A-=s[k];if(I=1<<E,b[0]+I>aP)return Zt;r[T]=O=b[0],b[0]+=I,T!==0?(o[T]=M,i[0]=E,i[1]=C,E=M>>>P-C,i[2]=O-r[T-1]-E,g.set(i,(r[T-1]+E)*3)):_[0]=O}for(i[1]=S-P,G>=d?i[0]=192:v[G]<f?(i[0]=v[G]<256?0:96,i[2]=v[G++]):(i[0]=y[v[G]-f]+16+64,i[2]=h[v[G++]-f]),A=1<<S-P,E=M>>>P;E<I;E+=A)g.set(i,(O+E)*3);for(E=1<<S-1;M&E;E>>>=1)M^=E;for(M^=E,N=(1<<P)-1;(M&N)!=o[T];)T--,P-=C,N=(1<<P)-1}return F!==0&&x!=1?Hr:Mt}function l(c){let u;for(e||(e=[],n=[],s=new Int32Array(ho+1),i=[],r=new Int32Array(ho),o=new Int32Array(ho+1)),n.length<c&&(n=[]),u=0;u<c;u++)n[u]=0;for(u=0;u<ho+1;u++)s[u]=0;for(u=0;u<3;u++)i[u]=0;r.set(s.subarray(0,ho),0),o.set(s.subarray(0,ho+1),0)}t.inflate_trees_bits=function(c,u,d,f,h){let y;return l(19),e[0]=0,y=a(c,0,19,19,null,null,d,u,f,e,n),y==Zt?h.msg="oversubscribed dynamic bit lengths tree":(y==Hr||u[0]===0)&&(h.msg="incomplete dynamic bit lengths tree",y=Zt),y},t.inflate_trees_dynamic=function(c,u,d,f,h,y,_,p,g){let b;return l(288),e[0]=0,b=a(d,0,c,257,b2e,v2e,y,f,p,e,n),b!=Mt||f[0]===0?(b==Zt?g.msg="oversubscribed literal/length tree":b!=p3&&(g.msg="incomplete literal/length tree",b=Zt),b):(l(288),b=a(d,c,u,0,w2e,x2e,_,h,p,e,n),b!=Mt||h[0]===0&&c>257?(b==Zt?g.msg="oversubscribed distance tree":b==Hr?(g.msg="incomplete distance tree",b=Zt):b!=p3&&(g.msg="empty distance tree with lengths",b=Zt),b):Mt)}}xb.inflate_trees_fixed=function(t,e,n,s){return t[0]=m2e,e[0]=g2e,n[0]=_2e,s[0]=y2e,Mt};const bp=0,m3=1,g3=2,_3=3,y3=4,b3=5,v3=6,e1=7,w3=8,vp=9;function E2e(){const t=this;let e,n=0,s,i=0,r=0,o=0,a=0,l=0,c=0,u=0,d,f=0,h,y=0;function _(p,g,b,v,w,A,x,T){let M,E,S,C,N,G,O,P,k,F,I,ee,Y,me,ge,Ce;O=T.next_in_index,P=T.avail_in,N=x.bitb,G=x.bitk,k=x.write,F=k<x.read?x.read-k-1:x.end-k,I=Ls[p],ee=Ls[g];do{for(;G<20;)P--,N|=(T.read_byte(O++)&255)<<G,G+=8;if(M=N&I,E=b,S=v,Ce=(S+M)*3,(C=E[Ce])===0){N>>=E[Ce+1],G-=E[Ce+1],x.win[k++]=E[Ce+2],F--;continue}do{if(N>>=E[Ce+1],G-=E[Ce+1],C&16){for(C&=15,Y=E[Ce+2]+(N&Ls[C]),N>>=C,G-=C;G<15;)P--,N|=(T.read_byte(O++)&255)<<G,G+=8;M=N&ee,E=w,S=A,Ce=(S+M)*3,C=E[Ce];do if(N>>=E[Ce+1],G-=E[Ce+1],C&16){for(C&=15;G<C;)P--,N|=(T.read_byte(O++)&255)<<G,G+=8;if(me=E[Ce+2]+(N&Ls[C]),N>>=C,G-=C,F-=Y,k>=me)ge=k-me,k-ge>0&&2>k-ge?(x.win[k++]=x.win[ge++],x.win[k++]=x.win[ge++],Y-=2):(x.win.set(x.win.subarray(ge,ge+2),k),k+=2,ge+=2,Y-=2);else{ge=k-me;do ge+=x.end;while(ge<0);if(C=x.end-ge,Y>C){if(Y-=C,k-ge>0&&C>k-ge)do x.win[k++]=x.win[ge++];while(--C!==0);else x.win.set(x.win.subarray(ge,ge+C),k),k+=C,ge+=C,C=0;ge=0}}if(k-ge>0&&Y>k-ge)do x.win[k++]=x.win[ge++];while(--Y!==0);else x.win.set(x.win.subarray(ge,ge+Y),k),k+=Y,ge+=Y,Y=0;break}else if(!(C&64))M+=E[Ce+2],M+=N&Ls[C],Ce=(S+M)*3,C=E[Ce];else return T.msg="invalid distance code",Y=T.avail_in-P,Y=G>>3<Y?G>>3:Y,P+=Y,O-=Y,G-=Y<<3,x.bitb=N,x.bitk=G,T.avail_in=P,T.total_in+=O-T.next_in_index,T.next_in_index=O,x.write=k,Zt;while(!0);break}if(C&64)return C&32?(Y=T.avail_in-P,Y=G>>3<Y?G>>3:Y,P+=Y,O-=Y,G-=Y<<3,x.bitb=N,x.bitk=G,T.avail_in=P,T.total_in+=O-T.next_in_index,T.next_in_index=O,x.write=k,Br):(T.msg="invalid literal/length code",Y=T.avail_in-P,Y=G>>3<Y?G>>3:Y,P+=Y,O-=Y,G-=Y<<3,x.bitb=N,x.bitk=G,T.avail_in=P,T.total_in+=O-T.next_in_index,T.next_in_index=O,x.write=k,Zt);if(M+=E[Ce+2],M+=N&Ls[C],Ce=(S+M)*3,(C=E[Ce])===0){N>>=E[Ce+1],G-=E[Ce+1],x.win[k++]=E[Ce+2],F--;break}}while(!0)}while(F>=258&&P>=10);return Y=T.avail_in-P,Y=G>>3<Y?G>>3:Y,P+=Y,O-=Y,G-=Y<<3,x.bitb=N,x.bitk=G,T.avail_in=P,T.total_in+=O-T.next_in_index,T.next_in_index=O,x.write=k,Mt}t.init=function(p,g,b,v,w,A){e=bp,c=p,u=g,d=b,f=v,h=w,y=A,s=null},t.proc=function(p,g,b){let v,w,A,x=0,T=0,M=0,E,S,C,N;for(M=g.next_in_index,E=g.avail_in,x=p.bitb,T=p.bitk,S=p.write,C=S<p.read?p.read-S-1:p.end-S;;)switch(e){case bp:if(C>=258&&E>=10&&(p.bitb=x,p.bitk=T,g.avail_in=E,g.total_in+=M-g.next_in_index,g.next_in_index=M,p.write=S,b=_(c,u,d,f,h,y,p,g),M=g.next_in_index,E=g.avail_in,x=p.bitb,T=p.bitk,S=p.write,C=S<p.read?p.read-S-1:p.end-S,b!=Mt)){e=b==Br?e1:vp;break}r=c,s=d,i=f,e=m3;case m3:for(v=r;T<v;){if(E!==0)b=Mt;else return p.bitb=x,p.bitk=T,g.avail_in=E,g.total_in+=M-g.next_in_index,g.next_in_index=M,p.write=S,p.inflate_flush(g,b);E--,x|=(g.read_byte(M++)&255)<<T,T+=8}if(w=(i+(x&Ls[v]))*3,x>>>=s[w+1],T-=s[w+1],A=s[w],A===0){o=s[w+2],e=v3;break}if(A&16){a=A&15,n=s[w+2],e=g3;break}if(!(A&64)){r=A,i=w/3+s[w+2];break}if(A&32){e=e1;break}return e=vp,g.msg="invalid literal/length code",b=Zt,p.bitb=x,p.bitk=T,g.avail_in=E,g.total_in+=M-g.next_in_index,g.next_in_index=M,p.write=S,p.inflate_flush(g,b);case g3:for(v=a;T<v;){if(E!==0)b=Mt;else return p.bitb=x,p.bitk=T,g.avail_in=E,g.total_in+=M-g.next_in_index,g.next_in_index=M,p.write=S,p.inflate_flush(g,b);E--,x|=(g.read_byte(M++)&255)<<T,T+=8}n+=x&Ls[v],x>>=v,T-=v,r=u,s=h,i=y,e=_3;case _3:for(v=r;T<v;){if(E!==0)b=Mt;else return p.bitb=x,p.bitk=T,g.avail_in=E,g.total_in+=M-g.next_in_index,g.next_in_index=M,p.write=S,p.inflate_flush(g,b);E--,x|=(g.read_byte(M++)&255)<<T,T+=8}if(w=(i+(x&Ls[v]))*3,x>>=s[w+1],T-=s[w+1],A=s[w],A&16){a=A&15,l=s[w+2],e=y3;break}if(!(A&64)){r=A,i=w/3+s[w+2];break}return e=vp,g.msg="invalid distance code",b=Zt,p.bitb=x,p.bitk=T,g.avail_in=E,g.total_in+=M-g.next_in_index,g.next_in_index=M,p.write=S,p.inflate_flush(g,b);case y3:for(v=a;T<v;){if(E!==0)b=Mt;else return p.bitb=x,p.bitk=T,g.avail_in=E,g.total_in+=M-g.next_in_index,g.next_in_index=M,p.write=S,p.inflate_flush(g,b);E--,x|=(g.read_byte(M++)&255)<<T,T+=8}l+=x&Ls[v],x>>=v,T-=v,e=b3;case b3:for(N=S-l;N<0;)N+=p.end;for(;n!==0;){if(C===0&&(S==p.end&&p.read!==0&&(S=0,C=S<p.read?p.read-S-1:p.end-S),C===0&&(p.write=S,b=p.inflate_flush(g,b),S=p.write,C=S<p.read?p.read-S-1:p.end-S,S==p.end&&p.read!==0&&(S=0,C=S<p.read?p.read-S-1:p.end-S),C===0)))return p.bitb=x,p.bitk=T,g.avail_in=E,g.total_in+=M-g.next_in_index,g.next_in_index=M,p.write=S,p.inflate_flush(g,b);p.win[S++]=p.win[N++],C--,N==p.end&&(N=0),n--}e=bp;break;case v3:if(C===0&&(S==p.end&&p.read!==0&&(S=0,C=S<p.read?p.read-S-1:p.end-S),C===0&&(p.write=S,b=p.inflate_flush(g,b),S=p.write,C=S<p.read?p.read-S-1:p.end-S,S==p.end&&p.read!==0&&(S=0,C=S<p.read?p.read-S-1:p.end-S),C===0)))return p.bitb=x,p.bitk=T,g.avail_in=E,g.total_in+=M-g.next_in_index,g.next_in_index=M,p.write=S,p.inflate_flush(g,b);b=Mt,p.win[S++]=o,C--,e=bp;break;case e1:if(T>7&&(T-=8,E++,M--),p.write=S,b=p.inflate_flush(g,b),S=p.write,C=S<p.read?p.read-S-1:p.end-S,p.read!=p.write)return p.bitb=x,p.bitk=T,g.avail_in=E,g.total_in+=M-g.next_in_index,g.next_in_index=M,p.write=S,p.inflate_flush(g,b);e=w3;case w3:return b=Br,p.bitb=x,p.bitk=T,g.avail_in=E,g.total_in+=M-g.next_in_index,g.next_in_index=M,p.write=S,p.inflate_flush(g,b);case vp:return b=Zt,p.bitb=x,p.bitk=T,g.avail_in=E,g.total_in+=M-g.next_in_index,g.next_in_index=M,p.write=S,p.inflate_flush(g,b);default:return b=bs,p.bitb=x,p.bitk=T,g.avail_in=E,g.total_in+=M-g.next_in_index,g.next_in_index=M,p.write=S,p.inflate_flush(g,b)}},t.free=function(){}}const x3=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],sc=0,t1=1,E3=2,S3=3,T3=4,A3=5,wp=6,xp=7,M3=8,Ma=9;function S2e(t,e){const n=this;let s=sc,i=0,r=0,o=0,a;const l=[0],c=[0],u=new E2e;let d=0,f=new Int32Array(aP*3);const h=0,y=new xb;n.bitk=0,n.bitb=0,n.win=new Uint8Array(e),n.end=e,n.read=0,n.write=0,n.reset=function(_,p){p&&(p[0]=h),s==wp&&u.free(_),s=sc,n.bitk=0,n.bitb=0,n.read=n.write=0},n.reset(t,null),n.inflate_flush=function(_,p){let g,b,v;return b=_.next_out_index,v=n.read,g=(v<=n.write?n.write:n.end)-v,g>_.avail_out&&(g=_.avail_out),g!==0&&p==Hr&&(p=Mt),_.avail_out-=g,_.total_out+=g,_.next_out.set(n.win.subarray(v,v+g),b),b+=g,v+=g,v==n.end&&(v=0,n.write==n.end&&(n.write=0),g=n.write-v,g>_.avail_out&&(g=_.avail_out),g!==0&&p==Hr&&(p=Mt),_.avail_out-=g,_.total_out+=g,_.next_out.set(n.win.subarray(v,v+g),b),b+=g,v+=g),_.next_out_index=b,n.read=v,p},n.proc=function(_,p){let g,b,v,w,A,x,T,M;for(w=_.next_in_index,A=_.avail_in,b=n.bitb,v=n.bitk,x=n.write,T=x<n.read?n.read-x-1:n.end-x;;){let E,S,C,N,G,O,P,k;switch(s){case sc:for(;v<3;){if(A!==0)p=Mt;else return n.bitb=b,n.bitk=v,_.avail_in=A,_.total_in+=w-_.next_in_index,_.next_in_index=w,n.write=x,n.inflate_flush(_,p);A--,b|=(_.read_byte(w++)&255)<<v,v+=8}switch(g=b&7,d=g&1,g>>>1){case 0:b>>>=3,v-=3,g=v&7,b>>>=g,v-=g,s=t1;break;case 1:E=[],S=[],C=[[]],N=[[]],xb.inflate_trees_fixed(E,S,C,N),u.init(E[0],S[0],C[0],0,N[0],0),b>>>=3,v-=3,s=wp;break;case 2:b>>>=3,v-=3,s=S3;break;case 3:return b>>>=3,v-=3,s=Ma,_.msg="invalid block type",p=Zt,n.bitb=b,n.bitk=v,_.avail_in=A,_.total_in+=w-_.next_in_index,_.next_in_index=w,n.write=x,n.inflate_flush(_,p)}break;case t1:for(;v<32;){if(A!==0)p=Mt;else return n.bitb=b,n.bitk=v,_.avail_in=A,_.total_in+=w-_.next_in_index,_.next_in_index=w,n.write=x,n.inflate_flush(_,p);A--,b|=(_.read_byte(w++)&255)<<v,v+=8}if((~b>>>16&65535)!=(b&65535))return s=Ma,_.msg="invalid stored block lengths",p=Zt,n.bitb=b,n.bitk=v,_.avail_in=A,_.total_in+=w-_.next_in_index,_.next_in_index=w,n.write=x,n.inflate_flush(_,p);i=b&65535,b=v=0,s=i!==0?E3:d!==0?xp:sc;break;case E3:if(A===0||T===0&&(x==n.end&&n.read!==0&&(x=0,T=x<n.read?n.read-x-1:n.end-x),T===0&&(n.write=x,p=n.inflate_flush(_,p),x=n.write,T=x<n.read?n.read-x-1:n.end-x,x==n.end&&n.read!==0&&(x=0,T=x<n.read?n.read-x-1:n.end-x),T===0)))return n.bitb=b,n.bitk=v,_.avail_in=A,_.total_in+=w-_.next_in_index,_.next_in_index=w,n.write=x,n.inflate_flush(_,p);if(p=Mt,g=i,g>A&&(g=A),g>T&&(g=T),n.win.set(_.read_buf(w,g),x),w+=g,A-=g,x+=g,T-=g,(i-=g)!==0)break;s=d!==0?xp:sc;break;case S3:for(;v<14;){if(A!==0)p=Mt;else return n.bitb=b,n.bitk=v,_.avail_in=A,_.total_in+=w-_.next_in_index,_.next_in_index=w,n.write=x,n.inflate_flush(_,p);A--,b|=(_.read_byte(w++)&255)<<v,v+=8}if(r=g=b&16383,(g&31)>29||(g>>5&31)>29)return s=Ma,_.msg="too many length or distance symbols",p=Zt,n.bitb=b,n.bitk=v,_.avail_in=A,_.total_in+=w-_.next_in_index,_.next_in_index=w,n.write=x,n.inflate_flush(_,p);if(g=258+(g&31)+(g>>5&31),!a||a.length<g)a=[];else for(M=0;M<g;M++)a[M]=0;b>>>=14,v-=14,o=0,s=T3;case T3:for(;o<4+(r>>>10);){for(;v<3;){if(A!==0)p=Mt;else return n.bitb=b,n.bitk=v,_.avail_in=A,_.total_in+=w-_.next_in_index,_.next_in_index=w,n.write=x,n.inflate_flush(_,p);A--,b|=(_.read_byte(w++)&255)<<v,v+=8}a[x3[o++]]=b&7,b>>>=3,v-=3}for(;o<19;)a[x3[o++]]=0;if(l[0]=7,g=y.inflate_trees_bits(a,l,c,f,_),g!=Mt)return p=g,p==Zt&&(a=null,s=Ma),n.bitb=b,n.bitk=v,_.avail_in=A,_.total_in+=w-_.next_in_index,_.next_in_index=w,n.write=x,n.inflate_flush(_,p);o=0,s=A3;case A3:for(;g=r,!(o>=258+(g&31)+(g>>5&31));){let F,I;for(g=l[0];v<g;){if(A!==0)p=Mt;else return n.bitb=b,n.bitk=v,_.avail_in=A,_.total_in+=w-_.next_in_index,_.next_in_index=w,n.write=x,n.inflate_flush(_,p);A--,b|=(_.read_byte(w++)&255)<<v,v+=8}if(g=f[(c[0]+(b&Ls[g]))*3+1],I=f[(c[0]+(b&Ls[g]))*3+2],I<16)b>>>=g,v-=g,a[o++]=I;else{for(M=I==18?7:I-14,F=I==18?11:3;v<g+M;){if(A!==0)p=Mt;else return n.bitb=b,n.bitk=v,_.avail_in=A,_.total_in+=w-_.next_in_index,_.next_in_index=w,n.write=x,n.inflate_flush(_,p);A--,b|=(_.read_byte(w++)&255)<<v,v+=8}if(b>>>=g,v-=g,F+=b&Ls[M],b>>>=M,v-=M,M=o,g=r,M+F>258+(g&31)+(g>>5&31)||I==16&&M<1)return a=null,s=Ma,_.msg="invalid bit length repeat",p=Zt,n.bitb=b,n.bitk=v,_.avail_in=A,_.total_in+=w-_.next_in_index,_.next_in_index=w,n.write=x,n.inflate_flush(_,p);I=I==16?a[M-1]:0;do a[M++]=I;while(--F!==0);o=M}}if(c[0]=-1,G=[],O=[],P=[],k=[],G[0]=9,O[0]=6,g=r,g=y.inflate_trees_dynamic(257+(g&31),1+(g>>5&31),a,G,O,P,k,f,_),g!=Mt)return g==Zt&&(a=null,s=Ma),p=g,n.bitb=b,n.bitk=v,_.avail_in=A,_.total_in+=w-_.next_in_index,_.next_in_index=w,n.write=x,n.inflate_flush(_,p);u.init(G[0],O[0],f,P[0],f,k[0]),s=wp;case wp:if(n.bitb=b,n.bitk=v,_.avail_in=A,_.total_in+=w-_.next_in_index,_.next_in_index=w,n.write=x,(p=u.proc(n,_,p))!=Br)return n.inflate_flush(_,p);if(p=Mt,u.free(_),w=_.next_in_index,A=_.avail_in,b=n.bitb,v=n.bitk,x=n.write,T=x<n.read?n.read-x-1:n.end-x,d===0){s=sc;break}s=xp;case xp:if(n.write=x,p=n.inflate_flush(_,p),x=n.write,T=x<n.read?n.read-x-1:n.end-x,n.read!=n.write)return n.bitb=b,n.bitk=v,_.avail_in=A,_.total_in+=w-_.next_in_index,_.next_in_index=w,n.write=x,n.inflate_flush(_,p);s=M3;case M3:return p=Br,n.bitb=b,n.bitk=v,_.avail_in=A,_.total_in+=w-_.next_in_index,_.next_in_index=w,n.write=x,n.inflate_flush(_,p);case Ma:return p=Zt,n.bitb=b,n.bitk=v,_.avail_in=A,_.total_in+=w-_.next_in_index,_.next_in_index=w,n.write=x,n.inflate_flush(_,p);default:return p=bs,n.bitb=b,n.bitk=v,_.avail_in=A,_.total_in+=w-_.next_in_index,_.next_in_index=w,n.write=x,n.inflate_flush(_,p)}}},n.free=function(_){n.reset(_,null),n.win=null,f=null},n.set_dictionary=function(_,p,g){n.win.set(_.subarray(p,p+g),0),n.read=n.write=g},n.sync_point=function(){return s==t1?1:0}}const T2e=32,A2e=8,M2e=0,R3=1,C3=2,k3=3,P3=4,I3=5,n1=6,wd=7,O3=12,po=13,R2e=[0,0,255,255];function C2e(){const t=this;t.mode=0,t.method=0,t.was=[0],t.need=0,t.marker=0,t.wbits=0;function e(n){return!n||!n.istate?bs:(n.total_in=n.total_out=0,n.msg=null,n.istate.mode=wd,n.istate.blocks.reset(n,null),Mt)}t.inflateEnd=function(n){return t.blocks&&t.blocks.free(n),t.blocks=null,Mt},t.inflateInit=function(n,s){return n.msg=null,t.blocks=null,s<8||s>15?(t.inflateEnd(n),bs):(t.wbits=s,n.istate.blocks=new S2e(n,1<<s),e(n),Mt)},t.inflate=function(n,s){let i,r;if(!n||!n.istate||!n.next_in)return bs;const o=n.istate;for(s=s==p2e?Hr:Mt,i=Hr;;)switch(o.mode){case M2e:if(n.avail_in===0)return i;if(i=s,n.avail_in--,n.total_in++,((o.method=n.read_byte(n.next_in_index++))&15)!=A2e){o.mode=po,n.msg="unknown compression method",o.marker=5;break}if((o.method>>4)+8>o.wbits){o.mode=po,n.msg="invalid win size",o.marker=5;break}o.mode=R3;case R3:if(n.avail_in===0)return i;if(i=s,n.avail_in--,n.total_in++,r=n.read_byte(n.next_in_index++)&255,((o.method<<8)+r)%31!==0){o.mode=po,n.msg="incorrect header check",o.marker=5;break}if(!(r&T2e)){o.mode=wd;break}o.mode=C3;case C3:if(n.avail_in===0)return i;i=s,n.avail_in--,n.total_in++,o.need=(n.read_byte(n.next_in_index++)&255)<<24&4278190080,o.mode=k3;case k3:if(n.avail_in===0)return i;i=s,n.avail_in--,n.total_in++,o.need+=(n.read_byte(n.next_in_index++)&255)<<16&16711680,o.mode=P3;case P3:if(n.avail_in===0)return i;i=s,n.avail_in--,n.total_in++,o.need+=(n.read_byte(n.next_in_index++)&255)<<8&65280,o.mode=I3;case I3:return n.avail_in===0?i:(i=s,n.avail_in--,n.total_in++,o.need+=n.read_byte(n.next_in_index++)&255,o.mode=n1,f2e);case n1:return o.mode=po,n.msg="need dictionary",o.marker=0,bs;case wd:if(i=o.blocks.proc(n,i),i==Zt){o.mode=po,o.marker=0;break}if(i==Mt&&(i=s),i!=Br)return i;i=s,o.blocks.reset(n,o.was),o.mode=O3;case O3:return n.avail_in=0,Br;case po:return Zt;default:return bs}},t.inflateSetDictionary=function(n,s,i){let r=0,o=i;if(!n||!n.istate||n.istate.mode!=n1)return bs;const a=n.istate;return o>=1<<a.wbits&&(o=(1<<a.wbits)-1,r=i-o),a.blocks.set_dictionary(s,r,o),a.mode=wd,Mt},t.inflateSync=function(n){let s,i,r,o,a;if(!n||!n.istate)return bs;const l=n.istate;if(l.mode!=po&&(l.mode=po,l.marker=0),(s=n.avail_in)===0)return Hr;for(i=n.next_in_index,r=l.marker;s!==0&&r<4;)n.read_byte(i)==R2e[r]?r++:n.read_byte(i)!==0?r=0:r=4-r,i++,s--;return n.total_in+=i-n.next_in_index,n.next_in_index=i,n.avail_in=s,l.marker=r,r!=4?Zt:(o=n.total_in,a=n.total_out,e(n),n.total_in=o,n.total_out=a,l.mode=wd,Mt)},t.inflateSyncPoint=function(n){return!n||!n.istate||!n.istate.blocks?bs:n.istate.blocks.sync_point()}}function lP(){}lP.prototype={inflateInit(t){const e=this;return e.istate=new C2e,t||(t=d2e),e.istate.inflateInit(e,t)},inflate(t){const e=this;return e.istate?e.istate.inflate(e,t):bs},inflateEnd(){const t=this;if(!t.istate)return bs;const e=t.istate.inflateEnd(t);return t.istate=null,e},inflateSync(){const t=this;return t.istate?t.istate.inflateSync(t):bs},inflateSetDictionary(t,e){const n=this;return n.istate?n.istate.inflateSetDictionary(n,t,e):bs},read_byte(t){return this.next_in[t]},read_buf(t,e){return this.next_in.subarray(t,t+e)}};function k2e(t){const e=this,n=new lP,s=t&&t.chunkSize?Math.floor(t.chunkSize*2):128*1024,i=h2e,r=new Uint8Array(s);let o=!1;n.inflateInit(),n.next_out=r,e.append=function(a,l){const c=[];let u,d,f=0,h=0,y=0;if(a.length!==0){n.next_in_index=0,n.next_in=a,n.avail_in=a.length;do{if(n.next_out_index=0,n.avail_out=s,n.avail_in===0&&!o&&(n.next_in_index=0,o=!0),u=n.inflate(i),o&&u===Hr){if(n.avail_in!==0)throw new Error("inflating: bad input")}else if(u!==Mt&&u!==Br)throw new Error("inflating: "+n.msg);if((o||u===Br)&&n.avail_in===a.length)throw new Error("inflating: bad input");n.next_out_index&&(n.next_out_index===s?c.push(new Uint8Array(r)):c.push(r.subarray(0,n.next_out_index))),y+=n.next_out_index,l&&n.next_in_index>0&&n.next_in_index!=f&&(l(n.next_in_index),f=n.next_in_index)}while(n.avail_in>0||n.avail_out===0);return c.length>1?(d=new Uint8Array(y),c.forEach(function(_){d.set(_,h),h+=_.length})):d=c[0]?new Uint8Array(c[0]):new Uint8Array,d}},e.flush=function(){n.inflateEnd()}}const il=4294967295,ko=65535,P2e=8,I2e=0,O2e=99,L2e=67324752,D2e=134695760,L3=33639248,N2e=101010256,D3=101075792,U2e=117853008,ic=22,s1=20,i1=56,$2e=1,F2e=39169,B2e=10,H2e=1,G2e=21589,z2e=28789,V2e=25461,j2e=6534,N3=1,W2e=6,U3=8,$3=2048,F3=16,q2e="/",fs=void 0,ta="undefined",Yf="function";class B3{constructor(e){return class extends TransformStream{constructor(n,s){const i=new e(s);super({transform(r,o){o.enqueue(i.append(r))},flush(r){const o=i.flush();o&&r.enqueue(o)}})}}}}const X2e=64;let cP=2;try{typeof navigator!=ta&&navigator.hardwareConcurrency&&(cP=navigator.hardwareConcurrency)}catch{}const K2e={chunkSize:512*1024,maxWorkers:cP,terminateWorkerTimeout:5e3,useWebWorkers:!0,useCompressionStream:!0,workerScripts:fs,CompressionStreamNative:typeof CompressionStream!=ta&&CompressionStream,DecompressionStreamNative:typeof DecompressionStream!=ta&&DecompressionStream},Po=Object.assign({},K2e);function Y2e(){return Po}function Z2e(t){return Math.max(t.chunkSize,X2e)}function Qw(t){const{baseURL:e,chunkSize:n,maxWorkers:s,terminateWorkerTimeout:i,useCompressionStream:r,useWebWorkers:o,Deflate:a,Inflate:l,CompressionStream:c,DecompressionStream:u,workerScripts:d}=t;if(mo("baseURL",e),mo("chunkSize",n),mo("maxWorkers",s),mo("terminateWorkerTimeout",i),mo("useCompressionStream",r),mo("useWebWorkers",o),a&&(Po.CompressionStream=new B3(a)),l&&(Po.DecompressionStream=new B3(l)),mo("CompressionStream",c),mo("DecompressionStream",u),d!==fs){const{deflate:f,inflate:h}=d;if((f||h)&&(Po.workerScripts||(Po.workerScripts={})),f){if(!Array.isArray(f))throw new Error("workerScripts.deflate must be an array");Po.workerScripts.deflate=f}if(h){if(!Array.isArray(h))throw new Error("workerScripts.inflate must be an array");Po.workerScripts.inflate=h}}}function mo(t,e){e!==fs&&(Po[t]=e)}const r1={application:{"andrew-inset":"ez",annodex:"anx","atom+xml":"atom","atomcat+xml":"atomcat","atomserv+xml":"atomsrv",bbolin:"lin","cu-seeme":"cu","davmount+xml":"davmount",dsptype:"tsp",ecmascript:["es","ecma"],futuresplash:"spl",hta:"hta","java-archive":"jar","java-serialized-object":"ser","java-vm":"class",m3g:"m3g","mac-binhex40":"hqx",mathematica:["nb","ma","mb"],msaccess:"mdb",msword:["doc","dot","wiz"],mxf:"mxf",oda:"oda",ogg:"ogx",pdf:"pdf","pgp-keys":"key","pgp-signature":["asc","sig"],"pics-rules":"prf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],rar:"rar","rdf+xml":"rdf","rss+xml":"rss",rtf:"rtf","xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","xpdl"],"xspf+xml":"xspf",zip:"zip","vnd.android.package-archive":"apk","vnd.cinderella":"cdy","vnd.google-earth.kml+xml":"kml","vnd.google-earth.kmz":"kmz","vnd.mozilla.xul+xml":"xul","vnd.ms-excel":["xls","xlb","xlt","xlm","xla","xlc","xlw"],"vnd.ms-pki.seccat":"cat","vnd.ms-pki.stl":"stl","vnd.ms-powerpoint":["ppt","pps","pot","ppa","pwz"],"vnd.oasis.opendocument.chart":"odc","vnd.oasis.opendocument.database":"odb","vnd.oasis.opendocument.formula":"odf","vnd.oasis.opendocument.graphics":"odg","vnd.oasis.opendocument.graphics-template":"otg","vnd.oasis.opendocument.image":"odi","vnd.oasis.opendocument.presentation":"odp","vnd.oasis.opendocument.presentation-template":"otp","vnd.oasis.opendocument.spreadsheet":"ods","vnd.oasis.opendocument.spreadsheet-template":"ots","vnd.oasis.opendocument.text":"odt","vnd.oasis.opendocument.text-master":["odm","otm"],"vnd.oasis.opendocument.text-template":"ott","vnd.oasis.opendocument.text-web":"oth","vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","vnd.openxmlformats-officedocument.spreadsheetml.template":"xltx","vnd.openxmlformats-officedocument.presentationml.presentation":"pptx","vnd.openxmlformats-officedocument.presentationml.slideshow":"ppsx","vnd.openxmlformats-officedocument.presentationml.template":"potx","vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","vnd.openxmlformats-officedocument.wordprocessingml.template":"dotx","vnd.smaf":"mmf","vnd.stardivision.calc":"sdc","vnd.stardivision.chart":"sds","vnd.stardivision.draw":"sda","vnd.stardivision.impress":"sdd","vnd.stardivision.math":["sdf","smf"],"vnd.stardivision.writer":["sdw","vor"],"vnd.stardivision.writer-global":"sgl","vnd.sun.xml.calc":"sxc","vnd.sun.xml.calc.template":"stc","vnd.sun.xml.draw":"sxd","vnd.sun.xml.draw.template":"std","vnd.sun.xml.impress":"sxi","vnd.sun.xml.impress.template":"sti","vnd.sun.xml.math":"sxm","vnd.sun.xml.writer":"sxw","vnd.sun.xml.writer.global":"sxg","vnd.sun.xml.writer.template":"stw","vnd.symbian.install":["sis","sisx"],"vnd.visio":["vsd","vst","vss","vsw","vsdx","vssx","vstx","vssm","vstm"],"vnd.wap.wbxml":"wbxml","vnd.wap.wmlc":"wmlc","vnd.wap.wmlscriptc":"wmlsc","vnd.wordperfect":"wpd","vnd.wordperfect5.1":"wp5","x-123":"wk","x-7z-compressed":"7z","x-abiword":"abw","x-apple-diskimage":"dmg","x-bcpio":"bcpio","x-bittorrent":"torrent","x-cbr":["cbr","cba","cbt","cb7"],"x-cbz":"cbz","x-cdf":["cdf","cda"],"x-cdlink":"vcd","x-chess-pgn":"pgn","x-cpio":"cpio","x-csh":"csh","x-director":["dir","dxr","cst","cct","cxt","w3d","fgd","swa"],"x-dms":"dms","x-doom":"wad","x-dvi":"dvi","x-httpd-eruby":"rhtml","x-font":"pcf.Z","x-freemind":"mm","x-gnumeric":"gnumeric","x-go-sgf":"sgf","x-graphing-calculator":"gcf","x-gtar":["gtar","taz"],"x-hdf":"hdf","x-httpd-php":["phtml","pht","php"],"x-httpd-php-source":"phps","x-httpd-php3":"php3","x-httpd-php3-preprocessed":"php3p","x-httpd-php4":"php4","x-httpd-php5":"php5","x-ica":"ica","x-info":"info","x-internet-signup":["ins","isp"],"x-iphone":"iii","x-iso9660-image":"iso","x-java-jnlp-file":"jnlp","x-jmol":"jmz","x-killustrator":"kil","x-latex":"latex","x-lyx":"lyx","x-lzx":"lzx","x-maker":["frm","fb","fbdoc"],"x-ms-wmd":"wmd","x-msdos-program":["com","exe","bat","dll"],"x-netcdf":["nc"],"x-ns-proxy-autoconfig":["pac","dat"],"x-nwc":"nwc","x-object":"o","x-oz-application":"oza","x-pkcs7-certreqresp":"p7r","x-python-code":["pyc","pyo"],"x-qgis":["qgs","shp","shx"],"x-quicktimeplayer":"qtl","x-redhat-package-manager":["rpm","rpa"],"x-ruby":"rb","x-sh":"sh","x-shar":"shar","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","x-stuffit":"sit","x-sv4cpio":"sv4cpio","x-sv4crc":"sv4crc","x-tar":"tar","x-tex-gf":"gf","x-tex-pk":"pk","x-texinfo":["texinfo","texi"],"x-trash":["~","%","bak","old","sik"],"x-ustar":"ustar","x-wais-source":"src","x-wingz":"wz","x-x509-ca-cert":["crt","der","cer"],"x-xcf":"xcf","x-xfig":"fig","x-xpinstall":"xpi",applixware:"aw","atomsvc+xml":"atomsvc","ccxml+xml":"ccxml","cdmi-capability":"cdmia","cdmi-container":"cdmic","cdmi-domain":"cdmid","cdmi-object":"cdmio","cdmi-queue":"cdmiq","docbook+xml":"dbk","dssc+der":"dssc","dssc+xml":"xdssc","emma+xml":"emma","epub+zip":"epub",exi:"exi","font-tdpfr":"pfr","gml+xml":"gml","gpx+xml":"gpx",gxf:"gxf",hyperstudio:"stk","inkml+xml":["ink","inkml"],ipfix:"ipfix","jsonml+json":"jsonml","lost+xml":"lostxml","mads+xml":"mads",marc:"mrc","marcxml+xml":"mrcx","mathml+xml":["mathml","mml"],mbox:"mbox","mediaservercontrol+xml":"mscml","metalink+xml":"metalink","metalink4+xml":"meta4","mets+xml":"mets","mods+xml":"mods",mp21:["m21","mp21"],mp4:"mp4s","oebps-package+xml":"opf","omdoc+xml":"omdoc",onenote:["onetoc","onetoc2","onetmp","onepkg"],oxps:"oxps","patch-ops-error+xml":"xer","pgp-encrypted":"pgp",pkcs10:"p10","pkcs7-mime":["p7m","p7c"],"pkcs7-signature":"p7s",pkcs8:"p8","pkix-attr-cert":"ac","pkix-crl":"crl","pkix-pkipath":"pkipath",pkixcmp:"pki","pls+xml":"pls","prs.cww":"cww","pskc+xml":"pskcxml","reginfo+xml":"rif","relax-ng-compact-syntax":"rnc","resource-lists+xml":"rl","resource-lists-diff+xml":"rld","rls-services+xml":"rs","rpki-ghostbusters":"gbr","rpki-manifest":"mft","rpki-roa":"roa","rsd+xml":"rsd","sbml+xml":"sbml","scvp-cv-request":"scq","scvp-cv-response":"scs","scvp-vp-request":"spq","scvp-vp-response":"spp",sdp:"sdp","set-payment-initiation":"setpay","set-registration-initiation":"setreg","shf+xml":"shf","sparql-query":"rq","sparql-results+xml":"srx",srgs:"gram","srgs+xml":"grxml","sru+xml":"sru","ssdl+xml":"ssdl","ssml+xml":"ssml","tei+xml":["tei","teicorpus"],"thraud+xml":"tfi","timestamped-data":"tsd","vnd.3gpp.pic-bw-large":"plb","vnd.3gpp.pic-bw-small":"psb","vnd.3gpp.pic-bw-var":"pvb","vnd.3gpp2.tcap":"tcap","vnd.3m.post-it-notes":"pwn","vnd.accpac.simply.aso":"aso","vnd.accpac.simply.imp":"imp","vnd.acucobol":"acu","vnd.acucorp":["atc","acutc"],"vnd.adobe.air-application-installer-package+zip":"air","vnd.adobe.formscentral.fcdt":"fcdt","vnd.adobe.fxp":["fxp","fxpl"],"vnd.adobe.xdp+xml":"xdp","vnd.adobe.xfdf":"xfdf","vnd.ahead.space":"ahead","vnd.airzip.filesecure.azf":"azf","vnd.airzip.filesecure.azs":"azs","vnd.amazon.ebook":"azw","vnd.americandynamics.acc":"acc","vnd.amiga.ami":"ami","vnd.anser-web-certificate-issue-initiation":"cii","vnd.anser-web-funds-transfer-initiation":"fti","vnd.antix.game-component":"atx","vnd.apple.installer+xml":"mpkg","vnd.apple.mpegurl":"m3u8","vnd.aristanetworks.swi":"swi","vnd.astraea-software.iota":"iota","vnd.audiograph":"aep","vnd.blueice.multipass":"mpm","vnd.bmi":"bmi","vnd.businessobjects":"rep","vnd.chemdraw+xml":"cdxml","vnd.chipnuts.karaoke-mmd":"mmd","vnd.claymore":"cla","vnd.cloanto.rp9":"rp9","vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"vnd.cluetrust.cartomobile-config":"c11amc","vnd.cluetrust.cartomobile-config-pkg":"c11amz","vnd.commonspace":"csp","vnd.contact.cmsg":"cdbcmsg","vnd.cosmocaller":"cmc","vnd.crick.clicker":"clkx","vnd.crick.clicker.keyboard":"clkk","vnd.crick.clicker.palette":"clkp","vnd.crick.clicker.template":"clkt","vnd.crick.clicker.wordbank":"clkw","vnd.criticaltools.wbs+xml":"wbs","vnd.ctc-posml":"pml","vnd.cups-ppd":"ppd","vnd.curl.car":"car","vnd.curl.pcurl":"pcurl","vnd.dart":"dart","vnd.data-vision.rdz":"rdz","vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"vnd.dece.ttml+xml":["uvt","uvvt"],"vnd.dece.unspecified":["uvx","uvvx"],"vnd.dece.zip":["uvz","uvvz"],"vnd.denovo.fcselayout-link":"fe_launch","vnd.dna":"dna","vnd.dolby.mlp":"mlp","vnd.dpgraph":"dpg","vnd.dreamfactory":"dfac","vnd.ds-keypoint":"kpxx","vnd.dvb.ait":"ait","vnd.dvb.service":"svc","vnd.dynageo":"geo","vnd.ecowin.chart":"mag","vnd.enliven":"nml","vnd.epson.esf":"esf","vnd.epson.msf":"msf","vnd.epson.quickanime":"qam","vnd.epson.salt":"slt","vnd.epson.ssf":"ssf","vnd.eszigno3+xml":["es3","et3"],"vnd.ezpix-album":"ez2","vnd.ezpix-package":"ez3","vnd.fdf":"fdf","vnd.fdsn.mseed":"mseed","vnd.fdsn.seed":["seed","dataless"],"vnd.flographit":"gph","vnd.fluxtime.clip":"ftc","vnd.framemaker":["fm","frame","maker","book"],"vnd.frogans.fnc":"fnc","vnd.frogans.ltf":"ltf","vnd.fsc.weblaunch":"fsc","vnd.fujitsu.oasys":"oas","vnd.fujitsu.oasys2":"oa2","vnd.fujitsu.oasys3":"oa3","vnd.fujitsu.oasysgp":"fg5","vnd.fujitsu.oasysprs":"bh2","vnd.fujixerox.ddd":"ddd","vnd.fujixerox.docuworks":"xdw","vnd.fujixerox.docuworks.binder":"xbd","vnd.fuzzysheet":"fzs","vnd.genomatix.tuxedo":"txd","vnd.geogebra.file":"ggb","vnd.geogebra.tool":"ggt","vnd.geometry-explorer":["gex","gre"],"vnd.geonext":"gxt","vnd.geoplan":"g2w","vnd.geospace":"g3w","vnd.gmx":"gmx","vnd.grafeq":["gqf","gqs"],"vnd.groove-account":"gac","vnd.groove-help":"ghf","vnd.groove-identity-message":"gim","vnd.groove-injector":"grv","vnd.groove-tool-message":"gtm","vnd.groove-tool-template":"tpl","vnd.groove-vcard":"vcg","vnd.hal+xml":"hal","vnd.handheld-entertainment+xml":"zmm","vnd.hbci":"hbci","vnd.hhe.lesson-player":"les","vnd.hp-hpgl":"hpgl","vnd.hp-hpid":"hpid","vnd.hp-hps":"hps","vnd.hp-jlyt":"jlt","vnd.hp-pcl":"pcl","vnd.hp-pclxl":"pclxl","vnd.hydrostatix.sof-data":"sfd-hdstx","vnd.ibm.minipay":"mpy","vnd.ibm.modcap":["afp","listafp","list3820"],"vnd.ibm.rights-management":"irm","vnd.ibm.secure-container":"sc","vnd.iccprofile":["icc","icm"],"vnd.igloader":"igl","vnd.immervision-ivp":"ivp","vnd.immervision-ivu":"ivu","vnd.insors.igm":"igm","vnd.intercon.formnet":["xpw","xpx"],"vnd.intergeo":"i2g","vnd.intu.qbo":"qbo","vnd.intu.qfx":"qfx","vnd.ipunplugged.rcprofile":"rcprofile","vnd.irepository.package+xml":"irp","vnd.is-xpr":"xpr","vnd.isac.fcs":"fcs","vnd.jam":"jam","vnd.jcp.javame.midlet-rms":"rms","vnd.jisp":"jisp","vnd.joost.joda-archive":"joda","vnd.kahootz":["ktz","ktr"],"vnd.kde.karbon":"karbon","vnd.kde.kchart":"chrt","vnd.kde.kformula":"kfo","vnd.kde.kivio":"flw","vnd.kde.kontour":"kon","vnd.kde.kpresenter":["kpr","kpt"],"vnd.kde.kspread":"ksp","vnd.kde.kword":["kwd","kwt"],"vnd.kenameaapp":"htke","vnd.kidspiration":"kia","vnd.kinar":["kne","knp"],"vnd.koan":["skp","skd","skt","skm"],"vnd.kodak-descriptor":"sse","vnd.las.las+xml":"lasxml","vnd.llamagraphics.life-balance.desktop":"lbd","vnd.llamagraphics.life-balance.exchange+xml":"lbe","vnd.lotus-1-2-3":"123","vnd.lotus-approach":"apr","vnd.lotus-freelance":"pre","vnd.lotus-notes":"nsf","vnd.lotus-organizer":"org","vnd.lotus-screencam":"scm","vnd.lotus-wordpro":"lwp","vnd.macports.portpkg":"portpkg","vnd.mcd":"mcd","vnd.medcalcdata":"mc1","vnd.mediastation.cdkey":"cdkey","vnd.mfer":"mwf","vnd.mfmp":"mfm","vnd.micrografx.flo":"flo","vnd.micrografx.igx":"igx","vnd.mif":"mif","vnd.mobius.daf":"daf","vnd.mobius.dis":"dis","vnd.mobius.mbk":"mbk","vnd.mobius.mqy":"mqy","vnd.mobius.msl":"msl","vnd.mobius.plc":"plc","vnd.mobius.txf":"txf","vnd.mophun.application":"mpn","vnd.mophun.certificate":"mpc","vnd.ms-artgalry":"cil","vnd.ms-cab-compressed":"cab","vnd.ms-excel.addin.macroenabled.12":"xlam","vnd.ms-excel.sheet.binary.macroenabled.12":"xlsb","vnd.ms-excel.sheet.macroenabled.12":"xlsm","vnd.ms-excel.template.macroenabled.12":"xltm","vnd.ms-fontobject":"eot","vnd.ms-htmlhelp":"chm","vnd.ms-ims":"ims","vnd.ms-lrm":"lrm","vnd.ms-officetheme":"thmx","vnd.ms-powerpoint.addin.macroenabled.12":"ppam","vnd.ms-powerpoint.presentation.macroenabled.12":"pptm","vnd.ms-powerpoint.slide.macroenabled.12":"sldm","vnd.ms-powerpoint.slideshow.macroenabled.12":"ppsm","vnd.ms-powerpoint.template.macroenabled.12":"potm","vnd.ms-project":["mpp","mpt"],"vnd.ms-word.document.macroenabled.12":"docm","vnd.ms-word.template.macroenabled.12":"dotm","vnd.ms-works":["wps","wks","wcm","wdb"],"vnd.ms-wpl":"wpl","vnd.ms-xpsdocument":"xps","vnd.mseq":"mseq","vnd.musician":"mus","vnd.muvee.style":"msty","vnd.mynfc":"taglet","vnd.neurolanguage.nlu":"nlu","vnd.nitf":["ntf","nitf"],"vnd.noblenet-directory":"nnd","vnd.noblenet-sealer":"nns","vnd.noblenet-web":"nnw","vnd.nokia.n-gage.data":"ngdat","vnd.nokia.n-gage.symbian.install":"n-gage","vnd.nokia.radio-preset":"rpst","vnd.nokia.radio-presets":"rpss","vnd.novadigm.edm":"edm","vnd.novadigm.edx":"edx","vnd.novadigm.ext":"ext","vnd.oasis.opendocument.chart-template":"otc","vnd.oasis.opendocument.formula-template":"odft","vnd.oasis.opendocument.image-template":"oti","vnd.olpc-sugar":"xo","vnd.oma.dd2+xml":"dd2","vnd.openofficeorg.extension":"oxt","vnd.openxmlformats-officedocument.presentationml.slide":"sldx","vnd.osgeo.mapguide.package":"mgp","vnd.osgi.dp":"dp","vnd.osgi.subsystem":"esa","vnd.palm":["pdb","pqa","oprc"],"vnd.pawaafile":"paw","vnd.pg.format":"str","vnd.pg.osasli":"ei6","vnd.picsel":"efif","vnd.pmi.widget":"wg","vnd.pocketlearn":"plf","vnd.powerbuilder6":"pbd","vnd.previewsystems.box":"box","vnd.proteus.magazine":"mgz","vnd.publishare-delta-tree":"qps","vnd.pvi.ptid1":"ptid","vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"vnd.realvnc.bed":"bed","vnd.recordare.musicxml":"mxl","vnd.recordare.musicxml+xml":"musicxml","vnd.rig.cryptonote":"cryptonote","vnd.rn-realmedia":"rm","vnd.rn-realmedia-vbr":"rmvb","vnd.route66.link66+xml":"link66","vnd.sailingtracker.track":"st","vnd.seemail":"see","vnd.sema":"sema","vnd.semd":"semd","vnd.semf":"semf","vnd.shana.informed.formdata":"ifm","vnd.shana.informed.formtemplate":"itp","vnd.shana.informed.interchange":"iif","vnd.shana.informed.package":"ipk","vnd.simtech-mindmapper":["twd","twds"],"vnd.smart.teacher":"teacher","vnd.solent.sdkm+xml":["sdkm","sdkd"],"vnd.spotfire.dxp":"dxp","vnd.spotfire.sfs":"sfs","vnd.stepmania.package":"smzip","vnd.stepmania.stepchart":"sm","vnd.sus-calendar":["sus","susp"],"vnd.svd":"svd","vnd.syncml+xml":"xsm","vnd.syncml.dm+wbxml":"bdm","vnd.syncml.dm+xml":"xdm","vnd.tao.intent-module-archive":"tao","vnd.tcpdump.pcap":["pcap","cap","dmp"],"vnd.tmobile-livetv":"tmo","vnd.trid.tpt":"tpt","vnd.triscape.mxs":"mxs","vnd.trueapp":"tra","vnd.ufdl":["ufd","ufdl"],"vnd.uiq.theme":"utz","vnd.umajin":"umj","vnd.unity":"unityweb","vnd.uoml+xml":"uoml","vnd.vcx":"vcx","vnd.visionary":"vis","vnd.vsf":"vsf","vnd.webturbo":"wtb","vnd.wolfram.player":"nbp","vnd.wqd":"wqd","vnd.wt.stf":"stf","vnd.xara":"xar","vnd.xfdl":"xfdl","vnd.yamaha.hv-dic":"hvd","vnd.yamaha.hv-script":"hvs","vnd.yamaha.hv-voice":"hvp","vnd.yamaha.openscoreformat":"osf","vnd.yamaha.openscoreformat.osfpvg+xml":"osfpvg","vnd.yamaha.smaf-audio":"saf","vnd.yamaha.smaf-phrase":"spf","vnd.yellowriver-custom-menu":"cmp","vnd.zul":["zir","zirz"],"vnd.zzazz.deck+xml":"zaz","voicexml+xml":"vxml",widget:"wgt",winhlp:"hlp","wsdl+xml":"wsdl","wspolicy+xml":"wspolicy","x-ace-compressed":"ace","x-authorware-bin":["aab","x32","u32","vox"],"x-authorware-map":"aam","x-authorware-seg":"aas","x-blorb":["blb","blorb"],"x-bzip":"bz","x-bzip2":["bz2","boz"],"x-cfs-compressed":"cfs","x-chat":"chat","x-conference":"nsc","x-dgc-compressed":"dgc","x-dtbncx+xml":"ncx","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-eva":"eva","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-freearc":"arc","x-gca-compressed":"gca","x-glulx":"ulx","x-gramps-xml":"gramps","x-install-instructions":"install","x-lzh-compressed":["lzh","lha"],"x-mie":"mie","x-mobipocket-ebook":["prc","mobi"],"x-ms-application":"application","x-ms-shortcut":"lnk","x-ms-xbap":"xbap","x-msbinder":"obd","x-mscardfile":"crd","x-msclip":"clp","application/x-ms-installer":"msi","x-msmediaview":["mvb","m13","m14"],"x-msmetafile":["wmf","wmz","emf","emz"],"x-msmoney":"mny","x-mspublisher":"pub","x-msschedule":"scd","x-msterminal":"trm","x-mswrite":"wri","x-nzb":"nzb","x-pkcs12":["p12","pfx"],"x-pkcs7-certificates":["p7b","spc"],"x-research-info-systems":"ris","x-silverlight-app":"xap","x-sql":"sql","x-stuffitx":"sitx","x-subrip":"srt","x-t3vm-image":"t3","x-tex-tfm":"tfm","x-tgif":"obj","x-xliff+xml":"xlf","x-xz":"xz","x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"xaml+xml":"xaml","xcap-diff+xml":"xdf","xenc+xml":"xenc","xml-dtd":"dtd","xop+xml":"xop","xproc+xml":"xpl","xslt+xml":"xslt","xv+xml":["mxml","xhvml","xvml","xvm"],yang:"yang","yin+xml":"yin",envoy:"evy",fractals:"fif","internet-property-stream":"acx",olescript:"axs","vnd.ms-outlook":"msg","vnd.ms-pkicertstore":"sst","x-compress":"z","x-perfmon":["pma","pmc","pmr","pmw"],"ynd.ms-pkipko":"pko",gzip:["gz","tgz"],"smil+xml":["smi","smil"],"vnd.debian.binary-package":["deb","udeb"],"vnd.hzn-3d-crossword":"x3d","vnd.sqlite3":["db","sqlite","sqlite3","db-wal","sqlite-wal","db-shm","sqlite-shm"],"vnd.wap.sic":"sic","vnd.wap.slc":"slc","x-krita":["kra","krz"],"x-perl":["pm","pl"],yaml:["yaml","yml"]},audio:{amr:"amr","amr-wb":"awb",annodex:"axa",basic:["au","snd"],flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"prs.sid":"sid","x-aiff":"aifc","x-gsm":"gsm","x-ms-wma":"wma","x-ms-wax":"wax","x-pn-realaudio":"ram","x-realaudio":"ra","x-sd2":"sd2",adpcm:"adp",mp4:"mp4a",s3m:"s3m",silk:"sil","vnd.dece.audio":["uva","uvva"],"vnd.digital-winds":"eol","vnd.dra":"dra","vnd.dts":"dts","vnd.dts.hd":"dtshd","vnd.lucent.voice":"lvp","vnd.ms-playready.media.pya":"pya","vnd.nuera.ecelp4800":"ecelp4800","vnd.nuera.ecelp7470":"ecelp7470","vnd.nuera.ecelp9600":"ecelp9600","vnd.rip":"rip",webm:"weba","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",aac:"aac",aiff:["aiff","aif","aff"],opus:"opus",wav:"wav"},chemical:{"x-alchemy":"alc","x-cache":["cac","cache"],"x-cache-csf":"csf","x-cactvs-binary":["cbin","cascii","ctab"],"x-cdx":"cdx","x-chem3d":"c3d","x-cif":"cif","x-cmdf":"cmdf","x-cml":"cml","x-compass":"cpa","x-crossfire":"bsd","x-csml":["csml","csm"],"x-ctx":"ctx","x-cxf":["cxf","cef"],"x-embl-dl-nucleotide":["emb","embl"],"x-gamess-input":["inp","gam","gamin"],"x-gaussian-checkpoint":["fch","fchk"],"x-gaussian-cube":"cub","x-gaussian-input":["gau","gjc","gjf"],"x-gaussian-log":"gal","x-gcg8-sequence":"gcg","x-genbank":"gen","x-hin":"hin","x-isostar":["istr","ist"],"x-jcamp-dx":["jdx","dx"],"x-kinemage":"kin","x-macmolecule":"mcm","x-macromodel-input":"mmod","x-mdl-molfile":"mol","x-mdl-rdfile":"rd","x-mdl-rxnfile":"rxn","x-mdl-sdfile":"sd","x-mdl-tgf":"tgf","x-mmcif":"mcif","x-mol2":"mol2","x-molconn-Z":"b","x-mopac-graph":"gpt","x-mopac-input":["mop","mopcrt","zmt"],"x-mopac-out":"moo","x-ncbi-asn1":"asn","x-ncbi-asn1-ascii":["prt","ent"],"x-ncbi-asn1-binary":"val","x-rosdal":"ros","x-swissprot":"sw","x-vamas-iso14976":"vms","x-vmd":"vmd","x-xtel":"xtel","x-xyz":"xyz"},font:{otf:"otf",woff:"woff",woff2:"woff2"},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe","jfif","jfif-tbnl","jif"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"vnd.djvu":["djvu","djv"],"vnd.wap.wbmp":"wbmp","x-canon-cr2":"cr2","x-canon-crw":"crw","x-cmu-raster":"ras","x-coreldraw":"cdr","x-coreldrawpattern":"pat","x-coreldrawtemplate":"cdt","x-corelphotopaint":"cpt","x-epson-erf":"erf","x-icon":"ico","x-jg":"art","x-jng":"jng","x-nikon-nef":"nef","x-olympus-orf":"orf","x-portable-anymap":"pnm","x-portable-bitmap":"pbm","x-portable-graymap":"pgm","x-portable-pixmap":"ppm","x-rgb":"rgb","x-xbitmap":"xbm","x-xpixmap":"xpm","x-xwindowdump":"xwd",bmp:"bmp",cgm:"cgm",g3fax:"g3",ktx:"ktx","prs.btif":"btif",sgi:"sgi","vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"vnd.dwg":"dwg","vnd.dxf":"dxf","vnd.fastbidsheet":"fbs","vnd.fpx":"fpx","vnd.fst":"fst","vnd.fujixerox.edmics-mmr":"mmr","vnd.fujixerox.edmics-rlc":"rlc","vnd.ms-modi":"mdi","vnd.ms-photo":"wdp","vnd.net-fpx":"npx","vnd.xiff":"xif",webp:"webp","x-3ds":"3ds","x-cmx":"cmx","x-freehand":["fh","fhc","fh4","fh5","fh7"],"x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod",avif:"avifs",heic:["heif","heic"],pjpeg:["pjpg"],"vnd.adobe.photoshop":"psd","x-adobe-dng":"dng","x-fuji-raf":"raf","x-icns":"icns","x-kodak-dcr":"dcr","x-kodak-k25":"k25","x-kodak-kdc":"kdc","x-minolta-mrw":"mrw","x-panasonic-raw":["raw","rw2","rwl"],"x-pentax-pef":["pef","ptx"],"x-sigma-x3f":"x3f","x-sony-arw":"arw","x-sony-sr2":"sr2","x-sony-srf":"srf"},message:{rfc822:["eml","mime","mht","mhtml","nws"]},model:{iges:["igs","iges"],mesh:["msh","mesh","silo"],vrml:["wrl","vrml"],"x3d+vrml":["x3dv","x3dvz"],"x3d+xml":"x3dz","x3d+binary":["x3db","x3dbz"],"vnd.collada+xml":"dae","vnd.dwf":"dwf","vnd.gdl":"gdl","vnd.gtw":"gtw","vnd.mts":"mts","vnd.usdz+zip":"usdz","vnd.vtu":"vtu"},text:{"cache-manifest":["manifest","appcache"],calendar:["ics","icz","ifb"],css:"css",csv:"csv",h323:"323",html:["html","htm","shtml","stm"],iuls:"uls",plain:["txt","text","brf","conf","def","list","log","in","bas","diff","ksh"],richtext:"rtx",scriptlet:["sct","wsc"],texmacs:"tm","tab-separated-values":"tsv","vnd.sun.j2me.app-descriptor":"jad","vnd.wap.wml":"wml","vnd.wap.wmlscript":"wmls","x-bibtex":"bib","x-boo":"boo","x-c++hdr":["h++","hpp","hxx","hh"],"x-c++src":["c++","cpp","cxx","cc"],"x-component":"htc","x-dsrc":"d","x-diff":"patch","x-haskell":"hs","x-java":"java","x-literate-haskell":"lhs","x-moc":"moc","x-pascal":["p","pas","pp","inc"],"x-pcs-gcd":"gcd","x-python":"py","x-scala":"scala","x-setext":"etx","x-tcl":["tcl","tk"],"x-tex":["tex","ltx","sty","cls"],"x-vcalendar":"vcs","x-vcard":"vcf",n3:"n3","prs.lines.tag":"dsc",sgml:["sgml","sgm"],troff:["t","tr","roff","man","me","ms"],turtle:"ttl","uri-list":["uri","uris","urls"],vcard:"vcard","vnd.curl":"curl","vnd.curl.dcurl":"dcurl","vnd.curl.scurl":"scurl","vnd.curl.mcurl":"mcurl","vnd.dvb.subtitle":"sub","vnd.fly":"fly","vnd.fmi.flexstor":"flx","vnd.graphviz":"gv","vnd.in3d.3dml":"3dml","vnd.in3d.spot":"spot","x-asm":["s","asm"],"x-c":["c","h","dic"],"x-fortran":["f","for","f77","f90"],"x-opml":"opml","x-nfo":"nfo","x-sfv":"sfv","x-uuencode":"uu",webviewhtml:"htt",javascript:"js",json:"json",markdown:["md","markdown","mdown","markdn"],"vnd.wap.si":"si","vnd.wap.sl":"sl"},video:{avif:"avif","3gpp":"3gp",annodex:"axv",dl:"dl",dv:["dif","dv"],fli:"fli",gl:"gl",mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.dece.hd":["uvh","uvvh"],"vnd.dece.mobile":["uvm","uvvm"],"vnd.dece.pd":["uvp","uvvp"],"vnd.dece.sd":["uvs","uvvs"],"vnd.dece.video":["uvv","uvvv"],"vnd.dvb.file":"dvb","vnd.fvt":"fvt","vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv",mp2t:"ts"},"x-conference":{"x-cooltalk":"ice"},"x-world":{"x-vrml":["vrm","flr","wrz","xaf","xof"]}};(()=>{const t={};for(const e of Object.keys(r1))for(const n of Object.keys(r1[e])){const s=r1[e][n];if(typeof s=="string")t[s]=e+"/"+n;else for(let i=0;i<s.length;i++)t[s[i]]=e+"/"+n}return t})();const uP=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=e>>>1^3988292384:e=e>>>1;uP[t]=e}class Xm{constructor(e){this.crc=e||-1}append(e){let n=this.crc|0;for(let s=0,i=e.length|0;s<i;s++)n=n>>>8^uP[(n^e[s])&255];this.crc=n}get(){return~this.crc}}class dP extends TransformStream{constructor(){let e;const n=new Xm;super({transform(s,i){n.append(s),i.enqueue(s)},flush(){const s=new Uint8Array(4);new DataView(s.buffer).setUint32(0,n.get()),e.value=s}}),e=this}}function J2e(t){if(typeof TextEncoder==ta){t=unescape(encodeURIComponent(t));const e=new Uint8Array(t.length);for(let n=0;n<e.length;n++)e[n]=t.charCodeAt(n);return e}else return new TextEncoder().encode(t)}const ls={concat(t,e){if(t.length===0||e.length===0)return t.concat(e);const n=t[t.length-1],s=ls.getPartial(n);return s===32?t.concat(e):ls._shiftRight(e,s,n|0,t.slice(0,t.length-1))},bitLength(t){const e=t.length;if(e===0)return 0;const n=t[e-1];return(e-1)*32+ls.getPartial(n)},clamp(t,e){if(t.length*32<e)return t;t=t.slice(0,Math.ceil(e/32));const n=t.length;return e=e&31,n>0&&e&&(t[n-1]=ls.partial(e,t[n-1]&2147483648>>e-1,1)),t},partial(t,e,n){return t===32?e:(n?e|0:e<<32-t)+t*1099511627776},getPartial(t){return Math.round(t/1099511627776)||32},_shiftRight(t,e,n,s){for(s===void 0&&(s=[]);e>=32;e-=32)s.push(n),n=0;if(e===0)return s.concat(t);for(let o=0;o<t.length;o++)s.push(n|t[o]>>>e),n=t[o]<<32-e;const i=t.length?t[t.length-1]:0,r=ls.getPartial(i);return s.push(ls.partial(e+r&31,e+r>32?n:s.pop(),1)),s}},Km={bytes:{fromBits(t){const n=ls.bitLength(t)/8,s=new Uint8Array(n);let i;for(let r=0;r<n;r++)r&3||(i=t[r/4]),s[r]=i>>>24,i<<=8;return s},toBits(t){const e=[];let n,s=0;for(n=0;n<t.length;n++)s=s<<8|t[n],(n&3)===3&&(e.push(s),s=0);return n&3&&e.push(ls.partial(8*(n&3),s)),e}}},fP={};fP.sha1=class{constructor(t){const e=this;e.blockSize=512,e._init=[1732584193,4023233417,2562383102,271733878,3285377520],e._key=[1518500249,1859775393,2400959708,3395469782],t?(e._h=t._h.slice(0),e._buffer=t._buffer.slice(0),e._length=t._length):e.reset()}reset(){const t=this;return t._h=t._init.slice(0),t._buffer=[],t._length=0,t}update(t){const e=this;typeof t=="string"&&(t=Km.utf8String.toBits(t));const n=e._buffer=ls.concat(e._buffer,t),s=e._length,i=e._length=s+ls.bitLength(t);if(i>9007199254740991)throw new Error("Cannot hash more than 2^53 - 1 bits");const r=new Uint32Array(n);let o=0;for(let a=e.blockSize+s-(e.blockSize+s&e.blockSize-1);a<=i;a+=e.blockSize)e._block(r.subarray(16*o,16*(o+1))),o+=1;return n.splice(0,16*o),e}finalize(){const t=this;let e=t._buffer;const n=t._h;e=ls.concat(e,[ls.partial(1,1)]);for(let s=e.length+2;s&15;s++)e.push(0);for(e.push(Math.floor(t._length/4294967296)),e.push(t._length|0);e.length;)t._block(e.splice(0,16));return t.reset(),n}_f(t,e,n,s){if(t<=19)return e&n|~e&s;if(t<=39)return e^n^s;if(t<=59)return e&n|e&s|n&s;if(t<=79)return e^n^s}_S(t,e){return e<<t|e>>>32-t}_block(t){const e=this,n=e._h,s=Array(80);for(let c=0;c<16;c++)s[c]=t[c];let i=n[0],r=n[1],o=n[2],a=n[3],l=n[4];for(let c=0;c<=79;c++){c>=16&&(s[c]=e._S(1,s[c-3]^s[c-8]^s[c-14]^s[c-16]));const u=e._S(5,i)+e._f(c,r,o,a)+l+s[c]+e._key[Math.floor(c/20)]|0;l=a,a=o,o=e._S(30,r),r=i,i=u}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+l|0}};const hP={};hP.aes=class{constructor(t){const e=this;e._tables=[[[],[],[],[],[]],[[],[],[],[],[]]],e._tables[0][0][0]||e._precompute();const n=e._tables[0][4],s=e._tables[1],i=t.length;let r,o,a,l=1;if(i!==4&&i!==6&&i!==8)throw new Error("invalid aes key size");for(e._key=[o=t.slice(0),a=[]],r=i;r<4*i+28;r++){let c=o[r-1];(r%i===0||i===8&&r%i===4)&&(c=n[c>>>24]<<24^n[c>>16&255]<<16^n[c>>8&255]<<8^n[c&255],r%i===0&&(c=c<<8^c>>>24^l<<24,l=l<<1^(l>>7)*283)),o[r]=o[r-i]^c}for(let c=0;r;c++,r--){const u=o[c&3?r:r-4];r<=4||c<4?a[c]=u:a[c]=s[0][n[u>>>24]]^s[1][n[u>>16&255]]^s[2][n[u>>8&255]]^s[3][n[u&255]]}}encrypt(t){return this._crypt(t,0)}decrypt(t){return this._crypt(t,1)}_precompute(){const t=this._tables[0],e=this._tables[1],n=t[4],s=e[4],i=[],r=[];let o,a,l,c;for(let u=0;u<256;u++)r[(i[u]=u<<1^(u>>7)*283)^u]=u;for(let u=o=0;!n[u];u^=a||1,o=r[o]||1){let d=o^o<<1^o<<2^o<<3^o<<4;d=d>>8^d&255^99,n[u]=d,s[d]=u,c=i[l=i[a=i[u]]];let f=c*16843009^l*65537^a*257^u*16843008,h=i[d]*257^d*16843008;for(let y=0;y<4;y++)t[y][u]=h=h<<24^h>>>8,e[y][d]=f=f<<24^f>>>8}for(let u=0;u<5;u++)t[u]=t[u].slice(0),e[u]=e[u].slice(0)}_crypt(t,e){if(t.length!==4)throw new Error("invalid aes block size");const n=this._key[e],s=n.length/4-2,i=[0,0,0,0],r=this._tables[e],o=r[0],a=r[1],l=r[2],c=r[3],u=r[4];let d=t[0]^n[0],f=t[e?3:1]^n[1],h=t[2]^n[2],y=t[e?1:3]^n[3],_=4,p,g,b;for(let v=0;v<s;v++)p=o[d>>>24]^a[f>>16&255]^l[h>>8&255]^c[y&255]^n[_],g=o[f>>>24]^a[h>>16&255]^l[y>>8&255]^c[d&255]^n[_+1],b=o[h>>>24]^a[y>>16&255]^l[d>>8&255]^c[f&255]^n[_+2],y=o[y>>>24]^a[d>>16&255]^l[f>>8&255]^c[h&255]^n[_+3],_+=4,d=p,f=g,h=b;for(let v=0;v<4;v++)i[e?3&-v:v]=u[d>>>24]<<24^u[f>>16&255]<<16^u[h>>8&255]<<8^u[y&255]^n[_++],p=d,d=f,f=h,h=y,y=p;return i}};const Q2e={getRandomValues(t){const e=new Uint32Array(t.buffer),n=s=>{let i=987654321;const r=4294967295;return function(){return i=36969*(i&65535)+(i>>16)&r,s=18e3*(s&65535)+(s>>16)&r,(((i<<16)+s&r)/4294967296+.5)*(Math.random()>.5?1:-1)}};for(let s=0,i;s<t.length;s+=4){const r=n((i||Math.random())*4294967296);i=r()*987654071,e[s/4]=r()*4294967296|0}return t}},pP={};pP.ctrGladman=class{constructor(t,e){this._prf=t,this._initIv=e,this._iv=e}reset(){this._iv=this._initIv}update(t){return this.calculate(this._prf,t,this._iv)}incWord(t){if((t>>24&255)===255){let e=t>>16&255,n=t>>8&255,s=t&255;e===255?(e=0,n===255?(n=0,s===255?s=0:++s):++n):++e,t=0,t+=e<<16,t+=n<<8,t+=s}else t+=1<<24;return t}incCounter(t){(t[0]=this.incWord(t[0]))===0&&(t[1]=this.incWord(t[1]))}calculate(t,e,n){let s;if(!(s=e.length))return[];const i=ls.bitLength(e);for(let r=0;r<s;r+=4){this.incCounter(n);const o=t.encrypt(n);e[r]^=o[0],e[r+1]^=o[1],e[r+2]^=o[2],e[r+3]^=o[3]}return ls.clamp(e,i)}};const pl={importKey(t){return new pl.hmacSha1(Km.bytes.toBits(t))},pbkdf2(t,e,n,s){if(n=n||1e4,s<0||n<0)throw new Error("invalid params to pbkdf2");const i=(s>>5)+1<<2;let r,o,a,l,c;const u=new ArrayBuffer(i),d=new DataView(u);let f=0;const h=ls;for(e=Km.bytes.toBits(e),c=1;f<(i||1);c++){for(r=o=t.encrypt(h.concat(e,[c])),a=1;a<n;a++)for(o=t.encrypt(o),l=0;l<o.length;l++)r[l]^=o[l];for(a=0;f<(i||1)&&a<r.length;a++)d.setInt32(f,r[a]),f+=4}return u.slice(0,s/8)}};pl.hmacSha1=class{constructor(t){const e=this,n=e._hash=fP.sha1,s=[[],[]];e._baseHash=[new n,new n];const i=e._baseHash[0].blockSize/32;t.length>i&&(t=new n().update(t).finalize());for(let r=0;r<i;r++)s[0][r]=t[r]^909522486,s[1][r]=t[r]^1549556828;e._baseHash[0].update(s[0]),e._baseHash[1].update(s[1]),e._resultHash=new n(e._baseHash[0])}reset(){const t=this;t._resultHash=new t._hash(t._baseHash[0]),t._updated=!1}update(t){const e=this;e._updated=!0,e._resultHash.update(t)}digest(){const t=this,e=t._resultHash.finalize(),n=new t._hash(t._baseHash[1]).update(e).finalize();return t.reset(),n}encrypt(t){if(this._updated)throw new Error("encrypt on already updated hmac called!");return this.update(t),this.digest(t)}};const eEe=typeof crypto!=ta&&typeof crypto.getRandomValues==Yf,mP="Invalid password",gP="Invalid signature",ex="zipjs-abort-check-password";function _P(t){return eEe?crypto.getRandomValues(t):Q2e.getRandomValues(t)}const Ec=16,tEe="raw",yP={name:"PBKDF2"},nEe={name:"HMAC"},sEe="SHA-1",iEe=Object.assign({hash:nEe},yP),Eb=Object.assign({iterations:1e3,hash:{name:sEe}},yP),rEe=["deriveBits"],Rf=[8,12,16],xd=[16,24,32],To=10,oEe=[0,0,0,0],i_=typeof crypto!=ta,Zf=i_&&crypto.subtle,bP=i_&&typeof Zf!=ta,tr=Km.bytes,aEe=hP.aes,lEe=pP.ctrGladman,cEe=pl.hmacSha1;let H3=i_&&bP&&typeof Zf.importKey==Yf,G3=i_&&bP&&typeof Zf.deriveBits==Yf;class uEe extends TransformStream{constructor({password:e,rawPassword:n,signed:s,encryptionStrength:i,checkPasswordOnly:r}){super({start(){Object.assign(this,{ready:new Promise(o=>this.resolveReady=o),password:xP(e,n),signed:s,strength:i-1,pending:new Uint8Array})},async transform(o,a){const l=this,{password:c,strength:u,resolveReady:d,ready:f}=l;c?(await fEe(l,u,c,ni(o,0,Rf[u]+2)),o=ni(o,Rf[u]+2),r?a.error(new Error(ex)):d()):await f;const h=new Uint8Array(o.length-To-(o.length-To)%Ec);a.enqueue(vP(l,o,h,0,To,!0))},async flush(o){const{signed:a,ctr:l,hmac:c,pending:u,ready:d}=this;if(c&&l){await d;const f=ni(u,0,u.length-To),h=ni(u,u.length-To);let y=new Uint8Array;if(f.length){const _=kf(tr,f);c.update(_);const p=l.update(_);y=Cf(tr,p)}if(a){const _=ni(Cf(tr,c.digest()),0,To);for(let p=0;p<To;p++)if(_[p]!=h[p])throw new Error(gP)}o.enqueue(y)}}})}}class dEe extends TransformStream{constructor({password:e,rawPassword:n,encryptionStrength:s}){let i;super({start(){Object.assign(this,{ready:new Promise(r=>this.resolveReady=r),password:xP(e,n),strength:s-1,pending:new Uint8Array})},async transform(r,o){const a=this,{password:l,strength:c,resolveReady:u,ready:d}=a;let f=new Uint8Array;l?(f=await hEe(a,c,l),u()):await d;const h=new Uint8Array(f.length+r.length-r.length%Ec);h.set(f,0),o.enqueue(vP(a,r,h,f.length,0))},async flush(r){const{ctr:o,hmac:a,pending:l,ready:c}=this;if(a&&o){await c;let u=new Uint8Array;if(l.length){const d=o.update(kf(tr,l));a.update(d),u=Cf(tr,d)}i.signature=Cf(tr,a.digest()).slice(0,To),r.enqueue(tx(u,i.signature))}}}),i=this}}function vP(t,e,n,s,i,r){const{ctr:o,hmac:a,pending:l}=t,c=e.length-i;l.length&&(e=tx(l,e),n=gEe(n,c-c%Ec));let u;for(u=0;u<=c-Ec;u+=Ec){const d=kf(tr,ni(e,u,u+Ec));r&&a.update(d);const f=o.update(d);r||a.update(f),n.set(Cf(tr,f),u+s)}return t.pending=ni(e,u),n}async function fEe(t,e,n,s){const i=await wP(t,e,n,ni(s,0,Rf[e])),r=ni(s,Rf[e]);if(i[0]!=r[0]||i[1]!=r[1])throw new Error(mP)}async function hEe(t,e,n){const s=_P(new Uint8Array(Rf[e])),i=await wP(t,e,n,s);return tx(s,i)}async function wP(t,e,n,s){t.password=null;const i=await pEe(tEe,n,iEe,!1,rEe),r=await mEe(Object.assign({salt:s},Eb),i,8*(xd[e]*2+2)),o=new Uint8Array(r),a=kf(tr,ni(o,0,xd[e])),l=kf(tr,ni(o,xd[e],xd[e]*2)),c=ni(o,xd[e]*2);return Object.assign(t,{keys:{key:a,authentication:l,passwordVerification:c},ctr:new lEe(new aEe(a),Array.from(oEe)),hmac:new cEe(l)}),c}async function pEe(t,e,n,s,i){if(H3)try{return await Zf.importKey(t,e,n,s,i)}catch{return H3=!1,pl.importKey(e)}else return pl.importKey(e)}async function mEe(t,e,n){if(G3)try{return await Zf.deriveBits(t,e,n)}catch{return G3=!1,pl.pbkdf2(e,t.salt,Eb.iterations,n)}else return pl.pbkdf2(e,t.salt,Eb.iterations,n)}function xP(t,e){return e===fs?J2e(t):e}function tx(t,e){let n=t;return t.length+e.length&&(n=new Uint8Array(t.length+e.length),n.set(t,0),n.set(e,t.length)),n}function gEe(t,e){if(e&&e>t.length){const n=t;t=new Uint8Array(e),t.set(n,0)}return t}function ni(t,e,n){return t.subarray(e,n)}function Cf(t,e){return t.fromBits(e)}function kf(t,e){return t.toBits(e)}const Bc=12;class _Ee extends TransformStream{constructor({password:e,passwordVerification:n,checkPasswordOnly:s}){super({start(){Object.assign(this,{password:e,passwordVerification:n}),EP(this,e)},transform(i,r){const o=this;if(o.password){const a=z3(o,i.subarray(0,Bc));if(o.password=null,a[Bc-1]!=o.passwordVerification)throw new Error(mP);i=i.subarray(Bc)}s?r.error(new Error(ex)):r.enqueue(z3(o,i))}})}}class yEe extends TransformStream{constructor({password:e,passwordVerification:n}){super({start(){Object.assign(this,{password:e,passwordVerification:n}),EP(this,e)},transform(s,i){const r=this;let o,a;if(r.password){r.password=null;const l=_P(new Uint8Array(Bc));l[Bc-1]=r.passwordVerification,o=new Uint8Array(s.length+l.length),o.set(V3(r,l),0),a=Bc}else o=new Uint8Array(s.length),a=0;o.set(V3(r,s),a),i.enqueue(o)}})}}function z3(t,e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=SP(t)^e[s],nx(t,n[s]);return n}function V3(t,e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=SP(t)^e[s],nx(t,e[s]);return n}function EP(t,e){const n=[305419896,591751049,878082192];Object.assign(t,{keys:n,crcKey0:new Xm(n[0]),crcKey2:new Xm(n[2])});for(let s=0;s<e.length;s++)nx(t,e.charCodeAt(s))}function nx(t,e){let[n,s,i]=t.keys;t.crcKey0.append([e]),n=~t.crcKey0.get(),s=j3(Math.imul(j3(s+TP(n)),134775813)+1),t.crcKey2.append([s>>>24]),i=~t.crcKey2.get(),t.keys=[n,s,i]}function SP(t){const e=t.keys[2]|2;return TP(Math.imul(e,e^1)>>>8)}function TP(t){return t&255}function j3(t){return t&4294967295}const W3="deflate-raw";class bEe extends TransformStream{constructor(e,{chunkSize:n,CompressionStream:s,CompressionStreamNative:i}){super({});const{compressed:r,encrypted:o,useCompressionStream:a,zipCrypto:l,signed:c,level:u}=e,d=this;let f,h,y=AP(super.readable);(!o||l)&&c&&(f=new dP,y=nr(y,f)),r&&(y=RP(y,a,{level:u,chunkSize:n},i,s)),o&&(l?y=nr(y,new yEe(e)):(h=new dEe(e),y=nr(y,h))),MP(d,y,()=>{let _;o&&!l&&(_=h.signature),(!o||l)&&c&&(_=new DataView(f.value.buffer).getUint32(0)),d.signature=_})}}class vEe extends TransformStream{constructor(e,{chunkSize:n,DecompressionStream:s,DecompressionStreamNative:i}){super({});const{zipCrypto:r,encrypted:o,signed:a,signature:l,compressed:c,useCompressionStream:u}=e;let d,f,h=AP(super.readable);o&&(r?h=nr(h,new _Ee(e)):(f=new uEe(e),h=nr(h,f))),c&&(h=RP(h,u,{chunkSize:n},i,s)),(!o||r)&&a&&(d=new dP,h=nr(h,d)),MP(this,h,()=>{if((!o||r)&&a){const y=new DataView(d.value.buffer);if(l!=y.getUint32(0,!1))throw new Error(gP)}})}}function AP(t){return nr(t,new TransformStream({transform(e,n){e&&e.length&&n.enqueue(e)}}))}function MP(t,e,n){e=nr(e,new TransformStream({flush:n})),Object.defineProperty(t,"readable",{get(){return e}})}function RP(t,e,n,s,i){try{const r=e&&s?s:i;t=nr(t,new r(W3,n))}catch{if(e)try{t=nr(t,new i(W3,n))}catch{return t}else return t}return t}function nr(t,e){return t.pipeThrough(e)}const wEe="message",xEe="start",EEe="pull",q3="data",SEe="ack",X3="close",TEe="deflate",CP="inflate";class AEe extends TransformStream{constructor(e,n){super({});const s=this,{codecType:i}=e;let r;i.startsWith(TEe)?r=bEe:i.startsWith(CP)&&(r=vEe);let o=0,a=0;const l=new r(e,n),c=super.readable,u=new TransformStream({transform(f,h){f&&f.length&&(a+=f.length,h.enqueue(f))},flush(){Object.assign(s,{inputSize:a})}}),d=new TransformStream({transform(f,h){f&&f.length&&(o+=f.length,h.enqueue(f))},flush(){const{signature:f}=l;Object.assign(s,{signature:f,outputSize:o,inputSize:a})}});Object.defineProperty(s,"readable",{get(){return c.pipeThrough(u).pipeThrough(l).pipeThrough(d)}})}}class MEe extends TransformStream{constructor(e){let n;super({transform:s,flush(i){n&&n.length&&i.enqueue(n)}});function s(i,r){if(n){const o=new Uint8Array(n.length+i.length);o.set(n),o.set(i,n.length),i=o,n=null}i.length>e?(r.enqueue(i.slice(0,e)),s(i.slice(e),r)):n=i}}}let kP=typeof Worker!=ta;class o1{constructor(e,{readable:n,writable:s},{options:i,config:r,streamOptions:o,useWebWorkers:a,transferStreams:l,scripts:c},u){const{signal:d}=o;return Object.assign(e,{busy:!0,readable:n.pipeThrough(new MEe(r.chunkSize)).pipeThrough(new REe(n,o),{signal:d}),writable:s,options:Object.assign({},i),scripts:c,transferStreams:l,terminate(){return new Promise(f=>{const{worker:h,busy:y}=e;h?(y?e.resolveTerminated=f:(h.terminate(),f()),e.interface=null):f()})},onTaskFinished(){const{resolveTerminated:f}=e;f&&(e.resolveTerminated=null,e.terminated=!0,e.worker.terminate(),f()),e.busy=!1,u(e)}}),(a&&kP?CEe:PP)(e,r)}}class REe extends TransformStream{constructor(e,{onstart:n,onprogress:s,size:i,onend:r}){let o=0;super({async start(){n&&await a1(n,i)},async transform(a,l){o+=a.length,s&&await a1(s,o,i),l.enqueue(a)},async flush(){e.size=o,r&&await a1(r,o)}})}}async function a1(t,...e){try{await t(...e)}catch{}}function PP(t,e){return{run:()=>kEe(t,e)}}function CEe(t,e){const{baseURL:n,chunkSize:s}=e;if(!t.interface){let i;try{i=OEe(t.scripts[0],n,t)}catch{return kP=!1,PP(t,e)}Object.assign(t,{worker:i,interface:{run:()=>PEe(t,{chunkSize:s})}})}return t.interface}async function kEe({options:t,readable:e,writable:n,onTaskFinished:s},i){try{const r=new AEe(t,i);await e.pipeThrough(r).pipeTo(n,{preventClose:!0,preventAbort:!0});const{signature:o,inputSize:a,outputSize:l}=r;return{signature:o,inputSize:a,outputSize:l}}finally{s()}}async function PEe(t,e){let n,s;const i=new Promise((f,h)=>{n=f,s=h});Object.assign(t,{reader:null,writer:null,resolveResult:n,rejectResult:s,result:i});const{readable:r,options:o,scripts:a}=t,{writable:l,closed:c}=IEe(t.writable),u=rm({type:xEe,scripts:a.slice(1),options:o,config:e,readable:r,writable:l},t);u||Object.assign(t,{reader:r.getReader(),writer:l.getWriter()});const d=await i;return u||await l.getWriter().close(),await c,d}function IEe(t){let e;const n=new Promise(i=>e=i);return{writable:new WritableStream({async write(i){const r=t.getWriter();await r.ready,await r.write(i),r.releaseLock()},close(){e()},abort(i){return t.getWriter().abort(i)}}),closed:n}}let K3=!0,Y3=!0;function OEe(t,e,n){const s={type:"module"};let i,r;typeof t==Yf&&(t=t());try{i=new URL(t,e)}catch{i=t}if(K3)try{r=new Worker(i)}catch{K3=!1,r=new Worker(i,s)}else r=new Worker(i,s);return r.addEventListener(wEe,o=>LEe(o,n)),r}function rm(t,{worker:e,writer:n,onTaskFinished:s,transferStreams:i}){try{let{value:r,readable:o,writable:a}=t;const l=[];if(r&&(r.byteLength<r.buffer.byteLength?t.value=r.buffer.slice(0,r.byteLength):t.value=r.buffer,l.push(t.value)),i&&Y3?(o&&l.push(o),a&&l.push(a)):t.readable=t.writable=null,l.length)try{return e.postMessage(t,l),!0}catch{Y3=!1,t.readable=t.writable=null,e.postMessage(t)}else e.postMessage(t)}catch(r){throw n&&n.releaseLock(),s(),r}}async function LEe({data:t},e){const{type:n,value:s,messageId:i,result:r,error:o}=t,{reader:a,writer:l,resolveResult:c,rejectResult:u,onTaskFinished:d}=e;try{if(o){const{message:h,stack:y,code:_,name:p}=o,g=new Error(h);Object.assign(g,{stack:y,code:_,name:p}),f(g)}else{if(n==EEe){const{value:h,done:y}=await a.read();rm({type:q3,value:h,done:y,messageId:i},e)}n==q3&&(await l.ready,await l.write(new Uint8Array(s)),rm({type:SEe,messageId:i},e)),n==X3&&f(null,r)}}catch(h){rm({type:X3,messageId:i},e),f(h)}function f(h,y){h?u(h):c(y),l&&l.releaseLock(),d()}}let Fa=[];const l1=[];let Z3=0;async function DEe(t,e){const{options:n,config:s}=e,{transferStreams:i,useWebWorkers:r,useCompressionStream:o,codecType:a,compressed:l,signed:c,encrypted:u}=n,{workerScripts:d,maxWorkers:f}=s;e.transferStreams=i||i===fs;const h=!l&&!c&&!u&&!e.transferStreams;return e.useWebWorkers=!h&&(r||r===fs&&s.useWebWorkers),e.scripts=e.useWebWorkers&&d?d[a]:[],n.useCompressionStream=o||o===fs&&s.useCompressionStream,(await y()).run();async function y(){const p=Fa.find(g=>!g.busy);if(p)return J3(p),new o1(p,t,e,_);if(Fa.length<f){const g={indexWorker:Z3};return Z3++,Fa.push(g),new o1(g,t,e,_)}else return new Promise(g=>l1.push({resolve:g,stream:t,workerOptions:e}))}function _(p){if(l1.length){const[{resolve:g,stream:b,workerOptions:v}]=l1.splice(0,1);g(new o1(p,b,v,_))}else p.worker?(J3(p),NEe(p,e)):Fa=Fa.filter(g=>g!=p)}}function NEe(t,e){const{config:n}=e,{terminateWorkerTimeout:s}=n;Number.isFinite(s)&&s>=0&&(t.terminated?t.terminated=!1:t.terminateTimeout=setTimeout(async()=>{Fa=Fa.filter(i=>i!=t);try{await t.terminate()}catch{}},s))}function J3(t){const{terminateTimeout:e}=t;e&&(clearTimeout(e),t.terminateTimeout=null)}function UEe(t,e={}){const n=`const{Array:e,Object:t,Number:n,Math:r,Error:s,Uint8Array:i,Uint16Array:o,Uint32Array:c,Int32Array:f,Map:a,DataView:l,Promise:u,TextEncoder:w,crypto:h,postMessage:d,TransformStream:p,ReadableStream:y,WritableStream:m,CompressionStream:b,DecompressionStream:g}=self,k=void 0,v="undefined",S="function";class z{constructor(e){return class extends p{constructor(t,n){const r=new e(n);super({transform(e,t){t.enqueue(r.append(e))},flush(e){const t=r.flush();t&&e.enqueue(t)}})}}}}const C=[];for(let e=0;256>e;e++){let t=e;for(let e=0;8>e;e++)1&t?t=t>>>1^3988292384:t>>>=1;C[e]=t}class x{constructor(e){this.t=e||-1}append(e){let t=0|this.t;for(let n=0,r=0|e.length;r>n;n++)t=t>>>8^C[255&(t^e[n])];this.t=t}get(){return~this.t}}class A extends p{constructor(){let e;const t=new x;super({transform(e,n){t.append(e),n.enqueue(e)},flush(){const n=new i(4);new l(n.buffer).setUint32(0,t.get()),e.value=n}}),e=this}}const _={concat(e,t){if(0===e.length||0===t.length)return e.concat(t);const n=e[e.length-1],r=_.i(n);return 32===r?e.concat(t):_.o(t,r,0|n,e.slice(0,e.length-1))},l(e){const t=e.length;if(0===t)return 0;const n=e[t-1];return 32*(t-1)+_.i(n)},u(e,t){if(32*e.length<t)return e;const n=(e=e.slice(0,r.ceil(t/32))).length;return t&=31,n>0&&t&&(e[n-1]=_.h(t,e[n-1]&2147483648>>t-1,1)),e},h:(e,t,n)=>32===e?t:(n?0|t:t<<32-e)+1099511627776*e,i:e=>r.round(e/1099511627776)||32,o(e,t,n,r){for(void 0===r&&(r=[]);t>=32;t-=32)r.push(n),n=0;if(0===t)return r.concat(e);for(let s=0;s<e.length;s++)r.push(n|e[s]>>>t),n=e[s]<<32-t;const s=e.length?e[e.length-1]:0,i=_.i(s);return r.push(_.h(t+i&31,t+i>32?n:r.pop(),1)),r}},I={p:{m(e){const t=_.l(e)/8,n=new i(t);let r;for(let s=0;t>s;s++)3&s||(r=e[s/4]),n[s]=r>>>24,r<<=8;return n},k(e){const t=[];let n,r=0;for(n=0;n<e.length;n++)r=r<<8|e[n],3&~n||(t.push(r),r=0);return 3&n&&t.push(_.h(8*(3&n),r)),t}}},P=class{constructor(e){const t=this;t.blockSize=512,t.v=[1732584193,4023233417,2562383102,271733878,3285377520],t.S=[1518500249,1859775393,2400959708,3395469782],e?(t.C=e.C.slice(0),t.A=e.A.slice(0),t._=e._):t.reset()}reset(){const e=this;return e.C=e.v.slice(0),e.A=[],e._=0,e}update(e){const t=this;"string"==typeof e&&(e=I.I.k(e));const n=t.A=_.concat(t.A,e),r=t._,i=t._=r+_.l(e);if(i>9007199254740991)throw new s("Cannot hash more than 2^53 - 1 bits");const o=new c(n);let f=0;for(let e=t.blockSize+r-(t.blockSize+r&t.blockSize-1);i>=e;e+=t.blockSize)t.P(o.subarray(16*f,16*(f+1))),f+=1;return n.splice(0,16*f),t}D(){const e=this;let t=e.A;const n=e.C;t=_.concat(t,[_.h(1,1)]);for(let e=t.length+2;15&e;e++)t.push(0);for(t.push(r.floor(e._/4294967296)),t.push(0|e._);t.length;)e.P(t.splice(0,16));return e.reset(),n}V(e,t,n,r){return e>19?e>39?e>59?e>79?void 0:t^n^r:t&n|t&r|n&r:t^n^r:t&n|~t&r}R(e,t){return t<<e|t>>>32-e}P(t){const n=this,s=n.C,i=e(80);for(let e=0;16>e;e++)i[e]=t[e];let o=s[0],c=s[1],f=s[2],a=s[3],l=s[4];for(let e=0;79>=e;e++){16>e||(i[e]=n.R(1,i[e-3]^i[e-8]^i[e-14]^i[e-16]));const t=n.R(5,o)+n.V(e,c,f,a)+l+i[e]+n.S[r.floor(e/20)]|0;l=a,a=f,f=n.R(30,c),c=o,o=t}s[0]=s[0]+o|0,s[1]=s[1]+c|0,s[2]=s[2]+f|0,s[3]=s[3]+a|0,s[4]=s[4]+l|0}},D={getRandomValues(e){const t=new c(e.buffer),n=e=>{let t=987654321;const n=4294967295;return()=>(t=36969*(65535&t)+(t>>16)&n,(((t<<16)+(e=18e3*(65535&e)+(e>>16)&n)&n)/4294967296+.5)*(r.random()>.5?1:-1))};for(let s,i=0;i<e.length;i+=4){const e=n(4294967296*(s||r.random()));s=987654071*e(),t[i/4]=4294967296*e()|0}return e}},V={importKey:e=>new V.B(I.p.k(e)),M(e,t,n,r){if(n=n||1e4,0>r||0>n)throw new s("invalid params to pbkdf2");const i=1+(r>>5)<<2;let o,c,f,a,u;const w=new ArrayBuffer(i),h=new l(w);let d=0;const p=_;for(t=I.p.k(t),u=1;(i||1)>d;u++){for(o=c=e.encrypt(p.concat(t,[u])),f=1;n>f;f++)for(c=e.encrypt(c),a=0;a<c.length;a++)o[a]^=c[a];for(f=0;(i||1)>d&&f<o.length;f++)h.setInt32(d,o[f]),d+=4}return w.slice(0,r/8)},B:class{constructor(e){const t=this,n=t.U=P,r=[[],[]];t.K=[new n,new n];const s=t.K[0].blockSize/32;e.length>s&&(e=(new n).update(e).D());for(let t=0;s>t;t++)r[0][t]=909522486^e[t],r[1][t]=1549556828^e[t];t.K[0].update(r[0]),t.K[1].update(r[1]),t.N=new n(t.K[0])}reset(){const e=this;e.N=new e.U(e.K[0]),e.O=!1}update(e){this.O=!0,this.N.update(e)}digest(){const e=this,t=e.N.D(),n=new e.U(e.K[1]).update(t).D();return e.reset(),n}encrypt(e){if(this.O)throw new s("encrypt on already updated hmac called!");return this.update(e),this.digest(e)}}},R=typeof h!=v&&typeof h.getRandomValues==S,B="Invalid password",E="Invalid signature",M="zipjs-abort-check-password";function U(e){return R?h.getRandomValues(e):D.getRandomValues(e)}const K=16,N={name:"PBKDF2"},O=t.assign({hash:{name:"HMAC"}},N),T=t.assign({iterations:1e3,hash:{name:"SHA-1"}},N),W=["deriveBits"],j=[8,12,16],H=[16,24,32],L=10,F=[0,0,0,0],q=typeof h!=v,G=q&&h.subtle,J=q&&typeof G!=v,Q=I.p,X=class{constructor(e){const t=this;t.T=[[[],[],[],[],[]],[[],[],[],[],[]]],t.T[0][0][0]||t.W();const n=t.T[0][4],r=t.T[1],i=e.length;let o,c,f,a=1;if(4!==i&&6!==i&&8!==i)throw new s("invalid aes key size");for(t.S=[c=e.slice(0),f=[]],o=i;4*i+28>o;o++){let e=c[o-1];(o%i==0||8===i&&o%i==4)&&(e=n[e>>>24]<<24^n[e>>16&255]<<16^n[e>>8&255]<<8^n[255&e],o%i==0&&(e=e<<8^e>>>24^a<<24,a=a<<1^283*(a>>7))),c[o]=c[o-i]^e}for(let e=0;o;e++,o--){const t=c[3&e?o:o-4];f[e]=4>=o||4>e?t:r[0][n[t>>>24]]^r[1][n[t>>16&255]]^r[2][n[t>>8&255]]^r[3][n[255&t]]}}encrypt(e){return this.j(e,0)}decrypt(e){return this.j(e,1)}W(){const e=this.T[0],t=this.T[1],n=e[4],r=t[4],s=[],i=[];let o,c,f,a;for(let e=0;256>e;e++)i[(s[e]=e<<1^283*(e>>7))^e]=e;for(let l=o=0;!n[l];l^=c||1,o=i[o]||1){let i=o^o<<1^o<<2^o<<3^o<<4;i=i>>8^255&i^99,n[l]=i,r[i]=l,a=s[f=s[c=s[l]]];let u=16843009*a^65537*f^257*c^16843008*l,w=257*s[i]^16843008*i;for(let n=0;4>n;n++)e[n][l]=w=w<<24^w>>>8,t[n][i]=u=u<<24^u>>>8}for(let n=0;5>n;n++)e[n]=e[n].slice(0),t[n]=t[n].slice(0)}j(e,t){if(4!==e.length)throw new s("invalid aes block size");const n=this.S[t],r=n.length/4-2,i=[0,0,0,0],o=this.T[t],c=o[0],f=o[1],a=o[2],l=o[3],u=o[4];let w,h,d,p=e[0]^n[0],y=e[t?3:1]^n[1],m=e[2]^n[2],b=e[t?1:3]^n[3],g=4;for(let e=0;r>e;e++)w=c[p>>>24]^f[y>>16&255]^a[m>>8&255]^l[255&b]^n[g],h=c[y>>>24]^f[m>>16&255]^a[b>>8&255]^l[255&p]^n[g+1],d=c[m>>>24]^f[b>>16&255]^a[p>>8&255]^l[255&y]^n[g+2],b=c[b>>>24]^f[p>>16&255]^a[y>>8&255]^l[255&m]^n[g+3],g+=4,p=w,y=h,m=d;for(let e=0;4>e;e++)i[t?3&-e:e]=u[p>>>24]<<24^u[y>>16&255]<<16^u[m>>8&255]<<8^u[255&b]^n[g++],w=p,p=y,y=m,m=b,b=w;return i}},Y=class{constructor(e,t){this.H=e,this.L=t,this.F=t}reset(){this.F=this.L}update(e){return this.q(this.H,e,this.F)}G(e){if(255&~(e>>24))e+=1<<24;else{let t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}return e}J(e){0===(e[0]=this.G(e[0]))&&(e[1]=this.G(e[1]))}q(e,t,n){let r;if(!(r=t.length))return[];const s=_.l(t);for(let s=0;r>s;s+=4){this.J(n);const r=e.encrypt(n);t[s]^=r[0],t[s+1]^=r[1],t[s+2]^=r[2],t[s+3]^=r[3]}return _.u(t,s)}},Z=V.B;let $=q&&J&&typeof G.importKey==S,ee=q&&J&&typeof G.deriveBits==S;class te extends p{constructor({password:e,rawPassword:n,signed:r,encryptionStrength:o,checkPasswordOnly:c}){super({start(){t.assign(this,{ready:new u((e=>this.X=e)),password:ie(e,n),signed:r,Y:o-1,pending:new i})},async transform(e,t){const n=this,{password:r,Y:o,X:f,ready:a}=n;r?(await(async(e,t,n,r)=>{const i=await se(e,t,n,ce(r,0,j[t])),o=ce(r,j[t]);if(i[0]!=o[0]||i[1]!=o[1])throw new s(B)})(n,o,r,ce(e,0,j[o]+2)),e=ce(e,j[o]+2),c?t.error(new s(M)):f()):await a;const l=new i(e.length-L-(e.length-L)%K);t.enqueue(re(n,e,l,0,L,!0))},async flush(e){const{signed:t,Z:n,$:r,pending:o,ready:c}=this;if(r&&n){await c;const f=ce(o,0,o.length-L),a=ce(o,o.length-L);let l=new i;if(f.length){const e=ae(Q,f);r.update(e);const t=n.update(e);l=fe(Q,t)}if(t){const e=ce(fe(Q,r.digest()),0,L);for(let t=0;L>t;t++)if(e[t]!=a[t])throw new s(E)}e.enqueue(l)}}})}}class ne extends p{constructor({password:e,rawPassword:n,encryptionStrength:r}){let s;super({start(){t.assign(this,{ready:new u((e=>this.X=e)),password:ie(e,n),Y:r-1,pending:new i})},async transform(e,t){const n=this,{password:r,Y:s,X:o,ready:c}=n;let f=new i;r?(f=await(async(e,t,n)=>{const r=U(new i(j[t]));return oe(r,await se(e,t,n,r))})(n,s,r),o()):await c;const a=new i(f.length+e.length-e.length%K);a.set(f,0),t.enqueue(re(n,e,a,f.length,0))},async flush(e){const{Z:t,$:n,pending:r,ready:o}=this;if(n&&t){await o;let c=new i;if(r.length){const e=t.update(ae(Q,r));n.update(e),c=fe(Q,e)}s.signature=fe(Q,n.digest()).slice(0,L),e.enqueue(oe(c,s.signature))}}}),s=this}}function re(e,t,n,r,s,o){const{Z:c,$:f,pending:a}=e,l=t.length-s;let u;for(a.length&&(t=oe(a,t),n=((e,t)=>{if(t&&t>e.length){const n=e;(e=new i(t)).set(n,0)}return e})(n,l-l%K)),u=0;l-K>=u;u+=K){const e=ae(Q,ce(t,u,u+K));o&&f.update(e);const s=c.update(e);o||f.update(s),n.set(fe(Q,s),u+r)}return e.pending=ce(t,u),n}async function se(n,r,s,o){n.password=null;const c=await(async(e,t,n,r,s)=>{if(!$)return V.importKey(t);try{return await G.importKey("raw",t,n,!1,s)}catch(e){return $=!1,V.importKey(t)}})(0,s,O,0,W),f=await(async(e,t,n)=>{if(!ee)return V.M(t,e.salt,T.iterations,n);try{return await G.deriveBits(e,t,n)}catch(r){return ee=!1,V.M(t,e.salt,T.iterations,n)}})(t.assign({salt:o},T),c,8*(2*H[r]+2)),a=new i(f),l=ae(Q,ce(a,0,H[r])),u=ae(Q,ce(a,H[r],2*H[r])),w=ce(a,2*H[r]);return t.assign(n,{keys:{key:l,ee:u,passwordVerification:w},Z:new Y(new X(l),e.from(F)),$:new Z(u)}),w}function ie(e,t){return t===k?(e=>{if(typeof w==v){const t=new i((e=unescape(encodeURIComponent(e))).length);for(let n=0;n<t.length;n++)t[n]=e.charCodeAt(n);return t}return(new w).encode(e)})(e):t}function oe(e,t){let n=e;return e.length+t.length&&(n=new i(e.length+t.length),n.set(e,0),n.set(t,e.length)),n}function ce(e,t,n){return e.subarray(t,n)}function fe(e,t){return e.m(t)}function ae(e,t){return e.k(t)}class le extends p{constructor({password:e,passwordVerification:n,checkPasswordOnly:r}){super({start(){t.assign(this,{password:e,passwordVerification:n}),de(this,e)},transform(e,t){const n=this;if(n.password){const t=we(n,e.subarray(0,12));if(n.password=null,t[11]!=n.passwordVerification)throw new s(B);e=e.subarray(12)}r?t.error(new s(M)):t.enqueue(we(n,e))}})}}class ue extends p{constructor({password:e,passwordVerification:n}){super({start(){t.assign(this,{password:e,passwordVerification:n}),de(this,e)},transform(e,t){const n=this;let r,s;if(n.password){n.password=null;const t=U(new i(12));t[11]=n.passwordVerification,r=new i(e.length+t.length),r.set(he(n,t),0),s=12}else r=new i(e.length),s=0;r.set(he(n,e),s),t.enqueue(r)}})}}function we(e,t){const n=new i(t.length);for(let r=0;r<t.length;r++)n[r]=ye(e)^t[r],pe(e,n[r]);return n}function he(e,t){const n=new i(t.length);for(let r=0;r<t.length;r++)n[r]=ye(e)^t[r],pe(e,t[r]);return n}function de(e,n){const r=[305419896,591751049,878082192];t.assign(e,{keys:r,te:new x(r[0]),ne:new x(r[2])});for(let t=0;t<n.length;t++)pe(e,n.charCodeAt(t))}function pe(e,t){let[n,s,i]=e.keys;e.te.append([t]),n=~e.te.get(),s=be(r.imul(be(s+me(n)),134775813)+1),e.ne.append([s>>>24]),i=~e.ne.get(),e.keys=[n,s,i]}function ye(e){const t=2|e.keys[2];return me(r.imul(t,1^t)>>>8)}function me(e){return 255&e}function be(e){return 4294967295&e}const ge="deflate-raw";class ke extends p{constructor(e,{chunkSize:t,CompressionStream:n,CompressionStreamNative:r}){super({});const{compressed:s,encrypted:i,useCompressionStream:o,zipCrypto:c,signed:f,level:a}=e,u=this;let w,h,d=Se(super.readable);i&&!c||!f||(w=new A,d=xe(d,w)),s&&(d=Ce(d,o,{level:a,chunkSize:t},r,n)),i&&(c?d=xe(d,new ue(e)):(h=new ne(e),d=xe(d,h))),ze(u,d,(()=>{let e;i&&!c&&(e=h.signature),i&&!c||!f||(e=new l(w.value.buffer).getUint32(0)),u.signature=e}))}}class ve extends p{constructor(e,{chunkSize:t,DecompressionStream:n,DecompressionStreamNative:r}){super({});const{zipCrypto:i,encrypted:o,signed:c,signature:f,compressed:a,useCompressionStream:u}=e;let w,h,d=Se(super.readable);o&&(i?d=xe(d,new le(e)):(h=new te(e),d=xe(d,h))),a&&(d=Ce(d,u,{chunkSize:t},r,n)),o&&!i||!c||(w=new A,d=xe(d,w)),ze(this,d,(()=>{if((!o||i)&&c){const e=new l(w.value.buffer);if(f!=e.getUint32(0,!1))throw new s(E)}}))}}function Se(e){return xe(e,new p({transform(e,t){e&&e.length&&t.enqueue(e)}}))}function ze(e,n,r){n=xe(n,new p({flush:r})),t.defineProperty(e,"readable",{get:()=>n})}function Ce(e,t,n,r,s){try{e=xe(e,new(t&&r?r:s)(ge,n))}catch(r){if(!t)return e;try{e=xe(e,new s(ge,n))}catch(t){return e}}return e}function xe(e,t){return e.pipeThrough(t)}const Ae="data",_e="close";class Ie extends p{constructor(e,n){super({});const r=this,{codecType:s}=e;let i;s.startsWith("deflate")?i=ke:s.startsWith("inflate")&&(i=ve);let o=0,c=0;const f=new i(e,n),a=super.readable,l=new p({transform(e,t){e&&e.length&&(c+=e.length,t.enqueue(e))},flush(){t.assign(r,{inputSize:c})}}),u=new p({transform(e,t){e&&e.length&&(o+=e.length,t.enqueue(e))},flush(){const{signature:e}=f;t.assign(r,{signature:e,outputSize:o,inputSize:c})}});t.defineProperty(r,"readable",{get:()=>a.pipeThrough(l).pipeThrough(f).pipeThrough(u)})}}class Pe extends p{constructor(e){let t;super({transform:function n(r,s){if(t){const e=new i(t.length+r.length);e.set(t),e.set(r,t.length),r=e,t=null}r.length>e?(s.enqueue(r.slice(0,e)),n(r.slice(e),s)):t=r},flush(e){t&&t.length&&e.enqueue(t)}})}}const De=new a,Ve=new a;let Re,Be=0,Ee=!0;async function Me(e){try{const{options:t,scripts:r,config:s}=e;if(r&&r.length)try{Ee?importScripts.apply(k,r):await Ue(r)}catch(e){Ee=!1,await Ue(r)}self.initCodec&&self.initCodec(),s.CompressionStreamNative=self.CompressionStream,s.DecompressionStreamNative=self.DecompressionStream,self.Deflate&&(s.CompressionStream=new z(self.Deflate)),self.Inflate&&(s.DecompressionStream=new z(self.Inflate));const i={highWaterMark:1},o=e.readable||new y({async pull(e){const t=new u((e=>De.set(Be,e)));Ke({type:"pull",messageId:Be}),Be=(Be+1)%n.MAX_SAFE_INTEGER;const{value:r,done:s}=await t;e.enqueue(r),s&&e.close()}},i),c=e.writable||new m({async write(e){let t;const r=new u((e=>t=e));Ve.set(Be,t),Ke({type:Ae,value:e,messageId:Be}),Be=(Be+1)%n.MAX_SAFE_INTEGER,await r}},i),f=new Ie(t,s);Re=new AbortController;const{signal:a}=Re;await o.pipeThrough(f).pipeThrough(new Pe(s.chunkSize)).pipeTo(c,{signal:a,preventClose:!0,preventAbort:!0}),await c.getWriter().close();const{signature:l,inputSize:w,outputSize:h}=f;Ke({type:_e,result:{signature:l,inputSize:w,outputSize:h}})}catch(e){Ne(e)}}async function Ue(e){for(const t of e)await import(t)}function Ke(e){let{value:t}=e;if(t)if(t.length)try{t=new i(t),e.value=t.buffer,d(e,[e.value])}catch(t){d(e)}else d(e);else d(e)}function Ne(e=new s("Unknown error")){const{message:t,stack:n,code:r,name:i}=e;d({error:{message:t,stack:n,code:r,name:i}})}addEventListener("message",(({data:e})=>{const{type:t,messageId:n,value:r,done:s}=e;try{if("start"==t&&Me(e),t==Ae){const e=De.get(n);De.delete(n),e({value:new i(r),done:s})}if("ack"==t){const e=Ve.get(n);Ve.delete(n),e()}t==_e&&Re.abort()}catch(e){Ne(e)}}));const Oe=15,Te=573,We=-2;function je(t){return He(t.map((([t,n])=>new e(t).fill(n,0,t))))}function He(t){return t.reduce(((t,n)=>t.concat(e.isArray(n)?He(n):n)),[])}const Le=[0,1,2,3].concat(...je([[2,4],[2,5],[4,6],[4,7],[8,8],[8,9],[16,10],[16,11],[32,12],[32,13],[64,14],[64,15],[2,0],[1,16],[1,17],[2,18],[2,19],[4,20],[4,21],[8,22],[8,23],[16,24],[16,25],[32,26],[32,27],[64,28],[64,29]]));function Fe(){const e=this;function t(e,t){let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}e.re=n=>{const s=e.se,i=e.oe.ie,o=e.oe.ce;let c,f,a,l=-1;for(n.fe=0,n.ae=Te,c=0;o>c;c++)0!==s[2*c]?(n.le[++n.fe]=l=c,n.ue[c]=0):s[2*c+1]=0;for(;2>n.fe;)a=n.le[++n.fe]=2>l?++l:0,s[2*a]=1,n.ue[a]=0,n.we--,i&&(n.he-=i[2*a+1]);for(e.de=l,c=r.floor(n.fe/2);c>=1;c--)n.pe(s,c);a=o;do{c=n.le[1],n.le[1]=n.le[n.fe--],n.pe(s,1),f=n.le[1],n.le[--n.ae]=c,n.le[--n.ae]=f,s[2*a]=s[2*c]+s[2*f],n.ue[a]=r.max(n.ue[c],n.ue[f])+1,s[2*c+1]=s[2*f+1]=a,n.le[1]=a++,n.pe(s,1)}while(n.fe>=2);n.le[--n.ae]=n.le[1],(t=>{const n=e.se,r=e.oe.ie,s=e.oe.ye,i=e.oe.me,o=e.oe.be;let c,f,a,l,u,w,h=0;for(l=0;Oe>=l;l++)t.ge[l]=0;for(n[2*t.le[t.ae]+1]=0,c=t.ae+1;Te>c;c++)f=t.le[c],l=n[2*n[2*f+1]+1]+1,l>o&&(l=o,h++),n[2*f+1]=l,f>e.de||(t.ge[l]++,u=0,i>f||(u=s[f-i]),w=n[2*f],t.we+=w*(l+u),r&&(t.he+=w*(r[2*f+1]+u)));if(0!==h){do{for(l=o-1;0===t.ge[l];)l--;t.ge[l]--,t.ge[l+1]+=2,t.ge[o]--,h-=2}while(h>0);for(l=o;0!==l;l--)for(f=t.ge[l];0!==f;)a=t.le[--c],a>e.de||(n[2*a+1]!=l&&(t.we+=(l-n[2*a+1])*n[2*a],n[2*a+1]=l),f--)}})(n),((e,n,r)=>{const s=[];let i,o,c,f=0;for(i=1;Oe>=i;i++)s[i]=f=f+r[i-1]<<1;for(o=0;n>=o;o++)c=e[2*o+1],0!==c&&(e[2*o]=t(s[c]++,c))})(s,e.de,n.ge)}}function qe(e,t,n,r,s){const i=this;i.ie=e,i.ye=t,i.me=n,i.ce=r,i.be=s}Fe.ke=[0,1,2,3,4,5,6,7].concat(...je([[2,8],[2,9],[2,10],[2,11],[4,12],[4,13],[4,14],[4,15],[8,16],[8,17],[8,18],[8,19],[16,20],[16,21],[16,22],[16,23],[32,24],[32,25],[32,26],[31,27],[1,28]])),Fe.ve=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],Fe.Se=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],Fe.ze=e=>256>e?Le[e]:Le[256+(e>>>7)],Fe.Ce=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Fe.xe=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Fe.Ae=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Fe._e=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];const Ge=je([[144,8],[112,9],[24,7],[8,8]]);qe.Ie=He([12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,19,275,147,403,83,339,211,467,51,307,179,435,115,371,243,499,11,267,139,395,75,331,203,459,43,299,171,427,107,363,235,491,27,283,155,411,91,347,219,475,59,315,187,443,123,379,251,507,7,263,135,391,71,327,199,455,39,295,167,423,103,359,231,487,23,279,151,407,87,343,215,471,55,311,183,439,119,375,247,503,15,271,143,399,79,335,207,463,47,303,175,431,111,367,239,495,31,287,159,415,95,351,223,479,63,319,191,447,127,383,255,511,0,64,32,96,16,80,48,112,8,72,40,104,24,88,56,120,4,68,36,100,20,84,52,116,3,131,67,195,35,163,99,227].map(((e,t)=>[e,Ge[t]])));const Je=je([[30,5]]);function Qe(e,t,n,r,s){const i=this;i.Pe=e,i.De=t,i.Ve=n,i.Re=r,i.Be=s}qe.Ee=He([0,16,8,24,4,20,12,28,2,18,10,26,6,22,14,30,1,17,9,25,5,21,13,29,3,19,11,27,7,23].map(((e,t)=>[e,Je[t]]))),qe.Me=new qe(qe.Ie,Fe.Ce,257,286,Oe),qe.Ue=new qe(qe.Ee,Fe.xe,0,30,Oe),qe.Ke=new qe(null,Fe.Ae,0,19,7);const Xe=[new Qe(0,0,0,0,0),new Qe(4,4,8,4,1),new Qe(4,5,16,8,1),new Qe(4,6,32,32,1),new Qe(4,4,16,16,2),new Qe(8,16,32,32,2),new Qe(8,16,128,128,2),new Qe(8,32,128,256,2),new Qe(32,128,258,1024,2),new Qe(32,258,258,4096,2)],Ye=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],Ze=113,$e=666,et=262;function tt(e,t,n,r){const s=e[2*t],i=e[2*n];return i>s||s==i&&r[t]<=r[n]}function nt(){const e=this;let t,n,s,c,f,a,l,u,w,h,d,p,y,m,b,g,k,v,S,z,C,x,A,_,I,P,D,V,R,B,E,M,U;const K=new Fe,N=new Fe,O=new Fe;let T,W,j,H,L,F;function q(){let t;for(t=0;286>t;t++)E[2*t]=0;for(t=0;30>t;t++)M[2*t]=0;for(t=0;19>t;t++)U[2*t]=0;E[512]=1,e.we=e.he=0,W=j=0}function G(e,t){let n,r=-1,s=e[1],i=0,o=7,c=4;0===s&&(o=138,c=3),e[2*(t+1)+1]=65535;for(let f=0;t>=f;f++)n=s,s=e[2*(f+1)+1],++i<o&&n==s||(c>i?U[2*n]+=i:0!==n?(n!=r&&U[2*n]++,U[32]++):i>10?U[36]++:U[34]++,i=0,r=n,0===s?(o=138,c=3):n==s?(o=6,c=3):(o=7,c=4))}function J(t){e.Ne[e.pending++]=t}function Q(e){J(255&e),J(e>>>8&255)}function X(e,t){let n;const r=t;F>16-r?(n=e,L|=n<<F&65535,Q(L),L=n>>>16-F,F+=r-16):(L|=e<<F&65535,F+=r)}function Y(e,t){const n=2*e;X(65535&t[n],65535&t[n+1])}function Z(e,t){let n,r,s=-1,i=e[1],o=0,c=7,f=4;for(0===i&&(c=138,f=3),n=0;t>=n;n++)if(r=i,i=e[2*(n+1)+1],++o>=c||r!=i){if(f>o)do{Y(r,U)}while(0!=--o);else 0!==r?(r!=s&&(Y(r,U),o--),Y(16,U),X(o-3,2)):o>10?(Y(18,U),X(o-11,7)):(Y(17,U),X(o-3,3));o=0,s=r,0===i?(c=138,f=3):r==i?(c=6,f=3):(c=7,f=4)}}function $(){16==F?(Q(L),L=0,F=0):8>F||(J(255&L),L>>>=8,F-=8)}function ee(t,n){let s,i,o;if(e.Oe[W]=t,e.Te[W]=255&n,W++,0===t?E[2*n]++:(j++,t--,E[2*(Fe.ke[n]+256+1)]++,M[2*Fe.ze(t)]++),!(8191&W)&&D>2){for(s=8*W,i=C-k,o=0;30>o;o++)s+=M[2*o]*(5+Fe.xe[o]);if(s>>>=3,j<r.floor(W/2)&&s<r.floor(i/2))return!0}return W==T-1}function te(t,n){let r,s,i,o,c=0;if(0!==W)do{r=e.Oe[c],s=e.Te[c],c++,0===r?Y(s,t):(i=Fe.ke[s],Y(i+256+1,t),o=Fe.Ce[i],0!==o&&(s-=Fe.ve[i],X(s,o)),r--,i=Fe.ze(r),Y(i,n),o=Fe.xe[i],0!==o&&(r-=Fe.Se[i],X(r,o)))}while(W>c);Y(256,t),H=t[513]}function ne(){F>8?Q(L):F>0&&J(255&L),L=0,F=0}function re(t,n,r){X(0+(r?1:0),3),((t,n)=>{ne(),H=8,Q(n),Q(~n),e.Ne.set(u.subarray(t,t+n),e.pending),e.pending+=n})(t,n)}function se(n){((t,n,r)=>{let s,i,o=0;D>0?(K.re(e),N.re(e),o=(()=>{let t;for(G(E,K.de),G(M,N.de),O.re(e),t=18;t>=3&&0===U[2*Fe._e[t]+1];t--);return e.we+=14+3*(t+1),t})(),s=e.we+3+7>>>3,i=e.he+3+7>>>3,i>s||(s=i)):s=i=n+5,n+4>s||-1==t?i==s?(X(2+(r?1:0),3),te(qe.Ie,qe.Ee)):(X(4+(r?1:0),3),((e,t,n)=>{let r;for(X(e-257,5),X(t-1,5),X(n-4,4),r=0;n>r;r++)X(U[2*Fe._e[r]+1],3);Z(E,e-1),Z(M,t-1)})(K.de+1,N.de+1,o+1),te(E,M)):re(t,n,r),q(),r&&ne()})(0>k?-1:k,C-k,n),k=C,t.We()}function ie(){let e,n,r,s;do{if(s=w-A-C,0===s&&0===C&&0===A)s=f;else if(-1==s)s--;else if(C>=f+f-et){u.set(u.subarray(f,f+f),0),x-=f,C-=f,k-=f,e=y,r=e;do{n=65535&d[--r],d[r]=f>n?0:n-f}while(0!=--e);e=f,r=e;do{n=65535&h[--r],h[r]=f>n?0:n-f}while(0!=--e);s+=f}if(0===t.je)return;e=t.He(u,C+A,s),A+=e,3>A||(p=255&u[C],p=(p<<g^255&u[C+1])&b)}while(et>A&&0!==t.je)}function oe(e){let t,n,r=I,s=C,i=_;const o=C>f-et?C-(f-et):0;let c=B;const a=l,w=C+258;let d=u[s+i-1],p=u[s+i];R>_||(r>>=2),c>A&&(c=A);do{if(t=e,u[t+i]==p&&u[t+i-1]==d&&u[t]==u[s]&&u[++t]==u[s+1]){s+=2,t++;do{}while(u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&w>s);if(n=258-(w-s),s=w-258,n>i){if(x=e,i=n,n>=c)break;d=u[s+i-1],p=u[s+i]}}}while((e=65535&h[e&a])>o&&0!=--r);return i>A?A:i}e.ue=[],e.ge=[],e.le=[],E=[],M=[],U=[],e.pe=(t,n)=>{const r=e.le,s=r[n];let i=n<<1;for(;i<=e.fe&&(i<e.fe&&tt(t,r[i+1],r[i],e.ue)&&i++,!tt(t,s,r[i],e.ue));)r[n]=r[i],n=i,i<<=1;r[n]=s},e.Le=(t,S,x,W,j,G)=>(W||(W=8),j||(j=8),G||(G=0),t.Fe=null,-1==S&&(S=6),1>j||j>9||8!=W||9>x||x>15||0>S||S>9||0>G||G>2?We:(t.qe=e,a=x,f=1<<a,l=f-1,m=j+7,y=1<<m,b=y-1,g=r.floor((m+3-1)/3),u=new i(2*f),h=[],d=[],T=1<<j+6,e.Ne=new i(4*T),s=4*T,e.Oe=new o(T),e.Te=new i(T),D=S,V=G,(t=>(t.Ge=t.Je=0,t.Fe=null,e.pending=0,e.Qe=0,n=Ze,c=0,K.se=E,K.oe=qe.Me,N.se=M,N.oe=qe.Ue,O.se=U,O.oe=qe.Ke,L=0,F=0,H=8,q(),(()=>{w=2*f,d[y-1]=0;for(let e=0;y-1>e;e++)d[e]=0;P=Xe[D].De,R=Xe[D].Pe,B=Xe[D].Ve,I=Xe[D].Re,C=0,k=0,A=0,v=_=2,z=0,p=0})(),0))(t))),e.Xe=()=>42!=n&&n!=Ze&&n!=$e?We:(e.Te=null,e.Oe=null,e.Ne=null,d=null,h=null,u=null,e.qe=null,n==Ze?-3:0),e.Ye=(e,t,n)=>{let r=0;return-1==t&&(t=6),0>t||t>9||0>n||n>2?We:(Xe[D].Be!=Xe[t].Be&&0!==e.Ge&&(r=e.Ze(1)),D!=t&&(D=t,P=Xe[D].De,R=Xe[D].Pe,B=Xe[D].Ve,I=Xe[D].Re),V=n,r)},e.$e=(e,t,r)=>{let s,i=r,o=0;if(!t||42!=n)return We;if(3>i)return 0;for(i>f-et&&(i=f-et,o=r-i),u.set(t.subarray(o,o+i),0),C=i,k=i,p=255&u[0],p=(p<<g^255&u[1])&b,s=0;i-3>=s;s++)p=(p<<g^255&u[s+2])&b,h[s&l]=d[p],d[p]=s;return 0},e.Ze=(r,i)=>{let o,w,m,I,R;if(i>4||0>i)return We;if(!r.et||!r.tt&&0!==r.je||n==$e&&4!=i)return r.Fe=Ye[4],We;if(0===r.nt)return r.Fe=Ye[7],-5;var B;if(t=r,I=c,c=i,42==n&&(w=8+(a-8<<4)<<8,m=(D-1&255)>>1,m>3&&(m=3),w|=m<<6,0!==C&&(w|=32),w+=31-w%31,n=Ze,J((B=w)>>8&255),J(255&B)),0!==e.pending){if(t.We(),0===t.nt)return c=-1,0}else if(0===t.je&&I>=i&&4!=i)return t.Fe=Ye[7],-5;if(n==$e&&0!==t.je)return r.Fe=Ye[7],-5;if(0!==t.je||0!==A||0!=i&&n!=$e){switch(R=-1,Xe[D].Be){case 0:R=(e=>{let n,r=65535;for(r>s-5&&(r=s-5);;){if(1>=A){if(ie(),0===A&&0==e)return 0;if(0===A)break}if(C+=A,A=0,n=k+r,(0===C||C>=n)&&(A=C-n,C=n,se(!1),0===t.nt))return 0;if(C-k>=f-et&&(se(!1),0===t.nt))return 0}return se(4==e),0===t.nt?4==e?2:0:4==e?3:1})(i);break;case 1:R=(e=>{let n,r=0;for(;;){if(et>A){if(ie(),et>A&&0==e)return 0;if(0===A)break}if(3>A||(p=(p<<g^255&u[C+2])&b,r=65535&d[p],h[C&l]=d[p],d[p]=C),0===r||(C-r&65535)>f-et||2!=V&&(v=oe(r)),3>v)n=ee(0,255&u[C]),A--,C++;else if(n=ee(C-x,v-3),A-=v,v>P||3>A)C+=v,v=0,p=255&u[C],p=(p<<g^255&u[C+1])&b;else{v--;do{C++,p=(p<<g^255&u[C+2])&b,r=65535&d[p],h[C&l]=d[p],d[p]=C}while(0!=--v);C++}if(n&&(se(!1),0===t.nt))return 0}return se(4==e),0===t.nt?4==e?2:0:4==e?3:1})(i);break;case 2:R=(e=>{let n,r,s=0;for(;;){if(et>A){if(ie(),et>A&&0==e)return 0;if(0===A)break}if(3>A||(p=(p<<g^255&u[C+2])&b,s=65535&d[p],h[C&l]=d[p],d[p]=C),_=v,S=x,v=2,0!==s&&P>_&&f-et>=(C-s&65535)&&(2!=V&&(v=oe(s)),5>=v&&(1==V||3==v&&C-x>4096)&&(v=2)),3>_||v>_)if(0!==z){if(n=ee(0,255&u[C-1]),n&&se(!1),C++,A--,0===t.nt)return 0}else z=1,C++,A--;else{r=C+A-3,n=ee(C-1-S,_-3),A-=_-1,_-=2;do{++C>r||(p=(p<<g^255&u[C+2])&b,s=65535&d[p],h[C&l]=d[p],d[p]=C)}while(0!=--_);if(z=0,v=2,C++,n&&(se(!1),0===t.nt))return 0}}return 0!==z&&(n=ee(0,255&u[C-1]),z=0),se(4==e),0===t.nt?4==e?2:0:4==e?3:1})(i)}if(2!=R&&3!=R||(n=$e),0==R||2==R)return 0===t.nt&&(c=-1),0;if(1==R){if(1==i)X(2,3),Y(256,qe.Ie),$(),9>1+H+10-F&&(X(2,3),Y(256,qe.Ie),$()),H=7;else if(re(0,0,!1),3==i)for(o=0;y>o;o++)d[o]=0;if(t.We(),0===t.nt)return c=-1,0}}return 4!=i?0:1}}function rt(){const e=this;e.rt=0,e.st=0,e.je=0,e.Ge=0,e.nt=0,e.Je=0}function st(e){const t=new rt,n=(o=e&&e.chunkSize?e.chunkSize:65536)+5*(r.floor(o/16383)+1);var o;const c=new i(n);let f=e?e.level:-1;void 0===f&&(f=-1),t.Le(f),t.et=c,this.append=(e,r)=>{let o,f,a=0,l=0,u=0;const w=[];if(e.length){t.rt=0,t.tt=e,t.je=e.length;do{if(t.st=0,t.nt=n,o=t.Ze(0),0!=o)throw new s("deflating: "+t.Fe);t.st&&(t.st==n?w.push(new i(c)):w.push(c.subarray(0,t.st))),u+=t.st,r&&t.rt>0&&t.rt!=a&&(r(t.rt),a=t.rt)}while(t.je>0||0===t.nt);return w.length>1?(f=new i(u),w.forEach((e=>{f.set(e,l),l+=e.length}))):f=w[0]?new i(w[0]):new i,f}},this.flush=()=>{let e,r,o=0,f=0;const a=[];do{if(t.st=0,t.nt=n,e=t.Ze(4),1!=e&&0!=e)throw new s("deflating: "+t.Fe);n-t.nt>0&&a.push(c.slice(0,t.st)),f+=t.st}while(t.je>0||0===t.nt);return t.Xe(),r=new i(f),a.forEach((e=>{r.set(e,o),o+=e.length})),r}}rt.prototype={Le(e,t){const n=this;return n.qe=new nt,t||(t=Oe),n.qe.Le(n,e,t)},Ze(e){const t=this;return t.qe?t.qe.Ze(t,e):We},Xe(){const e=this;if(!e.qe)return We;const t=e.qe.Xe();return e.qe=null,t},Ye(e,t){const n=this;return n.qe?n.qe.Ye(n,e,t):We},$e(e,t){const n=this;return n.qe?n.qe.$e(n,e,t):We},He(e,t,n){const r=this;let s=r.je;return s>n&&(s=n),0===s?0:(r.je-=s,e.set(r.tt.subarray(r.rt,r.rt+s),t),r.rt+=s,r.Ge+=s,s)},We(){const e=this;let t=e.qe.pending;t>e.nt&&(t=e.nt),0!==t&&(e.et.set(e.qe.Ne.subarray(e.qe.Qe,e.qe.Qe+t),e.st),e.st+=t,e.qe.Qe+=t,e.Je+=t,e.nt-=t,e.qe.pending-=t,0===e.qe.pending&&(e.qe.Qe=0))}};const it=0,ot=1,ct=-2,ft=-3,at=-4,lt=-5,ut=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],wt=1440,ht=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],dt=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],pt=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],yt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],mt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],bt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],gt=15;function kt(){let e,t,n,r,s,i;function o(e,t,o,c,f,a,l,u,w,h,d){let p,y,m,b,g,k,v,S,z,C,x,A,_,I,P;C=0,g=o;do{n[e[t+C]]++,C++,g--}while(0!==g);if(n[0]==o)return l[0]=-1,u[0]=0,it;for(S=u[0],k=1;gt>=k&&0===n[k];k++);for(v=k,k>S&&(S=k),g=gt;0!==g&&0===n[g];g--);for(m=g,S>g&&(S=g),u[0]=S,I=1<<k;g>k;k++,I<<=1)if(0>(I-=n[k]))return ft;if(0>(I-=n[g]))return ft;for(n[g]+=I,i[1]=k=0,C=1,_=2;0!=--g;)i[_]=k+=n[C],_++,C++;g=0,C=0;do{0!==(k=e[t+C])&&(d[i[k]++]=g),C++}while(++g<o);for(o=i[m],i[0]=g=0,C=0,b=-1,A=-S,s[0]=0,x=0,P=0;m>=v;v++)for(p=n[v];0!=p--;){for(;v>A+S;){if(b++,A+=S,P=m-A,P=P>S?S:P,(y=1<<(k=v-A))>p+1&&(y-=p+1,_=v,P>k))for(;++k<P&&(y<<=1)>n[++_];)y-=n[_];if(P=1<<k,h[0]+P>wt)return ft;s[b]=x=h[0],h[0]+=P,0!==b?(i[b]=g,r[0]=k,r[1]=S,k=g>>>A-S,r[2]=x-s[b-1]-k,w.set(r,3*(s[b-1]+k))):l[0]=x}for(r[1]=v-A,o>C?d[C]<c?(r[0]=256>d[C]?0:96,r[2]=d[C++]):(r[0]=a[d[C]-c]+16+64,r[2]=f[d[C++]-c]):r[0]=192,y=1<<v-A,k=g>>>A;P>k;k+=y)w.set(r,3*(x+k));for(k=1<<v-1;g&k;k>>>=1)g^=k;for(g^=k,z=(1<<A)-1;(g&z)!=i[b];)b--,A-=S,z=(1<<A)-1}return 0!==I&&1!=m?lt:it}function c(o){let c;for(e||(e=[],t=[],n=new f(gt+1),r=[],s=new f(gt),i=new f(gt+1)),t.length<o&&(t=[]),c=0;o>c;c++)t[c]=0;for(c=0;gt+1>c;c++)n[c]=0;for(c=0;3>c;c++)r[c]=0;s.set(n.subarray(0,gt),0),i.set(n.subarray(0,gt+1),0)}this.it=(n,r,s,i,f)=>{let a;return c(19),e[0]=0,a=o(n,0,19,19,null,null,s,r,i,e,t),a==ft?f.Fe="oversubscribed dynamic bit lengths tree":a!=lt&&0!==r[0]||(f.Fe="incomplete dynamic bit lengths tree",a=ft),a},this.ot=(n,r,s,i,f,a,l,u,w)=>{let h;return c(288),e[0]=0,h=o(s,0,n,257,pt,yt,a,i,u,e,t),h!=it||0===i[0]?(h==ft?w.Fe="oversubscribed literal/length tree":h!=at&&(w.Fe="incomplete literal/length tree",h=ft),h):(c(288),h=o(s,n,r,0,mt,bt,l,f,u,e,t),h!=it||0===f[0]&&n>257?(h==ft?w.Fe="oversubscribed distance tree":h==lt?(w.Fe="incomplete distance tree",h=ft):h!=at&&(w.Fe="empty distance tree with lengths",h=ft),h):it)}}kt.ct=(e,t,n,r)=>(e[0]=9,t[0]=5,n[0]=ht,r[0]=dt,it);const vt=0,St=1,zt=2,Ct=3,xt=4,At=5,_t=6,It=7,Pt=8,Dt=9;function Vt(){const e=this;let t,n,r,s,i=0,o=0,c=0,f=0,a=0,l=0,u=0,w=0,h=0,d=0;function p(e,t,n,r,s,i,o,c){let f,a,l,u,w,h,d,p,y,m,b,g,k,v,S,z;d=c.rt,p=c.je,w=o.ft,h=o.lt,y=o.write,m=y<o.read?o.read-y-1:o.end-y,b=ut[e],g=ut[t];do{for(;20>h;)p--,w|=(255&c.ut(d++))<<h,h+=8;if(f=w&b,a=n,l=r,z=3*(l+f),0!==(u=a[z]))for(;;){if(w>>=a[z+1],h-=a[z+1],16&u){for(u&=15,k=a[z+2]+(w&ut[u]),w>>=u,h-=u;15>h;)p--,w|=(255&c.ut(d++))<<h,h+=8;for(f=w&g,a=s,l=i,z=3*(l+f),u=a[z];;){if(w>>=a[z+1],h-=a[z+1],16&u){for(u&=15;u>h;)p--,w|=(255&c.ut(d++))<<h,h+=8;if(v=a[z+2]+(w&ut[u]),w>>=u,h-=u,m-=k,v>y){S=y-v;do{S+=o.end}while(0>S);if(u=o.end-S,k>u){if(k-=u,y-S>0&&u>y-S)do{o.wt[y++]=o.wt[S++]}while(0!=--u);else o.wt.set(o.wt.subarray(S,S+u),y),y+=u,S+=u,u=0;S=0}}else S=y-v,y-S>0&&2>y-S?(o.wt[y++]=o.wt[S++],o.wt[y++]=o.wt[S++],k-=2):(o.wt.set(o.wt.subarray(S,S+2),y),y+=2,S+=2,k-=2);if(y-S>0&&k>y-S)do{o.wt[y++]=o.wt[S++]}while(0!=--k);else o.wt.set(o.wt.subarray(S,S+k),y),y+=k,S+=k,k=0;break}if(64&u)return c.Fe="invalid distance code",k=c.je-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ft=w,o.lt=h,c.je=p,c.Ge+=d-c.rt,c.rt=d,o.write=y,ft;f+=a[z+2],f+=w&ut[u],z=3*(l+f),u=a[z]}break}if(64&u)return 32&u?(k=c.je-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ft=w,o.lt=h,c.je=p,c.Ge+=d-c.rt,c.rt=d,o.write=y,ot):(c.Fe="invalid literal/length code",k=c.je-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ft=w,o.lt=h,c.je=p,c.Ge+=d-c.rt,c.rt=d,o.write=y,ft);if(f+=a[z+2],f+=w&ut[u],z=3*(l+f),0===(u=a[z])){w>>=a[z+1],h-=a[z+1],o.wt[y++]=a[z+2],m--;break}}else w>>=a[z+1],h-=a[z+1],o.wt[y++]=a[z+2],m--}while(m>=258&&p>=10);return k=c.je-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ft=w,o.lt=h,c.je=p,c.Ge+=d-c.rt,c.rt=d,o.write=y,it}e.init=(e,i,o,c,f,a)=>{t=vt,u=e,w=i,r=o,h=c,s=f,d=a,n=null},e.ht=(e,y,m)=>{let b,g,k,v,S,z,C,x=0,A=0,_=0;for(_=y.rt,v=y.je,x=e.ft,A=e.lt,S=e.write,z=S<e.read?e.read-S-1:e.end-S;;)switch(t){case vt:if(z>=258&&v>=10&&(e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,m=p(u,w,r,h,s,d,e,y),_=y.rt,v=y.je,x=e.ft,A=e.lt,S=e.write,z=S<e.read?e.read-S-1:e.end-S,m!=it)){t=m==ot?It:Dt;break}c=u,n=r,o=h,t=St;case St:for(b=c;b>A;){if(0===v)return e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,e.dt(y,m);m=it,v--,x|=(255&y.ut(_++))<<A,A+=8}if(g=3*(o+(x&ut[b])),x>>>=n[g+1],A-=n[g+1],k=n[g],0===k){f=n[g+2],t=_t;break}if(16&k){a=15&k,i=n[g+2],t=zt;break}if(!(64&k)){c=k,o=g/3+n[g+2];break}if(32&k){t=It;break}return t=Dt,y.Fe="invalid literal/length code",m=ft,e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,e.dt(y,m);case zt:for(b=a;b>A;){if(0===v)return e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,e.dt(y,m);m=it,v--,x|=(255&y.ut(_++))<<A,A+=8}i+=x&ut[b],x>>=b,A-=b,c=w,n=s,o=d,t=Ct;case Ct:for(b=c;b>A;){if(0===v)return e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,e.dt(y,m);m=it,v--,x|=(255&y.ut(_++))<<A,A+=8}if(g=3*(o+(x&ut[b])),x>>=n[g+1],A-=n[g+1],k=n[g],16&k){a=15&k,l=n[g+2],t=xt;break}if(!(64&k)){c=k,o=g/3+n[g+2];break}return t=Dt,y.Fe="invalid distance code",m=ft,e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,e.dt(y,m);case xt:for(b=a;b>A;){if(0===v)return e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,e.dt(y,m);m=it,v--,x|=(255&y.ut(_++))<<A,A+=8}l+=x&ut[b],x>>=b,A-=b,t=At;case At:for(C=S-l;0>C;)C+=e.end;for(;0!==i;){if(0===z&&(S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z&&(e.write=S,m=e.dt(y,m),S=e.write,z=S<e.read?e.read-S-1:e.end-S,S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z)))return e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,e.dt(y,m);e.wt[S++]=e.wt[C++],z--,C==e.end&&(C=0),i--}t=vt;break;case _t:if(0===z&&(S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z&&(e.write=S,m=e.dt(y,m),S=e.write,z=S<e.read?e.read-S-1:e.end-S,S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z)))return e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,e.dt(y,m);m=it,e.wt[S++]=f,z--,t=vt;break;case It:if(A>7&&(A-=8,v++,_--),e.write=S,m=e.dt(y,m),S=e.write,z=S<e.read?e.read-S-1:e.end-S,e.read!=e.write)return e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,e.dt(y,m);t=Pt;case Pt:return m=ot,e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,e.dt(y,m);case Dt:return m=ft,e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,e.dt(y,m);default:return m=ct,e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,e.dt(y,m)}},e.yt=()=>{}}const Rt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Bt=0,Et=1,Mt=2,Ut=3,Kt=4,Nt=5,Ot=6,Tt=7,Wt=8,jt=9;function Ht(e,t){const n=this;let r,s=Bt,o=0,c=0,a=0;const l=[0],u=[0],w=new Vt;let h=0,d=new f(3*wt);const p=new kt;n.lt=0,n.ft=0,n.wt=new i(t),n.end=t,n.read=0,n.write=0,n.reset=(e,t)=>{t&&(t[0]=0),s==Ot&&w.yt(e),s=Bt,n.lt=0,n.ft=0,n.read=n.write=0},n.reset(e,null),n.dt=(e,t)=>{let r,s,i;return s=e.st,i=n.read,r=(i>n.write?n.end:n.write)-i,r>e.nt&&(r=e.nt),0!==r&&t==lt&&(t=it),e.nt-=r,e.Je+=r,e.et.set(n.wt.subarray(i,i+r),s),s+=r,i+=r,i==n.end&&(i=0,n.write==n.end&&(n.write=0),r=n.write-i,r>e.nt&&(r=e.nt),0!==r&&t==lt&&(t=it),e.nt-=r,e.Je+=r,e.et.set(n.wt.subarray(i,i+r),s),s+=r,i+=r),e.st=s,n.read=i,t},n.ht=(e,t)=>{let i,f,y,m,b,g,k,v;for(m=e.rt,b=e.je,f=n.ft,y=n.lt,g=n.write,k=g<n.read?n.read-g-1:n.end-g;;){let S,z,C,x,A,_,I,P;switch(s){case Bt:for(;3>y;){if(0===b)return n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);t=it,b--,f|=(255&e.ut(m++))<<y,y+=8}switch(i=7&f,h=1&i,i>>>1){case 0:f>>>=3,y-=3,i=7&y,f>>>=i,y-=i,s=Et;break;case 1:S=[],z=[],C=[[]],x=[[]],kt.ct(S,z,C,x),w.init(S[0],z[0],C[0],0,x[0],0),f>>>=3,y-=3,s=Ot;break;case 2:f>>>=3,y-=3,s=Ut;break;case 3:return f>>>=3,y-=3,s=jt,e.Fe="invalid block type",t=ft,n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t)}break;case Et:for(;32>y;){if(0===b)return n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);t=it,b--,f|=(255&e.ut(m++))<<y,y+=8}if((~f>>>16&65535)!=(65535&f))return s=jt,e.Fe="invalid stored block lengths",t=ft,n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);o=65535&f,f=y=0,s=0!==o?Mt:0!==h?Tt:Bt;break;case Mt:if(0===b)return n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);if(0===k&&(g==n.end&&0!==n.read&&(g=0,k=g<n.read?n.read-g-1:n.end-g),0===k&&(n.write=g,t=n.dt(e,t),g=n.write,k=g<n.read?n.read-g-1:n.end-g,g==n.end&&0!==n.read&&(g=0,k=g<n.read?n.read-g-1:n.end-g),0===k)))return n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);if(t=it,i=o,i>b&&(i=b),i>k&&(i=k),n.wt.set(e.He(m,i),g),m+=i,b-=i,g+=i,k-=i,0!=(o-=i))break;s=0!==h?Tt:Bt;break;case Ut:for(;14>y;){if(0===b)return n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);t=it,b--,f|=(255&e.ut(m++))<<y,y+=8}if(c=i=16383&f,(31&i)>29||(i>>5&31)>29)return s=jt,e.Fe="too many length or distance symbols",t=ft,n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);if(i=258+(31&i)+(i>>5&31),!r||r.length<i)r=[];else for(v=0;i>v;v++)r[v]=0;f>>>=14,y-=14,a=0,s=Kt;case Kt:for(;4+(c>>>10)>a;){for(;3>y;){if(0===b)return n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);t=it,b--,f|=(255&e.ut(m++))<<y,y+=8}r[Rt[a++]]=7&f,f>>>=3,y-=3}for(;19>a;)r[Rt[a++]]=0;if(l[0]=7,i=p.it(r,l,u,d,e),i!=it)return(t=i)==ft&&(r=null,s=jt),n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);a=0,s=Nt;case Nt:for(;i=c,258+(31&i)+(i>>5&31)>a;){let o,w;for(i=l[0];i>y;){if(0===b)return n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);t=it,b--,f|=(255&e.ut(m++))<<y,y+=8}if(i=d[3*(u[0]+(f&ut[i]))+1],w=d[3*(u[0]+(f&ut[i]))+2],16>w)f>>>=i,y-=i,r[a++]=w;else{for(v=18==w?7:w-14,o=18==w?11:3;i+v>y;){if(0===b)return n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);t=it,b--,f|=(255&e.ut(m++))<<y,y+=8}if(f>>>=i,y-=i,o+=f&ut[v],f>>>=v,y-=v,v=a,i=c,v+o>258+(31&i)+(i>>5&31)||16==w&&1>v)return r=null,s=jt,e.Fe="invalid bit length repeat",t=ft,n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);w=16==w?r[v-1]:0;do{r[v++]=w}while(0!=--o);a=v}}if(u[0]=-1,A=[],_=[],I=[],P=[],A[0]=9,_[0]=6,i=c,i=p.ot(257+(31&i),1+(i>>5&31),r,A,_,I,P,d,e),i!=it)return i==ft&&(r=null,s=jt),t=i,n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);w.init(A[0],_[0],d,I[0],d,P[0]),s=Ot;case Ot:if(n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,(t=w.ht(n,e,t))!=ot)return n.dt(e,t);if(t=it,w.yt(e),m=e.rt,b=e.je,f=n.ft,y=n.lt,g=n.write,k=g<n.read?n.read-g-1:n.end-g,0===h){s=Bt;break}s=Tt;case Tt:if(n.write=g,t=n.dt(e,t),g=n.write,k=g<n.read?n.read-g-1:n.end-g,n.read!=n.write)return n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);s=Wt;case Wt:return t=ot,n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);case jt:return t=ft,n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);default:return t=ct,n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t)}}},n.yt=e=>{n.reset(e,null),n.wt=null,d=null},n.bt=(e,t,r)=>{n.wt.set(e.subarray(t,t+r),0),n.read=n.write=r},n.gt=()=>s==Et?1:0}const Lt=13,Ft=[0,0,255,255];function qt(){const e=this;function t(e){return e&&e.kt?(e.Ge=e.Je=0,e.Fe=null,e.kt.mode=7,e.kt.vt.reset(e,null),it):ct}e.mode=0,e.method=0,e.St=[0],e.zt=0,e.marker=0,e.Ct=0,e.xt=t=>(e.vt&&e.vt.yt(t),e.vt=null,it),e.At=(n,r)=>(n.Fe=null,e.vt=null,8>r||r>15?(e.xt(n),ct):(e.Ct=r,n.kt.vt=new Ht(n,1<<r),t(n),it)),e._t=(e,t)=>{let n,r;if(!e||!e.kt||!e.tt)return ct;const s=e.kt;for(t=4==t?lt:it,n=lt;;)switch(s.mode){case 0:if(0===e.je)return n;if(n=t,e.je--,e.Ge++,8!=(15&(s.method=e.ut(e.rt++)))){s.mode=Lt,e.Fe="unknown compression method",s.marker=5;break}if(8+(s.method>>4)>s.Ct){s.mode=Lt,e.Fe="invalid win size",s.marker=5;break}s.mode=1;case 1:if(0===e.je)return n;if(n=t,e.je--,e.Ge++,r=255&e.ut(e.rt++),((s.method<<8)+r)%31!=0){s.mode=Lt,e.Fe="incorrect header check",s.marker=5;break}if(!(32&r)){s.mode=7;break}s.mode=2;case 2:if(0===e.je)return n;n=t,e.je--,e.Ge++,s.zt=(255&e.ut(e.rt++))<<24&4278190080,s.mode=3;case 3:if(0===e.je)return n;n=t,e.je--,e.Ge++,s.zt+=(255&e.ut(e.rt++))<<16&16711680,s.mode=4;case 4:if(0===e.je)return n;n=t,e.je--,e.Ge++,s.zt+=(255&e.ut(e.rt++))<<8&65280,s.mode=5;case 5:return 0===e.je?n:(n=t,e.je--,e.Ge++,s.zt+=255&e.ut(e.rt++),s.mode=6,2);case 6:return s.mode=Lt,e.Fe="need dictionary",s.marker=0,ct;case 7:if(n=s.vt.ht(e,n),n==ft){s.mode=Lt,s.marker=0;break}if(n==it&&(n=t),n!=ot)return n;n=t,s.vt.reset(e,s.St),s.mode=12;case 12:return e.je=0,ot;case Lt:return ft;default:return ct}},e.It=(e,t,n)=>{let r=0,s=n;if(!e||!e.kt||6!=e.kt.mode)return ct;const i=e.kt;return s<1<<i.Ct||(s=(1<<i.Ct)-1,r=n-s),i.vt.bt(t,r,s),i.mode=7,it},e.Pt=e=>{let n,r,s,i,o;if(!e||!e.kt)return ct;const c=e.kt;if(c.mode!=Lt&&(c.mode=Lt,c.marker=0),0===(n=e.je))return lt;for(r=e.rt,s=c.marker;0!==n&&4>s;)e.ut(r)==Ft[s]?s++:s=0!==e.ut(r)?0:4-s,r++,n--;return e.Ge+=r-e.rt,e.rt=r,e.je=n,c.marker=s,4!=s?ft:(i=e.Ge,o=e.Je,t(e),e.Ge=i,e.Je=o,c.mode=7,it)},e.Dt=e=>e&&e.kt&&e.kt.vt?e.kt.vt.gt():ct}function Gt(){}function Jt(e){const t=new Gt,n=e&&e.chunkSize?r.floor(2*e.chunkSize):131072,o=new i(n);let c=!1;t.At(),t.et=o,this.append=(e,r)=>{const f=[];let a,l,u=0,w=0,h=0;if(0!==e.length){t.rt=0,t.tt=e,t.je=e.length;do{if(t.st=0,t.nt=n,0!==t.je||c||(t.rt=0,c=!0),a=t._t(0),c&&a===lt){if(0!==t.je)throw new s("inflating: bad input")}else if(a!==it&&a!==ot)throw new s("inflating: "+t.Fe);if((c||a===ot)&&t.je===e.length)throw new s("inflating: bad input");t.st&&(t.st===n?f.push(new i(o)):f.push(o.subarray(0,t.st))),h+=t.st,r&&t.rt>0&&t.rt!=u&&(r(t.rt),u=t.rt)}while(t.je>0||0===t.nt);return f.length>1?(l=new i(h),f.forEach((e=>{l.set(e,w),w+=e.length}))):l=f[0]?new i(f[0]):new i,l}},this.flush=()=>{t.xt()}}Gt.prototype={At(e){const t=this;return t.kt=new qt,e||(e=15),t.kt.At(t,e)},_t(e){const t=this;return t.kt?t.kt._t(t,e):ct},xt(){const e=this;if(!e.kt)return ct;const t=e.kt.xt(e);return e.kt=null,t},Pt(){const e=this;return e.kt?e.kt.Pt(e):ct},It(e,t){const n=this;return n.kt?n.kt.It(n,e,t):ct},ut(e){return this.tt[e]},He(e,t){return this.tt.subarray(e,e+t)}},self.initCodec=()=>{self.Deflate=st,self.Inflate=Jt};
`,s=()=>e.useDataURI?"data:text/javascript,"+encodeURIComponent(n):URL.createObjectURL(new Blob([n],{type:"text/javascript"}));t({workerScripts:{inflate:[s],deflate:[s]}})}const $Ee="Writer iterator completed too soon",FEe="Content-Type",BEe=64*1024,IP="writable";class sx{constructor(){this.size=0}init(){this.initialized=!0}}class ix extends sx{get readable(){const e=this,{chunkSize:n=BEe}=e,s=new ReadableStream({start(){this.chunkOffset=0},async pull(i){const{offset:r=0,size:o,diskNumberStart:a}=s,{chunkOffset:l}=this;i.enqueue(await Xn(e,r+l,Math.min(n,o-l),a)),l+n>o?i.close():this.chunkOffset+=n}});return s}}class HEe extends ix{constructor(e){super(),Object.assign(this,{blob:e,size:e.size})}async readUint8Array(e,n){const s=this,i=e+n;let o=await(e||i<s.size?s.blob.slice(e,i):s.blob).arrayBuffer();return o.byteLength>n&&(o=o.slice(e,i)),new Uint8Array(o)}}class GEe extends sx{constructor(e){super();const n=this,s=new TransformStream,i=[];e&&i.push([FEe,e]),Object.defineProperty(n,IP,{get(){return s.writable}}),n.blob=new Response(s.readable,{headers:i}).blob()}getData(){return this.blob}}class zEe extends GEe{constructor(e){super(e),Object.assign(this,{encoding:e,utf8:!e||e.toLowerCase()=="utf-8"})}async getData(){const{encoding:e,utf8:n}=this,s=await super.getData();if(s.text&&n)return s.text();{const i=new FileReader;return new Promise((r,o)=>{Object.assign(i,{onload:({target:a})=>r(a.result),onerror:()=>o(i.error)}),i.readAsText(s,e)})}}}class VEe extends ix{constructor(e){super(),Object.assign(this,{array:e,size:e.length})}readUint8Array(e,n){return this.array.slice(e,e+n)}}class jEe extends ix{constructor(e){super(),this.readers=e}async init(){const e=this,{readers:n}=e;e.lastDiskNumber=0,e.lastDiskOffset=0,await Promise.all(n.map(async(s,i)=>{await s.init(),i!=n.length-1&&(e.lastDiskOffset+=s.size),e.size+=s.size})),super.init()}async readUint8Array(e,n,s=0){const i=this,{readers:r}=this;let o,a=s;a==-1&&(a=r.length-1);let l=e;for(;l>=r[a].size;)l-=r[a].size,a++;const c=r[a],u=c.size;if(l+n<=u)o=await Xn(c,l,n);else{const d=u-l;o=new Uint8Array(n),o.set(await Xn(c,l,d)),o.set(await i.readUint8Array(e+d,n-d,s),d)}return i.lastDiskNumber=Math.max(a,i.lastDiskNumber),o}}class Q3 extends sx{constructor(e,n=4294967295){super();const s=this;Object.assign(s,{diskNumber:0,diskOffset:0,size:0,maxSize:n,availableSize:n});let i,r,o;const a=new WritableStream({async write(u){const{availableSize:d}=s;if(o)u.length>=d?(await l(u.slice(0,d)),await c(),s.diskOffset+=i.size,s.diskNumber++,o=null,await this.write(u.slice(d))):await l(u);else{const{value:f,done:h}=await e.next();if(h&&!f)throw new Error($Ee);i=f,i.size=0,i.maxSize&&(s.maxSize=i.maxSize),s.availableSize=s.maxSize,await Ym(i),r=f.writable,o=r.getWriter(),await this.write(u)}},async close(){await o.ready,await c()}});Object.defineProperty(s,IP,{get(){return a}});async function l(u){const d=u.length;d&&(await o.ready,await o.write(u),i.size+=d,s.size+=d,s.availableSize-=d)}async function c(){r.size=i.size,await o.close()}}}async function Ym(t,e){if(t.init&&!t.initialized)await t.init(e);else return Promise.resolve()}function WEe(t){return Array.isArray(t)&&(t=new jEe(t)),t instanceof ReadableStream&&(t={readable:t}),t}function qEe(t){t.writable===fs&&typeof t.next==Yf&&(t=new Q3(t)),t instanceof WritableStream&&(t={writable:t});const{writable:e}=t;return e.size===fs&&(e.size=0),t instanceof Q3||Object.assign(t,{diskNumber:0,diskOffset:0,availableSize:1/0,maxSize:1/0}),t}function Xn(t,e,n,s){return t.readUint8Array(e,n,s)}const OP="\0 !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ ".split(""),XEe=OP.length==256;function KEe(t){if(XEe){let e="";for(let n=0;n<t.length;n++)e+=OP[t[n]];return e}else return new TextDecoder().decode(t)}function om(t,e){return e&&e.trim().toLowerCase()=="cp437"?KEe(t):new TextDecoder(e).decode(t)}const LP="filename",DP="rawFilename",NP="comment",UP="rawComment",$P="uncompressedSize",FP="compressedSize",BP="offset",Sb="diskNumberStart",Tb="lastModDate",Ab="rawLastModDate",HP="lastAccessDate",YEe="rawLastAccessDate",GP="creationDate",ZEe="rawCreationDate",JEe="internalFileAttribute",QEe="externalFileAttribute",eSe="msDosCompatible",tSe="zip64",nSe=[LP,DP,FP,$P,Tb,Ab,NP,UP,HP,GP,BP,Sb,Sb,JEe,QEe,eSe,tSe,"directory","bitFlag","encrypted","signature","filenameUTF8","commentUTF8","compressionMethod","version","versionMadeBy","extraField","rawExtraField","extraFieldZip64","extraFieldUnicodePath","extraFieldUnicodeComment","extraFieldAES","extraFieldNTFS","extraFieldExtendedTimestamp"];class eM{constructor(e){nSe.forEach(n=>this[n]=e[n])}}const c1="File format is not recognized",sSe="End of central directory not found",iSe="End of Zip64 central directory locator not found",rSe="Central directory header not found",oSe="Local file header not found",aSe="Zip64 extra field not found",lSe="File contains encrypted entry",cSe="Encryption method not supported",tM="Compression method not supported",nM="Split zip file",sM="utf-8",iM="cp437",uSe=[[$P,il],[FP,il],[BP,il],[Sb,ko]],dSe={[ko]:{getValue:mn,bytes:4},[il]:{getValue:am,bytes:8}};class fSe{constructor(e,n={}){Object.assign(this,{reader:WEe(e),options:n,config:Y2e()})}async*getEntriesGenerator(e={}){const n=this;let{reader:s}=n;const{config:i}=n;if(await Ym(s),(s.size===fs||!s.readUint8Array)&&(s=new HEe(await new Response(s.readable).blob()),await Ym(s)),s.size<ic)throw new Error(c1);s.chunkSize=Z2e(i);const r=await ySe(s,N2e,s.size,ic,ko*16);if(!r){const S=await Xn(s,0,4),C=Ln(S);throw mn(C)==D2e?new Error(nM):new Error(sSe)}const o=Ln(r);let a=mn(o,12),l=mn(o,16);const c=r.offset,u=On(o,20),d=c+ic+u;let f=On(o,4);const h=s.lastDiskNumber||0;let y=On(o,6),_=On(o,8),p=0,g=0;if(l==il||a==il||_==ko||y==ko){const S=await Xn(s,r.offset-s1,s1),C=Ln(S);if(mn(C,0)==U2e){l=am(C,8);let N=await Xn(s,l,i1,-1),G=Ln(N);const O=r.offset-s1-i1;if(mn(G,0)!=D3&&l!=O){const P=l;l=O,p=l-P,N=await Xn(s,l,i1,-1),G=Ln(N)}if(mn(G,0)!=D3)throw new Error(iSe);f==ko&&(f=mn(G,16)),y==ko&&(y=mn(G,20)),_==ko&&(_=am(G,32)),a==il&&(a=am(G,40)),l-=a}}if(l>=s.size&&(p=s.size-l-a-ic,l=s.size-a-ic),h!=f)throw new Error(nM);if(l<0)throw new Error(c1);let b=0,v=await Xn(s,l,a,y),w=Ln(v);if(a){const S=r.offset-a;if(mn(w,b)!=L3&&l!=S){const C=l;l=S,p+=l-C,v=await Xn(s,l,a,y),w=Ln(v)}}const A=r.offset-l-(s.lastDiskOffset||0);if(a!=A&&A>=0&&(a=A,v=await Xn(s,l,a,y),w=Ln(v)),l<0||l>=s.size)throw new Error(c1);const x=ys(n,e,"filenameEncoding"),T=ys(n,e,"commentEncoding");for(let S=0;S<_;S++){const C=new hSe(s,i,n.options);if(mn(w,b)!=L3)throw new Error(rSe);zP(C,w,b+6);const N=!!C.bitFlag.languageEncodingFlag,G=b+46,O=G+C.filenameLength,P=O+C.extraFieldLength,k=On(w,b+4),F=(k&0)==0,I=v.subarray(G,O),ee=On(w,b+32),Y=P+ee,me=v.subarray(P,Y),ge=N,Ce=N,le=F&&(Hc(w,b+38)&F3)==F3,_e=mn(w,b+42)+p;Object.assign(C,{versionMadeBy:k,msDosCompatible:F,compressedSize:0,uncompressedSize:0,commentLength:ee,directory:le,offset:_e,diskNumberStart:On(w,b+34),internalFileAttribute:On(w,b+36),externalFileAttribute:mn(w,b+38),rawFilename:I,filenameUTF8:ge,commentUTF8:Ce,rawExtraField:v.subarray(O,P)});const Ie=ys(n,e,"decodeText")||om,ne=ge?sM:x||iM,Me=Ce?sM:T||iM;let Te=Ie(I,ne);Te===fs&&(Te=om(I,ne));let ke=Ie(me,Me);ke===fs&&(ke=om(me,Me)),Object.assign(C,{rawComment:me,filename:Te,comment:ke,directory:le||Te.endsWith(q2e)}),g=Math.max(_e,g),await VP(C,C,w,b+6);const ze=new eM(C);ze.getData=(B,z)=>C.getData(B,ze,z),b=Y;const{onprogress:V}=e;if(V)try{await V(S+1,_,new eM(C))}catch{}yield ze}const M=ys(n,e,"extractPrependedData"),E=ys(n,e,"extractAppendedData");return M&&(n.prependedData=g>0?await Xn(s,0,g):new Uint8Array),n.comment=u?await Xn(s,c+ic,u):new Uint8Array,E&&(n.appendedData=d<s.size?await Xn(s,d,s.size-d):new Uint8Array),!0}async getEntries(e={}){const n=[];for await(const s of this.getEntriesGenerator(e))n.push(s);return n}async close(){}}class hSe{constructor(e,n,s){Object.assign(this,{reader:e,config:n,options:s})}async getData(e,n,s={}){const i=this,{reader:r,offset:o,diskNumberStart:a,extraFieldAES:l,compressionMethod:c,config:u,bitFlag:d,signature:f,rawLastModDate:h,uncompressedSize:y,compressedSize:_}=i,p=n.localDirectory={},g=await Xn(r,o,30,a),b=Ln(g);let v=ys(i,s,"password"),w=ys(i,s,"rawPassword");if(v=v&&v.length&&v,w=w&&w.length&&w,l&&l.originalCompressionMethod!=O2e)throw new Error(tM);if(c!=I2e&&c!=P2e)throw new Error(tM);if(mn(b,0)!=L2e)throw new Error(oSe);zP(p,b,4),p.rawExtraField=p.extraFieldLength?await Xn(r,o+30+p.filenameLength,p.extraFieldLength,a):new Uint8Array,await VP(i,p,b,4,!0),Object.assign(n,{lastAccessDate:p.lastAccessDate,creationDate:p.creationDate});const A=i.encrypted&&p.encrypted,x=A&&!l;if(A){if(!x&&l.strength===fs)throw new Error(cSe);if(!v&&!w)throw new Error(lSe)}const T=o+30+p.filenameLength+p.extraFieldLength,M=_,E=r.readable;Object.assign(E,{diskNumberStart:a,offset:T,size:M});const S=ys(i,s,"signal"),C=ys(i,s,"checkPasswordOnly");C&&(e=new WritableStream),e=qEe(e),await Ym(e,y);const{writable:N}=e,{onstart:G,onprogress:O,onend:P}=s,k={options:{codecType:CP,password:v,rawPassword:w,zipCrypto:x,encryptionStrength:l&&l.strength,signed:ys(i,s,"checkSignature"),passwordVerification:x&&(d.dataDescriptor?h>>>8&255:f>>>24&255),signature:f,compressed:c!=0,encrypted:A,useWebWorkers:ys(i,s,"useWebWorkers"),useCompressionStream:ys(i,s,"useCompressionStream"),transferStreams:ys(i,s,"transferStreams"),checkPasswordOnly:C},config:u,streamOptions:{signal:S,size:M,onstart:G,onprogress:O,onend:P}};let F=0;try{({outputSize:F}=await DEe({readable:E,writable:N},k))}catch(I){if(!C||I.message!=ex)throw I}finally{const I=ys(i,s,"preventClose");N.size+=F,!I&&!N.locked&&await N.getWriter().close()}return C?fs:e.getData?e.getData():N}}function zP(t,e,n){const s=t.rawBitFlag=On(e,n+2),i=(s&N3)==N3,r=mn(e,n+6);Object.assign(t,{encrypted:i,version:On(e,n),bitFlag:{level:(s&W2e)>>1,dataDescriptor:(s&U3)==U3,languageEncodingFlag:(s&$3)==$3},rawLastModDate:r,lastModDate:bSe(r),filenameLength:On(e,n+22),extraFieldLength:On(e,n+24)})}async function VP(t,e,n,s,i){const{rawExtraField:r}=e,o=e.extraField=new Map,a=Ln(new Uint8Array(r));let l=0;try{for(;l<r.length;){const g=On(a,l),b=On(a,l+2);o.set(g,{type:g,data:r.slice(l+4,l+4+b)}),l+=4+b}}catch{}const c=On(n,s+4);Object.assign(e,{signature:mn(n,s+10),uncompressedSize:mn(n,s+18),compressedSize:mn(n,s+14)});const u=o.get($2e);u&&(pSe(u,e),e.extraFieldZip64=u);const d=o.get(z2e);d&&(await rM(d,LP,DP,e,t),e.extraFieldUnicodePath=d);const f=o.get(V2e);f&&(await rM(f,NP,UP,e,t),e.extraFieldUnicodeComment=f);const h=o.get(F2e);h?(mSe(h,e,c),e.extraFieldAES=h):e.compressionMethod=c;const y=o.get(B2e);y&&(gSe(y,e),e.extraFieldNTFS=y);const _=o.get(G2e);_&&(_Se(_,e,i),e.extraFieldExtendedTimestamp=_);const p=o.get(j2e);p&&(e.extraFieldUSDZ=p)}function pSe(t,e){e.zip64=!0;const n=Ln(t.data),s=uSe.filter(([i,r])=>e[i]==r);for(let i=0,r=0;i<s.length;i++){const[o,a]=s[i];if(e[o]==a){const l=dSe[a];e[o]=t[o]=l.getValue(n,r),r+=l.bytes}else if(t[o])throw new Error(aSe)}}async function rM(t,e,n,s,i){const r=Ln(t.data),o=new Xm;o.append(i[n]);const a=Ln(new Uint8Array(4));a.setUint32(0,o.get(),!0);const l=mn(r,1);Object.assign(t,{version:Hc(r,0),[e]:om(t.data.subarray(5)),valid:!i.bitFlag.languageEncodingFlag&&l==mn(a,0)}),t.valid&&(s[e]=t[e],s[e+"UTF8"]=!0)}function mSe(t,e,n){const s=Ln(t.data),i=Hc(s,4);Object.assign(t,{vendorVersion:Hc(s,0),vendorId:Hc(s,2),strength:i,originalCompressionMethod:n,compressionMethod:On(s,5)}),e.compressionMethod=t.compressionMethod}function gSe(t,e){const n=Ln(t.data);let s=4,i;try{for(;s<t.data.length&&!i;){const r=On(n,s),o=On(n,s+2);r==H2e&&(i=t.data.slice(s+4,s+4+o)),s+=4+o}}catch{}try{if(i&&i.length==24){const r=Ln(i),o=r.getBigUint64(0,!0),a=r.getBigUint64(8,!0),l=r.getBigUint64(16,!0);Object.assign(t,{rawLastModDate:o,rawLastAccessDate:a,rawCreationDate:l});const c=u1(o),u=u1(a),d=u1(l),f={lastModDate:c,lastAccessDate:u,creationDate:d};Object.assign(t,f),Object.assign(e,f)}}catch{}}function _Se(t,e,n){const s=Ln(t.data),i=Hc(s,0),r=[],o=[];n?((i&1)==1&&(r.push(Tb),o.push(Ab)),(i&2)==2&&(r.push(HP),o.push(YEe)),(i&4)==4&&(r.push(GP),o.push(ZEe))):t.data.length>=5&&(r.push(Tb),o.push(Ab));let a=1;r.forEach((l,c)=>{if(t.data.length>=a+4){const u=mn(s,a);e[l]=t[l]=new Date(u*1e3);const d=o[c];t[d]=u}a+=4})}async function ySe(t,e,n,s,i){const r=new Uint8Array(4),o=Ln(r);vSe(o,0,e);const a=s+i;return await l(s)||await l(Math.min(a,n));async function l(c){const u=n-c,d=await Xn(t,u,c);for(let f=d.length-s;f>=0;f--)if(d[f]==r[0]&&d[f+1]==r[1]&&d[f+2]==r[2]&&d[f+3]==r[3])return{offset:u+f,buffer:d.slice(f,f+s).buffer}}}function ys(t,e,n){return e[n]===fs?t.options[n]:e[n]}function bSe(t){const e=(t&4294901760)>>16,n=t&65535;try{return new Date(1980+((e&65024)>>9),((e&480)>>5)-1,e&31,(n&63488)>>11,(n&2016)>>5,(n&31)*2,0)}catch{}}function u1(t){return new Date(Number(t/BigInt(1e4)-BigInt(116444736e5)))}function Hc(t,e){return t.getUint8(e)}function On(t,e){return t.getUint16(e,!0)}function mn(t,e){return t.getUint32(e,!0)}function am(t,e){return Number(t.getBigUint64(e,!0))}function vSe(t,e,n){t.setUint32(e,n,!0)}function Ln(t){return new DataView(t.buffer)}let jP;try{jP=import.meta.url}catch{}Qw({baseURL:jP});UEe(Qw);Qw({Deflate:c2e,Inflate:k2e});const Ra={owner:"BossHobby",repo:"QUICKSILVER"},wSe={owner:"BossHobby",repo:"Configurator"},xSe="https://cors.bubblesort.me/?",ESe=[["Origin","http://localhost"],["X-Requested-With","XMLHttpRequest"]],SSe=336407,TSe=`-----BEGIN PRIVATE KEY-----
MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQCjm+/HBlaUmeHs
JuPNoLR/llQ+HmyZEdkP7ia6hF232WKRyGtwKAWWI1mAFle/m4L1I6FQQhh4uCqn
8uG01Ex+bBd6C6ecu214tx3xMTnmyh4MqUzjUYmEdcSZ3VjGJwU8J8yyXpfu7H8O
JgK5ibk6AX5qh45VvhjYRbZKLnILrMvOPJ6Y0H31FnucO6SZo7ZZnRK3C6O+Qi/w
0cHmtuQCVk4QOL+oCJIW0QNM2NYVrZY5OJc0lpbMuXmaEG8tIb2qUP0kwcX2oGMg
p68amMS3TXTH3Odc2mYhtLIoPhVyrVXyYHjcdp67vHJfomXcvW4E+TcxckBFwgI5
iHIDIr+XAgMBAAECggEAB8LtBA8L6m7GZfKOWgHmrirOgkflNPnAx12v3qdK3t7k
KzBL0H1FjpLMuyPUM9XHx6NSEsGf8ZIjC+acyHxNyK2OC48j+250ygY92GRSb91k
wYsCh8IlePAxTG9Qt83AFNN6hXexU3dKq7wn4u9ipxrNCXa2zOCAwznDZQ+A/4a2
jlIkMN9hqkwnTttkdGDo1gDO/U5lWIHO513vXhqvMXt76j2ekAShs2gGBpBvs+wn
/tyBJDIrSXcMCy4nwE4sDpPTpBcR2NF4wgxkjGBRphQzzBM2q0eNftlRmOlzNe/V
AdldCElnQNYvVmASMcKi+Iz6D7rgpCNU4AU/u8mGcQKBgQDX97mOPHM9Ox9a33RC
P10ifubVzQORBop2rkHsDGGWqTH/06ygUXF/OkPljVWJLhYGrXExiUnO9F7y0+lI
TsVLeqdgUwHqnrR+A78J+2kOQZHe2zD9dSgjrNhANL7lJfNMbat1d9m89a6Cc4cJ
gEpiShocw2T6DLs1+AQ2z0KPvwKBgQDB76as+S2IY9nYxR65E8LlTCAhPOrz7gzp
075MQb/+Ch7WnenX5UWpNtIAI5orXLGBTKoAP7x6eWLiJ4vxjj/C5szBI4nYjZT6
JkiGGRqhmD8DVWi+eG9Ah5FlK1IOLa4vQdCwlhBx7xtYM/UbfWZjKUu+ZWk4JB0x
luUAvLTGKQKBgDR3+Nq3kP/FR17afvJBVq00y3wR7NXlEuq2d0mT0Hm77WvLz1q7
rqlMTIaOicNkMPG6XY+9XPMsp4yzMy/gA0rNJ7DdOc/4cr1Sx6zzKZjPEVNlSUeq
mO/h5D/lEKO3Tp643jkRvxKLVbRXwOzsACZU/ncSeYvOYAVCljOCsxcdAoGBAI5a
A4UJ7gMkD96Oaku9lpxKsXbUST29qVrlItTEmlG1SgeMp/3h+60GYUTa3SohAuX+
yPYf0pAvk4afMpifKmw8j2ThWihLXGP1P9y2hpbAstgWlCjjK/44xF93WeawXx+u
9qj3raCDuxWWJb8E3+e/gyqBM6eS0p74vKU63pJpAoGBAJVWaujxxkojAoVwbs0R
n/vvwY6snT2EgTGFaHllXtQAHkhoonqPQ0W+4NoM7KnZPDQcKERNrYJQkK+YKTnl
p9r9s032bxaycq7WAPoQAisit0zIt0iZzS6xDew0PIq0g4DjH0GG/y25gtx5MFcr
zM39Lg5JAtecNMRkjep4XQdR
-----END PRIVATE KEY-----`;class ASe{constructor(){Z(this,"_octokit")}async kit(){if(this._octokit)return this._octokit;const n=await new Wxe({appId:SSe,privateKey:TSe}).getInstallationOctokit(37707080);return this._octokit=n}async fetchReleases(){const s=(await(await this.kit()).rest.repos.listReleases(Ra)).data.filter(r=>r.assets.length>0),i={};for(const r of s)i[r.tag_name]=r.assets;return i}async fetchArtifacts(e){const n=await this.kit();return n.rest.actions.listWorkflowRunsForRepo({...Ra,branch:e,per_page:1,status:"success"}).then(s=>s.data.total_count==0?[]:n.rest.actions.listWorkflowRunArtifacts({...Ra,run_id:s.data.workflow_runs[0].id,per_page:100}).then(i=>i.data.artifacts))}async fetchVersion(e,n){return(await this.kit()).rest.repos.getContent({...e,path:"VERSION",ref:n}).then(i=>{var r,o;return(r=i==null?void 0:i.data)!=null&&r.content?atob((o=i.data)==null?void 0:o.content).trim():"v0.0.0"}).catch(()=>"v0.0.0")}async fetchBranches(){const s=(await(await this.kit()).rest.repos.listBranches(Ra)).data.map(r=>Promise.all([this.fetchArtifacts(r.name),this.fetchVersion(Ra,r.name)]).then(([o,a])=>({name:r.name,commit:r.commit.sha,version:a,artifacts:o}))),i={};for(const r of await Promise.all(s))r.artifacts.length!=0&&(i[r.name]=r);return i}async fetchPullRequests(){const s=(await(await this.kit()).rest.pulls.list({...Ra,state:"open"})).data.map(r=>Promise.all([this.fetchArtifacts(r.head.ref),this.fetchVersion({owner:r.head.repo.owner.login,repo:r.head.repo.name},r.head.ref)]).then(([o,a])=>({name:r.head.label,commit:r.head.sha,version:a,artifacts:o}))),i={};for(const r of await Promise.all(s))r.artifacts.length!=0&&(i[r.name]=r);return i}findNewVersion(e,n){for(const s of e)if(Ss.gt(s,n))return s;return null}async checkForUpdate(e){const i=(await(await this.kit()).rest.repos.listReleases(wSe)).data.filter(a=>a.assets.length>0&&Ss.valid(a.tag_name)),r=i.map(a=>a.tag_name),o=this.findNewVersion(r,e);return o?i.find(a=>a.tag_name==o):null}fetchAsset(e){const n=`${xSe}${e.browser_download_url}`;return fetch(n,{headers:ESe})}async fetchArtifact(e){const s=await(await this.kit()).rest.actions.downloadArtifact({...Ra,artifact_id:e.id,archive_format:"zip"}),i=new fSe(new VEe(new Uint8Array(s.data))),r=(await i.getEntries()).shift();if(!r)return;const o=await r.getData(new zEe);return await i.close(),o}}const kr=new ASe,oM="https://raw.githubusercontent.com/BossHobby/Targets/targets/",MSe=es("flash",{state:()=>({releases:{},branches:{},pullRequests:{},targets:[],manufacturers:{}}),actions:{fetchTargets(){return fetch(oM+"_index.json").then(t=>t.json()).then(t=>{this.targets=t.targets,this.manufacturers=t.manufacturers})},fetchReleases(){return kr.fetchReleases().then(t=>this.releases=t)},fetchBranches(){return kr.fetchBranches().then(t=>this.branches=t)},fetchPullRequests(){return kr.fetchPullRequests().then(t=>this.pullRequests=t)},async fetch(t){switch(this.targets.length==0&&await this.fetchTargets(),t){case"release":return this.fetchReleases();case"branch":return this.fetchBranches();case"pull_request":return this.fetchPullRequests()}},fetchRuntimeConfig(t){return fetch(oM+t+".yaml").then(e=>e.ok?e.text():Promise.reject(e)).then(e=>zr.parse(e)).then(e=>Up.encode(e))}}});function Xr(t){return Array.isArray?Array.isArray(t):XP(t)==="[object Array]"}const RSe=1/0;function CSe(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-RSe?"-0":e}function kSe(t){return t==null?"":CSe(t)}function Xi(t){return typeof t=="string"}function WP(t){return typeof t=="number"}function PSe(t){return t===!0||t===!1||ISe(t)&&XP(t)=="[object Boolean]"}function qP(t){return typeof t=="object"}function ISe(t){return qP(t)&&t!==null}function Bs(t){return t!=null}function d1(t){return!t.trim().length}function XP(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const OSe="Incorrect 'index' type",LSe=t=>`Invalid value for key ${t}`,DSe=t=>`Pattern length exceeds max of ${t}.`,NSe=t=>`Missing ${t} property in key`,USe=t=>`Property 'weight' in key '${t}' must be a positive integer`,aM=Object.prototype.hasOwnProperty;class $Se{constructor(e){this._keys=[],this._keyMap={};let n=0;e.forEach(s=>{let i=KP(s);this._keys.push(i),this._keyMap[i.id]=i,n+=i.weight}),this._keys.forEach(s=>{s.weight/=n})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function KP(t){let e=null,n=null,s=null,i=1,r=null;if(Xi(t)||Xr(t))s=t,e=lM(t),n=Mb(t);else{if(!aM.call(t,"name"))throw new Error(NSe("name"));const o=t.name;if(s=o,aM.call(t,"weight")&&(i=t.weight,i<=0))throw new Error(USe(o));e=lM(o),n=Mb(o),r=t.getFn}return{path:e,id:n,weight:i,src:s,getFn:r}}function lM(t){return Xr(t)?t:t.split(".")}function Mb(t){return Xr(t)?t.join("."):t}function FSe(t,e){let n=[],s=!1;const i=(r,o,a)=>{if(Bs(r))if(!o[a])n.push(r);else{let l=o[a];const c=r[l];if(!Bs(c))return;if(a===o.length-1&&(Xi(c)||WP(c)||PSe(c)))n.push(kSe(c));else if(Xr(c)){s=!0;for(let u=0,d=c.length;u<d;u+=1)i(c[u],o,a+1)}else o.length&&i(c,o,a+1)}};return i(t,Xi(e)?e.split("."):e,0),s?n:n[0]}const BSe={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},HSe={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},GSe={location:0,threshold:.6,distance:100},zSe={useExtendedSearch:!1,getFn:FSe,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var dt={...HSe,...BSe,...GSe,...zSe};const VSe=/[^ ]+/g;function jSe(t=1,e=3){const n=new Map,s=Math.pow(10,e);return{get(i){const r=i.match(VSe).length;if(n.has(r))return n.get(r);const o=1/Math.pow(r,.5*t),a=parseFloat(Math.round(o*s)/s);return n.set(r,a),a},clear(){n.clear()}}}class rx{constructor({getFn:e=dt.getFn,fieldNormWeight:n=dt.fieldNormWeight}={}){this.norm=jSe(n,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((n,s)=>{this._keysMap[n.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Xi(this.docs[0])?this.docs.forEach((e,n)=>{this._addString(e,n)}):this.docs.forEach((e,n)=>{this._addObject(e,n)}),this.norm.clear())}add(e){const n=this.size();Xi(e)?this._addString(e,n):this._addObject(e,n)}removeAt(e){this.records.splice(e,1);for(let n=e,s=this.size();n<s;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(e,n){return e[this._keysMap[n]]}size(){return this.records.length}_addString(e,n){if(!Bs(e)||d1(e))return;let s={v:e,i:n,n:this.norm.get(e)};this.records.push(s)}_addObject(e,n){let s={i:n,$:{}};this.keys.forEach((i,r)=>{let o=i.getFn?i.getFn(e):this.getFn(e,i.path);if(Bs(o)){if(Xr(o)){let a=[];const l=[{nestedArrIndex:-1,value:o}];for(;l.length;){const{nestedArrIndex:c,value:u}=l.pop();if(Bs(u))if(Xi(u)&&!d1(u)){let d={v:u,i:c,n:this.norm.get(u)};a.push(d)}else Xr(u)&&u.forEach((d,f)=>{l.push({nestedArrIndex:f,value:d})})}s.$[r]=a}else if(Xi(o)&&!d1(o)){let a={v:o,n:this.norm.get(o)};s.$[r]=a}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}}function YP(t,e,{getFn:n=dt.getFn,fieldNormWeight:s=dt.fieldNormWeight}={}){const i=new rx({getFn:n,fieldNormWeight:s});return i.setKeys(t.map(KP)),i.setSources(e),i.create(),i}function WSe(t,{getFn:e=dt.getFn,fieldNormWeight:n=dt.fieldNormWeight}={}){const{keys:s,records:i}=t,r=new rx({getFn:e,fieldNormWeight:n});return r.setKeys(s),r.setIndexRecords(i),r}function Ep(t,{errors:e=0,currentLocation:n=0,expectedLocation:s=0,distance:i=dt.distance,ignoreLocation:r=dt.ignoreLocation}={}){const o=e/t.length;if(r)return o;const a=Math.abs(s-n);return i?o+a/i:a?1:o}function qSe(t=[],e=dt.minMatchCharLength){let n=[],s=-1,i=-1,r=0;for(let o=t.length;r<o;r+=1){let a=t[r];a&&s===-1?s=r:!a&&s!==-1&&(i=r-1,i-s+1>=e&&n.push([s,i]),s=-1)}return t[r-1]&&r-s>=e&&n.push([s,r-1]),n}const Ba=32;function XSe(t,e,n,{location:s=dt.location,distance:i=dt.distance,threshold:r=dt.threshold,findAllMatches:o=dt.findAllMatches,minMatchCharLength:a=dt.minMatchCharLength,includeMatches:l=dt.includeMatches,ignoreLocation:c=dt.ignoreLocation}={}){if(e.length>Ba)throw new Error(DSe(Ba));const u=e.length,d=t.length,f=Math.max(0,Math.min(s,d));let h=r,y=f;const _=a>1||l,p=_?Array(d):[];let g;for(;(g=t.indexOf(e,y))>-1;){let T=Ep(e,{currentLocation:g,expectedLocation:f,distance:i,ignoreLocation:c});if(h=Math.min(T,h),y=g+u,_){let M=0;for(;M<u;)p[g+M]=1,M+=1}}y=-1;let b=[],v=1,w=u+d;const A=1<<u-1;for(let T=0;T<u;T+=1){let M=0,E=w;for(;M<E;)Ep(e,{errors:T,currentLocation:f+E,expectedLocation:f,distance:i,ignoreLocation:c})<=h?M=E:w=E,E=Math.floor((w-M)/2+M);w=E;let S=Math.max(1,f-E+1),C=o?d:Math.min(f+E,d)+u,N=Array(C+2);N[C+1]=(1<<T)-1;for(let O=C;O>=S;O-=1){let P=O-1,k=n[t.charAt(P)];if(_&&(p[P]=+!!k),N[O]=(N[O+1]<<1|1)&k,T&&(N[O]|=(b[O+1]|b[O])<<1|1|b[O+1]),N[O]&A&&(v=Ep(e,{errors:T,currentLocation:P,expectedLocation:f,distance:i,ignoreLocation:c}),v<=h)){if(h=v,y=P,y<=f)break;S=Math.max(1,2*f-y)}}if(Ep(e,{errors:T+1,currentLocation:f,expectedLocation:f,distance:i,ignoreLocation:c})>h)break;b=N}const x={isMatch:y>=0,score:Math.max(.001,v)};if(_){const T=qSe(p,a);T.length?l&&(x.indices=T):x.isMatch=!1}return x}function KSe(t){let e={};for(let n=0,s=t.length;n<s;n+=1){const i=t.charAt(n);e[i]=(e[i]||0)|1<<s-n-1}return e}class ZP{constructor(e,{location:n=dt.location,threshold:s=dt.threshold,distance:i=dt.distance,includeMatches:r=dt.includeMatches,findAllMatches:o=dt.findAllMatches,minMatchCharLength:a=dt.minMatchCharLength,isCaseSensitive:l=dt.isCaseSensitive,ignoreLocation:c=dt.ignoreLocation}={}){if(this.options={location:n,threshold:s,distance:i,includeMatches:r,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:l,ignoreLocation:c},this.pattern=l?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const u=(f,h)=>{this.chunks.push({pattern:f,alphabet:KSe(f),startIndex:h})},d=this.pattern.length;if(d>Ba){let f=0;const h=d%Ba,y=d-h;for(;f<y;)u(this.pattern.substr(f,Ba),f),f+=Ba;if(h){const _=d-Ba;u(this.pattern.substr(_),_)}}else u(this.pattern,0)}searchIn(e){const{isCaseSensitive:n,includeMatches:s}=this.options;if(n||(e=e.toLowerCase()),this.pattern===e){let y={isMatch:!0,score:0};return s&&(y.indices=[[0,e.length-1]]),y}const{location:i,distance:r,threshold:o,findAllMatches:a,minMatchCharLength:l,ignoreLocation:c}=this.options;let u=[],d=0,f=!1;this.chunks.forEach(({pattern:y,alphabet:_,startIndex:p})=>{const{isMatch:g,score:b,indices:v}=XSe(e,y,_,{location:i+p,distance:r,threshold:o,findAllMatches:a,minMatchCharLength:l,includeMatches:s,ignoreLocation:c});g&&(f=!0),d+=b,g&&v&&(u=[...u,...v])});let h={isMatch:f,score:f?d/this.chunks.length:1};return f&&s&&(h.indices=u),h}}class ua{constructor(e){this.pattern=e}static isMultiMatch(e){return cM(e,this.multiRegex)}static isSingleMatch(e){return cM(e,this.singleRegex)}search(){}}function cM(t,e){const n=t.match(e);return n?n[1]:null}class YSe extends ua{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const n=e===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class ZSe extends ua{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const s=e.indexOf(this.pattern)===-1;return{isMatch:s,score:s?0:1,indices:[0,e.length-1]}}}class JSe extends ua{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const n=e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class QSe extends ua{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const n=!e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class eTe extends ua{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const n=e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class tTe extends ua{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const n=!e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class JP extends ua{constructor(e,{location:n=dt.location,threshold:s=dt.threshold,distance:i=dt.distance,includeMatches:r=dt.includeMatches,findAllMatches:o=dt.findAllMatches,minMatchCharLength:a=dt.minMatchCharLength,isCaseSensitive:l=dt.isCaseSensitive,ignoreLocation:c=dt.ignoreLocation}={}){super(e),this._bitapSearch=new ZP(e,{location:n,threshold:s,distance:i,includeMatches:r,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:l,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class QP extends ua{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let n=0,s;const i=[],r=this.pattern.length;for(;(s=e.indexOf(this.pattern,n))>-1;)n=s+r,i.push([s,n-1]);const o=!!i.length;return{isMatch:o,score:o?0:1,indices:i}}}const Rb=[YSe,QP,JSe,QSe,tTe,eTe,ZSe,JP],uM=Rb.length,nTe=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,sTe="|";function iTe(t,e={}){return t.split(sTe).map(n=>{let s=n.trim().split(nTe).filter(r=>r&&!!r.trim()),i=[];for(let r=0,o=s.length;r<o;r+=1){const a=s[r];let l=!1,c=-1;for(;!l&&++c<uM;){const u=Rb[c];let d=u.isMultiMatch(a);d&&(i.push(new u(d,e)),l=!0)}if(!l)for(c=-1;++c<uM;){const u=Rb[c];let d=u.isSingleMatch(a);if(d){i.push(new u(d,e));break}}}return i})}const rTe=new Set([JP.type,QP.type]);class oTe{constructor(e,{isCaseSensitive:n=dt.isCaseSensitive,includeMatches:s=dt.includeMatches,minMatchCharLength:i=dt.minMatchCharLength,ignoreLocation:r=dt.ignoreLocation,findAllMatches:o=dt.findAllMatches,location:a=dt.location,threshold:l=dt.threshold,distance:c=dt.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:s,minMatchCharLength:i,findAllMatches:o,ignoreLocation:r,location:a,threshold:l,distance:c},this.pattern=n?e:e.toLowerCase(),this.query=iTe(this.pattern,this.options)}static condition(e,n){return n.useExtendedSearch}searchIn(e){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:s,isCaseSensitive:i}=this.options;e=i?e:e.toLowerCase();let r=0,o=[],a=0;for(let l=0,c=n.length;l<c;l+=1){const u=n[l];o.length=0,r=0;for(let d=0,f=u.length;d<f;d+=1){const h=u[d],{isMatch:y,indices:_,score:p}=h.search(e);if(y){if(r+=1,a+=p,s){const g=h.constructor.type;rTe.has(g)?o=[...o,..._]:o.push(_)}}else{a=0,r=0,o.length=0;break}}if(r){let d={isMatch:!0,score:a/r};return s&&(d.indices=o),d}}return{isMatch:!1,score:1}}}const Cb=[];function aTe(...t){Cb.push(...t)}function kb(t,e){for(let n=0,s=Cb.length;n<s;n+=1){let i=Cb[n];if(i.condition(t,e))return new i(t,e)}return new ZP(t,e)}const Zm={AND:"$and",OR:"$or"},Pb={PATH:"$path",PATTERN:"$val"},Ib=t=>!!(t[Zm.AND]||t[Zm.OR]),lTe=t=>!!t[Pb.PATH],cTe=t=>!Xr(t)&&qP(t)&&!Ib(t),dM=t=>({[Zm.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function eI(t,e,{auto:n=!0}={}){const s=i=>{let r=Object.keys(i);const o=lTe(i);if(!o&&r.length>1&&!Ib(i))return s(dM(i));if(cTe(i)){const l=o?i[Pb.PATH]:r[0],c=o?i[Pb.PATTERN]:i[l];if(!Xi(c))throw new Error(LSe(l));const u={keyId:Mb(l),pattern:c};return n&&(u.searcher=kb(c,e)),u}let a={children:[],operator:r[0]};return r.forEach(l=>{const c=i[l];Xr(c)&&c.forEach(u=>{a.children.push(s(u))})}),a};return Ib(t)||(t=dM(t)),s(t)}function uTe(t,{ignoreFieldNorm:e=dt.ignoreFieldNorm}){t.forEach(n=>{let s=1;n.matches.forEach(({key:i,norm:r,score:o})=>{const a=i?i.weight:null;s*=Math.pow(o===0&&a?Number.EPSILON:o,(a||1)*(e?1:r))}),n.score=s})}function dTe(t,e){const n=t.matches;e.matches=[],Bs(n)&&n.forEach(s=>{if(!Bs(s.indices)||!s.indices.length)return;const{indices:i,value:r}=s;let o={indices:i,value:r};s.key&&(o.key=s.key.src),s.idx>-1&&(o.refIndex=s.idx),e.matches.push(o)})}function fTe(t,e){e.score=t.score}function hTe(t,e,{includeMatches:n=dt.includeMatches,includeScore:s=dt.includeScore}={}){const i=[];return n&&i.push(dTe),s&&i.push(fTe),t.map(r=>{const{idx:o}=r,a={item:e[o],refIndex:o};return i.length&&i.forEach(l=>{l(r,a)}),a})}class Bu{constructor(e,n={},s){this.options={...dt,...n},this.options.useExtendedSearch,this._keyStore=new $Se(this.options.keys),this.setCollection(e,s)}setCollection(e,n){if(this._docs=e,n&&!(n instanceof rx))throw new Error(OSe);this._myIndex=n||YP(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){Bs(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const n=[];for(let s=0,i=this._docs.length;s<i;s+=1){const r=this._docs[s];e(r,s)&&(this.removeAt(s),s-=1,i-=1,n.push(r))}return n}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:n=-1}={}){const{includeMatches:s,includeScore:i,shouldSort:r,sortFn:o,ignoreFieldNorm:a}=this.options;let l=Xi(e)?Xi(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return uTe(l,{ignoreFieldNorm:a}),r&&l.sort(o),WP(n)&&n>-1&&(l=l.slice(0,n)),hTe(l,this._docs,{includeMatches:s,includeScore:i})}_searchStringList(e){const n=kb(e,this.options),{records:s}=this._myIndex,i=[];return s.forEach(({v:r,i:o,n:a})=>{if(!Bs(r))return;const{isMatch:l,score:c,indices:u}=n.searchIn(r);l&&i.push({item:r,idx:o,matches:[{score:c,value:r,norm:a,indices:u}]})}),i}_searchLogical(e){const n=eI(e,this.options),s=(a,l,c)=>{if(!a.children){const{keyId:d,searcher:f}=a,h=this._findMatches({key:this._keyStore.get(d),value:this._myIndex.getValueForItemAtKeyId(l,d),searcher:f});return h&&h.length?[{idx:c,item:l,matches:h}]:[]}const u=[];for(let d=0,f=a.children.length;d<f;d+=1){const h=a.children[d],y=s(h,l,c);if(y.length)u.push(...y);else if(a.operator===Zm.AND)return[]}return u},i=this._myIndex.records,r={},o=[];return i.forEach(({$:a,i:l})=>{if(Bs(a)){let c=s(n,a,l);c.length&&(r[l]||(r[l]={idx:l,item:a,matches:[]},o.push(r[l])),c.forEach(({matches:u})=>{r[l].matches.push(...u)}))}}),o}_searchObjectList(e){const n=kb(e,this.options),{keys:s,records:i}=this._myIndex,r=[];return i.forEach(({$:o,i:a})=>{if(!Bs(o))return;let l=[];s.forEach((c,u)=>{l.push(...this._findMatches({key:c,value:o[u],searcher:n}))}),l.length&&r.push({idx:a,item:o,matches:l})}),r}_findMatches({key:e,value:n,searcher:s}){if(!Bs(n))return[];let i=[];if(Xr(n))n.forEach(({v:r,i:o,n:a})=>{if(!Bs(r))return;const{isMatch:l,score:c,indices:u}=s.searchIn(r);l&&i.push({score:c,key:e,value:r,idx:o,norm:a,indices:u})});else{const{v:r,n:o}=n,{isMatch:a,score:l,indices:c}=s.searchIn(r);a&&i.push({score:l,key:e,value:r,norm:o,indices:c})}return i}}Bu.version="7.0.0";Bu.createIndex=YP;Bu.parseIndex=WSe;Bu.config=dt;Bu.parseQuery=eI;aTe(oTe);const pTe=it({name:"Flash",setup(){return{root:tn(),flash:MSe(),serial:Hu()}},data(){return{loading:!0,dropdownHover:!1,dropdownActive:!1,sourceOptions:[{value:"release",text:"Release"},{value:"branch",text:"Development Branch"},{value:"pull_request",text:"Pull Request"},{value:"local",text:"Local"}],progress:[],source:"",release:void 0,branch:void 0,pullRequest:void 0,targetSearch:"",currentTarget:void 0,target:void 0,file:void 0}},watch:{async source(){this.loading=!0,await this.flash.fetch(this.source),this.loading=!1,this.release=this.pickRelease(),this.branch=this.branchOptions[0],this.pullRequest=this.pullRequestOptions[0],this.targetSearch="",this.target=void 0,this.file=void 0},release(){this.targetSearch="",this.target=void 0,this.file=void 0},branch(){this.targetSearch="",this.target=void 0,this.file=void 0},pullRequest(){this.targetSearch="",this.target=void 0,this.file=void 0}},computed:{branchOptions(){return Object.keys(this.flash.branches)},pullRequestOptions(){return Object.keys(this.flash.pullRequests)},releaseOptions(){return Object.keys(this.flash.releases)},commitHash(){const t=this.source=="branch"?this.flash.branches[this.branch||""]:this.flash.pullRequests[this.pullRequest||""];return t?t.commit.slice(0,8):""},isRuntimeTarget(){if(this.source=="release"&&this.release)return Np.satisfies(this.release,">=0.10.0-dev",{includePrerelease:!0});if(this.source=="branch"&&this.branch){const t=this.flash.branches[this.branch];return Np.satisfies(t.version,">=0.10.0-dev",{includePrerelease:!0})}if(this.source=="pull_request"&&this.pullRequest){const t=this.flash.pullRequests[this.pullRequest];return Np.satisfies(t.version,">=0.10.0-dev",{includePrerelease:!0})}return!1},targetOptions(){let t=[];if(this.isRuntimeTarget)t=this.flash.targets.map(n=>{const s=this.flash.manufacturers[n.manufacturer||"CUST"];return{value:n,text:`${s.name} / ${n.name}`}});else{let n=[];this.source=="release"&&this.release?n=this.flash.releases[this.release]||[]:this.source=="branch"&&this.branch?n=this.flash.branches[this.branch].artifacts||[]:this.source=="pull_request"&&this.pullRequest&&(n=this.flash.pullRequests[this.pullRequest].artifacts||[]),t=n.map(s=>({value:s,text:s.name.replace("quicksilver.","")}))}return this.targetSearch.length==0?t:new Bu(t,{includeScore:!1,keys:["text"]}).search(this.targetSearch).map(n=>n.item)},canFlash(){return this.loading?!1:this.source=="local"?!!this.file:!!this.target}},methods:{async resetToBootloader(){this.currentTarget=await this.serial.hard_reboot()},pickRelease(){return this.releaseOptions.find(t=>!t.endsWith("-dev")&&!t.includes("-rc"))},selectTarget(t){this.target=t.value,this.targetSearch=t.text,this.dropdownHover=!1,this.dropdownActive=!1},updateFile(){const t=this.$refs.file;t.files&&t.files.length?this.file=t.files[0]:this.file=void 0},fetchFirmware(){switch(this.source){case"local":return new Promise((t,e)=>{if(!this.file)return e();const n=new FileReader;n.addEventListener("load",s=>{var i;(i=s==null?void 0:s.target)!=null&&i.result?t(s.target.result):e()}),n.readAsText(this.file)});case"release":if(this.isRuntimeTarget&&this.release){const e=this.flash.releases[this.release].sort((n,s)=>n.name.length-s.name.length).find(n=>{var s;return n.name.includes((s=this.target)==null?void 0:s.mcu)});return kr.fetchAsset(e).then(n=>n.text())}return kr.fetchAsset(this.target).then(t=>t.text());case"branch":if(this.isRuntimeTarget&&this.branch){const e=this.flash.branches[this.branch].artifacts.sort((n,s)=>n.name.length-s.name.length).find(n=>{var s;return n.name.includes((s=this.target)==null?void 0:s.mcu)});return kr.fetchArtifact(e)}return kr.fetchArtifact(this.target);case"pull_request":if(this.isRuntimeTarget&&this.pullRequest){const e=this.flash.pullRequests[this.pullRequest].artifacts.sort((n,s)=>n.name.length-s.name.length).find(n=>{var s;return n.name.includes((s=this.target)==null?void 0:s.mcu)});return kr.fetchArtifact(e)}return kr.fetchArtifact(this.target);default:return Promise.resolve(void 0)}},updateProgress(t){const e={...this.progress};e[t.task]=t,this.progress=e},onSubmit(t){t.preventDefault(),this.loading=!0;const e=new Y0e;return e.onProgress(n=>this.updateProgress(n)),e.connect().then(()=>(this.updateProgress({task:"download",current:10,total:100}),this.fetchFirmware())).then(async n=>{if(!n)throw new Error("firmware not found");this.updateProgress({task:"download",current:90,total:100});const s=Gm.parse(n);if(this.isRuntimeTarget){const i=await this.flash.fetchRuntimeConfig(this.target.target);ut.info("Flash","injecting target ",this.target.target),s.patch(X0e[this.target.mcu],i)}return this.updateProgress({task:"download",current:100,total:100}),e.flash(s)}).then(()=>this.root.append_alert({type:"success",msg:"Firmware flashed!"})).catch(n=>{ut.error("Flash",n),this.root.append_alert({type:"danger",msg:"Flash failed!"})}).finally(()=>{this.progress=[],this.loading=!1})}},async created(){this.source="release"}}),mTe={class:"columns"},gTe={class:"card"},_Te={class:"card-header"},yTe={class:"card-header-title"},bTe={class:"card-content field-is-3"},vTe={key:0,class:"field is-horizontal"},wTe=m("div",{class:"field-label is-normal"},[m("label",{class:"label"}," Current Target ")],-1),xTe={class:"field-body"},ETe={class:"field"},STe={class:"control is-expanded"},TTe=["value"],ATe={class:"field is-horizontal"},MTe={class:"field-label is-normal"},RTe={class:"label"},CTe={class:"field-body"},kTe={class:"field is-narrow"},PTe={class:"control"},ITe={class:"select is-fullwidth"},OTe={key:1,class:"field is-horizontal"},LTe={class:"field-label is-medium"},DTe={class:"label"},NTe={class:"field-body"},UTe={class:"field"},$Te={class:"file-label"},FTe=["disabled"],BTe={class:"file-cta"},HTe={class:"file-icon"},GTe=m("span",{class:"file-label"}," Choose a file ",-1),zTe={key:0,class:"file-name"},VTe={key:2,class:"field is-horizontal"},jTe={class:"field-label is-normal"},WTe={class:"label"},qTe={class:"field-body"},XTe={class:"field is-narrow"},KTe={class:"control"},YTe={class:"select is-fullwidth"},ZTe={key:3,class:"field is-horizontal"},JTe={class:"field-label is-normal"},QTe={class:"label"},eAe={class:"field-body"},tAe={class:"field is-narrow"},nAe={class:"control"},sAe={class:"select is-fullwidth"},iAe={key:4,class:"field is-horizontal"},rAe={class:"field-label is-normal"},oAe={class:"label"},aAe={class:"field-body"},lAe={class:"field is-narrow"},cAe={class:"control"},uAe=["value"],dAe={key:5,class:"field is-horizontal"},fAe={class:"field-label is-normal"},hAe={class:"label"},pAe={class:"field-body"},mAe={class:"field is-narrow"},gAe={class:"control"},_Ae={class:"select is-fullwidth"},yAe={key:6,class:"field is-horizontal"},bAe={class:"field-label is-normal"},vAe={class:"label"},wAe={class:"field-body"},xAe={class:"field is-narrow"},EAe={class:"control"},SAe={class:"select is-fullwidth"},TAe={class:"dropdown-trigger"},AAe={class:"field"},MAe={class:"control is-expanded has-icons-right"},RAe=["disabled"],CAe={class:"dropdown-content"},kAe=["value","onClick"],PAe={class:"column is-2"},IAe={class:"column is-10"},OAe=["value","max"],LAe={class:"card-footer"};function DAe(t,e,n,s,i,r){const o=Le("tooltip"),a=Le("spinner-btn"),l=Le("input-select"),c=Le("font-awesome-icon");return Q(),re("div",mTe,[m("form",{class:"column is-12",onSubmit:e[11]||(e[11]=(...u)=>t.onSubmit&&t.onSubmit(...u))},[m("div",gTe,[m("div",_Te,[m("p",yTe,[we(" Flash "),J(o,{entry:"flash.reset"})]),J(a,{class:"card-header-button is-info",type:"button",onClick:e[0]||(e[0]=u=>t.resetToBootloader())},{default:tt(()=>[we(" Reset to Bootloader ")]),_:1})]),m("div",bTe,[t.currentTarget?(Q(),re("div",vTe,[wTe,m("div",xTe,[m("div",ETe,[m("div",STe,[m("input",{class:"input is-static",value:t.currentTarget,readonly:""},null,8,TTe)])])])])):Ve("",!0),m("div",ATe,[m("div",MTe,[m("label",RTe,[we(" Source "),J(o,{entry:"flash.source"})])]),m("div",CTe,[m("div",kTe,[m("div",PTe,[m("div",ITe,[J(l,{modelValue:t.source,"onUpdate:modelValue":e[1]||(e[1]=u=>t.source=u),options:t.sourceOptions,disabled:t.loading},null,8,["modelValue","options","disabled"])])])])])]),t.source=="local"?(Q(),re("div",OTe,[m("div",LTe,[m("label",DTe,[we(" File "),J(o,{entry:"flash.file-local"})])]),m("div",NTe,[m("div",UTe,[m("div",{class:cs(["file is-boxed is-medium",{"has-name":t.file}])},[m("label",$Te,[m("input",{class:"file-input",type:"file",onChange:e[2]||(e[2]=u=>t.updateFile()),ref:"file",accept:".hex",disabled:t.loading},null,40,FTe),m("span",BTe,[m("span",HTe,[J(c,{icon:"fa-solid fa-upload"})]),GTe]),t.file?(Q(),re("span",zTe,Fe(t.file.name),1)):Ve("",!0)])],2)])])])):Ve("",!0),t.source=="branch"?(Q(),re("div",VTe,[m("div",jTe,[m("label",WTe,[we(" Branch "),J(o,{entry:"flash.file-branch"})])]),m("div",qTe,[m("div",XTe,[m("div",KTe,[m("div",YTe,[J(l,{modelValue:t.branch,"onUpdate:modelValue":e[3]||(e[3]=u=>t.branch=u),options:t.branchOptions,disabled:t.loading},null,8,["modelValue","options","disabled"])])])])])])):Ve("",!0),t.source=="pull_request"?(Q(),re("div",ZTe,[m("div",JTe,[m("label",QTe,[we(" Pull Request "),J(o,{entry:"flash.file-pull-request"})])]),m("div",eAe,[m("div",tAe,[m("div",nAe,[m("div",sAe,[J(l,{modelValue:t.pullRequest,"onUpdate:modelValue":e[4]||(e[4]=u=>t.pullRequest=u),options:t.pullRequestOptions,disabled:t.loading},null,8,["modelValue","options","disabled"])])])])])])):Ve("",!0),t.source=="branch"||t.source=="pull_request"?(Q(),re("div",iAe,[m("div",rAe,[m("label",oAe,[we(" Commit "),J(o,{entry:"flash.file-commit"})])]),m("div",aAe,[m("div",lAe,[m("div",cAe,[m("input",{class:"input is-fullwidth is-static",type:"text",value:t.commitHash},null,8,uAe)])])])])):Ve("",!0),t.source=="release"?(Q(),re("div",dAe,[m("div",fAe,[m("label",hAe,[we(" Release "),J(o,{entry:"flash.file-release"})])]),m("div",pAe,[m("div",mAe,[m("div",gAe,[m("div",_Ae,[J(l,{modelValue:t.release,"onUpdate:modelValue":e[5]||(e[5]=u=>t.release=u),options:t.releaseOptions,disabled:t.loading},null,8,["modelValue","options","disabled"])])])])])])):Ve("",!0),t.source!="local"?(Q(),re("div",yAe,[m("div",bAe,[m("label",vAe,[we(" Target "),J(o,{entry:"flash.file-remote"})])]),m("div",wAe,[m("div",xAe,[m("div",EAe,[m("div",SAe,[m("div",{class:cs(["dropdown",{"is-active":t.dropdownActive||t.dropdownHover}])},[m("div",TAe,[m("div",AAe,[m("p",MAe,[qe(m("input",{class:"input is-fullwidth",type:"search",placeholder:"Search...","onUpdate:modelValue":e[6]||(e[6]=u=>t.targetSearch=u),onFocus:e[7]||(e[7]=u=>t.dropdownActive=!0),onBlur:e[8]||(e[8]=u=>t.dropdownActive=!1),disabled:t.loading},null,40,RAe),[[nt,t.targetSearch]])])])]),m("div",{class:"dropdown-menu",style:{"overflow-y":"auto","max-height":"50vh"},role:"menu",onMouseover:e[9]||(e[9]=u=>t.dropdownHover=!0),onMouseleave:e[10]||(e[10]=u=>t.dropdownHover=!1)},[m("div",CAe,[(Q(!0),re(ot,null,Bt(t.targetOptions,u=>(Q(),re("a",{key:u.value,value:u.value,class:cs(["dropdown-item",{"is-active":t.target==u}]),onClick:wL(d=>t.selectTarget(u),["prevent"])},Fe(u.text),11,kAe))),128))])],32)],2)])])])])])):Ve("",!0),(Q(!0),re(ot,null,Bt(t.progress,(u,d)=>(Q(),re("div",{key:d,class:"columns my-2 mx-2"},[m("div",PAe,Fe(d),1),m("div",IAe,[m("progress",{class:"progress is-primary",height:"20px",value:u.current,max:u.total},null,8,OAe)])]))),128))]),m("footer",LAe,[J(a,{class:cs(["card-footer-item",{"is-loading":t.loading}]),disabled:!t.canFlash,type:"submit"},{default:tt(()=>[we(" Flash ")]),_:1},8,["class","disabled"])])])],32)])}const NAe=ct(pTe,[["render",DAe]]),UAe=it({name:"Home",components:{Info:Ok},methods:{}});function $Ae(t,e,n,s,i,r){const o=Le("Info");return Q(),Vt(o)}const FAe=ct(UAe,[["render",$Ae]]),tI="https://raw.githubusercontent.com/BossHobby/Templates/develop-deploy/";function Ob(t){return tI+t}const BAe=es("templates",{state:()=>({index:[]}),actions:{fetch_templates(){return fetch(tI+"index.json").then(e=>e.json()).then(e=>{this.index=e.map(n=>(n.image&&(n.image=Ob(n.image)),n.profile=Ob(n.profile),n))})}}}),HAe=it({name:"TemplateModal",props:["template"],setup(){return{info:hn(),profile:Gt()}},data(){return{selected:{},tmpl:void 0}},watch:{template(t){this.updateTemplate(t)}},computed:{formValid(){var t;for(const e of((t=this.tmpl)==null?void 0:t.options)||[])if(!this.selected[e.name])return!1;return!0},selectedValues(){var e,n;const t={};for(const s of Object.keys(this.selected)){const i=(n=(e=this.tmpl)==null?void 0:e.options)==null?void 0:n.find(r=>r.name==s);i&&(t[s]=i.entries.find(r=>r.name==this.selected[s]))}return t}},methods:{updateTemplate(t){if(!t){this.tmpl=void 0;return}const e=JSON.parse(JSON.stringify(t)),n={};for(const s of e.options||[]){for(const i of s.entries)for(const r of Object.keys(i.selector||{}))if(i.selector[r].includes(this.info[r])){i.title+=" (auto-selected)",n[s.name]=i.name;break}if(!n[s.name]){const i=s.entries.find(r=>r.name==s.default);i&&(n[s.name]=s.default,i.title+=" (auto-selected)")}}this.tmpl=e,this.selected=n},async applyTemplate(){var e,n;if(!this.tmpl)return;const t=await fetch((e=this.tmpl)==null?void 0:e.profile).then(s=>s.text()).then(s=>zr.parse(s));for(const s of this.tmpl.options||[]){const i=s.entries.find(o=>o.name==this.selected[s.name]);if(!i)continue;const r=await fetch(Ob(i.file)).then(o=>o.text()).then(o=>zr.parse(o));ut.info("template","applying option",i.name),Em(t,r.profile)}if((n=this.tmpl)!=null&&n.mutations)for(const s of this.tmpl.mutations){const i=s.options.find(r=>Object.entries(r.selector).every(([o,a])=>a.includes(this.selected[o])));i&&(ut.info("template","applying mutation",i.name),Em(t,i.profile))}return this.profile.merge_profile(t)}},created(){this.updateTemplate(this.template)}}),GAe={key:0,class:"card my-5"},zAe={class:"card-content"},VAe={class:"title"},jAe={class:"is-3"},WAe={class:"is-size-5 has-text-weight-normal has-text-grey-lighter is-pulled-right"},qAe={class:"media"},XAe={class:"media-left"},KAe={class:"image",style:{width:"300px"}},YAe=["src"],ZAe={class:"media-content"},JAe={class:"m-2"},QAe=m("hr",null,null,-1),e3e={class:"field is-horizontal"},t3e={class:"field-label is-medium is-align-self-flex-start"},n3e={class:"label"},s3e={class:"is-size-5"},i3e={class:"field-body is-flex-grow-2"},r3e={class:"field"},o3e={class:"control mb-2"},a3e={class:"select is-fullwidth"},l3e=["onUpdate:modelValue"],c3e=["value"],u3e={key:0,class:"help is-danger"},d3e={key:1,class:"help has-text-grey-light"},f3e={class:"card-footer"},h3e=m("span",{class:"card-footer-item"},null,-1),p3e=m("span",{class:"card-footer-item"},null,-1),m3e=m("span",{class:"card-footer-item"},null,-1);function g3e(t,e,n,s,i,r){const o=Le("font-awesome-icon"),a=Le("tooltip"),l=Le("spinner-btn");return t.tmpl?(Q(),re("div",GAe,[m("div",zAe,[m("p",VAe,[m("span",jAe,Fe(t.tmpl.name),1),m("span",WAe,[J(o,{icon:"fa-regular fa-pen-to-square","fixed-width":""}),we(" by "+Fe(t.tmpl.author),1)])]),m("article",qAe,[m("figure",XAe,[m("p",KAe,[m("img",{src:t.tmpl.image},null,8,YAe)])]),m("div",ZAe,[m("p",JAe,Fe(t.tmpl.desc),1),QAe,(Q(!0),re(ot,null,Bt(t.tmpl.options,c=>{var u,d;return Q(),re("div",e3e,[m("div",t3e,[m("label",n3e,[m("span",s3e,Fe(c.title),1),J(a,{text:c.desc},null,8,["text"])])]),m("div",i3e,[m("div",r3e,[m("div",o3e,[m("div",a3e,[qe(m("select",{"onUpdate:modelValue":f=>t.selected[c.name]=f},[(Q(!0),re(ot,null,Bt(c.entries,f=>(Q(),re("option",{value:f.name},Fe(f.title),9,c3e))),256))],8,l3e),[[yg,t.selected[c.name]]])])]),t.selected[c.name]?Ve("",!0):(Q(),re("p",u3e," Please select an option! ")),(u=t.selectedValues[c.name])!=null&&u.desc?(Q(),re("p",d3e,Fe((d=t.selectedValues[c.name])==null?void 0:d.desc),1)):Ve("",!0)])])])}),256))])])]),m("footer",f3e,[h3e,p3e,m3e,J(l,{class:"card-footer-item is-primary",onClick:e[0]||(e[0]=c=>t.applyTemplate()),disabled:!t.formValid},{default:tt(()=>[we(" Apply ")]),_:1},8,["disabled"])])])):Ve("",!0)}const _3e=ct(HAe,[["render",g3e]]),y3e=it({name:"Templates",components:{TemplateCard:_3e},setup(){return{templates:BAe(),profile:Gt()}},created(){this.templates.fetch_templates()}}),b3e=t=>(xu("data-v-c380dbc8"),t=t(),Eu(),t),v3e=b3e(()=>m("section",{class:"hero is-primary"},[m("div",{class:"hero-body"},[m("h5",{class:"title is-5"}," Templates provide a way to apply configurations supplied by the community. ")])],-1));function w3e(t,e,n,s,i,r){const o=Le("TemplateCard");return Q(),re(ot,null,[v3e,(Q(!0),re(ot,null,Bt(t.templates.index,a=>(Q(),Vt(o,{key:a.name,template:a},null,8,["template"]))),128))],64)}const x3e=ct(y3e,[["render",w3e],["__scopeId","data-v-c380dbc8"]]),Rr=OD({history:cD("/develop/"),routes:[{path:"/",redirect:()=>Hu().is_connected?"/profile":"/home"},{path:"/home",name:"home",component:FAe},{path:"/templates",name:"templates",component:x3e},{path:"/flash",name:"flash",component:NAe},{path:"/profile",name:"profile",component:j0e},{path:"/setup",name:"setup",component:FZ},{path:"/rates",name:"rates",component:Bae},{path:"/receiver",name:"receiver",component:Zde},{path:"/osd",name:"osd",component:xpe},{path:"/motor",name:"motor",component:Dme},{path:"/blackbox",name:"blackbox",component:Tge},{path:"/state",name:"state",component:Ige},{path:"/perf",name:"perf",component:Nge}]});Rr.beforeEach((t,e,n)=>{Hu().is_connected?t.name==="home"?n({name:"profile"}):n():t.name!=="home"&&t.name!=="flash"&&t.name!=="log"?n({name:"home"}):n()});let Lb=null,Db=0;function nI(){clearInterval(Lb),Lb=null,Db=0}function E3e(t){nI(),Lb=setInterval(async()=>{await t(Db),Db++},ac.serial.updateInterval)}const Hu=es("serial",{state:()=>({is_connected:!1,is_connecting:!1}),actions:{async poll_serial(t){if(!this.is_connected)return;const e=Kv(),n=j5(),s=Ms(),i=q1();await s.fetch_state(),t%4&&(Rr.currentRoute.value.fullPath=="/receiver"&&await e.fetch_bind_info(),Rr.currentRoute.value.fullPath=="/perf"&&await n.fetch_perf_counters(),Rr.currentRoute.value.fullPath=="/setup"&&await i.update_vtx_settings())},async soft_reboot(){await this.disconnect(),this.is_connecting=!0,await bt.softReboot();for(let t=0;t<10&&(await Cc.getPorts()).length;t++)await zi(100);for(let t=0;t<10&&!(await Cc.getPorts()).length;t++)await zi(100);await this.connect(bt.connectFirstPort(t=>(ut.error("serial",t),this.disconnect(),bt.close())))},serial_passthrough({port:t,baudrate:e,half_duplex:n,stop_bits:s}){const i=tn();return bt.command(Nn.Serial,0,t,e,n?1:0,s).then(()=>bt.close()).then(()=>this.toggle_connection()).then(()=>{i.append_alert({type:"success",msg:"Serial passthrough successful!"})}).catch(r=>{ut.error("serial",r),i.append_alert({type:"danger",msg:"Serial passthrough failed"})})},hard_reboot(){const t=tn();return bt.hardReboot().then(e=>(t.append_alert({type:"success",msg:"Reset to bootloader successful!"}),e)).catch(e=>{ut.error("serial",e),t.append_alert({type:"danger",msg:"Reset to bootloader failed"})})},disconnect(){const t=tn();nI(),this.is_connected=!1,this.is_connecting=!1,t.reset_needs_reboot(),Rr.currentRoute.value.fullPath!="/home"&&Rr.push("/home")},async connect(t){const e=kk(),n=Bf(),s=hn(),i=Jg(),r=Gt(),o=tn(),a=Iu(),l=q1();try{const c=await t;s.$reset(),i.$reset(),l.$reset(),e.$reset(),n.$reset(),r.$reset(),a.$reset(),this.is_connected=!0,s.set_info(c),s.quicVersionGte("0.2.0")&&a.fetch(),n.fetch_default_profile(),o.fetch_pid_rate_presets(),r.fetch_profile(),l.update_vtx_settings(),E3e(u=>this.poll_serial(u)),Rr.currentRoute.value.fullPath!="/profile"&&Rr.push("/profile")}catch(c){ut.error("serial",c),this.is_connected=!1,o.reset_needs_reboot(),o.append_alert({type:"danger",msg:"Connection to the board failed"})}finally{this.is_connecting=!1}},async toggle_connection(){return this.is_connected?(this.disconnect(),bt.close()):(this.is_connecting=!0,this.connect(bt.connect(t=>(ut.error("serial",t),this.disconnect(),bt.close()))))}}}),S3e={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",width:"512",height:"82"},T3e=m("g",{class:"tagline"},[m("path",{d:"M136.296 482.246c-3.928-4.12-4.077-8.114-.683-18.244 3.19-9.522 8.952-17.058 13.143-17.193 9.668-.311 18.425 10.55 16.774 20.804-.755 4.687-.449 5.607 2.558 7.673 6.313 4.338 3.485 8.076-3.563 4.708-2.557-1.223-4.29-.844-9.544 2.086-8.256 4.604-14.401 4.659-18.685.166m15.716-4.63c1.995-2.313 1.83-2.74-2.447-6.32-6.633-5.55-6.138-8.303 1.381-7.676 3.283.274 5.968-.001 5.968-.61 0-2.224-5.394-12.128-6.604-12.128-1.917 0-7.981 7.296-8.782 10.566-.393 1.603-.523 5.354-.29 8.335.325 4.158 1.041 5.523 3.076 5.861 5.595.93 6.82 1.887 3.98 3.112-1.957.844-2.098 1.17-.538 1.242 1.164.054 3.079-1.018 4.256-2.383m23.435-9.629c-1.804-1.304-4.04-3.338-4.97-4.52-2.498-3.18-8.271-15.06-10.414-21.43-2.197-6.53-1.186-7.814 6.136-7.792 4.606.014 4.676.108 9.11 12.151 4.476 12.157 6.273 15.615 8.117 15.615 1.234 0-1.904-14.511-4.603-21.287-2.441-6.128-2.617-12.966-.356-13.818.912-.343 3.52-.1 5.795.54 4.447 1.25 5.648 4.152 8.488 20.496 1.953 11.242 1.652 13.381-2.546 18.095-4.42 4.963-9.637 5.652-14.757 1.95m27.697-11.888c-2.765-5.371-17.05-35.946-17.05-36.494 0-1.53 4.494-4.892 6.539-4.892 4.898 0 18.661 26.952 18.661 36.545 0 7.683-5.12 10.725-8.15 4.84m13.574-7.875c-7.038-7.382-6.52-34.394.808-42.08 5.32-5.58 17.642-6.01 17.642-.614 0 2.81-6.538 5.432-8.747 3.509-1.442-1.256-2.13-.76-3.318 2.393-2.653 7.04-3.055 21.514-.757 27.282 1.827 4.586 2.623 5.213 6.624 5.213 2.509 0 5.32-.977 6.271-2.179 2.28-2.881 8.656-6.287 9.707-5.185 1.814 1.903.505 3.472-7.333 8.785-9.377 6.357-16.627 7.355-20.897 2.876m32.998-13.046c-4.76-8.202-12.098-29.165-11.33-32.373.852-3.563 7.223-5.934 8.791-3.272.66 1.12 1.658.312 3.015-2.439 3.844-7.796 10.167-12.986 15.824-12.986h5.144l-2.75 4.05c-1.512 2.228-4.19 7.312-5.951 11.3l-3.202 7.25 6.193 5.61c8.412 7.622 14.258 16.055 12.447 17.955-.98 1.027-3.623.131-8.834-2.996l-7.435-4.462.365 6.566c.36 6.46.285 6.595-4.66 8.415-4.969 1.828-5.053 1.8-7.617-2.618m38.038-15.437c1.54-3.388 1.888-6.477 1.24-11.008l-.9-6.297-6.712-.969c-6.928-.999-11.729-4.478-11.729-8.5 0-5.248 8.236-14.996 14.845-17.573 1.235-.481 4.1-.317 6.367.365 3.658 1.1 4.034.952 3.346-1.32-.91-3.01 2.435-7.024 5.855-7.024 4.932 0 18.662 26.966 18.662 36.652 0 5.01-2.77 8.648-5.69 7.473-.959-.386-4.968-7.673-8.91-16.193-4.987-10.784-7.72-15.268-8.991-14.756-1.005.404-2.661.735-3.68.735-2.211 0-7.676 10.642-6.756 13.156.353.966 3.312 2.462 6.575 3.323 6.661 1.76 7.964 3.896 6.82 11.183-1.684 10.715-4.886 15.463-10.429 15.463-1.839 0-1.83-.495.087-4.71m37.76-16.656c-1.415-1.789-6.44-15.67-7.435-20.542-.254-1.244-1.73-5.355-3.282-9.136-2.232-5.442-2.538-7.653-1.467-10.607 1.759-4.85 7.422-5.238 8.806-.602.514 1.722 3.308 8.451 6.209 14.955s5.804 13.275 6.451 15.048c.907 2.486 1.82 3.009 3.993 2.285 2.634-.876 5.065 1 5.119 3.95.028 1.541-10.633 6.471-14.076 6.509-1.552.016-3.495-.82-4.317-1.86m17.868-16.303c-12.8-14.501-15.169-23.045-7.13-25.72 2.349-.783 3.845.105 7.464 4.426l4.527 5.405-.7-6.911c-.874-8.61.149-15.658 2.402-16.565.944-.38 3.377-.225 5.406.344l3.69 1.035.45 22.35c.448 22.286.44 22.352-2.583 23.201-5.22 1.467-5.88 1.098-13.526-7.565m29.36-10.13c-5.437-8.588-12.008-26.864-11.354-31.575.325-2.341 2.951-4.634 9.73-8.497 9.392-5.352 17.088-7.242 14.097-3.462-.815 1.03-3.872 3.002-6.795 4.384-5.834 2.76-6.03 3.408-3.745 12.373l1.568 6.148 6.393-3.621c9.344-5.293 10.982-2.385 2.631 4.67l-6.462 5.46 3.296 5.224c1.813 2.873 3.561 5.223 3.885 5.223s3.76-2.382 7.638-5.294l7.048-5.294-1.866-4.655c-1.026-2.56-2.526-8.844-3.332-13.965-1.272-8.08-1.159-9.987.857-14.443 2.997-6.624 6.157-8.287 14.206-7.476 9.264.933 11.045 3.23 9.377 12.081l-1.33 7.051 5.447 1.52c6.165 1.722 9.868 4.691 11.53 9.249 2.477 6.794-2.384 9.956-6.118 3.979-1.147-1.836-3.966-4.293-6.265-5.46-3.88-1.972-4.448-1.925-7.893.647-3.008 2.247-3.46 3.265-2.386 5.37.729 1.428 1.325 5.155 1.325 8.282 0 4.713-.567 5.957-3.31 7.268-2.671 1.276-3.76 1.157-5.637-.62-2.154-2.037-3.02-1.643-11.611 5.282-12.23 9.856-14.769 9.874-20.925.15m37.97-48.188c-1.053-2.487-2.791 3.916-2.832 10.433-.022 3.624.22 3.35 1.846-2.087 1.03-3.443 1.473-7.199.987-8.346",style:{display:"inline",fill:"#000","fill-opacity":".29819","stroke-width":"1.35834"},transform:"matrix(1.43639 .63307 -.61952 1.40565 104.251 -703.335)"}),m("path",{d:"M137.121 482.059c-2.47-2.18-4.08-4.92-4.08-6.941 0-5.546 6.51-20.81 10.647-24.969 3.663-3.68 4.177-3.807 9.12-2.254 7.956 2.5 12.065 8.494 12.065 17.6 0 6.41.491 7.849 3.543 10.366 4.981 4.11 2.376 6.75-3.512 3.556-3.827-2.075-4.477-2.092-6.5-.171-2.887 2.74-11.256 6.414-14.609 6.414-1.426 0-4.43-1.62-6.674-3.601m14.575-3.403c3.613-2.028 3.228-3.6-2.076-8.485-2.554-2.351-4.643-4.836-4.643-5.522 0-1.744 7.576-1.56 10.824.264 2.425 1.361 2.6 1.19 1.763-1.74-1.603-5.614-5.35-11.569-7.561-12.016-3.63-.733-8.936 8.16-9.198 15.416-.228 6.32 2.002 11.452 4.323 9.947.647-.419 1.882-.304 2.746.256 1.079.7.768 1.347-.995 2.07-2.35.966-2.363 1.062-.156 1.152 1.324.054 3.562-.55 4.973-1.342m22.096-12.384c-5.114-4.709-13.165-21.055-13.401-27.205-.151-3.936.161-4.207 5.297-4.601 5.067-.389 5.512-.134 6.215 3.552 1.374 7.206 10.065 25.643 11.615 24.64 1.711-1.11 1.15-4.135-3.637-19.582-1.923-6.206-3.121-12.31-2.662-13.563.987-2.698 6.145-3.001 9.202-.541 2.203 1.773 5.4 13.165 7.025 25.024.853 6.23.647 6.86-3.755 11.477-5.766 6.047-9.971 6.258-15.9.8m30.6-9.478c-2.671-3.238-16.972-34.543-16.972-37.153 0-1.919 3.8-4.931 6.213-4.925 2.73.007 16.018 25.946 17.173 33.522.743 4.874-1.111 10.99-3.332 10.99-.59 0-1.978-1.095-3.082-2.434m13.153-7.887c-3.39-2.696-4.924-9.601-4.924-22.15 0-11.816 2.253-18.965 7.1-22.525 3.085-2.267 11.094-2.685 14.036-.733 3.16 2.098-.9 6.018-5.502 5.31-2.061-.318-4.364.201-5.116 1.152-1.812 2.29-3.157 19.762-2.014 26.152 1.235 6.901 5.95 10.177 11.303 7.852 2.131-.926 4.906-2.879 6.166-4.339 2.469-2.861 7.731-3.677 6.902-1.07-.277.872-4.314 4.002-8.972 6.956-8.898 5.643-14.822 6.703-18.98 3.395m32.48-12.847c-.709-1.412-3.795-8.925-6.859-16.696-4.437-11.255-5.286-14.686-4.174-16.867 1.793-3.513 6.696-4.955 7.682-2.26.5 1.367 1.899.074 4.403-4.068 4.373-7.231 10.41-12.06 15.077-12.06h3.387l-5.378 10.85-5.377 10.85 9.412 9.873c5.7 5.978 9.413 11.027 9.413 12.798 0 1.61-.24 2.927-.536 2.927-.294 0-4.174-2.158-8.62-4.794-4.448-2.636-8.06-4.358-8.028-3.825.031.532.55 3.641 1.153 6.91 1.233 6.684 1.247 6.663-5.418 7.975-3.942.775-5.09.474-6.137-1.613m37.602-14.74c.573-1.72 1.09-6.572 1.15-10.78l.108-7.651-5.305-1.205c-13.561-3.08-15.987-6.1-11.296-14.06 5.709-9.689 13.438-13.849 20.472-11.018 2.952 1.188 2.618 4.72-.447 4.72-2.914 0-8.066 7.863-8.066 12.31 0 2.08 1.065 3.179 3.647 3.758 9.508 2.133 9.981 2.741 9.342 12.01-.492 7.133-1.174 9.04-4.21 11.779-4.643 4.19-6.76 4.244-5.395.138m24.198-11.824c-2.671-3.238-16.971-34.543-16.971-37.153 0-1.919 3.8-4.931 6.212-4.925 2.73.007 16.018 25.946 17.173 33.522.743 4.874-1.111 10.99-3.331 10.99-.591 0-1.978-1.095-3.083-2.434m14.426-7.038c-2.73-3.164-12.82-33.08-12.825-38.024-.003-3.344 2.048-5.366 5.444-5.366.688 0 3.226 4.539 5.64 10.086 12.351 28.384 11.803 27.38 14.212 26.028 1.545-.867 2.744-.685 3.736.569 1.835 2.32-1.225 5.362-7.68 7.636-5.831 2.054-5.966 2.04-8.527-.93m19.382-13.133c-7.945-8.574-14.818-20.125-13.979-23.493.385-1.542 2.205-3.404 4.044-4.138 2.953-1.177 3.826-.72 7.446 3.897l4.1 5.231.663-11.08c.708-11.832 1.635-13.077 8.395-11.286 2.801.742 2.879 1.352 2.879 22.584 0 20.53-.157 21.885-2.653 22.911-4.443 1.827-5.222 1.496-10.895-4.626m29.094-10.433c-5.288-7.058-7.452-11.757-10.904-23.68-2.427-8.385-2.634-10.488-1.21-12.29 1.815-2.292 18.75-11.676 21.072-11.676 3.34 0 .809 3.028-5.204 6.224l-6.564 3.488 2.058 7.316c1.131 4.024 2.199 7.477 2.371 7.673s3.042-1.165 6.376-3.024c5.518-3.077 7.628-3.309 7.628-.837 0 .495-2.664 2.994-5.92 5.553l-5.92 4.652 2.273 4.06c4.122 7.366 5.033 7.492 12.92 1.794 3.992-2.883 7.258-5.466 7.258-5.74s-.881-2.858-1.958-5.743c-2.83-7.582-4.345-19.877-3.08-24.995 2.219-8.983 10.753-12.342 20.502-8.07 4.546 1.993 4.73 2.334 3.937 7.304-.457 2.868-1.178 6.534-1.601 8.148-.67 2.555-.058 3.054 4.732 3.857 6.469 1.085 11.952 6.2 11.952 11.148 0 5.168-2.678 5.979-5.643 1.71-1.425-2.051-4.399-4.71-6.61-5.91-3.756-2.037-4.245-1.997-7.488.611-1.908 1.535-3.243 3.629-2.967 4.654.277 1.024.8 4.827 1.162 8.45.596 5.961.359 6.709-2.492 7.85-2.43.973-3.802.636-5.993-1.473-1.563-1.504-3.055-2.183-3.316-1.51-.928 2.398-18.816 15.672-21.119 15.672-1.289 0-4.102-2.347-6.252-5.216m36.223-45.126c.53-3.287.335-6.159-.475-7.008-1.366-1.433-2.004 1.03-3.288 12.702-.454 4.122-.302 4.42 1.172 2.306.932-1.337 2.098-4.936 2.591-8",style:{display:"inline",fill:"#000","fill-opacity":".600917","stroke-width":"1.35834"},transform:"matrix(1.43639 .63307 -.61952 1.40565 104.251 -703.335)"}),m("path",{d:"M140.023 484.133c-1.567-.608-3.834-2.682-5.038-4.61-2.039-3.263-2.032-4.007.103-10.855 2.897-9.297 4.858-13.333 8.805-18.126 2.741-3.327 3.67-3.659 7.235-2.587 10.133 3.048 14.54 9.177 13.341 18.552-.602 4.708-.183 5.912 3.133 9.011 4.874 4.555 3.785 6.536-2.16 3.93-4.225-1.85-4.967-1.782-9.237.86-5.932 3.672-12.548 5.235-16.182 3.825m12.165-5.608 3.59-2.961-4.737-4.096c-5.847-5.054-6.376-8.76-1.09-7.641 2.006.424 4.692 1.195 5.969 1.713 4.62 1.875 1.553-8.396-4.113-13.775-2.68-2.544-2.794-2.51-6.724 2.002-7.053 8.1-6.926 23.397.198 23.656 1.657.06 2.263.427 1.346.815-1.712.724-1.01 3.249.903 3.249.588 0 2.684-1.333 4.658-2.962m19.956-14.358c-3.78-4.204-12.577-23.114-12.577-27.036 0-1.85 9.176-3.665 10.48-2.073.547.67 1.751 3.749 2.675 6.843 2.603 8.723 8.528 20.63 10.59 21.284 2.463.782 1.412-6.071-3.322-21.664-2.036-6.707-3.044-12.171-2.368-12.834.647-.636 3.092-.842 5.432-.46 4.803.786 5.562 2.462 8.922 19.692 1.499 7.684 1.634 10.994.54 13.215-2.977 6.05-5.43 7.833-10.782 7.833-4.295 0-6.076-.891-9.59-4.8m23.886-24.544c-4.736-10.018-8.61-19.083-8.61-20.144 0-1.062 1.575-2.345 3.499-2.852 4.338-1.142 6.364 1.346 13.782 16.927 6.675 14.02 7.461 24.284 1.861 24.284-1.144 0-5.413-7.383-10.532-18.215m21.82 8.692c-2.258-1.918-3.19-4.47-3.683-10.086-1.374-15.658-.86-24.065 1.755-28.693 3.73-6.603 14.366-9.748 17.893-5.291 2.322 2.935-3.734 5.869-7.616 3.69-2.292-1.287-2.884-.961-4.154 2.29-.815 2.086-1.627 8.904-1.805 15.151-.277 9.69.085 11.94 2.461 15.303 3.892 5.51 7.752 5.665 14.498.584 6.543-4.929 10.28-5.785 6.592-1.511-2.85 3.303-17.354 11.13-20.625 11.13-1.261 0-3.654-1.155-5.316-2.567m29.3-19.975c-7.07-16.514-9.128-24.042-7.293-26.673 1.806-2.592 4.753-2.926 6.806-.773 1.001 1.05 2.418-.314 4.853-4.672 3.9-6.981 9.24-11.253 14.264-11.41l3.422-.108-4.337 7.701c-7.115 12.634-7.073 13.996.65 20.777 6.436 5.651 12.096 13.43 12.096 16.623 0 .852-3.91-.705-8.688-3.46l-8.688-5.009.879 6.944c.945 7.477.7 7.89-5.514 9.286-4.037.907-4.18.752-8.45-9.226m39.746-4.654c0-.42.927-2.645 2.06-4.943 1.456-2.954 1.803-5.977 1.182-10.318-.925-6.473-1.16-6.657-10.537-8.322-9.626-1.708-11.047-5.914-5.061-14.973 4.597-6.958 9.718-9.752 15.708-8.574 5.204 1.024 6.383 4.77 1.503 4.77-2.041 0-3.632 1.217-4.648 3.556-.85 1.956-1.99 3.268-2.534 2.916-1.357-.88-1.258 6.926.106 8.357.603.632 3.587 1.78 6.632 2.55 4.748 1.202 5.599 1.977 5.976 5.447.719 6.61-1.069 13.434-4.447 16.977-2.927 3.07-5.94 4.367-5.94 2.557m16.567-31.36c-4.735-10.019-8.61-19.084-8.61-20.146 0-1.061 1.575-2.344 3.5-2.85 4.338-1.143 6.363 1.345 13.781 16.926 6.675 14.02 7.462 24.284 1.861 24.284-1.143 0-5.412-7.383-10.532-18.215m21.452 7.433c-2.708-5.637-10.349-29.474-10.894-33.987-.33-2.734.276-4.315 2.031-5.3 3.537-1.985 3.383-2.116 6.534 5.565 9.993 24.366 13.094 30.148 16.1 30.022 4.908-.207 4.553 3.214-.567 5.458-7.264 3.183-11.073 2.676-13.204-1.758m21.208-10.554c-10.82-11.469-15.525-21.196-12.389-25.616 2.16-3.042 5.816-1.887 10.057 3.179l4.116 4.917v-9.672c0-11.708.752-14.08 4.453-14.052 5.681.042 6.023 1.268 6.266 22.469.129 11.176-.133 20.941-.58 21.7s-2.073 1.726-3.613 2.148c-2.074.57-4.227-.745-8.31-5.073m27.89-11.704c-5.978-9.082-13.192-29.422-11.858-33.436.787-2.37 18.557-11.704 21.242-11.159 1.168.237-.943 1.92-4.758 3.794-3.772 1.853-6.858 4.089-6.858 4.97 0 2.697 4.173 14.62 5.099 14.567.478-.027 2.362-.944 4.185-2.038 1.824-1.093 4.784-2.01 6.579-2.037 2.834-.043 2.444.544-2.971 4.472-3.429 2.486-6.24 5.158-6.247 5.937s1.522 3.785 3.398 6.681l3.411 5.265 4.215-2.964c2.319-1.63 5.886-4.01 7.927-5.29 2.665-1.67 3.52-3.11 3.03-5.108-5.395-22.04-5.755-27.471-2.22-33.55 3.01-5.18 7.676-6.692 14.606-4.735 7.18 2.027 8.559 4.19 6.831 10.715-2.066 7.806-1.949 8.065 4.472 9.866 6.642 1.863 11.35 6.334 11.35 10.779 0 4.995-1.545 5.03-6.078.134-5.49-5.928-10.084-7.232-14.585-4.139-2.566 1.764-3.186 3.06-2.508 5.245.494 1.597 1.202 4.946 1.571 7.443 1.1 7.428-4.005 11.241-8.868 6.625-1.932-1.833-2.85-1.453-8.67 3.592-12.852 11.138-17.27 12.004-22.295 4.37m35.636-37.168c2.177-5.464 2.535-12.7.688-13.897-1.847-1.196-2.455.565-3.481 10.075-1.045 9.686-.073 11.016 2.793 3.822",style:{display:"inline",fill:"#000200","stroke-width":"1.35834"},transform:"matrix(1.43639 .63307 -.61952 1.40565 104.251 -703.335)"})],-1),A3e=[T3e];function M3e(t,e){return Q(),re("svg",S3e,[...A3e])}const R3e={render:M3e},C3e={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",width:"512",height:"130"},k3e=aa('<defs><path id="a" d="M294.586 39.377h163.708v50.887H294.586z"></path></defs><g class="tagline"><path d="M136.296 482.246c-3.928-4.12-4.077-8.114-.683-18.244 3.19-9.522 8.952-17.058 13.143-17.193 9.668-.311 18.425 10.55 16.774 20.804-.755 4.687-.449 5.607 2.558 7.673 6.313 4.338 3.485 8.076-3.563 4.708-2.557-1.223-4.29-.844-9.544 2.086-8.256 4.604-14.401 4.659-18.685.166m15.716-4.63c1.995-2.313 1.83-2.74-2.447-6.32-6.633-5.55-6.138-8.303 1.381-7.676 3.283.274 5.968-.001 5.968-.61 0-2.224-5.394-12.128-6.604-12.128-1.917 0-7.981 7.296-8.782 10.566-.393 1.603-.523 5.354-.29 8.335.325 4.158 1.041 5.523 3.076 5.861 5.595.93 6.82 1.887 3.98 3.112-1.957.844-2.098 1.17-.538 1.242 1.164.054 3.079-1.018 4.256-2.383m23.435-9.629c-1.804-1.304-4.04-3.338-4.97-4.52-2.498-3.18-8.271-15.06-10.414-21.43-2.197-6.53-1.186-7.814 6.136-7.792 4.606.014 4.676.108 9.11 12.151 4.476 12.157 6.273 15.615 8.117 15.615 1.234 0-1.904-14.511-4.603-21.287-2.441-6.128-2.617-12.966-.356-13.818.912-.343 3.52-.1 5.795.54 4.447 1.25 5.648 4.152 8.488 20.496 1.953 11.242 1.652 13.381-2.546 18.095-4.42 4.963-9.637 5.652-14.757 1.95m27.697-11.888c-2.765-5.371-17.05-35.946-17.05-36.494 0-1.53 4.494-4.892 6.539-4.892 4.898 0 18.661 26.952 18.661 36.545 0 7.683-5.12 10.725-8.15 4.84m13.574-7.875c-7.038-7.382-6.52-34.394.808-42.08 5.32-5.58 17.642-6.01 17.642-.614 0 2.81-6.538 5.432-8.747 3.509-1.442-1.256-2.13-.76-3.318 2.393-2.653 7.04-3.055 21.514-.757 27.282 1.827 4.586 2.623 5.213 6.624 5.213 2.509 0 5.32-.977 6.271-2.179 2.28-2.881 8.656-6.287 9.707-5.185 1.814 1.903.505 3.472-7.333 8.785-9.377 6.357-16.627 7.355-20.897 2.876m32.998-13.046c-4.76-8.202-12.098-29.165-11.33-32.373.852-3.563 7.223-5.934 8.791-3.272.66 1.12 1.658.312 3.015-2.439 3.844-7.796 10.167-12.986 15.824-12.986h5.144l-2.75 4.05c-1.512 2.228-4.19 7.312-5.951 11.3l-3.202 7.25 6.193 5.61c8.412 7.622 14.258 16.055 12.447 17.955-.98 1.027-3.623.131-8.834-2.996l-7.435-4.462.365 6.566c.36 6.46.285 6.595-4.66 8.415-4.969 1.828-5.053 1.8-7.617-2.618m38.038-15.437c1.54-3.388 1.888-6.477 1.24-11.008l-.9-6.297-6.712-.969c-6.928-.999-11.729-4.478-11.729-8.5 0-5.248 8.236-14.996 14.845-17.573 1.235-.481 4.1-.317 6.367.365 3.658 1.1 4.034.952 3.346-1.32-.91-3.01 2.435-7.024 5.855-7.024 4.932 0 18.662 26.966 18.662 36.652 0 5.01-2.77 8.648-5.69 7.473-.959-.386-4.968-7.673-8.91-16.193-4.987-10.784-7.72-15.268-8.991-14.756-1.005.404-2.661.735-3.68.735-2.211 0-7.676 10.642-6.756 13.156.353.966 3.312 2.462 6.575 3.323 6.661 1.76 7.964 3.896 6.82 11.183-1.684 10.715-4.886 15.463-10.429 15.463-1.839 0-1.83-.495.087-4.71m37.76-16.656c-1.415-1.789-6.44-15.67-7.435-20.542-.254-1.244-1.73-5.355-3.282-9.136-2.232-5.442-2.538-7.653-1.467-10.607 1.759-4.85 7.422-5.238 8.806-.602.514 1.722 3.308 8.451 6.209 14.955s5.804 13.275 6.451 15.048c.907 2.486 1.82 3.009 3.993 2.285 2.634-.876 5.065 1 5.119 3.95.028 1.541-10.633 6.471-14.076 6.509-1.552.016-3.495-.82-4.317-1.86m17.868-16.303c-12.8-14.501-15.169-23.045-7.13-25.72 2.349-.783 3.845.105 7.464 4.426l4.527 5.405-.7-6.911c-.874-8.61.149-15.658 2.402-16.565.944-.38 3.377-.225 5.406.344l3.69 1.035.45 22.35c.448 22.286.44 22.352-2.583 23.201-5.22 1.467-5.88 1.098-13.526-7.565m29.36-10.13c-5.437-8.588-12.008-26.864-11.354-31.575.325-2.341 2.951-4.634 9.73-8.497 9.392-5.352 17.088-7.242 14.097-3.462-.815 1.03-3.872 3.002-6.795 4.384-5.834 2.76-6.03 3.408-3.745 12.373l1.568 6.148 6.393-3.621c9.344-5.293 10.982-2.385 2.631 4.67l-6.462 5.46 3.296 5.224c1.813 2.873 3.561 5.223 3.885 5.223s3.76-2.382 7.638-5.294l7.048-5.294-1.866-4.655c-1.026-2.56-2.526-8.844-3.332-13.965-1.272-8.08-1.159-9.987.857-14.443 2.997-6.624 6.157-8.287 14.206-7.476 9.264.933 11.045 3.23 9.377 12.081l-1.33 7.051 5.447 1.52c6.165 1.722 9.868 4.691 11.53 9.249 2.477 6.794-2.384 9.956-6.118 3.979-1.147-1.836-3.966-4.293-6.265-5.46-3.88-1.972-4.448-1.925-7.893.647-3.008 2.247-3.46 3.265-2.386 5.37.729 1.428 1.325 5.155 1.325 8.282 0 4.713-.567 5.957-3.31 7.268-2.671 1.276-3.76 1.157-5.637-.62-2.154-2.037-3.02-1.643-11.611 5.282-12.23 9.856-14.769 9.874-20.925.15m37.97-48.188c-1.053-2.487-2.791 3.916-2.832 10.433-.022 3.624.22 3.35 1.846-2.087 1.03-3.443 1.473-7.199.987-8.346" style="display:inline;fill:#000;fill-opacity:.29819;stroke-width:1.35834;" transform="matrix(1.49956 .46402 -.45409 1.46747 17.408 -657.928)"></path><path d="M137.121 482.059c-2.47-2.18-4.08-4.92-4.08-6.941 0-5.546 6.51-20.81 10.647-24.969 3.663-3.68 4.177-3.807 9.12-2.254 7.956 2.5 12.065 8.494 12.065 17.6 0 6.41.491 7.849 3.543 10.366 4.981 4.11 2.376 6.75-3.512 3.556-3.827-2.075-4.477-2.092-6.5-.171-2.887 2.74-11.256 6.414-14.609 6.414-1.426 0-4.43-1.62-6.674-3.601m14.575-3.403c3.613-2.028 3.228-3.6-2.076-8.485-2.554-2.351-4.643-4.836-4.643-5.522 0-1.744 7.576-1.56 10.824.264 2.425 1.361 2.6 1.19 1.763-1.74-1.603-5.614-5.35-11.569-7.561-12.016-3.63-.733-8.936 8.16-9.198 15.416-.228 6.32 2.002 11.452 4.323 9.947.647-.419 1.882-.304 2.746.256 1.079.7.768 1.347-.995 2.07-2.35.966-2.363 1.062-.156 1.152 1.324.054 3.562-.55 4.973-1.342m22.096-12.384c-5.114-4.709-13.165-21.055-13.401-27.205-.151-3.936.161-4.207 5.297-4.601 5.067-.389 5.512-.134 6.215 3.552 1.374 7.206 10.065 25.643 11.615 24.64 1.711-1.11 1.15-4.135-3.637-19.582-1.923-6.206-3.121-12.31-2.662-13.563.987-2.698 6.145-3.001 9.202-.541 2.203 1.773 5.4 13.165 7.025 25.024.853 6.23.647 6.86-3.755 11.477-5.766 6.047-9.971 6.258-15.9.8m30.6-9.478c-2.671-3.238-16.972-34.543-16.972-37.153 0-1.919 3.8-4.931 6.213-4.925 2.73.007 16.018 25.946 17.173 33.522.743 4.874-1.111 10.99-3.332 10.99-.59 0-1.978-1.095-3.082-2.434m13.153-7.887c-3.39-2.696-4.924-9.601-4.924-22.15 0-11.816 2.253-18.965 7.1-22.525 3.085-2.267 11.094-2.685 14.036-.733 3.16 2.098-.9 6.018-5.502 5.31-2.061-.318-4.364.201-5.116 1.152-1.812 2.29-3.157 19.762-2.014 26.152 1.235 6.901 5.95 10.177 11.303 7.852 2.131-.926 4.906-2.879 6.166-4.339 2.469-2.861 7.731-3.677 6.902-1.07-.277.872-4.314 4.002-8.972 6.956-8.898 5.643-14.822 6.703-18.98 3.395m32.48-12.847c-.709-1.412-3.795-8.925-6.859-16.696-4.437-11.255-5.286-14.686-4.174-16.867 1.793-3.513 6.696-4.955 7.682-2.26.5 1.367 1.899.074 4.403-4.068 4.373-7.231 10.41-12.06 15.077-12.06h3.387l-5.378 10.85-5.377 10.85 9.412 9.873c5.7 5.978 9.413 11.027 9.413 12.798 0 1.61-.24 2.927-.536 2.927-.294 0-4.174-2.158-8.62-4.794-4.448-2.636-8.06-4.358-8.028-3.825.031.532.55 3.641 1.153 6.91 1.233 6.684 1.247 6.663-5.418 7.975-3.942.775-5.09.474-6.137-1.613m37.602-14.74c.573-1.72 1.09-6.572 1.15-10.78l.108-7.651-5.305-1.205c-13.561-3.08-15.987-6.1-11.296-14.06 5.709-9.689 13.438-13.849 20.472-11.018 2.952 1.188 2.618 4.72-.447 4.72-2.914 0-8.066 7.863-8.066 12.31 0 2.08 1.065 3.179 3.647 3.758 9.508 2.133 9.981 2.741 9.342 12.01-.492 7.133-1.174 9.04-4.21 11.779-4.643 4.19-6.76 4.244-5.395.138m24.198-11.824c-2.671-3.238-16.971-34.543-16.971-37.153 0-1.919 3.8-4.931 6.212-4.925 2.73.007 16.018 25.946 17.173 33.522.743 4.874-1.111 10.99-3.331 10.99-.591 0-1.978-1.095-3.083-2.434m14.426-7.038c-2.73-3.164-12.82-33.08-12.825-38.024-.003-3.344 2.048-5.366 5.444-5.366.688 0 3.226 4.539 5.64 10.086 12.351 28.384 11.803 27.38 14.212 26.028 1.545-.867 2.744-.685 3.736.569 1.835 2.32-1.225 5.362-7.68 7.636-5.831 2.054-5.966 2.04-8.527-.93m19.382-13.133c-7.945-8.574-14.818-20.125-13.979-23.493.385-1.542 2.205-3.404 4.044-4.138 2.953-1.177 3.826-.72 7.446 3.897l4.1 5.231.663-11.08c.708-11.832 1.635-13.077 8.395-11.286 2.801.742 2.879 1.352 2.879 22.584 0 20.53-.157 21.885-2.653 22.911-4.443 1.827-5.222 1.496-10.895-4.626m29.094-10.433c-5.288-7.058-7.452-11.757-10.904-23.68-2.427-8.385-2.634-10.488-1.21-12.29 1.815-2.292 18.75-11.676 21.072-11.676 3.34 0 .809 3.028-5.204 6.224l-6.564 3.488 2.058 7.316c1.131 4.024 2.199 7.477 2.371 7.673s3.042-1.165 6.376-3.024c5.518-3.077 7.628-3.309 7.628-.837 0 .495-2.664 2.994-5.92 5.553l-5.92 4.652 2.273 4.06c4.122 7.366 5.033 7.492 12.92 1.794 3.992-2.883 7.258-5.466 7.258-5.74s-.881-2.858-1.958-5.743c-2.83-7.582-4.345-19.877-3.08-24.995 2.219-8.983 10.753-12.342 20.502-8.07 4.546 1.993 4.73 2.334 3.937 7.304-.457 2.868-1.178 6.534-1.601 8.148-.67 2.555-.058 3.054 4.732 3.857 6.469 1.085 11.952 6.2 11.952 11.148 0 5.168-2.678 5.979-5.643 1.71-1.425-2.051-4.399-4.71-6.61-5.91-3.756-2.037-4.245-1.997-7.488.611-1.908 1.535-3.243 3.629-2.967 4.654.277 1.024.8 4.827 1.162 8.45.596 5.961.359 6.709-2.492 7.85-2.43.973-3.802.636-5.993-1.473-1.563-1.504-3.055-2.183-3.316-1.51-.928 2.398-18.816 15.672-21.119 15.672-1.289 0-4.102-2.347-6.252-5.216m36.223-45.126c.53-3.287.335-6.159-.475-7.008-1.366-1.433-2.004 1.03-3.288 12.702-.454 4.122-.302 4.42 1.172 2.306.932-1.337 2.098-4.936 2.591-8" style="display:inline;fill:#000;fill-opacity:.600917;stroke-width:1.35834;" transform="matrix(1.49956 .46402 -.45409 1.46747 17.408 -657.928)"></path><path d="M140.023 484.133c-1.567-.608-3.834-2.682-5.038-4.61-2.039-3.263-2.032-4.007.103-10.855 2.897-9.297 4.858-13.333 8.805-18.126 2.741-3.327 3.67-3.659 7.235-2.587 10.133 3.048 14.54 9.177 13.341 18.552-.602 4.708-.183 5.912 3.133 9.011 4.874 4.555 3.785 6.536-2.16 3.93-4.225-1.85-4.967-1.782-9.237.86-5.932 3.672-12.548 5.235-16.182 3.825m12.165-5.608 3.59-2.961-4.737-4.096c-5.847-5.054-6.376-8.76-1.09-7.641 2.006.424 4.692 1.195 5.969 1.713 4.62 1.875 1.553-8.396-4.113-13.775-2.68-2.544-2.794-2.51-6.724 2.002-7.053 8.1-6.926 23.397.198 23.656 1.657.06 2.263.427 1.346.815-1.712.724-1.01 3.249.903 3.249.588 0 2.684-1.333 4.658-2.962m19.956-14.358c-3.78-4.204-12.577-23.114-12.577-27.036 0-1.85 9.176-3.665 10.48-2.073.547.67 1.751 3.749 2.675 6.843 2.603 8.723 8.528 20.63 10.59 21.284 2.463.782 1.412-6.071-3.322-21.664-2.036-6.707-3.044-12.171-2.368-12.834.647-.636 3.092-.842 5.432-.46 4.803.786 5.562 2.462 8.922 19.692 1.499 7.684 1.634 10.994.54 13.215-2.977 6.05-5.43 7.833-10.782 7.833-4.295 0-6.076-.891-9.59-4.8m23.886-24.544c-4.736-10.018-8.61-19.083-8.61-20.144 0-1.062 1.575-2.345 3.499-2.852 4.338-1.142 6.364 1.346 13.782 16.927 6.675 14.02 7.461 24.284 1.861 24.284-1.144 0-5.413-7.383-10.532-18.215m21.82 8.692c-2.258-1.918-3.19-4.47-3.683-10.086-1.374-15.658-.86-24.065 1.755-28.693 3.73-6.603 14.366-9.748 17.893-5.291 2.322 2.935-3.734 5.869-7.616 3.69-2.292-1.287-2.884-.961-4.154 2.29-.815 2.086-1.627 8.904-1.805 15.151-.277 9.69.085 11.94 2.461 15.303 3.892 5.51 7.752 5.665 14.498.584 6.543-4.929 10.28-5.785 6.592-1.511-2.85 3.303-17.354 11.13-20.625 11.13-1.261 0-3.654-1.155-5.316-2.567m29.3-19.975c-7.07-16.514-9.128-24.042-7.293-26.673 1.806-2.592 4.753-2.926 6.806-.773 1.001 1.05 2.418-.314 4.853-4.672 3.9-6.981 9.24-11.253 14.264-11.41l3.422-.108-4.337 7.701c-7.115 12.634-7.073 13.996.65 20.777 6.436 5.651 12.096 13.43 12.096 16.623 0 .852-3.91-.705-8.688-3.46l-8.688-5.009.879 6.944c.945 7.477.7 7.89-5.514 9.286-4.037.907-4.18.752-8.45-9.226m39.746-4.654c0-.42.927-2.645 2.06-4.943 1.456-2.954 1.803-5.977 1.182-10.318-.925-6.473-1.16-6.657-10.537-8.322-9.626-1.708-11.047-5.914-5.061-14.973 4.597-6.958 9.718-9.752 15.708-8.574 5.204 1.024 6.383 4.77 1.503 4.77-2.041 0-3.632 1.217-4.648 3.556-.85 1.956-1.99 3.268-2.534 2.916-1.357-.88-1.258 6.926.106 8.357.603.632 3.587 1.78 6.632 2.55 4.748 1.202 5.599 1.977 5.976 5.447.719 6.61-1.069 13.434-4.447 16.977-2.927 3.07-5.94 4.367-5.94 2.557m16.567-31.36c-4.735-10.019-8.61-19.084-8.61-20.146 0-1.061 1.575-2.344 3.5-2.85 4.338-1.143 6.363 1.345 13.781 16.926 6.675 14.02 7.462 24.284 1.861 24.284-1.143 0-5.412-7.383-10.532-18.215m21.452 7.433c-2.708-5.637-10.349-29.474-10.894-33.987-.33-2.734.276-4.315 2.031-5.3 3.537-1.985 3.383-2.116 6.534 5.565 9.993 24.366 13.094 30.148 16.1 30.022 4.908-.207 4.553 3.214-.567 5.458-7.264 3.183-11.073 2.676-13.204-1.758m21.208-10.554c-10.82-11.469-15.525-21.196-12.389-25.616 2.16-3.042 5.816-1.887 10.057 3.179l4.116 4.917v-9.672c0-11.708.752-14.08 4.453-14.052 5.681.042 6.023 1.268 6.266 22.469.129 11.176-.133 20.941-.58 21.7s-2.073 1.726-3.613 2.148c-2.074.57-4.227-.745-8.31-5.073m27.89-11.704c-5.978-9.082-13.192-29.422-11.858-33.436.787-2.37 18.557-11.704 21.242-11.159 1.168.237-.943 1.92-4.758 3.794-3.772 1.853-6.858 4.089-6.858 4.97 0 2.697 4.173 14.62 5.099 14.567.478-.027 2.362-.944 4.185-2.038 1.824-1.093 4.784-2.01 6.579-2.037 2.834-.043 2.444.544-2.971 4.472-3.429 2.486-6.24 5.158-6.247 5.937s1.522 3.785 3.398 6.681l3.411 5.265 4.215-2.964c2.319-1.63 5.886-4.01 7.927-5.29 2.665-1.67 3.52-3.11 3.03-5.108-5.395-22.04-5.755-27.471-2.22-33.55 3.01-5.18 7.676-6.692 14.606-4.735 7.18 2.027 8.559 4.19 6.831 10.715-2.066 7.806-1.949 8.065 4.472 9.866 6.642 1.863 11.35 6.334 11.35 10.779 0 4.995-1.545 5.03-6.078.134-5.49-5.928-10.084-7.232-14.585-4.139-2.566 1.764-3.186 3.06-2.508 5.245.494 1.597 1.202 4.946 1.571 7.443 1.1 7.428-4.005 11.241-8.868 6.625-1.932-1.833-2.85-1.453-8.67 3.592-12.852 11.138-17.27 12.004-22.295 4.37m35.636-37.168c2.177-5.464 2.535-12.7.688-13.897-1.847-1.196-2.455.565-3.481 10.075-1.045 9.686-.073 11.016 2.793 3.822" style="display:inline;fill:#000200;stroke-width:1.35834;" transform="matrix(1.49956 .46402 -.45409 1.46747 17.408 -657.928)"></path><text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:40px;line-height:1.25;font-family:&quot;Hack Nerd Font&quot;;-inkscape-font-specification:&quot;Hack Nerd Font&quot;;letter-spacing:-1.64499px;white-space:pre;shape-inside:url(#a);shape-padding:.0279914;display:inline;fill:#000;fill-opacity:1;stroke:none;" transform="matrix(1.5759 0 0 1.56484 -203.708 5.869)"><tspan x="295" y="82"><tspan style="font-weight:600;font-family:&quot;Roboto&quot;,sans-serif;-inkscape-font-specification:&quot;BlexMono Nerd Font Mono Semi-Bold&quot;;fill:red;">DEVELOP</tspan></tspan></text></g>',2),P3e=[k3e];function I3e(t,e){return Q(),re("svg",C3e,[...P3e])}const O3e={render:I3e},L3e=it({name:"app",components:{LogoClean:Ik,LogoText:R3e,LogoTextDevelop:O3e,RouterLink:b4,RouterView:v4,AlertPortal:l$,ModalPortal:p$},setup(){const t=la();return{info:hn(),profile:Gt(),state:Ms(),serial:Hu(),root:tn(),Features:gn(()=>t.Features)}},data(){return{darkMode:!0,branch:"develop",showMenuItem:!1}},watch:{darkMode(t,e){t!=e&&document.firstElementChild&&(t?document.firstElementChild.className="theme-dark":document.firstElementChild.className="theme-light")}},computed:{date(){return new Date(this.profile.meta.datetime*1e3)},connectButtonText(){return this.serial.is_connecting?"Connecting...":this.serial.is_connected?"Disconnect":"Connect"},canConnect(){return!this.serial.is_connecting&&this.$route.name!="flash"},updateProcessing(){return za.updatePreparing()||za.updatePending()},hasBrowserSupport(){return ac.websocketUrl()?!0:navigator.usb&&Cc},logDownloadAnchorRef(){return this.$refs.logDownloadAnchor}},methods:{getDarkMode(){return localStorage.getItem("dark-mode")?localStorage.getItem("dark-mode")=="true":!window.matchMedia("(prefers-color-scheme: light)").matches},setDarkMode(t){localStorage.setItem("dark-mode",t?"true":"false"),this.darkMode=t},selectSerial(t,e){this.$modal.show(aE,{title:"Serial",options:e.map(n=>({text:n.displayName+" "+n.portName,value:n.portId}))}).then(n=>{var s;return(s=window.electron)==null?void 0:s.ipcRenderer.send("serial",n)})},selectUSBDevice(t,e){this.$modal.show(aE,{title:"USB Device",options:e.map(n=>({text:n.productName,value:n.deviceId}))}).then(n=>{var s;return(s=window.electron)==null?void 0:s.ipcRenderer.send("usb-device",n)})},downloadLog(){const t=ut.history.join(`
`),e="data:text/plain;charset=utf-8,"+encodeURIComponent(t),n=`Log_${new Date().toISOString()}.txt`;this.logDownloadAnchorRef.setAttribute("href",e),this.logDownloadAnchorRef.setAttribute("download",n),this.logDownloadAnchorRef.click()}},created(){var t,e;this.darkMode=this.getDarkMode(),za.updatePending()&&za.finishUpdate(),(t=window.electron)==null||t.ipcRenderer.on("select-serial",this.selectSerial),(e=window.electron)==null||e.ipcRenderer.on("select-usb-device",this.selectUSBDevice)},unmounted(){var t,e;clearInterval(this.interval),(t=window.electron)==null||t.ipcRenderer.removeAllListeners("select-serial"),(e=window.electron)==null||e.ipcRenderer.removeAllListeners("select-usb-device")}}),Gu=t=>(xu("data-v-275bc7fd"),t=t(),Eu(),t),D3e={key:0,class:"modal is-active","z-index":"9999"},N3e=Gu(()=>m("div",{class:"modal-background"},null,-1)),U3e={class:"modal-content"},$3e={class:"text-center"},F3e={class:"m-1"},B3e={key:1,class:"modal is-active","z-index":"9999"},H3e=Gu(()=>m("div",{class:"modal-background"},null,-1)),G3e=Gu(()=>m("div",{class:"modal-content"},[m("div",{class:"notification is-danger"},[m("h1",{class:"is-size-3"},"Unsuported Browser!"),we(" Your Browser does not support the APIs necessary to use this application. Please use Chrome, Chromium or Edge! ")])],-1)),z3e=[H3e,G3e],V3e={class:"navbar is-fixed-top is-primary",role:"navigation","aria-label":"main navigation"},j3e={class:"navbar-brand"},W3e=Gu(()=>m("span",{"aria-hidden":"true"},null,-1)),q3e=Gu(()=>m("span",{"aria-hidden":"true"},null,-1)),X3e=Gu(()=>m("span",{"aria-hidden":"true"},null,-1)),K3e=[W3e,q3e,X3e],Y3e={key:0,class:"navbar-start"},Z3e={key:1,class:"navbar-start"},J3e={class:"navbar-end"},Q3e={class:"navbar-item"},eMe={class:"buttons"},tMe={ref:"logDownloadAnchor",style:{display:"none"}},nMe={class:"router-outlet-container"},sMe={class:"container"},iMe={key:2,class:"navbar is-fixed-bottom has-shadow"},rMe={class:"navbar-brand is-hidden-mobile"},oMe={class:"navbar-item is-size-4"},aMe={class:"navbar-start is-hidden-mobile"},lMe={class:"navbar-item"},cMe={class:"navbar-item",style:{"font-size":"70%"}},uMe={class:"navbar-item",style:{"font-size":"60%"}},dMe={class:"navbar-end"},fMe={class:"navbar-item"},hMe={class:"notification is-warning"},pMe={class:"notification is-warning"},mMe={class:"navbar-item pt-0"},gMe={class:"buttons"},_Me={class:"ml-3 mb-3 is-hidden-tablet",style:{"max-width":"40%"}},yMe={class:"is-size-5"},bMe={class:"is-size-7"};function vMe(t,e,n,s,i,r){const o=Le("font-awesome-icon"),a=Le("LogoTextDevelop"),l=Le("LogoText"),c=Le("router-link"),u=Le("tooltip"),d=Le("spinner-btn"),f=Le("AlertPortal"),h=Le("ModalPortal"),y=Le("router-view");return Q(),re(ot,null,[t.updateProcessing?(Q(),re("div",D3e,[N3e,m("div",U3e,[m("div",$3e,[m("h1",F3e,[J(o,{icon:"fa-solid fa-spinner",size:"lg","spin-pulse":""}),we(" Updating... ")])])])])):Ve("",!0),t.hasBrowserSupport?Ve("",!0):(Q(),re("div",B3e,z3e)),m("nav",V3e,[m("div",j3e,[J(c,{class:"navbar-item py-1",to:"/profile"},{default:tt(()=>[t.branch=="develop"?(Q(),Vt(a,{key:0,viewBox:"0 0 512 130",class:"text"})):(Q(),Vt(l,{key:1,viewBox:"0 0 512 82",class:"text"}))]),_:1}),m("a",{role:"button",class:"navbar-burger","aria-label":"menu","aria-expanded":"false","data-target":"mainMavbar",onClick:e[0]||(e[0]=_=>t.showMenuItem=!t.showMenuItem)},K3e)]),m("div",{id:"mainMavbar",class:cs(["navbar-menu",{"is-active":t.showMenuItem}])},[t.serial.is_connected?(Q(),re("div",Y3e,[J(c,{"active-class":"is-active",class:"navbar-item",to:"/templates"},{default:tt(()=>[we(" Templates ")]),_:1}),J(c,{"active-class":"is-active",class:"navbar-item",to:"/profile"},{default:tt(()=>[we(" Profile ")]),_:1}),J(c,{"active-class":"is-active",class:"navbar-item",to:"/setup"},{default:tt(()=>[we(" Setup ")]),_:1}),J(c,{"active-class":"is-active",class:"navbar-item",to:"/rates"},{default:tt(()=>[we(" Rates ")]),_:1}),J(c,{"active-class":"is-active",class:"navbar-item",to:"/receiver"},{default:tt(()=>[we(" Receiver ")]),_:1}),t.info.has_feature(t.Features.OSD)?(Q(),Vt(c,{key:0,"active-class":"is-active",class:"navbar-item",to:"/osd"},{default:tt(()=>[we(" OSD ")]),_:1})):Ve("",!0),J(c,{"active-class":"is-active",class:"navbar-item",to:"/motor"},{default:tt(()=>[we(" Motor ")]),_:1}),t.info.has_feature(t.Features.BLACKBOX)&&t.info.quic_protocol_version>1?(Q(),Vt(c,{key:1,"active-class":"is-active",class:"navbar-item",to:"/blackbox"},{default:tt(()=>[we(" Blackbox ")]),_:1})):Ve("",!0),J(c,{"active-class":"is-active",class:"navbar-item",to:"/state"},{default:tt(()=>[we(" State ")]),_:1}),t.info.has_feature(t.Features.DEBUG)&&t.info.quic_protocol_version>1?(Q(),Vt(c,{key:2,"active-class":"is-active",class:"navbar-item",to:"/perf"},{default:tt(()=>[we(" Perf ")]),_:1})):Ve("",!0)])):(Q(),re("div",Z3e,[J(c,{"active-class":"is-active",class:"navbar-item",to:"/"},{default:tt(()=>[we(" Home ")]),_:1}),J(c,{"active-class":"is-active",class:"navbar-item",to:"/flash"},{default:tt(()=>[we(" Flash ")]),_:1})])),m("div",J3e,[m("div",Q3e,[m("div",eMe,[m("button",{class:"button is-primary",onClick:e[1]||(e[1]=_=>t.downloadLog())},[J(u,{entry:"log.download"},{default:tt(()=>[J(o,{icon:"fa-solid fa-file-export",size:"lg","fixed-width":""})]),_:1}),m("a",tMe,null,512)]),m("button",{class:"button is-primary",onClick:e[2]||(e[2]=_=>t.setDarkMode(!t.darkMode))},[t.darkMode?(Q(),Vt(o,{key:1,icon:"fa-solid fa-cloud-sun",size:"lg","fixed-width":""})):(Q(),Vt(o,{key:0,icon:"fa-solid fa-cloud-moon",size:"lg","fixed-width":""}))]),J(d,{class:"is-primary ml-auto",onClick:t.serial.toggle_connection,disabled:!t.canConnect},{default:tt(()=>[we(Fe(t.connectButtonText),1)]),_:1},8,["onClick","disabled"])])])])],2)]),J(f),J(h),m("div",nMe,[m("div",sMe,[J(y)])]),t.serial.is_connected?(Q(),re("div",iMe,[m("div",rMe,[m("span",oMe,Fe(t.profile.meta.name),1)]),m("div",aMe,[m("span",lMe,"Modified "+Fe(t.profile.modified),1),m("span",cMe," Looptime "+Fe(t.state.looptime_autodetect)+" CPU Load "+Fe(t.state.cpu_load),1),m("span",uMe," CPU Temp "+Fe(t.state.cpu_temp.toFixed(2))+"C ",1)]),m("div",dMe,[m("span",fMe,[qe(m("div",hMe,[J(o,{icon:"fa-solid fa-triangle-exclamation"}),we(" Unsaved changes ")],512),[[_m,t.root.needs_apply]]),qe(m("div",pMe,[J(o,{icon:"fa-solid fa-triangle-exclamation"}),we(" Reboot required ")],512),[[_m,!t.root.needs_apply&&t.root.needs_reboot]])]),m("div",mMe,[m("div",gMe,[J(d,{class:"is-warning mx-2",onClick:e[3]||(e[3]=_=>t.serial.soft_reboot())},{default:tt(()=>[we(" Reboot ")]),_:1}),m("div",_Me,[m("div",yMe,Fe(t.profile.meta.name),1),m("div",bMe,"Modified "+Fe(t.profile.modified),1)]),J(d,{class:"is-primary ml-auto",onClick:e[4]||(e[4]=_=>t.profile.apply_profile(t.profile.$state)),disabled:t.info.is_read_only},{default:tt(()=>[we(" Apply ")]),_:1},8,["disabled"])])])])])):Ve("",!0)],64)}const wMe=ct(L3e,[["render",vMe],["__scopeId","data-v-275bc7fd"]]),sI=ND(),xMe=["profile"];sI.use(({store:t})=>{xMe.includes(t.$id)&&t.$subscribe(e=>{if(e.type!="direct")return;tn().set_needs_apply()})});const EMe=it({inheritAttrs:!1,data(){return{loading:!1}},computed:{filteredAttrs(){const t=/^on[^a-z]/,e={},{$attrs:n}=this;for(const s in n)t.test(s)||(e[s]=n[s]);return e}},methods:{clickHandler(t){const e=this.$attrs.onClick;this.loading=!0,Promise.resolve().then(()=>e?e(t):null).finally(()=>this.loading=!1)}}});function SMe(t,e,n,s,i,r){return Q(),re("button",mg({class:["button",{"is-loading":t.loading}]},t.filteredAttrs,{onClick:e[0]||(e[0]=(...o)=>t.clickHandler&&t.clickHandler(...o))}),[MR(t.$slots,"default")],16)}const TMe=ct(EMe,[["render",SMe]]),AMe={text:"Use this section to change motor positions, useful when using an fc in non standard configuration"},MMe={text:"Connect a lipo to access esc settings. Change direction of rotation. Not all esc are supported, Blheli-32 does not work"},RMe={text:"Can be used to flash serial receivers via passthrough, set correct uart and Start"},CMe={"channel.aux_arming":{text:"Arm the craft, default is to also activate Idle-up"},"channel.aux_blackbox":{text:"Start/stop blackbox recording"},"channel.aux_buzzer_enable":{disabled:!0},"channel.aux_fpv_switch":{text:"Vtx Pit mode on a switch"},"channel.aux_horizon":{text:"Self levelling up to a specific angle then Acro on both Roll and Pitch, requires Level mode active"},"channel.aux_idle_up":{text:"Ensures props never stop spinning, similar to airmode, default is to use the same channel as ARM"},"channel.aux_levelmode":{text:"Accelerometer data is used to self level, needed for Racemode and Horizon"},"channel.aux_motor_test":{text:"Activate the motor test function, useful to check individual motors in the field"},"channel.aux_prearm":{text:"Allows for a separate AUX channel to be set as a safety for arming, the set AUX should be ON before the ARM switch is activated. If not used leave this as ON"},"channel.aux_racemode":{text:"Uses self levelling only on the roll axis, acro on pitch, requires Level mode active"},"channel.aux_rate_profile":{disabled:!0},"channel.aux_rssi":{text:"For fcs that can send rssi on a channel"},"channel.aux_stick_boost_profile":{disabled:!0},"channel.aux_turtle":{text:"Set this to ON and the fc will detect when landed inverted and activate Turtle when ARM is active, optional to set to an Aux switch",link:"https://docs.bosshobby.com/Features/#turtle-mode"},"filter.dterm_1_freq":{disabled:!0},"filter.dterm_1_type":{disabled:!0},"filter.dterm_2_freq":{disabled:!0},"filter.dterm_2_type":{disabled:!0},"filter.dterm_dynamic_enable":{text:"Enable a dynamic D-term filtercut, you almost always want to leave this ON",link:"https://docs.bosshobby.com/Features/#dynamic-d-term"},"filter.dterm_dynamic_max":{disabled:!0},"filter.dterm_dynamic_min":{disabled:!0},"filter.gyro_1_freq":{disabled:!0},"filter.gyro_1_type":{disabled:!0},"filter.gyro_2_freq":{disabled:!0},"filter.gyro_2_type":{disabled:!0},"filter.settings":{text:"The default filter setting are designed to be safe, before making adjustments refer to the wiki",link:"https://docs.bosshobby.com/Features/#filters"},"flash.file-branch":{text:"Development branch to flash a hex from"},"flash.file-pull-request":{text:"Pull request to flash a hex from"},"flash.file-local":{text:"Choose a self built hex"},"flash.file-release":{text:"The default selection is the latest `stable` release, dev versions are available as testers"},"flash.file-commit":{text:"The latest commit hash on the selected branch"},"flash.file-remote":{text:"Targets are named `board_name.motor_type` choose serial if your rx is separate and attatched to a uart. If you don't see your fc listed exactly then don't flash, please ask for a target in our Discord server",link:"https://discord.gg/qzyvewaCnP"},"flash.reset":{text:"Pressing the `Reset To Bootloader` button should force the fc into DFU mode for flashing, if it doesn't work use the button on the fc while connecting USB"},"flash.source":{text:"If you compile your own hex select `local` and choose it in the next box"},"log.download":{text:"Download log file"},"motor.digital_idle":{text:"Adjust in small ammounts if needed to achieve smooth idle"},"motor.dshot_time":{text:"On some fcs this might need set to 300 to avoid failloops, Default 600"},"motor.flip_gyro":{disabled:!0},"motor.gyro_orientation":{text:"Change this if the fc is mounted in a non standard way, use with the flip-gyro option until the preview model moves correctly"},"motor.invert_yaw":{text:"Default is props out"},"motor.motor_limit":{text:"Set a cap on the maximum throttle"},"motor.test":{text:"Connect a lipo, PROPS OFF, use sliders to confirm motor operation and direction"},"motor.throttle_boost":{text:"Experimental, use with caution, can rob motors of power if set too high"},"motor.torque_boost":{text:"A very experimental feature for more advanced use",link:"https://docs.bosshobby.com/Features/#torque-boost"},"motor.turtle_throttle_percent":{text:"For whoops set to 100% larger craft start at 10% and increase by 10 to suit needs",link:"https://docs.bosshobby.com/Features/#turtle-mode"},motor_pins:AMe,motor_settings:MMe,"osd.elements":{text:"Select and position OSD elements, callsign must use upper case",link:"https://docs.bosshobby.com/Features/#osd"},"osd.font":{text:"A choice of fonts are available, select and upload. You can also upload your own custom boot logo as long as it a 288x72 Black/White/Transparent PNG"},"pid.angle_strength":{text:"Angle Strength adjusts how your craft responds to external forces from bumps to stick inputs",link:"https://docs.bosshobby.com/Features/#angle-strength"},"pid.preset":{text:"Select by thrust to weight ratio or props size, these presets give a safe starting point to further tune if needed"},"pid.profile":{text:"You can have 2 different sets of pids loaded in 2 profiles"},"pid.stick_profile":{text:"Allows for adjustment to stick feel",link:"https://docs.bosshobby.com/Features/#stick-boost"},"pid.tda_active":{text:"As higher throttle levels are reached D-term gain is reduced allowing the D-term notch filter to work safely",link:"https://docs.bosshobby.com/Features/#throttle-d-term-attenuation-tda"},"pid.tda_breakpoint":{text:"Throttle percentage before TDA starts to act"},"pid.tda_percent":{text:"Percentage reduction of D-term at max throttle"},"rate.level_max_angle":{text:"Increase to give a higher velocity for racing, combined with high camera angle, to a max of 90"},"rate.low_rate_mulitplier":{disabled:!0},"rate.mode":{text:"Silverware, Betaflight and Actual rates option"},"rate.profile":{text:"2 slots available for different profiles"},"rate.sticks_deadband":{text:"If your radio has `jitter` on Pitch/Roll stick center raising this a little can help"},"rate.throttle_expo":{text:"Adding some expo will soften the stick feel around the set `Throttle Mid`"},"rate.throttle_mid":{text:"Can be set to about where your `hover point` is giving improved resolution on the stick"},"receiver.bind_saved":{text:"Once you have bind and issued stick gesture up,up,up followed by down,down,down on Pitch this will show YES"},"receiver.channel_mapping":{text:"Quicksilver default is AETR the other option is TAER"},"receiver.lqi_source":{text:"Select the source for your rssi/lqi OSD display. Direct is best for ELRS, others can use Packet-Rate"},"receiver.protocol":{text:"Serial or spi connected rx will be detected automatically here"},"serial.digital_vtx":{text:"MSP serial port for digital systems like HDZero, DJI WTF and Walksnail. HDZero requires TX and RX connected to use msp, define the UART here"},"serial.rx":{text:"Enter the UART number the serial RX is connected to (for spi RX leave as NONE)"},"serial.smart_audio":{text:"Enter the UART the VTX TX line is connected to"},serial_passthrough:RMe,"voltage.actual_battery_voltage":{text:"Default is 4.2V, set to whatever value you get from a multimeter or lipo tester for a full lipo."},"voltage.vbat_scale":{text:"Use the value provided by the FC manufacturer"},"voltage.ibat_scale":{text:"Use the value provided by the FC manufacturer"},"voltage.lipo_cell_count":{text:"Enter the number of cells, leave at 0 to use autodetect"},"voltage.pid_voltage_compensation":{text:"Adjusts the pids to compensate for lipo voltage drop, default ON"},"voltage.reported_telemetry_voltage":{text:"Set to the value received by your tx or in the OSD view with a full lipo"},"voltage.vbattlow":{text:"Set the desired voltage to trigger a warning, single cell voltage is used Default 3.3V (uses Fuel gauge volts by default)",link:"https://docs.bosshobby.com/Features/#voltage"},"voltage.use_filtered_voltage_for_warnings":{text:"Use filtered voltage instead Fuel gauge volts for Warnings"}},kMe={updated(t,{value:e,oldValue:n},{transition:s}){e!==n&&(e?(s.beforeEnter(t),t.style.visibility="visible",s.enter(t)):s.leave(t,()=>{t.style.visibility="hidden"}))}},PMe=it({props:{text:String,entry:String,size:String},directives:{visible:kMe},setup(){return{}},data(){return{placmentClass:{},visbleClick:!1,visbleHover:!1}},computed:{tooltip(){return this.text?{text:this.text}:CMe[this.entry]},danger(){return!this.tooltip||!this.tooltip.text},visible(){return this.visbleClick||this.visbleHover},active(){return(this.text||this.entry)&&(!this.tooltip||!this.tooltip.disabled)}},methods:{onClick(){this.$slots.default||(this.visbleClick=!this.visbleClick)}},mounted(){if(!this.$refs.tooltipContainer||!this.$refs.tooltipContent)return;const{offsetTop:t,offsetLeft:e}=this.$refs.tooltipContainer,{clientHeight:n,clientWidth:s}=this.$refs.tooltipContent,i=t>=n,r=window.innerWidth-e<s,o=e<n;this.placmentClass={"tooltip-bottom":!i,"tooltip-top":i,"tooltip-left":r,"tooltip-right":o,"tooltip-center":!r&&!o}}}),IMe=["id"],OMe={ref:"tooltipContent",class:"tooltip-text has-text-centered has-text-light has-background-dark"},LMe={key:0},DMe={key:0},NMe=["href"],UMe={key:1};function $Me(t,e,n,s,i,r){const o=Le("font-awesome-icon"),a=e6("visible");return t.active?(Q(),re("span",{key:0,ref:"tooltipContainer",class:cs(["tooltip",t.placmentClass]),onMouseenter:e[0]||(e[0]=l=>t.visbleHover=!0),onMouseleave:e[1]||(e[1]=l=>t.visbleHover=!1),onClick:e[2]||(e[2]=(...l)=>t.onClick&&t.onClick(...l))},[MR(t.$slots,"default",{},()=>[m("span",{class:cs(["tooltip-icon",{"has-text-danger":t.danger,"has-text-grey":!t.danger}]),id:"tooltip-"+t.entry},[J(o,{icon:"fa-solid fa-circle-question",size:t.size,"fixed-width":""},null,8,["size"])],10,IMe)]),J(vv,{name:"tooltip"},{default:tt(()=>[qe((Q(),re("span",OMe,[t.danger?(Q(),re("span",UMe," Missing tooltip entry "+Fe(t.entry),1)):(Q(),re("span",LMe,[we(Fe(t.tooltip.text)+" ",1),t.tooltip.link?(Q(),re("div",DMe,[m("a",{target:"_blank",href:t.tooltip.link},"read more",8,NMe)])):Ve("",!0)]))])),[[a,t.visible]])]),_:1})],34)):Ve("",!0)}const FMe=ct(PMe,[["render",$Me]]),BMe=it({props:["modelValue","options"],emits:["update:modelValue"],computed:{inputVal:{get(){return this.modelValue},set(t){this.$emit("update:modelValue",t)}},optionMap(){return(this.options||[]).map(t=>typeof t=="string"?{text:t,value:t}:t)}}}),HMe={class:"select"},GMe=["value"];function zMe(t,e,n,s,i,r){return Q(),re("div",HMe,[qe(m("select",mg({"onUpdate:modelValue":e[0]||(e[0]=o=>t.inputVal=o)},t.$attrs),[(Q(!0),re(ot,null,Bt(t.optionMap,o=>(Q(),re("option",{key:o.value,value:o.value},Fe(o.text),9,GMe))),128))],16),[[yg,t.inputVal]])])}const VMe=ct(BMe,[["render",zMe]]),fM=()=>{};let ox={},iI={},rI=null,oI={mark:fM,measure:fM};try{typeof window<"u"&&(ox=window),typeof document<"u"&&(iI=document),typeof MutationObserver<"u"&&(rI=MutationObserver),typeof performance<"u"&&(oI=performance)}catch{}const{userAgent:hM=""}=ox.navigator||{},na=ox,Jt=iI,pM=rI,Sp=oI;na.document;const eo=!!Jt.documentElement&&!!Jt.head&&typeof Jt.addEventListener=="function"&&typeof Jt.createElement=="function",aI=~hM.indexOf("MSIE")||~hM.indexOf("Trident/");var sn="classic",lI="duotone",js="sharp",Ws="sharp-duotone",jMe=[sn,lI,js,Ws],WMe={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds"}},mM={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},qMe=["kit"],XMe=/fa(s|r|l|t|d|b|k|kd|ss|sr|sl|st|sds)?[\-\ ]/,KMe=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,YMe={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},ZMe={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds"}},JMe={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds"}},QMe={classic:["fas","far","fal","fat"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds"]},eRe={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid"}},tRe={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds"}},cI={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid"}},nRe=["solid","regular","light","thin","duotone","brands"],uI=[1,2,3,4,5,6,7,8,9,10],sRe=uI.concat([11,12,13,14,15,16,17,18,19,20]),Ud={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},iRe=[...Object.keys(QMe),...nRe,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Ud.GROUP,Ud.SWAP_OPACITY,Ud.PRIMARY,Ud.SECONDARY].concat(uI.map(t=>"".concat(t,"x"))).concat(sRe.map(t=>"w-".concat(t))),rRe={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},oRe={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},aRe={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},gM={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}};const Kr="___FONT_AWESOME___",Nb=16,dI="fa",fI="svg-inline--fa",ml="data-fa-i2svg",Ub="data-fa-pseudo-element",lRe="data-fa-pseudo-element-pending",ax="data-prefix",lx="data-icon",_M="fontawesome-i2svg",cRe="async",uRe=["HTML","HEAD","STYLE","SCRIPT"],hI=(()=>{try{return!0}catch{return!1}})(),pI=[sn,js,Ws];function Jf(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[sn]}})}const mI={...cI};mI[sn]={...cI[sn],...mM.kit,...mM["kit-duotone"]};const rl=Jf(mI),$b={...tRe};$b[sn]={...$b[sn],...gM.kit,...gM["kit-duotone"]};const Pf=Jf($b),Fb={...eRe};Fb[sn]={...Fb[sn],...aRe.kit};const ol=Jf(Fb),Bb={...JMe};Bb[sn]={...Bb[sn],...oRe.kit};const dRe=Jf(Bb),fRe=XMe,gI="fa-layers-text",hRe=KMe,pRe={...WMe};Jf(pRe);const mRe=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],f1=Ud,yu=new Set;Object.keys(Pf[sn]).map(yu.add.bind(yu));Object.keys(Pf[js]).map(yu.add.bind(yu));Object.keys(Pf[Ws]).map(yu.add.bind(yu));const gRe=[...qMe,...iRe],nf=na.FontAwesomeConfig||{};function _Re(t){var e=Jt.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function yRe(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}Jt&&typeof Jt.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,s]=e;const i=yRe(_Re(n));i!=null&&(nf[s]=i)});const _I={styleDefault:"solid",familyDefault:"classic",cssPrefix:dI,replacementClass:fI,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};nf.familyPrefix&&(nf.cssPrefix=nf.familyPrefix);const bu={..._I,...nf};bu.autoReplaceSvg||(bu.observeMutations=!1);const Xe={};Object.keys(_I).forEach(t=>{Object.defineProperty(Xe,t,{enumerable:!0,set:function(e){bu[t]=e,sf.forEach(n=>n(Xe))},get:function(){return bu[t]}})});Object.defineProperty(Xe,"familyPrefix",{enumerable:!0,set:function(t){bu.cssPrefix=t,sf.forEach(e=>e(Xe))},get:function(){return bu.cssPrefix}});na.FontAwesomeConfig=Xe;const sf=[];function bRe(t){return sf.push(t),()=>{sf.splice(sf.indexOf(t),1)}}const go=Nb,Ki={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function vRe(t){if(!t||!eo)return;const e=Jt.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;const n=Jt.head.childNodes;let s=null;for(let i=n.length-1;i>-1;i--){const r=n[i],o=(r.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(s=r)}return Jt.head.insertBefore(e,s),t}const wRe="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function If(){let t=12,e="";for(;t-- >0;)e+=wRe[Math.random()*62|0];return e}function zu(t){const e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function cx(t){return t.classList?zu(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function yI(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function xRe(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(yI(t[n]),'" '),"").trim()}function r_(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function ux(t){return t.size!==Ki.size||t.x!==Ki.x||t.y!==Ki.y||t.rotate!==Ki.rotate||t.flipX||t.flipY}function ERe(t){let{transform:e,containerWidth:n,iconWidth:s}=t;const i={transform:"translate(".concat(n/2," 256)")},r="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(r," ").concat(o," ").concat(a)},c={transform:"translate(".concat(s/2*-1," -256)")};return{outer:i,inner:l,path:c}}function SRe(t){let{transform:e,width:n=Nb,height:s=Nb,startCentered:i=!1}=t,r="";return i&&aI?r+="translate(".concat(e.x/go-n/2,"em, ").concat(e.y/go-s/2,"em) "):i?r+="translate(calc(-50% + ".concat(e.x/go,"em), calc(-50% + ").concat(e.y/go,"em)) "):r+="translate(".concat(e.x/go,"em, ").concat(e.y/go,"em) "),r+="scale(".concat(e.size/go*(e.flipX?-1:1),", ").concat(e.size/go*(e.flipY?-1:1),") "),r+="rotate(".concat(e.rotate,"deg) "),r}var TRe=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function bI(){const t=dI,e=fI,n=Xe.cssPrefix,s=Xe.replacementClass;let i=TRe;if(n!==t||s!==e){const r=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(r,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(s))}return i}let yM=!1;function h1(){Xe.autoAddCss&&!yM&&(vRe(bI()),yM=!0)}var ARe={mixout(){return{dom:{css:bI,insertCss:h1}}},hooks(){return{beforeDOMElementCreation(){h1()},beforeI2svg(){h1()}}}};const Yr=na||{};Yr[Kr]||(Yr[Kr]={});Yr[Kr].styles||(Yr[Kr].styles={});Yr[Kr].hooks||(Yr[Kr].hooks={});Yr[Kr].shims||(Yr[Kr].shims=[]);var Yi=Yr[Kr];const vI=[],wI=function(){Jt.removeEventListener("DOMContentLoaded",wI),Jm=1,vI.map(t=>t())};let Jm=!1;eo&&(Jm=(Jt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Jt.readyState),Jm||Jt.addEventListener("DOMContentLoaded",wI));function MRe(t){eo&&(Jm?setTimeout(t,0):vI.push(t))}function Qf(t){const{tag:e,attributes:n={},children:s=[]}=t;return typeof t=="string"?yI(t):"<".concat(e," ").concat(xRe(n),">").concat(s.map(Qf).join(""),"</").concat(e,">")}function bM(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var p1=function(e,n,s,i){var r=Object.keys(e),o=r.length,a=n,l,c,u;for(s===void 0?(l=1,u=e[r[0]]):(l=0,u=s);l<o;l++)c=r[l],u=a(u,e[c],c,e);return u};function RRe(t){const e=[];let n=0;const s=t.length;for(;n<s;){const i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<s){const r=t.charCodeAt(n++);(r&64512)==56320?e.push(((i&1023)<<10)+(r&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function Hb(t){const e=RRe(t);return e.length===1?e[0].toString(16):null}function CRe(t,e){const n=t.length;let s=t.charCodeAt(e),i;return s>=55296&&s<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(s-55296)*1024+i-56320+65536:s}function vM(t){return Object.keys(t).reduce((e,n)=>{const s=t[n];return!!s.icon?e[s.iconName]=s.icon:e[n]=s,e},{})}function Gb(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:s=!1}=n,i=vM(e);typeof Yi.hooks.addPack=="function"&&!s?Yi.hooks.addPack(t,vM(e)):Yi.styles[t]={...Yi.styles[t]||{},...i},t==="fas"&&Gb("fa",e)}const{styles:Ha,shims:kRe}=Yi,PRe={[sn]:Object.values(ol[sn]),[js]:Object.values(ol[js]),[Ws]:Object.values(ol[Ws])};let dx=null,xI={},EI={},SI={},TI={},AI={};const IRe={[sn]:Object.keys(rl[sn]),[js]:Object.keys(rl[js]),[Ws]:Object.keys(rl[Ws])};function ORe(t){return~gRe.indexOf(t)}function LRe(t,e){const n=e.split("-"),s=n[0],i=n.slice(1).join("-");return s===t&&i!==""&&!ORe(i)?i:null}const MI=()=>{const t=s=>p1(Ha,(i,r,o)=>(i[o]=p1(r,s,{}),i),{});xI=t((s,i,r)=>(i[3]&&(s[i[3]]=r),i[2]&&i[2].filter(a=>typeof a=="number").forEach(a=>{s[a.toString(16)]=r}),s)),EI=t((s,i,r)=>(s[r]=r,i[2]&&i[2].filter(a=>typeof a=="string").forEach(a=>{s[a]=r}),s)),AI=t((s,i,r)=>{const o=i[2];return s[r]=r,o.forEach(a=>{s[a]=r}),s});const e="far"in Ha||Xe.autoFetchSvg,n=p1(kRe,(s,i)=>{const r=i[0];let o=i[1];const a=i[2];return o==="far"&&!e&&(o="fas"),typeof r=="string"&&(s.names[r]={prefix:o,iconName:a}),typeof r=="number"&&(s.unicodes[r.toString(16)]={prefix:o,iconName:a}),s},{names:{},unicodes:{}});SI=n.names,TI=n.unicodes,dx=o_(Xe.styleDefault,{family:Xe.familyDefault})};bRe(t=>{dx=o_(t.styleDefault,{family:Xe.familyDefault})});MI();function fx(t,e){return(xI[t]||{})[e]}function DRe(t,e){return(EI[t]||{})[e]}function Go(t,e){return(AI[t]||{})[e]}function RI(t){return SI[t]||{prefix:null,iconName:null}}function NRe(t){const e=TI[t],n=fx("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function sa(){return dx}const hx=()=>({prefix:null,iconName:null,rest:[]});function o_(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=sn}=e,s=rl[n][t],i=Pf[n][t]||Pf[n][s],r=t in Yi.styles?t:null;return i||r||null}const URe={[sn]:Object.keys(ol[sn]),[js]:Object.keys(ol[js]),[Ws]:Object.keys(ol[Ws])};function a_(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=e,s={[sn]:"".concat(Xe.cssPrefix,"-").concat(sn),[js]:"".concat(Xe.cssPrefix,"-").concat(js),[Ws]:"".concat(Xe.cssPrefix,"-").concat(Ws)};let i=null,r=sn;const o=jMe.filter(l=>l!==lI);o.forEach(l=>{(t.includes(s[l])||t.some(c=>URe[l].includes(c)))&&(r=l)});const a=t.reduce((l,c)=>{const u=LRe(Xe.cssPrefix,c);if(Ha[c]?(c=PRe[r].includes(c)?dRe[r][c]:c,i=c,l.prefix=c):IRe[r].indexOf(c)>-1?(i=c,l.prefix=o_(c,{family:r})):u?l.iconName=u:c!==Xe.replacementClass&&!o.some(d=>c===s[d])&&l.rest.push(c),!n&&l.prefix&&l.iconName){const d=i==="fa"?RI(l.iconName):{},f=Go(l.prefix,l.iconName);d.prefix&&(i=null),l.iconName=d.iconName||f||l.iconName,l.prefix=d.prefix||l.prefix,l.prefix==="far"&&!Ha.far&&Ha.fas&&!Xe.autoFetchSvg&&(l.prefix="fas")}return l},hx());return(t.includes("fa-brands")||t.includes("fab"))&&(a.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(a.prefix="fad"),!a.prefix&&r===js&&(Ha.fass||Xe.autoFetchSvg)&&(a.prefix="fass",a.iconName=Go(a.prefix,a.iconName)||a.iconName),!a.prefix&&r===Ws&&(Ha.fasds||Xe.autoFetchSvg)&&(a.prefix="fasds",a.iconName=Go(a.prefix,a.iconName)||a.iconName),(a.prefix==="fa"||i==="fa")&&(a.prefix=sa()||"fas"),a}class $Re{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];const i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(r=>{this.definitions[r]={...this.definitions[r]||{},...i[r]},Gb(r,i[r]);const o=ol[sn][r];o&&Gb(o,i[r]),MI()})}reset(){this.definitions={}}_pullDefinitions(e,n){const s=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(s).map(i=>{const{prefix:r,iconName:o,icon:a}=s[i],l=a[2];e[r]||(e[r]={}),l.length>0&&l.forEach(c=>{typeof c=="string"&&(e[r][c]=a)}),e[r][o]=a}),e}}let wM=[],Sc={};const Gc={},FRe=Object.keys(Gc);function BRe(t,e){let{mixoutsTo:n}=e;return wM=t,Sc={},Object.keys(Gc).forEach(s=>{FRe.indexOf(s)===-1&&delete Gc[s]}),wM.forEach(s=>{const i=s.mixout?s.mixout():{};if(Object.keys(i).forEach(r=>{typeof i[r]=="function"&&(n[r]=i[r]),typeof i[r]=="object"&&Object.keys(i[r]).forEach(o=>{n[r]||(n[r]={}),n[r][o]=i[r][o]})}),s.hooks){const r=s.hooks();Object.keys(r).forEach(o=>{Sc[o]||(Sc[o]=[]),Sc[o].push(r[o])})}s.provides&&s.provides(Gc)}),n}function zb(t,e){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i];return(Sc[t]||[]).forEach(o=>{e=o.apply(null,[e,...s])}),e}function gl(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];(Sc[t]||[]).forEach(r=>{r.apply(null,n)})}function ia(){const t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Gc[t]?Gc[t].apply(null,e):void 0}function Vb(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t;const n=t.prefix||sa();if(e)return e=Go(n,e)||e,bM(CI.definitions,n,e)||bM(Yi.styles,n,e)}const CI=new $Re,HRe=()=>{Xe.autoReplaceSvg=!1,Xe.observeMutations=!1,gl("noAuto")},GRe={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return eo?(gl("beforeI2svg",t),ia("pseudoElements2svg",t),ia("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=t;Xe.autoReplaceSvg===!1&&(Xe.autoReplaceSvg=!0),Xe.observeMutations=!0,MRe(()=>{VRe({autoReplaceSvgRoot:e}),gl("watch",t)})}},zRe={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:Go(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){const e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=o_(t[0]);return{prefix:n,iconName:Go(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(Xe.cssPrefix,"-"))>-1||t.match(fRe))){const e=a_(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||sa(),iconName:Go(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){const e=sa();return{prefix:e,iconName:Go(e,t)||t}}}},Xs={noAuto:HRe,config:Xe,dom:GRe,parse:zRe,library:CI,findIconDefinition:Vb,toHtml:Qf},VRe=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=Jt}=t;(Object.keys(Yi.styles).length>0||Xe.autoFetchSvg)&&eo&&Xe.autoReplaceSvg&&Xs.dom.i2svg({node:e})};function l_(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>Qf(n))}}),Object.defineProperty(t,"node",{get:function(){if(!eo)return;const n=Jt.createElement("div");return n.innerHTML=t.html,n.children}}),t}function jRe(t){let{children:e,main:n,mask:s,attributes:i,styles:r,transform:o}=t;if(ux(o)&&n.found&&!s.found){const{width:a,height:l}=n,c={x:a/l/2,y:.5};i.style=r_({...r,"transform-origin":"".concat(c.x+o.x/16,"em ").concat(c.y+o.y/16,"em")})}return[{tag:"svg",attributes:i,children:e}]}function WRe(t){let{prefix:e,iconName:n,children:s,attributes:i,symbol:r}=t;const o=r===!0?"".concat(e,"-").concat(Xe.cssPrefix,"-").concat(n):r;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:{...i,id:o},children:s}]}]}function px(t){const{icons:{main:e,mask:n},prefix:s,iconName:i,transform:r,symbol:o,title:a,maskId:l,titleId:c,extra:u,watchable:d=!1}=t,{width:f,height:h}=n.found?n:e,y=s==="fak",_=[Xe.replacementClass,i?"".concat(Xe.cssPrefix,"-").concat(i):""].filter(A=>u.classes.indexOf(A)===-1).filter(A=>A!==""||!!A).concat(u.classes).join(" ");let p={children:[],attributes:{...u.attributes,"data-prefix":s,"data-icon":i,class:_,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(f," ").concat(h)}};const g=y&&!~u.classes.indexOf("fa-fw")?{width:"".concat(f/h*16*.0625,"em")}:{};d&&(p.attributes[ml]=""),a&&(p.children.push({tag:"title",attributes:{id:p.attributes["aria-labelledby"]||"title-".concat(c||If())},children:[a]}),delete p.attributes.title);const b={...p,prefix:s,iconName:i,main:e,mask:n,maskId:l,transform:r,symbol:o,styles:{...g,...u.styles}},{children:v,attributes:w}=n.found&&e.found?ia("generateAbstractMask",b)||{children:[],attributes:{}}:ia("generateAbstractIcon",b)||{children:[],attributes:{}};return b.children=v,b.attributes=w,o?WRe(b):jRe(b)}function xM(t){const{content:e,width:n,height:s,transform:i,title:r,extra:o,watchable:a=!1}=t,l={...o.attributes,...r?{title:r}:{},class:o.classes.join(" ")};a&&(l[ml]="");const c={...o.styles};ux(i)&&(c.transform=SRe({transform:i,startCentered:!0,width:n,height:s}),c["-webkit-transform"]=c.transform);const u=r_(c);u.length>0&&(l.style=u);const d=[];return d.push({tag:"span",attributes:l,children:[e]}),r&&d.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),d}function qRe(t){const{content:e,title:n,extra:s}=t,i={...s.attributes,...n?{title:n}:{},class:s.classes.join(" ")},r=r_(s.styles);r.length>0&&(i.style=r);const o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}const{styles:m1}=Yi;function jb(t){const e=t[0],n=t[1],[s]=t.slice(4);let i=null;return Array.isArray(s)?i={tag:"g",attributes:{class:"".concat(Xe.cssPrefix,"-").concat(f1.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Xe.cssPrefix,"-").concat(f1.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(Xe.cssPrefix,"-").concat(f1.PRIMARY),fill:"currentColor",d:s[1]}}]}:i={tag:"path",attributes:{fill:"currentColor",d:s}},{found:!0,width:e,height:n,icon:i}}const XRe={found:!1,width:512,height:512};function KRe(t,e){!hI&&!Xe.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function Wb(t,e){let n=e;return e==="fa"&&Xe.styleDefault!==null&&(e=sa()),new Promise((s,i)=>{if(n==="fa"){const r=RI(t)||{};t=r.iconName||t,e=r.prefix||e}if(t&&e&&m1[e]&&m1[e][t]){const r=m1[e][t];return s(jb(r))}KRe(t,e),s({...XRe,icon:Xe.showMissingIcons&&t?ia("missingIconAbstract")||{}:{}})})}const EM=()=>{},qb=Xe.measurePerformance&&Sp&&Sp.mark&&Sp.measure?Sp:{mark:EM,measure:EM},$d='FA "6.6.0"',YRe=t=>(qb.mark("".concat($d," ").concat(t," begins")),()=>kI(t)),kI=t=>{qb.mark("".concat($d," ").concat(t," ends")),qb.measure("".concat($d," ").concat(t),"".concat($d," ").concat(t," begins"),"".concat($d," ").concat(t," ends"))};var mx={begin:YRe,end:kI};const lm=()=>{};function SM(t){return typeof(t.getAttribute?t.getAttribute(ml):null)=="string"}function ZRe(t){const e=t.getAttribute?t.getAttribute(ax):null,n=t.getAttribute?t.getAttribute(lx):null;return e&&n}function JRe(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Xe.replacementClass)}function QRe(){return Xe.autoReplaceSvg===!0?cm.replace:cm[Xe.autoReplaceSvg]||cm.replace}function e4e(t){return Jt.createElementNS("http://www.w3.org/2000/svg",t)}function t4e(t){return Jt.createElement(t)}function PI(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=t.tag==="svg"?e4e:t4e}=e;if(typeof t=="string")return Jt.createTextNode(t);const s=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(r){s.setAttribute(r,t.attributes[r])}),(t.children||[]).forEach(function(r){s.appendChild(PI(r,{ceFn:n}))}),s}function n4e(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const cm={replace:function(t){const e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(PI(n),e)}),e.getAttribute(ml)===null&&Xe.keepOriginalSource){let n=Jt.createComment(n4e(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){const e=t[0],n=t[1];if(~cx(e).indexOf(Xe.replacementClass))return cm.replace(t);const s=new RegExp("".concat(Xe.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const r=n[0].attributes.class.split(" ").reduce((o,a)=>(a===Xe.replacementClass||a.match(s)?o.toSvg.push(a):o.toNode.push(a),o),{toNode:[],toSvg:[]});n[0].attributes.class=r.toSvg.join(" "),r.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",r.toNode.join(" "))}const i=n.map(r=>Qf(r)).join(`
`);e.setAttribute(ml,""),e.innerHTML=i}};function TM(t){t()}function II(t,e){const n=typeof e=="function"?e:lm;if(t.length===0)n();else{let s=TM;Xe.mutateApproach===cRe&&(s=na.requestAnimationFrame||TM),s(()=>{const i=QRe(),r=mx.begin("mutate");t.map(i),r(),n()})}}let gx=!1;function OI(){gx=!0}function Xb(){gx=!1}let Qm=null;function AM(t){if(!pM||!Xe.observeMutations)return;const{treeCallback:e=lm,nodeCallback:n=lm,pseudoElementsCallback:s=lm,observeMutationsRoot:i=Jt}=t;Qm=new pM(r=>{if(gx)return;const o=sa();zu(r).forEach(a=>{if(a.type==="childList"&&a.addedNodes.length>0&&!SM(a.addedNodes[0])&&(Xe.searchPseudoElements&&s(a.target),e(a.target)),a.type==="attributes"&&a.target.parentNode&&Xe.searchPseudoElements&&s(a.target.parentNode),a.type==="attributes"&&SM(a.target)&&~mRe.indexOf(a.attributeName))if(a.attributeName==="class"&&ZRe(a.target)){const{prefix:l,iconName:c}=a_(cx(a.target));a.target.setAttribute(ax,l||o),c&&a.target.setAttribute(lx,c)}else JRe(a.target)&&n(a.target)})}),eo&&Qm.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function s4e(){Qm&&Qm.disconnect()}function i4e(t){const e=t.getAttribute("style");let n=[];return e&&(n=e.split(";").reduce((s,i)=>{const r=i.split(":"),o=r[0],a=r.slice(1);return o&&a.length>0&&(s[o]=a.join(":").trim()),s},{})),n}function r4e(t){const e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),s=t.innerText!==void 0?t.innerText.trim():"";let i=a_(cx(t));return i.prefix||(i.prefix=sa()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&s.length>0&&(i.iconName=DRe(i.prefix,t.innerText)||fx(i.prefix,Hb(t.innerText))),!i.iconName&&Xe.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function o4e(t){const e=zu(t.attributes).reduce((i,r)=>(i.name!=="class"&&i.name!=="style"&&(i[r.name]=r.value),i),{}),n=t.getAttribute("title"),s=t.getAttribute("data-fa-title-id");return Xe.autoA11y&&(n?e["aria-labelledby"]="".concat(Xe.replacementClass,"-title-").concat(s||If()):(e["aria-hidden"]="true",e.focusable="false")),e}function a4e(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Ki,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function MM(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:s,rest:i}=r4e(t),r=o4e(t),o=zb("parseNodeAttributes",{},t);let a=e.styleParser?i4e(t):[];return{iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:s,transform:Ki,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:a,attributes:r},...o}}const{styles:l4e}=Yi;function LI(t){const e=Xe.autoReplaceSvg==="nest"?MM(t,{styleParser:!1}):MM(t);return~e.extra.classes.indexOf(gI)?ia("generateLayersText",t,e):ia("generateSvgReplacementMutation",t,e)}let rr=new Set;pI.map(t=>{rr.add("fa-".concat(t))});Object.keys(rl[sn]).map(rr.add.bind(rr));Object.keys(rl[js]).map(rr.add.bind(rr));Object.keys(rl[Ws]).map(rr.add.bind(rr));rr=[...rr];function RM(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!eo)return Promise.resolve();const n=Jt.documentElement.classList,s=u=>n.add("".concat(_M,"-").concat(u)),i=u=>n.remove("".concat(_M,"-").concat(u)),r=Xe.autoFetchSvg?rr:pI.map(u=>"fa-".concat(u)).concat(Object.keys(l4e));r.includes("fa")||r.push("fa");const o=[".".concat(gI,":not([").concat(ml,"])")].concat(r.map(u=>".".concat(u,":not([").concat(ml,"])"))).join(", ");if(o.length===0)return Promise.resolve();let a=[];try{a=zu(t.querySelectorAll(o))}catch{}if(a.length>0)s("pending"),i("complete");else return Promise.resolve();const l=mx.begin("onTree"),c=a.reduce((u,d)=>{try{const f=LI(d);f&&u.push(f)}catch(f){hI||f.name==="MissingIcon"&&console.error(f)}return u},[]);return new Promise((u,d)=>{Promise.all(c).then(f=>{II(f,()=>{s("active"),s("complete"),i("pending"),typeof e=="function"&&e(),l(),u()})}).catch(f=>{l(),d(f)})})}function c4e(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;LI(t).then(n=>{n&&II([n],e)})}function u4e(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=(e||{}).icon?e:Vb(e||{});let{mask:i}=n;return i&&(i=(i||{}).icon?i:Vb(i||{})),t(s,{...n,mask:i})}}const d4e=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=Ki,symbol:s=!1,mask:i=null,maskId:r=null,title:o=null,titleId:a=null,classes:l=[],attributes:c={},styles:u={}}=e;if(!t)return;const{prefix:d,iconName:f,icon:h}=t;return l_({type:"icon",...t},()=>(gl("beforeDOMElementCreation",{iconDefinition:t,params:e}),Xe.autoA11y&&(o?c["aria-labelledby"]="".concat(Xe.replacementClass,"-title-").concat(a||If()):(c["aria-hidden"]="true",c.focusable="false")),px({icons:{main:jb(h),mask:i?jb(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:d,iconName:f,transform:{...Ki,...n},symbol:s,title:o,maskId:r,titleId:a,extra:{attributes:c,styles:u,classes:l}})))};var f4e={mixout(){return{icon:u4e(d4e)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=RM,t.nodeCallback=c4e,t}}},provides(t){t.i2svg=function(e){const{node:n=Jt,callback:s=()=>{}}=e;return RM(n,s)},t.generateSvgReplacementMutation=function(e,n){const{iconName:s,title:i,titleId:r,prefix:o,transform:a,symbol:l,mask:c,maskId:u,extra:d}=n;return new Promise((f,h)=>{Promise.all([Wb(s,o),c.iconName?Wb(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(y=>{let[_,p]=y;f([e,px({icons:{main:_,mask:p},prefix:o,iconName:s,transform:a,symbol:l,maskId:u,title:i,titleId:r,extra:d,watchable:!0})])}).catch(h)})},t.generateAbstractIcon=function(e){let{children:n,attributes:s,main:i,transform:r,styles:o}=e;const a=r_(o);a.length>0&&(s.style=a);let l;return ux(r)&&(l=ia("generateAbstractTransformGrouping",{main:i,transform:r,containerWidth:i.width,iconWidth:i.width})),n.push(l||i.icon),{children:n,attributes:s}}}},h4e={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=e;return l_({type:"layer"},()=>{gl("beforeDOMElementCreation",{assembler:t,params:e});let s=[];return t(i=>{Array.isArray(i)?i.map(r=>{s=s.concat(r.abstract)}):s=s.concat(i.abstract)}),[{tag:"span",attributes:{class:["".concat(Xe.cssPrefix,"-layers"),...n].join(" ")},children:s}]})}}}},p4e={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:s=[],attributes:i={},styles:r={}}=e;return l_({type:"counter",content:t},()=>(gl("beforeDOMElementCreation",{content:t,params:e}),qRe({content:t.toString(),title:n,extra:{attributes:i,styles:r,classes:["".concat(Xe.cssPrefix,"-layers-counter"),...s]}})))}}}},m4e={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=Ki,title:s=null,classes:i=[],attributes:r={},styles:o={}}=e;return l_({type:"text",content:t},()=>(gl("beforeDOMElementCreation",{content:t,params:e}),xM({content:t,transform:{...Ki,...n},title:s,extra:{attributes:r,styles:o,classes:["".concat(Xe.cssPrefix,"-layers-text"),...i]}})))}}},provides(t){t.generateLayersText=function(e,n){const{title:s,transform:i,extra:r}=n;let o=null,a=null;if(aI){const l=parseInt(getComputedStyle(e).fontSize,10),c=e.getBoundingClientRect();o=c.width/l,a=c.height/l}return Xe.autoA11y&&!s&&(r.attributes["aria-hidden"]="true"),Promise.resolve([e,xM({content:e.innerHTML,width:o,height:a,transform:i,title:s,extra:r,watchable:!0})])}}};const g4e=new RegExp('"',"ug"),CM=[1105920,1112319],kM={FontAwesome:{normal:"fas",400:"fas"},...ZMe,...YMe,...rRe},Kb=Object.keys(kM).reduce((t,e)=>(t[e.toLowerCase()]=kM[e],t),{}),_4e=Object.keys(Kb).reduce((t,e)=>{const n=Kb[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function y4e(t){const e=t.replace(g4e,""),n=CRe(e,0),s=n>=CM[0]&&n<=CM[1],i=e.length===2?e[0]===e[1]:!1;return{value:Hb(i?e[0]:e),isSecondary:s||i}}function b4e(t,e){const n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),s=parseInt(e),i=isNaN(s)?"normal":s;return(Kb[n]||{})[i]||_4e[n]}function PM(t,e){const n="".concat(lRe).concat(e.replace(":","-"));return new Promise((s,i)=>{if(t.getAttribute(n)!==null)return s();const o=zu(t.children).filter(f=>f.getAttribute(Ub)===e)[0],a=na.getComputedStyle(t,e),l=a.getPropertyValue("font-family"),c=l.match(hRe),u=a.getPropertyValue("font-weight"),d=a.getPropertyValue("content");if(o&&!c)return t.removeChild(o),s();if(c&&d!=="none"&&d!==""){const f=a.getPropertyValue("content");let h=b4e(l,u);const{value:y,isSecondary:_}=y4e(f),p=c[0].startsWith("FontAwesome");let g=fx(h,y),b=g;if(p){const v=NRe(y);v.iconName&&v.prefix&&(g=v.iconName,h=v.prefix)}if(g&&!_&&(!o||o.getAttribute(ax)!==h||o.getAttribute(lx)!==b)){t.setAttribute(n,b),o&&t.removeChild(o);const v=a4e(),{extra:w}=v;w.attributes[Ub]=e,Wb(g,h).then(A=>{const x=px({...v,icons:{main:A,mask:hx()},prefix:h,iconName:b,extra:w,watchable:!0}),T=Jt.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(T,t.firstChild):t.appendChild(T),T.outerHTML=x.map(M=>Qf(M)).join(`
`),t.removeAttribute(n),s()}).catch(i)}else s()}else s()})}function v4e(t){return Promise.all([PM(t,"::before"),PM(t,"::after")])}function w4e(t){return t.parentNode!==document.head&&!~uRe.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(Ub)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function IM(t){if(eo)return new Promise((e,n)=>{const s=zu(t.querySelectorAll("*")).filter(w4e).map(v4e),i=mx.begin("searchPseudoElements");OI(),Promise.all(s).then(()=>{i(),Xb(),e()}).catch(()=>{i(),Xb(),n()})})}var x4e={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=IM,t}}},provides(t){t.pseudoElements2svg=function(e){const{node:n=Jt}=e;Xe.searchPseudoElements&&IM(n)}}};let OM=!1;var E4e={mixout(){return{dom:{unwatch(){OI(),OM=!0}}}},hooks(){return{bootstrap(){AM(zb("mutationObserverCallbacks",{}))},noAuto(){s4e()},watch(t){const{observeMutationsRoot:e}=t;OM?Xb():AM(zb("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const LM=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,s)=>{const i=s.toLowerCase().split("-"),r=i[0];let o=i.slice(1).join("-");if(r&&o==="h")return n.flipX=!0,n;if(r&&o==="v")return n.flipY=!0,n;if(o=parseFloat(o),isNaN(o))return n;switch(r){case"grow":n.size=n.size+o;break;case"shrink":n.size=n.size-o;break;case"left":n.x=n.x-o;break;case"right":n.x=n.x+o;break;case"up":n.y=n.y-o;break;case"down":n.y=n.y+o;break;case"rotate":n.rotate=n.rotate+o;break}return n},e)};var S4e={mixout(){return{parse:{transform:t=>LM(t)}}},hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-transform");return n&&(t.transform=LM(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:s,containerWidth:i,iconWidth:r}=e;const o={transform:"translate(".concat(i/2," 256)")},a="translate(".concat(s.x*32,", ").concat(s.y*32,") "),l="scale(".concat(s.size/16*(s.flipX?-1:1),", ").concat(s.size/16*(s.flipY?-1:1),") "),c="rotate(".concat(s.rotate," 0 0)"),u={transform:"".concat(a," ").concat(l," ").concat(c)},d={transform:"translate(".concat(r/2*-1," -256)")},f={outer:o,inner:u,path:d};return{tag:"g",attributes:{...f.outer},children:[{tag:"g",attributes:{...f.inner},children:[{tag:n.icon.tag,children:n.icon.children,attributes:{...n.icon.attributes,...f.path}}]}]}}}};const g1={x:0,y:0,width:"100%",height:"100%"};function DM(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function T4e(t){return t.tag==="g"?t.children:[t]}var A4e={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-mask"),s=n?a_(n.split(" ").map(i=>i.trim())):hx();return s.prefix||(s.prefix=sa()),t.mask=s,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:s,main:i,mask:r,maskId:o,transform:a}=e;const{width:l,icon:c}=i,{width:u,icon:d}=r,f=ERe({transform:a,containerWidth:u,iconWidth:l}),h={tag:"rect",attributes:{...g1,fill:"white"}},y=c.children?{children:c.children.map(DM)}:{},_={tag:"g",attributes:{...f.inner},children:[DM({tag:c.tag,attributes:{...c.attributes,...f.path},...y})]},p={tag:"g",attributes:{...f.outer},children:[_]},g="mask-".concat(o||If()),b="clip-".concat(o||If()),v={tag:"mask",attributes:{...g1,id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"},children:[h,p]},w={tag:"defs",children:[{tag:"clipPath",attributes:{id:b},children:T4e(d)},v]};return n.push(w,{tag:"rect",attributes:{fill:"currentColor","clip-path":"url(#".concat(b,")"),mask:"url(#".concat(g,")"),...g1}}),{children:n,attributes:s}}}},M4e={provides(t){let e=!1;na.matchMedia&&(e=na.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const n=[],s={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:{...s,d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}});const r={...i,attributeName:"opacity"},o={tag:"circle",attributes:{...s,cx:"256",cy:"364",r:"28"},children:[]};return e||o.children.push({tag:"animate",attributes:{...i,attributeName:"r",values:"28;14;28;28;14;28;"}},{tag:"animate",attributes:{...r,values:"1;0;1;1;0;1;"}}),n.push(o),n.push({tag:"path",attributes:{...s,opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"},children:e?[]:[{tag:"animate",attributes:{...r,values:"1;0;0;0;0;1;"}}]}),e||n.push({tag:"path",attributes:{...s,opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"},children:[{tag:"animate",attributes:{...r,values:"0;0;1;1;0;0;"}}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},R4e={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-symbol"),s=n===null?!1:n===""?!0:n;return t.symbol=s,t}}}},C4e=[ARe,f4e,h4e,p4e,m4e,x4e,E4e,S4e,A4e,M4e,R4e];BRe(C4e,{mixoutsTo:Xs});Xs.noAuto;Xs.config;const k4e=Xs.library;Xs.dom;const Yb=Xs.parse;Xs.findIconDefinition;Xs.toHtml;const P4e=Xs.icon;Xs.layer;Xs.text;Xs.counter;function NM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function Ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NM(Object(n),!0).forEach(function(s){gs(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NM(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function I4e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function O4e(t){var e=I4e(t,"string");return typeof e=="symbol"?e:e+""}function eg(t){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eg(t)}function gs(t,e,n){return e=O4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L4e(t,e){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;n[s]=t[s]}return n}function D4e(t,e){if(t==null)return{};var n=L4e(t,e),s,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}var N4e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},DI={exports:{}};(function(t){(function(e){var n=function(g,b,v){if(!c(b)||d(b)||f(b)||h(b)||l(b))return b;var w,A=0,x=0;if(u(b))for(w=[],x=b.length;A<x;A++)w.push(n(g,b[A],v));else{w={};for(var T in b)Object.prototype.hasOwnProperty.call(b,T)&&(w[g(T,v)]=n(g,b[T],v))}return w},s=function(g,b){b=b||{};var v=b.separator||"_",w=b.split||/(?=[A-Z])/;return g.split(w).join(v)},i=function(g){return y(g)?g:(g=g.replace(/[\-_\s]+(.)?/g,function(b,v){return v?v.toUpperCase():""}),g.substr(0,1).toLowerCase()+g.substr(1))},r=function(g){var b=i(g);return b.substr(0,1).toUpperCase()+b.substr(1)},o=function(g,b){return s(g,b).toLowerCase()},a=Object.prototype.toString,l=function(g){return typeof g=="function"},c=function(g){return g===Object(g)},u=function(g){return a.call(g)=="[object Array]"},d=function(g){return a.call(g)=="[object Date]"},f=function(g){return a.call(g)=="[object RegExp]"},h=function(g){return a.call(g)=="[object Boolean]"},y=function(g){return g=g-0,g===g},_=function(g,b){var v=b&&"process"in b?b.process:b;return typeof v!="function"?g:function(w,A){return v(w,g,A)}},p={camelize:i,decamelize:o,pascalize:r,depascalize:o,camelizeKeys:function(g,b){return n(_(i,b),g)},decamelizeKeys:function(g,b){return n(_(o,b),g,b)},pascalizeKeys:function(g,b){return n(_(r,b),g)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};t.exports?t.exports=p:e.humps=p})(N4e)})(DI);var U4e=DI.exports,$4e=["class","style"];function F4e(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var s=n.indexOf(":"),i=U4e.camelize(n.slice(0,s)),r=n.slice(s+1).trim();return e[i]=r,e},{})}function B4e(t){return t.split(/\s+/).reduce(function(e,n){return e[n]=!0,e},{})}function NI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var s=(t.children||[]).map(function(l){return NI(l)}),i=Object.keys(t.attributes||{}).reduce(function(l,c){var u=t.attributes[c];switch(c){case"class":l.class=B4e(u);break;case"style":l.style=F4e(u);break;default:l.attrs[c]=u}return l},{attrs:{},class:{},style:{}});n.class;var r=n.style,o=r===void 0?{}:r,a=D4e(n,$4e);return ll(t.tag,Ir(Ir(Ir({},e),{},{class:i.class,style:Ir(Ir({},i.style),o)},i.attrs),a),s)}var UI=!1;try{UI=!0}catch{}function H4e(){if(!UI&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function _1(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?gs({},t,e):{}}function G4e(t){var e,n=(e={"fa-spin":t.spin,"fa-pulse":t.pulse,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-li":t.listItem,"fa-inverse":t.inverse,"fa-flip":t.flip===!0,"fa-flip-horizontal":t.flip==="horizontal"||t.flip==="both","fa-flip-vertical":t.flip==="vertical"||t.flip==="both"},gs(gs(gs(gs(gs(gs(gs(gs(gs(gs(e,"fa-".concat(t.size),t.size!==null),"fa-rotate-".concat(t.rotation),t.rotation!==null),"fa-pull-".concat(t.pull),t.pull!==null),"fa-swap-opacity",t.swapOpacity),"fa-bounce",t.bounce),"fa-shake",t.shake),"fa-beat",t.beat),"fa-fade",t.fade),"fa-beat-fade",t.beatFade),"fa-flash",t.flash),gs(gs(e,"fa-spin-pulse",t.spinPulse),"fa-spin-reverse",t.spinReverse));return Object.keys(n).map(function(s){return n[s]?s:null}).filter(function(s){return s})}function UM(t){if(t&&eg(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(Yb.icon)return Yb.icon(t);if(t===null)return null;if(eg(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}var z4e=it({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function(e){return[!0,!1,"horizontal","vertical","both"].indexOf(e)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},maskId:{type:String,default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(e){return["right","left"].indexOf(e)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(e){return[90,180,270].indexOf(Number.parseInt(e,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(e){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(e)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},titleId:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1}},setup:function(e,n){var s=n.attrs,i=gn(function(){return UM(e.icon)}),r=gn(function(){return _1("classes",G4e(e))}),o=gn(function(){return _1("transform",typeof e.transform=="string"?Yb.transform(e.transform):e.transform)}),a=gn(function(){return _1("mask",UM(e.mask))}),l=gn(function(){return P4e(i.value,Ir(Ir(Ir(Ir({},r.value),o.value),a.value),{},{symbol:e.symbol,title:e.title,titleId:e.titleId,maskId:e.maskId}))});tl(l,function(u){if(!u)return H4e("Could not find one or more icon(s)",i.value,a.value)},{immediate:!0});var c=gn(function(){return l.value?NI(l.value.abstract[0],{},s):null});return function(){return c.value}}});const V4e={prefix:"fas",iconName:"circle-question",icon:[512,512,[62108,"question-circle"],"f059","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3l58.3 0c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24l0-13.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1l-58.3 0c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"]},j4e={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 242.7-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7 288 32zM64 352c-35.3 0-64 28.7-64 64l0 32c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-32c0-35.3-28.7-64-64-64l-101.5 0-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352 64 352zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},W4e={prefix:"fas",iconName:"upload",icon:[512,512,[],"f093","M288 109.3L288 352c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-242.7-73.4 73.4c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l128-128c12.5-12.5 32.8-12.5 45.3 0l128 128c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L288 109.3zM64 352l128 0c0 35.3 28.7 64 64 64s64-28.7 64-64l128 0c35.3 0 64 28.7 64 64l0 32c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64l0-32c0-35.3 28.7-64 64-64zM432 456a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"]},q4e={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z"]},X4e={prefix:"fas",iconName:"file-export",icon:[576,512,["arrow-right-from-file"],"f56e","M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 128-168 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l168 0 0 112c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zM384 336l0-48 110.1 0-39-39c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l80 80c9.4 9.4 9.4 24.6 0 33.9l-80 80c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l39-39L384 336zm0-208l-128 0L256 0 384 128z"]},K4e={prefix:"fas",iconName:"cloud-moon",icon:[640,512,[],"f6c3","M495.8 0c5.5 0 10.9 .2 16.3 .7c7 .6 12.8 5.7 14.3 12.5s-1.6 13.9-7.7 17.3c-44.4 25.2-74.4 73-74.4 127.8c0 81 65.5 146.6 146.2 146.6c8.6 0 17-.7 25.1-2.1c6.9-1.2 13.8 2.2 17 8.5s1.9 13.8-3.1 18.7c-34.5 33.6-81.7 54.4-133.6 54.4c-9.3 0-18.4-.7-27.4-1.9c-11.2-22.6-29.8-40.9-52.6-51.7c-2.7-58.5-50.3-105.3-109.2-106.7c-1.7-10.4-2.6-21-2.6-31.8C304 86.1 389.8 0 495.8 0zM447.9 431.9c0 44.2-35.8 80-80 80L96 511.9c-53 0-96-43-96-96c0-47.6 34.6-87 80-94.6l0-1.3c0-53 43-96 96-96c34.9 0 65.4 18.6 82.2 46.4c13-9.1 28.8-14.4 45.8-14.4c44.2 0 80 35.8 80 80c0 5.9-.6 11.7-1.9 17.2c37.4 6.7 65.8 39.4 65.8 78.7z"]},Y4e={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480L40 480c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},Z4e={prefix:"fas",iconName:"cloud-sun",icon:[640,512,[9925],"f6c4","M294.2 1.2c5.1 2.1 8.7 6.7 9.6 12.1l14.1 84.7 84.7 14.1c5.4 .9 10 4.5 12.1 9.6s1.5 10.9-1.6 15.4l-38.5 55c-2.2-.1-4.4-.2-6.7-.2c-23.3 0-45.1 6.2-64 17.1l0-1.1c0-53-43-96-96-96s-96 43-96 96s43 96 96 96c8.1 0 15.9-1 23.4-2.9c-36.6 18.1-63.3 53.1-69.8 94.9l-24.4 17c-4.5 3.2-10.3 3.8-15.4 1.6s-8.7-6.7-9.6-12.1L98.1 317.9 13.4 303.8c-5.4-.9-10-4.5-12.1-9.6s-1.5-10.9 1.6-15.4L52.5 208 2.9 137.2c-3.2-4.5-3.8-10.3-1.6-15.4s6.7-8.7 12.1-9.6L98.1 98.1l14.1-84.7c.9-5.4 4.5-10 9.6-12.1s10.9-1.5 15.4 1.6L208 52.5 278.8 2.9c4.5-3.2 10.3-3.8 15.4-1.6zM144 208a64 64 0 1 1 128 0 64 64 0 1 1 -128 0zM639.9 431.9c0 44.2-35.8 80-80 80l-271.9 0c-53 0-96-43-96-96c0-47.6 34.6-87 80-94.6l0-1.3c0-53 43-96 96-96c34.9 0 65.4 18.6 82.2 46.4c13-9.1 28.8-14.4 45.8-14.4c44.2 0 80 35.8 80 80c0 5.9-.6 11.7-1.9 17.2c37.4 6.7 65.8 39.4 65.8 78.7z"]},J4e={prefix:"far",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M441 58.9L453.1 71c9.4 9.4 9.4 24.6 0 33.9L424 134.1 377.9 88 407 58.9c9.4-9.4 24.6-9.4 33.9 0zM209.8 256.2L344 121.9 390.1 168 255.8 302.2c-2.9 2.9-6.5 5-10.4 6.1l-58.5 16.7 16.7-58.5c1.1-3.9 3.2-7.5 6.1-10.4zM373.1 25L175.8 222.2c-8.7 8.7-15 19.4-18.3 31.1l-28.6 100c-2.4 8.4-.1 17.4 6.1 23.6s15.2 8.5 23.6 6.1l100-28.6c11.8-3.4 22.5-9.7 31.1-18.3L487 138.9c28.1-28.1 28.1-73.7 0-101.8L474.9 25C446.8-3.1 401.2-3.1 373.1 25zM88 64C39.4 64 0 103.4 0 152L0 424c0 48.6 39.4 88 88 88l272 0c48.6 0 88-39.4 88-88l0-112c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 112c0 22.1-17.9 40-40 40L88 464c-22.1 0-40-17.9-40-40l0-272c0-22.1 17.9-40 40-40l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24L88 64z"]};k4e.add(V4e,Y4e,W4e,K4e,Z4e,j4e,J4e,X4e,q4e);class Q4e{constructor(){Z(this,"state",wu({isShown:!1,resolve:void 0,component:void 0,props:{}}))}get isShown(){return this.state.isShown}get component(){return this.state.component}get props(){return this.state.props}show(e,n){return this.state.props=n||{},this.state.component=lg(e),this.state.isShown=!0,new Promise(s=>{this.state.resolve=s})}close(e){this.state.resolve&&this.state.resolve(e),this.state.isShown=!1,this.state.component=void 0,this.state.resolve=void 0,this.state.props={}}}const e5e={install(t){t.config.globalProperties.$modal=new Q4e}};var $I={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(Ji,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},s=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d/,r=/\d\d/,o=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,l={},c=function(p){return(p=+p)+(p>68?1900:2e3)},u=function(p){return function(g){this[p]=+g}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(p){(this.zone||(this.zone={})).offset=function(g){if(!g||g==="Z")return 0;var b=g.match(/([+-]|\d\d)/g),v=60*b[1]+(+b[2]||0);return v===0?0:b[0]==="+"?-v:v}(p)}],f=function(p){var g=l[p];return g&&(g.indexOf?g:g.s.concat(g.f))},h=function(p,g){var b,v=l.meridiem;if(v){for(var w=1;w<=24;w+=1)if(p.indexOf(v(w,0,g))>-1){b=w>12;break}}else b=p===(g?"pm":"PM");return b},y={A:[a,function(p){this.afternoon=h(p,!1)}],a:[a,function(p){this.afternoon=h(p,!0)}],Q:[i,function(p){this.month=3*(p-1)+1}],S:[i,function(p){this.milliseconds=100*+p}],SS:[r,function(p){this.milliseconds=10*+p}],SSS:[/\d{3}/,function(p){this.milliseconds=+p}],s:[o,u("seconds")],ss:[o,u("seconds")],m:[o,u("minutes")],mm:[o,u("minutes")],H:[o,u("hours")],h:[o,u("hours")],HH:[o,u("hours")],hh:[o,u("hours")],D:[o,u("day")],DD:[r,u("day")],Do:[a,function(p){var g=l.ordinal,b=p.match(/\d+/);if(this.day=b[0],g)for(var v=1;v<=31;v+=1)g(v).replace(/\[|\]/g,"")===p&&(this.day=v)}],w:[o,u("week")],ww:[r,u("week")],M:[o,u("month")],MM:[r,u("month")],MMM:[a,function(p){var g=f("months"),b=(f("monthsShort")||g.map(function(v){return v.slice(0,3)})).indexOf(p)+1;if(b<1)throw new Error;this.month=b%12||b}],MMMM:[a,function(p){var g=f("months").indexOf(p)+1;if(g<1)throw new Error;this.month=g%12||g}],Y:[/[+-]?\d+/,u("year")],YY:[r,function(p){this.year=c(p)}],YYYY:[/\d{4}/,u("year")],Z:d,ZZ:d};function _(p){var g,b;g=p,b=l&&l.formats;for(var v=(p=g.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(S,C,N){var G=N&&N.toUpperCase();return C||b[N]||n[N]||b[G].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(O,P,k){return P||k.slice(1)})})).match(s),w=v.length,A=0;A<w;A+=1){var x=v[A],T=y[x],M=T&&T[0],E=T&&T[1];v[A]=E?{regex:M,parser:E}:x.replace(/^\[|\]$/g,"")}return function(S){for(var C={},N=0,G=0;N<w;N+=1){var O=v[N];if(typeof O=="string")G+=O.length;else{var P=O.regex,k=O.parser,F=S.slice(G),I=P.exec(F)[0];k.call(C,I),S=S.replace(I,"")}}return function(ee){var Y=ee.afternoon;if(Y!==void 0){var me=ee.hours;Y?me<12&&(ee.hours+=12):me===12&&(ee.hours=0),delete ee.afternoon}}(C),C}}return function(p,g,b){b.p.customParseFormat=!0,p&&p.parseTwoDigitYear&&(c=p.parseTwoDigitYear);var v=g.prototype,w=v.parse;v.parse=function(A){var x=A.date,T=A.utc,M=A.args;this.$u=T;var E=M[1];if(typeof E=="string"){var S=M[2]===!0,C=M[3]===!0,N=S||C,G=M[2];C&&(G=M[2]),l=this.$locale(),!S&&G&&(l=b.Ls[G]),this.$d=function(F,I,ee,Y){try{if(["x","X"].indexOf(I)>-1)return new Date((I==="X"?1e3:1)*F);var me=_(I)(F),ge=me.year,Ce=me.month,le=me.day,_e=me.hours,Ie=me.minutes,ne=me.seconds,Me=me.milliseconds,Te=me.zone,ke=me.week,ze=new Date,V=le||(ge||Ce?1:ze.getDate()),B=ge||ze.getFullYear(),z=0;ge&&!Ce||(z=Ce>0?Ce-1:ze.getMonth());var te,ce=_e||0,ve=Ie||0,xe=ne||0,Re=Me||0;return Te?new Date(Date.UTC(B,z,V,ce,ve,xe,Re+60*Te.offset*1e3)):ee?new Date(Date.UTC(B,z,V,ce,ve,xe,Re)):(te=new Date(B,z,V,ce,ve,xe,Re),ke&&(te=Y(te).week(ke).toDate()),te)}catch{return new Date("")}}(x,E,T,b),this.init(),G&&G!==!0&&(this.$L=this.locale(G).$L),N&&x!=this.format(E)&&(this.$d=new Date("")),l={}}else if(E instanceof Array)for(var O=E.length,P=1;P<=O;P+=1){M[1]=E[P-1];var k=b.apply(this,M);if(k.isValid()){this.$d=k.$d,this.$L=k.$L,this.init();break}P===O&&(this.$d=new Date(""))}else w.call(this,A)}}})})($I);var t5e=$I.exports;const n5e=or(t5e);var FI={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(Ji,function(){return function(n,s){var i=s.prototype,r=i.format;i.format=function(o){var a=this,l=this.$locale();if(!this.isValid())return r.bind(this)(o);var c=this.$utils(),u=(o||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((a.$M+1)/3);case"Do":return l.ordinal(a.$D);case"gggg":return a.weekYear();case"GGGG":return a.isoWeekYear();case"wo":return l.ordinal(a.week(),"W");case"w":case"ww":return c.s(a.week(),d==="w"?1:2,"0");case"W":case"WW":return c.s(a.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return c.s(String(a.$H===0?24:a.$H),d==="k"?1:2,"0");case"X":return Math.floor(a.$d.getTime()/1e3);case"x":return a.$d.getTime();case"z":return"["+a.offsetName()+"]";case"zzz":return"["+a.offsetName("long")+"]";default:return d}});return r.bind(this)(u)}}})})(FI);var s5e=FI.exports;const i5e=or(s5e);var BI={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(Ji,function(){var n="month",s="quarter";return function(i,r){var o=r.prototype;o.quarter=function(c){return this.$utils().u(c)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(c-1))};var a=o.add;o.add=function(c,u){return c=Number(c),this.$utils().p(u)===s?this.add(3*c,n):a.bind(this)(c,u)};var l=o.startOf;o.startOf=function(c,u){var d=this.$utils(),f=!!d.u(u)||u;if(d.p(c)===s){var h=this.quarter()-1;return f?this.month(3*h).startOf(n).startOf("day"):this.month(3*h+2).endOf(n).endOf("day")}return l.bind(this)(c,u)}}})})(BI);var r5e=BI.exports;const o5e=or(r5e);var HI={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(Ji,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(s,i,r){var o=i.prototype,a=o.format;r.en.formats=n,o.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,u=function(d,f){return d.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(h,y,_){var p=_&&_.toUpperCase();return y||f[_]||n[_]||f[p].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(g,b,v){return b||v.slice(1)})})}(l,c===void 0?{}:c);return a.call(this,u)}}})})(HI);var a5e=HI.exports;const l5e=or(a5e);var GI={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(Ji,function(){var n="day";return function(s,i,r){var o=function(c){return c.add(4-c.isoWeekday(),n)},a=i.prototype;a.isoWeekYear=function(){return o(this).year()},a.isoWeek=function(c){if(!this.$utils().u(c))return this.add(7*(c-this.isoWeek()),n);var u,d,f,h,y=o(this),_=(u=this.isoWeekYear(),d=this.$u,f=(d?r.utc:r)().year(u).startOf("year"),h=4-f.isoWeekday(),f.isoWeekday()>4&&(h+=7),f.add(h,n));return y.diff(_,"week")+1},a.isoWeekday=function(c){return this.$utils().u(c)?this.day()||7:this.day(this.day()%7?c:c-7)};var l=a.startOf;a.startOf=function(c,u){var d=this.$utils(),f=!!d.u(u)||u;return d.p(c)==="isoweek"?f?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):l.bind(this)(c,u)}}})})(GI);var c5e=GI.exports;const u5e=or(c5e);En.extend(i5e);En.extend(o5e);En.extend(l5e);En.extend(n5e);En.extend(u5e);var d5e={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};rk._date.override({formats:function(){return d5e},parse:function(e,n){var s=typeof e;return e===null||s==="undefined"?null:s==="string"&&typeof n=="string"?En(e,n).isValid()?En(e,n).valueOf():null:e instanceof En?null:En(e).isValid()?En(e).valueOf():null},format:function(e,n){return En(e).format(n)},add:function(e,n,s){return En(e).add(n,s).valueOf()},diff:function(e,n,s){return En(e).diff(En(n),s)},startOf:function(e,n,s){if(n==="isoWeek"){var i=typeof s=="number"&&s>0&&s<7?s:1;return En(e).isoWeekday(i).startOf("day").valueOf()}return En(e).startOf(n).valueOf()},endOf:function(e,n){return En(e).endOf(n).valueOf()}});Kg.register(mte,hte,Ete,Qp,Id,Af,Fy,$y);const da=SL(wMe);da.component("spinner-btn",TMe);da.component("tooltip",FMe);da.component("input-select",VMe);da.component("FontAwesomeIcon",z4e);da.use(sI);da.use(Rr);da.use(e5e);da.mount("#app");export{CL as _};
