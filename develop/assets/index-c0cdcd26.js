var AR=Object.defineProperty;var kR=(t,e,n)=>e in t?AR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ke=(t,e,n)=>(kR(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function Gy(t,e){const n=Object.create(null),s=t.split(",");for(let i=0;i<s.length;i++)n[s[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}function Lm(t){if(qe(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=yn(s)?PR(s):Lm(s);if(i)for(const r in i)e[r]=i[r]}return e}else{if(yn(t))return t;if(Ht(t))return t}}const RR=/;(?![^(]*\))/g,CR=/:([^]+)/,OR=/\/\*.*?\*\//gs;function PR(t){const e={};return t.replace(OR,"").split(RR).forEach(n=>{if(n){const s=n.split(CR);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Xs(t){let e="";if(yn(t))e=t;else if(qe(t))for(let n=0;n<t.length;n++){const s=Xs(t[n]);s&&(e+=s+" ")}else if(Ht(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const LR="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",IR=Gy(LR);function jT(t){return!!t||t===""}function DR(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=gf(t[s],e[s]);return n}function gf(t,e){if(t===e)return!0;let n=x2(t),s=x2(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=Md(t),s=Md(e),n||s)return t===e;if(n=qe(t),s=qe(e),n||s)return n&&s?DR(t,e):!1;if(n=Ht(t),s=Ht(e),n||s){if(!n||!s)return!1;const i=Object.keys(t).length,r=Object.keys(e).length;if(i!==r)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!gf(t[o],e[o]))return!1}}return String(t)===String(e)}function Hy(t,e){return t.findIndex(n=>gf(n,e))}const Fe=t=>yn(t)?t:t==null?"":qe(t)||Ht(t)&&(t.toString===KT||!lt(t.toString))?JSON.stringify(t,qT,2):String(t),qT=(t,e)=>e&&e.__v_isRef?qT(t,e.value):cc(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i])=>(n[`${s} =>`]=i,n),{})}:Yc(e)?{[`Set(${e.size})`]:[...e.values()]}:Ht(e)&&!qe(e)&&!XT(e)?String(e):e,Kt={},lc=[],vi=()=>{},FR=()=>!1,NR=/^on[^a-z]/,Im=t=>NR.test(t),Vy=t=>t.startsWith("onUpdate:"),Ln=Object.assign,Wy=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},UR=Object.prototype.hasOwnProperty,xt=(t,e)=>UR.call(t,e),qe=Array.isArray,cc=t=>_f(t)==="[object Map]",Yc=t=>_f(t)==="[object Set]",x2=t=>_f(t)==="[object Date]",lt=t=>typeof t=="function",yn=t=>typeof t=="string",Md=t=>typeof t=="symbol",Ht=t=>t!==null&&typeof t=="object",YT=t=>Ht(t)&&lt(t.then)&&lt(t.catch),KT=Object.prototype.toString,_f=t=>KT.call(t),$R=t=>_f(t).slice(8,-1),XT=t=>_f(t)==="[object Object]",jy=t=>yn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,lp=Gy(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Dm=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},BR=/-(\w)/g,er=Dm(t=>t.replace(BR,(e,n)=>n?n.toUpperCase():"")),zR=/\B([A-Z])/g,Kc=Dm(t=>t.replace(zR,"-$1").toLowerCase()),Fm=Dm(t=>t.charAt(0).toUpperCase()+t.slice(1)),r0=Dm(t=>t?`on${Fm(t)}`:""),Ad=(t,e)=>!Object.is(t,e),cp=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Fp=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Np=t=>{const e=parseFloat(t);return isNaN(e)?t:e},GR=t=>{const e=yn(t)?Number(t):NaN;return isNaN(e)?t:e};let S2;const HR=()=>S2||(S2=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Ms;class ZT{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ms,!e&&Ms&&(this.index=(Ms.scopes||(Ms.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Ms;try{return Ms=this,e()}finally{Ms=n}}}on(){Ms=this}off(){Ms=this.parent}stop(e){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function JT(t){return new ZT(t)}function VR(t,e=Ms){e&&e.active&&e.effects.push(t)}function QT(){return Ms}function WR(t){Ms&&Ms.cleanups.push(t)}const qy=t=>{const e=new Set(t);return e.w=0,e.n=0,e},eM=t=>(t.w&No)>0,tM=t=>(t.n&No)>0,jR=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=No},qR=t=>{const{deps:e}=t;if(e.length){let n=0;for(let s=0;s<e.length;s++){const i=e[s];eM(i)&&!tM(i)?i.delete(t):e[n++]=i,i.w&=~No,i.n&=~No}e.length=n}},Up=new WeakMap;let Ku=0,No=1;const o1=30;let fi;const La=Symbol(""),a1=Symbol("");class Yy{constructor(e,n=null,s){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,VR(this,s)}run(){if(!this.active)return this.fn();let e=fi,n=Ro;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=fi,fi=this,Ro=!0,No=1<<++Ku,Ku<=o1?jR(this):E2(this),this.fn()}finally{Ku<=o1&&qR(this),No=1<<--Ku,fi=this.parent,Ro=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){fi===this?this.deferStop=!0:this.active&&(E2(this),this.onStop&&this.onStop(),this.active=!1)}}function E2(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Ro=!0;const nM=[];function Xc(){nM.push(Ro),Ro=!1}function Zc(){const t=nM.pop();Ro=t===void 0?!0:t}function vs(t,e,n){if(Ro&&fi){let s=Up.get(t);s||Up.set(t,s=new Map);let i=s.get(n);i||s.set(n,i=qy()),sM(i)}}function sM(t,e){let n=!1;Ku<=o1?tM(t)||(t.n|=No,n=!eM(t)):n=!t.has(fi),n&&(t.add(fi),fi.deps.push(t))}function Nr(t,e,n,s,i,r){const o=Up.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&qe(t)){const l=Number(s);o.forEach((c,u)=>{(u==="length"||u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":qe(t)?jy(n)&&a.push(o.get("length")):(a.push(o.get(La)),cc(t)&&a.push(o.get(a1)));break;case"delete":qe(t)||(a.push(o.get(La)),cc(t)&&a.push(o.get(a1)));break;case"set":cc(t)&&a.push(o.get(La));break}if(a.length===1)a[0]&&l1(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);l1(qy(l))}}function l1(t,e){const n=qe(t)?t:[...t];for(const s of n)s.computed&&T2(s);for(const s of n)s.computed||T2(s)}function T2(t,e){(t!==fi||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function YR(t,e){var n;return(n=Up.get(t))===null||n===void 0?void 0:n.get(e)}const KR=Gy("__proto__,__v_isRef,__isVue"),iM=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Md)),XR=Ky(),ZR=Ky(!1,!0),JR=Ky(!0),M2=QR();function QR(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=st(this);for(let r=0,o=this.length;r<o;r++)vs(s,"get",r+"");const i=s[e](...n);return i===-1||i===!1?s[e](...n.map(st)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Xc();const s=st(this)[e].apply(this,n);return Zc(),s}}),t}function eC(t){const e=st(this);return vs(e,"has",t),e.hasOwnProperty(t)}function Ky(t=!1,e=!1){return function(s,i,r){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&r===(t?e?gC:cM:e?lM:aM).get(s))return s;const o=qe(s);if(!t){if(o&&xt(M2,i))return Reflect.get(M2,i,r);if(i==="hasOwnProperty")return eC}const a=Reflect.get(s,i,r);return(Md(i)?iM.has(i):KR(i))||(t||vs(s,"get",i),e)?a:gn(a)?o&&jy(i)?a:a.value:Ht(a)?t?uM(a):ol(a):a}}const tC=rM(),nC=rM(!0);function rM(t=!1){return function(n,s,i,r){let o=n[s];if(Tc(o)&&gn(o)&&!gn(i))return!1;if(!t&&(!$p(i)&&!Tc(i)&&(o=st(o),i=st(i)),!qe(n)&&gn(o)&&!gn(i)))return o.value=i,!0;const a=qe(n)&&jy(s)?Number(s)<n.length:xt(n,s),l=Reflect.set(n,s,i,r);return n===st(r)&&(a?Ad(i,o)&&Nr(n,"set",s,i):Nr(n,"add",s,i)),l}}function sC(t,e){const n=xt(t,e);t[e];const s=Reflect.deleteProperty(t,e);return s&&n&&Nr(t,"delete",e,void 0),s}function iC(t,e){const n=Reflect.has(t,e);return(!Md(e)||!iM.has(e))&&vs(t,"has",e),n}function rC(t){return vs(t,"iterate",qe(t)?"length":La),Reflect.ownKeys(t)}const oM={get:XR,set:tC,deleteProperty:sC,has:iC,ownKeys:rC},oC={get:JR,set(t,e){return!0},deleteProperty(t,e){return!0}},aC=Ln({},oM,{get:ZR,set:nC}),Xy=t=>t,Nm=t=>Reflect.getPrototypeOf(t);function Vf(t,e,n=!1,s=!1){t=t.__v_raw;const i=st(t),r=st(e);n||(e!==r&&vs(i,"get",e),vs(i,"get",r));const{has:o}=Nm(i),a=s?Xy:n?Qy:kd;if(o.call(i,e))return a(t.get(e));if(o.call(i,r))return a(t.get(r));t!==i&&t.get(e)}function Wf(t,e=!1){const n=this.__v_raw,s=st(n),i=st(t);return e||(t!==i&&vs(s,"has",t),vs(s,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function jf(t,e=!1){return t=t.__v_raw,!e&&vs(st(t),"iterate",La),Reflect.get(t,"size",t)}function A2(t){t=st(t);const e=st(this);return Nm(e).has.call(e,t)||(e.add(t),Nr(e,"add",t,t)),this}function k2(t,e){e=st(e);const n=st(this),{has:s,get:i}=Nm(n);let r=s.call(n,t);r||(t=st(t),r=s.call(n,t));const o=i.call(n,t);return n.set(t,e),r?Ad(e,o)&&Nr(n,"set",t,e):Nr(n,"add",t,e),this}function R2(t){const e=st(this),{has:n,get:s}=Nm(e);let i=n.call(e,t);i||(t=st(t),i=n.call(e,t)),s&&s.call(e,t);const r=e.delete(t);return i&&Nr(e,"delete",t,void 0),r}function C2(){const t=st(this),e=t.size!==0,n=t.clear();return e&&Nr(t,"clear",void 0,void 0),n}function qf(t,e){return function(s,i){const r=this,o=r.__v_raw,a=st(o),l=e?Xy:t?Qy:kd;return!t&&vs(a,"iterate",La),o.forEach((c,u)=>s.call(i,l(c),l(u),r))}}function Yf(t,e,n){return function(...s){const i=this.__v_raw,r=st(i),o=cc(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=i[t](...s),u=n?Xy:e?Qy:kd;return!e&&vs(r,"iterate",l?a1:La),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function Kr(t){return function(...e){return t==="delete"?!1:this}}function lC(){const t={get(r){return Vf(this,r)},get size(){return jf(this)},has:Wf,add:A2,set:k2,delete:R2,clear:C2,forEach:qf(!1,!1)},e={get(r){return Vf(this,r,!1,!0)},get size(){return jf(this)},has:Wf,add:A2,set:k2,delete:R2,clear:C2,forEach:qf(!1,!0)},n={get(r){return Vf(this,r,!0)},get size(){return jf(this,!0)},has(r){return Wf.call(this,r,!0)},add:Kr("add"),set:Kr("set"),delete:Kr("delete"),clear:Kr("clear"),forEach:qf(!0,!1)},s={get(r){return Vf(this,r,!0,!0)},get size(){return jf(this,!0)},has(r){return Wf.call(this,r,!0)},add:Kr("add"),set:Kr("set"),delete:Kr("delete"),clear:Kr("clear"),forEach:qf(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=Yf(r,!1,!1),n[r]=Yf(r,!0,!1),e[r]=Yf(r,!1,!0),s[r]=Yf(r,!0,!0)}),[t,n,e,s]}const[cC,uC,dC,fC]=lC();function Zy(t,e){const n=e?t?fC:dC:t?uC:cC;return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(xt(n,i)&&i in s?n:s,i,r)}const hC={get:Zy(!1,!1)},pC={get:Zy(!1,!0)},mC={get:Zy(!0,!1)},aM=new WeakMap,lM=new WeakMap,cM=new WeakMap,gC=new WeakMap;function _C(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function yC(t){return t.__v_skip||!Object.isExtensible(t)?0:_C($R(t))}function ol(t){return Tc(t)?t:Jy(t,!1,oM,hC,aM)}function bC(t){return Jy(t,!1,aC,pC,lM)}function uM(t){return Jy(t,!0,oC,mC,cM)}function Jy(t,e,n,s,i){if(!Ht(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=i.get(t);if(r)return r;const o=yC(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return i.set(t,a),a}function Co(t){return Tc(t)?Co(t.__v_raw):!!(t&&t.__v_isReactive)}function Tc(t){return!!(t&&t.__v_isReadonly)}function $p(t){return!!(t&&t.__v_isShallow)}function rd(t){return Co(t)||Tc(t)}function st(t){const e=t&&t.__v_raw;return e?st(e):t}function Mc(t){return Fp(t,"__v_skip",!0),t}const kd=t=>Ht(t)?ol(t):t,Qy=t=>Ht(t)?uM(t):t;function dM(t){Ro&&fi&&(t=st(t),sM(t.dep||(t.dep=qy())))}function fM(t,e){t=st(t);const n=t.dep;n&&l1(n)}function gn(t){return!!(t&&t.__v_isRef===!0)}function Um(t){return hM(t,!1)}function eb(t){return hM(t,!0)}function hM(t,e){return gn(t)?t:new vC(t,e)}class vC{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:st(e),this._value=n?e:kd(e)}get value(){return dM(this),this._value}set value(e){const n=this.__v_isShallow||$p(e)||Tc(e);e=n?e:st(e),Ad(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:kd(e),fM(this))}}function uc(t){return gn(t)?t.value:t}const wC={get:(t,e,n)=>uc(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return gn(i)&&!gn(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function pM(t){return Co(t)?t:new Proxy(t,wC)}function xC(t){const e=qe(t)?new Array(t.length):{};for(const n in t)e[n]=EC(t,n);return e}class SC{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return YR(st(this._object),this._key)}}function EC(t,e,n){const s=t[e];return gn(s)?s:new SC(t,e,n)}var mM;class TC{constructor(e,n,s,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[mM]=!1,this._dirty=!0,this.effect=new Yy(e,()=>{this._dirty||(this._dirty=!0,fM(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=s}get value(){const e=st(this);return dM(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}mM="__v_isReadonly";function MC(t,e,n=!1){let s,i;const r=lt(t);return r?(s=t,i=vi):(s=t.get,i=t.set),new TC(s,i,r||!i,n)}function Oo(t,e,n,s){let i;try{i=s?t(...s):t()}catch(r){$m(r,e,n)}return i}function Ys(t,e,n,s){if(lt(t)){const r=Oo(t,e,n,s);return r&&YT(r)&&r.catch(o=>{$m(o,e,n)}),r}const i=[];for(let r=0;r<t.length;r++)i.push(Ys(t[r],e,n,s));return i}function $m(t,e,n,s=!0){const i=e?e.vnode:null;if(e){let r=e.parent;const o=e.proxy,a=n;for(;r;){const c=r.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,a)===!1)return}r=r.parent}const l=e.appContext.config.errorHandler;if(l){Oo(l,null,10,[t,o,a]);return}}AC(t,n,i,s)}function AC(t,e,n,s=!0){console.error(t)}let Rd=!1,c1=!1;const Hn=[];let Hi=0;const dc=[];let xr=null,ma=0;const gM=Promise.resolve();let tb=null;function nb(t){const e=tb||gM;return t?e.then(this?t.bind(this):t):e}function kC(t){let e=Hi+1,n=Hn.length;for(;e<n;){const s=e+n>>>1;Cd(Hn[s])<t?e=s+1:n=s}return e}function sb(t){(!Hn.length||!Hn.includes(t,Rd&&t.allowRecurse?Hi+1:Hi))&&(t.id==null?Hn.push(t):Hn.splice(kC(t.id),0,t),_M())}function _M(){!Rd&&!c1&&(c1=!0,tb=gM.then(bM))}function RC(t){const e=Hn.indexOf(t);e>Hi&&Hn.splice(e,1)}function CC(t){qe(t)?dc.push(...t):(!xr||!xr.includes(t,t.allowRecurse?ma+1:ma))&&dc.push(t),_M()}function O2(t,e=Rd?Hi+1:0){for(;e<Hn.length;e++){const n=Hn[e];n&&n.pre&&(Hn.splice(e,1),e--,n())}}function yM(t){if(dc.length){const e=[...new Set(dc)];if(dc.length=0,xr){xr.push(...e);return}for(xr=e,xr.sort((n,s)=>Cd(n)-Cd(s)),ma=0;ma<xr.length;ma++)xr[ma]();xr=null,ma=0}}const Cd=t=>t.id==null?1/0:t.id,OC=(t,e)=>{const n=Cd(t)-Cd(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function bM(t){c1=!1,Rd=!0,Hn.sort(OC);const e=vi;try{for(Hi=0;Hi<Hn.length;Hi++){const n=Hn[Hi];n&&n.active!==!1&&Oo(n,null,14)}}finally{Hi=0,Hn.length=0,yM(),Rd=!1,tb=null,(Hn.length||dc.length)&&bM()}}function PC(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Kt;let i=n;const r=e.startsWith("update:"),o=r&&e.slice(7);if(o&&o in s){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:f}=s[u]||Kt;f&&(i=n.map(h=>yn(h)?h.trim():h)),d&&(i=n.map(Np))}let a,l=s[a=r0(e)]||s[a=r0(er(e))];!l&&r&&(l=s[a=r0(Kc(e))]),l&&Ys(l,t,6,i);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ys(c,t,6,i)}}function vM(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const r=t.emits;let o={},a=!1;if(!lt(t)){const l=c=>{const u=vM(c,e,!0);u&&(a=!0,Ln(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(Ht(t)&&s.set(t,null),null):(qe(r)?r.forEach(l=>o[l]=null):Ln(o,r),Ht(t)&&s.set(t,o),o)}function Bm(t,e){return!t||!Im(e)?!1:(e=e.slice(2).replace(/Once$/,""),xt(t,e[0].toLowerCase()+e.slice(1))||xt(t,Kc(e))||xt(t,e))}let Fn=null,zm=null;function Bp(t){const e=Fn;return Fn=t,zm=t&&t.type.__scopeId||null,e}function Gm(t){zm=t}function Hm(){zm=null}function Je(t,e=Fn,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&z2(-1);const r=Bp(e);let o;try{o=t(...i)}finally{Bp(r),s._d&&z2(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function o0(t){const{type:e,vnode:n,proxy:s,withProxy:i,props:r,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:d,data:f,setupState:h,ctx:_,inheritAttrs:p}=t;let m,y;const b=Bp(t);try{if(n.shapeFlag&4){const w=i||s;m=Bi(u.call(w,w,d,r,h,f,_)),y=l}else{const w=e;m=Bi(w.length>1?w(r,{attrs:l,slots:a,emit:c}):w(r,null)),y=e.props?l:LC(l)}}catch(w){ld.length=0,$m(w,t,1),m=X(Ks)}let v=m;if(y&&p!==!1){const w=Object.keys(y),{shapeFlag:S}=v;w.length&&S&7&&(o&&w.some(Vy)&&(y=IC(y,o)),v=Uo(v,y))}return n.dirs&&(v=Uo(v),v.dirs=v.dirs?v.dirs.concat(n.dirs):n.dirs),n.transition&&(v.transition=n.transition),m=v,Bp(b),m}const LC=t=>{let e;for(const n in t)(n==="class"||n==="style"||Im(n))&&((e||(e={}))[n]=t[n]);return e},IC=(t,e)=>{const n={};for(const s in t)(!Vy(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function DC(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?P2(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==s[f]&&!Bm(c,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?P2(s,o,c):!0:!!o;return!1}function P2(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!Bm(n,r))return!0}return!1}function FC({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const NC=t=>t.__isSuspense;function UC(t,e){e&&e.pendingBranch?qe(t)?e.effects.push(...t):e.effects.push(t):CC(t)}function up(t,e){if(mn){let n=mn.provides;const s=mn.parent&&mn.parent.provides;s===n&&(n=mn.provides=Object.create(s)),n[t]=e}}function qi(t,e,n=!1){const s=mn||Fn;if(s){const i=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&lt(e)?e.call(s.proxy):e}}const Kf={};function Po(t,e,n){return wM(t,e,n)}function wM(t,e,{immediate:n,deep:s,flush:i,onTrack:r,onTrigger:o}=Kt){const a=QT()===(mn==null?void 0:mn.scope)?mn:null;let l,c=!1,u=!1;if(gn(t)?(l=()=>t.value,c=$p(t)):Co(t)?(l=()=>t,s=!0):qe(t)?(u=!0,c=t.some(v=>Co(v)||$p(v)),l=()=>t.map(v=>{if(gn(v))return v.value;if(Co(v))return wa(v);if(lt(v))return Oo(v,a,2)})):lt(t)?e?l=()=>Oo(t,a,2):l=()=>{if(!(a&&a.isUnmounted))return d&&d(),Ys(t,a,3,[f])}:l=vi,e&&s){const v=l;l=()=>wa(v())}let d,f=v=>{d=y.onStop=()=>{Oo(v,a,4)}},h;if(Id)if(f=vi,e?n&&Ys(e,a,3,[l(),u?[]:void 0,f]):l(),i==="sync"){const v=CO();h=v.__watcherHandles||(v.__watcherHandles=[])}else return vi;let _=u?new Array(t.length).fill(Kf):Kf;const p=()=>{if(y.active)if(e){const v=y.run();(s||c||(u?v.some((w,S)=>Ad(w,_[S])):Ad(v,_)))&&(d&&d(),Ys(e,a,3,[v,_===Kf?void 0:u&&_[0]===Kf?[]:_,f]),_=v)}else y.run()};p.allowRecurse=!!e;let m;i==="sync"?m=p:i==="post"?m=()=>hs(p,a&&a.suspense):(p.pre=!0,a&&(p.id=a.uid),m=()=>sb(p));const y=new Yy(l,m);e?n?p():_=y.run():i==="post"?hs(y.run.bind(y),a&&a.suspense):y.run();const b=()=>{y.stop(),a&&a.scope&&Wy(a.scope.effects,y)};return h&&h.push(b),b}function $C(t,e,n){const s=this.proxy,i=yn(t)?t.includes(".")?xM(s,t):()=>s[t]:t.bind(s,s);let r;lt(e)?r=e:(r=e.handler,n=e);const o=mn;Ac(this);const a=wM(i,r.bind(s),n);return o?Ac(o):Ia(),a}function xM(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}function wa(t,e){if(!Ht(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),gn(t))wa(t.value,e);else if(qe(t))for(let n=0;n<t.length;n++)wa(t[n],e);else if(Yc(t)||cc(t))t.forEach(n=>{wa(n,e)});else if(XT(t))for(const n in t)wa(t[n],e);return t}function SM(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return rb(()=>{t.isMounted=!0}),ob(()=>{t.isUnmounting=!0}),t}const Is=[Function,Array],BC={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Is,onEnter:Is,onAfterEnter:Is,onEnterCancelled:Is,onBeforeLeave:Is,onLeave:Is,onAfterLeave:Is,onLeaveCancelled:Is,onBeforeAppear:Is,onAppear:Is,onAfterAppear:Is,onAppearCancelled:Is},setup(t,{slots:e}){const n=fb(),s=SM();let i;return()=>{const r=e.default&&ib(e.default(),!0);if(!r||!r.length)return;let o=r[0];if(r.length>1){for(const p of r)if(p.type!==Ks){o=p;break}}const a=st(t),{mode:l}=a;if(s.isLeaving)return a0(o);const c=L2(o);if(!c)return a0(o);const u=Od(c,a,s,n);Pd(c,u);const d=n.subTree,f=d&&L2(d);let h=!1;const{getTransitionKey:_}=c.type;if(_){const p=_();i===void 0?i=p:p!==i&&(i=p,h=!0)}if(f&&f.type!==Ks&&(!ga(c,f)||h)){const p=Od(f,a,s,n);if(Pd(f,p),l==="out-in")return s.isLeaving=!0,p.afterLeave=()=>{s.isLeaving=!1,n.update.active!==!1&&n.update()},a0(o);l==="in-out"&&c.type!==Ks&&(p.delayLeave=(m,y,b)=>{const v=TM(s,f);v[String(f.key)]=f,m._leaveCb=()=>{y(),m._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=b})}return o}}},EM=BC;function TM(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function Od(t,e,n,s){const{appear:i,mode:r,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:d,onLeave:f,onAfterLeave:h,onLeaveCancelled:_,onBeforeAppear:p,onAppear:m,onAfterAppear:y,onAppearCancelled:b}=e,v=String(t.key),w=TM(n,t),S=(E,M)=>{E&&Ys(E,s,9,M)},x=(E,M)=>{const C=M[1];S(E,M),qe(E)?E.every(A=>A.length<=1)&&C():E.length<=1&&C()},T={mode:r,persisted:o,beforeEnter(E){let M=a;if(!n.isMounted)if(i)M=p||a;else return;E._leaveCb&&E._leaveCb(!0);const C=w[v];C&&ga(t,C)&&C.el._leaveCb&&C.el._leaveCb(),S(M,[E])},enter(E){let M=l,C=c,A=u;if(!n.isMounted)if(i)M=m||l,C=y||c,A=b||u;else return;let R=!1;const $=E._enterCb=F=>{R||(R=!0,F?S(A,[E]):S(C,[E]),T.delayedLeave&&T.delayedLeave(),E._enterCb=void 0)};M?x(M,[E,$]):$()},leave(E,M){const C=String(t.key);if(E._enterCb&&E._enterCb(!0),n.isUnmounting)return M();S(d,[E]);let A=!1;const R=E._leaveCb=$=>{A||(A=!0,M(),$?S(_,[E]):S(h,[E]),E._leaveCb=void 0,w[C]===t&&delete w[C])};w[C]=t,f?x(f,[E,R]):R()},clone(E){return Od(E,e,n,s)}};return T}function a0(t){if(Vm(t))return t=Uo(t),t.children=null,t}function L2(t){return Vm(t)?t.children?t.children[0]:void 0:t}function Pd(t,e){t.shapeFlag&6&&t.component?Pd(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function ib(t,e=!1,n){let s=[],i=0;for(let r=0;r<t.length;r++){let o=t[r];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===Ze?(o.patchFlag&128&&i++,s=s.concat(ib(o.children,e,a))):(e||o.type!==Ks)&&s.push(a!=null?Uo(o,{key:a}):o)}if(i>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}function Ye(t){return lt(t)?{setup:t,name:t.name}:t}const od=t=>!!t.type.__asyncLoader,Vm=t=>t.type.__isKeepAlive;function zC(t,e){MM(t,"a",e)}function GC(t,e){MM(t,"da",e)}function MM(t,e,n=mn){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Wm(e,s,n),n){let i=n.parent;for(;i&&i.parent;)Vm(i.parent.vnode)&&HC(s,e,n,i),i=i.parent}}function HC(t,e,n,s){const i=Wm(e,t,s,!0);kM(()=>{Wy(s[e],i)},n)}function Wm(t,e,n=mn,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Xc(),Ac(n);const a=Ys(e,n,t,o);return Ia(),Zc(),a});return s?i.unshift(r):i.push(r),r}}const Vr=t=>(e,n=mn)=>(!Id||t==="sp")&&Wm(t,(...s)=>e(...s),n),VC=Vr("bm"),rb=Vr("m"),WC=Vr("bu"),AM=Vr("u"),ob=Vr("bum"),kM=Vr("um"),jC=Vr("sp"),qC=Vr("rtg"),YC=Vr("rtc");function KC(t,e=mn){Wm("ec",t,e)}function Ge(t,e){const n=Fn;if(n===null)return t;const s=Km(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[o,a,l,c=Kt]=e[r];o&&(lt(o)&&(o={mounted:o,updated:o}),o.deep&&wa(a),i.push({dir:o,instance:s,value:a,oldValue:void 0,arg:l,modifiers:c}))}return t}function Xo(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[s];l&&(Xc(),Ys(l,n,8,[t.el,a,t,e]),Zc())}}const ab="components",XC="directives";function Ae(t,e){return lb(ab,t,!0,e)||t}const RM=Symbol();function ZC(t){return yn(t)?lb(ab,t,!1)||t:t||RM}function JC(t){return lb(XC,t)}function lb(t,e,n=!0,s=!1){const i=Fn||mn;if(i){const r=i.type;if(t===ab){const a=AO(r,!1);if(a&&(a===e||a===er(e)||a===Fm(er(e))))return r}const o=I2(i[t]||r[t],e)||I2(i.appContext[t],e);return!o&&s?r:o}}function I2(t,e){return t&&(t[e]||t[er(e)]||t[Fm(er(e))])}function $t(t,e,n,s){let i;const r=n&&n[s];if(qe(t)||yn(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,r&&r[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,r&&r[o])}else if(Ht(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,r&&r[a]));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];i[a]=e(t[c],c,a,r&&r[a])}}else i=[];return n&&(n[s]=i),i}function QC(t,e,n={},s,i){if(Fn.isCE||Fn.parent&&od(Fn.parent)&&Fn.parent.isCE)return e!=="default"&&(n.name=e),X("slot",n,s&&s());let r=t[e];r&&r._c&&(r._d=!1),Q();const o=r&&CM(r(n)),a=rn(Ze,{key:n.key||o&&o.key||`_${e}`},o||(s?s():[]),o&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function CM(t){return t.some(e=>Gp(e)?!(e.type===Ks||e.type===Ze&&!CM(e.children)):!0)?t:null}const u1=t=>t?zM(t)?Km(t)||t.proxy:u1(t.parent):null,ad=Ln(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>u1(t.parent),$root:t=>u1(t.root),$emit:t=>t.emit,$options:t=>cb(t),$forceUpdate:t=>t.f||(t.f=()=>sb(t.update)),$nextTick:t=>t.n||(t.n=nb.bind(t.proxy)),$watch:t=>$C.bind(t)}),l0=(t,e)=>t!==Kt&&!t.__isScriptSetup&&xt(t,e),eO={get({_:t},e){const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(l0(s,e))return o[e]=1,s[e];if(i!==Kt&&xt(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&xt(c,e))return o[e]=3,r[e];if(n!==Kt&&xt(n,e))return o[e]=4,n[e];d1&&(o[e]=0)}}const u=ad[e];let d,f;if(u)return e==="$attrs"&&vs(t,"get",e),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Kt&&xt(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,xt(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:r}=t;return l0(i,e)?(i[e]=n,!0):s!==Kt&&xt(s,e)?(s[e]=n,!0):xt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let a;return!!n[o]||t!==Kt&&xt(t,o)||l0(e,o)||(a=r[0])&&xt(a,o)||xt(s,o)||xt(ad,o)||xt(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:xt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let d1=!0;function tO(t){const e=cb(t),n=t.proxy,s=t.ctx;d1=!1,e.beforeCreate&&D2(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:_,activated:p,deactivated:m,beforeDestroy:y,beforeUnmount:b,destroyed:v,unmounted:w,render:S,renderTracked:x,renderTriggered:T,errorCaptured:E,serverPrefetch:M,expose:C,inheritAttrs:A,components:R,directives:$,filters:F}=e;if(c&&nO(c,s,null,t.appContext.config.unwrapInjectedRef),o)for(const B in o){const W=o[B];lt(W)&&(s[B]=W.bind(n))}if(i){const B=i.call(n,n);Ht(B)&&(t.data=ol(B))}if(d1=!0,r)for(const B in r){const W=r[B],Y=lt(W)?W.bind(n,n):lt(W.get)?W.get.bind(n,n):vi,j=!lt(W)&&lt(W.set)?W.set.bind(n):vi,pe=zt({get:Y,set:j});Object.defineProperty(s,B,{enumerable:!0,configurable:!0,get:()=>pe.value,set:O=>pe.value=O})}if(a)for(const B in a)OM(a[B],s,n,B);if(l){const B=lt(l)?l.call(n):l;Reflect.ownKeys(B).forEach(W=>{up(W,B[W])})}u&&D2(u,t,"c");function I(B,W){qe(W)?W.forEach(Y=>B(Y.bind(n))):W&&B(W.bind(n))}if(I(VC,d),I(rb,f),I(WC,h),I(AM,_),I(zC,p),I(GC,m),I(KC,E),I(YC,x),I(qC,T),I(ob,b),I(kM,w),I(jC,M),qe(C))if(C.length){const B=t.exposed||(t.exposed={});C.forEach(W=>{Object.defineProperty(B,W,{get:()=>n[W],set:Y=>n[W]=Y})})}else t.exposed||(t.exposed={});S&&t.render===vi&&(t.render=S),A!=null&&(t.inheritAttrs=A),R&&(t.components=R),$&&(t.directives=$)}function nO(t,e,n=vi,s=!1){qe(t)&&(t=f1(t));for(const i in t){const r=t[i];let o;Ht(r)?"default"in r?o=qi(r.from||i,r.default,!0):o=qi(r.from||i):o=qi(r),gn(o)&&s?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[i]=o}}function D2(t,e,n){Ys(qe(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function OM(t,e,n,s){const i=s.includes(".")?xM(n,s):()=>n[s];if(yn(t)){const r=e[t];lt(r)&&Po(i,r)}else if(lt(t))Po(i,t.bind(n));else if(Ht(t))if(qe(t))t.forEach(r=>OM(r,e,n,s));else{const r=lt(t.handler)?t.handler.bind(n):e[t.handler];lt(r)&&Po(i,r,t)}}function cb(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!i.length&&!n&&!s?l=e:(l={},i.length&&i.forEach(c=>zp(l,c,o,!0)),zp(l,e,o)),Ht(e)&&r.set(e,l),l}function zp(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&zp(t,r,n,!0),i&&i.forEach(o=>zp(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=sO[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const sO={data:F2,props:la,emits:la,methods:la,computed:la,beforeCreate:es,created:es,beforeMount:es,mounted:es,beforeUpdate:es,updated:es,beforeDestroy:es,beforeUnmount:es,destroyed:es,unmounted:es,activated:es,deactivated:es,errorCaptured:es,serverPrefetch:es,components:la,directives:la,watch:rO,provide:F2,inject:iO};function F2(t,e){return e?t?function(){return Ln(lt(t)?t.call(this,this):t,lt(e)?e.call(this,this):e)}:e:t}function iO(t,e){return la(f1(t),f1(e))}function f1(t){if(qe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function es(t,e){return t?[...new Set([].concat(t,e))]:e}function la(t,e){return t?Ln(Ln(Object.create(null),t),e):e}function rO(t,e){if(!t)return e;if(!e)return t;const n=Ln(Object.create(null),t);for(const s in e)n[s]=es(t[s],e[s]);return n}function oO(t,e,n,s=!1){const i={},r={};Fp(r,qm,1),t.propsDefaults=Object.create(null),PM(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=s?i:bC(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function aO(t,e,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,a=st(i),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(Bm(t.emitsOptions,f))continue;const h=e[f];if(l)if(xt(r,f))h!==r[f]&&(r[f]=h,c=!0);else{const _=er(f);i[_]=h1(l,a,_,h,t,!1)}else h!==r[f]&&(r[f]=h,c=!0)}}}else{PM(t,e,i,r)&&(c=!0);let u;for(const d in a)(!e||!xt(e,d)&&((u=Kc(d))===d||!xt(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(i[d]=h1(l,a,d,void 0,t,!0)):delete i[d]);if(r!==a)for(const d in r)(!e||!xt(e,d))&&(delete r[d],c=!0)}c&&Nr(t,"set","$attrs")}function PM(t,e,n,s){const[i,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(lp(l))continue;const c=e[l];let u;i&&xt(i,u=er(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:Bm(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(r){const l=st(n),c=a||Kt;for(let u=0;u<r.length;u++){const d=r[u];n[d]=h1(i,l,d,c[d],t,!xt(c,d))}}return o}function h1(t,e,n,s,i,r){const o=t[n];if(o!=null){const a=xt(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&lt(l)){const{propsDefaults:c}=i;n in c?s=c[n]:(Ac(i),s=c[n]=l.call(null,e),Ia())}else s=l}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===Kc(n))&&(s=!0))}return s}function LM(t,e,n=!1){const s=e.propsCache,i=s.get(t);if(i)return i;const r=t.props,o={},a=[];let l=!1;if(!lt(t)){const u=d=>{l=!0;const[f,h]=LM(d,e,!0);Ln(o,f),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!l)return Ht(t)&&s.set(t,lc),lc;if(qe(r))for(let u=0;u<r.length;u++){const d=er(r[u]);N2(d)&&(o[d]=Kt)}else if(r)for(const u in r){const d=er(u);if(N2(d)){const f=r[u],h=o[d]=qe(f)||lt(f)?{type:f}:Object.assign({},f);if(h){const _=B2(Boolean,h.type),p=B2(String,h.type);h[0]=_>-1,h[1]=p<0||_<p,(_>-1||xt(h,"default"))&&a.push(d)}}}const c=[o,a];return Ht(t)&&s.set(t,c),c}function N2(t){return t[0]!=="$"}function U2(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function $2(t,e){return U2(t)===U2(e)}function B2(t,e){return qe(e)?e.findIndex(n=>$2(n,t)):lt(e)&&$2(e,t)?0:-1}const IM=t=>t[0]==="_"||t==="$stable",ub=t=>qe(t)?t.map(Bi):[Bi(t)],lO=(t,e,n)=>{if(e._n)return e;const s=Je((...i)=>ub(e(...i)),n);return s._c=!1,s},DM=(t,e,n)=>{const s=t._ctx;for(const i in t){if(IM(i))continue;const r=t[i];if(lt(r))e[i]=lO(i,r,s);else if(r!=null){const o=ub(r);e[i]=()=>o}}},FM=(t,e)=>{const n=ub(e);t.slots.default=()=>n},cO=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=st(e),Fp(e,"_",n)):DM(e,t.slots={})}else t.slots={},e&&FM(t,e);Fp(t.slots,qm,1)},uO=(t,e,n)=>{const{vnode:s,slots:i}=t;let r=!0,o=Kt;if(s.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:(Ln(i,e),!n&&a===1&&delete i._):(r=!e.$stable,DM(e,i)),o=e}else e&&(FM(t,e),o={default:1});if(r)for(const a in i)!IM(a)&&!(a in o)&&delete i[a]};function NM(){return{app:null,config:{isNativeTag:FR,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let dO=0;function fO(t,e){return function(s,i=null){lt(s)||(s=Object.assign({},s)),i!=null&&!Ht(i)&&(i=null);const r=NM(),o=new Set;let a=!1;const l=r.app={_uid:dO++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:OO,get config(){return r.config},set config(c){},use(c,...u){return o.has(c)||(c&&lt(c.install)?(o.add(c),c.install(l,...u)):lt(c)&&(o.add(c),c(l,...u))),l},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),l},component(c,u){return u?(r.components[c]=u,l):r.components[c]},directive(c,u){return u?(r.directives[c]=u,l):r.directives[c]},mount(c,u,d){if(!a){const f=X(s,i);return f.appContext=r,u&&e?e(f,c):t(f,c,d),a=!0,l._container=c,c.__vue_app__=l,Km(f.component)||f.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return r.provides[c]=u,l}};return l}}function p1(t,e,n,s,i=!1){if(qe(t)){t.forEach((f,h)=>p1(f,e&&(qe(e)?e[h]:e),n,s,i));return}if(od(s)&&!i)return;const r=s.shapeFlag&4?Km(s.component)||s.component.proxy:s.el,o=i?null:r,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Kt?a.refs={}:a.refs,d=a.setupState;if(c!=null&&c!==l&&(yn(c)?(u[c]=null,xt(d,c)&&(d[c]=null)):gn(c)&&(c.value=null)),lt(l))Oo(l,a,12,[o,u]);else{const f=yn(l),h=gn(l);if(f||h){const _=()=>{if(t.f){const p=f?xt(d,l)?d[l]:u[l]:l.value;i?qe(p)&&Wy(p,r):qe(p)?p.includes(r)||p.push(r):f?(u[l]=[r],xt(d,l)&&(d[l]=u[l])):(l.value=[r],t.k&&(u[t.k]=l.value))}else f?(u[l]=o,xt(d,l)&&(d[l]=o)):h&&(l.value=o,t.k&&(u[t.k]=o))};o?(_.id=-1,hs(_,n)):_()}}}const hs=UC;function hO(t){return pO(t)}function pO(t,e){const n=HR();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=vi,insertStaticContent:_}=t,p=(P,U,ie,oe=null,he=null,Te=null,ke=!1,V=null,Ce=!!U.dynamicChildren)=>{if(P===U)return;P&&!ga(P,U)&&(oe=ge(P),O(P,he,Te,!0),P=null),U.patchFlag===-2&&(Ce=!1,U.dynamicChildren=null);const{type:we,ref:L,shapeFlag:k}=U;switch(we){case jm:m(P,U,ie,oe);break;case Ks:y(P,U,ie,oe);break;case dp:P==null&&b(U,ie,oe,ke);break;case Ze:R(P,U,ie,oe,he,Te,ke,V,Ce);break;default:k&1?S(P,U,ie,oe,he,Te,ke,V,Ce):k&6?$(P,U,ie,oe,he,Te,ke,V,Ce):(k&64||k&128)&&we.process(P,U,ie,oe,he,Te,ke,V,Ce,ve)}L!=null&&he&&p1(L,P&&P.ref,Te,U||P,!U)},m=(P,U,ie,oe)=>{if(P==null)s(U.el=a(U.children),ie,oe);else{const he=U.el=P.el;U.children!==P.children&&c(he,U.children)}},y=(P,U,ie,oe)=>{P==null?s(U.el=l(U.children||""),ie,oe):U.el=P.el},b=(P,U,ie,oe)=>{[P.el,P.anchor]=_(P.children,U,ie,oe,P.el,P.anchor)},v=({el:P,anchor:U},ie,oe)=>{let he;for(;P&&P!==U;)he=f(P),s(P,ie,oe),P=he;s(U,ie,oe)},w=({el:P,anchor:U})=>{let ie;for(;P&&P!==U;)ie=f(P),i(P),P=ie;i(U)},S=(P,U,ie,oe,he,Te,ke,V,Ce)=>{ke=ke||U.type==="svg",P==null?x(U,ie,oe,he,Te,ke,V,Ce):M(P,U,he,Te,ke,V,Ce)},x=(P,U,ie,oe,he,Te,ke,V)=>{let Ce,we;const{type:L,props:k,shapeFlag:ee,transition:de,dirs:be}=P;if(Ce=P.el=o(P.type,Te,k&&k.is,k),ee&8?u(Ce,P.children):ee&16&&E(P.children,Ce,null,oe,he,Te&&L!=="foreignObject",ke,V),be&&Xo(P,null,oe,"created"),T(Ce,P,P.scopeId,ke,oe),k){for(const Ie in k)Ie!=="value"&&!lp(Ie)&&r(Ce,Ie,null,k[Ie],Te,P.children,oe,he,z);"value"in k&&r(Ce,"value",null,k.value),(we=k.onVnodeBeforeMount)&&Fi(we,oe,P)}be&&Xo(P,null,oe,"beforeMount");const Ee=(!he||he&&!he.pendingBranch)&&de&&!de.persisted;Ee&&de.beforeEnter(Ce),s(Ce,U,ie),((we=k&&k.onVnodeMounted)||Ee||be)&&hs(()=>{we&&Fi(we,oe,P),Ee&&de.enter(Ce),be&&Xo(P,null,oe,"mounted")},he)},T=(P,U,ie,oe,he)=>{if(ie&&h(P,ie),oe)for(let Te=0;Te<oe.length;Te++)h(P,oe[Te]);if(he){let Te=he.subTree;if(U===Te){const ke=he.vnode;T(P,ke,ke.scopeId,ke.slotScopeIds,he.parent)}}},E=(P,U,ie,oe,he,Te,ke,V,Ce=0)=>{for(let we=Ce;we<P.length;we++){const L=P[we]=V?go(P[we]):Bi(P[we]);p(null,L,U,ie,oe,he,Te,ke,V)}},M=(P,U,ie,oe,he,Te,ke)=>{const V=U.el=P.el;let{patchFlag:Ce,dynamicChildren:we,dirs:L}=U;Ce|=P.patchFlag&16;const k=P.props||Kt,ee=U.props||Kt;let de;ie&&Zo(ie,!1),(de=ee.onVnodeBeforeUpdate)&&Fi(de,ie,U,P),L&&Xo(U,P,ie,"beforeUpdate"),ie&&Zo(ie,!0);const be=he&&U.type!=="foreignObject";if(we?C(P.dynamicChildren,we,V,ie,oe,be,Te):ke||W(P,U,V,null,ie,oe,be,Te,!1),Ce>0){if(Ce&16)A(V,U,k,ee,ie,oe,he);else if(Ce&2&&k.class!==ee.class&&r(V,"class",null,ee.class,he),Ce&4&&r(V,"style",k.style,ee.style,he),Ce&8){const Ee=U.dynamicProps;for(let Ie=0;Ie<Ee.length;Ie++){const ae=Ee[Ie],$e=k[ae],Ne=ee[ae];(Ne!==$e||ae==="value")&&r(V,ae,$e,Ne,he,P.children,ie,oe,z)}}Ce&1&&P.children!==U.children&&u(V,U.children)}else!ke&&we==null&&A(V,U,k,ee,ie,oe,he);((de=ee.onVnodeUpdated)||L)&&hs(()=>{de&&Fi(de,ie,U,P),L&&Xo(U,P,ie,"updated")},oe)},C=(P,U,ie,oe,he,Te,ke)=>{for(let V=0;V<U.length;V++){const Ce=P[V],we=U[V],L=Ce.el&&(Ce.type===Ze||!ga(Ce,we)||Ce.shapeFlag&70)?d(Ce.el):ie;p(Ce,we,L,null,oe,he,Te,ke,!0)}},A=(P,U,ie,oe,he,Te,ke)=>{if(ie!==oe){if(ie!==Kt)for(const V in ie)!lp(V)&&!(V in oe)&&r(P,V,ie[V],null,ke,U.children,he,Te,z);for(const V in oe){if(lp(V))continue;const Ce=oe[V],we=ie[V];Ce!==we&&V!=="value"&&r(P,V,we,Ce,ke,U.children,he,Te,z)}"value"in oe&&r(P,"value",ie.value,oe.value)}},R=(P,U,ie,oe,he,Te,ke,V,Ce)=>{const we=U.el=P?P.el:a(""),L=U.anchor=P?P.anchor:a("");let{patchFlag:k,dynamicChildren:ee,slotScopeIds:de}=U;de&&(V=V?V.concat(de):de),P==null?(s(we,ie,oe),s(L,ie,oe),E(U.children,ie,L,he,Te,ke,V,Ce)):k>0&&k&64&&ee&&P.dynamicChildren?(C(P.dynamicChildren,ee,ie,he,Te,ke,V),(U.key!=null||he&&U===he.subTree)&&UM(P,U,!0)):W(P,U,ie,L,he,Te,ke,V,Ce)},$=(P,U,ie,oe,he,Te,ke,V,Ce)=>{U.slotScopeIds=V,P==null?U.shapeFlag&512?he.ctx.activate(U,ie,oe,ke,Ce):F(U,ie,oe,he,Te,ke,Ce):D(P,U,Ce)},F=(P,U,ie,oe,he,Te,ke)=>{const V=P.component=xO(P,oe,he);if(Vm(P)&&(V.ctx.renderer=ve),SO(V),V.asyncDep){if(he&&he.registerDep(V,I),!P.el){const Ce=V.subTree=X(Ks);y(null,Ce,U,ie)}return}I(V,P,U,ie,he,Te,ke)},D=(P,U,ie)=>{const oe=U.component=P.component;if(DC(P,U,ie))if(oe.asyncDep&&!oe.asyncResolved){B(oe,U,ie);return}else oe.next=U,RC(oe.update),oe.update();else U.el=P.el,oe.vnode=U},I=(P,U,ie,oe,he,Te,ke)=>{const V=()=>{if(P.isMounted){let{next:L,bu:k,u:ee,parent:de,vnode:be}=P,Ee=L,Ie;Zo(P,!1),L?(L.el=be.el,B(P,L,ke)):L=be,k&&cp(k),(Ie=L.props&&L.props.onVnodeBeforeUpdate)&&Fi(Ie,de,L,be),Zo(P,!0);const ae=o0(P),$e=P.subTree;P.subTree=ae,p($e,ae,d($e.el),ge($e),P,he,Te),L.el=ae.el,Ee===null&&FC(P,ae.el),ee&&hs(ee,he),(Ie=L.props&&L.props.onVnodeUpdated)&&hs(()=>Fi(Ie,de,L,be),he)}else{let L;const{el:k,props:ee}=U,{bm:de,m:be,parent:Ee}=P,Ie=od(U);if(Zo(P,!1),de&&cp(de),!Ie&&(L=ee&&ee.onVnodeBeforeMount)&&Fi(L,Ee,U),Zo(P,!0),k&&Oe){const ae=()=>{P.subTree=o0(P),Oe(k,P.subTree,P,he,null)};Ie?U.type.__asyncLoader().then(()=>!P.isUnmounted&&ae()):ae()}else{const ae=P.subTree=o0(P);p(null,ae,ie,oe,P,he,Te),U.el=ae.el}if(be&&hs(be,he),!Ie&&(L=ee&&ee.onVnodeMounted)){const ae=U;hs(()=>Fi(L,Ee,ae),he)}(U.shapeFlag&256||Ee&&od(Ee.vnode)&&Ee.vnode.shapeFlag&256)&&P.a&&hs(P.a,he),P.isMounted=!0,U=ie=oe=null}},Ce=P.effect=new Yy(V,()=>sb(we),P.scope),we=P.update=()=>Ce.run();we.id=P.uid,Zo(P,!0),we()},B=(P,U,ie)=>{U.component=P;const oe=P.vnode.props;P.vnode=U,P.next=null,aO(P,U.props,oe,ie),uO(P,U.children,ie),Xc(),O2(),Zc()},W=(P,U,ie,oe,he,Te,ke,V,Ce=!1)=>{const we=P&&P.children,L=P?P.shapeFlag:0,k=U.children,{patchFlag:ee,shapeFlag:de}=U;if(ee>0){if(ee&128){j(we,k,ie,oe,he,Te,ke,V,Ce);return}else if(ee&256){Y(we,k,ie,oe,he,Te,ke,V,Ce);return}}de&8?(L&16&&z(we,he,Te),k!==we&&u(ie,k)):L&16?de&16?j(we,k,ie,oe,he,Te,ke,V,Ce):z(we,he,Te,!0):(L&8&&u(ie,""),de&16&&E(k,ie,oe,he,Te,ke,V,Ce))},Y=(P,U,ie,oe,he,Te,ke,V,Ce)=>{P=P||lc,U=U||lc;const we=P.length,L=U.length,k=Math.min(we,L);let ee;for(ee=0;ee<k;ee++){const de=U[ee]=Ce?go(U[ee]):Bi(U[ee]);p(P[ee],de,ie,null,he,Te,ke,V,Ce)}we>L?z(P,he,Te,!0,!1,k):E(U,ie,oe,he,Te,ke,V,Ce,k)},j=(P,U,ie,oe,he,Te,ke,V,Ce)=>{let we=0;const L=U.length;let k=P.length-1,ee=L-1;for(;we<=k&&we<=ee;){const de=P[we],be=U[we]=Ce?go(U[we]):Bi(U[we]);if(ga(de,be))p(de,be,ie,null,he,Te,ke,V,Ce);else break;we++}for(;we<=k&&we<=ee;){const de=P[k],be=U[ee]=Ce?go(U[ee]):Bi(U[ee]);if(ga(de,be))p(de,be,ie,null,he,Te,ke,V,Ce);else break;k--,ee--}if(we>k){if(we<=ee){const de=ee+1,be=de<L?U[de].el:oe;for(;we<=ee;)p(null,U[we]=Ce?go(U[we]):Bi(U[we]),ie,be,he,Te,ke,V,Ce),we++}}else if(we>ee)for(;we<=k;)O(P[we],he,Te,!0),we++;else{const de=we,be=we,Ee=new Map;for(we=be;we<=ee;we++){const Z=U[we]=Ce?go(U[we]):Bi(U[we]);Z.key!=null&&Ee.set(Z.key,we)}let Ie,ae=0;const $e=ee-be+1;let Ne=!1,Ue=0;const q=new Array($e);for(we=0;we<$e;we++)q[we]=0;for(we=de;we<=k;we++){const Z=P[we];if(ae>=$e){O(Z,he,Te,!0);continue}let ne;if(Z.key!=null)ne=Ee.get(Z.key);else for(Ie=be;Ie<=ee;Ie++)if(q[Ie-be]===0&&ga(Z,U[Ie])){ne=Ie;break}ne===void 0?O(Z,he,Te,!0):(q[ne-be]=we+1,ne>=Ue?Ue=ne:Ne=!0,p(Z,U[ne],ie,null,he,Te,ke,V,Ce),ae++)}const K=Ne?mO(q):lc;for(Ie=K.length-1,we=$e-1;we>=0;we--){const Z=be+we,ne=U[Z],re=Z+1<L?U[Z+1].el:oe;q[we]===0?p(null,ne,ie,re,he,Te,ke,V,Ce):Ne&&(Ie<0||we!==K[Ie]?pe(ne,ie,re,2):Ie--)}}},pe=(P,U,ie,oe,he=null)=>{const{el:Te,type:ke,transition:V,children:Ce,shapeFlag:we}=P;if(we&6){pe(P.component.subTree,U,ie,oe);return}if(we&128){P.suspense.move(U,ie,oe);return}if(we&64){ke.move(P,U,ie,ve);return}if(ke===Ze){s(Te,U,ie);for(let k=0;k<Ce.length;k++)pe(Ce[k],U,ie,oe);s(P.anchor,U,ie);return}if(ke===dp){v(P,U,ie);return}if(oe!==2&&we&1&&V)if(oe===0)V.beforeEnter(Te),s(Te,U,ie),hs(()=>V.enter(Te),he);else{const{leave:k,delayLeave:ee,afterLeave:de}=V,be=()=>s(Te,U,ie),Ee=()=>{k(Te,()=>{be(),de&&de()})};ee?ee(Te,be,Ee):Ee()}else s(Te,U,ie)},O=(P,U,ie,oe=!1,he=!1)=>{const{type:Te,props:ke,ref:V,children:Ce,dynamicChildren:we,shapeFlag:L,patchFlag:k,dirs:ee}=P;if(V!=null&&p1(V,null,ie,P,!0),L&256){U.ctx.deactivate(P);return}const de=L&1&&ee,be=!od(P);let Ee;if(be&&(Ee=ke&&ke.onVnodeBeforeUnmount)&&Fi(Ee,U,P),L&6)H(P.component,ie,oe);else{if(L&128){P.suspense.unmount(ie,oe);return}de&&Xo(P,null,U,"beforeUnmount"),L&64?P.type.remove(P,U,ie,he,ve,oe):we&&(Te!==Ze||k>0&&k&64)?z(we,U,ie,!1,!0):(Te===Ze&&k&384||!he&&L&16)&&z(Ce,U,ie),oe&&G(P)}(be&&(Ee=ke&&ke.onVnodeUnmounted)||de)&&hs(()=>{Ee&&Fi(Ee,U,P),de&&Xo(P,null,U,"unmounted")},ie)},G=P=>{const{type:U,el:ie,anchor:oe,transition:he}=P;if(U===Ze){te(ie,oe);return}if(U===dp){w(P);return}const Te=()=>{i(ie),he&&!he.persisted&&he.afterLeave&&he.afterLeave()};if(P.shapeFlag&1&&he&&!he.persisted){const{leave:ke,delayLeave:V}=he,Ce=()=>ke(ie,Te);V?V(P.el,Te,Ce):Ce()}else Te()},te=(P,U)=>{let ie;for(;P!==U;)ie=f(P),i(P),P=ie;i(U)},H=(P,U,ie)=>{const{bum:oe,scope:he,update:Te,subTree:ke,um:V}=P;oe&&cp(oe),he.stop(),Te&&(Te.active=!1,O(ke,P,U,ie)),V&&hs(V,U),hs(()=>{P.isUnmounted=!0},U),U&&U.pendingBranch&&!U.isUnmounted&&P.asyncDep&&!P.asyncResolved&&P.suspenseId===U.pendingId&&(U.deps--,U.deps===0&&U.resolve())},z=(P,U,ie,oe=!1,he=!1,Te=0)=>{for(let ke=Te;ke<P.length;ke++)O(P[ke],U,ie,oe,he)},ge=P=>P.shapeFlag&6?ge(P.component.subTree):P.shapeFlag&128?P.suspense.next():f(P.anchor||P.el),ue=(P,U,ie)=>{P==null?U._vnode&&O(U._vnode,null,null,!0):p(U._vnode||null,P,U,null,null,null,ie),O2(),yM(),U._vnode=P},ve={p,um:O,m:pe,r:G,mt:F,mc:E,pc:W,pbc:C,n:ge,o:t};let ye,Oe;return e&&([ye,Oe]=e(ve)),{render:ue,hydrate:ye,createApp:fO(ue,ye)}}function Zo({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function UM(t,e,n=!1){const s=t.children,i=e.children;if(qe(s)&&qe(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=go(i[r]),a.el=o.el),n||UM(o,a)),a.type===jm&&(a.el=o.el)}}function mO(t){const e=t.slice(),n=[0];let s,i,r,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(i=n[n.length-1],t[i]<c){e[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,t[n[a]]<c?r=a+1:o=a;c<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}const gO=t=>t.__isTeleport,Ze=Symbol(void 0),jm=Symbol(void 0),Ks=Symbol(void 0),dp=Symbol(void 0),ld=[];let pi=null;function Q(t=!1){ld.push(pi=t?null:[])}function _O(){ld.pop(),pi=ld[ld.length-1]||null}let Ld=1;function z2(t){Ld+=t}function $M(t){return t.dynamicChildren=Ld>0?pi||lc:null,_O(),Ld>0&&pi&&pi.push(t),t}function se(t,e,n,s,i,r){return $M(g(t,e,n,s,i,r,!0))}function rn(t,e,n,s,i){return $M(X(t,e,n,s,i,!0))}function Gp(t){return t?t.__v_isVNode===!0:!1}function ga(t,e){return t.type===e.type&&t.key===e.key}const qm="__vInternal",BM=({key:t})=>t??null,fp=({ref:t,ref_key:e,ref_for:n})=>t!=null?yn(t)||gn(t)||lt(t)?{i:Fn,r:t,k:e,f:!!n}:t:null;function g(t,e=null,n=null,s=0,i=null,r=t===Ze?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&BM(e),ref:e&&fp(e),scopeId:zm,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Fn};return a?(db(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=yn(n)?8:16),Ld>0&&!o&&pi&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&pi.push(l),l}const X=yO;function yO(t,e=null,n=null,s=0,i=null,r=!1){if((!t||t===RM)&&(t=Ks),Gp(t)){const a=Uo(t,e,!0);return n&&db(a,n),Ld>0&&!r&&pi&&(a.shapeFlag&6?pi[pi.indexOf(t)]=a:pi.push(a)),a.patchFlag|=-2,a}if(kO(t)&&(t=t.__vccOpts),e){e=bO(e);let{class:a,style:l}=e;a&&!yn(a)&&(e.class=Xs(a)),Ht(l)&&(rd(l)&&!qe(l)&&(l=Ln({},l)),e.style=Lm(l))}const o=yn(t)?1:NC(t)?128:gO(t)?64:Ht(t)?4:lt(t)?2:0;return g(t,e,n,s,i,o,r,!0)}function bO(t){return t?rd(t)||qm in t?Ln({},t):t:null}function Uo(t,e,n=!1){const{props:s,ref:i,patchFlag:r,children:o}=t,a=e?Ym(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&BM(a),ref:e&&e.ref?n&&i?qe(i)?i.concat(fp(e)):[i,fp(e)]:fp(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ze?r===-1?16:r|16:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Uo(t.ssContent),ssFallback:t.ssFallback&&Uo(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function _e(t=" ",e=0){return X(jm,null,t,e)}function jo(t,e){const n=X(dp,null,t);return n.staticCount=e,n}function We(t="",e=!1){return e?(Q(),rn(Ks,null,t)):X(Ks,null,t)}function Bi(t){return t==null||typeof t=="boolean"?X(Ks):qe(t)?X(Ze,null,t.slice()):typeof t=="object"?go(t):X(jm,null,String(t))}function go(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Uo(t)}function db(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(qe(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),db(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(qm in e)?e._ctx=Fn:i===3&&Fn&&(Fn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else lt(e)?(e={default:e,_ctx:Fn},n=32):(e=String(e),s&64?(n=16,e=[_e(e)]):n=8);t.children=e,t.shapeFlag|=n}function Ym(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=Xs([e.class,s.class]));else if(i==="style")e.style=Lm([e.style,s.style]);else if(Im(i)){const r=e[i],o=s[i];o&&r!==o&&!(qe(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function Fi(t,e,n,s=null){Ys(t,e,7,[n,s])}const vO=NM();let wO=0;function xO(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||vO,r={uid:wO++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new ZT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:LM(s,i),emitsOptions:vM(s,i),emit:null,emitted:null,propsDefaults:Kt,inheritAttrs:s.inheritAttrs,ctx:Kt,data:Kt,props:Kt,attrs:Kt,slots:Kt,refs:Kt,setupState:Kt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=PC.bind(null,r),t.ce&&t.ce(r),r}let mn=null;const fb=()=>mn||Fn,Ac=t=>{mn=t,t.scope.on()},Ia=()=>{mn&&mn.scope.off(),mn=null};function zM(t){return t.vnode.shapeFlag&4}let Id=!1;function SO(t,e=!1){Id=e;const{props:n,children:s}=t.vnode,i=zM(t);oO(t,n,i,e),cO(t,s);const r=i?EO(t,e):void 0;return Id=!1,r}function EO(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Mc(new Proxy(t.ctx,eO));const{setup:s}=n;if(s){const i=t.setupContext=s.length>1?MO(t):null;Ac(t),Xc();const r=Oo(s,t,0,[t.props,i]);if(Zc(),Ia(),YT(r)){if(r.then(Ia,Ia),e)return r.then(o=>{G2(t,o,e)}).catch(o=>{$m(o,t,0)});t.asyncDep=r}else G2(t,r,e)}else GM(t,e)}function G2(t,e,n){lt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ht(e)&&(t.setupState=pM(e)),GM(t,n)}let H2;function GM(t,e,n){const s=t.type;if(!t.render){if(!e&&H2&&!s.render){const i=s.template||cb(t).template;if(i){const{isCustomElement:r,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=s,c=Ln(Ln({isCustomElement:r,delimiters:a},o),l);s.render=H2(i,c)}}t.render=s.render||vi}Ac(t),Xc(),tO(t),Zc(),Ia()}function TO(t){return new Proxy(t.attrs,{get(e,n){return vs(t,"get","$attrs"),e[n]}})}function MO(t){const e=s=>{t.exposed=s||{}};let n;return{get attrs(){return n||(n=TO(t))},slots:t.slots,emit:t.emit,expose:e}}function Km(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(pM(Mc(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ad)return ad[n](t)},has(e,n){return n in e||n in ad}}))}function AO(t,e=!0){return lt(t)?t.displayName||t.name:t.name||e&&t.__name}function kO(t){return lt(t)&&"__vccOpts"in t}const zt=(t,e)=>MC(t,e,Id);function Va(t,e,n){const s=arguments.length;return s===2?Ht(e)&&!qe(e)?Gp(e)?X(t,null,[e]):X(t,e):X(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Gp(n)&&(n=[n]),X(t,e,n))}const RO=Symbol(""),CO=()=>qi(RO),OO="3.2.47",PO="http://www.w3.org/2000/svg",_a=typeof document<"u"?document:null,V2=_a&&_a.createElement("template"),LO={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e?_a.createElementNS(PO,t):_a.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>_a.createTextNode(t),createComment:t=>_a.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>_a.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{V2.innerHTML=s?`<svg>${t}</svg>`:t;const a=V2.content;if(s){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function IO(t,e,n){const s=t._vtc;s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function DO(t,e,n){const s=t.style,i=yn(n);if(n&&!i){if(e&&!yn(e))for(const r in e)n[r]==null&&m1(s,r,"");for(const r in n)m1(s,r,n[r])}else{const r=s.display;i?e!==n&&(s.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(s.display=r)}}const W2=/\s*!important$/;function m1(t,e,n){if(qe(n))n.forEach(s=>m1(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=FO(t,e);W2.test(n)?t.setProperty(Kc(s),n.replace(W2,""),"important"):t[s]=n}}const j2=["Webkit","Moz","ms"],c0={};function FO(t,e){const n=c0[e];if(n)return n;let s=er(e);if(s!=="filter"&&s in t)return c0[e]=s;s=Fm(s);for(let i=0;i<j2.length;i++){const r=j2[i]+s;if(r in t)return c0[e]=r}return e}const q2="http://www.w3.org/1999/xlink";function NO(t,e,n,s,i){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(q2,e.slice(6,e.length)):t.setAttributeNS(q2,e,n);else{const r=IR(e);n==null||r&&!jT(n)?t.removeAttribute(e):t.setAttribute(e,r?"":n)}}function UO(t,e,n,s,i,r,o){if(e==="innerHTML"||e==="textContent"){s&&o(s,i,r),t[e]=n??"";return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const l=n??"";(t.value!==l||t.tagName==="OPTION")&&(t.value=l),n==null&&t.removeAttribute(e);return}let a=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=jT(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(e)}function vo(t,e,n,s){t.addEventListener(e,n,s)}function $O(t,e,n,s){t.removeEventListener(e,n,s)}function BO(t,e,n,s,i=null){const r=t._vei||(t._vei={}),o=r[e];if(s&&o)o.value=s;else{const[a,l]=zO(e);if(s){const c=r[e]=VO(s,i);vo(t,a,c,l)}else o&&($O(t,a,o,l),r[e]=void 0)}}const Y2=/(?:Once|Passive|Capture)$/;function zO(t){let e;if(Y2.test(t)){e={};let s;for(;s=t.match(Y2);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Kc(t.slice(2)),e]}let u0=0;const GO=Promise.resolve(),HO=()=>u0||(GO.then(()=>u0=0),u0=Date.now());function VO(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Ys(WO(s,n.value),e,5,[s])};return n.value=t,n.attached=HO(),n}function WO(t,e){if(qe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const K2=/^on[a-z]/,jO=(t,e,n,s,i=!1,r,o,a,l)=>{e==="class"?IO(t,s,i):e==="style"?DO(t,n,s):Im(e)?Vy(e)||BO(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):qO(t,e,s,i))?UO(t,e,s,r,o,a,l):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),NO(t,e,s,i))};function qO(t,e,n,s){return s?!!(e==="innerHTML"||e==="textContent"||e in t&&K2.test(e)&&lt(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||K2.test(e)&&yn(n)?!1:e in t}const Xr="transition",vu="animation",hb=(t,{slots:e})=>Va(EM,VM(t),e);hb.displayName="Transition";const HM={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},YO=hb.props=Ln({},EM.props,HM),Jo=(t,e=[])=>{qe(t)?t.forEach(n=>n(...e)):t&&t(...e)},X2=t=>t?qe(t)?t.some(e=>e.length>1):t.length>1:!1;function VM(t){const e={};for(const R in t)R in HM||(e[R]=t[R]);if(t.css===!1)return e;const{name:n="v",type:s,duration:i,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,_=KO(i),p=_&&_[0],m=_&&_[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:v,onLeave:w,onLeaveCancelled:S,onBeforeAppear:x=y,onAppear:T=b,onAppearCancelled:E=v}=e,M=(R,$,F)=>{fo(R,$?u:a),fo(R,$?c:o),F&&F()},C=(R,$)=>{R._isLeaving=!1,fo(R,d),fo(R,h),fo(R,f),$&&$()},A=R=>($,F)=>{const D=R?T:b,I=()=>M($,R,F);Jo(D,[$,I]),Z2(()=>{fo($,R?l:r),br($,R?u:a),X2(D)||J2($,s,p,I)})};return Ln(e,{onBeforeEnter(R){Jo(y,[R]),br(R,r),br(R,o)},onBeforeAppear(R){Jo(x,[R]),br(R,l),br(R,c)},onEnter:A(!1),onAppear:A(!0),onLeave(R,$){R._isLeaving=!0;const F=()=>C(R,$);br(R,d),jM(),br(R,f),Z2(()=>{R._isLeaving&&(fo(R,d),br(R,h),X2(w)||J2(R,s,m,F))}),Jo(w,[R,F])},onEnterCancelled(R){M(R,!1),Jo(v,[R])},onAppearCancelled(R){M(R,!0),Jo(E,[R])},onLeaveCancelled(R){C(R),Jo(S,[R])}})}function KO(t){if(t==null)return null;if(Ht(t))return[d0(t.enter),d0(t.leave)];{const e=d0(t);return[e,e]}}function d0(t){return GR(t)}function br(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function fo(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function Z2(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let XO=0;function J2(t,e,n,s){const i=t._endId=++XO,r=()=>{i===t._endId&&s()};if(n)return setTimeout(r,n);const{type:o,timeout:a,propCount:l}=WM(t,e);if(!o)return s();const c=o+"end";let u=0;const d=()=>{t.removeEventListener(c,f),r()},f=h=>{h.target===t&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),t.addEventListener(c,f)}function WM(t,e){const n=window.getComputedStyle(t),s=_=>(n[_]||"").split(", "),i=s(`${Xr}Delay`),r=s(`${Xr}Duration`),o=Q2(i,r),a=s(`${vu}Delay`),l=s(`${vu}Duration`),c=Q2(a,l);let u=null,d=0,f=0;e===Xr?o>0&&(u=Xr,d=o,f=r.length):e===vu?c>0&&(u=vu,d=c,f=l.length):(d=Math.max(o,c),u=d>0?o>c?Xr:vu:null,f=u?u===Xr?r.length:l.length:0);const h=u===Xr&&/\b(transform|all)(,|$)/.test(s(`${Xr}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:h}}function Q2(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>ew(n)+ew(t[s])))}function ew(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function jM(){return document.body.offsetHeight}const qM=new WeakMap,YM=new WeakMap,KM={name:"TransitionGroup",props:Ln({},YO,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=fb(),s=SM();let i,r;return AM(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!nP(i[0].el,n.vnode.el,o))return;i.forEach(QO),i.forEach(eP);const a=i.filter(tP);jM(),a.forEach(l=>{const c=l.el,u=c.style;br(c,o),u.transform=u.webkitTransform=u.transitionDuration="";const d=c._moveCb=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",d),c._moveCb=null,fo(c,o))};c.addEventListener("transitionend",d)})}),()=>{const o=st(t),a=VM(o);let l=o.tag||Ze;i=r,r=e.default?ib(e.default()):[];for(let c=0;c<r.length;c++){const u=r[c];u.key!=null&&Pd(u,Od(u,a,s,n))}if(i)for(let c=0;c<i.length;c++){const u=i[c];Pd(u,Od(u,a,s,n)),qM.set(u,u.el.getBoundingClientRect())}return X(l,null,r)}}},ZO=t=>delete t.mode;KM.props;const JO=KM;function QO(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function eP(t){YM.set(t,t.el.getBoundingClientRect())}function tP(t){const e=qM.get(t),n=YM.get(t),s=e.left-n.left,i=e.top-n.top;if(s||i){const r=t.el.style;return r.transform=r.webkitTransform=`translate(${s}px,${i}px)`,r.transitionDuration="0s",t}}function nP(t,e,n){const s=t.cloneNode();t._vtc&&t._vtc.forEach(o=>{o.split(/\s+/).forEach(a=>a&&s.classList.remove(a))}),n.split(/\s+/).forEach(o=>o&&s.classList.add(o)),s.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(s);const{hasTransform:r}=WM(s);return i.removeChild(s),r}const kc=t=>{const e=t.props["onUpdate:modelValue"]||!1;return qe(e)?n=>cp(e,n):e};function sP(t){t.target.composing=!0}function tw(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Xe={created(t,{modifiers:{lazy:e,trim:n,number:s}},i){t._assign=kc(i);const r=s||i.props&&i.props.type==="number";vo(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),r&&(a=Np(a)),t._assign(a)}),n&&vo(t,"change",()=>{t.value=t.value.trim()}),e||(vo(t,"compositionstart",sP),vo(t,"compositionend",tw),vo(t,"change",tw))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:s,number:i}},r){if(t._assign=kc(r),t.composing||document.activeElement===t&&t.type!=="range"&&(n||s&&t.value.trim()===e||(i||t.type==="number")&&Np(t.value)===e))return;const o=e??"";t.value!==o&&(t.value=o)}},XM={deep:!0,created(t,e,n){t._assign=kc(n),vo(t,"change",()=>{const s=t._modelValue,i=Dd(t),r=t.checked,o=t._assign;if(qe(s)){const a=Hy(s,i),l=a!==-1;if(r&&!l)o(s.concat(i));else if(!r&&l){const c=[...s];c.splice(a,1),o(c)}}else if(Yc(s)){const a=new Set(s);r?a.add(i):a.delete(i),o(a)}else o(ZM(t,r))})},mounted:nw,beforeUpdate(t,e,n){t._assign=kc(n),nw(t,e,n)}};function nw(t,{value:e,oldValue:n},s){t._modelValue=e,qe(e)?t.checked=Hy(e,s.props.value)>-1:Yc(e)?t.checked=e.has(s.props.value):e!==n&&(t.checked=gf(e,ZM(t,!0)))}const Xm={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const i=Yc(e);vo(t,"change",()=>{const r=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Np(Dd(o)):Dd(o));t._assign(t.multiple?i?new Set(r):r:r[0])}),t._assign=kc(s)},mounted(t,{value:e}){sw(t,e)},beforeUpdate(t,e,n){t._assign=kc(n)},updated(t,{value:e}){sw(t,e)}};function sw(t,e){const n=t.multiple;if(!(n&&!qe(e)&&!Yc(e))){for(let s=0,i=t.options.length;s<i;s++){const r=t.options[s],o=Dd(r);if(n)qe(e)?r.selected=Hy(e,o)>-1:r.selected=e.has(o);else if(gf(Dd(r),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Dd(t){return"_value"in t?t._value:t.value}function ZM(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Hp={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):wu(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),wu(t,!0),s.enter(t)):s.leave(t,()=>{wu(t,!1)}):wu(t,e))},beforeUnmount(t,{value:e}){wu(t,e)}};function wu(t,e){t.style.display=e?t._vod:"none"}const iP=Ln({patchProp:jO},LO);let iw;function rP(){return iw||(iw=hO(iP))}const oP=(...t)=>{const e=rP().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=aP(s);if(!i)return;const r=e._component;!lt(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function aP(t){return yn(t)?document.querySelector(t):t}const lP="modulepreload",cP=function(t){return"/develop/"+t},rw={},uP=function(e,n,s){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(r=>{if(r=cP(r),r in rw)return;rw[r]=!0;const o=r.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!s)for(let u=i.length-1;u>=0;u--){const d=i[u];if(d.href===r&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":lP,o||(c.as="script",c.crossOrigin=""),c.href=r,document.head.appendChild(c),o)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>e())};function dP(){class t{constructor(){Ke(this,"hasUpdate",!1);Ke(this,"updateSW");Ke(this,"updateCallback")}updatePreparing(){return!1}updatePending(){return!1}async checkForUpdate(n,s){if(this.updateCallback=s,!this.updateSW)try{const i=this,{registerSW:r}=await uP(()=>import("./virtual_pwa-register-7aa5033a.js"),[]);this.updateSW=r({immediate:!0,onOfflineReady(){console.log("PWA offline ready")},onNeedRefresh(){i.hasUpdate=!0,i.updateCallback&&i.updateCallback(i.hasUpdate)},onRegistered(o){},onRegisterError(o){}})}catch{console.log("PWA disabled")}}async update(n){this.hasUpdate&&(this.hasUpdate=!1,this.updateSW&&this.updateSW(!0))}async finishUpdate(){}}return new t}function fP(){try{throw new Error("new.App undefined")}catch{return console.log("Registering PWA updater"),dP()}}const xa=fP();/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const jl=typeof window<"u";function hP(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Dt=Object.assign;function f0(t,e){const n={};for(const s in e){const i=e[s];n[s]=Ei(i)?i.map(t):t(i)}return n}const cd=()=>{},Ei=Array.isArray,pP=/\/$/,mP=t=>t.replace(pP,"");function h0(t,e,n="/"){let s,i={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),i=t(r)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=bP(s??e,n),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:o}}function gP(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function ow(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function _P(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&Rc(e.matched[s],n.matched[i])&&JM(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Rc(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function JM(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!yP(t[n],e[n]))return!1;return!0}function yP(t,e){return Ei(t)?aw(t,e):Ei(e)?aw(e,t):t===e}function aw(t,e){return Ei(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function bP(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/");let i=n.length-1,r,o;for(r=0;r<s.length;r++)if(o=s[r],o!==".")if(o==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(r-(r===s.length?1:0)).join("/")}var Fd;(function(t){t.pop="pop",t.push="push"})(Fd||(Fd={}));var ud;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ud||(ud={}));function vP(t){if(!t)if(jl){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),mP(t)}const wP=/^[^#]+#/;function xP(t,e){return t.replace(wP,"#")+e}function SP(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Zm=()=>({left:window.pageXOffset,top:window.pageYOffset});function EP(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=SP(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function lw(t,e){return(history.state?history.state.position-e:-1)+t}const g1=new Map;function TP(t,e){g1.set(t,e)}function MP(t){const e=g1.get(t);return g1.delete(t),e}let AP=()=>location.protocol+"//"+location.host;function QM(t,e){const{pathname:n,search:s,hash:i}=e,r=t.indexOf("#");if(r>-1){let a=i.includes(t.slice(r))?t.slice(r).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),ow(l,"")}return ow(n,t)+s+i}function kP(t,e,n,s){let i=[],r=[],o=null;const a=({state:f})=>{const h=QM(t,location),_=n.value,p=e.value;let m=0;if(f){if(n.value=h,e.value=f,o&&o===_){o=null;return}m=p?f.position-p.position:0}else s(h);i.forEach(y=>{y(n.value,_,{delta:m,type:Fd.pop,direction:m?m>0?ud.forward:ud.back:ud.unknown})})};function l(){o=n.value}function c(f){i.push(f);const h=()=>{const _=i.indexOf(f);_>-1&&i.splice(_,1)};return r.push(h),h}function u(){const{history:f}=window;f.state&&f.replaceState(Dt({},f.state,{scroll:Zm()}),"")}function d(){for(const f of r)f();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:l,listen:c,destroy:d}}function cw(t,e,n,s=!1,i=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:i?Zm():null}}function RP(t){const{history:e,location:n}=window,s={value:QM(t,n)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:AP()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),i.value=c}catch(h){console.error(h),n[u?"replace":"assign"](f)}}function o(l,c){const u=Dt({},e.state,cw(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});r(l,u,!0),s.value=l}function a(l,c){const u=Dt({},i.value,e.state,{forward:l,scroll:Zm()});r(u.current,u,!0);const d=Dt({},cw(s.value,l,null),{position:u.position+1},c);r(l,d,!1),s.value=l}return{location:s,state:i,push:a,replace:o}}function CP(t){t=vP(t);const e=RP(t),n=kP(t,e.state,e.location,e.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=Dt({location:"",base:t,go:s,createHref:xP.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function OP(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),CP(t)}function PP(t){return typeof t=="string"||t&&typeof t=="object"}function e4(t){return typeof t=="string"||typeof t=="symbol"}const Zr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},t4=Symbol("");var uw;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(uw||(uw={}));function Cc(t,e){return Dt(new Error,{type:t,[t4]:!0},e)}function lr(t,e){return t instanceof Error&&t4 in t&&(e==null||!!(t.type&e))}const dw="[^/]+?",LP={sensitive:!1,strict:!1,start:!0,end:!0},IP=/[.+*?^${}()[\]/\\]/g;function DP(t,e){const n=Dt({},LP,e),s=[];let i=n.start?"^":"";const r=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let d=0;d<c.length;d++){const f=c[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(i+="/"),i+=f.value.replace(IP,"\\$&"),h+=40;else if(f.type===1){const{value:_,repeatable:p,optional:m,regexp:y}=f;r.push({name:_,repeatable:p,optional:m});const b=y||dw;if(b!==dw){h+=10;try{new RegExp(`(${b})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${_}" (${b}): `+w.message)}}let v=p?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;d||(v=m&&c.length<2?`(?:/${v})`:"/"+v),m&&(v+="?"),i+=v,h+=20,m&&(h+=-8),p&&(h+=-20),b===".*"&&(h+=-50)}u.push(h)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let f=1;f<u.length;f++){const h=u[f]||"",_=r[f-1];d[_.name]=h&&_.repeatable?h.split("/"):h}return d}function l(c){let u="",d=!1;for(const f of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const h of f)if(h.type===0)u+=h.value;else if(h.type===1){const{value:_,repeatable:p,optional:m}=h,y=_ in c?c[_]:"";if(Ei(y)&&!p)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const b=Ei(y)?y.join("/"):y;if(!b)if(m)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${_}"`);u+=b}}return u||"/"}return{re:o,score:s,keys:r,parse:a,stringify:l}}function FP(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function NP(t,e){let n=0;const s=t.score,i=e.score;for(;n<s.length&&n<i.length;){const r=FP(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(fw(s))return 1;if(fw(i))return-1}return i.length-s.length}function fw(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const UP={type:0,value:""},$P=/[a-zA-Z0-9_]/;function BP(t){if(!t)return[[]];if(t==="/")return[[UP]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,l,c="",u="";function d(){c&&(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),n=1):f();break;case 4:f(),n=s;break;case 1:l==="("?n=2:$P.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),i}function zP(t,e,n){const s=DP(BP(t.path),n),i=Dt(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function GP(t,e){const n=[],s=new Map;e=mw({strict:!1,end:!0,sensitive:!1},e);function i(u){return s.get(u)}function r(u,d,f){const h=!f,_=HP(u);_.aliasOf=f&&f.record;const p=mw(e,u),m=[_];if("alias"in u){const v=typeof u.alias=="string"?[u.alias]:u.alias;for(const w of v)m.push(Dt({},_,{components:f?f.record.components:_.components,path:w,aliasOf:f?f.record:_}))}let y,b;for(const v of m){const{path:w}=v;if(d&&w[0]!=="/"){const S=d.record.path,x=S[S.length-1]==="/"?"":"/";v.path=d.record.path+(w&&x+w)}if(y=zP(v,d,p),f?f.alias.push(y):(b=b||y,b!==y&&b.alias.push(y),h&&u.name&&!pw(y)&&o(u.name)),_.children){const S=_.children;for(let x=0;x<S.length;x++)r(S[x],y,f&&f.children[x])}f=f||y,(y.record.components&&Object.keys(y.record.components).length||y.record.name||y.record.redirect)&&l(y)}return b?()=>{o(b)}:cd}function o(u){if(e4(u)){const d=s.get(u);d&&(s.delete(u),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(u);d>-1&&(n.splice(d,1),u.record.name&&s.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let d=0;for(;d<n.length&&NP(u,n[d])>=0&&(u.record.path!==n[d].record.path||!n4(u,n[d]));)d++;n.splice(d,0,u),u.record.name&&!pw(u)&&s.set(u.record.name,u)}function c(u,d){let f,h={},_,p;if("name"in u&&u.name){if(f=s.get(u.name),!f)throw Cc(1,{location:u});p=f.record.name,h=Dt(hw(d.params,f.keys.filter(b=>!b.optional).map(b=>b.name)),u.params&&hw(u.params,f.keys.map(b=>b.name))),_=f.stringify(h)}else if("path"in u)_=u.path,f=n.find(b=>b.re.test(_)),f&&(h=f.parse(_),p=f.record.name);else{if(f=d.name?s.get(d.name):n.find(b=>b.re.test(d.path)),!f)throw Cc(1,{location:u,currentLocation:d});p=f.record.name,h=Dt({},d.params,u.params),_=f.stringify(h)}const m=[];let y=f;for(;y;)m.unshift(y.record),y=y.parent;return{name:p,path:_,params:h,matched:m,meta:WP(m)}}return t.forEach(u=>r(u)),{addRoute:r,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function hw(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function HP(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:VP(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function VP(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="boolean"?n:n[s];return e}function pw(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function WP(t){return t.reduce((e,n)=>Dt(e,n.meta),{})}function mw(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function n4(t,e){return e.children.some(n=>n===t||n4(t,n))}const s4=/#/g,jP=/&/g,qP=/\//g,YP=/=/g,KP=/\?/g,i4=/\+/g,XP=/%5B/g,ZP=/%5D/g,r4=/%5E/g,JP=/%60/g,o4=/%7B/g,QP=/%7C/g,a4=/%7D/g,eL=/%20/g;function pb(t){return encodeURI(""+t).replace(QP,"|").replace(XP,"[").replace(ZP,"]")}function tL(t){return pb(t).replace(o4,"{").replace(a4,"}").replace(r4,"^")}function _1(t){return pb(t).replace(i4,"%2B").replace(eL,"+").replace(s4,"%23").replace(jP,"%26").replace(JP,"`").replace(o4,"{").replace(a4,"}").replace(r4,"^")}function nL(t){return _1(t).replace(YP,"%3D")}function sL(t){return pb(t).replace(s4,"%23").replace(KP,"%3F")}function iL(t){return t==null?"":sL(t).replace(qP,"%2F")}function Vp(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function rL(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(i4," "),o=r.indexOf("="),a=Vp(o<0?r:r.slice(0,o)),l=o<0?null:Vp(r.slice(o+1));if(a in e){let c=e[a];Ei(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function gw(t){let e="";for(let n in t){const s=t[n];if(n=nL(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Ei(s)?s.map(r=>r&&_1(r)):[s&&_1(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function oL(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Ei(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const aL=Symbol(""),_w=Symbol(""),mb=Symbol(""),l4=Symbol(""),y1=Symbol("");function xu(){let t=[];function e(s){return t.push(s),()=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function _o(t,e,n,s,i){const r=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((o,a)=>{const l=d=>{d===!1?a(Cc(4,{from:n,to:e})):d instanceof Error?a(d):PP(d)?a(Cc(2,{from:e,to:d})):(r&&s.enterCallbacks[i]===r&&typeof d=="function"&&r.push(d),o())},c=t.call(s&&s.instances[i],e,n,l);let u=Promise.resolve(c);t.length<3&&(u=u.then(l)),u.catch(d=>a(d))})}function p0(t,e,n,s){const i=[];for(const r of t)for(const o in r.components){let a=r.components[o];if(!(e!=="beforeRouteEnter"&&!r.instances[o]))if(lL(a)){const c=(a.__vccOpts||a)[e];c&&i.push(_o(c,n,s,r,o))}else{let l=a();i.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${r.path}"`));const u=hP(c)?c.default:c;r.components[o]=u;const f=(u.__vccOpts||u)[e];return f&&_o(f,n,s,r,o)()}))}}return i}function lL(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function yw(t){const e=qi(mb),n=qi(l4),s=zt(()=>e.resolve(uc(t.to))),i=zt(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const f=d.findIndex(Rc.bind(null,u));if(f>-1)return f;const h=bw(l[c-2]);return c>1&&bw(u)===h&&d[d.length-1].path!==h?d.findIndex(Rc.bind(null,l[c-2])):f}),r=zt(()=>i.value>-1&&dL(n.params,s.value.params)),o=zt(()=>i.value>-1&&i.value===n.matched.length-1&&JM(n.params,s.value.params));function a(l={}){return uL(l)?e[uc(t.replace)?"replace":"push"](uc(t.to)).catch(cd):Promise.resolve()}return{route:s,href:zt(()=>s.value.href),isActive:r,isExactActive:o,navigate:a}}const cL=Ye({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:yw,setup(t,{slots:e}){const n=ol(yw(t)),{options:s}=qi(mb),i=zt(()=>({[vw(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[vw(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&e.default(n);return t.custom?r:Va("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),c4=cL;function uL(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function dL(t,e){for(const n in e){const s=e[n],i=t[n];if(typeof s=="string"){if(s!==i)return!1}else if(!Ei(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function bw(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const vw=(t,e,n)=>t??e??n,fL=Ye({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=qi(y1),i=zt(()=>t.route||s.value),r=qi(_w,0),o=zt(()=>{let c=uc(r);const{matched:u}=i.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=zt(()=>i.value.matched[o.value]);up(_w,zt(()=>o.value+1)),up(aL,a),up(y1,i);const l=Um();return Po(()=>[l.value,a.value,t.name],([c,u,d],[f,h,_])=>{u&&(u.instances[d]=c,h&&h!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!Rc(u,h)||!f)&&(u.enterCallbacks[d]||[]).forEach(p=>p(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,d=a.value,f=d&&d.components[u];if(!f)return ww(n.default,{Component:f,route:c});const h=d.props[u],_=h?h===!0?c.params:typeof h=="function"?h(c):h:null,m=Va(f,Dt({},_,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return ww(n.default,{Component:m,route:c})||m}}});function ww(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const u4=fL;function hL(t){const e=GP(t.routes,t),n=t.parseQuery||rL,s=t.stringifyQuery||gw,i=t.history,r=xu(),o=xu(),a=xu(),l=eb(Zr);let c=Zr;jl&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=f0.bind(null,H=>""+H),d=f0.bind(null,iL),f=f0.bind(null,Vp);function h(H,z){let ge,ue;return e4(H)?(ge=e.getRecordMatcher(H),ue=z):ue=H,e.addRoute(ue,ge)}function _(H){const z=e.getRecordMatcher(H);z&&e.removeRoute(z)}function p(){return e.getRoutes().map(H=>H.record)}function m(H){return!!e.getRecordMatcher(H)}function y(H,z){if(z=Dt({},z||l.value),typeof H=="string"){const P=h0(n,H,z.path),U=e.resolve({path:P.path},z),ie=i.createHref(P.fullPath);return Dt(P,U,{params:f(U.params),hash:Vp(P.hash),redirectedFrom:void 0,href:ie})}let ge;if("path"in H)ge=Dt({},H,{path:h0(n,H.path,z.path).path});else{const P=Dt({},H.params);for(const U in P)P[U]==null&&delete P[U];ge=Dt({},H,{params:d(H.params)}),z.params=d(z.params)}const ue=e.resolve(ge,z),ve=H.hash||"";ue.params=u(f(ue.params));const ye=gP(s,Dt({},H,{hash:tL(ve),path:ue.path})),Oe=i.createHref(ye);return Dt({fullPath:ye,hash:ve,query:s===gw?oL(H.query):H.query||{}},ue,{redirectedFrom:void 0,href:Oe})}function b(H){return typeof H=="string"?h0(n,H,l.value.path):Dt({},H)}function v(H,z){if(c!==H)return Cc(8,{from:z,to:H})}function w(H){return T(H)}function S(H){return w(Dt(b(H),{replace:!0}))}function x(H){const z=H.matched[H.matched.length-1];if(z&&z.redirect){const{redirect:ge}=z;let ue=typeof ge=="function"?ge(H):ge;return typeof ue=="string"&&(ue=ue.includes("?")||ue.includes("#")?ue=b(ue):{path:ue},ue.params={}),Dt({query:H.query,hash:H.hash,params:"path"in ue?{}:H.params},ue)}}function T(H,z){const ge=c=y(H),ue=l.value,ve=H.state,ye=H.force,Oe=H.replace===!0,P=x(ge);if(P)return T(Dt(b(P),{state:typeof P=="object"?Dt({},ve,P.state):ve,force:ye,replace:Oe}),z||ge);const U=ge;U.redirectedFrom=z;let ie;return!ye&&_P(s,ue,ge)&&(ie=Cc(16,{to:U,from:ue}),j(ue,ue,!0,!1)),(ie?Promise.resolve(ie):M(U,ue)).catch(oe=>lr(oe)?lr(oe,2)?oe:Y(oe):B(oe,U,ue)).then(oe=>{if(oe){if(lr(oe,2))return T(Dt({replace:Oe},b(oe.to),{state:typeof oe.to=="object"?Dt({},ve,oe.to.state):ve,force:ye}),z||U)}else oe=A(U,ue,!0,Oe,ve);return C(U,ue,oe),oe})}function E(H,z){const ge=v(H,z);return ge?Promise.reject(ge):Promise.resolve()}function M(H,z){let ge;const[ue,ve,ye]=pL(H,z);ge=p0(ue.reverse(),"beforeRouteLeave",H,z);for(const P of ue)P.leaveGuards.forEach(U=>{ge.push(_o(U,H,z))});const Oe=E.bind(null,H,z);return ge.push(Oe),_l(ge).then(()=>{ge=[];for(const P of r.list())ge.push(_o(P,H,z));return ge.push(Oe),_l(ge)}).then(()=>{ge=p0(ve,"beforeRouteUpdate",H,z);for(const P of ve)P.updateGuards.forEach(U=>{ge.push(_o(U,H,z))});return ge.push(Oe),_l(ge)}).then(()=>{ge=[];for(const P of H.matched)if(P.beforeEnter&&!z.matched.includes(P))if(Ei(P.beforeEnter))for(const U of P.beforeEnter)ge.push(_o(U,H,z));else ge.push(_o(P.beforeEnter,H,z));return ge.push(Oe),_l(ge)}).then(()=>(H.matched.forEach(P=>P.enterCallbacks={}),ge=p0(ye,"beforeRouteEnter",H,z),ge.push(Oe),_l(ge))).then(()=>{ge=[];for(const P of o.list())ge.push(_o(P,H,z));return ge.push(Oe),_l(ge)}).catch(P=>lr(P,8)?P:Promise.reject(P))}function C(H,z,ge){for(const ue of a.list())ue(H,z,ge)}function A(H,z,ge,ue,ve){const ye=v(H,z);if(ye)return ye;const Oe=z===Zr,P=jl?history.state:{};ge&&(ue||Oe?i.replace(H.fullPath,Dt({scroll:Oe&&P&&P.scroll},ve)):i.push(H.fullPath,ve)),l.value=H,j(H,z,ge,Oe),Y()}let R;function $(){R||(R=i.listen((H,z,ge)=>{if(!te.listening)return;const ue=y(H),ve=x(ue);if(ve){T(Dt(ve,{replace:!0}),ue).catch(cd);return}c=ue;const ye=l.value;jl&&TP(lw(ye.fullPath,ge.delta),Zm()),M(ue,ye).catch(Oe=>lr(Oe,12)?Oe:lr(Oe,2)?(T(Oe.to,ue).then(P=>{lr(P,20)&&!ge.delta&&ge.type===Fd.pop&&i.go(-1,!1)}).catch(cd),Promise.reject()):(ge.delta&&i.go(-ge.delta,!1),B(Oe,ue,ye))).then(Oe=>{Oe=Oe||A(ue,ye,!1),Oe&&(ge.delta&&!lr(Oe,8)?i.go(-ge.delta,!1):ge.type===Fd.pop&&lr(Oe,20)&&i.go(-1,!1)),C(ue,ye,Oe)}).catch(cd)}))}let F=xu(),D=xu(),I;function B(H,z,ge){Y(H);const ue=D.list();return ue.length?ue.forEach(ve=>ve(H,z,ge)):console.error(H),Promise.reject(H)}function W(){return I&&l.value!==Zr?Promise.resolve():new Promise((H,z)=>{F.add([H,z])})}function Y(H){return I||(I=!H,$(),F.list().forEach(([z,ge])=>H?ge(H):z()),F.reset()),H}function j(H,z,ge,ue){const{scrollBehavior:ve}=t;if(!jl||!ve)return Promise.resolve();const ye=!ge&&MP(lw(H.fullPath,0))||(ue||!ge)&&history.state&&history.state.scroll||null;return nb().then(()=>ve(H,z,ye)).then(Oe=>Oe&&EP(Oe)).catch(Oe=>B(Oe,H,z))}const pe=H=>i.go(H);let O;const G=new Set,te={currentRoute:l,listening:!0,addRoute:h,removeRoute:_,hasRoute:m,getRoutes:p,resolve:y,options:t,push:w,replace:S,go:pe,back:()=>pe(-1),forward:()=>pe(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:D.add,isReady:W,install(H){const z=this;H.component("RouterLink",c4),H.component("RouterView",u4),H.config.globalProperties.$router=z,Object.defineProperty(H.config.globalProperties,"$route",{enumerable:!0,get:()=>uc(l)}),jl&&!O&&l.value===Zr&&(O=!0,w(i.location).catch(ve=>{}));const ge={};for(const ve in Zr)ge[ve]=zt(()=>l.value[ve]);H.provide(mb,z),H.provide(l4,ol(ge)),H.provide(y1,l);const ue=H.unmount;G.add(H),H.unmount=function(){G.delete(H),G.size<1&&(c=Zr,R&&R(),R=null,l.value=Zr,O=!1,I=!1),ue()}}};return te}function _l(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function pL(t,e){const n=[],s=[],i=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(t.matched.find(c=>Rc(c,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Rc(c,l))||i.push(l))}return[n,s,i]}//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var d4;function Pe(){return d4.apply(null,arguments)}function mL(t){d4=t}function Ti(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function Da(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Mt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function gb(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(Mt(t,e))return!1;return!0}function ps(t){return t===void 0}function Ur(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function yf(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function f4(t,e){var n=[],s,i=t.length;for(s=0;s<i;++s)n.push(e(t[s],s));return n}function wo(t,e){for(var n in e)Mt(e,n)&&(t[n]=e[n]);return Mt(e,"toString")&&(t.toString=e.toString),Mt(e,"valueOf")&&(t.valueOf=e.valueOf),t}function ir(t,e,n,s){return F4(t,e,n,s,!0).utc()}function gL(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function at(t){return t._pf==null&&(t._pf=gL()),t._pf}var b1;Array.prototype.some?b1=Array.prototype.some:b1=function(t){var e=Object(this),n=e.length>>>0,s;for(s=0;s<n;s++)if(s in e&&t.call(this,e[s],s,e))return!0;return!1};function _b(t){if(t._isValid==null){var e=at(t),n=b1.call(e.parsedDateParts,function(i){return i!=null}),s=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(s=s&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=s;else return s}return t._isValid}function Jm(t){var e=ir(NaN);return t!=null?wo(at(e),t):at(e).userInvalidated=!0,e}var xw=Pe.momentProperties=[],m0=!1;function yb(t,e){var n,s,i,r=xw.length;if(ps(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),ps(e._i)||(t._i=e._i),ps(e._f)||(t._f=e._f),ps(e._l)||(t._l=e._l),ps(e._strict)||(t._strict=e._strict),ps(e._tzm)||(t._tzm=e._tzm),ps(e._isUTC)||(t._isUTC=e._isUTC),ps(e._offset)||(t._offset=e._offset),ps(e._pf)||(t._pf=at(e)),ps(e._locale)||(t._locale=e._locale),r>0)for(n=0;n<r;n++)s=xw[n],i=e[s],ps(i)||(t[s]=i);return t}function bf(t){yb(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),m0===!1&&(m0=!0,Pe.updateOffset(this),m0=!1)}function Mi(t){return t instanceof bf||t!=null&&t._isAMomentObject!=null}function h4(t){Pe.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function Qs(t,e){var n=!0;return wo(function(){if(Pe.deprecationHandler!=null&&Pe.deprecationHandler(null,t),n){var s=[],i,r,o,a=arguments.length;for(r=0;r<a;r++){if(i="",typeof arguments[r]=="object"){i+=`
[`+r+"] ";for(o in arguments[0])Mt(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[r];s.push(i)}h4(t+`
Arguments: `+Array.prototype.slice.call(s).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var Sw={};function p4(t,e){Pe.deprecationHandler!=null&&Pe.deprecationHandler(t,e),Sw[t]||(h4(e),Sw[t]=!0)}Pe.suppressDeprecationWarnings=!1;Pe.deprecationHandler=null;function rr(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function _L(t){var e,n;for(n in t)Mt(t,n)&&(e=t[n],rr(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function v1(t,e){var n=wo({},t),s;for(s in e)Mt(e,s)&&(Da(t[s])&&Da(e[s])?(n[s]={},wo(n[s],t[s]),wo(n[s],e[s])):e[s]!=null?n[s]=e[s]:delete n[s]);for(s in t)Mt(t,s)&&!Mt(e,s)&&Da(t[s])&&(n[s]=wo({},n[s]));return n}function bb(t){t!=null&&this.set(t)}var w1;Object.keys?w1=Object.keys:w1=function(t){var e,n=[];for(e in t)Mt(t,e)&&n.push(e);return n};var yL={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function bL(t,e,n){var s=this._calendar[t]||this._calendar.sameElse;return rr(s)?s.call(e,n):s}function tr(t,e,n){var s=""+Math.abs(t),i=e-s.length,r=t>=0;return(r?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+s}var vb=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Xf=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,g0={},fc={};function je(t,e,n,s){var i=s;typeof s=="string"&&(i=function(){return this[s]()}),t&&(fc[t]=i),e&&(fc[e[0]]=function(){return tr(i.apply(this,arguments),e[1],e[2])}),n&&(fc[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function vL(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function wL(t){var e=t.match(vb),n,s;for(n=0,s=e.length;n<s;n++)fc[e[n]]?e[n]=fc[e[n]]:e[n]=vL(e[n]);return function(i){var r="",o;for(o=0;o<s;o++)r+=rr(e[o])?e[o].call(i,t):e[o];return r}}function hp(t,e){return t.isValid()?(e=m4(e,t.localeData()),g0[e]=g0[e]||wL(e),g0[e](t)):t.localeData().invalidDate()}function m4(t,e){var n=5;function s(i){return e.longDateFormat(i)||i}for(Xf.lastIndex=0;n>=0&&Xf.test(t);)t=t.replace(Xf,s),Xf.lastIndex=0,n-=1;return t}var xL={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function SL(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(vb).map(function(s){return s==="MMMM"||s==="MM"||s==="DD"||s==="dddd"?s.slice(1):s}).join(""),this._longDateFormat[t])}var EL="Invalid date";function TL(){return this._invalidDate}var ML="%d",AL=/\d{1,2}/;function kL(t){return this._ordinal.replace("%d",t)}var RL={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function CL(t,e,n,s){var i=this._relativeTime[n];return rr(i)?i(t,e,n,s):i.replace(/%d/i,t)}function OL(t,e){var n=this._relativeTime[t>0?"future":"past"];return rr(n)?n(e):n.replace(/%s/i,e)}var dd={};function Xn(t,e){var n=t.toLowerCase();dd[n]=dd[n+"s"]=dd[e]=t}function ei(t){return typeof t=="string"?dd[t]||dd[t.toLowerCase()]:void 0}function wb(t){var e={},n,s;for(s in t)Mt(t,s)&&(n=ei(s),n&&(e[n]=t[s]));return e}var g4={};function Zn(t,e){g4[t]=e}function PL(t){var e=[],n;for(n in t)Mt(t,n)&&e.push({unit:n,priority:g4[n]});return e.sort(function(s,i){return s.priority-i.priority}),e}function Qm(t){return t%4===0&&t%100!==0||t%400===0}function zs(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function ht(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=zs(e)),n}function Jc(t,e){return function(n){return n!=null?(_4(this,t,n),Pe.updateOffset(this,e),this):Wp(this,t)}}function Wp(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function _4(t,e,n){t.isValid()&&!isNaN(n)&&(e==="FullYear"&&Qm(t.year())&&t.month()===1&&t.date()===29?(n=ht(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),rg(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function LL(t){return t=ei(t),rr(this[t])?this[t]():this}function IL(t,e){if(typeof t=="object"){t=wb(t);var n=PL(t),s,i=n.length;for(s=0;s<i;s++)this[n[s].unit](t[n[s].unit])}else if(t=ei(t),rr(this[t]))return this[t](e);return this}var y4=/\d/,Os=/\d\d/,b4=/\d{3}/,xb=/\d{4}/,eg=/[+-]?\d{6}/,en=/\d\d?/,v4=/\d\d\d\d?/,w4=/\d\d\d\d\d\d?/,tg=/\d{1,3}/,Sb=/\d{1,4}/,ng=/[+-]?\d{1,6}/,Qc=/\d+/,sg=/[+-]?\d+/,DL=/Z|[+-]\d\d:?\d\d/gi,ig=/Z|[+-]\d\d(?::?\d\d)?/gi,FL=/[+-]?\d+(\.\d{1,3})?/,vf=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,jp;jp={};function ze(t,e,n){jp[t]=rr(e)?e:function(s,i){return s&&n?n:e}}function NL(t,e){return Mt(jp,t)?jp[t](e._strict,e._locale):new RegExp(UL(t))}function UL(t){return As(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,s,i,r){return n||s||i||r}))}function As(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var x1={};function Bt(t,e){var n,s=e,i;for(typeof t=="string"&&(t=[t]),Ur(e)&&(s=function(r,o){o[e]=ht(r)}),i=t.length,n=0;n<i;n++)x1[t[n]]=s}function wf(t,e){Bt(t,function(n,s,i,r){i._w=i._w||{},e(n,i._w,i,r)})}function $L(t,e,n){e!=null&&Mt(x1,t)&&x1[t](e,n._a,n,t)}var jn=0,Rr=1,Vi=2,Tn=3,mi=4,Cr=5,Sa=6,BL=7,zL=8;function GL(t,e){return(t%e+e)%e}var hn;Array.prototype.indexOf?hn=Array.prototype.indexOf:hn=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function rg(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=GL(e,12);return t+=(e-n)/12,n===1?Qm(t)?29:28:31-n%7%2}je("M",["MM",2],"Mo",function(){return this.month()+1});je("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});je("MMMM",0,0,function(t){return this.localeData().months(this,t)});Xn("month","M");Zn("month",8);ze("M",en);ze("MM",en,Os);ze("MMM",function(t,e){return e.monthsShortRegex(t)});ze("MMMM",function(t,e){return e.monthsRegex(t)});Bt(["M","MM"],function(t,e){e[Rr]=ht(t)-1});Bt(["MMM","MMMM"],function(t,e,n,s){var i=n._locale.monthsParse(t,s,n._strict);i!=null?e[Rr]=i:at(n).invalidMonth=t});var HL="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),x4="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),S4=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,VL=vf,WL=vf;function jL(t,e){return t?Ti(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||S4).test(e)?"format":"standalone"][t.month()]:Ti(this._months)?this._months:this._months.standalone}function qL(t,e){return t?Ti(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[S4.test(e)?"format":"standalone"][t.month()]:Ti(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function YL(t,e,n){var s,i,r,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)r=ir([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(r,"").toLocaleLowerCase();return n?e==="MMM"?(i=hn.call(this._shortMonthsParse,o),i!==-1?i:null):(i=hn.call(this._longMonthsParse,o),i!==-1?i:null):e==="MMM"?(i=hn.call(this._shortMonthsParse,o),i!==-1?i:(i=hn.call(this._longMonthsParse,o),i!==-1?i:null)):(i=hn.call(this._longMonthsParse,o),i!==-1?i:(i=hn.call(this._shortMonthsParse,o),i!==-1?i:null))}function KL(t,e,n){var s,i,r;if(this._monthsParseExact)return YL.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=ir([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[s]&&(r="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(r.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[s].test(t))return s;if(n&&e==="MMM"&&this._shortMonthsParse[s].test(t))return s;if(!n&&this._monthsParse[s].test(t))return s}}function E4(t,e){var n;if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=ht(e);else if(e=t.localeData().monthsParse(e),!Ur(e))return t}return n=Math.min(t.date(),rg(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function T4(t){return t!=null?(E4(this,t),Pe.updateOffset(this,!0),this):Wp(this,"Month")}function XL(){return rg(this.year(),this.month())}function ZL(t){return this._monthsParseExact?(Mt(this,"_monthsRegex")||M4.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Mt(this,"_monthsShortRegex")||(this._monthsShortRegex=VL),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function JL(t){return this._monthsParseExact?(Mt(this,"_monthsRegex")||M4.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Mt(this,"_monthsRegex")||(this._monthsRegex=WL),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function M4(){function t(o,a){return a.length-o.length}var e=[],n=[],s=[],i,r;for(i=0;i<12;i++)r=ir([2e3,i]),e.push(this.monthsShort(r,"")),n.push(this.months(r,"")),s.push(this.months(r,"")),s.push(this.monthsShort(r,""));for(e.sort(t),n.sort(t),s.sort(t),i=0;i<12;i++)e[i]=As(e[i]),n[i]=As(n[i]);for(i=0;i<24;i++)s[i]=As(s[i]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}je("Y",0,0,function(){var t=this.year();return t<=9999?tr(t,4):"+"+t});je(0,["YY",2],0,function(){return this.year()%100});je(0,["YYYY",4],0,"year");je(0,["YYYYY",5],0,"year");je(0,["YYYYYY",6,!0],0,"year");Xn("year","y");Zn("year",1);ze("Y",sg);ze("YY",en,Os);ze("YYYY",Sb,xb);ze("YYYYY",ng,eg);ze("YYYYYY",ng,eg);Bt(["YYYYY","YYYYYY"],jn);Bt("YYYY",function(t,e){e[jn]=t.length===2?Pe.parseTwoDigitYear(t):ht(t)});Bt("YY",function(t,e){e[jn]=Pe.parseTwoDigitYear(t)});Bt("Y",function(t,e){e[jn]=parseInt(t,10)});function fd(t){return Qm(t)?366:365}Pe.parseTwoDigitYear=function(t){return ht(t)+(ht(t)>68?1900:2e3)};var A4=Jc("FullYear",!0);function QL(){return Qm(this.year())}function eI(t,e,n,s,i,r,o){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,s,i,r,o),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,s,i,r,o),a}function Nd(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function qp(t,e,n){var s=7+e-n,i=(7+Nd(t,0,s).getUTCDay()-e)%7;return-i+s-1}function k4(t,e,n,s,i){var r=(7+n-s)%7,o=qp(t,s,i),a=1+7*(e-1)+r+o,l,c;return a<=0?(l=t-1,c=fd(l)+a):a>fd(t)?(l=t+1,c=a-fd(t)):(l=t,c=a),{year:l,dayOfYear:c}}function Ud(t,e,n){var s=qp(t.year(),e,n),i=Math.floor((t.dayOfYear()-s-1)/7)+1,r,o;return i<1?(o=t.year()-1,r=i+Pr(o,e,n)):i>Pr(t.year(),e,n)?(r=i-Pr(t.year(),e,n),o=t.year()+1):(o=t.year(),r=i),{week:r,year:o}}function Pr(t,e,n){var s=qp(t,e,n),i=qp(t+1,e,n);return(fd(t)-s+i)/7}je("w",["ww",2],"wo","week");je("W",["WW",2],"Wo","isoWeek");Xn("week","w");Xn("isoWeek","W");Zn("week",5);Zn("isoWeek",5);ze("w",en);ze("ww",en,Os);ze("W",en);ze("WW",en,Os);wf(["w","ww","W","WW"],function(t,e,n,s){e[s.substr(0,1)]=ht(t)});function tI(t){return Ud(t,this._week.dow,this._week.doy).week}var nI={dow:0,doy:6};function sI(){return this._week.dow}function iI(){return this._week.doy}function rI(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function oI(t){var e=Ud(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}je("d",0,"do","day");je("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});je("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});je("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});je("e",0,0,"weekday");je("E",0,0,"isoWeekday");Xn("day","d");Xn("weekday","e");Xn("isoWeekday","E");Zn("day",11);Zn("weekday",11);Zn("isoWeekday",11);ze("d",en);ze("e",en);ze("E",en);ze("dd",function(t,e){return e.weekdaysMinRegex(t)});ze("ddd",function(t,e){return e.weekdaysShortRegex(t)});ze("dddd",function(t,e){return e.weekdaysRegex(t)});wf(["dd","ddd","dddd"],function(t,e,n,s){var i=n._locale.weekdaysParse(t,s,n._strict);i!=null?e.d=i:at(n).invalidWeekday=t});wf(["d","e","E"],function(t,e,n,s){e[s]=ht(t)});function aI(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function lI(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Eb(t,e){return t.slice(e,7).concat(t.slice(0,e))}var cI="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),R4="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),uI="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),dI=vf,fI=vf,hI=vf;function pI(t,e){var n=Ti(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?Eb(n,this._week.dow):t?n[t.day()]:n}function mI(t){return t===!0?Eb(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function gI(t){return t===!0?Eb(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function _I(t,e,n){var s,i,r,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)r=ir([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(r,"").toLocaleLowerCase();return n?e==="dddd"?(i=hn.call(this._weekdaysParse,o),i!==-1?i:null):e==="ddd"?(i=hn.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=hn.call(this._minWeekdaysParse,o),i!==-1?i:null):e==="dddd"?(i=hn.call(this._weekdaysParse,o),i!==-1||(i=hn.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=hn.call(this._minWeekdaysParse,o),i!==-1?i:null)):e==="ddd"?(i=hn.call(this._shortWeekdaysParse,o),i!==-1||(i=hn.call(this._weekdaysParse,o),i!==-1)?i:(i=hn.call(this._minWeekdaysParse,o),i!==-1?i:null)):(i=hn.call(this._minWeekdaysParse,o),i!==-1||(i=hn.call(this._weekdaysParse,o),i!==-1)?i:(i=hn.call(this._shortWeekdaysParse,o),i!==-1?i:null))}function yI(t,e,n){var s,i,r;if(this._weekdaysParseExact)return _I.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=ir([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(r="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(r.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[s].test(t))return s;if(n&&e==="ddd"&&this._shortWeekdaysParse[s].test(t))return s;if(n&&e==="dd"&&this._minWeekdaysParse[s].test(t))return s;if(!n&&this._weekdaysParse[s].test(t))return s}}function bI(t){if(!this.isValid())return t!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=aI(t,this.localeData()),this.add(t-e,"d")):e}function vI(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function wI(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=lI(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function xI(t){return this._weekdaysParseExact?(Mt(this,"_weekdaysRegex")||Tb.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Mt(this,"_weekdaysRegex")||(this._weekdaysRegex=dI),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function SI(t){return this._weekdaysParseExact?(Mt(this,"_weekdaysRegex")||Tb.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Mt(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=fI),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function EI(t){return this._weekdaysParseExact?(Mt(this,"_weekdaysRegex")||Tb.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Mt(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=hI),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Tb(){function t(u,d){return d.length-u.length}var e=[],n=[],s=[],i=[],r,o,a,l,c;for(r=0;r<7;r++)o=ir([2e3,1]).day(r),a=As(this.weekdaysMin(o,"")),l=As(this.weekdaysShort(o,"")),c=As(this.weekdays(o,"")),e.push(a),n.push(l),s.push(c),i.push(a),i.push(l),i.push(c);e.sort(t),n.sort(t),s.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Mb(){return this.hours()%12||12}function TI(){return this.hours()||24}je("H",["HH",2],0,"hour");je("h",["hh",2],0,Mb);je("k",["kk",2],0,TI);je("hmm",0,0,function(){return""+Mb.apply(this)+tr(this.minutes(),2)});je("hmmss",0,0,function(){return""+Mb.apply(this)+tr(this.minutes(),2)+tr(this.seconds(),2)});je("Hmm",0,0,function(){return""+this.hours()+tr(this.minutes(),2)});je("Hmmss",0,0,function(){return""+this.hours()+tr(this.minutes(),2)+tr(this.seconds(),2)});function C4(t,e){je(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}C4("a",!0);C4("A",!1);Xn("hour","h");Zn("hour",13);function O4(t,e){return e._meridiemParse}ze("a",O4);ze("A",O4);ze("H",en);ze("h",en);ze("k",en);ze("HH",en,Os);ze("hh",en,Os);ze("kk",en,Os);ze("hmm",v4);ze("hmmss",w4);ze("Hmm",v4);ze("Hmmss",w4);Bt(["H","HH"],Tn);Bt(["k","kk"],function(t,e,n){var s=ht(t);e[Tn]=s===24?0:s});Bt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});Bt(["h","hh"],function(t,e,n){e[Tn]=ht(t),at(n).bigHour=!0});Bt("hmm",function(t,e,n){var s=t.length-2;e[Tn]=ht(t.substr(0,s)),e[mi]=ht(t.substr(s)),at(n).bigHour=!0});Bt("hmmss",function(t,e,n){var s=t.length-4,i=t.length-2;e[Tn]=ht(t.substr(0,s)),e[mi]=ht(t.substr(s,2)),e[Cr]=ht(t.substr(i)),at(n).bigHour=!0});Bt("Hmm",function(t,e,n){var s=t.length-2;e[Tn]=ht(t.substr(0,s)),e[mi]=ht(t.substr(s))});Bt("Hmmss",function(t,e,n){var s=t.length-4,i=t.length-2;e[Tn]=ht(t.substr(0,s)),e[mi]=ht(t.substr(s,2)),e[Cr]=ht(t.substr(i))});function MI(t){return(t+"").toLowerCase().charAt(0)==="p"}var AI=/[ap]\.?m?\.?/i,kI=Jc("Hours",!0);function RI(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var P4={calendar:yL,longDateFormat:xL,invalidDate:EL,ordinal:ML,dayOfMonthOrdinalParse:AL,relativeTime:RL,months:HL,monthsShort:x4,week:nI,weekdays:cI,weekdaysMin:uI,weekdaysShort:R4,meridiemParse:AI},nn={},Su={},$d;function CI(t,e){var n,s=Math.min(t.length,e.length);for(n=0;n<s;n+=1)if(t[n]!==e[n])return n;return s}function Ew(t){return t&&t.toLowerCase().replace("_","-")}function OI(t){for(var e=0,n,s,i,r;e<t.length;){for(r=Ew(t[e]).split("-"),n=r.length,s=Ew(t[e+1]),s=s?s.split("-"):null;n>0;){if(i=og(r.slice(0,n).join("-")),i)return i;if(s&&s.length>=n&&CI(r,s)>=n-1)break;n--}e++}return $d}function PI(t){return t.match("^[^/\\\\]*$")!=null}function og(t){var e=null,n;if(nn[t]===void 0&&typeof module<"u"&&module&&module.exports&&PI(t))try{e=$d._abbr,n=require,n("./locale/"+t),Lo(e)}catch{nn[t]=null}return nn[t]}function Lo(t,e){var n;return t&&(ps(e)?n=Wr(t):n=Ab(t,e),n?$d=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),$d._abbr}function Ab(t,e){if(e!==null){var n,s=P4;if(e.abbr=t,nn[t]!=null)p4("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=nn[t]._config;else if(e.parentLocale!=null)if(nn[e.parentLocale]!=null)s=nn[e.parentLocale]._config;else if(n=og(e.parentLocale),n!=null)s=n._config;else return Su[e.parentLocale]||(Su[e.parentLocale]=[]),Su[e.parentLocale].push({name:t,config:e}),null;return nn[t]=new bb(v1(s,e)),Su[t]&&Su[t].forEach(function(i){Ab(i.name,i.config)}),Lo(t),nn[t]}else return delete nn[t],null}function LI(t,e){if(e!=null){var n,s,i=P4;nn[t]!=null&&nn[t].parentLocale!=null?nn[t].set(v1(nn[t]._config,e)):(s=og(t),s!=null&&(i=s._config),e=v1(i,e),s==null&&(e.abbr=t),n=new bb(e),n.parentLocale=nn[t],nn[t]=n),Lo(t)}else nn[t]!=null&&(nn[t].parentLocale!=null?(nn[t]=nn[t].parentLocale,t===Lo()&&Lo(t)):nn[t]!=null&&delete nn[t]);return nn[t]}function Wr(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return $d;if(!Ti(t)){if(e=og(t),e)return e;t=[t]}return OI(t)}function II(){return w1(nn)}function kb(t){var e,n=t._a;return n&&at(t).overflow===-2&&(e=n[Rr]<0||n[Rr]>11?Rr:n[Vi]<1||n[Vi]>rg(n[jn],n[Rr])?Vi:n[Tn]<0||n[Tn]>24||n[Tn]===24&&(n[mi]!==0||n[Cr]!==0||n[Sa]!==0)?Tn:n[mi]<0||n[mi]>59?mi:n[Cr]<0||n[Cr]>59?Cr:n[Sa]<0||n[Sa]>999?Sa:-1,at(t)._overflowDayOfYear&&(e<jn||e>Vi)&&(e=Vi),at(t)._overflowWeeks&&e===-1&&(e=BL),at(t)._overflowWeekday&&e===-1&&(e=zL),at(t).overflow=e),t}var DI=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,FI=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,NI=/Z|[+-]\d\d(?::?\d\d)?/,Zf=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],_0=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],UI=/^\/?Date\((-?\d+)/i,$I=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,BI={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function L4(t){var e,n,s=t._i,i=DI.exec(s)||FI.exec(s),r,o,a,l,c=Zf.length,u=_0.length;if(i){for(at(t).iso=!0,e=0,n=c;e<n;e++)if(Zf[e][1].exec(i[1])){o=Zf[e][0],r=Zf[e][2]!==!1;break}if(o==null){t._isValid=!1;return}if(i[3]){for(e=0,n=u;e<n;e++)if(_0[e][1].exec(i[3])){a=(i[2]||" ")+_0[e][0];break}if(a==null){t._isValid=!1;return}}if(!r&&a!=null){t._isValid=!1;return}if(i[4])if(NI.exec(i[4]))l="Z";else{t._isValid=!1;return}t._f=o+(a||"")+(l||""),Cb(t)}else t._isValid=!1}function zI(t,e,n,s,i,r){var o=[GI(t),x4.indexOf(e),parseInt(n,10),parseInt(s,10),parseInt(i,10)];return r&&o.push(parseInt(r,10)),o}function GI(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function HI(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function VI(t,e,n){if(t){var s=R4.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(s!==i)return at(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function WI(t,e,n){if(t)return BI[t];if(e)return 0;var s=parseInt(n,10),i=s%100,r=(s-i)/100;return r*60+i}function I4(t){var e=$I.exec(HI(t._i)),n;if(e){if(n=zI(e[4],e[3],e[2],e[5],e[6],e[7]),!VI(e[1],n,t))return;t._a=n,t._tzm=WI(e[8],e[9],e[10]),t._d=Nd.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),at(t).rfc2822=!0}else t._isValid=!1}function jI(t){var e=UI.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(L4(t),t._isValid===!1)delete t._isValid;else return;if(I4(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:Pe.createFromInputFallback(t)}Pe.createFromInputFallback=Qs("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function ql(t,e,n){return t??e??n}function qI(t){var e=new Date(Pe.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Rb(t){var e,n,s=[],i,r,o;if(!t._d){for(i=qI(t),t._w&&t._a[Vi]==null&&t._a[Rr]==null&&YI(t),t._dayOfYear!=null&&(o=ql(t._a[jn],i[jn]),(t._dayOfYear>fd(o)||t._dayOfYear===0)&&(at(t)._overflowDayOfYear=!0),n=Nd(o,0,t._dayOfYear),t._a[Rr]=n.getUTCMonth(),t._a[Vi]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=s[e]=i[e];for(;e<7;e++)t._a[e]=s[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[Tn]===24&&t._a[mi]===0&&t._a[Cr]===0&&t._a[Sa]===0&&(t._nextDay=!0,t._a[Tn]=0),t._d=(t._useUTC?Nd:eI).apply(null,s),r=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Tn]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==r&&(at(t).weekdayMismatch=!0)}}function YI(t){var e,n,s,i,r,o,a,l,c;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(r=1,o=4,n=ql(e.GG,t._a[jn],Ud(Qt(),1,4).year),s=ql(e.W,1),i=ql(e.E,1),(i<1||i>7)&&(l=!0)):(r=t._locale._week.dow,o=t._locale._week.doy,c=Ud(Qt(),r,o),n=ql(e.gg,t._a[jn],c.year),s=ql(e.w,c.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+r,(e.e<0||e.e>6)&&(l=!0)):i=r),s<1||s>Pr(n,r,o)?at(t)._overflowWeeks=!0:l!=null?at(t)._overflowWeekday=!0:(a=k4(n,s,i,r,o),t._a[jn]=a.year,t._dayOfYear=a.dayOfYear)}Pe.ISO_8601=function(){};Pe.RFC_2822=function(){};function Cb(t){if(t._f===Pe.ISO_8601){L4(t);return}if(t._f===Pe.RFC_2822){I4(t);return}t._a=[],at(t).empty=!0;var e=""+t._i,n,s,i,r,o,a=e.length,l=0,c,u;for(i=m4(t._f,t._locale).match(vb)||[],u=i.length,n=0;n<u;n++)r=i[n],s=(e.match(NL(r,t))||[])[0],s&&(o=e.substr(0,e.indexOf(s)),o.length>0&&at(t).unusedInput.push(o),e=e.slice(e.indexOf(s)+s.length),l+=s.length),fc[r]?(s?at(t).empty=!1:at(t).unusedTokens.push(r),$L(r,s,t)):t._strict&&!s&&at(t).unusedTokens.push(r);at(t).charsLeftOver=a-l,e.length>0&&at(t).unusedInput.push(e),t._a[Tn]<=12&&at(t).bigHour===!0&&t._a[Tn]>0&&(at(t).bigHour=void 0),at(t).parsedDateParts=t._a.slice(0),at(t).meridiem=t._meridiem,t._a[Tn]=KI(t._locale,t._a[Tn],t._meridiem),c=at(t).era,c!==null&&(t._a[jn]=t._locale.erasConvertYear(c,t._a[jn])),Rb(t),kb(t)}function KI(t,e,n){var s;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(s=t.isPM(n),s&&e<12&&(e+=12),!s&&e===12&&(e=0)),e)}function XI(t){var e,n,s,i,r,o,a=!1,l=t._f.length;if(l===0){at(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<l;i++)r=0,o=!1,e=yb({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],Cb(e),_b(e)&&(o=!0),r+=at(e).charsLeftOver,r+=at(e).unusedTokens.length*10,at(e).score=r,a?r<s&&(s=r,n=e):(s==null||r<s||o)&&(s=r,n=e,o&&(a=!0));wo(t,n||e)}function ZI(t){if(!t._d){var e=wb(t._i),n=e.day===void 0?e.date:e.day;t._a=f4([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(s){return s&&parseInt(s,10)}),Rb(t)}}function JI(t){var e=new bf(kb(D4(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function D4(t){var e=t._i,n=t._f;return t._locale=t._locale||Wr(t._l),e===null||n===void 0&&e===""?Jm({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),Mi(e)?new bf(kb(e)):(yf(e)?t._d=e:Ti(n)?XI(t):n?Cb(t):QI(t),_b(t)||(t._d=null),t))}function QI(t){var e=t._i;ps(e)?t._d=new Date(Pe.now()):yf(e)?t._d=new Date(e.valueOf()):typeof e=="string"?jI(t):Ti(e)?(t._a=f4(e.slice(0),function(n){return parseInt(n,10)}),Rb(t)):Da(e)?ZI(t):Ur(e)?t._d=new Date(e):Pe.createFromInputFallback(t)}function F4(t,e,n,s,i){var r={};return(e===!0||e===!1)&&(s=e,e=void 0),(n===!0||n===!1)&&(s=n,n=void 0),(Da(t)&&gb(t)||Ti(t)&&t.length===0)&&(t=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=i,r._l=n,r._i=t,r._f=e,r._strict=s,JI(r)}function Qt(t,e,n,s){return F4(t,e,n,s,!1)}var eD=Qs("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Qt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:Jm()}),tD=Qs("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Qt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:Jm()});function N4(t,e){var n,s;if(e.length===1&&Ti(e[0])&&(e=e[0]),!e.length)return Qt();for(n=e[0],s=1;s<e.length;++s)(!e[s].isValid()||e[s][t](n))&&(n=e[s]);return n}function nD(){var t=[].slice.call(arguments,0);return N4("isBefore",t)}function sD(){var t=[].slice.call(arguments,0);return N4("isAfter",t)}var iD=function(){return Date.now?Date.now():+new Date},Eu=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rD(t){var e,n=!1,s,i=Eu.length;for(e in t)if(Mt(t,e)&&!(hn.call(Eu,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(s=0;s<i;++s)if(t[Eu[s]]){if(n)return!1;parseFloat(t[Eu[s]])!==ht(t[Eu[s]])&&(n=!0)}return!0}function oD(){return this._isValid}function aD(){return Ai(NaN)}function ag(t){var e=wb(t),n=e.year||0,s=e.quarter||0,i=e.month||0,r=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._isValid=rD(e),this._milliseconds=+u+c*1e3+l*6e4+a*1e3*60*60,this._days=+o+r*7,this._months=+i+s*3+n*12,this._data={},this._locale=Wr(),this._bubble()}function pp(t){return t instanceof ag}function S1(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function lD(t,e,n){var s=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),r=0,o;for(o=0;o<s;o++)(n&&t[o]!==e[o]||!n&&ht(t[o])!==ht(e[o]))&&r++;return r+i}function U4(t,e){je(t,0,0,function(){var n=this.utcOffset(),s="+";return n<0&&(n=-n,s="-"),s+tr(~~(n/60),2)+e+tr(~~n%60,2)})}U4("Z",":");U4("ZZ","");ze("Z",ig);ze("ZZ",ig);Bt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Ob(ig,t)});var cD=/([\+\-]|\d\d)/gi;function Ob(t,e){var n=(e||"").match(t),s,i,r;return n===null?null:(s=n[n.length-1]||[],i=(s+"").match(cD)||["-",0,0],r=+(i[1]*60)+ht(i[2]),r===0?0:i[0]==="+"?r:-r)}function Pb(t,e){var n,s;return e._isUTC?(n=e.clone(),s=(Mi(t)||yf(t)?t.valueOf():Qt(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+s),Pe.updateOffset(n,!1),n):Qt(t).local()}function E1(t){return-Math.round(t._d.getTimezoneOffset())}Pe.updateOffset=function(){};function uD(t,e,n){var s=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=Ob(ig,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(i=E1(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),s!==t&&(!e||this._changeInProgress?z4(this,Ai(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Pe.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?s:E1(this)}function dD(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function fD(t){return this.utcOffset(0,t)}function hD(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(E1(this),"m")),this}function pD(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=Ob(DL,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function mD(t){return this.isValid()?(t=t?Qt(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function gD(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function _D(){if(!ps(this._isDSTShifted))return this._isDSTShifted;var t={},e;return yb(t,this),t=D4(t),t._a?(e=t._isUTC?ir(t._a):Qt(t._a),this._isDSTShifted=this.isValid()&&lD(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function yD(){return this.isValid()?!this._isUTC:!1}function bD(){return this.isValid()?this._isUTC:!1}function $4(){return this.isValid()?this._isUTC&&this._offset===0:!1}var vD=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,wD=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ai(t,e){var n=t,s=null,i,r,o;return pp(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:Ur(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(s=vD.exec(t))?(i=s[1]==="-"?-1:1,n={y:0,d:ht(s[Vi])*i,h:ht(s[Tn])*i,m:ht(s[mi])*i,s:ht(s[Cr])*i,ms:ht(S1(s[Sa]*1e3))*i}):(s=wD.exec(t))?(i=s[1]==="-"?-1:1,n={y:Qo(s[2],i),M:Qo(s[3],i),w:Qo(s[4],i),d:Qo(s[5],i),h:Qo(s[6],i),m:Qo(s[7],i),s:Qo(s[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=xD(Qt(n.from),Qt(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),r=new ag(n),pp(t)&&Mt(t,"_locale")&&(r._locale=t._locale),pp(t)&&Mt(t,"_isValid")&&(r._isValid=t._isValid),r}Ai.fn=ag.prototype;Ai.invalid=aD;function Qo(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Tw(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function xD(t,e){var n;return t.isValid()&&e.isValid()?(e=Pb(e,t),t.isBefore(e)?n=Tw(t,e):(n=Tw(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function B4(t,e){return function(n,s){var i,r;return s!==null&&!isNaN(+s)&&(p4(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=s,s=r),i=Ai(n,s),z4(this,i,t),this}}function z4(t,e,n,s){var i=e._milliseconds,r=S1(e._days),o=S1(e._months);t.isValid()&&(s=s??!0,o&&E4(t,Wp(t,"Month")+o*n),r&&_4(t,"Date",Wp(t,"Date")+r*n),i&&t._d.setTime(t._d.valueOf()+i*n),s&&Pe.updateOffset(t,r||o))}var SD=B4(1,"add"),ED=B4(-1,"subtract");function G4(t){return typeof t=="string"||t instanceof String}function TD(t){return Mi(t)||yf(t)||G4(t)||Ur(t)||AD(t)||MD(t)||t===null||t===void 0}function MD(t){var e=Da(t)&&!gb(t),n=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,r,o=s.length;for(i=0;i<o;i+=1)r=s[i],n=n||Mt(t,r);return e&&n}function AD(t){var e=Ti(t),n=!1;return e&&(n=t.filter(function(s){return!Ur(s)&&G4(t)}).length===0),e&&n}function kD(t){var e=Da(t)&&!gb(t),n=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,r;for(i=0;i<s.length;i+=1)r=s[i],n=n||Mt(t,r);return e&&n}function RD(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function CD(t,e){arguments.length===1&&(arguments[0]?TD(arguments[0])?(t=arguments[0],e=void 0):kD(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Qt(),s=Pb(n,this).startOf("day"),i=Pe.calendarFormat(this,s)||"sameElse",r=e&&(rr(e[i])?e[i].call(this,n):e[i]);return this.format(r||this.localeData().calendar(i,this,Qt(n)))}function OD(){return new bf(this)}function PD(t,e){var n=Mi(t)?t:Qt(t);return this.isValid()&&n.isValid()?(e=ei(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function LD(t,e){var n=Mi(t)?t:Qt(t);return this.isValid()&&n.isValid()?(e=ei(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function ID(t,e,n,s){var i=Mi(t)?t:Qt(t),r=Mi(e)?e:Qt(e);return this.isValid()&&i.isValid()&&r.isValid()?(s=s||"()",(s[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(s[1]===")"?this.isBefore(r,n):!this.isAfter(r,n))):!1}function DD(t,e){var n=Mi(t)?t:Qt(t),s;return this.isValid()&&n.isValid()?(e=ei(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(s=n.valueOf(),this.clone().startOf(e).valueOf()<=s&&s<=this.clone().endOf(e).valueOf())):!1}function FD(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function ND(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function UD(t,e,n){var s,i,r;if(!this.isValid())return NaN;if(s=Pb(t,this),!s.isValid())return NaN;switch(i=(s.utcOffset()-this.utcOffset())*6e4,e=ei(e),e){case"year":r=mp(this,s)/12;break;case"month":r=mp(this,s);break;case"quarter":r=mp(this,s)/3;break;case"second":r=(this-s)/1e3;break;case"minute":r=(this-s)/6e4;break;case"hour":r=(this-s)/36e5;break;case"day":r=(this-s-i)/864e5;break;case"week":r=(this-s-i)/6048e5;break;default:r=this-s}return n?r:zs(r)}function mp(t,e){if(t.date()<e.date())return-mp(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),s=t.clone().add(n,"months"),i,r;return e-s<0?(i=t.clone().add(n-1,"months"),r=(e-s)/(s-i)):(i=t.clone().add(n+1,"months"),r=(e-s)/(i-s)),-(n+r)||0}Pe.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Pe.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function $D(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function BD(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?hp(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):rr(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",hp(n,"Z")):hp(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function zD(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,s,i,r;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",r=e+'[")]',this.format(n+s+i+r)}function GD(t){t||(t=this.isUtc()?Pe.defaultFormatUtc:Pe.defaultFormat);var e=hp(this,t);return this.localeData().postformat(e)}function HD(t,e){return this.isValid()&&(Mi(t)&&t.isValid()||Qt(t).isValid())?Ai({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function VD(t){return this.from(Qt(),t)}function WD(t,e){return this.isValid()&&(Mi(t)&&t.isValid()||Qt(t).isValid())?Ai({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function jD(t){return this.to(Qt(),t)}function H4(t){var e;return t===void 0?this._locale._abbr:(e=Wr(t),e!=null&&(this._locale=e),this)}var V4=Qs("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function W4(){return this._locale}var Yp=1e3,hc=60*Yp,Kp=60*hc,j4=(365*400+97)*24*Kp;function pc(t,e){return(t%e+e)%e}function q4(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-j4:new Date(t,e,n).valueOf()}function Y4(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-j4:Date.UTC(t,e,n)}function qD(t){var e,n;if(t=ei(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Y4:q4,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=pc(e+(this._isUTC?0:this.utcOffset()*hc),Kp);break;case"minute":e=this._d.valueOf(),e-=pc(e,hc);break;case"second":e=this._d.valueOf(),e-=pc(e,Yp);break}return this._d.setTime(e),Pe.updateOffset(this,!0),this}function YD(t){var e,n;if(t=ei(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Y4:q4,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=Kp-pc(e+(this._isUTC?0:this.utcOffset()*hc),Kp)-1;break;case"minute":e=this._d.valueOf(),e+=hc-pc(e,hc)-1;break;case"second":e=this._d.valueOf(),e+=Yp-pc(e,Yp)-1;break}return this._d.setTime(e),Pe.updateOffset(this,!0),this}function KD(){return this._d.valueOf()-(this._offset||0)*6e4}function XD(){return Math.floor(this.valueOf()/1e3)}function ZD(){return new Date(this.valueOf())}function JD(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function QD(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function e7(){return this.isValid()?this.toISOString():null}function t7(){return _b(this)}function n7(){return wo({},at(this))}function s7(){return at(this).overflow}function i7(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}je("N",0,0,"eraAbbr");je("NN",0,0,"eraAbbr");je("NNN",0,0,"eraAbbr");je("NNNN",0,0,"eraName");je("NNNNN",0,0,"eraNarrow");je("y",["y",1],"yo","eraYear");je("y",["yy",2],0,"eraYear");je("y",["yyy",3],0,"eraYear");je("y",["yyyy",4],0,"eraYear");ze("N",Lb);ze("NN",Lb);ze("NNN",Lb);ze("NNNN",m7);ze("NNNNN",g7);Bt(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,s){var i=n._locale.erasParse(t,s,n._strict);i?at(n).era=i:at(n).invalidEra=t});ze("y",Qc);ze("yy",Qc);ze("yyy",Qc);ze("yyyy",Qc);ze("yo",_7);Bt(["y","yy","yyy","yyyy"],jn);Bt(["yo"],function(t,e,n,s){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[jn]=n._locale.eraYearOrdinalParse(t,i):e[jn]=parseInt(t,10)});function r7(t,e){var n,s,i,r=this._eras||Wr("en")._eras;for(n=0,s=r.length;n<s;++n){switch(typeof r[n].since){case"string":i=Pe(r[n].since).startOf("day"),r[n].since=i.valueOf();break}switch(typeof r[n].until){case"undefined":r[n].until=1/0;break;case"string":i=Pe(r[n].until).startOf("day").valueOf(),r[n].until=i.valueOf();break}}return r}function o7(t,e,n){var s,i,r=this.eras(),o,a,l;for(t=t.toUpperCase(),s=0,i=r.length;s<i;++s)if(o=r[s].name.toUpperCase(),a=r[s].abbr.toUpperCase(),l=r[s].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return r[s];break;case"NNNN":if(o===t)return r[s];break;case"NNNNN":if(l===t)return r[s];break}else if([o,a,l].indexOf(t)>=0)return r[s]}function a7(t,e){var n=t.since<=t.until?1:-1;return e===void 0?Pe(t.since).year():Pe(t.since).year()+(e-t.offset)*n}function l7(){var t,e,n,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),s[t].since<=n&&n<=s[t].until||s[t].until<=n&&n<=s[t].since)return s[t].name;return""}function c7(){var t,e,n,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),s[t].since<=n&&n<=s[t].until||s[t].until<=n&&n<=s[t].since)return s[t].narrow;return""}function u7(){var t,e,n,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),s[t].since<=n&&n<=s[t].until||s[t].until<=n&&n<=s[t].since)return s[t].abbr;return""}function d7(){var t,e,n,s,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,s=this.clone().startOf("day").valueOf(),i[t].since<=s&&s<=i[t].until||i[t].until<=s&&s<=i[t].since)return(this.year()-Pe(i[t].since).year())*n+i[t].offset;return this.year()}function f7(t){return Mt(this,"_erasNameRegex")||Ib.call(this),t?this._erasNameRegex:this._erasRegex}function h7(t){return Mt(this,"_erasAbbrRegex")||Ib.call(this),t?this._erasAbbrRegex:this._erasRegex}function p7(t){return Mt(this,"_erasNarrowRegex")||Ib.call(this),t?this._erasNarrowRegex:this._erasRegex}function Lb(t,e){return e.erasAbbrRegex(t)}function m7(t,e){return e.erasNameRegex(t)}function g7(t,e){return e.erasNarrowRegex(t)}function _7(t,e){return e._eraYearOrdinalRegex||Qc}function Ib(){var t=[],e=[],n=[],s=[],i,r,o=this.eras();for(i=0,r=o.length;i<r;++i)e.push(As(o[i].name)),t.push(As(o[i].abbr)),n.push(As(o[i].narrow)),s.push(As(o[i].name)),s.push(As(o[i].abbr)),s.push(As(o[i].narrow));this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}je(0,["gg",2],0,function(){return this.weekYear()%100});je(0,["GG",2],0,function(){return this.isoWeekYear()%100});function lg(t,e){je(0,[t,t.length],0,e)}lg("gggg","weekYear");lg("ggggg","weekYear");lg("GGGG","isoWeekYear");lg("GGGGG","isoWeekYear");Xn("weekYear","gg");Xn("isoWeekYear","GG");Zn("weekYear",1);Zn("isoWeekYear",1);ze("G",sg);ze("g",sg);ze("GG",en,Os);ze("gg",en,Os);ze("GGGG",Sb,xb);ze("gggg",Sb,xb);ze("GGGGG",ng,eg);ze("ggggg",ng,eg);wf(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,s){e[s.substr(0,2)]=ht(t)});wf(["gg","GG"],function(t,e,n,s){e[s]=Pe.parseTwoDigitYear(t)});function y7(t){return K4.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function b7(t){return K4.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function v7(){return Pr(this.year(),1,4)}function w7(){return Pr(this.isoWeekYear(),1,4)}function x7(){var t=this.localeData()._week;return Pr(this.year(),t.dow,t.doy)}function S7(){var t=this.localeData()._week;return Pr(this.weekYear(),t.dow,t.doy)}function K4(t,e,n,s,i){var r;return t==null?Ud(this,s,i).year:(r=Pr(t,s,i),e>r&&(e=r),E7.call(this,t,e,n,s,i))}function E7(t,e,n,s,i){var r=k4(t,e,n,s,i),o=Nd(r.year,0,r.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}je("Q",0,"Qo","quarter");Xn("quarter","Q");Zn("quarter",7);ze("Q",y4);Bt("Q",function(t,e){e[Rr]=(ht(t)-1)*3});function T7(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}je("D",["DD",2],"Do","date");Xn("date","D");Zn("date",9);ze("D",en);ze("DD",en,Os);ze("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});Bt(["D","DD"],Vi);Bt("Do",function(t,e){e[Vi]=ht(t.match(en)[0])});var X4=Jc("Date",!0);je("DDD",["DDDD",3],"DDDo","dayOfYear");Xn("dayOfYear","DDD");Zn("dayOfYear",4);ze("DDD",tg);ze("DDDD",b4);Bt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=ht(t)});function M7(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}je("m",["mm",2],0,"minute");Xn("minute","m");Zn("minute",14);ze("m",en);ze("mm",en,Os);Bt(["m","mm"],mi);var A7=Jc("Minutes",!1);je("s",["ss",2],0,"second");Xn("second","s");Zn("second",15);ze("s",en);ze("ss",en,Os);Bt(["s","ss"],Cr);var k7=Jc("Seconds",!1);je("S",0,0,function(){return~~(this.millisecond()/100)});je(0,["SS",2],0,function(){return~~(this.millisecond()/10)});je(0,["SSS",3],0,"millisecond");je(0,["SSSS",4],0,function(){return this.millisecond()*10});je(0,["SSSSS",5],0,function(){return this.millisecond()*100});je(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});je(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});je(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});je(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Xn("millisecond","ms");Zn("millisecond",16);ze("S",tg,y4);ze("SS",tg,Os);ze("SSS",tg,b4);var xo,Z4;for(xo="SSSS";xo.length<=9;xo+="S")ze(xo,Qc);function R7(t,e){e[Sa]=ht(("0."+t)*1e3)}for(xo="S";xo.length<=9;xo+="S")Bt(xo,R7);Z4=Jc("Milliseconds",!1);je("z",0,0,"zoneAbbr");je("zz",0,0,"zoneName");function C7(){return this._isUTC?"UTC":""}function O7(){return this._isUTC?"Coordinated Universal Time":""}var Re=bf.prototype;Re.add=SD;Re.calendar=CD;Re.clone=OD;Re.diff=UD;Re.endOf=YD;Re.format=GD;Re.from=HD;Re.fromNow=VD;Re.to=WD;Re.toNow=jD;Re.get=LL;Re.invalidAt=s7;Re.isAfter=PD;Re.isBefore=LD;Re.isBetween=ID;Re.isSame=DD;Re.isSameOrAfter=FD;Re.isSameOrBefore=ND;Re.isValid=t7;Re.lang=V4;Re.locale=H4;Re.localeData=W4;Re.max=tD;Re.min=eD;Re.parsingFlags=n7;Re.set=IL;Re.startOf=qD;Re.subtract=ED;Re.toArray=JD;Re.toObject=QD;Re.toDate=ZD;Re.toISOString=BD;Re.inspect=zD;typeof Symbol<"u"&&Symbol.for!=null&&(Re[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Re.toJSON=e7;Re.toString=$D;Re.unix=XD;Re.valueOf=KD;Re.creationData=i7;Re.eraName=l7;Re.eraNarrow=c7;Re.eraAbbr=u7;Re.eraYear=d7;Re.year=A4;Re.isLeapYear=QL;Re.weekYear=y7;Re.isoWeekYear=b7;Re.quarter=Re.quarters=T7;Re.month=T4;Re.daysInMonth=XL;Re.week=Re.weeks=rI;Re.isoWeek=Re.isoWeeks=oI;Re.weeksInYear=x7;Re.weeksInWeekYear=S7;Re.isoWeeksInYear=v7;Re.isoWeeksInISOWeekYear=w7;Re.date=X4;Re.day=Re.days=bI;Re.weekday=vI;Re.isoWeekday=wI;Re.dayOfYear=M7;Re.hour=Re.hours=kI;Re.minute=Re.minutes=A7;Re.second=Re.seconds=k7;Re.millisecond=Re.milliseconds=Z4;Re.utcOffset=uD;Re.utc=fD;Re.local=hD;Re.parseZone=pD;Re.hasAlignedHourOffset=mD;Re.isDST=gD;Re.isLocal=yD;Re.isUtcOffset=bD;Re.isUtc=$4;Re.isUTC=$4;Re.zoneAbbr=C7;Re.zoneName=O7;Re.dates=Qs("dates accessor is deprecated. Use date instead.",X4);Re.months=Qs("months accessor is deprecated. Use month instead",T4);Re.years=Qs("years accessor is deprecated. Use year instead",A4);Re.zone=Qs("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",dD);Re.isDSTShifted=Qs("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",_D);function P7(t){return Qt(t*1e3)}function L7(){return Qt.apply(null,arguments).parseZone()}function J4(t){return t}var Rt=bb.prototype;Rt.calendar=bL;Rt.longDateFormat=SL;Rt.invalidDate=TL;Rt.ordinal=kL;Rt.preparse=J4;Rt.postformat=J4;Rt.relativeTime=CL;Rt.pastFuture=OL;Rt.set=_L;Rt.eras=r7;Rt.erasParse=o7;Rt.erasConvertYear=a7;Rt.erasAbbrRegex=h7;Rt.erasNameRegex=f7;Rt.erasNarrowRegex=p7;Rt.months=jL;Rt.monthsShort=qL;Rt.monthsParse=KL;Rt.monthsRegex=JL;Rt.monthsShortRegex=ZL;Rt.week=tI;Rt.firstDayOfYear=iI;Rt.firstDayOfWeek=sI;Rt.weekdays=pI;Rt.weekdaysMin=gI;Rt.weekdaysShort=mI;Rt.weekdaysParse=yI;Rt.weekdaysRegex=xI;Rt.weekdaysShortRegex=SI;Rt.weekdaysMinRegex=EI;Rt.isPM=MI;Rt.meridiem=RI;function Xp(t,e,n,s){var i=Wr(),r=ir().set(s,e);return i[n](r,t)}function Q4(t,e,n){if(Ur(t)&&(e=t,t=void 0),t=t||"",e!=null)return Xp(t,e,n,"month");var s,i=[];for(s=0;s<12;s++)i[s]=Xp(t,s,n,"month");return i}function Db(t,e,n,s){typeof t=="boolean"?(Ur(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,Ur(e)&&(n=e,e=void 0),e=e||"");var i=Wr(),r=t?i._week.dow:0,o,a=[];if(n!=null)return Xp(e,(n+r)%7,s,"day");for(o=0;o<7;o++)a[o]=Xp(e,(o+r)%7,s,"day");return a}function I7(t,e){return Q4(t,e,"months")}function D7(t,e){return Q4(t,e,"monthsShort")}function F7(t,e,n){return Db(t,e,n,"weekdays")}function N7(t,e,n){return Db(t,e,n,"weekdaysShort")}function U7(t,e,n){return Db(t,e,n,"weekdaysMin")}Lo("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=ht(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});Pe.lang=Qs("moment.lang is deprecated. Use moment.locale instead.",Lo);Pe.langData=Qs("moment.langData is deprecated. Use moment.localeData instead.",Wr);var cr=Math.abs;function $7(){var t=this._data;return this._milliseconds=cr(this._milliseconds),this._days=cr(this._days),this._months=cr(this._months),t.milliseconds=cr(t.milliseconds),t.seconds=cr(t.seconds),t.minutes=cr(t.minutes),t.hours=cr(t.hours),t.months=cr(t.months),t.years=cr(t.years),this}function eA(t,e,n,s){var i=Ai(e,n);return t._milliseconds+=s*i._milliseconds,t._days+=s*i._days,t._months+=s*i._months,t._bubble()}function B7(t,e){return eA(this,t,e,1)}function z7(t,e){return eA(this,t,e,-1)}function Mw(t){return t<0?Math.floor(t):Math.ceil(t)}function G7(){var t=this._milliseconds,e=this._days,n=this._months,s=this._data,i,r,o,a,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=Mw(T1(n)+e)*864e5,e=0,n=0),s.milliseconds=t%1e3,i=zs(t/1e3),s.seconds=i%60,r=zs(i/60),s.minutes=r%60,o=zs(r/60),s.hours=o%24,e+=zs(o/24),l=zs(tA(e)),n+=l,e-=Mw(T1(l)),a=zs(n/12),n%=12,s.days=e,s.months=n,s.years=a,this}function tA(t){return t*4800/146097}function T1(t){return t*146097/4800}function H7(t){if(!this.isValid())return NaN;var e,n,s=this._milliseconds;if(t=ei(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+s/864e5,n=this._months+tA(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(T1(this._months)),t){case"week":return e/7+s/6048e5;case"day":return e+s/864e5;case"hour":return e*24+s/36e5;case"minute":return e*1440+s/6e4;case"second":return e*86400+s/1e3;case"millisecond":return Math.floor(e*864e5)+s;default:throw new Error("Unknown unit "+t)}}function V7(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+ht(this._months/12)*31536e6:NaN}function jr(t){return function(){return this.as(t)}}var W7=jr("ms"),j7=jr("s"),q7=jr("m"),Y7=jr("h"),K7=jr("d"),X7=jr("w"),Z7=jr("M"),J7=jr("Q"),Q7=jr("y");function e9(){return Ai(this)}function t9(t){return t=ei(t),this.isValid()?this[t+"s"]():NaN}function al(t){return function(){return this.isValid()?this._data[t]:NaN}}var n9=al("milliseconds"),s9=al("seconds"),i9=al("minutes"),r9=al("hours"),o9=al("days"),a9=al("months"),l9=al("years");function c9(){return zs(this.days()/7)}var Sr=Math.round,Zl={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function u9(t,e,n,s,i){return i.relativeTime(e||1,!!n,t,s)}function d9(t,e,n,s){var i=Ai(t).abs(),r=Sr(i.as("s")),o=Sr(i.as("m")),a=Sr(i.as("h")),l=Sr(i.as("d")),c=Sr(i.as("M")),u=Sr(i.as("w")),d=Sr(i.as("y")),f=r<=n.ss&&["s",r]||r<n.s&&["ss",r]||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(f=f||u<=1&&["w"]||u<n.w&&["ww",u]),f=f||c<=1&&["M"]||c<n.M&&["MM",c]||d<=1&&["y"]||["yy",d],f[2]=e,f[3]=+t>0,f[4]=s,u9.apply(null,f)}function f9(t){return t===void 0?Sr:typeof t=="function"?(Sr=t,!0):!1}function h9(t,e){return Zl[t]===void 0?!1:e===void 0?Zl[t]:(Zl[t]=e,t==="s"&&(Zl.ss=e-1),!0)}function p9(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,s=Zl,i,r;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(s=Object.assign({},Zl,e),e.s!=null&&e.ss==null&&(s.ss=e.s-1)),i=this.localeData(),r=d9(this,!n,s,i),n&&(r=i.pastFuture(+this,r)),i.postformat(r)}var y0=Math.abs;function yl(t){return(t>0)-(t<0)||+t}function cg(){if(!this.isValid())return this.localeData().invalidDate();var t=y0(this._milliseconds)/1e3,e=y0(this._days),n=y0(this._months),s,i,r,o,a=this.asSeconds(),l,c,u,d;return a?(s=zs(t/60),i=zs(s/60),t%=60,s%=60,r=zs(n/12),n%=12,o=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",c=yl(this._months)!==yl(a)?"-":"",u=yl(this._days)!==yl(a)?"-":"",d=yl(this._milliseconds)!==yl(a)?"-":"",l+"P"+(r?c+r+"Y":"")+(n?c+n+"M":"")+(e?u+e+"D":"")+(i||s||t?"T":"")+(i?d+i+"H":"")+(s?d+s+"M":"")+(t?d+o+"S":"")):"P0D"}var vt=ag.prototype;vt.isValid=oD;vt.abs=$7;vt.add=B7;vt.subtract=z7;vt.as=H7;vt.asMilliseconds=W7;vt.asSeconds=j7;vt.asMinutes=q7;vt.asHours=Y7;vt.asDays=K7;vt.asWeeks=X7;vt.asMonths=Z7;vt.asQuarters=J7;vt.asYears=Q7;vt.valueOf=V7;vt._bubble=G7;vt.clone=e9;vt.get=t9;vt.milliseconds=n9;vt.seconds=s9;vt.minutes=i9;vt.hours=r9;vt.days=o9;vt.weeks=c9;vt.months=a9;vt.years=l9;vt.humanize=p9;vt.toISOString=cg;vt.toString=cg;vt.toJSON=cg;vt.locale=H4;vt.localeData=W4;vt.toIsoString=Qs("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",cg);vt.lang=V4;je("X",0,0,"unix");je("x",0,0,"valueOf");ze("x",sg);ze("X",FL);Bt("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});Bt("x",function(t,e,n){n._d=new Date(ht(t))});//! moment.js
Pe.version="2.29.4";mL(Qt);Pe.fn=Re;Pe.min=nD;Pe.max=sD;Pe.now=iD;Pe.utc=ir;Pe.unix=P7;Pe.months=I7;Pe.isDate=yf;Pe.locale=Lo;Pe.invalid=Jm;Pe.duration=Ai;Pe.isMoment=Mi;Pe.weekdays=F7;Pe.parseZone=L7;Pe.localeData=Wr;Pe.isDuration=pp;Pe.monthsShort=D7;Pe.weekdaysMin=U7;Pe.defineLocale=Ab;Pe.updateLocale=LI;Pe.locales=II;Pe.weekdaysShort=N7;Pe.normalizeUnits=ei;Pe.relativeTimeRounding=f9;Pe.relativeTimeThreshold=h9;Pe.calendarFormat=RD;Pe.prototype=Re;Pe.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function nA(t){return Pe(t).fromNow()}function m9(t,e=!1,n=1){const s=e?1e3:1024;if(Math.abs(t)<s)return t+" B";const i=e?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];let r=-1;const o=10**n;do t/=s,++r;while(Math.round(Math.abs(t)*o)/o>=s&&r<i.length-1);return t.toFixed(n)+" "+i[r]}var g9=!1;/*!
  * pinia v2.0.33
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let sA;const ug=t=>sA=t,iA=Symbol();function M1(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var hd;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(hd||(hd={}));function _9(){const t=JT(!0),e=t.run(()=>Um({}));let n=[],s=[];const i=Mc({install(r){ug(i),i._a=r,r.provide(iA,i),r.config.globalProperties.$pinia=i,s.forEach(o=>n.push(o)),s=[]},use(r){return!this._a&&!g9?s.push(r):n.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const rA=()=>{};function Aw(t,e,n,s=rA){t.push(e);const i=()=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),s())};return!n&&QT()&&WR(i),i}function bl(t,...e){t.slice().forEach(n=>{n(...e)})}function A1(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,s)=>t.set(s,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],i=t[n];M1(i)&&M1(s)&&t.hasOwnProperty(n)&&!gn(s)&&!Co(s)?t[n]=A1(i,s):t[n]=s}return t}const y9=Symbol();function b9(t){return!M1(t)||!t.hasOwnProperty(y9)}const{assign:ho}=Object;function v9(t){return!!(gn(t)&&t.effect)}function w9(t,e,n,s){const{state:i,actions:r,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=i?i():{});const u=xC(n.state.value[t]);return ho(u,r,Object.keys(o||{}).reduce((d,f)=>(d[f]=Mc(zt(()=>{ug(n);const h=n._s.get(t);return o[f].call(h,h)})),d),{}))}return l=oA(t,c,e,n,s,!0),l}function oA(t,e,n={},s,i,r){let o;const a=ho({actions:{}},n),l={deep:!0};let c,u,d=Mc([]),f=Mc([]),h;const _=s.state.value[t];!r&&!_&&(s.state.value[t]={}),Um({});let p;function m(T){let E;c=u=!1,typeof T=="function"?(T(s.state.value[t]),E={type:hd.patchFunction,storeId:t,events:h}):(A1(s.state.value[t],T),E={type:hd.patchObject,payload:T,storeId:t,events:h});const M=p=Symbol();nb().then(()=>{p===M&&(c=!0)}),u=!0,bl(d,E,s.state.value[t])}const y=r?function(){const{state:E}=n,M=E?E():{};this.$patch(C=>{ho(C,M)})}:rA;function b(){o.stop(),d=[],f=[],s._s.delete(t)}function v(T,E){return function(){ug(s);const M=Array.from(arguments),C=[],A=[];function R(D){C.push(D)}function $(D){A.push(D)}bl(f,{args:M,name:T,store:S,after:R,onError:$});let F;try{F=E.apply(this&&this.$id===t?this:S,M)}catch(D){throw bl(A,D),D}return F instanceof Promise?F.then(D=>(bl(C,D),D)).catch(D=>(bl(A,D),Promise.reject(D))):(bl(C,F),F)}}const w={_p:s,$id:t,$onAction:Aw.bind(null,f),$patch:m,$reset:y,$subscribe(T,E={}){const M=Aw(d,T,E.detached,()=>C()),C=o.run(()=>Po(()=>s.state.value[t],A=>{(E.flush==="sync"?u:c)&&T({storeId:t,type:hd.direct,events:h},A)},ho({},l,E)));return M},$dispose:b},S=ol(w);s._s.set(t,S);const x=s._e.run(()=>(o=JT(),o.run(()=>e())));for(const T in x){const E=x[T];if(gn(E)&&!v9(E)||Co(E))r||(_&&b9(E)&&(gn(E)?E.value=_[T]:A1(E,_[T])),s.state.value[t][T]=E);else if(typeof E=="function"){const M=v(T,E);x[T]=M,a.actions[T]=E}}return ho(S,x),ho(st(S),x),Object.defineProperty(S,"$state",{get:()=>s.state.value[t],set:T=>{m(E=>{ho(E,T)})}}),s._p.forEach(T=>{ho(S,o.run(()=>T({store:S,app:s._a,pinia:s,options:a})))}),_&&r&&n.hydrate&&n.hydrate(S.$state,_),c=!0,u=!0,S}function cs(t,e,n){let s,i;const r=typeof e=="function";typeof t=="string"?(s=t,i=r?n:e):(i=t,s=t.id);function o(a,l){const c=fb();return a=a||c&&qi(iA,null),a&&ug(a),a=sA,a._s.has(s)||(r?oA(s,e,i,a):w9(s,i,a)),a._s.get(s)}return o.$id=s,o}function aA(t,e){return Array.isArray(e)?e.reduce((n,s)=>(n[s]=function(){return t(this.$pinia)[s]},n),{}):Object.keys(e).reduce((n,s)=>(n[s]=function(){const i=t(this.$pinia),r=e[s];return typeof r=="function"?r.call(this,i):i[r]},n),{})}const kw="#".charCodeAt(0),x9=4;var Vn=(t=>(t[t.Invalid=0]="Invalid",t[t.Get=1]="Get",t[t.Set=2]="Set",t[t.Log=3]="Log",t[t.CalImu=4]="CalImu",t[t.Blackbox=5]="Blackbox",t[t.Motor=6]="Motor",t[t.CalSticks=7]="CalSticks",t[t.Serial=8]="Serial",t[t.Max=9]="Max",t))(Vn||{}),xn=(t=>(t[t.Invalid=0]="Invalid",t[t.Info=1]="Info",t[t.Profile=2]="Profile",t[t.DefaultProfile=3]="DefaultProfile",t[t.State=4]="State",t[t.PidRatePresets=5]="PidRatePresets",t[t.VtxSettings=6]="VtxSettings",t[t.OSDFont=7]="OSDFont",t[t.BLHeliSettings=8]="BLHeliSettings",t[t.BindInfo=9]="BindInfo",t[t.PerfCounters=10]="PerfCounters",t[t.BlackboxPresets=11]="BlackboxPresets",t))(xn||{}),Xu=(t=>(t[t.Reset=0]="Reset",t[t.List=1]="List",t[t.Get=2]="Get",t))(Xu||{}),Zu=(t=>(t[t.TestStatus=0]="TestStatus",t[t.TestEnable=1]="TestEnable",t[t.TestDisable=2]="TestDisable",t[t.TestSetValue=3]="TestSetValue",t[t.Esc4WayIf=4]="Esc4WayIf",t))(Zu||{}),gp=(t=>(t[t.None=0]="None",t[t.Error=1]="Error",t[t.Streaming=2]="Streaming",t[t.Exit=3]="Exit",t))(gp||{}),Fb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$r={},S9={get exports(){return $r},set exports(t){$r=t}};const E9="2.0.0",T9=256,M9=Number.MAX_SAFE_INTEGER||9007199254740991,A9=16;var dg={SEMVER_SPEC_VERSION:E9,MAX_LENGTH:T9,MAX_SAFE_INTEGER:M9,MAX_SAFE_COMPONENT_LENGTH:A9};const k9=typeof process=="object"&&{}&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var fg=k9;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n}=dg,s=fg;e=t.exports={};const i=e.re=[],r=e.src=[],o=e.t={};let a=0;const l=(c,u,d)=>{const f=a++;s(c,f,u),o[c]=f,r[f]=u,i[f]=new RegExp(u,d?"g":void 0)};l("NUMERICIDENTIFIER","0|[1-9]\\d*"),l("NUMERICIDENTIFIERLOOSE","[0-9]+"),l("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),l("MAINVERSION",`(${r[o.NUMERICIDENTIFIER]})\\.(${r[o.NUMERICIDENTIFIER]})\\.(${r[o.NUMERICIDENTIFIER]})`),l("MAINVERSIONLOOSE",`(${r[o.NUMERICIDENTIFIERLOOSE]})\\.(${r[o.NUMERICIDENTIFIERLOOSE]})\\.(${r[o.NUMERICIDENTIFIERLOOSE]})`),l("PRERELEASEIDENTIFIER",`(?:${r[o.NUMERICIDENTIFIER]}|${r[o.NONNUMERICIDENTIFIER]})`),l("PRERELEASEIDENTIFIERLOOSE",`(?:${r[o.NUMERICIDENTIFIERLOOSE]}|${r[o.NONNUMERICIDENTIFIER]})`),l("PRERELEASE",`(?:-(${r[o.PRERELEASEIDENTIFIER]}(?:\\.${r[o.PRERELEASEIDENTIFIER]})*))`),l("PRERELEASELOOSE",`(?:-?(${r[o.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${r[o.PRERELEASEIDENTIFIERLOOSE]})*))`),l("BUILDIDENTIFIER","[0-9A-Za-z-]+"),l("BUILD",`(?:\\+(${r[o.BUILDIDENTIFIER]}(?:\\.${r[o.BUILDIDENTIFIER]})*))`),l("FULLPLAIN",`v?${r[o.MAINVERSION]}${r[o.PRERELEASE]}?${r[o.BUILD]}?`),l("FULL",`^${r[o.FULLPLAIN]}$`),l("LOOSEPLAIN",`[v=\\s]*${r[o.MAINVERSIONLOOSE]}${r[o.PRERELEASELOOSE]}?${r[o.BUILD]}?`),l("LOOSE",`^${r[o.LOOSEPLAIN]}$`),l("GTLT","((?:<|>)?=?)"),l("XRANGEIDENTIFIERLOOSE",`${r[o.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),l("XRANGEIDENTIFIER",`${r[o.NUMERICIDENTIFIER]}|x|X|\\*`),l("XRANGEPLAIN",`[v=\\s]*(${r[o.XRANGEIDENTIFIER]})(?:\\.(${r[o.XRANGEIDENTIFIER]})(?:\\.(${r[o.XRANGEIDENTIFIER]})(?:${r[o.PRERELEASE]})?${r[o.BUILD]}?)?)?`),l("XRANGEPLAINLOOSE",`[v=\\s]*(${r[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${r[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${r[o.XRANGEIDENTIFIERLOOSE]})(?:${r[o.PRERELEASELOOSE]})?${r[o.BUILD]}?)?)?`),l("XRANGE",`^${r[o.GTLT]}\\s*${r[o.XRANGEPLAIN]}$`),l("XRANGELOOSE",`^${r[o.GTLT]}\\s*${r[o.XRANGEPLAINLOOSE]}$`),l("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),l("COERCERTL",r[o.COERCE],!0),l("LONETILDE","(?:~>?)"),l("TILDETRIM",`(\\s*)${r[o.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",l("TILDE",`^${r[o.LONETILDE]}${r[o.XRANGEPLAIN]}$`),l("TILDELOOSE",`^${r[o.LONETILDE]}${r[o.XRANGEPLAINLOOSE]}$`),l("LONECARET","(?:\\^)"),l("CARETTRIM",`(\\s*)${r[o.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",l("CARET",`^${r[o.LONECARET]}${r[o.XRANGEPLAIN]}$`),l("CARETLOOSE",`^${r[o.LONECARET]}${r[o.XRANGEPLAINLOOSE]}$`),l("COMPARATORLOOSE",`^${r[o.GTLT]}\\s*(${r[o.LOOSEPLAIN]})$|^$`),l("COMPARATOR",`^${r[o.GTLT]}\\s*(${r[o.FULLPLAIN]})$|^$`),l("COMPARATORTRIM",`(\\s*)${r[o.GTLT]}\\s*(${r[o.LOOSEPLAIN]}|${r[o.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",l("HYPHENRANGE",`^\\s*(${r[o.XRANGEPLAIN]})\\s+-\\s+(${r[o.XRANGEPLAIN]})\\s*$`),l("HYPHENRANGELOOSE",`^\\s*(${r[o.XRANGEPLAINLOOSE]})\\s+-\\s+(${r[o.XRANGEPLAINLOOSE]})\\s*$`),l("STAR","(<|>)?=?\\s*\\*"),l("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),l("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(S9,$r);const R9=["includePrerelease","loose","rtl"],C9=t=>t?typeof t!="object"?{loose:!0}:R9.filter(e=>t[e]).reduce((e,n)=>(e[n]=!0,e),{}):{};var hg=C9;const Rw=/^[0-9]+$/,lA=(t,e)=>{const n=Rw.test(t),s=Rw.test(e);return n&&s&&(t=+t,e=+e),t===e?0:n&&!s?-1:s&&!n?1:t<e?-1:1},O9=(t,e)=>lA(e,t);var cA={compareIdentifiers:lA,rcompareIdentifiers:O9};const Jf=fg,{MAX_LENGTH:Cw,MAX_SAFE_INTEGER:Qf}=dg,{re:Ow,t:Pw}=$r,P9=hg,{compareIdentifiers:vl}=cA;let L9=class Ui{constructor(e,n){if(n=P9(n),e instanceof Ui){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>Cw)throw new TypeError(`version is longer than ${Cw} characters`);Jf("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const s=e.trim().match(n.loose?Ow[Pw.LOOSE]:Ow[Pw.FULL]);if(!s)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>Qf||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Qf||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Qf||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const r=+i;if(r>=0&&r<Qf)return r}return i}):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Jf("SemVer.compare",this.version,this.options,e),!(e instanceof Ui)){if(typeof e=="string"&&e===this.version)return 0;e=new Ui(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Ui||(e=new Ui(e,this.options)),vl(this.major,e.major)||vl(this.minor,e.minor)||vl(this.patch,e.patch)}comparePre(e){if(e instanceof Ui||(e=new Ui(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{const s=this.prerelease[n],i=e.prerelease[n];if(Jf("prerelease compare",n,s,i),s===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(s===void 0)return-1;if(s===i)continue;return vl(s,i)}while(++n)}compareBuild(e){e instanceof Ui||(e=new Ui(e,this.options));let n=0;do{const s=this.build[n],i=e.build[n];if(Jf("prerelease compare",n,s,i),s===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(s===void 0)return-1;if(s===i)continue;return vl(s,i)}while(++n)}inc(e,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n),this.inc("pre",n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n),this.inc("pre",n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);s===-1&&this.prerelease.push(0)}n&&(vl(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=[n,0]):this.prerelease=[n,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};var us=L9;const{MAX_LENGTH:I9}=dg,{re:Lw,t:Iw}=$r,Dw=us,D9=hg,F9=(t,e)=>{if(e=D9(e),t instanceof Dw)return t;if(typeof t!="string"||t.length>I9||!(e.loose?Lw[Iw.LOOSE]:Lw[Iw.FULL]).test(t))return null;try{return new Dw(t,e)}catch{return null}};var eu=F9;const N9=eu,U9=(t,e)=>{const n=N9(t,e);return n?n.version:null};var $9=U9;const B9=eu,z9=(t,e)=>{const n=B9(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null};var G9=z9;const Fw=us,H9=(t,e,n,s)=>{typeof n=="string"&&(s=n,n=void 0);try{return new Fw(t instanceof Fw?t.version:t,n).inc(e,s).version}catch{return null}};var V9=H9;const Nw=us,W9=(t,e,n)=>new Nw(t,n).compare(new Nw(e,n));var ki=W9;const j9=ki,q9=(t,e,n)=>j9(t,e,n)===0;var Nb=q9;const Uw=eu,Y9=Nb,K9=(t,e)=>{if(Y9(t,e))return null;{const n=Uw(t),s=Uw(e),i=n.prerelease.length||s.prerelease.length,r=i?"pre":"",o=i?"prerelease":"";for(const a in n)if((a==="major"||a==="minor"||a==="patch")&&n[a]!==s[a])return r+a;return o}};var X9=K9;const Z9=us,J9=(t,e)=>new Z9(t,e).major;var Q9=J9;const eF=us,tF=(t,e)=>new eF(t,e).minor;var nF=tF;const sF=us,iF=(t,e)=>new sF(t,e).patch;var rF=iF;const oF=eu,aF=(t,e)=>{const n=oF(t,e);return n&&n.prerelease.length?n.prerelease:null};var lF=aF;const cF=ki,uF=(t,e,n)=>cF(e,t,n);var dF=uF;const fF=ki,hF=(t,e)=>fF(t,e,!0);var pF=hF;const $w=us,mF=(t,e,n)=>{const s=new $w(t,n),i=new $w(e,n);return s.compare(i)||s.compareBuild(i)};var Ub=mF;const gF=Ub,_F=(t,e)=>t.sort((n,s)=>gF(n,s,e));var yF=_F;const bF=Ub,vF=(t,e)=>t.sort((n,s)=>bF(s,n,e));var wF=vF;const xF=ki,SF=(t,e,n)=>xF(t,e,n)>0;var pg=SF;const EF=ki,TF=(t,e,n)=>EF(t,e,n)<0;var $b=TF;const MF=ki,AF=(t,e,n)=>MF(t,e,n)!==0;var uA=AF;const kF=ki,RF=(t,e,n)=>kF(t,e,n)>=0;var Bb=RF;const CF=ki,OF=(t,e,n)=>CF(t,e,n)<=0;var zb=OF;const PF=Nb,LF=uA,IF=pg,DF=Bb,FF=$b,NF=zb,UF=(t,e,n,s)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return PF(t,n,s);case"!=":return LF(t,n,s);case">":return IF(t,n,s);case">=":return DF(t,n,s);case"<":return FF(t,n,s);case"<=":return NF(t,n,s);default:throw new TypeError(`Invalid operator: ${e}`)}};var dA=UF;const $F=us,BF=eu,{re:eh,t:th}=$r,zF=(t,e)=>{if(t instanceof $F)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(eh[th.COERCE]);else{let s;for(;(s=eh[th.COERCERTL].exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||s.index+s[0].length!==n.index+n[0].length)&&(n=s),eh[th.COERCERTL].lastIndex=s.index+s[1].length+s[2].length;eh[th.COERCERTL].lastIndex=-1}return n===null?null:BF(`${n[2]}.${n[3]||"0"}.${n[4]||"0"}`,e)};var GF=zF,b0,Bw;function HF(){return Bw||(Bw=1,b0=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),b0}var VF=kt;kt.Node=Wa;kt.create=kt;function kt(t){var e=this;if(e instanceof kt||(e=new kt),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var n=0,s=arguments.length;n<s;n++)e.push(arguments[n]);return e}kt.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,n=t.prev;return e&&(e.prev=n),n&&(n.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=n),t.list.length--,t.next=null,t.prev=null,t.list=null,e};kt.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};kt.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};kt.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)jF(this,arguments[t]);return this.length};kt.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)qF(this,arguments[t]);return this.length};kt.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};kt.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};kt.prototype.forEach=function(t,e){e=e||this;for(var n=this.head,s=0;n!==null;s++)t.call(e,n.value,s,this),n=n.next};kt.prototype.forEachReverse=function(t,e){e=e||this;for(var n=this.tail,s=this.length-1;n!==null;s--)t.call(e,n.value,s,this),n=n.prev};kt.prototype.get=function(t){for(var e=0,n=this.head;n!==null&&e<t;e++)n=n.next;if(e===t&&n!==null)return n.value};kt.prototype.getReverse=function(t){for(var e=0,n=this.tail;n!==null&&e<t;e++)n=n.prev;if(e===t&&n!==null)return n.value};kt.prototype.map=function(t,e){e=e||this;for(var n=new kt,s=this.head;s!==null;)n.push(t.call(e,s.value,this)),s=s.next;return n};kt.prototype.mapReverse=function(t,e){e=e||this;for(var n=new kt,s=this.tail;s!==null;)n.push(t.call(e,s.value,this)),s=s.prev;return n};kt.prototype.reduce=function(t,e){var n,s=this.head;if(arguments.length>1)n=e;else if(this.head)s=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;s!==null;i++)n=t(n,s.value,i),s=s.next;return n};kt.prototype.reduceReverse=function(t,e){var n,s=this.tail;if(arguments.length>1)n=e;else if(this.tail)s=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;s!==null;i--)n=t(n,s.value,i),s=s.prev;return n};kt.prototype.toArray=function(){for(var t=new Array(this.length),e=0,n=this.head;n!==null;e++)t[e]=n.value,n=n.next;return t};kt.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,n=this.tail;n!==null;e++)t[e]=n.value,n=n.prev;return t};kt.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var n=new kt;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var s=0,i=this.head;i!==null&&s<t;s++)i=i.next;for(;i!==null&&s<e;s++,i=i.next)n.push(i.value);return n};kt.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var n=new kt;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var s=this.length,i=this.tail;i!==null&&s>e;s--)i=i.prev;for(;i!==null&&s>t;s--,i=i.prev)n.push(i.value);return n};kt.prototype.splice=function(t,e,...n){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var s=0,i=this.head;i!==null&&s<t;s++)i=i.next;for(var r=[],s=0;i&&s<e;s++)r.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var s=0;s<n.length;s++)i=WF(this,i,n[s]);return r};kt.prototype.reverse=function(){for(var t=this.head,e=this.tail,n=t;n!==null;n=n.prev){var s=n.prev;n.prev=n.next,n.next=s}return this.head=e,this.tail=t,this};function WF(t,e,n){var s=e===t.head?new Wa(n,null,e,t):new Wa(n,e,e.next,t);return s.next===null&&(t.tail=s),s.prev===null&&(t.head=s),t.length++,s}function jF(t,e){t.tail=new Wa(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function qF(t,e){t.head=new Wa(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function Wa(t,e,n,s){if(!(this instanceof Wa))return new Wa(t,e,n,s);this.list=s,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{HF()(kt)}catch{}const YF=VF,ya=Symbol("max"),Mr=Symbol("length"),wl=Symbol("lengthCalculator"),pd=Symbol("allowStale"),Ea=Symbol("maxAge"),Er=Symbol("dispose"),zw=Symbol("noDisposeOnSet"),Cn=Symbol("lruList"),oi=Symbol("cache"),fA=Symbol("updateAgeOnGet"),v0=()=>1;class KF{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[ya]=e.max||1/0;const n=e.length||v0;if(this[wl]=typeof n!="function"?v0:n,this[pd]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[Ea]=e.maxAge||0,this[Er]=e.dispose,this[zw]=e.noDisposeOnSet||!1,this[fA]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[ya]=e||1/0,Tu(this)}get max(){return this[ya]}set allowStale(e){this[pd]=!!e}get allowStale(){return this[pd]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[Ea]=e,Tu(this)}get maxAge(){return this[Ea]}set lengthCalculator(e){typeof e!="function"&&(e=v0),e!==this[wl]&&(this[wl]=e,this[Mr]=0,this[Cn].forEach(n=>{n.length=this[wl](n.value,n.key),this[Mr]+=n.length})),Tu(this)}get lengthCalculator(){return this[wl]}get length(){return this[Mr]}get itemCount(){return this[Cn].length}rforEach(e,n){n=n||this;for(let s=this[Cn].tail;s!==null;){const i=s.prev;Gw(this,e,s,n),s=i}}forEach(e,n){n=n||this;for(let s=this[Cn].head;s!==null;){const i=s.next;Gw(this,e,s,n),s=i}}keys(){return this[Cn].toArray().map(e=>e.key)}values(){return this[Cn].toArray().map(e=>e.value)}reset(){this[Er]&&this[Cn]&&this[Cn].length&&this[Cn].forEach(e=>this[Er](e.key,e.value)),this[oi]=new Map,this[Cn]=new YF,this[Mr]=0}dump(){return this[Cn].map(e=>Zp(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[Cn]}set(e,n,s){if(s=s||this[Ea],s&&typeof s!="number")throw new TypeError("maxAge must be a number");const i=s?Date.now():0,r=this[wl](n,e);if(this[oi].has(e)){if(r>this[ya])return mc(this,this[oi].get(e)),!1;const l=this[oi].get(e).value;return this[Er]&&(this[zw]||this[Er](e,l.value)),l.now=i,l.maxAge=s,l.value=n,this[Mr]+=r-l.length,l.length=r,this.get(e),Tu(this),!0}const o=new XF(e,n,r,i,s);return o.length>this[ya]?(this[Er]&&this[Er](e,n),!1):(this[Mr]+=o.length,this[Cn].unshift(o),this[oi].set(e,this[Cn].head),Tu(this),!0)}has(e){if(!this[oi].has(e))return!1;const n=this[oi].get(e).value;return!Zp(this,n)}get(e){return w0(this,e,!0)}peek(e){return w0(this,e,!1)}pop(){const e=this[Cn].tail;return e?(mc(this,e),e.value):null}del(e){mc(this,this[oi].get(e))}load(e){this.reset();const n=Date.now();for(let s=e.length-1;s>=0;s--){const i=e[s],r=i.e||0;if(r===0)this.set(i.k,i.v);else{const o=r-n;o>0&&this.set(i.k,i.v,o)}}}prune(){this[oi].forEach((e,n)=>w0(this,n,!1))}}const w0=(t,e,n)=>{const s=t[oi].get(e);if(s){const i=s.value;if(Zp(t,i)){if(mc(t,s),!t[pd])return}else n&&(t[fA]&&(s.value.now=Date.now()),t[Cn].unshiftNode(s));return i.value}},Zp=(t,e)=>{if(!e||!e.maxAge&&!t[Ea])return!1;const n=Date.now()-e.now;return e.maxAge?n>e.maxAge:t[Ea]&&n>t[Ea]},Tu=t=>{if(t[Mr]>t[ya])for(let e=t[Cn].tail;t[Mr]>t[ya]&&e!==null;){const n=e.prev;mc(t,e),e=n}},mc=(t,e)=>{if(e){const n=e.value;t[Er]&&t[Er](n.key,n.value),t[Mr]-=n.length,t[oi].delete(n.key),t[Cn].removeNode(e)}};let XF=class{constructor(e,n,s,i,r){this.key=e,this.value=n,this.length=s,this.now=i,this.maxAge=r||0}};const Gw=(t,e,n,s)=>{let i=n.value;Zp(t,i)&&(mc(t,n),t[pd]||(i=void 0)),i&&e.call(s,i.value,i.key,t)};var ZF=KF,x0,Hw;function Ri(){if(Hw)return x0;Hw=1;class t{constructor(R,$){if($=s($),R instanceof t)return R.loose===!!$.loose&&R.includePrerelease===!!$.includePrerelease?R:new t(R.raw,$);if(R instanceof i)return this.raw=R.value,this.set=[[R]],this.format(),this;if(this.options=$,this.loose=!!$.loose,this.includePrerelease=!!$.includePrerelease,this.raw=R,this.set=R.split("||").map(F=>this.parseRange(F.trim())).filter(F=>F.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${R}`);if(this.set.length>1){const F=this.set[0];if(this.set=this.set.filter(D=>!f(D[0])),this.set.length===0)this.set=[F];else if(this.set.length>1){for(const D of this.set)if(D.length===1&&h(D[0])){this.set=[D];break}}}this.format()}format(){return this.range=this.set.map(R=>R.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(R){R=R.trim();const F=`parseRange:${Object.keys(this.options).join(",")}:${R}`,D=n.get(F);if(D)return D;const I=this.options.loose,B=I?a[l.HYPHENRANGELOOSE]:a[l.HYPHENRANGE];R=R.replace(B,M(this.options.includePrerelease)),r("hyphen replace",R),R=R.replace(a[l.COMPARATORTRIM],c),r("comparator trim",R),R=R.replace(a[l.TILDETRIM],u),R=R.replace(a[l.CARETTRIM],d),R=R.split(/\s+/).join(" ");let W=R.split(" ").map(O=>p(O,this.options)).join(" ").split(/\s+/).map(O=>E(O,this.options));I&&(W=W.filter(O=>(r("loose invalid filter",O,this.options),!!O.match(a[l.COMPARATORLOOSE])))),r("range list",W);const Y=new Map,j=W.map(O=>new i(O,this.options));for(const O of j){if(f(O))return[O];Y.set(O.value,O)}Y.size>1&&Y.has("")&&Y.delete("");const pe=[...Y.values()];return n.set(F,pe),pe}intersects(R,$){if(!(R instanceof t))throw new TypeError("a Range is required");return this.set.some(F=>_(F,$)&&R.set.some(D=>_(D,$)&&F.every(I=>D.every(B=>I.intersects(B,$)))))}test(R){if(!R)return!1;if(typeof R=="string")try{R=new o(R,this.options)}catch{return!1}for(let $=0;$<this.set.length;$++)if(C(this.set[$],R,this.options))return!0;return!1}}x0=t;const e=ZF,n=new e({max:1e3}),s=hg,i=mg(),r=fg,o=us,{re:a,t:l,comparatorTrimReplace:c,tildeTrimReplace:u,caretTrimReplace:d}=$r,f=A=>A.value==="<0.0.0-0",h=A=>A.value==="",_=(A,R)=>{let $=!0;const F=A.slice();let D=F.pop();for(;$&&F.length;)$=F.every(I=>D.intersects(I,R)),D=F.pop();return $},p=(A,R)=>(r("comp",A,R),A=v(A,R),r("caret",A),A=y(A,R),r("tildes",A),A=S(A,R),r("xrange",A),A=T(A,R),r("stars",A),A),m=A=>!A||A.toLowerCase()==="x"||A==="*",y=(A,R)=>A.trim().split(/\s+/).map($=>b($,R)).join(" "),b=(A,R)=>{const $=R.loose?a[l.TILDELOOSE]:a[l.TILDE];return A.replace($,(F,D,I,B,W)=>{r("tilde",A,F,D,I,B,W);let Y;return m(D)?Y="":m(I)?Y=`>=${D}.0.0 <${+D+1}.0.0-0`:m(B)?Y=`>=${D}.${I}.0 <${D}.${+I+1}.0-0`:W?(r("replaceTilde pr",W),Y=`>=${D}.${I}.${B}-${W} <${D}.${+I+1}.0-0`):Y=`>=${D}.${I}.${B} <${D}.${+I+1}.0-0`,r("tilde return",Y),Y})},v=(A,R)=>A.trim().split(/\s+/).map($=>w($,R)).join(" "),w=(A,R)=>{r("caret",A,R);const $=R.loose?a[l.CARETLOOSE]:a[l.CARET],F=R.includePrerelease?"-0":"";return A.replace($,(D,I,B,W,Y)=>{r("caret",A,D,I,B,W,Y);let j;return m(I)?j="":m(B)?j=`>=${I}.0.0${F} <${+I+1}.0.0-0`:m(W)?I==="0"?j=`>=${I}.${B}.0${F} <${I}.${+B+1}.0-0`:j=`>=${I}.${B}.0${F} <${+I+1}.0.0-0`:Y?(r("replaceCaret pr",Y),I==="0"?B==="0"?j=`>=${I}.${B}.${W}-${Y} <${I}.${B}.${+W+1}-0`:j=`>=${I}.${B}.${W}-${Y} <${I}.${+B+1}.0-0`:j=`>=${I}.${B}.${W}-${Y} <${+I+1}.0.0-0`):(r("no pr"),I==="0"?B==="0"?j=`>=${I}.${B}.${W}${F} <${I}.${B}.${+W+1}-0`:j=`>=${I}.${B}.${W}${F} <${I}.${+B+1}.0-0`:j=`>=${I}.${B}.${W} <${+I+1}.0.0-0`),r("caret return",j),j})},S=(A,R)=>(r("replaceXRanges",A,R),A.split(/\s+/).map($=>x($,R)).join(" ")),x=(A,R)=>{A=A.trim();const $=R.loose?a[l.XRANGELOOSE]:a[l.XRANGE];return A.replace($,(F,D,I,B,W,Y)=>{r("xRange",A,F,D,I,B,W,Y);const j=m(I),pe=j||m(B),O=pe||m(W),G=O;return D==="="&&G&&(D=""),Y=R.includePrerelease?"-0":"",j?D===">"||D==="<"?F="<0.0.0-0":F="*":D&&G?(pe&&(B=0),W=0,D===">"?(D=">=",pe?(I=+I+1,B=0,W=0):(B=+B+1,W=0)):D==="<="&&(D="<",pe?I=+I+1:B=+B+1),D==="<"&&(Y="-0"),F=`${D+I}.${B}.${W}${Y}`):pe?F=`>=${I}.0.0${Y} <${+I+1}.0.0-0`:O&&(F=`>=${I}.${B}.0${Y} <${I}.${+B+1}.0-0`),r("xRange return",F),F})},T=(A,R)=>(r("replaceStars",A,R),A.trim().replace(a[l.STAR],"")),E=(A,R)=>(r("replaceGTE0",A,R),A.trim().replace(a[R.includePrerelease?l.GTE0PRE:l.GTE0],"")),M=A=>(R,$,F,D,I,B,W,Y,j,pe,O,G,te)=>(m(F)?$="":m(D)?$=`>=${F}.0.0${A?"-0":""}`:m(I)?$=`>=${F}.${D}.0${A?"-0":""}`:B?$=`>=${$}`:$=`>=${$}${A?"-0":""}`,m(j)?Y="":m(pe)?Y=`<${+j+1}.0.0-0`:m(O)?Y=`<${j}.${+pe+1}.0-0`:G?Y=`<=${j}.${pe}.${O}-${G}`:A?Y=`<${j}.${pe}.${+O+1}-0`:Y=`<=${Y}`,`${$} ${Y}`.trim()),C=(A,R,$)=>{for(let F=0;F<A.length;F++)if(!A[F].test(R))return!1;if(R.prerelease.length&&!$.includePrerelease){for(let F=0;F<A.length;F++)if(r(A[F].semver),A[F].semver!==i.ANY&&A[F].semver.prerelease.length>0){const D=A[F].semver;if(D.major===R.major&&D.minor===R.minor&&D.patch===R.patch)return!0}return!1}return!0};return x0}var S0,Vw;function mg(){if(Vw)return S0;Vw=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(u,d){if(d=n(d),u instanceof e){if(u.loose===!!d.loose)return u;u=u.value}o("comparator",u,d),this.options=d,this.loose=!!d.loose,this.parse(u),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(u){const d=this.options.loose?s[i.COMPARATORLOOSE]:s[i.COMPARATOR],f=u.match(d);if(!f)throw new TypeError(`Invalid comparator: ${u}`);this.operator=f[1]!==void 0?f[1]:"",this.operator==="="&&(this.operator=""),f[2]?this.semver=new a(f[2],this.options.loose):this.semver=t}toString(){return this.value}test(u){if(o("Comparator.test",u,this.options.loose),this.semver===t||u===t)return!0;if(typeof u=="string")try{u=new a(u,this.options)}catch{return!1}return r(u,this.operator,this.semver,this.options)}intersects(u,d){if(!(u instanceof e))throw new TypeError("a Comparator is required");if((!d||typeof d!="object")&&(d={loose:!!d,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new l(u.value,d).test(this.value);if(u.operator==="")return u.value===""?!0:new l(this.value,d).test(u.semver);const f=(this.operator===">="||this.operator===">")&&(u.operator===">="||u.operator===">"),h=(this.operator==="<="||this.operator==="<")&&(u.operator==="<="||u.operator==="<"),_=this.semver.version===u.semver.version,p=(this.operator===">="||this.operator==="<=")&&(u.operator===">="||u.operator==="<="),m=r(this.semver,"<",u.semver,d)&&(this.operator===">="||this.operator===">")&&(u.operator==="<="||u.operator==="<"),y=r(this.semver,">",u.semver,d)&&(this.operator==="<="||this.operator==="<")&&(u.operator===">="||u.operator===">");return f||h||_&&p||m||y}}S0=e;const n=hg,{re:s,t:i}=$r,r=dA,o=fg,a=us,l=Ri();return S0}const JF=Ri(),QF=(t,e,n)=>{try{e=new JF(e,n)}catch{return!1}return e.test(t)};var gg=QF;const eN=Ri(),tN=(t,e)=>new eN(t,e).set.map(n=>n.map(s=>s.value).join(" ").trim().split(" "));var nN=tN;const sN=us,iN=Ri(),rN=(t,e,n)=>{let s=null,i=null,r=null;try{r=new iN(e,n)}catch{return null}return t.forEach(o=>{r.test(o)&&(!s||i.compare(o)===-1)&&(s=o,i=new sN(s,n))}),s};var oN=rN;const aN=us,lN=Ri(),cN=(t,e,n)=>{let s=null,i=null,r=null;try{r=new lN(e,n)}catch{return null}return t.forEach(o=>{r.test(o)&&(!s||i.compare(o)===1)&&(s=o,i=new aN(s,n))}),s};var uN=cN;const E0=us,dN=Ri(),Ww=pg,fN=(t,e)=>{t=new dN(t,e);let n=new E0("0.0.0");if(t.test(n)||(n=new E0("0.0.0-0"),t.test(n)))return n;n=null;for(let s=0;s<t.set.length;++s){const i=t.set[s];let r=null;i.forEach(o=>{const a=new E0(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!r||Ww(a,r))&&(r=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),r&&(!n||Ww(n,r))&&(n=r)}return n&&t.test(n)?n:null};var hN=fN;const pN=Ri(),mN=(t,e)=>{try{return new pN(t,e).range||"*"}catch{return null}};var gN=mN;const _N=us,hA=mg(),{ANY:yN}=hA,bN=Ri(),vN=gg,jw=pg,qw=$b,wN=zb,xN=Bb,SN=(t,e,n,s)=>{t=new _N(t,s),e=new bN(e,s);let i,r,o,a,l;switch(n){case">":i=jw,r=wN,o=qw,a=">",l=">=";break;case"<":i=qw,r=xN,o=jw,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(vN(t,e,s))return!1;for(let c=0;c<e.set.length;++c){const u=e.set[c];let d=null,f=null;if(u.forEach(h=>{h.semver===yN&&(h=new hA(">=0.0.0")),d=d||h,f=f||h,i(h.semver,d.semver,s)?d=h:o(h.semver,f.semver,s)&&(f=h)}),d.operator===a||d.operator===l||(!f.operator||f.operator===a)&&r(t,f.semver))return!1;if(f.operator===l&&o(t,f.semver))return!1}return!0};var Gb=SN;const EN=Gb,TN=(t,e,n)=>EN(t,e,">",n);var MN=TN;const AN=Gb,kN=(t,e,n)=>AN(t,e,"<",n);var RN=kN;const Yw=Ri(),CN=(t,e,n)=>(t=new Yw(t,n),e=new Yw(e,n),t.intersects(e));var ON=CN;const PN=gg,LN=ki;var IN=(t,e,n)=>{const s=[];let i=null,r=null;const o=t.sort((u,d)=>LN(u,d,n));for(const u of o)PN(u,e,n)?(r=u,i||(i=u)):(r&&s.push([i,r]),r=null,i=null);i&&s.push([i,null]);const a=[];for(const[u,d]of s)u===d?a.push(u):!d&&u===o[0]?a.push("*"):d?u===o[0]?a.push(`<=${d}`):a.push(`${u} - ${d}`):a.push(`>=${u}`);const l=a.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return l.length<c.length?l:e};const Kw=Ri(),_p=mg(),{ANY:T0}=_p,Mu=gg,Hb=ki,DN=(t,e,n={})=>{if(t===e)return!0;t=new Kw(t,n),e=new Kw(e,n);let s=!1;e:for(const i of t.set){for(const r of e.set){const o=FN(i,r,n);if(s=s||o!==null,o)continue e}if(s)return!1}return!0},FN=(t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===T0){if(e.length===1&&e[0].semver===T0)return!0;n.includePrerelease?t=[new _p(">=0.0.0-0")]:t=[new _p(">=0.0.0")]}if(e.length===1&&e[0].semver===T0){if(n.includePrerelease)return!0;e=[new _p(">=0.0.0")]}const s=new Set;let i,r;for(const h of t)h.operator===">"||h.operator===">="?i=Xw(i,h,n):h.operator==="<"||h.operator==="<="?r=Zw(r,h,n):s.add(h.semver);if(s.size>1)return null;let o;if(i&&r){if(o=Hb(i.semver,r.semver,n),o>0)return null;if(o===0&&(i.operator!==">="||r.operator!=="<="))return null}for(const h of s){if(i&&!Mu(h,String(i),n)||r&&!Mu(h,String(r),n))return null;for(const _ of e)if(!Mu(h,String(_),n))return!1;return!0}let a,l,c,u,d=r&&!n.includePrerelease&&r.semver.prerelease.length?r.semver:!1,f=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&r.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(const h of e){if(u=u||h.operator===">"||h.operator===">=",c=c||h.operator==="<"||h.operator==="<=",i){if(f&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===f.major&&h.semver.minor===f.minor&&h.semver.patch===f.patch&&(f=!1),h.operator===">"||h.operator===">="){if(a=Xw(i,h,n),a===h&&a!==i)return!1}else if(i.operator===">="&&!Mu(i.semver,String(h),n))return!1}if(r){if(d&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===d.major&&h.semver.minor===d.minor&&h.semver.patch===d.patch&&(d=!1),h.operator==="<"||h.operator==="<="){if(l=Zw(r,h,n),l===h&&l!==r)return!1}else if(r.operator==="<="&&!Mu(r.semver,String(h),n))return!1}if(!h.operator&&(r||i)&&o!==0)return!1}return!(i&&c&&!r&&o!==0||r&&u&&!i&&o!==0||f||d)},Xw=(t,e,n)=>{if(!t)return e;const s=Hb(t.semver,e.semver,n);return s>0?t:s<0||e.operator===">"&&t.operator===">="?e:t},Zw=(t,e,n)=>{if(!t)return e;const s=Hb(t.semver,e.semver,n);return s<0?t:s>0||e.operator==="<"&&t.operator==="<="?e:t};var NN=DN;const M0=$r,UN=dg,$N=us,Jw=cA,BN=eu,zN=$9,GN=G9,HN=V9,VN=X9,WN=Q9,jN=nF,qN=rF,YN=lF,KN=ki,XN=dF,ZN=pF,JN=Ub,QN=yF,eU=wF,tU=pg,nU=$b,sU=Nb,iU=uA,rU=Bb,oU=zb,aU=dA,lU=GF,cU=mg(),uU=Ri(),dU=gg,fU=nN,hU=oN,pU=uN,mU=hN,gU=gN,_U=Gb,yU=MN,bU=RN,vU=ON,wU=IN,xU=NN;var $o={parse:BN,valid:zN,clean:GN,inc:HN,diff:VN,major:WN,minor:jN,patch:qN,prerelease:YN,compare:KN,rcompare:XN,compareLoose:ZN,compareBuild:JN,sort:QN,rsort:eU,gt:tU,lt:nU,eq:sU,neq:iU,gte:rU,lte:oU,cmp:aU,coerce:lU,Comparator:cU,Range:uU,satisfies:dU,toComparators:fU,maxSatisfying:hU,minSatisfying:pU,minVersion:mU,validRange:gU,outside:_U,gtr:yU,ltr:bU,intersects:vU,simplifyRange:wU,subset:xU,SemVer:$N,re:M0.re,src:M0.src,tokens:M0.t,SEMVER_SPEC_VERSION:UN.SEMVER_SPEC_VERSION,compareIdentifiers:Jw.compareIdentifiers,rcompareIdentifiers:Jw.rcompareIdentifiers};function k1(t,e){const n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}class Vb{constructor(){Ke(this,"offset",0);Ke(this,"buf",new ArrayBuffer(4));Ke(this,"view",new DataView(this.buf))}get length(){return this.offset}writeUint8(e){this.grow(),this.view.setUint8(this.offset,e),this.offset++}writeUint8s(e){this.grow(e.length);for(let n=0;n<e.length;n++)this.view.setUint8(this.offset,e[n]),this.offset++}writeFloat32(e){this.grow(4),this.view.setFloat32(this.offset,e),this.offset+=4}array(){return new Uint8Array(this.buf,0,this.offset)}grow(e=1){if(this.offset+e>=this.buf.byteLength){let n=this.buf.byteLength;for(;n<this.offset+e;)n*=2;const s=new ArrayBuffer(n);new Uint8Array(s).set(new Uint8Array(this.buf)),this.buf=s,this.view=new DataView(this.buf)}}}class Qw{constructor(e){Ke(this,"offset",0);Ke(this,"buf",new ArrayBuffer(0));Ke(this,"view",new DataView(this.buf));e&&(this.buf=new ArrayBuffer(e.length),new Uint8Array(this.buf).set(e),this.view=new DataView(this.buf))}advance(e){this.offset+=e}remaining(){return this.buf.byteLength-this.offset}peekUint8(){return this.view.getUint8(this.offset)}peekUint16(){return this.view.getUint16(this.offset)}peekFloat32(){return this.view.getFloat32(this.offset)}peekFloat64(){return this.view.getFloat64(this.offset)}}function Jp(t){return`v${t>>16&255}.${t>>8&255}.${t>>0&255}`}const SU=/(android)/i.test(navigator.userAgent),EU={baudRate:921600,bufferSize:64,updateInterval:1e3},TU={baudRate:921600,bufferSize:4*1024*1024,updateInterval:250},Qp={serial:SU?EU:TU};class ex{constructor(e){Ke(this,"promises",Array());this.permits=e}signal(){this.permits+=1,this.promises.length>0&&this.promises.pop()()}async wait(){this.permits-=1,(this.permits<0||this.promises.length>0)&&await new Promise(e=>this.promises.unshift(e))}}const ea=Qp.serial.bufferSize*2;class MU{constructor(e,n){Ke(this,"_promises",[]);Ke(this,"_resolvers",[]);Ke(this,"_buffer",new Uint8Array(ea));Ke(this,"_head",0);Ke(this,"_tail",0);Ke(this,"_done");Ke(this,"_abort",new AbortController);this.readable=e,this._done=e.pipeTo(new WritableStream({write:this.write.bind(this)},new ByteLengthQueuingStrategy({highWaterMark:1024})),{signal:this._abort.signal}).catch(s=>{s!="close"&&n(s)})}get _read_len(){return(this._head+ea-this._tail)%ea}get _write_len(){return ea-this._read_len}async close(){this._abort.abort("close"),await this._done,this.readable.cancel()}async write(e,n){if((this._head+1)%ea==this._tail||e.length>this._write_len)throw n==null||n.error("queue full"),new Error("queue full");for(const i of e){const r=(this._head+1)%ea;this._buffer[r]=i,this._head=r}const s=this._resolvers.shift();s&&s()}_add(){return this._promises.length||this._promises.push(new Promise(e=>{this._resolvers.push(e)})),this._promises.shift()||Promise.resolve()}async pop(){return(await this.read(1))[0]}async read(e){if(e==0)return new Uint8Array(e);if(this._head==this._tail||this._read_len<e)return this._add().then(()=>this.read(e));const n=new Uint8Array(e);for(let s=0;s<e;s++){const i=(this._tail+1)%ea;n[s]=this._buffer[i],this._tail=i}return n}}var AU={},pA={},mA=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),s=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(s)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var r=Object.getOwnPropertySymbols(e);if(r.length!==1||r[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,n);if(o.value!==i||o.enumerable!==!0)return!1}return!0},kU=mA,_g=function(){return kU()&&!!Symbol.toStringTag},tx=typeof Symbol<"u"&&Symbol,RU=mA,CU=function(){return typeof tx!="function"||typeof Symbol!="function"||typeof tx("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:RU()},OU="Function.prototype.bind called on incompatible ",A0=Array.prototype.slice,PU=Object.prototype.toString,LU="[object Function]",IU=function(e){var n=this;if(typeof n!="function"||PU.call(n)!==LU)throw new TypeError(OU+n);for(var s=A0.call(arguments,1),i,r=function(){if(this instanceof i){var u=n.apply(this,s.concat(A0.call(arguments)));return Object(u)===u?u:this}else return n.apply(e,s.concat(A0.call(arguments)))},o=Math.max(0,n.length-s.length),a=[],l=0;l<o;l++)a.push("$"+l);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(r),n.prototype){var c=function(){};c.prototype=n.prototype,i.prototype=new c,c.prototype=null}return i},DU=IU,Wb=Function.prototype.bind||DU,FU=Wb,NU=FU.call(Function.call,Object.prototype.hasOwnProperty),gt,Oc=SyntaxError,gA=Function,gc=TypeError,k0=function(t){try{return gA('"use strict"; return ('+t+").constructor;")()}catch{}},Fa=Object.getOwnPropertyDescriptor;if(Fa)try{Fa({},"")}catch{Fa=null}var R0=function(){throw new gc},UU=Fa?function(){try{return arguments.callee,R0}catch{try{return Fa(arguments,"callee").get}catch{return R0}}}():R0,xl=CU(),zi=Object.getPrototypeOf||function(t){return t.__proto__},Yl={},$U=typeof Uint8Array>"u"?gt:zi(Uint8Array),Na={"%AggregateError%":typeof AggregateError>"u"?gt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?gt:ArrayBuffer,"%ArrayIteratorPrototype%":xl?zi([][Symbol.iterator]()):gt,"%AsyncFromSyncIteratorPrototype%":gt,"%AsyncFunction%":Yl,"%AsyncGenerator%":Yl,"%AsyncGeneratorFunction%":Yl,"%AsyncIteratorPrototype%":Yl,"%Atomics%":typeof Atomics>"u"?gt:Atomics,"%BigInt%":typeof BigInt>"u"?gt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?gt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?gt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?gt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?gt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?gt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?gt:FinalizationRegistry,"%Function%":gA,"%GeneratorFunction%":Yl,"%Int8Array%":typeof Int8Array>"u"?gt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?gt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?gt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":xl?zi(zi([][Symbol.iterator]())):gt,"%JSON%":typeof JSON=="object"?JSON:gt,"%Map%":typeof Map>"u"?gt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!xl?gt:zi(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?gt:Promise,"%Proxy%":typeof Proxy>"u"?gt:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?gt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?gt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!xl?gt:zi(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?gt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":xl?zi(""[Symbol.iterator]()):gt,"%Symbol%":xl?Symbol:gt,"%SyntaxError%":Oc,"%ThrowTypeError%":UU,"%TypedArray%":$U,"%TypeError%":gc,"%Uint8Array%":typeof Uint8Array>"u"?gt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?gt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?gt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?gt:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?gt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?gt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?gt:WeakSet};try{null.error}catch(t){var BU=zi(zi(t));Na["%Error.prototype%"]=BU}var zU=function t(e){var n;if(e==="%AsyncFunction%")n=k0("async function () {}");else if(e==="%GeneratorFunction%")n=k0("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=k0("async function* () {}");else if(e==="%AsyncGenerator%"){var s=t("%AsyncGeneratorFunction%");s&&(n=s.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&(n=zi(i.prototype))}return Na[e]=n,n},nx={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},xf=Wb,em=NU,GU=xf.call(Function.call,Array.prototype.concat),HU=xf.call(Function.apply,Array.prototype.splice),sx=xf.call(Function.call,String.prototype.replace),tm=xf.call(Function.call,String.prototype.slice),VU=xf.call(Function.call,RegExp.prototype.exec),WU=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,jU=/\\(\\)?/g,qU=function(e){var n=tm(e,0,1),s=tm(e,-1);if(n==="%"&&s!=="%")throw new Oc("invalid intrinsic syntax, expected closing `%`");if(s==="%"&&n!=="%")throw new Oc("invalid intrinsic syntax, expected opening `%`");var i=[];return sx(e,WU,function(r,o,a,l){i[i.length]=a?sx(l,jU,"$1"):o||r}),i},YU=function(e,n){var s=e,i;if(em(nx,s)&&(i=nx[s],s="%"+i[0]+"%"),em(Na,s)){var r=Na[s];if(r===Yl&&(r=zU(s)),typeof r>"u"&&!n)throw new gc("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:s,value:r}}throw new Oc("intrinsic "+e+" does not exist!")},jb=function(e,n){if(typeof e!="string"||e.length===0)throw new gc("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new gc('"allowMissing" argument must be a boolean');if(VU(/^%?[^%]*%?$/,e)===null)throw new Oc("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var s=qU(e),i=s.length>0?s[0]:"",r=YU("%"+i+"%",n),o=r.name,a=r.value,l=!1,c=r.alias;c&&(i=c[0],HU(s,GU([0,1],c)));for(var u=1,d=!0;u<s.length;u+=1){var f=s[u],h=tm(f,0,1),_=tm(f,-1);if((h==='"'||h==="'"||h==="`"||_==='"'||_==="'"||_==="`")&&h!==_)throw new Oc("property names with quotes must have matching quotes");if((f==="constructor"||!d)&&(l=!0),i+="."+f,o="%"+i+"%",em(Na,o))a=Na[o];else if(a!=null){if(!(f in a)){if(!n)throw new gc("base intrinsic for "+e+" exists, but the property is not available.");return}if(Fa&&u+1>=s.length){var p=Fa(a,f);d=!!p,d&&"get"in p&&!("originalValue"in p.get)?a=p.get:a=a[f]}else d=em(a,f),a=a[f];d&&!l&&(Na[o]=a)}}return a},R1={},KU={get exports(){return R1},set exports(t){R1=t}};(function(t){var e=Wb,n=jb,s=n("%Function.prototype.apply%"),i=n("%Function.prototype.call%"),r=n("%Reflect.apply%",!0)||e.call(i,s),o=n("%Object.getOwnPropertyDescriptor%",!0),a=n("%Object.defineProperty%",!0),l=n("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(d){var f=r(e,i,arguments);if(o&&a){var h=o(f,"length");h.configurable&&a(f,"length",{value:1+l(0,d.length-(arguments.length-1))})}return f};var c=function(){return r(e,s,arguments)};a?a(t.exports,"apply",{value:c}):t.exports.apply=c})(KU);var _A=jb,yA=R1,XU=yA(_A("String.prototype.indexOf")),qb=function(e,n){var s=_A(e,!!n);return typeof s=="function"&&XU(e,".prototype.")>-1?yA(s):s},ZU=_g(),JU=qb,C1=JU("Object.prototype.toString"),yg=function(e){return ZU&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:C1(e)==="[object Arguments]"},bA=function(e){return yg(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&C1(e)!=="[object Array]"&&C1(e.callee)==="[object Function]"},QU=function(){return yg(arguments)}();yg.isLegacyArguments=bA;var e$=QU?yg:bA,t$=Object.prototype.toString,n$=Function.prototype.toString,s$=/^\s*(?:function)?\*/,vA=_g(),C0=Object.getPrototypeOf,i$=function(){if(!vA)return!1;try{return Function("return function*() {}")()}catch{}},O0,r$=function(e){if(typeof e!="function")return!1;if(s$.test(n$.call(e)))return!0;if(!vA){var n=t$.call(e);return n==="[object GeneratorFunction]"}if(!C0)return!1;if(typeof O0>"u"){var s=i$();O0=s?C0(s):!1}return C0(e)===O0},wA=Function.prototype.toString,Jl=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,O1,yp;if(typeof Jl=="function"&&typeof Object.defineProperty=="function")try{O1=Object.defineProperty({},"length",{get:function(){throw yp}}),yp={},Jl(function(){throw 42},null,O1)}catch(t){t!==yp&&(Jl=null)}else Jl=null;var o$=/^\s*class\b/,P1=function(e){try{var n=wA.call(e);return o$.test(n)}catch{return!1}},P0=function(e){try{return P1(e)?!1:(wA.call(e),!0)}catch{return!1}},bp=Object.prototype.toString,a$="[object Object]",l$="[object Function]",c$="[object GeneratorFunction]",u$="[object HTMLAllCollection]",d$="[object HTML document.all class]",f$="[object HTMLCollection]",h$=typeof Symbol=="function"&&!!Symbol.toStringTag,p$=!(0 in[,]),L1=function(){return!1};if(typeof document=="object"){var m$=document.all;bp.call(m$)===bp.call(document.all)&&(L1=function(e){if((p$||!e)&&(typeof e>"u"||typeof e=="object"))try{var n=bp.call(e);return(n===u$||n===d$||n===f$||n===a$)&&e("")==null}catch{}return!1})}var g$=Jl?function(e){if(L1(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{Jl(e,null,O1)}catch(n){if(n!==yp)return!1}return!P1(e)&&P0(e)}:function(e){if(L1(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(h$)return P0(e);if(P1(e))return!1;var n=bp.call(e);return n!==l$&&n!==c$&&!/^\[object HTML/.test(n)?!1:P0(e)},_$=g$,y$=Object.prototype.toString,xA=Object.prototype.hasOwnProperty,b$=function(e,n,s){for(var i=0,r=e.length;i<r;i++)xA.call(e,i)&&(s==null?n(e[i],i,e):n.call(s,e[i],i,e))},v$=function(e,n,s){for(var i=0,r=e.length;i<r;i++)s==null?n(e.charAt(i),i,e):n.call(s,e.charAt(i),i,e)},w$=function(e,n,s){for(var i in e)xA.call(e,i)&&(s==null?n(e[i],i,e):n.call(s,e[i],i,e))},x$=function(e,n,s){if(!_$(n))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=s),y$.call(e)==="[object Array]"?b$(e,n,i):typeof e=="string"?v$(e,n,i):w$(e,n,i)},SA=x$,L0=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],S$=typeof globalThis>"u"?Fb:globalThis,EA=function(){for(var e=[],n=0;n<L0.length;n++)typeof S$[L0[n]]=="function"&&(e[e.length]=L0[n]);return e},E$=jb,vp=E$("%Object.getOwnPropertyDescriptor%",!0);if(vp)try{vp([],"length")}catch{vp=null}var TA=vp,MA=SA,T$=EA,Yb=qb,M$=Yb("Object.prototype.toString"),AA=_g(),wp=TA,A$=typeof globalThis>"u"?Fb:globalThis,kA=T$(),k$=Yb("Array.prototype.indexOf",!0)||function(e,n){for(var s=0;s<e.length;s+=1)if(e[s]===n)return s;return-1},R$=Yb("String.prototype.slice"),RA={},I0=Object.getPrototypeOf;AA&&wp&&I0&&MA(kA,function(t){var e=new A$[t];if(Symbol.toStringTag in e){var n=I0(e),s=wp(n,Symbol.toStringTag);if(!s){var i=I0(n);s=wp(i,Symbol.toStringTag)}RA[t]=s.get}});var C$=function(e){var n=!1;return MA(RA,function(s,i){if(!n)try{n=s.call(e)===i}catch{}}),n},CA=function(e){if(!e||typeof e!="object")return!1;if(!AA||!(Symbol.toStringTag in e)){var n=R$(M$(e),8,-1);return k$(kA,n)>-1}return wp?C$(e):!1},OA=SA,O$=EA,PA=qb,D0=TA,P$=PA("Object.prototype.toString"),LA=_g(),ix=typeof globalThis>"u"?Fb:globalThis,L$=O$(),I$=PA("String.prototype.slice"),IA={},F0=Object.getPrototypeOf;LA&&D0&&F0&&OA(L$,function(t){if(typeof ix[t]=="function"){var e=new ix[t];if(Symbol.toStringTag in e){var n=F0(e),s=D0(n,Symbol.toStringTag);if(!s){var i=F0(n);s=D0(i,Symbol.toStringTag)}IA[t]=s.get}}});var D$=function(e){var n=!1;return OA(IA,function(s,i){if(!n)try{var r=s.call(e);r===i&&(n=r)}catch{}}),n},F$=CA,N$=function(e){return F$(e)?!LA||!(Symbol.toStringTag in e)?I$(P$(e),8,-1):D$(e):!1};(function(t){var e=e$,n=r$,s=N$,i=CA;function r(V){return V.call.bind(V)}var o=typeof BigInt<"u",a=typeof Symbol<"u",l=r(Object.prototype.toString),c=r(Number.prototype.valueOf),u=r(String.prototype.valueOf),d=r(Boolean.prototype.valueOf);if(o)var f=r(BigInt.prototype.valueOf);if(a)var h=r(Symbol.prototype.valueOf);function _(V,Ce){if(typeof V!="object")return!1;try{return Ce(V),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=n,t.isTypedArray=i;function p(V){return typeof Promise<"u"&&V instanceof Promise||V!==null&&typeof V=="object"&&typeof V.then=="function"&&typeof V.catch=="function"}t.isPromise=p;function m(V){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(V):i(V)||G(V)}t.isArrayBufferView=m;function y(V){return s(V)==="Uint8Array"}t.isUint8Array=y;function b(V){return s(V)==="Uint8ClampedArray"}t.isUint8ClampedArray=b;function v(V){return s(V)==="Uint16Array"}t.isUint16Array=v;function w(V){return s(V)==="Uint32Array"}t.isUint32Array=w;function S(V){return s(V)==="Int8Array"}t.isInt8Array=S;function x(V){return s(V)==="Int16Array"}t.isInt16Array=x;function T(V){return s(V)==="Int32Array"}t.isInt32Array=T;function E(V){return s(V)==="Float32Array"}t.isFloat32Array=E;function M(V){return s(V)==="Float64Array"}t.isFloat64Array=M;function C(V){return s(V)==="BigInt64Array"}t.isBigInt64Array=C;function A(V){return s(V)==="BigUint64Array"}t.isBigUint64Array=A;function R(V){return l(V)==="[object Map]"}R.working=typeof Map<"u"&&R(new Map);function $(V){return typeof Map>"u"?!1:R.working?R(V):V instanceof Map}t.isMap=$;function F(V){return l(V)==="[object Set]"}F.working=typeof Set<"u"&&F(new Set);function D(V){return typeof Set>"u"?!1:F.working?F(V):V instanceof Set}t.isSet=D;function I(V){return l(V)==="[object WeakMap]"}I.working=typeof WeakMap<"u"&&I(new WeakMap);function B(V){return typeof WeakMap>"u"?!1:I.working?I(V):V instanceof WeakMap}t.isWeakMap=B;function W(V){return l(V)==="[object WeakSet]"}W.working=typeof WeakSet<"u"&&W(new WeakSet);function Y(V){return W(V)}t.isWeakSet=Y;function j(V){return l(V)==="[object ArrayBuffer]"}j.working=typeof ArrayBuffer<"u"&&j(new ArrayBuffer);function pe(V){return typeof ArrayBuffer>"u"?!1:j.working?j(V):V instanceof ArrayBuffer}t.isArrayBuffer=pe;function O(V){return l(V)==="[object DataView]"}O.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&O(new DataView(new ArrayBuffer(1),0,1));function G(V){return typeof DataView>"u"?!1:O.working?O(V):V instanceof DataView}t.isDataView=G;var te=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function H(V){return l(V)==="[object SharedArrayBuffer]"}function z(V){return typeof te>"u"?!1:(typeof H.working>"u"&&(H.working=H(new te)),H.working?H(V):V instanceof te)}t.isSharedArrayBuffer=z;function ge(V){return l(V)==="[object AsyncFunction]"}t.isAsyncFunction=ge;function ue(V){return l(V)==="[object Map Iterator]"}t.isMapIterator=ue;function ve(V){return l(V)==="[object Set Iterator]"}t.isSetIterator=ve;function ye(V){return l(V)==="[object Generator]"}t.isGeneratorObject=ye;function Oe(V){return l(V)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=Oe;function P(V){return _(V,c)}t.isNumberObject=P;function U(V){return _(V,u)}t.isStringObject=U;function ie(V){return _(V,d)}t.isBooleanObject=ie;function oe(V){return o&&_(V,f)}t.isBigIntObject=oe;function he(V){return a&&_(V,h)}t.isSymbolObject=he;function Te(V){return P(V)||U(V)||ie(V)||oe(V)||he(V)}t.isBoxedPrimitive=Te;function ke(V){return typeof Uint8Array<"u"&&(pe(V)||z(V))}t.isAnyArrayBuffer=ke,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(V){Object.defineProperty(t,V,{enumerable:!1,value:function(){throw new Error(V+" is not supported in userland")}})})})(pA);var U$=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"},I1={},rx={get exports(){return I1},set exports(t){I1=t}};typeof Object.create=="function"?rx.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:rx.exports=function(e,n){if(n){e.super_=n;var s=function(){};s.prototype=n.prototype,e.prototype=new s,e.prototype.constructor=e}};(function(t){var e=Object.getOwnPropertyDescriptors||function(G){for(var te=Object.keys(G),H={},z=0;z<te.length;z++)H[te[z]]=Object.getOwnPropertyDescriptor(G,te[z]);return H},n=/%[sdj%]/g;t.format=function(O){if(!S(O)){for(var G=[],te=0;te<arguments.length;te++)G.push(o(arguments[te]));return G.join(" ")}for(var te=1,H=arguments,z=H.length,ge=String(O).replace(n,function(ve){if(ve==="%%")return"%";if(te>=z)return ve;switch(ve){case"%s":return String(H[te++]);case"%d":return Number(H[te++]);case"%j":try{return JSON.stringify(H[te++])}catch{return"[Circular]"}default:return ve}}),ue=H[te];te<z;ue=H[++te])b(ue)||!M(ue)?ge+=" "+ue:ge+=" "+o(ue);return ge},t.deprecate=function(O,G){if(typeof process<"u"&&process.noDeprecation===!0)return O;if(typeof process>"u")return function(){return t.deprecate(O,G).apply(this,arguments)};var te=!1;function H(){if(!te){if(process.throwDeprecation)throw new Error(G);process.traceDeprecation?console.trace(G):console.error(G),te=!0}return O.apply(this,arguments)}return H};var s={},i=/^$/;if({}.NODE_DEBUG){var r={}.NODE_DEBUG;r=r.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+r+"$","i")}t.debuglog=function(O){if(O=O.toUpperCase(),!s[O])if(i.test(O)){var G=process.pid;s[O]=function(){var te=t.format.apply(t,arguments);console.error("%s %d: %s",O,G,te)}}else s[O]=function(){};return s[O]};function o(O,G){var te={seen:[],stylize:l};return arguments.length>=3&&(te.depth=arguments[2]),arguments.length>=4&&(te.colors=arguments[3]),y(G)?te.showHidden=G:G&&t._extend(te,G),T(te.showHidden)&&(te.showHidden=!1),T(te.depth)&&(te.depth=2),T(te.colors)&&(te.colors=!1),T(te.customInspect)&&(te.customInspect=!0),te.colors&&(te.stylize=a),u(te,O,te.depth)}t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(O,G){var te=o.styles[G];return te?"\x1B["+o.colors[te][0]+"m"+O+"\x1B["+o.colors[te][1]+"m":O}function l(O,G){return O}function c(O){var G={};return O.forEach(function(te,H){G[te]=!0}),G}function u(O,G,te){if(O.customInspect&&G&&R(G.inspect)&&G.inspect!==t.inspect&&!(G.constructor&&G.constructor.prototype===G)){var H=G.inspect(te,O);return S(H)||(H=u(O,H,te)),H}var z=d(O,G);if(z)return z;var ge=Object.keys(G),ue=c(ge);if(O.showHidden&&(ge=Object.getOwnPropertyNames(G)),A(G)&&(ge.indexOf("message")>=0||ge.indexOf("description")>=0))return f(G);if(ge.length===0){if(R(G)){var ve=G.name?": "+G.name:"";return O.stylize("[Function"+ve+"]","special")}if(E(G))return O.stylize(RegExp.prototype.toString.call(G),"regexp");if(C(G))return O.stylize(Date.prototype.toString.call(G),"date");if(A(G))return f(G)}var ye="",Oe=!1,P=["{","}"];if(m(G)&&(Oe=!0,P=["[","]"]),R(G)){var U=G.name?": "+G.name:"";ye=" [Function"+U+"]"}if(E(G)&&(ye=" "+RegExp.prototype.toString.call(G)),C(G)&&(ye=" "+Date.prototype.toUTCString.call(G)),A(G)&&(ye=" "+f(G)),ge.length===0&&(!Oe||G.length==0))return P[0]+ye+P[1];if(te<0)return E(G)?O.stylize(RegExp.prototype.toString.call(G),"regexp"):O.stylize("[Object]","special");O.seen.push(G);var ie;return Oe?ie=h(O,G,te,ue,ge):ie=ge.map(function(oe){return _(O,G,te,ue,oe,Oe)}),O.seen.pop(),p(ie,ye,P)}function d(O,G){if(T(G))return O.stylize("undefined","undefined");if(S(G)){var te="'"+JSON.stringify(G).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return O.stylize(te,"string")}if(w(G))return O.stylize(""+G,"number");if(y(G))return O.stylize(""+G,"boolean");if(b(G))return O.stylize("null","null")}function f(O){return"["+Error.prototype.toString.call(O)+"]"}function h(O,G,te,H,z){for(var ge=[],ue=0,ve=G.length;ue<ve;++ue)W(G,String(ue))?ge.push(_(O,G,te,H,String(ue),!0)):ge.push("");return z.forEach(function(ye){ye.match(/^\d+$/)||ge.push(_(O,G,te,H,ye,!0))}),ge}function _(O,G,te,H,z,ge){var ue,ve,ye;if(ye=Object.getOwnPropertyDescriptor(G,z)||{value:G[z]},ye.get?ye.set?ve=O.stylize("[Getter/Setter]","special"):ve=O.stylize("[Getter]","special"):ye.set&&(ve=O.stylize("[Setter]","special")),W(H,z)||(ue="["+z+"]"),ve||(O.seen.indexOf(ye.value)<0?(b(te)?ve=u(O,ye.value,null):ve=u(O,ye.value,te-1),ve.indexOf(`
`)>-1&&(ge?ve=ve.split(`
`).map(function(Oe){return"  "+Oe}).join(`
`).slice(2):ve=`
`+ve.split(`
`).map(function(Oe){return"   "+Oe}).join(`
`))):ve=O.stylize("[Circular]","special")),T(ue)){if(ge&&z.match(/^\d+$/))return ve;ue=JSON.stringify(""+z),ue.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ue=ue.slice(1,-1),ue=O.stylize(ue,"name")):(ue=ue.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ue=O.stylize(ue,"string"))}return ue+": "+ve}function p(O,G,te){var H=O.reduce(function(z,ge){return ge.indexOf(`
`)>=0,z+ge.replace(/\u001b\[\d\d?m/g,"").length+1},0);return H>60?te[0]+(G===""?"":G+`
 `)+" "+O.join(`,
  `)+" "+te[1]:te[0]+G+" "+O.join(", ")+" "+te[1]}t.types=pA;function m(O){return Array.isArray(O)}t.isArray=m;function y(O){return typeof O=="boolean"}t.isBoolean=y;function b(O){return O===null}t.isNull=b;function v(O){return O==null}t.isNullOrUndefined=v;function w(O){return typeof O=="number"}t.isNumber=w;function S(O){return typeof O=="string"}t.isString=S;function x(O){return typeof O=="symbol"}t.isSymbol=x;function T(O){return O===void 0}t.isUndefined=T;function E(O){return M(O)&&F(O)==="[object RegExp]"}t.isRegExp=E,t.types.isRegExp=E;function M(O){return typeof O=="object"&&O!==null}t.isObject=M;function C(O){return M(O)&&F(O)==="[object Date]"}t.isDate=C,t.types.isDate=C;function A(O){return M(O)&&(F(O)==="[object Error]"||O instanceof Error)}t.isError=A,t.types.isNativeError=A;function R(O){return typeof O=="function"}t.isFunction=R;function $(O){return O===null||typeof O=="boolean"||typeof O=="number"||typeof O=="string"||typeof O=="symbol"||typeof O>"u"}t.isPrimitive=$,t.isBuffer=U$;function F(O){return Object.prototype.toString.call(O)}function D(O){return O<10?"0"+O.toString(10):O.toString(10)}var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function B(){var O=new Date,G=[D(O.getHours()),D(O.getMinutes()),D(O.getSeconds())].join(":");return[O.getDate(),I[O.getMonth()],G].join(" ")}t.log=function(){console.log("%s - %s",B(),t.format.apply(t,arguments))},t.inherits=I1,t._extend=function(O,G){if(!G||!M(G))return O;for(var te=Object.keys(G),H=te.length;H--;)O[te[H]]=G[te[H]];return O};function W(O,G){return Object.prototype.hasOwnProperty.call(O,G)}var Y=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(G){if(typeof G!="function")throw new TypeError('The "original" argument must be of type Function');if(Y&&G[Y]){var te=G[Y];if(typeof te!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(te,Y,{value:te,enumerable:!1,writable:!1,configurable:!0}),te}function te(){for(var H,z,ge=new Promise(function(ye,Oe){H=ye,z=Oe}),ue=[],ve=0;ve<arguments.length;ve++)ue.push(arguments[ve]);ue.push(function(ye,Oe){ye?z(ye):H(Oe)});try{G.apply(this,ue)}catch(ye){z(ye)}return ge}return Object.setPrototypeOf(te,Object.getPrototypeOf(G)),Y&&Object.defineProperty(te,Y,{value:te,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(te,e(G))},t.promisify.custom=Y;function j(O,G){if(!O){var te=new Error("Promise was rejected with a falsy value");te.reason=O,O=te}return G(O)}function pe(O){if(typeof O!="function")throw new TypeError('The "original" argument must be of type Function');function G(){for(var te=[],H=0;H<arguments.length;H++)te.push(arguments[H]);var z=te.pop();if(typeof z!="function")throw new TypeError("The last argument must be of type Function");var ge=this,ue=function(){return z.apply(ge,arguments)};O.apply(this,te).then(function(ve){process.nextTick(ue.bind(null,null,ve))},function(ve){process.nextTick(j.bind(null,ve,ue))})}return Object.setPrototypeOf(G,Object.getPrototypeOf(O)),Object.defineProperties(G,e(O)),G}t.callbackify=pe})(AU);const $$={[0]:"trace",[1]:"debug",[2]:"info",[3]:"warning",[4]:"error"};var ts;let ct=(ts=class{static filePath(){return ts.file?ts.file.getPath():void 0}static trace(e,...n){ts.log(0,e,...n)}static debug(e,...n){ts.log(1,e,...n)}static info(e,...n){ts.log(2,e,...n)}static warn(e,...n){ts.log(3,e,...n)}static warning(e,...n){ts.log(3,e,...n)}static error(e,...n){ts.log(4,e,...n)}static logFmtStr(e,n,s){let i="["+$$[e]+"]";for(n&&n.length&&(i+="["+n+"]");typeof s[0]=="string";)i+=s.shift();return i+=" ",i}static logToFile(e,...n){const s=cn();for(const i of n)e+=JSON.stringify(i);ts.file&&ts.file.write(e),s.append_log(e)}static log(e,n,...s){switch(e){case 0:{const i=this.logFmtStr(e,n,s);console.debug(i,...s),this.logToFile(i,s);break}case 1:case 2:{const i=this.logFmtStr(e,n,s);console.log(i,...s),this.logToFile(i,s);break}case 3:{const i=this.logFmtStr(e,n,s);console.warn(i,...s),this.logToFile(i,s);break}case 4:{const i=this.logFmtStr(e,n,s);console.error(i,...s),this.logToFile(i,s);break}}}},Ke(ts,"file",void 0),ts);const DA=5,B$=224,FA=31;function Sl(t){return t<=255?24:t<=65535?25:t<=4294967295?26:27}const NA=new Array(147);for(let t=0;t<256;t++)NA[t]=+("1e"+Math.floor(45.15-t*.30103));class z${constructor(){Ke(this,"buf",new Vb)}encode(e){return this.encodeVal(e),this.buf.array()}encodeVal(e){const n=typeof e;switch(n){case"number":this.encodeNumber(e);break;case"object":e instanceof Uint8Array?this.encodeByteString(e):Array.isArray(e)?this.encodeArray(e):this.encodeObject(e);break;case"string":this.encodeString(e);break;default:ct.error("unhandled type",n);break}}encodeNumber(e){if(e>>>0===e)this.encodeRaw(0,e,Sl(e));else if(e>>0===e){const n=-e-1;this.encodeRaw(1,n,Sl(n))}else this.encodeHeader(7,26),this.buf.writeFloat32(e)}encodeObject(e){const n=Object.entries(e);this.encodeRaw(5,n.length,Sl(n.length));for(const[s,i]of n)this.encode(s),this.encode(i)}encodeArray(e){this.encodeRaw(4,e.length,Sl(e.length));for(const n of e)this.encode(n)}encodeString(e){this.encodeRaw(3,e.length,Sl(e.length));for(let n=0;n<e.length;n++)this.buf.writeUint8(e.charCodeAt(n))}encodeByteString(e){this.encodeRaw(2,e.length,Sl(e.length));for(let n=0;n<e.length;n++)this.buf.writeUint8(e[n])}encodeRaw(e,n,s){if(s==24&&n<24)return this.encodeHeader(e,n);this.encodeHeader(e,s);const i=1<<s-24;for(let r=i-1;r>=0;r--)this.buf.writeUint8(n>>r*8&255)}encodeHeader(e,n){return this.buf.writeUint8(e<<DA|n&FA)}}class G${constructor(e){Ke(this,"buf",new Qw);this.buf=new Qw(e)}isEOF(){return this.buf.remaining()==0}decode(){const{type:e,max:n}=this.decodeType();switch(this.buf.advance(1),e){case 0:return this.decodeRaw(n);case 1:return-1-this.decodeRaw(n);case 5:return this.decodeMap(n);case 4:return this.decodeArray(n);case 2:{const s=this.decodeRaw(n);if(this.buf.remaining()<s)throw new Error("EOF");const i=new Uint8Array(s);for(let r=0;r<s;r++)i[r]=this.buf.peekUint8(),this.buf.advance(1);return i}case 3:{const s=this.decodeRaw(n);if(this.buf.remaining()<s)throw new Error("EOF");let i="";for(let r=0;r<s;r++)i+=String.fromCharCode(this.buf.peekUint8()),this.buf.advance(1);return i}case 7:return this.decodeFloat(n);default:ct.error("unhandled type",e);break}}decodeArray(e){const n=this.decodeEntriesLeft(e),s=[];for(let i=0;i<n();i++)s.push(this.decode());return s}decodeMap(e){const n=this.decodeEntriesLeft(e),s={};for(let i=0;i<n();i++){const r=this.decode(),o=this.decode();s[r]=o}return s}decodeEntriesLeft(e){let n=0;return e!=31&&(n=this.decodeRaw(e)),()=>{if(n)return n;if(this.buf.remaining()<=0)return 0;const{type:s,max:i}=this.decodeType();return s==7&&i==31?(this.buf.advance(1),0):1/0}}decodeSimpleValue(e){switch(e){case 20:return!1;case 21:return!1;case 22:return null;case 23:return;default:return e}}decodeFloat16(e){const n=(e&31744)>>10,s=e&1023;return(e>>15?-1:1)*(n?n===31?s?NaN:1/0:Math.pow(2,n-15)*(1+s/1024):6103515625e-14*(s/1024))}decodeFloat(e){switch(e){case 24:{const n=this.decodeSimpleValue(this.buf.peekUint8());return this.buf.advance(1),n}case 25:{const n=this.buf.peekUint16();return this.buf.advance(2),this.decodeFloat16(n)}case 26:{const n=[this.buf.peekUint8(),this.buf.peekUint8(),this.buf.peekUint8(),this.buf.peekUint8()],s=this.buf.peekFloat32();this.buf.advance(4);const i=NA[(n[0]&127)<<1|n[1]>>7];return(i*s+(s>0?.5:-.5)>>0)/i}case 27:{const n=this.buf.peekFloat64();return this.buf.advance(8),n}default:{if(e<24)return this.decodeSimpleValue(e);throw new Error("wrong size "+e+" on float")}}}decodeRaw(e){if(e<24)return e;const n=1<<e-24;if(this.buf.remaining()<n)throw new Error("EOF");let s=0;for(let i=n-1;i>=0;i--){const r=this.buf.peekUint8();this.buf.advance(1),s|=r<<i*8}return s>>>0}decodeType(){if(this.buf.remaining()<=0)throw new Error("EOF");const e=this.buf.peekUint8();return{type:(e&B$)>>DA,max:e&FA}}}class H${encode(e){return new z$().encode(e)}decodeMultiple(e){const n=[],s=new G$(e);for(;!s.isEOF();)try{n.push(s.decode())}catch(i){if(i.message!="EOF")throw i}return n}}var UA={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serial=t.SerialPort=t.SerialPolyfillProtocol=void 0;var e;(function(S){S[S.UsbCdcAcm=0]="UsbCdcAcm"})(e=t.SerialPolyfillProtocol||(t.SerialPolyfillProtocol={}));const n=32,s=34,i=35,r=255,o=8,a="none",l=1,c=[16,8,7,6,5],u=[1,2],d=["none","even","odd"],f=["none","odd","even"],h=[1,1.5,2],_={protocol:e.UsbCdcAcm,usbControlInterfaceClass:2,usbTransferInterfaceClass:10};function p(S,x){const T=S.configurations[0];for(const E of T.interfaces)if(E.alternates[0].interfaceClass===x)return E;throw new TypeError(`Unable to find interface with class ${x}.`)}function m(S,x){const T=S.alternates[0];for(const E of T.endpoints)if(E.direction==x)return E;throw new TypeError(`Interface ${S.interfaceNumber} does not have an ${x} endpoint.`)}class y{constructor(x,T,E){this.type="bytes",this.device_=x,this.endpoint_=T,this.onError_=E}pull(x){(async()=>{var T;let E;if(x.desiredSize){const M=x.desiredSize/this.endpoint_.packetSize;E=Math.ceil(M)*this.endpoint_.packetSize}else E=this.endpoint_.packetSize;try{const M=await this.device_.transferIn(this.endpoint_.endpointNumber,E);if(M.status!="ok"&&(x.error(`USB error: ${M.status}`),this.onError_()),!((T=M.data)===null||T===void 0)&&T.buffer){const C=new Uint8Array(M.data.buffer,M.data.byteOffset,M.data.byteLength);x.enqueue(C)}}catch(M){x.error(M.toString()),this.onError_()}})()}}class b{constructor(x,T,E){this.device_=x,this.endpoint_=T,this.onError_=E}async write(x,T){try{const E=await this.device_.transferOut(this.endpoint_.endpointNumber,x);E.status!="ok"&&(T.error(E.status),this.onError_())}catch(E){T.error(E.toString()),this.onError_()}}}class v{constructor(x,T){this.polyfillOptions_=Object.assign(Object.assign({},_),T),this.outputSignals_={dataTerminalReady:!1,requestToSend:!1,break:!1},this.device_=x,this.controlInterface_=p(this.device_,this.polyfillOptions_.usbControlInterfaceClass),this.transferInterface_=p(this.device_,this.polyfillOptions_.usbTransferInterfaceClass),this.inEndpoint_=m(this.transferInterface_,"in"),this.outEndpoint_=m(this.transferInterface_,"out")}get readable(){var x;return!this.readable_&&this.device_.opened&&(this.readable_=new ReadableStream(new y(this.device_,this.inEndpoint_,()=>{this.readable_=null}),{highWaterMark:(x=this.serialOptions_.bufferSize)!==null&&x!==void 0?x:r})),this.readable_}get writable(){var x;return!this.writable_&&this.device_.opened&&(this.writable_=new WritableStream(new b(this.device_,this.outEndpoint_,()=>{this.writable_=null}),new ByteLengthQueuingStrategy({highWaterMark:(x=this.serialOptions_.bufferSize)!==null&&x!==void 0?x:r}))),this.writable_}async open(x){this.serialOptions_=x,this.validateOptions();try{await this.device_.open(),this.device_.configuration===null&&await this.device_.selectConfiguration(1),await this.device_.claimInterface(this.controlInterface_.interfaceNumber),this.controlInterface_!==this.transferInterface_&&await this.device_.claimInterface(this.transferInterface_.interfaceNumber),await this.setLineCoding(),await this.setSignals({dataTerminalReady:!0})}catch(T){throw this.device_.opened&&await this.device_.close(),new Error("Error setting up device: "+T.toString())}}async close(){const x=[];this.readable_&&x.push(this.readable_.cancel()),this.writable_&&x.push(this.writable_.abort()),await Promise.all(x),this.readable_=null,this.writable_=null,this.device_.opened&&(await this.setSignals({dataTerminalReady:!1,requestToSend:!1}),await this.device_.close())}async forget(){return this.device_.forget()}getInfo(){return{usbVendorId:this.device_.vendorId,usbProductId:this.device_.productId}}reconfigure(x){return this.serialOptions_=Object.assign(Object.assign({},this.serialOptions_),x),this.validateOptions(),this.setLineCoding()}async setSignals(x){if(this.outputSignals_=Object.assign(Object.assign({},this.outputSignals_),x),x.dataTerminalReady!==void 0||x.requestToSend!==void 0){const T=(this.outputSignals_.dataTerminalReady?1:0)|(this.outputSignals_.requestToSend?2:0);await this.device_.controlTransferOut({requestType:"class",recipient:"interface",request:s,value:T,index:this.controlInterface_.interfaceNumber})}if(x.break!==void 0){const T=this.outputSignals_.break?65535:0;await this.device_.controlTransferOut({requestType:"class",recipient:"interface",request:i,value:T,index:this.controlInterface_.interfaceNumber})}}validateOptions(){if(!this.isValidBaudRate(this.serialOptions_.baudRate))throw new RangeError("invalid Baud Rate "+this.serialOptions_.baudRate);if(!this.isValidDataBits(this.serialOptions_.dataBits))throw new RangeError("invalid dataBits "+this.serialOptions_.dataBits);if(!this.isValidStopBits(this.serialOptions_.stopBits))throw new RangeError("invalid stopBits "+this.serialOptions_.stopBits);if(!this.isValidParity(this.serialOptions_.parity))throw new RangeError("invalid parity "+this.serialOptions_.parity)}isValidBaudRate(x){return x%1===0}isValidDataBits(x){return typeof x>"u"?!0:c.includes(x)}isValidStopBits(x){return typeof x>"u"?!0:u.includes(x)}isValidParity(x){return typeof x>"u"?!0:d.includes(x)}async setLineCoding(){var x,T,E;const M=new ArrayBuffer(7),C=new DataView(M);if(C.setUint32(0,this.serialOptions_.baudRate,!0),C.setUint8(4,h.indexOf((x=this.serialOptions_.stopBits)!==null&&x!==void 0?x:l)),C.setUint8(5,f.indexOf((T=this.serialOptions_.parity)!==null&&T!==void 0?T:a)),C.setUint8(6,(E=this.serialOptions_.dataBits)!==null&&E!==void 0?E:o),(await this.device_.controlTransferOut({requestType:"class",recipient:"interface",request:n,value:0,index:this.controlInterface_.interfaceNumber},M)).status!="ok")throw new DOMException("NetworkError","Failed to set line coding.")}}t.SerialPort=v;class w{async requestPort(x,T){T=Object.assign(Object.assign({},_),T);const E=[];if(x&&x.filters)for(const A of x.filters){const R={classCode:T.usbControlInterfaceClass};A.usbVendorId!==void 0&&(R.vendorId=A.usbVendorId),A.usbProductId!==void 0&&(R.productId=A.usbProductId),E.push(R)}E.length===0&&E.push({classCode:T.usbControlInterfaceClass});const M=await navigator.usb.requestDevice({filters:E});return new v(M,T)}async getPorts(x){x=Object.assign(Object.assign({},_),x);const T=await navigator.usb.getDevices(),E=[];return T.forEach(M=>{try{const C=new v(M,x);E.push(C)}catch{}}),E}}t.serial=new w})(UA);function V$(){return navigator.serial?navigator.serial:UA.serial}const W$=V$(),j$="S".charCodeAt(0),q$="R".charCodeAt(0),Y$=[{usbVendorId:1155,usbProductId:22336}];let K$=class{constructor(){Ke(this,"cbor",new H$);Ke(this,"shouldRun",!0);Ke(this,"reSync",!0);Ke(this,"waitingCommands",new ex(1));Ke(this,"port");Ke(this,"writer");Ke(this,"reader")}async connect(e=console.warn){try{return await this._connectPort(e),await this.get(xn.Info)}catch(n){throw await this.close(),n}}async _connectPort(e=console.warn){this.port=await W$.requestPort({filters:Y$}),this.waitingCommands=new ex(1),await this.port.open({baudRate:Qp.serial.baudRate,bufferSize:Qp.serial.bufferSize,flowControl:"none"}),this.writer=await this.port.writable.getWriter(),this.reader=new MU(this.port.readable,e),this.shouldRun=!0}async softReboot(){await this.write(new Uint8Array([j$]))}async hardReboot(){if(this.port)throw new Error("port already connected");await this._connectPort(),await this.write(new Uint8Array([q$])),await this.close()}async get(e){const n=await this.command(Vn.Get,e);if(n.payload[0]!=e)throw new Error("invalid value");if(n.payload.length<2)throw new Error("no payload");return n.payload.length==2?n.payload[1]:n.payload.slice(1)}async set(e,...n){const s=await this.command(Vn.Set,e,...n);if(s.payload[0]!=e)throw new Error("invalid value");if(s.payload.length<2)throw new Error("no payload");return s.payload.length==2?s.payload[1]:s.payload.slice(1)}async command(e,...n){return this.commandProgress(e,()=>{},...n)}async commandProgress(e,n,...s){const i=await this.send(e,n,...s);if(i.cmd!=e)throw new Error("invalid command");if(i.flag&gp.Error)throw new Error(i.payload[0]);return i}async close(){var e,n;if(this.reSync=!0,this.shouldRun=!1,this.reader)try{await((e=this.reader)==null?void 0:e.close())}catch(s){ct.warn("serial",s)}if(this.writer)try{await this.writer.releaseLock()}catch(s){ct.warn("serial",s)}try{await((n=this.port)==null?void 0:n.close())}catch(s){ct.warn("serial",s)}this.reader=void 0,this.writer=void 0,this.port=void 0}async send(e,n,...s){await this.waitingCommands.wait();try{return await this._send(e,n,...s)}finally{this.waitingCommands.signal()}}async _send(e,n,...s){const i=this.encodeValues(s),r=Uint8Array.from([kw,e,i.length>>8&255,i.length&255]);ct.trace("serial","[quic] sent cmd: %d len: %d",e,i.length,s),await this.write(k1(r,i));let o=await this.readPacket(n);for(;o.cmd==Vn.Log;)ct.info("serial","[quic] "+o.payload[0]),o=await this.readPacket(n);return ct.trace("serial","[quic] recv cmd: %d flag: %d len: %d",o.cmd,o.flag,o.len,o.payload),o}async write(e){this.writer&&await this.writer.write(e)}encodeValues(e){let n=new Uint8Array;for(const s of e){const i=this.cbor.encode(s);n=k1(n,i)}return n}async readHeader(){for(;this.shouldRun;){const n=await this.reader.pop();if(n===kw){this.reSync=!1;break}if(!this.reSync)throw this.reSync=!0,console.log("invalid magic "+n),new Error("invalid magic "+n)}const e=await this.reader.read(x9-1);return{cmd:e[0]&31,flag:e[0]>>5,len:e[1]<<8|e[2]}}async readPacket(e){const n=await this.readHeader();if(n.cmd>=Vn.Max||n.cmd==Vn.Invalid)throw new Error("invalid command");if(!(n.flag&gp.Streaming)){const r=Uint8Array.from(await this.reader.read(n.len));e(r.length);let o=[];return n.len&&(o=this.cbor.decodeMultiple(r)),{...n,payload:o}}const s=new Vb;for(s.writeUint8s(await this.reader.read(n.len)),ct.trace("serial","[quic] recv stream chunk",s.length),e(s.length);s;){const r=await this.readHeader();if(r.cmd!=n.cmd||!(r.flag&gp.Streaming))throw new Error("invalid command");if(r.len==0)break;const o=await this.reader.read(r.len);s.writeUint8s(o),ct.trace("serial","[quic] recv stream chunk",s.length),e(s.length)}const i=this.cbor.decodeMultiple(s.array());return{...n,payload:i}}};const yt=new K$,cn=cs("root",{state:()=>({needs_apply:!1,needs_reboot:!1,log:[],alerts:[],pid_rate_presets:[]}),actions:{append_log(t){this.log.length<500?this.log=[...this.log,t]:this.log=[t]},clear_log(){this.log=[]},append_alert(t){this.alerts=[...this.alerts,{id:Date.now().toString()+"-"+this.alerts.length.toString(),...t}]},pop_alert(t){this.alerts=[...this.alerts.filter(e=>e.id!=t)]},set_needs_apply(){this.needs_apply=!0},set_needs_reboot(){this.needs_apply=!0,this.needs_reboot=!0},reset_needs_apply(){this.needs_apply=!1},reset_needs_reboot(){this.needs_apply=!1,this.needs_reboot=!1},fetch_pid_rate_presets(){return yt.get(xn.PidRatePresets).then(t=>this.pid_rate_presets=t)},cal_imu(){return yt.command(Vn.CalImu)},cal_sticks(){return yt.command(Vn.CalSticks)}}}),X$=Ye({name:"AlterPortal",setup(){return{root:cn()}},data(){return{timeouts:{}}},watch:{"root.alerts"(t,e){if(t.length<=e.length)return;const n=t[t.length-1].id;this.timeouts[n]=window.setTimeout(()=>{this.root.pop_alert(n),delete this.timeouts[n]},2500)}},methods:{dismiss(t){clearTimeout(this.timeouts[t]),this.root.pop_alert(t),delete this.timeouts[t]}}});const tt=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},Z$={class:"alert-portal"},J$=["onClick"];function Q$(t,e,n,s,i,r){return Q(),se("div",Z$,[X(JO,{name:"alert",tag:"div"},{default:Je(()=>[(Q(!0),se(Ze,null,$t(t.root.alerts,o=>(Q(),se("div",{key:o.id,class:Xs(["notification",["is-"+o.type]])},[g("button",{class:"delete",onClick:a=>t.dismiss(o.id)},null,8,J$),_e(" "+Fe(o.msg),1)],2))),128))]),_:1})])}const eB=tt(X$,[["render",Q$]]),tB=Ye({name:"ModalPortal"}),nB={class:"modal-portal"},sB={key:0,class:"modal is-active"},iB=g("div",{class:"modal-background"},null,-1);function rB(t,e,n,s,i,r){return Q(),se("div",nB,[_e(Fe(t.$modal.isShown)+" ",1),t.$modal.isShown?(Q(),se("div",sB,[iB,(Q(),rn(ZC(t.$modal.component),Ym(t.$modal.props,{onClose:e[0]||(e[0]=o=>t.$modal.close(o))}),null,16))])):We("",!0)])}const oB=tt(tB,[["render",rB]]),aB=Ye({name:"SelectModal",props:["options","title"],data(){return{value:void 0}}});const lB={class:"modal-card"},cB={class:"modal-card-head"},uB={class:"modal-card-title"},dB={class:"modal-card-body"},fB={class:"select is-fullwidth is-multiple select-list"},hB={class:"control"},pB=["value"],mB={class:"modal-card-foot"},gB=["disabled"];function _B(t,e,n,s,i,r){return Q(),se("div",lB,[g("header",cB,[g("p",uB,"Select "+Fe(t.title),1),g("button",{class:"delete has-background-primary","aria-label":"close",onClick:e[0]||(e[0]=o=>t.$emit("close"))})]),g("section",dB,[g("div",fB,[g("div",hB,[Ge(g("select",{size:"8","onUpdate:modelValue":e[1]||(e[1]=o=>t.value=o)},[(Q(!0),se(Ze,null,$t(t.options,o=>(Q(),se("option",{key:o.value,value:o.value},Fe(o.text),9,pB))),128))],512),[[Xm,t.value]])])])]),g("footer",mB,[g("button",{class:"button",onClick:e[2]||(e[2]=o=>t.$emit("close"))},"Cancel"),g("button",{class:"button is-success",onClick:e[3]||(e[3]=o=>t.$emit("close",t.value)),disabled:t.value==null}," Select ",8,gB)])])}const ox=tt(aB,[["render",_B]]);var $A=(t=>(t[t.BRUSHLESS=2]="BRUSHLESS",t[t.OSD=4]="OSD",t[t.BLACKBOX=8]="BLACKBOX",t[t.DEBUG=16]="DEBUG",t))($A||{}),BA=(t=>(t[t.ROTATE_NONE=0]="ROTATE_NONE",t[t.ROTATE_45_CCW=1]="ROTATE_45_CCW",t[t.ROTATE_45_CW=2]="ROTATE_45_CW",t[t.ROTATE_90_CW=4]="ROTATE_90_CW",t[t.ROTATE_90_CCW=8]="ROTATE_90_CCW",t[t.ROTATE_180=16]="ROTATE_180",t[t.FLIP_180=32]="FLIP_180",t))(BA||{}),zA=(t=>(t[t.INVALID=0]="INVALID",t[t.MPU6000=1]="MPU6000",t[t.MPU6500=2]="MPU6500",t[t.ICM20601=3]="ICM20601",t[t.ICM20602=4]="ICM20602",t[t.ICM20608=5]="ICM20608",t[t.ICM20649=6]="ICM20649",t[t.ICM20689=7]="ICM20689",t[t.ICM42605=8]="ICM42605",t[t.ICM42688P=9]="ICM42688P",t[t.BMI270=10]="BMI270",t))(zA||{}),GA=(t=>(t[t.CHANNEL_5=0]="CHANNEL_5",t[t.CHANNEL_6=1]="CHANNEL_6",t[t.CHANNEL_7=2]="CHANNEL_7",t[t.CHANNEL_8=3]="CHANNEL_8",t[t.CHANNEL_9=4]="CHANNEL_9",t[t.CHANNEL_10=5]="CHANNEL_10",t[t.CHANNEL_11=6]="CHANNEL_11",t[t.CHANNEL_12=7]="CHANNEL_12",t[t.CHANNEL_13=8]="CHANNEL_13",t[t.CHANNEL_14=9]="CHANNEL_14",t[t.CHANNEL_15=10]="CHANNEL_15",t[t.CHANNEL_16=11]="CHANNEL_16",t[t.OFF=12]="OFF",t[t.ON=13]="ON",t[t.AUX_GESTURE=14]="AUX_GESTURE",t))(GA||{}),HA=(t=>(t[t.AUX_ARMING=0]="AUX_ARMING",t[t.AUX_IDLE_UP=1]="AUX_IDLE_UP",t[t.AUX_LEVELMODE=2]="AUX_LEVELMODE",t[t.AUX_RACEMODE=3]="AUX_RACEMODE",t[t.AUX_HORIZON=4]="AUX_HORIZON",t[t.AUX_STICK_BOOST_PROFILE=5]="AUX_STICK_BOOST_PROFILE",t[t._AUX_RATE_PROFILE=6]="_AUX_RATE_PROFILE",t[t.AUX_BUZZER_ENABLE=7]="AUX_BUZZER_ENABLE",t[t.AUX_TURTLE=8]="AUX_TURTLE",t[t.AUX_MOTOR_TEST=9]="AUX_MOTOR_TEST",t[t.AUX_RSSI=10]="AUX_RSSI",t[t.AUX_FPV_SWITCH=11]="AUX_FPV_SWITCH",t[t.AUX_BLACKBOX=12]="AUX_BLACKBOX",t))(HA||{}),VA=(t=>(t[t.AUX_ARMING=0]="AUX_ARMING",t[t.AUX_IDLE_UP=1]="AUX_IDLE_UP",t[t.AUX_LEVELMODE=2]="AUX_LEVELMODE",t[t.AUX_RACEMODE=3]="AUX_RACEMODE",t[t.AUX_HORIZON=4]="AUX_HORIZON",t[t.AUX_STICK_BOOST_PROFILE=5]="AUX_STICK_BOOST_PROFILE",t[t._AUX_RATE_PROFILE=6]="_AUX_RATE_PROFILE",t[t.AUX_BUZZER_ENABLE=7]="AUX_BUZZER_ENABLE",t[t.AUX_TURTLE=8]="AUX_TURTLE",t[t.AUX_MOTOR_TEST=9]="AUX_MOTOR_TEST",t[t.AUX_RSSI=10]="AUX_RSSI",t[t.AUX_FPV_SWITCH=11]="AUX_FPV_SWITCH",t[t.AUX_BLACKBOX=12]="AUX_BLACKBOX",t[t.AUX_PREARM=13]="AUX_PREARM",t))(VA||{}),WA=(t=>(t[t.INVALID=0]="INVALID",t[t.UNIFIED_SERIAL=1]="UNIFIED_SERIAL",t[t.SBUS=2]="SBUS",t[t.CRSF=3]="CRSF",t[t.IBUS=4]="IBUS",t[t.FPORT=5]="FPORT",t[t.DSMX_2048=6]="DSMX_2048",t[t.DSM2_1024=7]="DSM2_1024",t[t.NRF24_BAYANG_TELEMETRY=8]="NRF24_BAYANG_TELEMETRY",t[t.BAYANG_PROTOCOL_BLE_BEACON=9]="BAYANG_PROTOCOL_BLE_BEACON",t[t.BAYANG_PROTOCOL_TELEMETRY_AUTOBIND=10]="BAYANG_PROTOCOL_TELEMETRY_AUTOBIND",t[t.FRSKY_D8=11]="FRSKY_D8",t[t.FRSKY_D16=12]="FRSKY_D16",t[t.REDPINE=13]="REDPINE",t[t.EXPRESS_LRS=14]="EXPRESS_LRS",t))(WA||{}),jA=(t=>(t[t.INVALID=0]="INVALID",t[t.UNIFIED_SERIAL=1]="UNIFIED_SERIAL",t[t.SBUS=2]="SBUS",t[t.CRSF=3]="CRSF",t[t.IBUS=4]="IBUS",t[t.FPORT=5]="FPORT",t[t.DSM=6]="DSM",t[t.NRF24_BAYANG_TELEMETRY=7]="NRF24_BAYANG_TELEMETRY",t[t.BAYANG_PROTOCOL_BLE_BEACON=8]="BAYANG_PROTOCOL_BLE_BEACON",t[t.BAYANG_PROTOCOL_TELEMETRY_AUTOBIND=9]="BAYANG_PROTOCOL_TELEMETRY_AUTOBIND",t[t.FRSKY_D8=10]="FRSKY_D8",t[t.FRSKY_D16=11]="FRSKY_D16",t[t.REDPINE=12]="REDPINE",t[t.EXPRESS_LRS=13]="EXPRESS_LRS",t))(jA||{}),qA=(t=>(t[t.INVALID=0]="INVALID",t[t.UNIFIED_SERIAL=1]="UNIFIED_SERIAL",t[t.SBUS=2]="SBUS",t[t.CRSF=3]="CRSF",t[t.IBUS=4]="IBUS",t[t.FPORT=5]="FPORT",t[t.DSM=6]="DSM",t[t.NRF24_BAYANG_TELEMETRY=7]="NRF24_BAYANG_TELEMETRY",t[t.BAYANG_PROTOCOL_BLE_BEACON=8]="BAYANG_PROTOCOL_BLE_BEACON",t[t.BAYANG_PROTOCOL_TELEMETRY_AUTOBIND=9]="BAYANG_PROTOCOL_TELEMETRY_AUTOBIND",t[t.FRSKY_D8=10]="FRSKY_D8",t[t.FRSKY_D16_FCC=11]="FRSKY_D16_FCC",t[t.FRSKY_D16_LBT=12]="FRSKY_D16_LBT",t[t.REDPINE=13]="REDPINE",t[t.EXPRESS_LRS=14]="EXPRESS_LRS",t[t.FLYSKY_AFHDS=15]="FLYSKY_AFHDS",t[t.FLYSKY_AFHDS2A=16]="FLYSKY_AFHDS2A",t))(qA||{}),YA=(t=>(t[t.INVALID=0]="INVALID",t[t.DSM=1]="DSM",t[t.SBUS=2]="SBUS",t[t.IBUS=3]="IBUS",t[t.FPORT=4]="FPORT",t[t.CRSF=5]="CRSF",t[t.REDPINE=6]="REDPINE",t[t.SBUS_INVERTED=7]="SBUS_INVERTED",t[t.FPORT_INVERTED=8]="FPORT_INVERTED",t[t.REDPINE_INVERTED=9]="REDPINE_INVERTED",t))(YA||{}),Ql=(t=>(t[t.STICK_WIZARD_INACTIVE=0]="STICK_WIZARD_INACTIVE",t[t.STICK_WIZARD_SUCCESS=1]="STICK_WIZARD_SUCCESS",t[t.STICK_WIZARD_FAILED=2]="STICK_WIZARD_FAILED",t[t.STICK_WIZARD_START=3]="STICK_WIZARD_START",t[t.STICK_WIZARD_CAPTURE_STICKS=4]="STICK_WIZARD_CAPTURE_STICKS",t[t.STICK_WIZARD_WAIT_FOR_CONFIRM=5]="STICK_WIZARD_WAIT_FOR_CONFIRM",t[t.STICK_WIZARD_CONFIRMED=6]="STICK_WIZARD_CONFIRMED",t[t.STICK_WIZARD_TIMEOUT=7]="STICK_WIZARD_TIMEOUT",t))(Ql||{}),KA=(t=>(t[t.FAILLOOP_NONE=0]="FAILLOOP_NONE",t[t.FAILLOOP_LOW_BATTERY=2]="FAILLOOP_LOW_BATTERY",t[t.FAILLOOP_RADIO=3]="FAILLOOP_RADIO",t[t.FAILLOOP_GYRO=4]="FAILLOOP_GYRO",t[t.FAILLOOP_FAULT=5]="FAILLOOP_FAULT",t[t.FAILLOOP_LOOPTIME=6]="FAILLOOP_LOOPTIME",t[t.FAILLOOP_SPI=7]="FAILLOOP_SPI",t[t.FAILLOOP_SPI_MAIN=8]="FAILLOOP_SPI_MAIN",t))(KA||{}),Ve=(t=>(t[t.LOOP=0]="LOOP",t[t.TIME=1]="TIME",t[t.PID_P_TERM=2]="PID_P_TERM",t[t.PID_I_TERM=3]="PID_I_TERM",t[t.PID_D_TERM=4]="PID_D_TERM",t[t.RX=5]="RX",t[t.SETPOINT=6]="SETPOINT",t[t.ACCEL_RAW=7]="ACCEL_RAW",t[t.ACCEL_FILTER=8]="ACCEL_FILTER",t[t.GYRO_RAW=9]="GYRO_RAW",t[t.GYRO_FILTER=10]="GYRO_FILTER",t[t.MOTOR=11]="MOTOR",t[t.CPU_LOAD=12]="CPU_LOAD",t[t.DEBUG=13]="DEBUG",t))(Ve||{});const yB={[0]:"",[2]:"low battery at powerup - currently unused",[3]:"radio chip not found",[4]:"gyro not found",[5]:"clock, intterrupts, systick, gcc bad code, bad memory access (code issues like bad pointers) - this should not come up",[6]:"loop time issue - if loop time exceeds 20mS",[7]:"spi error  - triggered by hardware spi driver only",[8]:"spi error main loop  - triggered by hardware spi driver only"},ll=cs("constant",{state:()=>({Features:$A,GyroType:zA,GyroRotation:BA,AuxChannels:GA,RXSerialProtocol:YA,StickWizardState:Ql,Failloop:KA}),getters:{RXProtocol(){const t=Yn();return $o.gt(t.quic_protocol_semver,"0.1.0")?qA:t.quic_protocol_version>5?jA:WA},AuxFunctions(){const t=Yn();return $o.gt(t.quic_protocol_semver,"0.1.0")?VA:HA}},actions:{}}),Ps=cs("state",{state:()=>({looptime_autodetect:0,cpu_load:0,cpu_temp:0,vbat_filtered:0,vbattfilt:null,ibat_filtered:0,rx:[],rx_filtered:[],rx_status:0,rx_rssi:0,GEstG:null,accel:null,aux:[],stick_calibration_wizard:0,failloop:0,pidoutput:null,accel_raw:null,gyro:null,gyro_raw:null}),getters:{vbat(t){return t.vbattfilt||t.vbat_filtered},failloopMessage(t){return yB[t.failloop]}},actions:{fetch_state(){return yt.get(xn.State).then(t=>this.$patch(t)).catch(t=>ct.warn("state",t))}}});function bg(t){return t!==String(parseFloat(t))}function bB(t){return Object.getOwnPropertyNames(t).filter(function(e){return t.propertyIsEnumerable(e)&&bg(e)})}function vB(t){return Object.keys(t).filter(bg)}function wB(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&t.propertyIsEnumerable(n)&&bg(n)&&e.push(n);return e}var xB=Object.getOwnPropertyNames?bB:Object.keys?vB:wB,XA=function(){function t(e){this.enumObj=e,this.keysList=Object.freeze(xB(e));for(var n=this.keysList.length,s=new Array(n),i=new Map,r=0;r<n;++r){var o=this.keysList[r],a=e[o];s[r]=a,i.set(a,o),this[r]=Object.freeze([o,a])}this.valuesList=Object.freeze(s),this.keysByValueMap=i,this.size=this.length=n,Object.freeze(this)}return t.prototype.toString=function(){return"[object EnumWrapper]"},t.prototype.keys=function(){var e,n=this,s=0;return e={next:function(){var i=s>=n.length,r={done:i,value:n.keysList[s]};return++s,r}},e[Symbol.iterator]=function(){return this},e},t.prototype.values=function(){var e,n=this,s=0;return e={next:function(){var i=s>=n.length,r={done:i,value:n.valuesList[s]};return++s,r}},e[Symbol.iterator]=function(){return this},e},t.prototype.entries=function(){var e,n=this,s=0;return e={next:function(){var i=s>=n.length,r={done:i,value:n[s]};return++s,r}},e[Symbol.iterator]=function(){return this},e},t.prototype[Symbol.iterator]=function(){return this.entries()},t.prototype.forEach=function(e,n){for(var s=this.length,i=0;i<s;++i){var r=this[i];e.call(n,r[1],r[0],this,i)}},t.prototype.map=function(e,n){for(var s=this.length,i=new Array(s),r=0;r<s;++r){var o=this[r];i[r]=e.call(n,o[1],o[0],this,r)}return i},t.prototype.getKeys=function(){return this.keysList.slice()},t.prototype.getValues=function(){return this.valuesList.slice()},t.prototype.getEntries=function(){return Array.prototype.slice.call(this)},t.prototype.indexOfKey=function(e){return this.keysList.indexOf(e)},t.prototype.indexOfValue=function(e){return this.valuesList.indexOf(e)},t.prototype.isKey=function(e){return e!=null&&bg(e)&&this.enumObj.hasOwnProperty(e)},t.prototype.asKeyOrThrow=function(e){if(this.isKey(e))return e;throw new Error("Unexpected key: "+e+". Expected one of: "+this.getValues())},t.prototype.asKeyOrDefault=function(e,n){return this.isKey(e)?e:n},t.prototype.isValue=function(e){return e!=null&&this.keysByValueMap.has(e)},t.prototype.asValueOrThrow=function(e){if(this.isValue(e))return e;throw new Error("Unexpected value: "+e+". Expected one of: "+this.getValues())},t.prototype.asValueOrDefault=function(e,n){return this.isValue(e)?e:n},t.prototype.getKeyOrThrow=function(e){var n=e!=null?this.keysByValueMap.get(e):void 0;if(n!=null)return n;throw new Error("Unexpected value: "+e+". Expected one of: "+this.getValues())},t.prototype.getKeyOrDefault=function(e,n){var s=e!=null?this.keysByValueMap.get(e):void 0;return s??n},t.prototype.getValueOrThrow=function(e){return this.enumObj[this.asKeyOrThrow(e)]},t.prototype.getValueOrDefault=function(e,n){return this.isKey(e)?this.enumObj[e]:n},t}();XA.prototype[Symbol.toStringTag]="EnumWrapper";var Kb=Symbol("ts-enum-util:unhandledEntry"),Bd=Symbol("ts-enum-util:handleNull"),zd=Symbol("ts-enum-util:handleUndefined"),Rs=Symbol("ts-enum-util:handleUnexpected");function ZA(t){return new Error("Unhandled value: "+t)}var SB=function(){function t(e){this.value=e}return t.prototype.with=function(e){if(e.hasOwnProperty(this.value)){var n=e[this.value];return Pc(n,this.value)}else{if(e[Rs])return Pc(e[Rs],this.value);throw new Error("Unexpected value: "+this.value)}},t}(),EB=function(){function t(){}return t.prototype.with=function(e){if(e[Bd])return Pc(e[Bd],null);if(e[Rs])return Pc(e[Rs],null);throw new Error("Unexpected value: null")},t}(),TB=function(){function t(){}return t.prototype.with=function(e){if(e[zd])return Pc(e[zd],void 0);if(e[Rs])return Pc(e[Rs],void 0);throw new Error("Unexpected value: undefined")},t}();function Pc(t,e){if(t===Kb)throw ZA(e);return t(e)}var MB=function(){function t(e){this.value=e}return t.prototype.with=function(e){if(e.hasOwnProperty(this.value))return Lc(e[this.value],this.value);if(e.hasOwnProperty(Rs))return Lc(e[Rs],this.value);throw new Error("Unexpected value: "+this.value)},t}(),AB=function(){function t(){}return t.prototype.with=function(e){if(e.hasOwnProperty(Bd))return Lc(e[Bd],null);if(e.hasOwnProperty(Rs))return Lc(e[Rs],null);throw new Error("Unexpected value: null")},t}(),kB=function(){function t(){}return t.prototype.with=function(e){if(e.hasOwnProperty(zd))return Lc(e[zd],void 0);if(e.hasOwnProperty(Rs))return Lc(e[Rs],void 0);throw new Error("Unexpected value: undefined")},t}();function Lc(t,e){if(t===Kb)throw ZA(e);return t}function RB(t){return t===null?new EB:t===void 0?new TB:new SB(t)}function CB(t){return t===null?new AB:t===void 0?new kB:new MB(t)}var ax=new WeakMap;function Cs(t){var e=ax.get(t);return e||(e=new XA(t),ax.set(t,e)),e}Cs.handleNull=Bd;Cs.handleUndefined=zd;Cs.handleUnexpected=Rs;Cs.unhandledEntry=Kb;Cs.visitValue=RB;Cs.mapValue=CB;const Yn=cs("info",{state:()=>({usart_ports:[],motor_pins:[],target_name:"",git_version:"",quic_protocol_version:0,quic_protocol_semver:"v0.0.0",gyro_id:0,gyro_name:"",rx_protocol:0,rx_protocols:[],features:0}),getters:{has_feature(t){return e=>t.features==null?!0:t.features&e},quicVersionGt(t){return e=>$o.gt(t.quic_protocol_semver,e)},is_read_only(t){const e=Ps();return t.quic_protocol_version<5||e.failloop>0}},actions:{set_info(t){this.$patch(t),this.quic_protocol_version&&(this.quic_protocol_semver=Jp(this.quic_protocol_version));const e=ll();this.gyro_name=Cs(e.GyroType).getKeys()[this.gyro_id]}}}),Sf=cs("default_profile",{state:()=>({serial:{rx:0,smart_audio:0,hdzero:0},filter:{gyro:[{},{}],dterm:[{},{}]},osd:{callsign:"",elements:[],elements_hd:[]},meta:{version:0,datetime:0},motor:{invert_yaw:1},rate:{mode:0,silverware:{},betaflight:{}},voltage:{},receiver:{lqi_source:-1,aux:[]},pid:{pid_profile:0,pid_rates:[{}],stick_profile:0,stick_rates:[{}],big_angle:{},small_angle:{},throttle_dterm_attenuation:{}}}),getters:{has_legacy_stickrates(t){return $o.lte(Jp(t.meta.version),"v0.1.0")},has_legacy_osd(t){return $o.lte(Jp(t.meta.version),"v0.1.0")}},actions:{fetch_default_profile(){return yt.get(xn.DefaultProfile).then(t=>{t.meta.name=t.meta.name.replace(/\0/g,""),this.$patch(t)})}}});function nm(t,e){for(const[n,s]of Object.entries(e))s!==null&&typeof s=="object"?(t[n]===void 0&&(t[n]=new s.__proto__.constructor),nm(t[n],s)):t[n]=s;return t}function xp(t,e,n){return t<<16|e<<8|n}function lx(t){return t=t||xp(0,1,0),t<xp(0,1,0)&&(t=xp(0,1,0)),t}function OB(t,e){var n,s,i,r,o,a,l;switch(e){case xp(0,1,0):{const c={mode:0,rate:[((n=t.rate.silverware)==null?void 0:n.max_rate)||[860,860,500],((s=t.rate.silverware)==null?void 0:s.acro_expo)||[.8,.8,.6],((i=t.rate.silverware)==null?void 0:i.angle_expo)||[.55,0,.55]]},u={mode:1,rate:[((r=t.rate.betaflight)==null?void 0:r.rc_rate)||[1.3,1.3,1.3],((o=t.rate.betaflight)==null?void 0:o.super_rate)||[.7,.7,.7],((a=t.rate.betaflight)==null?void 0:a.expo)||[.4,.4,.4]]};t.rate.profile=0,t.rate.mode==0?t.rate.rates=[c,u]:t.rate.rates=[u,c];break}}return t.meta.name&&(t.meta.name=t.meta.name.replace(/\0/g,"")),(l=t.osd)!=null&&l.callsign&&(t.osd.callsign=t.osd.callsign.replace(/\0/g,"")),t}function N0(t){var r,o;const e=Sf(),n=lx((r=e==null?void 0:e.meta)==null?void 0:r.version),s=lx((o=t==null?void 0:t.meta)==null?void 0:o.version);let i=JSON.parse(JSON.stringify(t));return i.meta||(i.meta={}),n!=s&&(i=OB(i,s)),i.meta.datetime=Math.floor(Date.now()/1e3),i}const jt=cs("profile",{state:()=>({semver:"v0.0.0",serial:{rx:0,smart_audio:0,hdzero:0},filter:{gyro:[{},{}],dterm:[{},{}]},osd:{callsign:"",elements:[],elements_hd:[]},meta:{name:"",datetime:0},motor:{gyro_orientation:0,invert_yaw:1,motor_pins:[]},rate:{mode:0,profile:0,silverware:{},betaflight:{},low_rate_mulitplier:0,level_max_angle:0,sticks_deadband:0,rates:[],throttle_expo:0,throttle_mid:0},voltage:{},receiver:{lqi_source:-1,channel_mapping:0,aux:[],protocol:0},pid:{pid_profile:0,pid_rates:[{}],stick_profile:0,stick_rates:[{}],big_angle:{},small_angle:{},throttle_dterm_attenuation:{}},blackbox:{field_flags:0,sample_rate_hz:0}}),getters:{current_pid_rate:t=>t.pid.pid_rates[t.pid.pid_profile],current_stick_rate:t=>t.pid.stick_rates[t.pid.stick_profile],profileVersionGt(t){return e=>$o.gt(t.semver,e)}},actions:{set_profile(t){t.semver=Jp(t.meta.version),t.meta.name=t.meta.name.replace(/\0/g,""),this.$patch(t)},set_current_pid_rate(t){const e=[...this.pid.pid_rates];e[this.pid.pid_profile]=t,this.pid={...this.pid,pid_rates:e}},set_current_stick_rate(t){const e=[...this.pid.stick_rates];e[this.pid.stick_profile]=t,this.pid={...this.pid,stick_rates:e}},set_osd_elements(t){this.osd={...this.osd,elements:t}},set_osd_elements_hd(t){this.osd={...this.osd,elements_hd:t}},reset(){const t=Sf();return this.apply_profile(t.$state)},fetch_profile(){return yt.get(xn.Profile).then(t=>this.set_profile(t))},async merge_profile(t){const e=N0(await yt.get(xn.Profile)),n=N0(t),s=nm(e,n);return this.apply_profile(s)},apply_profile(t){const e=cn(),n=N0(t);return yt.set(xn.Profile,n).then(s=>this.set_profile(s)).then(()=>e.append_alert({type:"success",msg:"Profile applied!"})).then(()=>e.reset_needs_apply()).catch(s=>{ct.error(s),e.append_alert({type:"danger",msg:"Apply failed! "+s})})}}}),D1=cs("vtx",{state:()=>({settings:{protocol:0,detected:0,channel:0,band:0,power_table:{levels:0,labels:[],values:[]}}}),actions:{apply_vtx_settings(t){const e=cn();if(t.power_table)for(let n=0;n<t.power_table.labels.length;n++)for(;t.power_table.labels[n].length<3;)t.power_table.labels[n]+=" ";return yt.set(xn.VtxSettings,t).then(n=>this.settings=n).then(()=>{e.append_alert({type:"success",msg:"Apply successful!"})}).catch(()=>{e.append_alert({type:"danger",msg:"Apply failed"})})},update_vtx_settings(t=!1){if(this.settings.detected==0||t)return yt.get(xn.VtxSettings).then(e=>{const n=e.detected==0?this.settings.protocol:e.protocol;this.settings={...e,protocol:n}})}}}),JA=cs("perf",{state:()=>({counters:[]}),actions:{fetch_perf_counters(){return yt.get(xn.PerfCounters).then(t=>this.counters=t)}}}),QA=cs("bind",{state:()=>({info:{bind_saved:0,raw:new Uint8Array}}),actions:{fetch_bind_info(){return yt.get(xn.BindInfo).then(t=>this.info=t)},apply_bind_info(t){const e=cn();return yt.set(xn.BindInfo,t).then(n=>this.info=n).then(()=>e.set_needs_reboot()).then(()=>e.append_alert({type:"success",msg:"Bind info applied!"})).catch(n=>{ct.error(n),e.append_alert({type:"danger",msg:"Apply failed! "+n})})}}}),PB=Ye({name:"Motor",setup(){return{profile:jt(),info:Yn(),constants:ll()}},data(){return{invertYawModes:[{value:0,text:"Props In"},{value:1,text:"Props Out"}],dshotTimes:[{value:150,text:"150"},{value:300,text:"300"},{value:600,text:"600"}]}},computed:{gyroOrientation:{get(){return this.profile.motor.gyro_orientation&31},set(t){this.profile.motor.gyro_orientation=t|(this.gyroFlip?this.constants.GyroRotation.FLIP_180:0)}},gyroOrientations(){return[{value:this.constants.GyroRotation.ROTATE_NONE,text:"ROTATE_NONE"},{value:this.constants.GyroRotation.ROTATE_45_CCW,text:"ROTATE_45_CCW"},{value:this.constants.GyroRotation.ROTATE_45_CW,text:"ROTATE_45_CW"},{value:this.constants.GyroRotation.ROTATE_90_CW,text:"ROTATE_90_CW"},{value:this.constants.GyroRotation.ROTATE_90_CCW,text:"ROTATE_90_CCW"},{value:this.constants.GyroRotation.ROTATE_90_CCW|this.constants.GyroRotation.ROTATE_45_CCW,text:"ROTATE_135_CW"},{value:this.constants.GyroRotation.ROTATE_90_CW|this.constants.GyroRotation.ROTATE_45_CW,text:"ROTATE_135_CCW"},{value:this.constants.GyroRotation.ROTATE_180,text:"ROTATE_180"}]},gyroFlip:{get(){return(this.profile.motor.gyro_orientation&this.constants.GyroRotation.FLIP_180)>0},set(t){this.profile.motor.gyro_orientation=this.gyroOrientation|(t?this.constants.GyroRotation.FLIP_180:0)}}}}),LB={class:"card"},IB=g("header",{class:"card-header"},[g("p",{class:"card-header-title"},"Motor")],-1),DB={class:"card-content"},FB={class:"content column-narrow field-is-5"},NB={class:"columns"},UB={class:"column is-6"},$B={class:"field is-horizontal"},BB={class:"field-label"},zB={class:"label"},GB={class:"field-body"},HB={class:"field"},VB={class:"control is-expanded"},WB={class:"field is-horizontal"},jB={class:"field-label"},qB={class:"label"},YB={class:"field-body"},KB={class:"field"},XB={class:"control is-expanded"},ZB={key:0,class:"field is-horizontal"},JB={class:"field-label"},QB={class:"label"},ez={class:"field-body"},tz={class:"field"},nz={class:"control is-expanded"},sz={class:"field is-horizontal"},iz={class:"field-label"},rz={class:"label"},oz={class:"field-body"},az={class:"field"},lz={class:"control is-expanded"},cz=g("label",{class:"py-0",style:{height:"2em"},for:"gyro-flip"},null,-1),uz={class:"field is-horizontal"},dz={class:"field-label"},fz={class:"label"},hz={class:"field-body"},pz={class:"field"},mz={class:"control is-expanded"},gz={class:"column is-6"},_z={class:"field is-horizontal"},yz={class:"field-label"},bz={class:"label"},vz={class:"field-body"},wz={class:"field"},xz={class:"control is-expanded"},Sz={class:"field is-horizontal"},Ez={class:"field-label"},Tz={class:"label"},Mz={class:"field-body"},Az={class:"field"},kz={class:"control is-expanded"},Rz={class:"field is-horizontal"},Cz={class:"field-label"},Oz={class:"label"},Pz={class:"field-body"},Lz={class:"field"},Iz={class:"control is-expanded"},Dz={key:0,class:"field is-horizontal"},Fz={class:"field-label"},Nz={class:"label"},Uz={class:"field-body"},$z={class:"field"},Bz={class:"control is-expanded"};function zz(t,e,n,s,i,r){const o=Ae("tooltip"),a=Ae("input-select");return Q(),se("div",LB,[IB,g("div",DB,[g("div",FB,[g("div",NB,[g("div",UB,[g("div",$B,[g("div",BB,[g("label",zB,[_e(" Invert Yaw "),X(o,{entry:"motor.invert_yaw"})])]),g("div",GB,[g("div",HB,[g("div",VB,[X(a,{id:"invert-yaw",class:"is-fullwidth",modelValue:t.profile.motor.invert_yaw,"onUpdate:modelValue":e[0]||(e[0]=l=>t.profile.motor.invert_yaw=l),modelModifiers:{number:!0},options:t.invertYawModes},null,8,["modelValue","options"])])])])]),g("div",WB,[g("div",jB,[g("label",qB,[_e(" Digital Idle "),X(o,{entry:"motor.digital_idle"})])]),g("div",YB,[g("div",KB,[g("div",XB,[Ge(g("input",{class:"input",id:"digital-idle",type:"number",step:"0.1",min:"0",max:"1","onUpdate:modelValue":e[1]||(e[1]=l=>t.profile.motor.digital_idle=l)},null,512),[[Xe,t.profile.motor.digital_idle,void 0,{number:!0}]])])])])]),t.info.quic_protocol_version>1&&t.info.has_feature(t.constants.Features.BRUSHLESS)?(Q(),se("div",ZB,[g("div",JB,[g("label",QB,[_e(" DShot Time "),X(o,{entry:"motor.dshot_time"})])]),g("div",ez,[g("div",tz,[g("div",nz,[X(a,{id:"dshot-time",class:"is-fullwidth",modelValue:t.profile.motor.dshot_time,"onUpdate:modelValue":e[2]||(e[2]=l=>t.profile.motor.dshot_time=l),options:t.dshotTimes},null,8,["modelValue","options"])])])])])):We("",!0),g("div",sz,[g("div",iz,[g("label",rz,[_e(" Flip Gyro "),X(o,{entry:"motor.flip_gyro"})])]),g("div",oz,[g("div",az,[g("div",lz,[Ge(g("input",{type:"checkbox",class:"switch",id:"gyro-flip","onUpdate:modelValue":e[3]||(e[3]=l=>t.gyroFlip=l)},null,512),[[XM,t.gyroFlip]]),cz])])])]),g("div",uz,[g("div",dz,[g("label",fz,[_e(" Gyro Orientation "),X(o,{entry:"motor.gyro_orientation"})])]),g("div",hz,[g("div",pz,[g("div",mz,[X(a,{class:"is-fullwidth",id:"gyro-orientation",modelValue:t.gyroOrientation,"onUpdate:modelValue":e[4]||(e[4]=l=>t.gyroOrientation=l),options:t.gyroOrientations},null,8,["modelValue","options"])])])])])]),g("div",gz,[g("div",_z,[g("div",yz,[g("label",bz,[_e(" Torque Boost "),X(o,{entry:"motor.torque_boost"})])]),g("div",vz,[g("div",wz,[g("div",xz,[Ge(g("input",{class:"input",id:"torque-boost",type:"number",step:"0.1",min:"0","onUpdate:modelValue":e[5]||(e[5]=l=>t.profile.motor.torque_boost=l)},null,512),[[Xe,t.profile.motor.torque_boost,void 0,{number:!0}]])])])])]),g("div",Sz,[g("div",Ez,[g("label",Tz,[_e(" Throttle Boost "),X(o,{entry:"motor.throttle_boost"})])]),g("div",Mz,[g("div",Az,[g("div",kz,[Ge(g("input",{class:"input",id:"throttle-boost",type:"number",step:"0.1",min:"0","onUpdate:modelValue":e[6]||(e[6]=l=>t.profile.motor.throttle_boost=l)},null,512),[[Xe,t.profile.motor.throttle_boost,void 0,{number:!0}]])])])])]),g("div",Rz,[g("div",Cz,[g("label",Oz,[_e(" Turtle Throttle Percent "),X(o,{entry:"motor.turtle_throttle_percent"})])]),g("div",Pz,[g("div",Lz,[g("div",Iz,[Ge(g("input",{class:"input",id:"turtle-throttle-percent",type:"number",step:"1",min:"0",max:"100","onUpdate:modelValue":e[7]||(e[7]=l=>t.profile.motor.turtle_throttle_percent=l)},null,512),[[Xe,t.profile.motor.turtle_throttle_percent,void 0,{number:!0}]])])])])]),t.profile.profileVersionGt("0.2.0")?(Q(),se("div",Dz,[g("div",Fz,[g("label",Nz,[_e(" Motor Limit Percent "),X(o,{entry:"motor.motor_limit"})])]),g("div",Uz,[g("div",$z,[g("div",Bz,[Ge(g("input",{class:"input",id:"motor-limit-percent",type:"number",step:"1",min:"0",max:"100","onUpdate:modelValue":e[8]||(e[8]=l=>t.profile.motor.motor_limit=l)},null,512),[[Xe,t.profile.motor.motor_limit,void 0,{number:!0}]])])])])])):We("",!0)])])])])])}const Gz=tt(PB,[["render",zz]]),Hz=Ye({name:"voltage",data(){return{pidVoltageCompensationOptions:[{value:0,text:"Off"},{value:1,text:"On"}]}},setup(){return{profile:jt(),state:Ps()}},computed:{pid_voltage_compensation:{get(){return this.profile.voltage.pid_voltage_compensation},set(t){this.profile.voltage.pid_voltage_compensation=t?1:0}}}}),Vz={class:"card"},Wz={class:"card-header"},jz=g("p",{class:"card-header-title"},"Voltage",-1),qz={class:"card-header-icon"},Yz={class:"card-content"},Kz={class:"content column-narrow field-is-5"},Xz={class:"field is-horizontal"},Zz={class:"field-label"},Jz={class:"label"},Qz={class:"field-body"},eG={class:"field"},tG={class:"control is-expanded"},nG={class:"field is-horizontal"},sG={class:"field-label"},iG={class:"label"},rG={class:"field-body"},oG={class:"field"},aG={class:"control is-expanded"},lG={class:"field is-horizontal"},cG={class:"field-label"},uG={class:"label"},dG={class:"field-body"},fG={class:"field"},hG={class:"control is-expanded"},pG={class:"field is-horizontal"},mG={class:"field-label"},gG={class:"label"},_G={class:"field-body"},yG={class:"field"},bG={class:"control is-expanded"},vG={class:"field is-horizontal"},wG={class:"field-label"},xG={class:"label"},SG={class:"field-body"},EG={class:"field"},TG={class:"control is-expanded"},MG={class:"field is-horizontal"},AG={class:"field-label"},kG={class:"label"},RG={class:"field-body"},CG={class:"field"},OG={class:"control is-expanded"};function PG(t,e,n,s,i,r){const o=Ae("tooltip"),a=Ae("input-select");return Q(),se("div",Vz,[g("header",Wz,[jz,g("small",qz,Fe(t.state.vbat.toFixed(2))+"V "+Fe(t.state.ibat_filtered.toFixed(2))+"mA ",1)]),g("div",Yz,[g("div",Kz,[g("div",Xz,[g("div",Zz,[g("label",Jz,[_e(" LipoCellCount "),X(o,{entry:"voltage.lipo_cell_count"})])]),g("div",Qz,[g("div",eG,[g("div",tG,[Ge(g("input",{class:"input",id:"lipo-cell-count",type:"number",step:"1",min:"0","onUpdate:modelValue":e[0]||(e[0]=l=>t.profile.voltage.lipo_cell_count=l)},null,512),[[Xe,t.profile.voltage.lipo_cell_count,void 0,{number:!0}]])])])])]),g("div",nG,[g("div",sG,[g("label",iG,[_e(" PidVoltageCompensation "),X(o,{entry:"voltage.pid_voltage_compensation"})])]),g("div",rG,[g("div",oG,[g("div",aG,[X(a,{class:"is-fullwidth",modelValue:t.profile.voltage.pid_voltage_compensation,"onUpdate:modelValue":e[1]||(e[1]=l=>t.profile.voltage.pid_voltage_compensation=l),modelModifiers:{number:!0},options:t.pidVoltageCompensationOptions},null,8,["modelValue","options"])])])])]),g("div",lG,[g("div",cG,[g("label",uG,[_e(" VBattLow "),X(o,{entry:"voltage.vbattlow"})])]),g("div",dG,[g("div",fG,[g("div",hG,[Ge(g("input",{class:"input",id:"vbattlow",type:"number",step:"0.1",min:"0","onUpdate:modelValue":e[2]||(e[2]=l=>t.profile.voltage.vbattlow=l)},null,512),[[Xe,t.profile.voltage.vbattlow,void 0,{number:!0}]])])])])]),g("div",pG,[g("div",mG,[g("label",gG,[_e(" ActualBatteryVoltage "),X(o,{entry:"voltage.actual_battery_voltage"})])]),g("div",_G,[g("div",yG,[g("div",bG,[Ge(g("input",{class:"input",id:"actual-battery-voltage",type:"number",step:"0.1",min:"0","onUpdate:modelValue":e[3]||(e[3]=l=>t.profile.voltage.actual_battery_voltage=l)},null,512),[[Xe,t.profile.voltage.actual_battery_voltage,void 0,{number:!0}]])])])])]),g("div",vG,[g("div",wG,[g("label",xG,[_e(" ReportedTelemetryVoltage "),X(o,{entry:"voltage.reported_telemetry_voltage"})])]),g("div",SG,[g("div",EG,[g("div",TG,[Ge(g("input",{class:"input",id:"reported-telemetry-voltage",type:"number",step:"0.1",min:"0","onUpdate:modelValue":e[4]||(e[4]=l=>t.profile.voltage.reported_telemetry_voltage=l)},null,512),[[Xe,t.profile.voltage.reported_telemetry_voltage,void 0,{number:!0}]])])])])]),g("div",MG,[g("div",AG,[g("label",kG,[_e(" Current Meter Scale "),X(o,{entry:"voltage.ibat_scale"})])]),g("div",RG,[g("div",CG,[g("div",OG,[Ge(g("input",{class:"input",id:"ibat_scale",type:"number",step:"1",min:"0","onUpdate:modelValue":e[5]||(e[5]=l=>t.profile.voltage.ibat_scale=l)},null,512),[[Xe,t.profile.voltage.ibat_scale,void 0,{number:!0}]])])])])])])])])}const LG=tt(Hz,[["render",PG]]),IG=Ye({name:"serial",setup(){return{info:Yn(),root:cn(),profile:jt()}},computed:{serialPorts(){const t=[{value:0,text:"None"}];for(let e=1;e<this.info.usart_ports.length;e++)t.push({value:e,text:this.info.usart_ports[e]});return t}},watch:{"profile.serial":{handler(){this.root.set_needs_reboot()},deep:!0}}}),DG={class:"card"},FG=g("header",{class:"card-header"},[g("p",{class:"card-header-title"},"Serial")],-1),NG={class:"card-content"},UG={class:"content column-narrow field-is-5"},$G={class:"field is-horizontal"},BG={class:"field-label"},zG={class:"label"},GG={class:"field-body"},HG={class:"field"},VG={class:"control is-expanded"},WG={class:"field is-horizontal"},jG={class:"field-label"},qG={class:"label"},YG={class:"field-body"},KG={class:"field"},XG={class:"control is-expanded"},ZG={class:"field is-horizontal"},JG={class:"field-label"},QG={class:"label"},eH={class:"field-body"},tH={class:"field"},nH={class:"control is-expanded"};function sH(t,e,n,s,i,r){const o=Ae("tooltip"),a=Ae("input-select");return Q(),se("div",DG,[FG,g("div",NG,[g("div",UG,[g("div",$G,[g("div",BG,[g("label",zG,[_e(" RX "),X(o,{entry:"serial.rx"})])]),g("div",GG,[g("div",HG,[g("div",VG,[X(a,{class:"is-fullwidth",id:"rx",modelValue:t.profile.serial.rx,"onUpdate:modelValue":e[0]||(e[0]=l=>t.profile.serial.rx=l),modelModifiers:{number:!0},options:t.serialPorts},null,8,["modelValue","options"])])])])]),g("div",WG,[g("div",jG,[g("label",qG,[_e(" VTX "),X(o,{entry:"serial.smart_audio"})])]),g("div",YG,[g("div",KG,[g("div",XG,[X(a,{class:"is-fullwidth",id:"smart-audio",modelValue:t.profile.serial.smart_audio,"onUpdate:modelValue":e[1]||(e[1]=l=>t.profile.serial.smart_audio=l),modelModifiers:{number:!0},options:t.serialPorts},null,8,["modelValue","options"])])])])]),g("div",ZG,[g("div",JG,[g("label",QG,[_e(" Digital VTX "),X(o,{entry:"serial.digital_vtx"})])]),g("div",eH,[g("div",tH,[g("div",nH,[X(a,{class:"is-fullwidth",id:"digital_vtx",modelValue:t.profile.serial.hdzero,"onUpdate:modelValue":e[2]||(e[2]=l=>t.profile.serial.hdzero=l),modelModifiers:{number:!0},options:t.serialPorts},null,8,["modelValue","options"])])])])])])])])}const iH=tt(IG,[["render",sH]]),rH=Ye({name:"vtx",setup(){return{vtx:D1(),info:Yn()}},data(){return{protocolNames:["INVALID","TRAMP","SMARTAUDIO","MSP_VTX"],frequencyTable:[[5865,5845,5825,5805,5785,5765,5745,5725],[5733,5752,5771,5790,5809,5828,5847,5866],[5705,5685,5665,5645,5885,5905,5925,5945],[5740,5760,5780,5800,5820,5840,5860,5880],[5658,5695,5732,5769,5806,5843,5880,5917],[5333,5373,5413,5453,5493,5533,5573,5613]]}},computed:{displayValueEdit(){return this.vtx.settings.protocol==1},vtxProtocolOptions(){const t=[{value:0,text:"AUTO"},{value:1,text:"TRAMP"},{value:2,text:"SMARTAUDIO"}];return this.info.quicVersionGt("0.1.1")&&t.push({value:3,text:"MSP_VTX"}),t},vtxBandOptions(){const t=[{value:0,text:"VTX_BAND_A"},{value:1,text:"VTX_BAND_B"},{value:2,text:"VTX_BAND_E"},{value:3,text:"VTX_BAND_F"},{value:4,text:"VTX_BAND_R"}];return this.info.quicVersionGt("0.1.1")&&t.push({value:5,text:"VTX_BAND_L"}),t},vtxPowerLevelOptions(){if(this.vtx.settings.power_table)return this.vtx.settings.power_table.labels.map((e,n)=>({value:n,text:e}));const t=[{value:0,text:"VTX_POWER_LEVEL_1"},{value:1,text:"VTX_POWER_LEVEL_2"},{value:2,text:"VTX_POWER_LEVEL_3"},{value:3,text:"VTX_POWER_LEVEL_4"}];return this.info.quicVersionGt("0.1.1")&&t.push({value:4,text:"VTX_POWER_LEVEL_5"}),t},vtxChannelOptions(){return[{value:0,text:"VTX_CHANNEL_1"},{value:1,text:"VTX_CHANNEL_2"},{value:2,text:"VTX_CHANNEL_3"},{value:3,text:"VTX_CHANNEL_4"},{value:4,text:"VTX_CHANNEL_5"},{value:5,text:"VTX_CHANNEL_6"},{value:6,text:"VTX_CHANNEL_7"},{value:7,text:"VTX_CHANNEL_8"}]},vtxPitModeOptions(){return[{value:0,text:"Off"},{value:1,text:"On"}]}},created(){this.vtx.update_vtx_settings(!0)}}),oH={class:"card"},aH=g("header",{class:"card-header"},[g("p",{class:"card-header-title"},"VTX")],-1),lH={class:"card-content"},cH={class:"content columns"},uH={class:"column field-is-3"},dH={class:"field is-horizontal"},fH=g("div",{class:"field-label"},[g("label",{class:"label"},"Protocol")],-1),hH={class:"field-body"},pH={class:"field"},mH={class:"control is-expanded"},gH={class:"field is-horizontal"},_H=g("div",{class:"field-label"},[g("label",{class:"label"},"Frequency")],-1),yH={class:"field-body"},bH={class:"field"},vH={class:"control is-expanded"},wH={class:"field is-horizontal"},xH=g("div",{class:"field-label"},[g("label",{class:"label"},"Band")],-1),SH={class:"field-body"},EH={class:"field"},TH={class:"control is-expanded"},MH={class:"field is-horizontal"},AH=g("div",{class:"field-label"},[g("label",{class:"label"},"Channel")],-1),kH={class:"field-body"},RH={class:"field"},CH={class:"control is-expanded"},OH={key:0,class:"field is-horizontal"},PH=g("div",{class:"field-label"},[g("label",{class:"label"},"Pit Mode")],-1),LH={class:"field-body"},IH={class:"field"},DH={class:"control is-expanded"},FH={class:"field is-horizontal"},NH=g("div",{class:"field-label"},[g("label",{class:"label"},"Power")],-1),UH={class:"field-body"},$H={class:"field"},BH={class:"control is-expanded"},zH={key:1,class:"is-size-5 has-text-centered has-text-weight-semibold"},GH={class:"column field-is-3"},HH={class:"columns"},VH=g("div",{class:"column is-4",style:{"margin-left":"30%"}},[g("h6",{class:"mb-1 ml-2"},"Label")],-1),WH={key:0,class:"column is-4"},jH=g("h6",{class:"mb-1 ml-3"},"Value",-1),qH=[jH],YH={class:"field field-is-2 is-horizontal"},KH={class:"field-label"},XH={class:"label"},ZH={class:"field-body"},JH={class:"field"},QH={class:"control is-expanded"},eV={class:"columns is-multiline"},tV={class:"column is-6"},nV=["id","readonly","onUpdate:modelValue"],sV={key:0,class:"column is-6"},iV=["id","onUpdate:modelValue"],rV={class:"card-footer"},oV=g("span",{class:"card-footer-item"},null,-1);function aV(t,e,n,s,i,r){const o=Ae("input-select"),a=Ae("spinner-btn");return Q(),se("div",oH,[aH,g("div",lH,[g("div",cH,[g("div",uH,[g("div",dH,[fH,g("div",hH,[g("div",pH,[g("div",mH,[X(o,{id:"vtx-protocol",modelValue:t.vtx.settings.protocol,"onUpdate:modelValue":e[0]||(e[0]=l=>t.vtx.settings.protocol=l),modelModifiers:{number:!0},options:t.vtxProtocolOptions},null,8,["modelValue","options"])])])])]),t.vtx.settings.detected?(Q(),se(Ze,{key:0},[g("div",gH,[_H,g("div",yH,[g("div",bH,[g("div",vH,Fe(t.frequencyTable[t.vtx.settings.band][t.vtx.settings.channel]),1)])])]),g("div",wH,[xH,g("div",SH,[g("div",EH,[g("div",TH,[X(o,{id:"vtx-band",modelValue:t.vtx.settings.band,"onUpdate:modelValue":e[1]||(e[1]=l=>t.vtx.settings.band=l),modelModifiers:{number:!0},options:t.vtxBandOptions},null,8,["modelValue","options"])])])])]),g("div",MH,[AH,g("div",kH,[g("div",RH,[g("div",CH,[X(o,{id:"vtx-channel",modelValue:t.vtx.settings.channel,"onUpdate:modelValue":e[2]||(e[2]=l=>t.vtx.settings.channel=l),modelModifiers:{number:!0},options:t.vtxChannelOptions},null,8,["modelValue","options"])])])])]),t.vtx.settings.pit_mode!=2?(Q(),se("div",OH,[PH,g("div",LH,[g("div",IH,[g("div",DH,[X(o,{id:"vtx-pit-mode",modelValue:t.vtx.settings.pit_mode,"onUpdate:modelValue":e[3]||(e[3]=l=>t.vtx.settings.pit_mode=l),modelModifiers:{number:!0},options:t.vtxPitModeOptions},null,8,["modelValue","options"])])])])])):We("",!0),g("div",FH,[NH,g("div",UH,[g("div",$H,[g("div",BH,[X(o,{id:"vtx-power-level",modelValue:t.vtx.settings.power_level,"onUpdate:modelValue":e[4]||(e[4]=l=>t.vtx.settings.power_level=l),modelModifiers:{number:!0},options:t.vtxPowerLevelOptions},null,8,["modelValue","options"])])])])])],64)):(Q(),se("div",zH," Not detected "))]),g("div",GH,[t.vtx.settings.detected&&t.vtx.settings.power_table?(Q(),se(Ze,{key:0},[g("div",HH,[VH,t.displayValueEdit?(Q(),se("div",WH,qH)):We("",!0)]),(Q(!0),se(Ze,null,$t(t.vtx.settings.power_table.labels,(l,c)=>(Q(),se("div",YH,[g("div",KH,[g("label",XH,"Power Level "+Fe(c+1),1)]),g("div",ZH,[g("div",JH,[g("div",QH,[g("div",eV,[g("div",tV,[Ge(g("input",{class:Xs(["input",{"is-static":t.vtx.settings.protocol==3}]),id:"power-level-value-"+c,readonly:t.vtx.settings.protocol==3,type:"text",maxlength:"3","onUpdate:modelValue":u=>t.vtx.settings.power_table.labels[c]=u},null,10,nV),[[Xe,t.vtx.settings.power_table.labels[c],void 0,{text:!0}]])]),t.displayValueEdit?(Q(),se("div",sV,[Ge(g("input",{class:"input",id:"power-level-value-"+c,type:"number",step:"0.1",min:"0","onUpdate:modelValue":u=>t.vtx.settings.power_table.values[c]=u},null,8,iV),[[Xe,t.vtx.settings.power_table.values[c],void 0,{number:!0}]])])):We("",!0)])])])])]))),256))],64)):We("",!0)])])]),g("footer",rV,[oV,X(a,{class:"card-footer-item is-primary",onClick:e[5]||(e[5]=l=>t.vtx.apply_vtx_settings(t.vtx.settings))},{default:Je(()=>[_e(" Apply ")]),_:1})])])}const lV=tt(rH,[["render",aV]]);/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Xb="142",cV=0,cx=1,uV=2,e5=1,dV=2,Ju=3,Ic=0,wi=1,ja=2,fV=1,Io=0,_c=1,ux=2,dx=3,fx=4,hV=5,Kl=100,pV=101,mV=102,hx=103,px=104,gV=200,_V=201,yV=202,bV=203,t5=204,n5=205,vV=206,wV=207,xV=208,SV=209,EV=210,TV=0,MV=1,AV=2,F1=3,kV=4,RV=5,CV=6,OV=7,s5=0,PV=1,LV=2,Lr=0,IV=1,DV=2,FV=3,NV=4,UV=5,i5=300,Dc=301,Fc=302,N1=303,U1=304,vg=306,Nc=1e3,Gs=1001,sm=1002,Dn=1003,$1=1004,B1=1005,_s=1006,r5=1007,tu=1008,qa=1009,$V=1010,BV=1011,o5=1012,zV=1013,Ta=1014,So=1015,Gd=1016,GV=1017,HV=1018,yc=1020,VV=1021,WV=1022,gi=1023,jV=1024,qV=1025,Ua=1026,Uc=1027,YV=1028,KV=1029,XV=1030,ZV=1031,JV=1033,U0=33776,$0=33777,B0=33778,z0=33779,mx=35840,gx=35841,_x=35842,yx=35843,QV=36196,bx=37492,vx=37496,wx=37808,xx=37809,Sx=37810,Ex=37811,Tx=37812,Mx=37813,Ax=37814,kx=37815,Rx=37816,Cx=37817,Ox=37818,Px=37819,Lx=37820,Ix=37821,Dx=36492,Hd=2300,$c=2301,G0=2302,Fx=2400,Nx=2401,Ux=2402,eW=2500,tW=2501,nW=1,a5=2,Ya=3e3,It=3001,sW=3200,iW=3201,Zb=0,rW=1,Tr="srgb",Ma="srgb-linear",H0=7680,oW=519,z1=35044,$x="300 es",G1=1035;class nu{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const s=this._listeners;s[e]===void 0&&(s[e]=[]),s[e].indexOf(n)===-1&&s[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const s=this._listeners;return s[e]!==void 0&&s[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const r=i.indexOf(n);r!==-1&&i.splice(r,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const s=this._listeners[e.type];if(s!==void 0){e.target=this;const i=s.slice(0);for(let r=0,o=i.length;r<o;r++)i[r].call(this,e);e.target=null}}}const Un=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Bx=1234567;const md=Math.PI/180,Vd=180/Math.PI;function xi(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,s=Math.random()*4294967295|0;return(Un[t&255]+Un[t>>8&255]+Un[t>>16&255]+Un[t>>24&255]+"-"+Un[e&255]+Un[e>>8&255]+"-"+Un[e>>16&15|64]+Un[e>>24&255]+"-"+Un[n&63|128]+Un[n>>8&255]+"-"+Un[n>>16&255]+Un[n>>24&255]+Un[s&255]+Un[s>>8&255]+Un[s>>16&255]+Un[s>>24&255]).toLowerCase()}function ss(t,e,n){return Math.max(e,Math.min(n,t))}function Jb(t,e){return(t%e+e)%e}function aW(t,e,n,s,i){return s+(t-e)*(i-s)/(n-e)}function lW(t,e,n){return t!==e?(n-t)/(e-t):0}function gd(t,e,n){return(1-n)*t+n*e}function cW(t,e,n,s){return gd(t,e,1-Math.exp(-n*s))}function uW(t,e=1){return e-Math.abs(Jb(t,e*2)-e)}function dW(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function fW(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function hW(t,e){return t+Math.floor(Math.random()*(e-t+1))}function pW(t,e){return t+Math.random()*(e-t)}function mW(t){return t*(.5-Math.random())}function gW(t){t!==void 0&&(Bx=t);let e=Bx+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function _W(t){return t*md}function yW(t){return t*Vd}function H1(t){return(t&t-1)===0&&t!==0}function l5(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function im(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function bW(t,e,n,s,i){const r=Math.cos,o=Math.sin,a=r(n/2),l=o(n/2),c=r((e+s)/2),u=o((e+s)/2),d=r((e-s)/2),f=o((e-s)/2),h=r((s-e)/2),_=o((s-e)/2);switch(i){case"XYX":t.set(a*u,l*d,l*f,a*c);break;case"YZY":t.set(l*f,a*u,l*d,a*c);break;case"ZXZ":t.set(l*d,l*f,a*u,a*c);break;case"XZX":t.set(a*u,l*_,l*h,a*c);break;case"YXY":t.set(l*h,a*u,l*_,a*c);break;case"ZYZ":t.set(l*_,l*h,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function vW(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function wW(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}var xW=Object.freeze({__proto__:null,DEG2RAD:md,RAD2DEG:Vd,generateUUID:xi,clamp:ss,euclideanModulo:Jb,mapLinear:aW,inverseLerp:lW,lerp:gd,damp:cW,pingpong:uW,smoothstep:dW,smootherstep:fW,randInt:hW,randFloat:pW,randFloatSpread:mW,seededRandom:gW,degToRad:_W,radToDeg:yW,isPowerOfTwo:H1,ceilPowerOfTwo:l5,floorPowerOfTwo:im,setQuaternionFromProperEuler:bW,normalize:wW,denormalize:vW});class bt{constructor(e=0,n=0){bt.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,s=this.y,i=e.elements;return this.x=i[0]*n+i[3]*s+i[6],this.y=i[1]*n+i[4]*s+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(e,Math.min(n,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,s=this.y-e.y;return n*n+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,s){return this.x=e.x+(n.x-e.x)*s,this.y=e.y+(n.y-e.y)*s,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n,s){return s!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const s=Math.cos(n),i=Math.sin(n),r=this.x-e.x,o=this.y-e.y;return this.x=r*s-o*i+e.x,this.y=r*i+o*s+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class js{constructor(){js.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,n,s,i,r,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=n,u[4]=r,u[5]=l,u[6]=s,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,s=e.elements;return n[0]=s[0],n[1]=s[1],n[2]=s[2],n[3]=s[3],n[4]=s[4],n[5]=s[5],n[6]=s[6],n[7]=s[7],n[8]=s[8],this}extractBasis(e,n,s){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),s.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const s=e.elements,i=n.elements,r=this.elements,o=s[0],a=s[3],l=s[6],c=s[1],u=s[4],d=s[7],f=s[2],h=s[5],_=s[8],p=i[0],m=i[3],y=i[6],b=i[1],v=i[4],w=i[7],S=i[2],x=i[5],T=i[8];return r[0]=o*p+a*b+l*S,r[3]=o*m+a*v+l*x,r[6]=o*y+a*w+l*T,r[1]=c*p+u*b+d*S,r[4]=c*m+u*v+d*x,r[7]=c*y+u*w+d*T,r[2]=f*p+h*b+_*S,r[5]=f*m+h*v+_*x,r[8]=f*y+h*w+_*T,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],s=e[1],i=e[2],r=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return n*o*u-n*a*c-s*r*u+s*a*l+i*r*c-i*o*l}invert(){const e=this.elements,n=e[0],s=e[1],i=e[2],r=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*o-a*c,f=a*l-u*r,h=c*r-o*l,_=n*d+s*f+i*h;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const p=1/_;return e[0]=d*p,e[1]=(i*c-u*s)*p,e[2]=(a*s-i*o)*p,e[3]=f*p,e[4]=(u*n-i*l)*p,e[5]=(i*r-a*n)*p,e[6]=h*p,e[7]=(s*l-c*n)*p,e[8]=(o*n-s*r)*p,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,s,i,r,o,a){const l=Math.cos(r),c=Math.sin(r);return this.set(s*l,s*c,-s*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){const s=this.elements;return s[0]*=e,s[3]*=e,s[6]*=e,s[1]*=n,s[4]*=n,s[7]*=n,this}rotate(e){const n=Math.cos(e),s=Math.sin(e),i=this.elements,r=i[0],o=i[3],a=i[6],l=i[1],c=i[4],u=i[7];return i[0]=n*r+s*l,i[3]=n*o+s*c,i[6]=n*a+s*u,i[1]=-s*r+n*l,i[4]=-s*o+n*c,i[7]=-s*a+n*u,this}translate(e,n){const s=this.elements;return s[0]+=e*s[2],s[3]+=e*s[5],s[6]+=e*s[8],s[1]+=n*s[2],s[4]+=n*s[5],s[7]+=n*s[8],this}equals(e){const n=this.elements,s=e.elements;for(let i=0;i<9;i++)if(n[i]!==s[i])return!1;return!0}fromArray(e,n=0){for(let s=0;s<9;s++)this.elements[s]=e[s+n];return this}toArray(e=[],n=0){const s=this.elements;return e[n]=s[0],e[n+1]=s[1],e[n+2]=s[2],e[n+3]=s[3],e[n+4]=s[4],e[n+5]=s[5],e[n+6]=s[6],e[n+7]=s[7],e[n+8]=s[8],e}clone(){return new this.constructor().fromArray(this.elements)}}function c5(t){for(let e=t.length-1;e>=0;--e)if(t[e]>65535)return!0;return!1}function Wd(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function $a(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Sp(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const V0={[Tr]:{[Ma]:$a},[Ma]:{[Tr]:Sp}},ti={legacyMode:!0,get workingColorSpace(){return Ma},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.legacyMode||e===n||!e||!n)return t;if(V0[e]&&V0[e][n]!==void 0){const s=V0[e][n];return t.r=s(t.r),t.g=s(t.g),t.b=s(t.b),t}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}},u5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},En={r:0,g:0,b:0},ni={h:0,s:0,l:0},nh={h:0,s:0,l:0};function W0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}function sh(t,e){return e.r=t.r,e.g=t.g,e.b=t.b,e}let nt=class{constructor(e,n,s){return this.isColor=!0,this.r=1,this.g=1,this.b=1,n===void 0&&s===void 0?this.set(e):this.setRGB(e,n,s)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Tr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ti.toWorkingColorSpace(this,n),this}setRGB(e,n,s,i=Ma){return this.r=e,this.g=n,this.b=s,ti.toWorkingColorSpace(this,i),this}setHSL(e,n,s,i=Ma){if(e=Jb(e,1),n=ss(n,0,1),s=ss(s,0,1),n===0)this.r=this.g=this.b=s;else{const r=s<=.5?s*(1+n):s+n-s*n,o=2*s-r;this.r=W0(o,r,e+1/3),this.g=W0(o,r,e),this.b=W0(o,r,e-1/3)}return ti.toWorkingColorSpace(this,i),this}setStyle(e,n=Tr){function s(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let r;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,ti.toWorkingColorSpace(this,n),s(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,ti.toWorkingColorSpace(this,n),s(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(r[1])/360,c=parseInt(r[2],10)/100,u=parseInt(r[3],10)/100;return s(r[4]),this.setHSL(l,c,u,n)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=i[1],o=r.length;if(o===3)return this.r=parseInt(r.charAt(0)+r.charAt(0),16)/255,this.g=parseInt(r.charAt(1)+r.charAt(1),16)/255,this.b=parseInt(r.charAt(2)+r.charAt(2),16)/255,ti.toWorkingColorSpace(this,n),this;if(o===6)return this.r=parseInt(r.charAt(0)+r.charAt(1),16)/255,this.g=parseInt(r.charAt(2)+r.charAt(3),16)/255,this.b=parseInt(r.charAt(4)+r.charAt(5),16)/255,ti.toWorkingColorSpace(this,n),this}return e&&e.length>0?this.setColorName(e,n):this}setColorName(e,n=Tr){const s=u5[e.toLowerCase()];return s!==void 0?this.setHex(s,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=$a(e.r),this.g=$a(e.g),this.b=$a(e.b),this}copyLinearToSRGB(e){return this.r=Sp(e.r),this.g=Sp(e.g),this.b=Sp(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Tr){return ti.fromWorkingColorSpace(sh(this,En),e),ss(En.r*255,0,255)<<16^ss(En.g*255,0,255)<<8^ss(En.b*255,0,255)<<0}getHexString(e=Tr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Ma){ti.fromWorkingColorSpace(sh(this,En),n);const s=En.r,i=En.g,r=En.b,o=Math.max(s,i,r),a=Math.min(s,i,r);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=u<=.5?d/(o+a):d/(2-o-a),o){case s:l=(i-r)/d+(i<r?6:0);break;case i:l=(r-s)/d+2;break;case r:l=(s-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=Ma){return ti.fromWorkingColorSpace(sh(this,En),n),e.r=En.r,e.g=En.g,e.b=En.b,e}getStyle(e=Tr){return ti.fromWorkingColorSpace(sh(this,En),e),e!==Tr?`color(${e} ${En.r} ${En.g} ${En.b})`:`rgb(${En.r*255|0},${En.g*255|0},${En.b*255|0})`}offsetHSL(e,n,s){return this.getHSL(ni),ni.h+=e,ni.s+=n,ni.l+=s,this.setHSL(ni.h,ni.s,ni.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,s){return this.r=e.r+(n.r-e.r)*s,this.g=e.g+(n.g-e.g)*s,this.b=e.b+(n.b-e.b)*s,this}lerpHSL(e,n){this.getHSL(ni),e.getHSL(nh);const s=gd(ni.h,nh.h,n),i=gd(ni.s,nh.s,n),r=gd(ni.l,nh.l,n);return this.setHSL(s,i,r),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};nt.NAMES=u5;let El;class d5{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{El===void 0&&(El=Wd("canvas")),El.width=e.width,El.height=e.height;const s=El.getContext("2d");e instanceof ImageData?s.putImageData(e,0,0):s.drawImage(e,0,0,e.width,e.height),n=El}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Wd("canvas");n.width=e.width,n.height=e.height;const s=n.getContext("2d");s.drawImage(e,0,0,e.width,e.height);const i=s.getImageData(0,0,e.width,e.height),r=i.data;for(let o=0;o<r.length;o++)r[o]=$a(r[o]/255)*255;return s.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let s=0;s<n.length;s++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[s]=Math.floor($a(n[s]/255)*255):n[s]=$a(n[s]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class f5{constructor(e=null){this.isSource=!0,this.uuid=xi(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const s={uuid:this.uuid,url:""},i=this.data;if(i!==null){let r;if(Array.isArray(i)){r=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?r.push(j0(i[o].image)):r.push(j0(i[o]))}else r=j0(i);s.url=r}return n||(e.images[this.uuid]=s),s}}function j0(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?d5.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let SW=0;class os extends nu{constructor(e=os.DEFAULT_IMAGE,n=os.DEFAULT_MAPPING,s=Gs,i=Gs,r=_s,o=tu,a=gi,l=qa,c=1,u=Ya){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:SW++}),this.uuid=xi(),this.name="",this.source=new f5(e),this.mipmaps=[],this.mapping=n,this.wrapS=s,this.wrapT=i,this.magFilter=r,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new bt(0,0),this.repeat=new bt(1,1),this.center=new bt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new js,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const s={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(s.userData=this.userData),n||(e.textures[this.uuid]=s),s}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==i5)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Nc:e.x=e.x-Math.floor(e.x);break;case Gs:e.x=e.x<0?0:1;break;case sm:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Nc:e.y=e.y-Math.floor(e.y);break;case Gs:e.y=e.y<0?0:1;break;case sm:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}os.DEFAULT_IMAGE=null;os.DEFAULT_MAPPING=i5;class Ut{constructor(e=0,n=0,s=0,i=1){Ut.prototype.isVector4=!0,this.x=e,this.y=n,this.z=s,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,s,i){return this.x=e,this.y=n,this.z=s,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,s=this.y,i=this.z,r=this.w,o=e.elements;return this.x=o[0]*n+o[4]*s+o[8]*i+o[12]*r,this.y=o[1]*n+o[5]*s+o[9]*i+o[13]*r,this.z=o[2]*n+o[6]*s+o[10]*i+o[14]*r,this.w=o[3]*n+o[7]*s+o[11]*i+o[15]*r,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,s,i,r;const l=e.elements,c=l[0],u=l[4],d=l[8],f=l[1],h=l[5],_=l[9],p=l[2],m=l[6],y=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-p)<.01&&Math.abs(_-m)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+p)<.1&&Math.abs(_+m)<.1&&Math.abs(c+h+y-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const v=(c+1)/2,w=(h+1)/2,S=(y+1)/2,x=(u+f)/4,T=(d+p)/4,E=(_+m)/4;return v>w&&v>S?v<.01?(s=0,i=.707106781,r=.707106781):(s=Math.sqrt(v),i=x/s,r=T/s):w>S?w<.01?(s=.707106781,i=0,r=.707106781):(i=Math.sqrt(w),s=x/i,r=E/i):S<.01?(s=.707106781,i=.707106781,r=0):(r=Math.sqrt(S),s=T/r,i=E/r),this.set(s,i,r,n),this}let b=Math.sqrt((m-_)*(m-_)+(d-p)*(d-p)+(f-u)*(f-u));return Math.abs(b)<.001&&(b=1),this.x=(m-_)/b,this.y=(d-p)/b,this.z=(f-u)/b,this.w=Math.acos((c+h+y-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(e,Math.min(n,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,s){return this.x=e.x+(n.x-e.x)*s,this.y=e.y+(n.y-e.y)*s,this.z=e.z+(n.z-e.z)*s,this.w=e.w+(n.w-e.w)*s,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n,s){return s!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Ka extends nu{constructor(e,n,s={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Ut(0,0,e,n),this.scissorTest=!1,this.viewport=new Ut(0,0,e,n);const i={width:e,height:n,depth:1};this.texture=new os(i,s.mapping,s.wrapS,s.wrapT,s.magFilter,s.minFilter,s.format,s.type,s.anisotropy,s.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=s.generateMipmaps!==void 0?s.generateMipmaps:!1,this.texture.internalFormat=s.internalFormat!==void 0?s.internalFormat:null,this.texture.minFilter=s.minFilter!==void 0?s.minFilter:_s,this.depthBuffer=s.depthBuffer!==void 0?s.depthBuffer:!0,this.stencilBuffer=s.stencilBuffer!==void 0?s.stencilBuffer:!1,this.depthTexture=s.depthTexture!==void 0?s.depthTexture:null,this.samples=s.samples!==void 0?s.samples:0}setSize(e,n,s=1){(this.width!==e||this.height!==n||this.depth!==s)&&(this.width=e,this.height=n,this.depth=s,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=s,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new f5(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class h5 extends os{constructor(e=null,n=1,s=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:s,depth:i},this.magFilter=Dn,this.minFilter=Dn,this.wrapR=Gs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class EW extends os{constructor(e=null,n=1,s=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:s,depth:i},this.magFilter=Dn,this.minFilter=Dn,this.wrapR=Gs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class nr{constructor(e=0,n=0,s=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=s,this._w=i}static slerp(e,n,s,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),s.slerpQuaternions(e,n,i)}static slerpFlat(e,n,s,i,r,o,a){let l=s[i+0],c=s[i+1],u=s[i+2],d=s[i+3];const f=r[o+0],h=r[o+1],_=r[o+2],p=r[o+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d;return}if(a===1){e[n+0]=f,e[n+1]=h,e[n+2]=_,e[n+3]=p;return}if(d!==p||l!==f||c!==h||u!==_){let m=1-a;const y=l*f+c*h+u*_+d*p,b=y>=0?1:-1,v=1-y*y;if(v>Number.EPSILON){const S=Math.sqrt(v),x=Math.atan2(S,y*b);m=Math.sin(m*x)/S,a=Math.sin(a*x)/S}const w=a*b;if(l=l*m+f*w,c=c*m+h*w,u=u*m+_*w,d=d*m+p*w,m===1-a){const S=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=S,c*=S,u*=S,d*=S}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d}static multiplyQuaternionsFlat(e,n,s,i,r,o){const a=s[i],l=s[i+1],c=s[i+2],u=s[i+3],d=r[o],f=r[o+1],h=r[o+2],_=r[o+3];return e[n]=a*_+u*d+l*h-c*f,e[n+1]=l*_+u*f+c*d-a*h,e[n+2]=c*_+u*h+a*f-l*d,e[n+3]=u*_-a*d-l*f-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,s,i){return this._x=e,this._y=n,this._z=s,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const s=e._x,i=e._y,r=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(s/2),u=a(i/2),d=a(r/2),f=l(s/2),h=l(i/2),_=l(r/2);switch(o){case"XYZ":this._x=f*u*d+c*h*_,this._y=c*h*d-f*u*_,this._z=c*u*_+f*h*d,this._w=c*u*d-f*h*_;break;case"YXZ":this._x=f*u*d+c*h*_,this._y=c*h*d-f*u*_,this._z=c*u*_-f*h*d,this._w=c*u*d+f*h*_;break;case"ZXY":this._x=f*u*d-c*h*_,this._y=c*h*d+f*u*_,this._z=c*u*_+f*h*d,this._w=c*u*d-f*h*_;break;case"ZYX":this._x=f*u*d-c*h*_,this._y=c*h*d+f*u*_,this._z=c*u*_-f*h*d,this._w=c*u*d+f*h*_;break;case"YZX":this._x=f*u*d+c*h*_,this._y=c*h*d+f*u*_,this._z=c*u*_-f*h*d,this._w=c*u*d-f*h*_;break;case"XZY":this._x=f*u*d-c*h*_,this._y=c*h*d-f*u*_,this._z=c*u*_+f*h*d,this._w=c*u*d+f*h*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const s=n/2,i=Math.sin(s);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(s),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,s=n[0],i=n[4],r=n[8],o=n[1],a=n[5],l=n[9],c=n[2],u=n[6],d=n[10],f=s+a+d;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(u-l)*h,this._y=(r-c)*h,this._z=(o-i)*h}else if(s>a&&s>d){const h=2*Math.sqrt(1+s-a-d);this._w=(u-l)/h,this._x=.25*h,this._y=(i+o)/h,this._z=(r+c)/h}else if(a>d){const h=2*Math.sqrt(1+a-s-d);this._w=(r-c)/h,this._x=(i+o)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+d-s-a);this._w=(o-i)/h,this._x=(r+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let s=e.dot(n)+1;return s<Number.EPSILON?(s=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=s):(this._x=0,this._y=-e.z,this._z=e.y,this._w=s)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=s),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(ss(this.dot(e),-1,1)))}rotateTowards(e,n){const s=this.angleTo(e);if(s===0)return this;const i=Math.min(1,n/s);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,n){return n!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,n)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const s=e._x,i=e._y,r=e._z,o=e._w,a=n._x,l=n._y,c=n._z,u=n._w;return this._x=s*u+o*a+i*c-r*l,this._y=i*u+o*l+r*a-s*c,this._z=r*u+o*c+s*l-i*a,this._w=o*u-s*a-i*l-r*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const s=this._x,i=this._y,r=this._z,o=this._w;let a=o*e._w+s*e._x+i*e._y+r*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=s,this._y=i,this._z=r,this;const l=1-a*a;if(l<=Number.EPSILON){const h=1-n;return this._w=h*o+n*this._w,this._x=h*s+n*this._x,this._y=h*i+n*this._y,this._z=h*r+n*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-n)*u)/c,f=Math.sin(n*u)/c;return this._w=o*d+this._w*f,this._x=s*d+this._x*f,this._y=i*d+this._y*f,this._z=r*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,n,s){return this.copy(e).slerp(n,s)}random(){const e=Math.random(),n=Math.sqrt(1-e),s=Math.sqrt(e),i=2*Math.PI*Math.random(),r=2*Math.PI*Math.random();return this.set(n*Math.cos(i),s*Math.sin(r),s*Math.cos(r),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class J{constructor(e=0,n=0,s=0){J.prototype.isVector3=!0,this.x=e,this.y=n,this.z=s}set(e,n,s){return s===void 0&&(s=this.z),this.x=e,this.y=n,this.z=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e,n){return n!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,n)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(zx.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(zx.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,s=this.y,i=this.z,r=e.elements;return this.x=r[0]*n+r[3]*s+r[6]*i,this.y=r[1]*n+r[4]*s+r[7]*i,this.z=r[2]*n+r[5]*s+r[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,s=this.y,i=this.z,r=e.elements,o=1/(r[3]*n+r[7]*s+r[11]*i+r[15]);return this.x=(r[0]*n+r[4]*s+r[8]*i+r[12])*o,this.y=(r[1]*n+r[5]*s+r[9]*i+r[13])*o,this.z=(r[2]*n+r[6]*s+r[10]*i+r[14])*o,this}applyQuaternion(e){const n=this.x,s=this.y,i=this.z,r=e.x,o=e.y,a=e.z,l=e.w,c=l*n+o*i-a*s,u=l*s+a*n-r*i,d=l*i+r*s-o*n,f=-r*n-o*s-a*i;return this.x=c*l+f*-r+u*-a-d*-o,this.y=u*l+f*-o+d*-r-c*-a,this.z=d*l+f*-a+c*-o-u*-r,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,s=this.y,i=this.z,r=e.elements;return this.x=r[0]*n+r[4]*s+r[8]*i,this.y=r[1]*n+r[5]*s+r[9]*i,this.z=r[2]*n+r[6]*s+r[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(e,Math.min(n,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,s){return this.x=e.x+(n.x-e.x)*s,this.y=e.y+(n.y-e.y)*s,this.z=e.z+(n.z-e.z)*s,this}cross(e,n){return n!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,n)):this.crossVectors(this,e)}crossVectors(e,n){const s=e.x,i=e.y,r=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-r*a,this.y=r*o-s*l,this.z=s*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const s=e.dot(this)/n;return this.copy(e).multiplyScalar(s)}projectOnPlane(e){return q0.copy(this).projectOnVector(e),this.sub(q0)}reflect(e){return this.sub(q0.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const s=this.dot(e)/n;return Math.acos(ss(s,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,s=this.y-e.y,i=this.z-e.z;return n*n+s*s+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,s){const i=Math.sin(n)*e;return this.x=i*Math.sin(s),this.y=Math.cos(n)*e,this.z=i*Math.cos(s),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,s){return this.x=e*Math.sin(n),this.y=s,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),s=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=s,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n,s){return s!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,s=Math.sqrt(1-e**2);return this.x=s*Math.cos(n),this.y=s*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const q0=new J,zx=new nr;class su{constructor(e=new J(1/0,1/0,1/0),n=new J(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){let n=1/0,s=1/0,i=1/0,r=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const u=e[l],d=e[l+1],f=e[l+2];u<n&&(n=u),d<s&&(s=d),f<i&&(i=f),u>r&&(r=u),d>o&&(o=d),f>a&&(a=f)}return this.min.set(n,s,i),this.max.set(r,o,a),this}setFromBufferAttribute(e){let n=1/0,s=1/0,i=1/0,r=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const u=e.getX(l),d=e.getY(l),f=e.getZ(l);u<n&&(n=u),d<s&&(s=d),f<i&&(i=f),u>r&&(r=u),d>o&&(o=d),f>a&&(a=f)}return this.min.set(n,s,i),this.max.set(r,o,a),this}setFromPoints(e){this.makeEmpty();for(let n=0,s=e.length;n<s;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const s=ta.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(s),this.max.copy(e).add(s),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const s=e.geometry;if(s!==void 0)if(n&&s.attributes!=null&&s.attributes.position!==void 0){const r=s.attributes.position;for(let o=0,a=r.count;o<a;o++)ta.fromBufferAttribute(r,o).applyMatrix4(e.matrixWorld),this.expandByPoint(ta)}else s.boundingBox===null&&s.computeBoundingBox(),Y0.copy(s.boundingBox),Y0.applyMatrix4(e.matrixWorld),this.union(Y0);const i=e.children;for(let r=0,o=i.length;r<o;r++)this.expandByObject(i[r],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,ta),ta.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,s;return e.normal.x>0?(n=e.normal.x*this.min.x,s=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,s=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,s+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,s+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,s+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,s+=e.normal.z*this.min.z),n<=-e.constant&&s>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Au),ih.subVectors(this.max,Au),Tl.subVectors(e.a,Au),Ml.subVectors(e.b,Au),Al.subVectors(e.c,Au),Jr.subVectors(Ml,Tl),Qr.subVectors(Al,Ml),na.subVectors(Tl,Al);let n=[0,-Jr.z,Jr.y,0,-Qr.z,Qr.y,0,-na.z,na.y,Jr.z,0,-Jr.x,Qr.z,0,-Qr.x,na.z,0,-na.x,-Jr.y,Jr.x,0,-Qr.y,Qr.x,0,-na.y,na.x,0];return!K0(n,Tl,Ml,Al,ih)||(n=[1,0,0,0,1,0,0,0,1],!K0(n,Tl,Ml,Al,ih))?!1:(rh.crossVectors(Jr,Qr),n=[rh.x,rh.y,rh.z],K0(n,Tl,Ml,Al,ih))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return ta.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(ta).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ur[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ur[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ur[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ur[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ur[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ur[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ur[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ur[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ur),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ur=[new J,new J,new J,new J,new J,new J,new J,new J],ta=new J,Y0=new su,Tl=new J,Ml=new J,Al=new J,Jr=new J,Qr=new J,na=new J,Au=new J,ih=new J,rh=new J,sa=new J;function K0(t,e,n,s,i){for(let r=0,o=t.length-3;r<=o;r+=3){sa.fromArray(t,r);const a=i.x*Math.abs(sa.x)+i.y*Math.abs(sa.y)+i.z*Math.abs(sa.z),l=e.dot(sa),c=n.dot(sa),u=s.dot(sa);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const TW=new su,Gx=new J,oh=new J,X0=new J;class iu{constructor(e=new J,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const s=this.center;n!==void 0?s.copy(n):TW.setFromPoints(e).getCenter(s);let i=0;for(let r=0,o=e.length;r<o;r++)i=Math.max(i,s.distanceToSquared(e[r]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const s=this.center.distanceToSquared(e);return n.copy(e),s>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){X0.subVectors(e,this.center);const n=X0.lengthSq();if(n>this.radius*this.radius){const s=Math.sqrt(n),i=(s-this.radius)*.5;this.center.add(X0.multiplyScalar(i/s)),this.radius+=i}return this}union(e){return this.center.equals(e.center)===!0?oh.set(0,0,1).multiplyScalar(e.radius):oh.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(Gx.copy(e.center).add(oh)),this.expandByPoint(Gx.copy(e.center).sub(oh)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const dr=new J,Z0=new J,ah=new J,eo=new J,J0=new J,lh=new J,Q0=new J;class Qb{constructor(e=new J,n=new J(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,dr)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const s=n.dot(this.direction);return s<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(s).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=dr.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(dr.copy(this.direction).multiplyScalar(n).add(this.origin),dr.distanceToSquared(e))}distanceSqToSegment(e,n,s,i){Z0.copy(e).add(n).multiplyScalar(.5),ah.copy(n).sub(e).normalize(),eo.copy(this.origin).sub(Z0);const r=e.distanceTo(n)*.5,o=-this.direction.dot(ah),a=eo.dot(this.direction),l=-eo.dot(ah),c=eo.lengthSq(),u=Math.abs(1-o*o);let d,f,h,_;if(u>0)if(d=o*l-a,f=o*a-l,_=r*u,d>=0)if(f>=-_)if(f<=_){const p=1/u;d*=p,f*=p,h=d*(d+o*f+2*a)+f*(o*d+f+2*l)+c}else f=r,d=Math.max(0,-(o*f+a)),h=-d*d+f*(f+2*l)+c;else f=-r,d=Math.max(0,-(o*f+a)),h=-d*d+f*(f+2*l)+c;else f<=-_?(d=Math.max(0,-(-o*r+a)),f=d>0?-r:Math.min(Math.max(-r,-l),r),h=-d*d+f*(f+2*l)+c):f<=_?(d=0,f=Math.min(Math.max(-r,-l),r),h=f*(f+2*l)+c):(d=Math.max(0,-(o*r+a)),f=d>0?r:Math.min(Math.max(-r,-l),r),h=-d*d+f*(f+2*l)+c);else f=o>0?-r:r,d=Math.max(0,-(o*f+a)),h=-d*d+f*(f+2*l)+c;return s&&s.copy(this.direction).multiplyScalar(d).add(this.origin),i&&i.copy(ah).multiplyScalar(f).add(Z0),h}intersectSphere(e,n){dr.subVectors(e.center,this.origin);const s=dr.dot(this.direction),i=dr.dot(dr)-s*s,r=e.radius*e.radius;if(i>r)return null;const o=Math.sqrt(r-i),a=s-o,l=s+o;return a<0&&l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const s=-(this.origin.dot(e.normal)+e.constant)/n;return s>=0?s:null}intersectPlane(e,n){const s=this.distanceToPlane(e);return s===null?null:this.at(s,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let s,i,r,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(s=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(s=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),u>=0?(r=(e.min.y-f.y)*u,o=(e.max.y-f.y)*u):(r=(e.max.y-f.y)*u,o=(e.min.y-f.y)*u),s>o||r>i||((r>s||s!==s)&&(s=r),(o<i||i!==i)&&(i=o),d>=0?(a=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(a=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),s>l||a>i)||((a>s||s!==s)&&(s=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(s>=0?s:i,n)}intersectsBox(e){return this.intersectBox(e,dr)!==null}intersectTriangle(e,n,s,i,r){J0.subVectors(n,e),lh.subVectors(s,e),Q0.crossVectors(J0,lh);let o=this.direction.dot(Q0),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;eo.subVectors(this.origin,e);const l=a*this.direction.dot(lh.crossVectors(eo,lh));if(l<0)return null;const c=a*this.direction.dot(J0.cross(eo));if(c<0||l+c>o)return null;const u=-a*eo.dot(Q0);return u<0?null:this.at(u/o,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class At{constructor(){At.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,n,s,i,r,o,a,l,c,u,d,f,h,_,p,m){const y=this.elements;return y[0]=e,y[4]=n,y[8]=s,y[12]=i,y[1]=r,y[5]=o,y[9]=a,y[13]=l,y[2]=c,y[6]=u,y[10]=d,y[14]=f,y[3]=h,y[7]=_,y[11]=p,y[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new At().fromArray(this.elements)}copy(e){const n=this.elements,s=e.elements;return n[0]=s[0],n[1]=s[1],n[2]=s[2],n[3]=s[3],n[4]=s[4],n[5]=s[5],n[6]=s[6],n[7]=s[7],n[8]=s[8],n[9]=s[9],n[10]=s[10],n[11]=s[11],n[12]=s[12],n[13]=s[13],n[14]=s[14],n[15]=s[15],this}copyPosition(e){const n=this.elements,s=e.elements;return n[12]=s[12],n[13]=s[13],n[14]=s[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,s){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),s.setFromMatrixColumn(this,2),this}makeBasis(e,n,s){return this.set(e.x,n.x,s.x,0,e.y,n.y,s.y,0,e.z,n.z,s.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,s=e.elements,i=1/kl.setFromMatrixColumn(e,0).length(),r=1/kl.setFromMatrixColumn(e,1).length(),o=1/kl.setFromMatrixColumn(e,2).length();return n[0]=s[0]*i,n[1]=s[1]*i,n[2]=s[2]*i,n[3]=0,n[4]=s[4]*r,n[5]=s[5]*r,n[6]=s[6]*r,n[7]=0,n[8]=s[8]*o,n[9]=s[9]*o,n[10]=s[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const n=this.elements,s=e.x,i=e.y,r=e.z,o=Math.cos(s),a=Math.sin(s),l=Math.cos(i),c=Math.sin(i),u=Math.cos(r),d=Math.sin(r);if(e.order==="XYZ"){const f=o*u,h=o*d,_=a*u,p=a*d;n[0]=l*u,n[4]=-l*d,n[8]=c,n[1]=h+_*c,n[5]=f-p*c,n[9]=-a*l,n[2]=p-f*c,n[6]=_+h*c,n[10]=o*l}else if(e.order==="YXZ"){const f=l*u,h=l*d,_=c*u,p=c*d;n[0]=f+p*a,n[4]=_*a-h,n[8]=o*c,n[1]=o*d,n[5]=o*u,n[9]=-a,n[2]=h*a-_,n[6]=p+f*a,n[10]=o*l}else if(e.order==="ZXY"){const f=l*u,h=l*d,_=c*u,p=c*d;n[0]=f-p*a,n[4]=-o*d,n[8]=_+h*a,n[1]=h+_*a,n[5]=o*u,n[9]=p-f*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const f=o*u,h=o*d,_=a*u,p=a*d;n[0]=l*u,n[4]=_*c-h,n[8]=f*c+p,n[1]=l*d,n[5]=p*c+f,n[9]=h*c-_,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const f=o*l,h=o*c,_=a*l,p=a*c;n[0]=l*u,n[4]=p-f*d,n[8]=_*d+h,n[1]=d,n[5]=o*u,n[9]=-a*u,n[2]=-c*u,n[6]=h*d+_,n[10]=f-p*d}else if(e.order==="XZY"){const f=o*l,h=o*c,_=a*l,p=a*c;n[0]=l*u,n[4]=-d,n[8]=c*u,n[1]=f*d+p,n[5]=o*u,n[9]=h*d-_,n[2]=_*d-h,n[6]=a*u,n[10]=p*d+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(MW,e,AW)}lookAt(e,n,s){const i=this.elements;return xs.subVectors(e,n),xs.lengthSq()===0&&(xs.z=1),xs.normalize(),to.crossVectors(s,xs),to.lengthSq()===0&&(Math.abs(s.z)===1?xs.x+=1e-4:xs.z+=1e-4,xs.normalize(),to.crossVectors(s,xs)),to.normalize(),ch.crossVectors(xs,to),i[0]=to.x,i[4]=ch.x,i[8]=xs.x,i[1]=to.y,i[5]=ch.y,i[9]=xs.y,i[2]=to.z,i[6]=ch.z,i[10]=xs.z,this}multiply(e,n){return n!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,n)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const s=e.elements,i=n.elements,r=this.elements,o=s[0],a=s[4],l=s[8],c=s[12],u=s[1],d=s[5],f=s[9],h=s[13],_=s[2],p=s[6],m=s[10],y=s[14],b=s[3],v=s[7],w=s[11],S=s[15],x=i[0],T=i[4],E=i[8],M=i[12],C=i[1],A=i[5],R=i[9],$=i[13],F=i[2],D=i[6],I=i[10],B=i[14],W=i[3],Y=i[7],j=i[11],pe=i[15];return r[0]=o*x+a*C+l*F+c*W,r[4]=o*T+a*A+l*D+c*Y,r[8]=o*E+a*R+l*I+c*j,r[12]=o*M+a*$+l*B+c*pe,r[1]=u*x+d*C+f*F+h*W,r[5]=u*T+d*A+f*D+h*Y,r[9]=u*E+d*R+f*I+h*j,r[13]=u*M+d*$+f*B+h*pe,r[2]=_*x+p*C+m*F+y*W,r[6]=_*T+p*A+m*D+y*Y,r[10]=_*E+p*R+m*I+y*j,r[14]=_*M+p*$+m*B+y*pe,r[3]=b*x+v*C+w*F+S*W,r[7]=b*T+v*A+w*D+S*Y,r[11]=b*E+v*R+w*I+S*j,r[15]=b*M+v*$+w*B+S*pe,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],s=e[4],i=e[8],r=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],f=e[10],h=e[14],_=e[3],p=e[7],m=e[11],y=e[15];return _*(+r*l*d-i*c*d-r*a*f+s*c*f+i*a*h-s*l*h)+p*(+n*l*h-n*c*f+r*o*f-i*o*h+i*c*u-r*l*u)+m*(+n*c*d-n*a*h-r*o*d+s*o*h+r*a*u-s*c*u)+y*(-i*a*u-n*l*d+n*a*f+i*o*d-s*o*f+s*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,s){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=s),this}invert(){const e=this.elements,n=e[0],s=e[1],i=e[2],r=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],h=e[11],_=e[12],p=e[13],m=e[14],y=e[15],b=d*m*c-p*f*c+p*l*h-a*m*h-d*l*y+a*f*y,v=_*f*c-u*m*c-_*l*h+o*m*h+u*l*y-o*f*y,w=u*p*c-_*d*c+_*a*h-o*p*h-u*a*y+o*d*y,S=_*d*l-u*p*l-_*a*f+o*p*f+u*a*m-o*d*m,x=n*b+s*v+i*w+r*S;if(x===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/x;return e[0]=b*T,e[1]=(p*f*r-d*m*r-p*i*h+s*m*h+d*i*y-s*f*y)*T,e[2]=(a*m*r-p*l*r+p*i*c-s*m*c-a*i*y+s*l*y)*T,e[3]=(d*l*r-a*f*r-d*i*c+s*f*c+a*i*h-s*l*h)*T,e[4]=v*T,e[5]=(u*m*r-_*f*r+_*i*h-n*m*h-u*i*y+n*f*y)*T,e[6]=(_*l*r-o*m*r-_*i*c+n*m*c+o*i*y-n*l*y)*T,e[7]=(o*f*r-u*l*r+u*i*c-n*f*c-o*i*h+n*l*h)*T,e[8]=w*T,e[9]=(_*d*r-u*p*r-_*s*h+n*p*h+u*s*y-n*d*y)*T,e[10]=(o*p*r-_*a*r+_*s*c-n*p*c-o*s*y+n*a*y)*T,e[11]=(u*a*r-o*d*r-u*s*c+n*d*c+o*s*h-n*a*h)*T,e[12]=S*T,e[13]=(u*p*i-_*d*i+_*s*f-n*p*f-u*s*m+n*d*m)*T,e[14]=(_*a*i-o*p*i-_*s*l+n*p*l+o*s*m-n*a*m)*T,e[15]=(o*d*i-u*a*i+u*s*l-n*d*l-o*s*f+n*a*f)*T,this}scale(e){const n=this.elements,s=e.x,i=e.y,r=e.z;return n[0]*=s,n[4]*=i,n[8]*=r,n[1]*=s,n[5]*=i,n[9]*=r,n[2]*=s,n[6]*=i,n[10]*=r,n[3]*=s,n[7]*=i,n[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],s=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,s,i))}makeTranslation(e,n,s){return this.set(1,0,0,e,0,1,0,n,0,0,1,s,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),s=Math.sin(e);return this.set(1,0,0,0,0,n,-s,0,0,s,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),s=Math.sin(e);return this.set(n,0,s,0,0,1,0,0,-s,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),s=Math.sin(e);return this.set(n,-s,0,0,s,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const s=Math.cos(n),i=Math.sin(n),r=1-s,o=e.x,a=e.y,l=e.z,c=r*o,u=r*a;return this.set(c*o+s,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+s,u*l-i*o,0,c*l-i*a,u*l+i*o,r*l*l+s,0,0,0,0,1),this}makeScale(e,n,s){return this.set(e,0,0,0,0,n,0,0,0,0,s,0,0,0,0,1),this}makeShear(e,n,s,i,r,o){return this.set(1,s,r,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,s){const i=this.elements,r=n._x,o=n._y,a=n._z,l=n._w,c=r+r,u=o+o,d=a+a,f=r*c,h=r*u,_=r*d,p=o*u,m=o*d,y=a*d,b=l*c,v=l*u,w=l*d,S=s.x,x=s.y,T=s.z;return i[0]=(1-(p+y))*S,i[1]=(h+w)*S,i[2]=(_-v)*S,i[3]=0,i[4]=(h-w)*x,i[5]=(1-(f+y))*x,i[6]=(m+b)*x,i[7]=0,i[8]=(_+v)*T,i[9]=(m-b)*T,i[10]=(1-(f+p))*T,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,s){const i=this.elements;let r=kl.set(i[0],i[1],i[2]).length();const o=kl.set(i[4],i[5],i[6]).length(),a=kl.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],si.copy(this);const c=1/r,u=1/o,d=1/a;return si.elements[0]*=c,si.elements[1]*=c,si.elements[2]*=c,si.elements[4]*=u,si.elements[5]*=u,si.elements[6]*=u,si.elements[8]*=d,si.elements[9]*=d,si.elements[10]*=d,n.setFromRotationMatrix(si),s.x=r,s.y=o,s.z=a,this}makePerspective(e,n,s,i,r,o){o===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,l=2*r/(n-e),c=2*r/(s-i),u=(n+e)/(n-e),d=(s+i)/(s-i),f=-(o+r)/(o-r),h=-2*o*r/(o-r);return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=f,a[14]=h,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,n,s,i,r,o){const a=this.elements,l=1/(n-e),c=1/(s-i),u=1/(o-r),d=(n+e)*l,f=(s+i)*c,h=(o+r)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-f,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-h,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const n=this.elements,s=e.elements;for(let i=0;i<16;i++)if(n[i]!==s[i])return!1;return!0}fromArray(e,n=0){for(let s=0;s<16;s++)this.elements[s]=e[s+n];return this}toArray(e=[],n=0){const s=this.elements;return e[n]=s[0],e[n+1]=s[1],e[n+2]=s[2],e[n+3]=s[3],e[n+4]=s[4],e[n+5]=s[5],e[n+6]=s[6],e[n+7]=s[7],e[n+8]=s[8],e[n+9]=s[9],e[n+10]=s[10],e[n+11]=s[11],e[n+12]=s[12],e[n+13]=s[13],e[n+14]=s[14],e[n+15]=s[15],e}}const kl=new J,si=new At,MW=new J(0,0,0),AW=new J(1,1,1),to=new J,ch=new J,xs=new J,Hx=new At,Vx=new nr;class Ef{constructor(e=0,n=0,s=0,i=Ef.DefaultOrder){this.isEuler=!0,this._x=e,this._y=n,this._z=s,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,s,i=this._order){return this._x=e,this._y=n,this._z=s,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,s=!0){const i=e.elements,r=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],d=i[2],f=i[6],h=i[10];switch(n){case"XYZ":this._y=Math.asin(ss(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-o,r)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-ss(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,r),this._z=0);break;case"ZXY":this._x=Math.asin(ss(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,h),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,r));break;case"ZYX":this._y=Math.asin(-ss(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,h),this._z=Math.atan2(l,r)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(ss(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,r)):(this._x=0,this._y=Math.atan2(a,h));break;case"XZY":this._z=Math.asin(-ss(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(a,r)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,s===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,s){return Hx.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Hx,n,s)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return Vx.setFromEuler(this),this.setFromQuaternion(Vx,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}Ef.DefaultOrder="XYZ";Ef.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];let p5=class{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}},kW=0;const Wx=new J,Rl=new nr,fr=new At,uh=new J,ku=new J,RW=new J,CW=new nr,jx=new J(1,0,0),qx=new J(0,1,0),Yx=new J(0,0,1),OW={type:"added"},Kx={type:"removed"};class bn extends nu{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:kW++}),this.uuid=xi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=bn.DefaultUp.clone();const e=new J,n=new Ef,s=new nr,i=new J(1,1,1);function r(){s.setFromEuler(n,!1)}function o(){n.setFromQuaternion(s,void 0,!1)}n._onChange(r),s._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:s},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new At},normalMatrix:{value:new js}}),this.matrix=new At,this.matrixWorld=new At,this.matrixAutoUpdate=bn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new p5,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Rl.setFromAxisAngle(e,n),this.quaternion.multiply(Rl),this}rotateOnWorldAxis(e,n){return Rl.setFromAxisAngle(e,n),this.quaternion.premultiply(Rl),this}rotateX(e){return this.rotateOnAxis(jx,e)}rotateY(e){return this.rotateOnAxis(qx,e)}rotateZ(e){return this.rotateOnAxis(Yx,e)}translateOnAxis(e,n){return Wx.copy(e).applyQuaternion(this.quaternion),this.position.add(Wx.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(jx,e)}translateY(e){return this.translateOnAxis(qx,e)}translateZ(e){return this.translateOnAxis(Yx,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(fr.copy(this.matrixWorld).invert())}lookAt(e,n,s){e.isVector3?uh.copy(e):uh.set(e,n,s);const i=this.parent;this.updateWorldMatrix(!0,!1),ku.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?fr.lookAt(ku,uh,this.up):fr.lookAt(uh,ku,this.up),this.quaternion.setFromRotationMatrix(fr),i&&(fr.extractRotation(i.matrixWorld),Rl.setFromRotationMatrix(fr),this.quaternion.premultiply(Rl.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(OW)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let s=0;s<arguments.length;s++)this.remove(arguments[s]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Kx)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(Kx)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),fr.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),fr.multiply(e.parent.matrixWorld)),e.applyMatrix4(fr),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let s=0,i=this.children.length;s<i;s++){const o=this.children[s].getObjectByProperty(e,n);if(o!==void 0)return o}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ku,e,RW),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ku,CW,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let s=0,i=n.length;s<i;s++)n[s].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let s=0,i=n.length;s<i;s++)n[s].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let s=0,i=n.length;s<i;s++)n[s].updateMatrixWorld(e)}updateWorldMatrix(e,n){const s=this.parent;if(e===!0&&s!==null&&s.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let r=0,o=i.length;r<o;r++)i[r].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",s={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},s.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function r(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];r(e.shapes,d)}else r(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(r(e.materials,this.material[l]));i.material=a}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(r(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),d=o(e.shapes),f=o(e.skeletons),h=o(e.animations),_=o(e.nodes);a.length>0&&(s.geometries=a),l.length>0&&(s.materials=l),c.length>0&&(s.textures=c),u.length>0&&(s.images=u),d.length>0&&(s.shapes=d),f.length>0&&(s.skeletons=f),h.length>0&&(s.animations=h),_.length>0&&(s.nodes=_)}return s.object=i,s;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let s=0;s<e.children.length;s++){const i=e.children[s];this.add(i.clone())}return this}}bn.DefaultUp=new J(0,1,0);bn.DefaultMatrixAutoUpdate=!0;const ii=new J,hr=new J,e_=new J,pr=new J,Cl=new J,Ol=new J,Xx=new J,t_=new J,n_=new J,s_=new J;class kr{constructor(e=new J,n=new J,s=new J){this.a=e,this.b=n,this.c=s}static getNormal(e,n,s,i){i.subVectors(s,n),ii.subVectors(e,n),i.cross(ii);const r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(e,n,s,i,r){ii.subVectors(i,n),hr.subVectors(s,n),e_.subVectors(e,n);const o=ii.dot(ii),a=ii.dot(hr),l=ii.dot(e_),c=hr.dot(hr),u=hr.dot(e_),d=o*c-a*a;if(d===0)return r.set(-2,-1,-1);const f=1/d,h=(c*l-a*u)*f,_=(o*u-a*l)*f;return r.set(1-h-_,_,h)}static containsPoint(e,n,s,i){return this.getBarycoord(e,n,s,i,pr),pr.x>=0&&pr.y>=0&&pr.x+pr.y<=1}static getUV(e,n,s,i,r,o,a,l){return this.getBarycoord(e,n,s,i,pr),l.set(0,0),l.addScaledVector(r,pr.x),l.addScaledVector(o,pr.y),l.addScaledVector(a,pr.z),l}static isFrontFacing(e,n,s,i){return ii.subVectors(s,n),hr.subVectors(e,n),ii.cross(hr).dot(i)<0}set(e,n,s){return this.a.copy(e),this.b.copy(n),this.c.copy(s),this}setFromPointsAndIndices(e,n,s,i){return this.a.copy(e[n]),this.b.copy(e[s]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,s,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,s),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ii.subVectors(this.c,this.b),hr.subVectors(this.a,this.b),ii.cross(hr).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return kr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return kr.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,s,i,r){return kr.getUV(e,this.a,this.b,this.c,n,s,i,r)}containsPoint(e){return kr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return kr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const s=this.a,i=this.b,r=this.c;let o,a;Cl.subVectors(i,s),Ol.subVectors(r,s),t_.subVectors(e,s);const l=Cl.dot(t_),c=Ol.dot(t_);if(l<=0&&c<=0)return n.copy(s);n_.subVectors(e,i);const u=Cl.dot(n_),d=Ol.dot(n_);if(u>=0&&d<=u)return n.copy(i);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return o=l/(l-u),n.copy(s).addScaledVector(Cl,o);s_.subVectors(e,r);const h=Cl.dot(s_),_=Ol.dot(s_);if(_>=0&&h<=_)return n.copy(r);const p=h*c-l*_;if(p<=0&&c>=0&&_<=0)return a=c/(c-_),n.copy(s).addScaledVector(Ol,a);const m=u*_-h*d;if(m<=0&&d-u>=0&&h-_>=0)return Xx.subVectors(r,i),a=(d-u)/(d-u+(h-_)),n.copy(i).addScaledVector(Xx,a);const y=1/(m+p+f);return o=p*y,a=f*y,n.copy(s).addScaledVector(Cl,o).addScaledVector(Ol,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let PW=0;class Yi extends nu{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:PW++}),this.uuid=xi(),this.name="",this.type="Material",this.blending=_c,this.side=Ic,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=t5,this.blendDst=n5,this.blendEquation=Kl,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=F1,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=oW,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=H0,this.stencilZFail=H0,this.stencilZPass=H0,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const s=e[n];if(s===void 0){console.warn("THREE.Material: '"+n+"' parameter is undefined.");continue}if(n==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=s===fV;continue}const i=this[n];if(i===void 0){console.warn("THREE."+this.type+": '"+n+"' is not a property of this material.");continue}i&&i.isColor?i.set(s):i&&i.isVector3&&s&&s.isVector3?i.copy(s):this[n]=s}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const s={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.color&&this.color.isColor&&(s.color=this.color.getHex()),this.roughness!==void 0&&(s.roughness=this.roughness),this.metalness!==void 0&&(s.metalness=this.metalness),this.sheen!==void 0&&(s.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(s.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(s.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(s.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(s.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(s.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(s.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(s.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(s.shininess=this.shininess),this.clearcoat!==void 0&&(s.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(s.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(s.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(s.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,s.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(s.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(s.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(s.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(s.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(s.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(s.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(s.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(s.lightMap=this.lightMap.toJSON(e).uuid,s.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(s.aoMap=this.aoMap.toJSON(e).uuid,s.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(s.bumpMap=this.bumpMap.toJSON(e).uuid,s.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(s.normalMap=this.normalMap.toJSON(e).uuid,s.normalMapType=this.normalMapType,s.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(s.displacementMap=this.displacementMap.toJSON(e).uuid,s.displacementScale=this.displacementScale,s.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(s.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(s.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(s.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(s.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(s.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(s.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(s.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(s.combine=this.combine)),this.envMapIntensity!==void 0&&(s.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(s.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(s.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(s.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(s.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(s.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(s.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(s.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(s.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(s.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(s.size=this.size),this.shadowSide!==null&&(s.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(s.sizeAttenuation=this.sizeAttenuation),this.blending!==_c&&(s.blending=this.blending),this.side!==Ic&&(s.side=this.side),this.vertexColors&&(s.vertexColors=!0),this.opacity<1&&(s.opacity=this.opacity),this.transparent===!0&&(s.transparent=this.transparent),s.depthFunc=this.depthFunc,s.depthTest=this.depthTest,s.depthWrite=this.depthWrite,s.colorWrite=this.colorWrite,s.stencilWrite=this.stencilWrite,s.stencilWriteMask=this.stencilWriteMask,s.stencilFunc=this.stencilFunc,s.stencilRef=this.stencilRef,s.stencilFuncMask=this.stencilFuncMask,s.stencilFail=this.stencilFail,s.stencilZFail=this.stencilZFail,s.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(s.rotation=this.rotation),this.polygonOffset===!0&&(s.polygonOffset=!0),this.polygonOffsetFactor!==0&&(s.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(s.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(s.linewidth=this.linewidth),this.dashSize!==void 0&&(s.dashSize=this.dashSize),this.gapSize!==void 0&&(s.gapSize=this.gapSize),this.scale!==void 0&&(s.scale=this.scale),this.dithering===!0&&(s.dithering=!0),this.alphaTest>0&&(s.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(s.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(s.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(s.wireframe=this.wireframe),this.wireframeLinewidth>1&&(s.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(s.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(s.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(s.flatShading=this.flatShading),this.visible===!1&&(s.visible=!1),this.toneMapped===!1&&(s.toneMapped=!1),this.fog===!1&&(s.fog=!1),JSON.stringify(this.userData)!=="{}"&&(s.userData=this.userData);function i(r){const o=[];for(const a in r){const l=r[a];delete l.metadata,o.push(l)}return o}if(n){const r=i(e.textures),o=i(e.images);r.length>0&&(s.textures=r),o.length>0&&(s.images=o)}return s}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let s=null;if(n!==null){const i=n.length;s=new Array(i);for(let r=0;r!==i;++r)s[r]=n[r].clone()}return this.clippingPlanes=s,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Eo extends Yi{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new nt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=s5,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const wn=new J,dh=new bt;class ks{constructor(e,n,s){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=s===!0,this.usage=z1,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,n,s){e*=this.itemSize,s*=n.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[e+i]=n.array[s+i];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const n=this.array;let s=0;for(let i=0,r=e.length;i<r;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new nt),n[s++]=o.r,n[s++]=o.g,n[s++]=o.b}return this}copyVector2sArray(e){const n=this.array;let s=0;for(let i=0,r=e.length;i<r;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new bt),n[s++]=o.x,n[s++]=o.y}return this}copyVector3sArray(e){const n=this.array;let s=0;for(let i=0,r=e.length;i<r;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new J),n[s++]=o.x,n[s++]=o.y,n[s++]=o.z}return this}copyVector4sArray(e){const n=this.array;let s=0;for(let i=0,r=e.length;i<r;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new Ut),n[s++]=o.x,n[s++]=o.y,n[s++]=o.z,n[s++]=o.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,s=this.count;n<s;n++)dh.fromBufferAttribute(this,n),dh.applyMatrix3(e),this.setXY(n,dh.x,dh.y);else if(this.itemSize===3)for(let n=0,s=this.count;n<s;n++)wn.fromBufferAttribute(this,n),wn.applyMatrix3(e),this.setXYZ(n,wn.x,wn.y,wn.z);return this}applyMatrix4(e){for(let n=0,s=this.count;n<s;n++)wn.fromBufferAttribute(this,n),wn.applyMatrix4(e),this.setXYZ(n,wn.x,wn.y,wn.z);return this}applyNormalMatrix(e){for(let n=0,s=this.count;n<s;n++)wn.fromBufferAttribute(this,n),wn.applyNormalMatrix(e),this.setXYZ(n,wn.x,wn.y,wn.z);return this}transformDirection(e){for(let n=0,s=this.count;n<s;n++)wn.fromBufferAttribute(this,n),wn.transformDirection(e),this.setXYZ(n,wn.x,wn.y,wn.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){return this.array[e*this.itemSize]}setX(e,n){return this.array[e*this.itemSize]=n,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,n){return this.array[e*this.itemSize+1]=n,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,n){return this.array[e*this.itemSize+2]=n,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,n){return this.array[e*this.itemSize+3]=n,this}setXY(e,n,s){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=s,this}setXYZ(e,n,s,i){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=s,this.array[e+2]=i,this}setXYZW(e,n,s,i,r){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=s,this.array[e+2]=i,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==z1&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class m5 extends ks{constructor(e,n,s){super(new Uint16Array(e),n,s)}}class g5 extends ks{constructor(e,n,s){super(new Uint32Array(e),n,s)}}class Ir extends ks{constructor(e,n,s){super(new Float32Array(e),n,s)}}let LW=0;const Ds=new At,i_=new bn,Pl=new J,Ss=new su,Ru=new su,Rn=new J;class or extends nu{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:LW++}),this.uuid=xi(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(c5(e)?g5:m5)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,s=0){this.groups.push({start:e,count:n,materialIndex:s})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const s=this.attributes.normal;if(s!==void 0){const r=new js().getNormalMatrix(e);s.applyNormalMatrix(r),s.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ds.makeRotationFromQuaternion(e),this.applyMatrix4(Ds),this}rotateX(e){return Ds.makeRotationX(e),this.applyMatrix4(Ds),this}rotateY(e){return Ds.makeRotationY(e),this.applyMatrix4(Ds),this}rotateZ(e){return Ds.makeRotationZ(e),this.applyMatrix4(Ds),this}translate(e,n,s){return Ds.makeTranslation(e,n,s),this.applyMatrix4(Ds),this}scale(e,n,s){return Ds.makeScale(e,n,s),this.applyMatrix4(Ds),this}lookAt(e){return i_.lookAt(e),i_.updateMatrix(),this.applyMatrix4(i_.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Pl).negate(),this.translate(Pl.x,Pl.y,Pl.z),this}setFromPoints(e){const n=[];for(let s=0,i=e.length;s<i;s++){const r=e[s];n.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Ir(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new su);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new J(-1/0,-1/0,-1/0),new J(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let s=0,i=n.length;s<i;s++){const r=n[s];Ss.setFromBufferAttribute(r),this.morphTargetsRelative?(Rn.addVectors(this.boundingBox.min,Ss.min),this.boundingBox.expandByPoint(Rn),Rn.addVectors(this.boundingBox.max,Ss.max),this.boundingBox.expandByPoint(Rn)):(this.boundingBox.expandByPoint(Ss.min),this.boundingBox.expandByPoint(Ss.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new iu);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new J,1/0);return}if(e){const s=this.boundingSphere.center;if(Ss.setFromBufferAttribute(e),n)for(let r=0,o=n.length;r<o;r++){const a=n[r];Ru.setFromBufferAttribute(a),this.morphTargetsRelative?(Rn.addVectors(Ss.min,Ru.min),Ss.expandByPoint(Rn),Rn.addVectors(Ss.max,Ru.max),Ss.expandByPoint(Rn)):(Ss.expandByPoint(Ru.min),Ss.expandByPoint(Ru.max))}Ss.getCenter(s);let i=0;for(let r=0,o=e.count;r<o;r++)Rn.fromBufferAttribute(e,r),i=Math.max(i,s.distanceToSquared(Rn));if(n)for(let r=0,o=n.length;r<o;r++){const a=n[r],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Rn.fromBufferAttribute(a,c),l&&(Pl.fromBufferAttribute(e,c),Rn.add(Pl)),i=Math.max(i,s.distanceToSquared(Rn))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const s=e.array,i=n.position.array,r=n.normal.array,o=n.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ks(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let C=0;C<a;C++)c[C]=new J,u[C]=new J;const d=new J,f=new J,h=new J,_=new bt,p=new bt,m=new bt,y=new J,b=new J;function v(C,A,R){d.fromArray(i,C*3),f.fromArray(i,A*3),h.fromArray(i,R*3),_.fromArray(o,C*2),p.fromArray(o,A*2),m.fromArray(o,R*2),f.sub(d),h.sub(d),p.sub(_),m.sub(_);const $=1/(p.x*m.y-m.x*p.y);isFinite($)&&(y.copy(f).multiplyScalar(m.y).addScaledVector(h,-p.y).multiplyScalar($),b.copy(h).multiplyScalar(p.x).addScaledVector(f,-m.x).multiplyScalar($),c[C].add(y),c[A].add(y),c[R].add(y),u[C].add(b),u[A].add(b),u[R].add(b))}let w=this.groups;w.length===0&&(w=[{start:0,count:s.length}]);for(let C=0,A=w.length;C<A;++C){const R=w[C],$=R.start,F=R.count;for(let D=$,I=$+F;D<I;D+=3)v(s[D+0],s[D+1],s[D+2])}const S=new J,x=new J,T=new J,E=new J;function M(C){T.fromArray(r,C*3),E.copy(T);const A=c[C];S.copy(A),S.sub(T.multiplyScalar(T.dot(A))).normalize(),x.crossVectors(E,A);const $=x.dot(u[C])<0?-1:1;l[C*4]=S.x,l[C*4+1]=S.y,l[C*4+2]=S.z,l[C*4+3]=$}for(let C=0,A=w.length;C<A;++C){const R=w[C],$=R.start,F=R.count;for(let D=$,I=$+F;D<I;D+=3)M(s[D+0]),M(s[D+1]),M(s[D+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let s=this.getAttribute("normal");if(s===void 0)s=new ks(new Float32Array(n.count*3),3),this.setAttribute("normal",s);else for(let f=0,h=s.count;f<h;f++)s.setXYZ(f,0,0,0);const i=new J,r=new J,o=new J,a=new J,l=new J,c=new J,u=new J,d=new J;if(e)for(let f=0,h=e.count;f<h;f+=3){const _=e.getX(f+0),p=e.getX(f+1),m=e.getX(f+2);i.fromBufferAttribute(n,_),r.fromBufferAttribute(n,p),o.fromBufferAttribute(n,m),u.subVectors(o,r),d.subVectors(i,r),u.cross(d),a.fromBufferAttribute(s,_),l.fromBufferAttribute(s,p),c.fromBufferAttribute(s,m),a.add(u),l.add(u),c.add(u),s.setXYZ(_,a.x,a.y,a.z),s.setXYZ(p,l.x,l.y,l.z),s.setXYZ(m,c.x,c.y,c.z)}else for(let f=0,h=n.count;f<h;f+=3)i.fromBufferAttribute(n,f+0),r.fromBufferAttribute(n,f+1),o.fromBufferAttribute(n,f+2),u.subVectors(o,r),d.subVectors(i,r),u.cross(d),s.setXYZ(f+0,u.x,u.y,u.z),s.setXYZ(f+1,u.x,u.y,u.z),s.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),s.needsUpdate=!0}}merge(e,n){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}n===void 0&&(n=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const s=this.attributes;for(const i in s){if(e.attributes[i]===void 0)continue;const o=s[i].array,a=e.attributes[i],l=a.array,c=a.itemSize*n,u=Math.min(l.length,o.length-c);for(let d=0,f=c;d<u;d++,f++)o[f]=l[d]}return this}normalizeNormals(){const e=this.attributes.normal;for(let n=0,s=e.count;n<s;n++)Rn.fromBufferAttribute(e,n),Rn.normalize(),e.setXYZ(n,Rn.x,Rn.y,Rn.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,f=new c.constructor(l.length*u);let h=0,_=0;for(let p=0,m=l.length;p<m;p++){a.isInterleavedBufferAttribute?h=l[p]*a.data.stride+a.offset:h=l[p]*u;for(let y=0;y<u;y++)f[_++]=c[h++]}return new ks(f,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new or,s=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,s);n.setAttribute(a,c)}const r=this.morphAttributes;for(const a in r){const l=[],c=r[a];for(let u=0,d=c.length;u<d;u++){const f=c[u],h=e(f,s);l.push(h)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const s=this.attributes;for(const l in s){const c=s[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let r=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,f=c.length;d<f;d++){const h=c[d];u.push(h.toJSON(e.data))}u.length>0&&(i[l]=u,r=!0)}r&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const s=e.index;s!==null&&this.setIndex(s.clone(n));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const r=e.morphAttributes;for(const c in r){const u=[],d=r[c];for(let f=0,h=d.length;f<h;f++)u.push(d[f].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const Zx=new At,Ll=new Qb,r_=new iu,no=new J,so=new J,io=new J,o_=new J,a_=new J,l_=new J,fh=new J,hh=new J,ph=new J,mh=new bt,gh=new bt,_h=new bt,c_=new J,yh=new J;class _i extends bn{constructor(e=new or,n=new Eo){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,s=Object.keys(n);if(s.length>0){const i=n[s[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=i.length;r<o;r++){const a=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}raycast(e,n){const s=this.geometry,i=this.material,r=this.matrixWorld;if(i===void 0||(s.boundingSphere===null&&s.computeBoundingSphere(),r_.copy(s.boundingSphere),r_.applyMatrix4(r),e.ray.intersectsSphere(r_)===!1)||(Zx.copy(r).invert(),Ll.copy(e.ray).applyMatrix4(Zx),s.boundingBox!==null&&Ll.intersectsBox(s.boundingBox)===!1))return;let o;const a=s.index,l=s.attributes.position,c=s.morphAttributes.position,u=s.morphTargetsRelative,d=s.attributes.uv,f=s.attributes.uv2,h=s.groups,_=s.drawRange;if(a!==null)if(Array.isArray(i))for(let p=0,m=h.length;p<m;p++){const y=h[p],b=i[y.materialIndex],v=Math.max(y.start,_.start),w=Math.min(a.count,Math.min(y.start+y.count,_.start+_.count));for(let S=v,x=w;S<x;S+=3){const T=a.getX(S),E=a.getX(S+1),M=a.getX(S+2);o=bh(this,b,e,Ll,l,c,u,d,f,T,E,M),o&&(o.faceIndex=Math.floor(S/3),o.face.materialIndex=y.materialIndex,n.push(o))}}else{const p=Math.max(0,_.start),m=Math.min(a.count,_.start+_.count);for(let y=p,b=m;y<b;y+=3){const v=a.getX(y),w=a.getX(y+1),S=a.getX(y+2);o=bh(this,i,e,Ll,l,c,u,d,f,v,w,S),o&&(o.faceIndex=Math.floor(y/3),n.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let p=0,m=h.length;p<m;p++){const y=h[p],b=i[y.materialIndex],v=Math.max(y.start,_.start),w=Math.min(l.count,Math.min(y.start+y.count,_.start+_.count));for(let S=v,x=w;S<x;S+=3){const T=S,E=S+1,M=S+2;o=bh(this,b,e,Ll,l,c,u,d,f,T,E,M),o&&(o.faceIndex=Math.floor(S/3),o.face.materialIndex=y.materialIndex,n.push(o))}}else{const p=Math.max(0,_.start),m=Math.min(l.count,_.start+_.count);for(let y=p,b=m;y<b;y+=3){const v=y,w=y+1,S=y+2;o=bh(this,i,e,Ll,l,c,u,d,f,v,w,S),o&&(o.faceIndex=Math.floor(y/3),n.push(o))}}}}function IW(t,e,n,s,i,r,o,a){let l;if(e.side===wi?l=s.intersectTriangle(o,r,i,!0,a):l=s.intersectTriangle(i,r,o,e.side!==ja,a),l===null)return null;yh.copy(a),yh.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(yh);return c<n.near||c>n.far?null:{distance:c,point:yh.clone(),object:t}}function bh(t,e,n,s,i,r,o,a,l,c,u,d){no.fromBufferAttribute(i,c),so.fromBufferAttribute(i,u),io.fromBufferAttribute(i,d);const f=t.morphTargetInfluences;if(r&&f){fh.set(0,0,0),hh.set(0,0,0),ph.set(0,0,0);for(let _=0,p=r.length;_<p;_++){const m=f[_],y=r[_];m!==0&&(o_.fromBufferAttribute(y,c),a_.fromBufferAttribute(y,u),l_.fromBufferAttribute(y,d),o?(fh.addScaledVector(o_,m),hh.addScaledVector(a_,m),ph.addScaledVector(l_,m)):(fh.addScaledVector(o_.sub(no),m),hh.addScaledVector(a_.sub(so),m),ph.addScaledVector(l_.sub(io),m)))}no.add(fh),so.add(hh),io.add(ph)}t.isSkinnedMesh&&(t.boneTransform(c,no),t.boneTransform(u,so),t.boneTransform(d,io));const h=IW(t,e,n,s,no,so,io,c_);if(h){a&&(mh.fromBufferAttribute(a,c),gh.fromBufferAttribute(a,u),_h.fromBufferAttribute(a,d),h.uv=kr.getUV(c_,no,so,io,mh,gh,_h,new bt)),l&&(mh.fromBufferAttribute(l,c),gh.fromBufferAttribute(l,u),_h.fromBufferAttribute(l,d),h.uv2=kr.getUV(c_,no,so,io,mh,gh,_h,new bt));const _={a:c,b:u,c:d,normal:new J,materialIndex:0};kr.getNormal(no,so,io,_.normal),h.face=_}return h}class ru extends or{constructor(e=1,n=1,s=1,i=1,r=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:s,widthSegments:i,heightSegments:r,depthSegments:o};const a=this;i=Math.floor(i),r=Math.floor(r),o=Math.floor(o);const l=[],c=[],u=[],d=[];let f=0,h=0;_("z","y","x",-1,-1,s,n,e,o,r,0),_("z","y","x",1,-1,s,n,-e,o,r,1),_("x","z","y",1,1,e,s,n,i,o,2),_("x","z","y",1,-1,e,s,-n,i,o,3),_("x","y","z",1,-1,e,n,s,i,r,4),_("x","y","z",-1,-1,e,n,-s,i,r,5),this.setIndex(l),this.setAttribute("position",new Ir(c,3)),this.setAttribute("normal",new Ir(u,3)),this.setAttribute("uv",new Ir(d,2));function _(p,m,y,b,v,w,S,x,T,E,M){const C=w/T,A=S/E,R=w/2,$=S/2,F=x/2,D=T+1,I=E+1;let B=0,W=0;const Y=new J;for(let j=0;j<I;j++){const pe=j*A-$;for(let O=0;O<D;O++){const G=O*C-R;Y[p]=G*b,Y[m]=pe*v,Y[y]=F,c.push(Y.x,Y.y,Y.z),Y[p]=0,Y[m]=0,Y[y]=x>0?1:-1,u.push(Y.x,Y.y,Y.z),d.push(O/T),d.push(1-j/E),B+=1}}for(let j=0;j<E;j++)for(let pe=0;pe<T;pe++){const O=f+pe+D*j,G=f+pe+D*(j+1),te=f+(pe+1)+D*(j+1),H=f+(pe+1)+D*j;l.push(O,G,H),l.push(G,te,H),W+=6}a.addGroup(h,W,M),h+=W,f+=B}}static fromJSON(e){return new ru(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Bc(t){const e={};for(const n in t){e[n]={};for(const s in t[n]){const i=t[n][s];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[n][s]=i.clone():Array.isArray(i)?e[n][s]=i.slice():e[n][s]=i}}return e}function $n(t){const e={};for(let n=0;n<t.length;n++){const s=Bc(t[n]);for(const i in s)e[i]=s[i]}return e}const DW={clone:Bc,merge:$n};var FW=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,NW=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Xa extends Yi{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=FW,this.fragmentShader=NW,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Bc(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader;const s={};for(const i in this.extensions)this.extensions[i]===!0&&(s[i]=!0);return Object.keys(s).length>0&&(n.extensions=s),n}}class _5 extends bn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new At,this.projectionMatrix=new At,this.projectionMatrixInverse=new At}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class is extends _5{constructor(e=50,n=1,s=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=s,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Vd*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(md*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Vd*2*Math.atan(Math.tan(md*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,s,i,r,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=s,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(md*.5*this.fov)/this.zoom,s=2*n,i=this.aspect*s,r=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;r+=o.offsetX*i/l,n-=o.offsetY*s/c,i*=o.width/l,s*=o.height/c}const a=this.filmOffset;a!==0&&(r+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,n,n-s,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Il=90,Dl=1;class UW extends bn{constructor(e,n,s){if(super(),this.type="CubeCamera",s.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=s;const i=new is(Il,Dl,e,n);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new J(1,0,0)),this.add(i);const r=new is(Il,Dl,e,n);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new J(-1,0,0)),this.add(r);const o=new is(Il,Dl,e,n);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new J(0,1,0)),this.add(o);const a=new is(Il,Dl,e,n);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new J(0,-1,0)),this.add(a);const l=new is(Il,Dl,e,n);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new J(0,0,1)),this.add(l);const c=new is(Il,Dl,e,n);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new J(0,0,-1)),this.add(c)}update(e,n){this.parent===null&&this.updateMatrixWorld();const s=this.renderTarget,[i,r,o,a,l,c]=this.children,u=e.getRenderTarget(),d=e.toneMapping,f=e.xr.enabled;e.toneMapping=Lr,e.xr.enabled=!1;const h=s.texture.generateMipmaps;s.texture.generateMipmaps=!1,e.setRenderTarget(s,0),e.render(n,i),e.setRenderTarget(s,1),e.render(n,r),e.setRenderTarget(s,2),e.render(n,o),e.setRenderTarget(s,3),e.render(n,a),e.setRenderTarget(s,4),e.render(n,l),s.texture.generateMipmaps=h,e.setRenderTarget(s,5),e.render(n,c),e.setRenderTarget(u),e.toneMapping=d,e.xr.enabled=f,s.texture.needsPMREMUpdate=!0}}class y5 extends os{constructor(e,n,s,i,r,o,a,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:Dc,super(e,n,s,i,r,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class $W extends Ka{constructor(e,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const s={width:e,height:e,depth:1},i=[s,s,s,s,s,s];this.texture=new y5(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:_s}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.encoding=n.encoding,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const s={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new ru(5,5,5),r=new Xa({name:"CubemapFromEquirect",uniforms:Bc(s.uniforms),vertexShader:s.vertexShader,fragmentShader:s.fragmentShader,side:wi,blending:Io});r.uniforms.tEquirect.value=n;const o=new _i(i,r),a=n.minFilter;return n.minFilter===tu&&(n.minFilter=_s),new UW(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,s,i){const r=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,s,i);e.setRenderTarget(r)}}const u_=new J,BW=new J,zW=new js;class ca{constructor(e=new J(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,s,i){return this.normal.set(e,n,s),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,s){const i=u_.subVectors(s,n).cross(BW.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,n){const s=e.delta(u_),i=this.normal.dot(s);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/i;return r<0||r>1?null:n.copy(s).multiplyScalar(r).add(e.start)}intersectsLine(e){const n=this.distanceToPoint(e.start),s=this.distanceToPoint(e.end);return n<0&&s>0||s<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const s=n||zW.getNormalMatrix(e),i=this.coplanarPoint(u_).applyMatrix4(e),r=this.normal.applyMatrix3(s).normalize();return this.constant=-i.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Fl=new iu,vh=new J;class ev{constructor(e=new ca,n=new ca,s=new ca,i=new ca,r=new ca,o=new ca){this.planes=[e,n,s,i,r,o]}set(e,n,s,i,r,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(s),a[3].copy(i),a[4].copy(r),a[5].copy(o),this}copy(e){const n=this.planes;for(let s=0;s<6;s++)n[s].copy(e.planes[s]);return this}setFromProjectionMatrix(e){const n=this.planes,s=e.elements,i=s[0],r=s[1],o=s[2],a=s[3],l=s[4],c=s[5],u=s[6],d=s[7],f=s[8],h=s[9],_=s[10],p=s[11],m=s[12],y=s[13],b=s[14],v=s[15];return n[0].setComponents(a-i,d-l,p-f,v-m).normalize(),n[1].setComponents(a+i,d+l,p+f,v+m).normalize(),n[2].setComponents(a+r,d+c,p+h,v+y).normalize(),n[3].setComponents(a-r,d-c,p-h,v-y).normalize(),n[4].setComponents(a-o,d-u,p-_,v-b).normalize(),n[5].setComponents(a+o,d+u,p+_,v+b).normalize(),this}intersectsObject(e){const n=e.geometry;return n.boundingSphere===null&&n.computeBoundingSphere(),Fl.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Fl)}intersectsSprite(e){return Fl.center.set(0,0,0),Fl.radius=.7071067811865476,Fl.applyMatrix4(e.matrixWorld),this.intersectsSphere(Fl)}intersectsSphere(e){const n=this.planes,s=e.center,i=-e.radius;for(let r=0;r<6;r++)if(n[r].distanceToPoint(s)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let s=0;s<6;s++){const i=n[s];if(vh.x=i.normal.x>0?e.max.x:e.min.x,vh.y=i.normal.y>0?e.max.y:e.min.y,vh.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(vh)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let s=0;s<6;s++)if(n[s].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function b5(){let t=null,e=!1,n=null,s=null;function i(r,o){n(r,o),s=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(s=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(s),e=!1},setAnimationLoop:function(r){n=r},setContext:function(r){t=r}}}function GW(t,e){const n=e.isWebGL2,s=new WeakMap;function i(c,u){const d=c.array,f=c.usage,h=t.createBuffer();t.bindBuffer(u,h),t.bufferData(u,d,f),c.onUploadCallback();let _;if(d instanceof Float32Array)_=5126;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(n)_=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else _=5123;else if(d instanceof Int16Array)_=5122;else if(d instanceof Uint32Array)_=5125;else if(d instanceof Int32Array)_=5124;else if(d instanceof Int8Array)_=5120;else if(d instanceof Uint8Array)_=5121;else if(d instanceof Uint8ClampedArray)_=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:h,type:_,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}function r(c,u,d){const f=u.array,h=u.updateRange;t.bindBuffer(d,c),h.count===-1?t.bufferSubData(d,0,f):(n?t.bufferSubData(d,h.offset*f.BYTES_PER_ELEMENT,f,h.offset,h.count):t.bufferSubData(d,h.offset*f.BYTES_PER_ELEMENT,f.subarray(h.offset,h.offset+h.count)),h.count=-1)}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),s.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=s.get(c);u&&(t.deleteBuffer(u.buffer),s.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const f=s.get(c);(!f||f.version<c.version)&&s.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const d=s.get(c);d===void 0?s.set(c,i(c,u)):d.version<c.version&&(r(d.buffer,c,u),d.version=c.version)}return{get:o,remove:a,update:l}}class tv extends or{constructor(e=1,n=1,s=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:s,heightSegments:i};const r=e/2,o=n/2,a=Math.floor(s),l=Math.floor(i),c=a+1,u=l+1,d=e/a,f=n/l,h=[],_=[],p=[],m=[];for(let y=0;y<u;y++){const b=y*f-o;for(let v=0;v<c;v++){const w=v*d-r;_.push(w,-b,0),p.push(0,0,1),m.push(v/a),m.push(1-y/l)}}for(let y=0;y<l;y++)for(let b=0;b<a;b++){const v=b+c*y,w=b+c*(y+1),S=b+1+c*(y+1),x=b+1+c*y;h.push(v,w,x),h.push(w,S,x)}this.setIndex(h),this.setAttribute("position",new Ir(_,3)),this.setAttribute("normal",new Ir(p,3)),this.setAttribute("uv",new Ir(m,2))}static fromJSON(e){return new tv(e.width,e.height,e.widthSegments,e.heightSegments)}}var HW=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,VW=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,WW=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,jW=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,qW=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,YW=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,KW="vec3 transformed = vec3( position );",XW=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,ZW=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = mix(F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence);
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,JW=`#ifdef USE_IRIDESCENCE
const mat3 XYZ_TO_REC709 = mat3(
    3.2404542, -0.9692660,  0.0556434,
   -1.5371385,  1.8760108, -0.2040259,
   -0.4985314,  0.0415560,  1.0572252
);
vec3 Fresnel0ToIor( vec3 fresnel0 ) {
   vec3 sqrtF0 = sqrt( fresnel0 );
   return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
}
vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
   return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
}
float IorToFresnel0( float transmittedIor, float incidentIor ) {
   return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
}
vec3 evalSensitivity( float OPD, vec3 shift ) {
   float phase = 2.0 * PI * OPD * 1.0e-9;
   vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
   vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
   vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
   vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( -pow2( phase ) * var );
   xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[0] ) * exp( -4.5282e+09 * pow2( phase ) );
   xyz /= 1.0685e-7;
   vec3 srgb = XYZ_TO_REC709 * xyz;
   return srgb;
}
vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
   vec3 I;
   float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
   float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
   float cosTheta2Sq = 1.0 - sinTheta2Sq;
   if ( cosTheta2Sq < 0.0 ) {
       return vec3( 1.0 );
   }
   float cosTheta2 = sqrt( cosTheta2Sq );
   float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
   float R12 = F_Schlick( R0, 1.0, cosTheta1 );
   float R21 = R12;
   float T121 = 1.0 - R12;
   float phi12 = 0.0;
   if ( iridescenceIOR < outsideIOR ) phi12 = PI;
   float phi21 = PI - phi12;
   vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );   vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
   vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
   vec3 phi23 = vec3( 0.0 );
   if ( baseIOR[0] < iridescenceIOR ) phi23[0] = PI;
   if ( baseIOR[1] < iridescenceIOR ) phi23[1] = PI;
   if ( baseIOR[2] < iridescenceIOR ) phi23[2] = PI;
   float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
   vec3 phi = vec3( phi21 ) + phi23;
   vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
   vec3 r123 = sqrt( R123 );
   vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
   vec3 C0 = R12 + Rs;
   I = C0;
   vec3 Cm = Rs - T121;
   for ( int m = 1; m <= 2; ++m ) {
       Cm *= r123;
       vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
       I += Cm * Sm;
   }
   return max( I, vec3( 0.0 ) );
}
#endif`,QW=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,ej=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,tj=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,nj=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,sj=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,ij=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,rj=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,oj=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,aj=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,lj=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,cj=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,uj=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,dj=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,fj=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,hj=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,pj=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,mj="gl_FragColor = linearToOutputTexel( gl_FragColor );",gj=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,_j=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,yj=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,bj=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,vj=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,wj=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,xj=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Sj=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Ej=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Tj=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Mj=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,Aj=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,kj=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Rj=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,Cj=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Oj=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,Pj=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Lj=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,Ij=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Dj=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,Fj=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,Nj=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Uj=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
float dotNVi = saturate( dot( normal, geometry.viewDir ) );
if ( material.iridescenceThickness == 0.0 ) {
	material.iridescence = 0.0;
} else {
	material.iridescence = saturate( material.iridescence );
}
if ( material.iridescence > 0.0 ) {
	material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
	material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,$j=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Bj=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,zj=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Gj=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Hj=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Vj=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Wj=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,jj=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,qj=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Yj=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Kj=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Xj=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Zj=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Jj=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,Qj=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,eq=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,tq=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,nq=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,sq=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,iq=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,rq=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,oq=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,aq=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,lq=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,cq=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,uq=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,dq=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,fq=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,hq=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,pq=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,mq=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,gq=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,_q=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,yq=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,bq=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,vq=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,wq=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,xq=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Sq=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Eq=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,Tq=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Mq=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Aq=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,kq=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Rq=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Cq=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Oq=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,Pq=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,Lq=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,Iq=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,Dq=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,Fq=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,Nq=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,Uq=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,$q=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Bq=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,zq=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Gq=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Hq=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Vq=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Wq=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,jq=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,qq=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Yq=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Kq=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Xq=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Zq=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Jq=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Qq=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,eY=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,tY=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nY=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,sY=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,iY=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,rY=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,oY=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,aY=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lY=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,cY=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,uY=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,dY=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fY=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,hY=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,pY=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,mY=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,gY=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,_Y=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,pt={alphamap_fragment:HW,alphamap_pars_fragment:VW,alphatest_fragment:WW,alphatest_pars_fragment:jW,aomap_fragment:qW,aomap_pars_fragment:YW,begin_vertex:KW,beginnormal_vertex:XW,bsdfs:ZW,iridescence_fragment:JW,bumpmap_pars_fragment:QW,clipping_planes_fragment:ej,clipping_planes_pars_fragment:tj,clipping_planes_pars_vertex:nj,clipping_planes_vertex:sj,color_fragment:ij,color_pars_fragment:rj,color_pars_vertex:oj,color_vertex:aj,common:lj,cube_uv_reflection_fragment:cj,defaultnormal_vertex:uj,displacementmap_pars_vertex:dj,displacementmap_vertex:fj,emissivemap_fragment:hj,emissivemap_pars_fragment:pj,encodings_fragment:mj,encodings_pars_fragment:gj,envmap_fragment:_j,envmap_common_pars_fragment:yj,envmap_pars_fragment:bj,envmap_pars_vertex:vj,envmap_physical_pars_fragment:Oj,envmap_vertex:wj,fog_vertex:xj,fog_pars_vertex:Sj,fog_fragment:Ej,fog_pars_fragment:Tj,gradientmap_pars_fragment:Mj,lightmap_fragment:Aj,lightmap_pars_fragment:kj,lights_lambert_vertex:Rj,lights_pars_begin:Cj,lights_toon_fragment:Pj,lights_toon_pars_fragment:Lj,lights_phong_fragment:Ij,lights_phong_pars_fragment:Dj,lights_physical_fragment:Fj,lights_physical_pars_fragment:Nj,lights_fragment_begin:Uj,lights_fragment_maps:$j,lights_fragment_end:Bj,logdepthbuf_fragment:zj,logdepthbuf_pars_fragment:Gj,logdepthbuf_pars_vertex:Hj,logdepthbuf_vertex:Vj,map_fragment:Wj,map_pars_fragment:jj,map_particle_fragment:qj,map_particle_pars_fragment:Yj,metalnessmap_fragment:Kj,metalnessmap_pars_fragment:Xj,morphcolor_vertex:Zj,morphnormal_vertex:Jj,morphtarget_pars_vertex:Qj,morphtarget_vertex:eq,normal_fragment_begin:tq,normal_fragment_maps:nq,normal_pars_fragment:sq,normal_pars_vertex:iq,normal_vertex:rq,normalmap_pars_fragment:oq,clearcoat_normal_fragment_begin:aq,clearcoat_normal_fragment_maps:lq,clearcoat_pars_fragment:cq,iridescence_pars_fragment:uq,output_fragment:dq,packing:fq,premultiplied_alpha_fragment:hq,project_vertex:pq,dithering_fragment:mq,dithering_pars_fragment:gq,roughnessmap_fragment:_q,roughnessmap_pars_fragment:yq,shadowmap_pars_fragment:bq,shadowmap_pars_vertex:vq,shadowmap_vertex:wq,shadowmask_pars_fragment:xq,skinbase_vertex:Sq,skinning_pars_vertex:Eq,skinning_vertex:Tq,skinnormal_vertex:Mq,specularmap_fragment:Aq,specularmap_pars_fragment:kq,tonemapping_fragment:Rq,tonemapping_pars_fragment:Cq,transmission_fragment:Oq,transmission_pars_fragment:Pq,uv_pars_fragment:Lq,uv_pars_vertex:Iq,uv_vertex:Dq,uv2_pars_fragment:Fq,uv2_pars_vertex:Nq,uv2_vertex:Uq,worldpos_vertex:$q,background_vert:Bq,background_frag:zq,cube_vert:Gq,cube_frag:Hq,depth_vert:Vq,depth_frag:Wq,distanceRGBA_vert:jq,distanceRGBA_frag:qq,equirect_vert:Yq,equirect_frag:Kq,linedashed_vert:Xq,linedashed_frag:Zq,meshbasic_vert:Jq,meshbasic_frag:Qq,meshlambert_vert:eY,meshlambert_frag:tY,meshmatcap_vert:nY,meshmatcap_frag:sY,meshnormal_vert:iY,meshnormal_frag:rY,meshphong_vert:oY,meshphong_frag:aY,meshphysical_vert:lY,meshphysical_frag:cY,meshtoon_vert:uY,meshtoon_frag:dY,points_vert:fY,points_frag:hY,shadow_vert:pY,shadow_frag:mY,sprite_vert:gY,sprite_frag:_Y},De={common:{diffuse:{value:new nt(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new js},uv2Transform:{value:new js},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new bt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new nt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new nt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new js}},sprite:{diffuse:{value:new nt(16777215)},opacity:{value:1},center:{value:new bt(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new js}}},Gi={basic:{uniforms:$n([De.common,De.specularmap,De.envmap,De.aomap,De.lightmap,De.fog]),vertexShader:pt.meshbasic_vert,fragmentShader:pt.meshbasic_frag},lambert:{uniforms:$n([De.common,De.specularmap,De.envmap,De.aomap,De.lightmap,De.emissivemap,De.fog,De.lights,{emissive:{value:new nt(0)}}]),vertexShader:pt.meshlambert_vert,fragmentShader:pt.meshlambert_frag},phong:{uniforms:$n([De.common,De.specularmap,De.envmap,De.aomap,De.lightmap,De.emissivemap,De.bumpmap,De.normalmap,De.displacementmap,De.fog,De.lights,{emissive:{value:new nt(0)},specular:{value:new nt(1118481)},shininess:{value:30}}]),vertexShader:pt.meshphong_vert,fragmentShader:pt.meshphong_frag},standard:{uniforms:$n([De.common,De.envmap,De.aomap,De.lightmap,De.emissivemap,De.bumpmap,De.normalmap,De.displacementmap,De.roughnessmap,De.metalnessmap,De.fog,De.lights,{emissive:{value:new nt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:pt.meshphysical_vert,fragmentShader:pt.meshphysical_frag},toon:{uniforms:$n([De.common,De.aomap,De.lightmap,De.emissivemap,De.bumpmap,De.normalmap,De.displacementmap,De.gradientmap,De.fog,De.lights,{emissive:{value:new nt(0)}}]),vertexShader:pt.meshtoon_vert,fragmentShader:pt.meshtoon_frag},matcap:{uniforms:$n([De.common,De.bumpmap,De.normalmap,De.displacementmap,De.fog,{matcap:{value:null}}]),vertexShader:pt.meshmatcap_vert,fragmentShader:pt.meshmatcap_frag},points:{uniforms:$n([De.points,De.fog]),vertexShader:pt.points_vert,fragmentShader:pt.points_frag},dashed:{uniforms:$n([De.common,De.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:pt.linedashed_vert,fragmentShader:pt.linedashed_frag},depth:{uniforms:$n([De.common,De.displacementmap]),vertexShader:pt.depth_vert,fragmentShader:pt.depth_frag},normal:{uniforms:$n([De.common,De.bumpmap,De.normalmap,De.displacementmap,{opacity:{value:1}}]),vertexShader:pt.meshnormal_vert,fragmentShader:pt.meshnormal_frag},sprite:{uniforms:$n([De.sprite,De.fog]),vertexShader:pt.sprite_vert,fragmentShader:pt.sprite_frag},background:{uniforms:{uvTransform:{value:new js},t2D:{value:null}},vertexShader:pt.background_vert,fragmentShader:pt.background_frag},cube:{uniforms:$n([De.envmap,{opacity:{value:1}}]),vertexShader:pt.cube_vert,fragmentShader:pt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:pt.equirect_vert,fragmentShader:pt.equirect_frag},distanceRGBA:{uniforms:$n([De.common,De.displacementmap,{referencePosition:{value:new J},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:pt.distanceRGBA_vert,fragmentShader:pt.distanceRGBA_frag},shadow:{uniforms:$n([De.lights,De.fog,{color:{value:new nt(0)},opacity:{value:1}}]),vertexShader:pt.shadow_vert,fragmentShader:pt.shadow_frag}};Gi.physical={uniforms:$n([Gi.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new bt(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new nt(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new bt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new nt(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new nt(1,1,1)},specularColorMap:{value:null}}]),vertexShader:pt.meshphysical_vert,fragmentShader:pt.meshphysical_frag};function yY(t,e,n,s,i,r){const o=new nt(0);let a=i===!0?0:1,l,c,u=null,d=0,f=null;function h(p,m){let y=!1,b=m.isScene===!0?m.background:null;b&&b.isTexture&&(b=e.get(b));const v=t.xr,w=v.getSession&&v.getSession();w&&w.environmentBlendMode==="additive"&&(b=null),b===null?_(o,a):b&&b.isColor&&(_(b,1),y=!0),(t.autoClear||y)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),b&&(b.isCubeTexture||b.mapping===vg)?(c===void 0&&(c=new _i(new ru(1,1,1),new Xa({name:"BackgroundCubeMaterial",uniforms:Bc(Gi.cube.uniforms),vertexShader:Gi.cube.vertexShader,fragmentShader:Gi.cube.fragmentShader,side:wi,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(S,x,T){this.matrixWorld.copyPosition(T.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(c)),c.material.uniforms.envMap.value=b,c.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,(u!==b||d!==b.version||f!==t.toneMapping)&&(c.material.needsUpdate=!0,u=b,d=b.version,f=t.toneMapping),c.layers.enableAll(),p.unshift(c,c.geometry,c.material,0,0,null)):b&&b.isTexture&&(l===void 0&&(l=new _i(new tv(2,2),new Xa({name:"BackgroundMaterial",uniforms:Bc(Gi.background.uniforms),vertexShader:Gi.background.vertexShader,fragmentShader:Gi.background.fragmentShader,side:Ic,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(l)),l.material.uniforms.t2D.value=b,b.matrixAutoUpdate===!0&&b.updateMatrix(),l.material.uniforms.uvTransform.value.copy(b.matrix),(u!==b||d!==b.version||f!==t.toneMapping)&&(l.material.needsUpdate=!0,u=b,d=b.version,f=t.toneMapping),l.layers.enableAll(),p.unshift(l,l.geometry,l.material,0,0,null))}function _(p,m){n.buffers.color.setClear(p.r,p.g,p.b,m,r)}return{getClearColor:function(){return o},setClearColor:function(p,m=1){o.set(p),a=m,_(o,a)},getClearAlpha:function(){return a},setClearAlpha:function(p){a=p,_(o,a)},render:h}}function bY(t,e,n,s){const i=t.getParameter(34921),r=s.isWebGL2?null:e.get("OES_vertex_array_object"),o=s.isWebGL2||r!==null,a={},l=m(null);let c=l,u=!1;function d(F,D,I,B,W){let Y=!1;if(o){const j=p(B,I,D);c!==j&&(c=j,h(c.object)),Y=y(F,B,I,W),Y&&b(F,B,I,W)}else{const j=D.wireframe===!0;(c.geometry!==B.id||c.program!==I.id||c.wireframe!==j)&&(c.geometry=B.id,c.program=I.id,c.wireframe=j,Y=!0)}W!==null&&n.update(W,34963),(Y||u)&&(u=!1,E(F,D,I,B),W!==null&&t.bindBuffer(34963,n.get(W).buffer))}function f(){return s.isWebGL2?t.createVertexArray():r.createVertexArrayOES()}function h(F){return s.isWebGL2?t.bindVertexArray(F):r.bindVertexArrayOES(F)}function _(F){return s.isWebGL2?t.deleteVertexArray(F):r.deleteVertexArrayOES(F)}function p(F,D,I){const B=I.wireframe===!0;let W=a[F.id];W===void 0&&(W={},a[F.id]=W);let Y=W[D.id];Y===void 0&&(Y={},W[D.id]=Y);let j=Y[B];return j===void 0&&(j=m(f()),Y[B]=j),j}function m(F){const D=[],I=[],B=[];for(let W=0;W<i;W++)D[W]=0,I[W]=0,B[W]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:D,enabledAttributes:I,attributeDivisors:B,object:F,attributes:{},index:null}}function y(F,D,I,B){const W=c.attributes,Y=D.attributes;let j=0;const pe=I.getAttributes();for(const O in pe)if(pe[O].location>=0){const te=W[O];let H=Y[O];if(H===void 0&&(O==="instanceMatrix"&&F.instanceMatrix&&(H=F.instanceMatrix),O==="instanceColor"&&F.instanceColor&&(H=F.instanceColor)),te===void 0||te.attribute!==H||H&&te.data!==H.data)return!0;j++}return c.attributesNum!==j||c.index!==B}function b(F,D,I,B){const W={},Y=D.attributes;let j=0;const pe=I.getAttributes();for(const O in pe)if(pe[O].location>=0){let te=Y[O];te===void 0&&(O==="instanceMatrix"&&F.instanceMatrix&&(te=F.instanceMatrix),O==="instanceColor"&&F.instanceColor&&(te=F.instanceColor));const H={};H.attribute=te,te&&te.data&&(H.data=te.data),W[O]=H,j++}c.attributes=W,c.attributesNum=j,c.index=B}function v(){const F=c.newAttributes;for(let D=0,I=F.length;D<I;D++)F[D]=0}function w(F){S(F,0)}function S(F,D){const I=c.newAttributes,B=c.enabledAttributes,W=c.attributeDivisors;I[F]=1,B[F]===0&&(t.enableVertexAttribArray(F),B[F]=1),W[F]!==D&&((s.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[s.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](F,D),W[F]=D)}function x(){const F=c.newAttributes,D=c.enabledAttributes;for(let I=0,B=D.length;I<B;I++)D[I]!==F[I]&&(t.disableVertexAttribArray(I),D[I]=0)}function T(F,D,I,B,W,Y){s.isWebGL2===!0&&(I===5124||I===5125)?t.vertexAttribIPointer(F,D,I,W,Y):t.vertexAttribPointer(F,D,I,B,W,Y)}function E(F,D,I,B){if(s.isWebGL2===!1&&(F.isInstancedMesh||B.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;v();const W=B.attributes,Y=I.getAttributes(),j=D.defaultAttributeValues;for(const pe in Y){const O=Y[pe];if(O.location>=0){let G=W[pe];if(G===void 0&&(pe==="instanceMatrix"&&F.instanceMatrix&&(G=F.instanceMatrix),pe==="instanceColor"&&F.instanceColor&&(G=F.instanceColor)),G!==void 0){const te=G.normalized,H=G.itemSize,z=n.get(G);if(z===void 0)continue;const ge=z.buffer,ue=z.type,ve=z.bytesPerElement;if(G.isInterleavedBufferAttribute){const ye=G.data,Oe=ye.stride,P=G.offset;if(ye.isInstancedInterleavedBuffer){for(let U=0;U<O.locationSize;U++)S(O.location+U,ye.meshPerAttribute);F.isInstancedMesh!==!0&&B._maxInstanceCount===void 0&&(B._maxInstanceCount=ye.meshPerAttribute*ye.count)}else for(let U=0;U<O.locationSize;U++)w(O.location+U);t.bindBuffer(34962,ge);for(let U=0;U<O.locationSize;U++)T(O.location+U,H/O.locationSize,ue,te,Oe*ve,(P+H/O.locationSize*U)*ve)}else{if(G.isInstancedBufferAttribute){for(let ye=0;ye<O.locationSize;ye++)S(O.location+ye,G.meshPerAttribute);F.isInstancedMesh!==!0&&B._maxInstanceCount===void 0&&(B._maxInstanceCount=G.meshPerAttribute*G.count)}else for(let ye=0;ye<O.locationSize;ye++)w(O.location+ye);t.bindBuffer(34962,ge);for(let ye=0;ye<O.locationSize;ye++)T(O.location+ye,H/O.locationSize,ue,te,H*ve,H/O.locationSize*ye*ve)}}else if(j!==void 0){const te=j[pe];if(te!==void 0)switch(te.length){case 2:t.vertexAttrib2fv(O.location,te);break;case 3:t.vertexAttrib3fv(O.location,te);break;case 4:t.vertexAttrib4fv(O.location,te);break;default:t.vertexAttrib1fv(O.location,te)}}}}x()}function M(){R();for(const F in a){const D=a[F];for(const I in D){const B=D[I];for(const W in B)_(B[W].object),delete B[W];delete D[I]}delete a[F]}}function C(F){if(a[F.id]===void 0)return;const D=a[F.id];for(const I in D){const B=D[I];for(const W in B)_(B[W].object),delete B[W];delete D[I]}delete a[F.id]}function A(F){for(const D in a){const I=a[D];if(I[F.id]===void 0)continue;const B=I[F.id];for(const W in B)_(B[W].object),delete B[W];delete I[F.id]}}function R(){$(),u=!0,c!==l&&(c=l,h(c.object))}function $(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:R,resetDefaultState:$,dispose:M,releaseStatesOfGeometry:C,releaseStatesOfProgram:A,initAttributes:v,enableAttribute:w,disableUnusedAttributes:x}}function vY(t,e,n,s){const i=s.isWebGL2;let r;function o(c){r=c}function a(c,u){t.drawArrays(r,c,u),n.update(u,r,1)}function l(c,u,d){if(d===0)return;let f,h;if(i)f=t,h="drawArraysInstanced";else if(f=e.get("ANGLE_instanced_arrays"),h="drawArraysInstancedANGLE",f===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[h](r,c,u,d),n.update(u,r,d)}this.setMode=o,this.render=a,this.renderInstances=l}function wY(t,e,n){let s;function i(){if(s!==void 0)return s;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");s=t.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s}function r(T){if(T==="highp"){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";T="mediump"}return T==="mediump"&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&t instanceof WebGL2ComputeRenderingContext;let a=n.precision!==void 0?n.precision:"highp";const l=r(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=n.logarithmicDepthBuffer===!0,d=t.getParameter(34930),f=t.getParameter(35660),h=t.getParameter(3379),_=t.getParameter(34076),p=t.getParameter(34921),m=t.getParameter(36347),y=t.getParameter(36348),b=t.getParameter(36349),v=f>0,w=o||e.has("OES_texture_float"),S=v&&w,x=o?t.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:r,precision:a,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:f,maxTextureSize:h,maxCubemapSize:_,maxAttributes:p,maxVertexUniforms:m,maxVaryings:y,maxFragmentUniforms:b,vertexTextures:v,floatFragmentTextures:w,floatVertexTextures:S,maxSamples:x}}function xY(t){const e=this;let n=null,s=0,i=!1,r=!1;const o=new ca,a=new js,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f,h){const _=d.length!==0||f||s!==0||i;return i=f,n=u(d,h,0),s=d.length,_},this.beginShadows=function(){r=!0,u(null)},this.endShadows=function(){r=!1,c()},this.setState=function(d,f,h){const _=d.clippingPlanes,p=d.clipIntersection,m=d.clipShadows,y=t.get(d);if(!i||_===null||_.length===0||r&&!m)r?u(null):c();else{const b=r?0:s,v=b*4;let w=y.clippingState||null;l.value=w,w=u(_,f,v,h);for(let S=0;S!==v;++S)w[S]=n[S];y.clippingState=w,this.numIntersection=p?this.numPlanes:0,this.numPlanes+=b}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=s>0),e.numPlanes=s,e.numIntersection=0}function u(d,f,h,_){const p=d!==null?d.length:0;let m=null;if(p!==0){if(m=l.value,_!==!0||m===null){const y=h+p*4,b=f.matrixWorldInverse;a.getNormalMatrix(b),(m===null||m.length<y)&&(m=new Float32Array(y));for(let v=0,w=h;v!==p;++v,w+=4)o.copy(d[v]).applyMatrix4(b,a),o.normal.toArray(m,w),m[w+3]=o.constant}l.value=m,l.needsUpdate=!0}return e.numPlanes=p,e.numIntersection=0,m}}function SY(t){let e=new WeakMap;function n(o,a){return a===N1?o.mapping=Dc:a===U1&&(o.mapping=Fc),o}function s(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===N1||a===U1)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new $W(l.height/2);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",i),n(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function r(){e=new WeakMap}return{get:s,dispose:r}}class nv extends _5{constructor(e=-1,n=1,s=1,i=-1,r=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=s,this.bottom=i,this.near=r,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,s,i,r,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=s,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),s=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=s-e,o=s+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=c*this.view.offsetX,o=r+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(r,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const ec=4,Jx=[.125,.215,.35,.446,.526,.582],ba=20,d_=new nv,Qx=new nt;let f_=null;const ua=(1+Math.sqrt(5))/2,Nl=1/ua,eS=[new J(1,1,1),new J(-1,1,1),new J(1,1,-1),new J(-1,1,-1),new J(0,ua,Nl),new J(0,ua,-Nl),new J(Nl,0,ua),new J(-Nl,0,ua),new J(ua,Nl,0),new J(-ua,Nl,0)];class tS{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,s=.1,i=100){f_=this._renderer.getRenderTarget(),this._setSize(256);const r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(e,s,i,r),n>0&&this._blur(r,0,0,n),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=iS(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=sS(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(f_),e.scissorTest=!1,wh(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Dc||e.mapping===Fc?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),f_=this._renderer.getRenderTarget();const s=n||this._allocateTargets();return this._textureToCubeUV(e,s),this._applyPMREM(s),this._cleanup(s),s}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,s={magFilter:_s,minFilter:_s,generateMipmaps:!1,type:Gd,format:gi,encoding:Ya,depthBuffer:!1},i=nS(e,n,s);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=nS(e,n,s);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=EY(r)),this._blurMaterial=TY(r,e,n)}return i}_compileMaterial(e){const n=new _i(this._lodPlanes[0],e);this._renderer.compile(n,d_)}_sceneToCubeUV(e,n,s,i){const a=new is(90,1,n,s),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,f=u.toneMapping;u.getClearColor(Qx),u.toneMapping=Lr,u.autoClear=!1;const h=new Eo({name:"PMREM.Background",side:wi,depthWrite:!1,depthTest:!1}),_=new _i(new ru,h);let p=!1;const m=e.background;m?m.isColor&&(h.color.copy(m),e.background=null,p=!0):(h.color.copy(Qx),p=!0);for(let y=0;y<6;y++){const b=y%3;b===0?(a.up.set(0,l[y],0),a.lookAt(c[y],0,0)):b===1?(a.up.set(0,0,l[y]),a.lookAt(0,c[y],0)):(a.up.set(0,l[y],0),a.lookAt(0,0,c[y]));const v=this._cubeSize;wh(i,b*v,y>2?v:0,v,v),u.setRenderTarget(i),p&&u.render(_,a),u.render(e,a)}_.geometry.dispose(),_.material.dispose(),u.toneMapping=f,u.autoClear=d,e.background=m}_textureToCubeUV(e,n){const s=this._renderer,i=e.mapping===Dc||e.mapping===Fc;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=iS()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=sS());const r=i?this._cubemapMaterial:this._equirectMaterial,o=new _i(this._lodPlanes[0],r),a=r.uniforms;a.envMap.value=e;const l=this._cubeSize;wh(n,0,0,3*l,2*l),s.setRenderTarget(n),s.render(o,d_)}_applyPMREM(e){const n=this._renderer,s=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const r=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=eS[(i-1)%eS.length];this._blur(e,i-1,i,r,o)}n.autoClear=s}_blur(e,n,s,i,r){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,s,i,"latitudinal",r),this._halfBlur(o,e,s,s,i,"longitudinal",r)}_halfBlur(e,n,s,i,r,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new _i(this._lodPlanes[i],c),f=c.uniforms,h=this._sizeLods[s]-1,_=isFinite(r)?Math.PI/(2*h):2*Math.PI/(2*ba-1),p=r/_,m=isFinite(r)?1+Math.floor(u*p):ba;m>ba&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${m} samples when the maximum is set to ${ba}`);const y=[];let b=0;for(let T=0;T<ba;++T){const E=T/p,M=Math.exp(-E*E/2);y.push(M),T===0?b+=M:T<m&&(b+=2*M)}for(let T=0;T<y.length;T++)y[T]=y[T]/b;f.envMap.value=e.texture,f.samples.value=m,f.weights.value=y,f.latitudinal.value=o==="latitudinal",a&&(f.poleAxis.value=a);const{_lodMax:v}=this;f.dTheta.value=_,f.mipInt.value=v-s;const w=this._sizeLods[i],S=3*w*(i>v-ec?i-v+ec:0),x=4*(this._cubeSize-w);wh(n,S,x,3*w,2*w),l.setRenderTarget(n),l.render(d,d_)}}function EY(t){const e=[],n=[],s=[];let i=t;const r=t-ec+1+Jx.length;for(let o=0;o<r;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-ec?l=Jx[o-t+ec-1]:o===0&&(l=0),s.push(l);const c=1/(a-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],h=6,_=6,p=3,m=2,y=1,b=new Float32Array(p*_*h),v=new Float32Array(m*_*h),w=new Float32Array(y*_*h);for(let x=0;x<h;x++){const T=x%3*2/3-1,E=x>2?0:-1,M=[T,E,0,T+2/3,E,0,T+2/3,E+1,0,T,E,0,T+2/3,E+1,0,T,E+1,0];b.set(M,p*_*x),v.set(f,m*_*x);const C=[x,x,x,x,x,x];w.set(C,y*_*x)}const S=new or;S.setAttribute("position",new ks(b,p)),S.setAttribute("uv",new ks(v,m)),S.setAttribute("faceIndex",new ks(w,y)),e.push(S),i>ec&&i--}return{lodPlanes:e,sizeLods:n,sigmas:s}}function nS(t,e,n){const s=new Ka(t,e,n);return s.texture.mapping=vg,s.texture.name="PMREM.cubeUv",s.scissorTest=!0,s}function wh(t,e,n,s,i){t.viewport.set(e,n,s,i),t.scissor.set(e,n,s,i)}function TY(t,e,n){const s=new Float32Array(ba),i=new J(0,1,0);return new Xa({name:"SphericalGaussianBlur",defines:{n:ba,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:s},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:sv(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Io,depthTest:!1,depthWrite:!1})}function sS(){return new Xa({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:sv(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Io,depthTest:!1,depthWrite:!1})}function iS(){return new Xa({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:sv(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Io,depthTest:!1,depthWrite:!1})}function sv(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function MY(t){let e=new WeakMap,n=null;function s(a){if(a&&a.isTexture){const l=a.mapping,c=l===N1||l===U1,u=l===Dc||l===Fc;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return n===null&&(n=new tS(t)),d=c?n.fromEquirectangular(a,d):n.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{const d=a.image;if(c&&d&&d.height>0||u&&d&&i(d)){n===null&&(n=new tS(t));const f=c?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,f),a.addEventListener("dispose",r),f.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function r(a){const l=a.target;l.removeEventListener("dispose",r);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:s,dispose:o}}function AY(t){const e={};function n(s){if(e[s]!==void 0)return e[s];let i;switch(s){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(s)}return e[s]=i,i}return{has:function(s){return n(s)!==null},init:function(s){s.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(s){const i=n(s);return i===null&&console.warn("THREE.WebGLRenderer: "+s+" extension not supported."),i}}}function kY(t,e,n,s){const i={},r=new WeakMap;function o(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const _ in f.attributes)e.remove(f.attributes[_]);f.removeEventListener("dispose",o),delete i[f.id];const h=r.get(f);h&&(e.remove(h),r.delete(f)),s.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function a(d,f){return i[f.id]===!0||(f.addEventListener("dispose",o),i[f.id]=!0,n.memory.geometries++),f}function l(d){const f=d.attributes;for(const _ in f)e.update(f[_],34962);const h=d.morphAttributes;for(const _ in h){const p=h[_];for(let m=0,y=p.length;m<y;m++)e.update(p[m],34962)}}function c(d){const f=[],h=d.index,_=d.attributes.position;let p=0;if(h!==null){const b=h.array;p=h.version;for(let v=0,w=b.length;v<w;v+=3){const S=b[v+0],x=b[v+1],T=b[v+2];f.push(S,x,x,T,T,S)}}else{const b=_.array;p=_.version;for(let v=0,w=b.length/3-1;v<w;v+=3){const S=v+0,x=v+1,T=v+2;f.push(S,x,x,T,T,S)}}const m=new(c5(f)?g5:m5)(f,1);m.version=p;const y=r.get(d);y&&e.remove(y),r.set(d,m)}function u(d){const f=r.get(d);if(f){const h=d.index;h!==null&&f.version<h.version&&c(d)}else c(d);return r.get(d)}return{get:a,update:l,getWireframeAttribute:u}}function RY(t,e,n,s){const i=s.isWebGL2;let r;function o(f){r=f}let a,l;function c(f){a=f.type,l=f.bytesPerElement}function u(f,h){t.drawElements(r,h,a,f*l),n.update(h,r,1)}function d(f,h,_){if(_===0)return;let p,m;if(i)p=t,m="drawElementsInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawElementsInstancedANGLE",p===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](r,h,a,f*l,_),n.update(h,r,_)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=d}function CY(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function s(r,o,a){switch(n.calls++,o){case 4:n.triangles+=a*(r/3);break;case 1:n.lines+=a*(r/2);break;case 3:n.lines+=a*(r-1);break;case 2:n.lines+=a*r;break;case 0:n.points+=a*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:s}}function OY(t,e){return t[0]-e[0]}function PY(t,e){return Math.abs(e[1])-Math.abs(t[1])}function h_(t,e){let n=1;const s=e.isInterleavedBufferAttribute?e.data.array:e.array;s instanceof Int8Array?n=127:s instanceof Uint8Array?n=255:s instanceof Uint16Array?n=65535:s instanceof Int16Array?n=32767:s instanceof Int32Array?n=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",s),t.divideScalar(n)}function LY(t,e,n){const s={},i=new Float32Array(8),r=new WeakMap,o=new Ut,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,d,f){const h=c.morphTargetInfluences;if(e.isWebGL2===!0){const _=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,p=_!==void 0?_.length:0;let m=r.get(u);if(m===void 0||m.count!==p){let D=function(){$.dispose(),r.delete(u),u.removeEventListener("dispose",D)};m!==void 0&&m.texture.dispose();const v=u.morphAttributes.position!==void 0,w=u.morphAttributes.normal!==void 0,S=u.morphAttributes.color!==void 0,x=u.morphAttributes.position||[],T=u.morphAttributes.normal||[],E=u.morphAttributes.color||[];let M=0;v===!0&&(M=1),w===!0&&(M=2),S===!0&&(M=3);let C=u.attributes.position.count*M,A=1;C>e.maxTextureSize&&(A=Math.ceil(C/e.maxTextureSize),C=e.maxTextureSize);const R=new Float32Array(C*A*4*p),$=new h5(R,C,A,p);$.type=So,$.needsUpdate=!0;const F=M*4;for(let I=0;I<p;I++){const B=x[I],W=T[I],Y=E[I],j=C*A*4*I;for(let pe=0;pe<B.count;pe++){const O=pe*F;v===!0&&(o.fromBufferAttribute(B,pe),B.normalized===!0&&h_(o,B),R[j+O+0]=o.x,R[j+O+1]=o.y,R[j+O+2]=o.z,R[j+O+3]=0),w===!0&&(o.fromBufferAttribute(W,pe),W.normalized===!0&&h_(o,W),R[j+O+4]=o.x,R[j+O+5]=o.y,R[j+O+6]=o.z,R[j+O+7]=0),S===!0&&(o.fromBufferAttribute(Y,pe),Y.normalized===!0&&h_(o,Y),R[j+O+8]=o.x,R[j+O+9]=o.y,R[j+O+10]=o.z,R[j+O+11]=Y.itemSize===4?o.w:1)}}m={count:p,texture:$,size:new bt(C,A)},r.set(u,m),u.addEventListener("dispose",D)}let y=0;for(let v=0;v<h.length;v++)y+=h[v];const b=u.morphTargetsRelative?1:1-y;f.getUniforms().setValue(t,"morphTargetBaseInfluence",b),f.getUniforms().setValue(t,"morphTargetInfluences",h),f.getUniforms().setValue(t,"morphTargetsTexture",m.texture,n),f.getUniforms().setValue(t,"morphTargetsTextureSize",m.size)}else{const _=h===void 0?0:h.length;let p=s[u.id];if(p===void 0||p.length!==_){p=[];for(let w=0;w<_;w++)p[w]=[w,0];s[u.id]=p}for(let w=0;w<_;w++){const S=p[w];S[0]=w,S[1]=h[w]}p.sort(PY);for(let w=0;w<8;w++)w<_&&p[w][1]?(a[w][0]=p[w][0],a[w][1]=p[w][1]):(a[w][0]=Number.MAX_SAFE_INTEGER,a[w][1]=0);a.sort(OY);const m=u.morphAttributes.position,y=u.morphAttributes.normal;let b=0;for(let w=0;w<8;w++){const S=a[w],x=S[0],T=S[1];x!==Number.MAX_SAFE_INTEGER&&T?(m&&u.getAttribute("morphTarget"+w)!==m[x]&&u.setAttribute("morphTarget"+w,m[x]),y&&u.getAttribute("morphNormal"+w)!==y[x]&&u.setAttribute("morphNormal"+w,y[x]),i[w]=T,b+=T):(m&&u.hasAttribute("morphTarget"+w)===!0&&u.deleteAttribute("morphTarget"+w),y&&u.hasAttribute("morphNormal"+w)===!0&&u.deleteAttribute("morphNormal"+w),i[w]=0)}const v=u.morphTargetsRelative?1:1-b;f.getUniforms().setValue(t,"morphTargetBaseInfluence",v),f.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function IY(t,e,n,s){let i=new WeakMap;function r(l){const c=s.render.frame,u=l.geometry,d=e.get(l,u);return i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),n.update(l.instanceMatrix,34962),l.instanceColor!==null&&n.update(l.instanceColor,34962)),d}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:r,dispose:o}}const v5=new os,w5=new h5,x5=new EW,S5=new y5,rS=[],oS=[],aS=new Float32Array(16),lS=new Float32Array(9),cS=new Float32Array(4);function ou(t,e,n){const s=t[0];if(s<=0||s>0)return t;const i=e*n;let r=rS[i];if(r===void 0&&(r=new Float32Array(i),rS[i]=r),e!==0){s.toArray(r,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(r,a)}return r}function as(t,e){if(t.length!==e.length)return!1;for(let n=0,s=t.length;n<s;n++)if(t[n]!==e[n])return!1;return!0}function ls(t,e){for(let n=0,s=e.length;n<s;n++)t[n]=e[n]}function wg(t,e){let n=oS[e];n===void 0&&(n=new Int32Array(e),oS[e]=n);for(let s=0;s!==e;++s)n[s]=t.allocateTextureUnit();return n}function DY(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function FY(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(as(n,e))return;t.uniform2fv(this.addr,e),ls(n,e)}}function NY(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(as(n,e))return;t.uniform3fv(this.addr,e),ls(n,e)}}function UY(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(as(n,e))return;t.uniform4fv(this.addr,e),ls(n,e)}}function $Y(t,e){const n=this.cache,s=e.elements;if(s===void 0){if(as(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),ls(n,e)}else{if(as(n,s))return;cS.set(s),t.uniformMatrix2fv(this.addr,!1,cS),ls(n,s)}}function BY(t,e){const n=this.cache,s=e.elements;if(s===void 0){if(as(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),ls(n,e)}else{if(as(n,s))return;lS.set(s),t.uniformMatrix3fv(this.addr,!1,lS),ls(n,s)}}function zY(t,e){const n=this.cache,s=e.elements;if(s===void 0){if(as(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),ls(n,e)}else{if(as(n,s))return;aS.set(s),t.uniformMatrix4fv(this.addr,!1,aS),ls(n,s)}}function GY(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function HY(t,e){const n=this.cache;as(n,e)||(t.uniform2iv(this.addr,e),ls(n,e))}function VY(t,e){const n=this.cache;as(n,e)||(t.uniform3iv(this.addr,e),ls(n,e))}function WY(t,e){const n=this.cache;as(n,e)||(t.uniform4iv(this.addr,e),ls(n,e))}function jY(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function qY(t,e){const n=this.cache;as(n,e)||(t.uniform2uiv(this.addr,e),ls(n,e))}function YY(t,e){const n=this.cache;as(n,e)||(t.uniform3uiv(this.addr,e),ls(n,e))}function KY(t,e){const n=this.cache;as(n,e)||(t.uniform4uiv(this.addr,e),ls(n,e))}function XY(t,e,n){const s=this.cache,i=n.allocateTextureUnit();s[0]!==i&&(t.uniform1i(this.addr,i),s[0]=i),n.setTexture2D(e||v5,i)}function ZY(t,e,n){const s=this.cache,i=n.allocateTextureUnit();s[0]!==i&&(t.uniform1i(this.addr,i),s[0]=i),n.setTexture3D(e||x5,i)}function JY(t,e,n){const s=this.cache,i=n.allocateTextureUnit();s[0]!==i&&(t.uniform1i(this.addr,i),s[0]=i),n.setTextureCube(e||S5,i)}function QY(t,e,n){const s=this.cache,i=n.allocateTextureUnit();s[0]!==i&&(t.uniform1i(this.addr,i),s[0]=i),n.setTexture2DArray(e||w5,i)}function eK(t){switch(t){case 5126:return DY;case 35664:return FY;case 35665:return NY;case 35666:return UY;case 35674:return $Y;case 35675:return BY;case 35676:return zY;case 5124:case 35670:return GY;case 35667:case 35671:return HY;case 35668:case 35672:return VY;case 35669:case 35673:return WY;case 5125:return jY;case 36294:return qY;case 36295:return YY;case 36296:return KY;case 35678:case 36198:case 36298:case 36306:case 35682:return XY;case 35679:case 36299:case 36307:return ZY;case 35680:case 36300:case 36308:case 36293:return JY;case 36289:case 36303:case 36311:case 36292:return QY}}function tK(t,e){t.uniform1fv(this.addr,e)}function nK(t,e){const n=ou(e,this.size,2);t.uniform2fv(this.addr,n)}function sK(t,e){const n=ou(e,this.size,3);t.uniform3fv(this.addr,n)}function iK(t,e){const n=ou(e,this.size,4);t.uniform4fv(this.addr,n)}function rK(t,e){const n=ou(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function oK(t,e){const n=ou(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function aK(t,e){const n=ou(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function lK(t,e){t.uniform1iv(this.addr,e)}function cK(t,e){t.uniform2iv(this.addr,e)}function uK(t,e){t.uniform3iv(this.addr,e)}function dK(t,e){t.uniform4iv(this.addr,e)}function fK(t,e){t.uniform1uiv(this.addr,e)}function hK(t,e){t.uniform2uiv(this.addr,e)}function pK(t,e){t.uniform3uiv(this.addr,e)}function mK(t,e){t.uniform4uiv(this.addr,e)}function gK(t,e,n){const s=e.length,i=wg(n,s);t.uniform1iv(this.addr,i);for(let r=0;r!==s;++r)n.setTexture2D(e[r]||v5,i[r])}function _K(t,e,n){const s=e.length,i=wg(n,s);t.uniform1iv(this.addr,i);for(let r=0;r!==s;++r)n.setTexture3D(e[r]||x5,i[r])}function yK(t,e,n){const s=e.length,i=wg(n,s);t.uniform1iv(this.addr,i);for(let r=0;r!==s;++r)n.setTextureCube(e[r]||S5,i[r])}function bK(t,e,n){const s=e.length,i=wg(n,s);t.uniform1iv(this.addr,i);for(let r=0;r!==s;++r)n.setTexture2DArray(e[r]||w5,i[r])}function vK(t){switch(t){case 5126:return tK;case 35664:return nK;case 35665:return sK;case 35666:return iK;case 35674:return rK;case 35675:return oK;case 35676:return aK;case 5124:case 35670:return lK;case 35667:case 35671:return cK;case 35668:case 35672:return uK;case 35669:case 35673:return dK;case 5125:return fK;case 36294:return hK;case 36295:return pK;case 36296:return mK;case 35678:case 36198:case 36298:case 36306:case 35682:return gK;case 35679:case 36299:case 36307:return _K;case 35680:case 36300:case 36308:case 36293:return yK;case 36289:case 36303:case 36311:case 36292:return bK}}class wK{constructor(e,n,s){this.id=e,this.addr=s,this.cache=[],this.setValue=eK(n.type)}}class xK{constructor(e,n,s){this.id=e,this.addr=s,this.cache=[],this.size=n.size,this.setValue=vK(n.type)}}class SK{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,s){const i=this.seq;for(let r=0,o=i.length;r!==o;++r){const a=i[r];a.setValue(e,n[a.id],s)}}}const p_=/(\w+)(\])?(\[|\.)?/g;function uS(t,e){t.seq.push(e),t.map[e.id]=e}function EK(t,e,n){const s=t.name,i=s.length;for(p_.lastIndex=0;;){const r=p_.exec(s),o=p_.lastIndex;let a=r[1];const l=r[2]==="]",c=r[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){uS(n,c===void 0?new wK(a,t,e):new xK(a,t,e));break}else{let d=n.map[a];d===void 0&&(d=new SK(a),uS(n,d)),n=d}}}class Ep{constructor(e,n){this.seq=[],this.map={};const s=e.getProgramParameter(n,35718);for(let i=0;i<s;++i){const r=e.getActiveUniform(n,i),o=e.getUniformLocation(n,r.name);EK(r,o,this)}}setValue(e,n,s,i){const r=this.map[n];r!==void 0&&r.setValue(e,s,i)}setOptional(e,n,s){const i=n[s];i!==void 0&&this.setValue(e,s,i)}static upload(e,n,s,i){for(let r=0,o=n.length;r!==o;++r){const a=n[r],l=s[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const s=[];for(let i=0,r=e.length;i!==r;++i){const o=e[i];o.id in n&&s.push(o)}return s}}function dS(t,e,n){const s=t.createShader(e);return t.shaderSource(s,n),t.compileShader(s),s}let TK=0;function MK(t,e){const n=t.split(`
`),s=[],i=Math.max(e-6,0),r=Math.min(e+6,n.length);for(let o=i;o<r;o++){const a=o+1;s.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return s.join(`
`)}function AK(t){switch(t){case Ya:return["Linear","( value )"];case It:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function fS(t,e,n){const s=t.getShaderParameter(e,35713),i=t.getShaderInfoLog(e).trim();if(s&&i==="")return"";const r=/ERROR: 0:(\d+)/.exec(i);if(r){const o=parseInt(r[1]);return n.toUpperCase()+`

`+i+`

`+MK(t.getShaderSource(e),o)}else return i}function kK(t,e){const n=AK(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function RK(t,e){let n;switch(e){case IV:n="Linear";break;case DV:n="Reinhard";break;case FV:n="OptimizedCineon";break;case NV:n="ACESFilmic";break;case UV:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function CK(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Qu).join(`
`)}function OK(t){const e=[];for(const n in t){const s=t[n];s!==!1&&e.push("#define "+n+" "+s)}return e.join(`
`)}function PK(t,e){const n={},s=t.getProgramParameter(e,35721);for(let i=0;i<s;i++){const r=t.getActiveAttrib(e,i),o=r.name;let a=1;r.type===35674&&(a=2),r.type===35675&&(a=3),r.type===35676&&(a=4),n[o]={type:r.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function Qu(t){return t!==""}function hS(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function pS(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const LK=/^[ \t]*#include +<([\w\d./]+)>/gm;function V1(t){return t.replace(LK,IK)}function IK(t,e){const n=pt[e];if(n===void 0)throw new Error("Can not resolve #include <"+e+">");return V1(n)}const DK=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,FK=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function mS(t){return t.replace(FK,E5).replace(DK,NK)}function NK(t,e,n,s){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),E5(t,e,n,s)}function E5(t,e,n,s){let i="";for(let r=parseInt(e);r<parseInt(n);r++)i+=s.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return i}function gS(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function UK(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===e5?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===dV?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Ju&&(e="SHADOWMAP_TYPE_VSM"),e}function $K(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Dc:case Fc:e="ENVMAP_TYPE_CUBE";break;case vg:e="ENVMAP_TYPE_CUBE_UV";break}return e}function BK(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Fc:e="ENVMAP_MODE_REFRACTION";break}return e}function zK(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case s5:e="ENVMAP_BLENDING_MULTIPLY";break;case PV:e="ENVMAP_BLENDING_MIX";break;case LV:e="ENVMAP_BLENDING_ADD";break}return e}function GK(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,s=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:s,maxMip:n}}function HK(t,e,n,s){const i=t.getContext(),r=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=UK(n),c=$K(n),u=BK(n),d=zK(n),f=GK(n),h=n.isWebGL2?"":CK(n),_=OK(r),p=i.createProgram();let m,y,b=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(m=[_].filter(Qu).join(`
`),m.length>0&&(m+=`
`),y=[h,_].filter(Qu).join(`
`),y.length>0&&(y+=`
`)):(m=[gS(n),"#define SHADER_NAME "+n.shaderName,_,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Qu).join(`
`),y=[h,gS(n),"#define SHADER_NAME "+n.shaderName,_,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Lr?"#define TONE_MAPPING":"",n.toneMapping!==Lr?pt.tonemapping_pars_fragment:"",n.toneMapping!==Lr?RK("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",pt.encodings_pars_fragment,kK("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Qu).join(`
`)),o=V1(o),o=hS(o,n),o=pS(o,n),a=V1(a),a=hS(a,n),a=pS(a,n),o=mS(o),a=mS(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,m=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+m,y=["#define varying in",n.glslVersion===$x?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===$x?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+y);const v=b+m+o,w=b+y+a,S=dS(i,35633,v),x=dS(i,35632,w);if(i.attachShader(p,S),i.attachShader(p,x),n.index0AttributeName!==void 0?i.bindAttribLocation(p,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(p,0,"position"),i.linkProgram(p),t.debug.checkShaderErrors){const M=i.getProgramInfoLog(p).trim(),C=i.getShaderInfoLog(S).trim(),A=i.getShaderInfoLog(x).trim();let R=!0,$=!0;if(i.getProgramParameter(p,35714)===!1){R=!1;const F=fS(i,S,"vertex"),D=fS(i,x,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(p,35715)+`

Program Info Log: `+M+`
`+F+`
`+D)}else M!==""?console.warn("THREE.WebGLProgram: Program Info Log:",M):(C===""||A==="")&&($=!1);$&&(this.diagnostics={runnable:R,programLog:M,vertexShader:{log:C,prefix:m},fragmentShader:{log:A,prefix:y}})}i.deleteShader(S),i.deleteShader(x);let T;this.getUniforms=function(){return T===void 0&&(T=new Ep(i,p)),T};let E;return this.getAttributes=function(){return E===void 0&&(E=PK(i,p)),E},this.destroy=function(){s.releaseStatesOfProgram(this),i.deleteProgram(p),this.program=void 0},this.name=n.shaderName,this.id=TK++,this.cacheKey=e,this.usedTimes=1,this.program=p,this.vertexShader=S,this.fragmentShader=x,this}let VK=0;class WK{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,s=e.fragmentShader,i=this._getShaderStage(n),r=this._getShaderStage(s),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(r)===!1&&(o.add(r),r.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const s of n)s.usedTimes--,s.usedTimes===0&&this.shaderCache.delete(s.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;return n.has(e)===!1&&n.set(e,new Set),n.get(e)}_getShaderStage(e){const n=this.shaderCache;if(n.has(e)===!1){const s=new jK(e);n.set(e,s)}return n.get(e)}}class jK{constructor(e){this.id=VK++,this.code=e,this.usedTimes=0}}function qK(t,e,n,s,i,r,o){const a=new p5,l=new WK,c=[],u=i.isWebGL2,d=i.logarithmicDepthBuffer,f=i.vertexTextures;let h=i.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function p(E,M,C,A,R){const $=A.fog,F=R.geometry,D=E.isMeshStandardMaterial?A.environment:null,I=(E.isMeshStandardMaterial?n:e).get(E.envMap||D),B=I&&I.mapping===vg?I.image.height:null,W=_[E.type];E.precision!==null&&(h=i.getMaxPrecision(E.precision),h!==E.precision&&console.warn("THREE.WebGLProgram.getParameters:",E.precision,"not supported, using",h,"instead."));const Y=F.morphAttributes.position||F.morphAttributes.normal||F.morphAttributes.color,j=Y!==void 0?Y.length:0;let pe=0;F.morphAttributes.position!==void 0&&(pe=1),F.morphAttributes.normal!==void 0&&(pe=2),F.morphAttributes.color!==void 0&&(pe=3);let O,G,te,H;if(W){const Oe=Gi[W];O=Oe.vertexShader,G=Oe.fragmentShader}else O=E.vertexShader,G=E.fragmentShader,l.update(E),te=l.getVertexShaderID(E),H=l.getFragmentShaderID(E);const z=t.getRenderTarget(),ge=E.alphaTest>0,ue=E.clearcoat>0,ve=E.iridescence>0;return{isWebGL2:u,shaderID:W,shaderName:E.type,vertexShader:O,fragmentShader:G,defines:E.defines,customVertexShaderID:te,customFragmentShaderID:H,isRawShaderMaterial:E.isRawShaderMaterial===!0,glslVersion:E.glslVersion,precision:h,instancing:R.isInstancedMesh===!0,instancingColor:R.isInstancedMesh===!0&&R.instanceColor!==null,supportsVertexTextures:f,outputEncoding:z===null?t.outputEncoding:z.isXRRenderTarget===!0?z.texture.encoding:Ya,map:!!E.map,matcap:!!E.matcap,envMap:!!I,envMapMode:I&&I.mapping,envMapCubeUVHeight:B,lightMap:!!E.lightMap,aoMap:!!E.aoMap,emissiveMap:!!E.emissiveMap,bumpMap:!!E.bumpMap,normalMap:!!E.normalMap,objectSpaceNormalMap:E.normalMapType===rW,tangentSpaceNormalMap:E.normalMapType===Zb,decodeVideoTexture:!!E.map&&E.map.isVideoTexture===!0&&E.map.encoding===It,clearcoat:ue,clearcoatMap:ue&&!!E.clearcoatMap,clearcoatRoughnessMap:ue&&!!E.clearcoatRoughnessMap,clearcoatNormalMap:ue&&!!E.clearcoatNormalMap,iridescence:ve,iridescenceMap:ve&&!!E.iridescenceMap,iridescenceThicknessMap:ve&&!!E.iridescenceThicknessMap,displacementMap:!!E.displacementMap,roughnessMap:!!E.roughnessMap,metalnessMap:!!E.metalnessMap,specularMap:!!E.specularMap,specularIntensityMap:!!E.specularIntensityMap,specularColorMap:!!E.specularColorMap,opaque:E.transparent===!1&&E.blending===_c,alphaMap:!!E.alphaMap,alphaTest:ge,gradientMap:!!E.gradientMap,sheen:E.sheen>0,sheenColorMap:!!E.sheenColorMap,sheenRoughnessMap:!!E.sheenRoughnessMap,transmission:E.transmission>0,transmissionMap:!!E.transmissionMap,thicknessMap:!!E.thicknessMap,combine:E.combine,vertexTangents:!!E.normalMap&&!!F.attributes.tangent,vertexColors:E.vertexColors,vertexAlphas:E.vertexColors===!0&&!!F.attributes.color&&F.attributes.color.itemSize===4,vertexUvs:!!E.map||!!E.bumpMap||!!E.normalMap||!!E.specularMap||!!E.alphaMap||!!E.emissiveMap||!!E.roughnessMap||!!E.metalnessMap||!!E.clearcoatMap||!!E.clearcoatRoughnessMap||!!E.clearcoatNormalMap||!!E.iridescenceMap||!!E.iridescenceThicknessMap||!!E.displacementMap||!!E.transmissionMap||!!E.thicknessMap||!!E.specularIntensityMap||!!E.specularColorMap||!!E.sheenColorMap||!!E.sheenRoughnessMap,uvsVertexOnly:!(E.map||E.bumpMap||E.normalMap||E.specularMap||E.alphaMap||E.emissiveMap||E.roughnessMap||E.metalnessMap||E.clearcoatNormalMap||E.iridescenceMap||E.iridescenceThicknessMap||E.transmission>0||E.transmissionMap||E.thicknessMap||E.specularIntensityMap||E.specularColorMap||E.sheen>0||E.sheenColorMap||E.sheenRoughnessMap)&&!!E.displacementMap,fog:!!$,useFog:E.fog===!0,fogExp2:$&&$.isFogExp2,flatShading:!!E.flatShading,sizeAttenuation:E.sizeAttenuation,logarithmicDepthBuffer:d,skinning:R.isSkinnedMesh===!0,morphTargets:F.morphAttributes.position!==void 0,morphNormals:F.morphAttributes.normal!==void 0,morphColors:F.morphAttributes.color!==void 0,morphTargetsCount:j,morphTextureStride:pe,numDirLights:M.directional.length,numPointLights:M.point.length,numSpotLights:M.spot.length,numRectAreaLights:M.rectArea.length,numHemiLights:M.hemi.length,numDirLightShadows:M.directionalShadowMap.length,numPointLightShadows:M.pointShadowMap.length,numSpotLightShadows:M.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:E.dithering,shadowMapEnabled:t.shadowMap.enabled&&C.length>0,shadowMapType:t.shadowMap.type,toneMapping:E.toneMapped?t.toneMapping:Lr,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:E.premultipliedAlpha,doubleSided:E.side===ja,flipSided:E.side===wi,useDepthPacking:!!E.depthPacking,depthPacking:E.depthPacking||0,index0AttributeName:E.index0AttributeName,extensionDerivatives:E.extensions&&E.extensions.derivatives,extensionFragDepth:E.extensions&&E.extensions.fragDepth,extensionDrawBuffers:E.extensions&&E.extensions.drawBuffers,extensionShaderTextureLOD:E.extensions&&E.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||s.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||s.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||s.has("EXT_shader_texture_lod"),customProgramCacheKey:E.customProgramCacheKey()}}function m(E){const M=[];if(E.shaderID?M.push(E.shaderID):(M.push(E.customVertexShaderID),M.push(E.customFragmentShaderID)),E.defines!==void 0)for(const C in E.defines)M.push(C),M.push(E.defines[C]);return E.isRawShaderMaterial===!1&&(y(M,E),b(M,E),M.push(t.outputEncoding)),M.push(E.customProgramCacheKey),M.join()}function y(E,M){E.push(M.precision),E.push(M.outputEncoding),E.push(M.envMapMode),E.push(M.envMapCubeUVHeight),E.push(M.combine),E.push(M.vertexUvs),E.push(M.fogExp2),E.push(M.sizeAttenuation),E.push(M.morphTargetsCount),E.push(M.morphAttributeCount),E.push(M.numDirLights),E.push(M.numPointLights),E.push(M.numSpotLights),E.push(M.numHemiLights),E.push(M.numRectAreaLights),E.push(M.numDirLightShadows),E.push(M.numPointLightShadows),E.push(M.numSpotLightShadows),E.push(M.shadowMapType),E.push(M.toneMapping),E.push(M.numClippingPlanes),E.push(M.numClipIntersection),E.push(M.depthPacking)}function b(E,M){a.disableAll(),M.isWebGL2&&a.enable(0),M.supportsVertexTextures&&a.enable(1),M.instancing&&a.enable(2),M.instancingColor&&a.enable(3),M.map&&a.enable(4),M.matcap&&a.enable(5),M.envMap&&a.enable(6),M.lightMap&&a.enable(7),M.aoMap&&a.enable(8),M.emissiveMap&&a.enable(9),M.bumpMap&&a.enable(10),M.normalMap&&a.enable(11),M.objectSpaceNormalMap&&a.enable(12),M.tangentSpaceNormalMap&&a.enable(13),M.clearcoat&&a.enable(14),M.clearcoatMap&&a.enable(15),M.clearcoatRoughnessMap&&a.enable(16),M.clearcoatNormalMap&&a.enable(17),M.iridescence&&a.enable(18),M.iridescenceMap&&a.enable(19),M.iridescenceThicknessMap&&a.enable(20),M.displacementMap&&a.enable(21),M.specularMap&&a.enable(22),M.roughnessMap&&a.enable(23),M.metalnessMap&&a.enable(24),M.gradientMap&&a.enable(25),M.alphaMap&&a.enable(26),M.alphaTest&&a.enable(27),M.vertexColors&&a.enable(28),M.vertexAlphas&&a.enable(29),M.vertexUvs&&a.enable(30),M.vertexTangents&&a.enable(31),M.uvsVertexOnly&&a.enable(32),M.fog&&a.enable(33),E.push(a.mask),a.disableAll(),M.useFog&&a.enable(0),M.flatShading&&a.enable(1),M.logarithmicDepthBuffer&&a.enable(2),M.skinning&&a.enable(3),M.morphTargets&&a.enable(4),M.morphNormals&&a.enable(5),M.morphColors&&a.enable(6),M.premultipliedAlpha&&a.enable(7),M.shadowMapEnabled&&a.enable(8),M.physicallyCorrectLights&&a.enable(9),M.doubleSided&&a.enable(10),M.flipSided&&a.enable(11),M.useDepthPacking&&a.enable(12),M.dithering&&a.enable(13),M.specularIntensityMap&&a.enable(14),M.specularColorMap&&a.enable(15),M.transmission&&a.enable(16),M.transmissionMap&&a.enable(17),M.thicknessMap&&a.enable(18),M.sheen&&a.enable(19),M.sheenColorMap&&a.enable(20),M.sheenRoughnessMap&&a.enable(21),M.decodeVideoTexture&&a.enable(22),M.opaque&&a.enable(23),E.push(a.mask)}function v(E){const M=_[E.type];let C;if(M){const A=Gi[M];C=DW.clone(A.uniforms)}else C=E.uniforms;return C}function w(E,M){let C;for(let A=0,R=c.length;A<R;A++){const $=c[A];if($.cacheKey===M){C=$,++C.usedTimes;break}}return C===void 0&&(C=new HK(t,M,E,r),c.push(C)),C}function S(E){if(--E.usedTimes===0){const M=c.indexOf(E);c[M]=c[c.length-1],c.pop(),E.destroy()}}function x(E){l.remove(E)}function T(){l.dispose()}return{getParameters:p,getProgramCacheKey:m,getUniforms:v,acquireProgram:w,releaseProgram:S,releaseShaderCache:x,programs:c,dispose:T}}function YK(){let t=new WeakMap;function e(r){let o=t.get(r);return o===void 0&&(o={},t.set(r,o)),o}function n(r){t.delete(r)}function s(r,o,a){t.get(r)[o]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:s,dispose:i}}function KK(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function _S(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function yS(){const t=[];let e=0;const n=[],s=[],i=[];function r(){e=0,n.length=0,s.length=0,i.length=0}function o(d,f,h,_,p,m){let y=t[e];return y===void 0?(y={id:d.id,object:d,geometry:f,material:h,groupOrder:_,renderOrder:d.renderOrder,z:p,group:m},t[e]=y):(y.id=d.id,y.object=d,y.geometry=f,y.material=h,y.groupOrder=_,y.renderOrder=d.renderOrder,y.z=p,y.group=m),e++,y}function a(d,f,h,_,p,m){const y=o(d,f,h,_,p,m);h.transmission>0?s.push(y):h.transparent===!0?i.push(y):n.push(y)}function l(d,f,h,_,p,m){const y=o(d,f,h,_,p,m);h.transmission>0?s.unshift(y):h.transparent===!0?i.unshift(y):n.unshift(y)}function c(d,f){n.length>1&&n.sort(d||KK),s.length>1&&s.sort(f||_S),i.length>1&&i.sort(f||_S)}function u(){for(let d=e,f=t.length;d<f;d++){const h=t[d];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:n,transmissive:s,transparent:i,init:r,push:a,unshift:l,finish:u,sort:c}}function XK(){let t=new WeakMap;function e(s,i){let r;return t.has(s)===!1?(r=new yS,t.set(s,[r])):i>=t.get(s).length?(r=new yS,t.get(s).push(r)):r=t.get(s)[i],r}function n(){t=new WeakMap}return{get:e,dispose:n}}function ZK(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new J,color:new nt};break;case"SpotLight":n={position:new J,direction:new J,color:new nt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new J,color:new nt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new J,skyColor:new nt,groundColor:new nt};break;case"RectAreaLight":n={color:new nt,position:new J,halfWidth:new J,halfHeight:new J};break}return t[e.id]=n,n}}}function JK(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new bt};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new bt};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new bt,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let QK=0;function eX(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function tX(t,e){const n=new ZK,s=JK(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let u=0;u<9;u++)i.probe.push(new J);const r=new J,o=new At,a=new At;function l(u,d){let f=0,h=0,_=0;for(let M=0;M<9;M++)i.probe[M].set(0,0,0);let p=0,m=0,y=0,b=0,v=0,w=0,S=0,x=0;u.sort(eX);const T=d!==!0?Math.PI:1;for(let M=0,C=u.length;M<C;M++){const A=u[M],R=A.color,$=A.intensity,F=A.distance,D=A.shadow&&A.shadow.map?A.shadow.map.texture:null;if(A.isAmbientLight)f+=R.r*$*T,h+=R.g*$*T,_+=R.b*$*T;else if(A.isLightProbe)for(let I=0;I<9;I++)i.probe[I].addScaledVector(A.sh.coefficients[I],$);else if(A.isDirectionalLight){const I=n.get(A);if(I.color.copy(A.color).multiplyScalar(A.intensity*T),A.castShadow){const B=A.shadow,W=s.get(A);W.shadowBias=B.bias,W.shadowNormalBias=B.normalBias,W.shadowRadius=B.radius,W.shadowMapSize=B.mapSize,i.directionalShadow[p]=W,i.directionalShadowMap[p]=D,i.directionalShadowMatrix[p]=A.shadow.matrix,w++}i.directional[p]=I,p++}else if(A.isSpotLight){const I=n.get(A);if(I.position.setFromMatrixPosition(A.matrixWorld),I.color.copy(R).multiplyScalar($*T),I.distance=F,I.coneCos=Math.cos(A.angle),I.penumbraCos=Math.cos(A.angle*(1-A.penumbra)),I.decay=A.decay,A.castShadow){const B=A.shadow,W=s.get(A);W.shadowBias=B.bias,W.shadowNormalBias=B.normalBias,W.shadowRadius=B.radius,W.shadowMapSize=B.mapSize,i.spotShadow[y]=W,i.spotShadowMap[y]=D,i.spotShadowMatrix[y]=A.shadow.matrix,x++}i.spot[y]=I,y++}else if(A.isRectAreaLight){const I=n.get(A);I.color.copy(R).multiplyScalar($),I.halfWidth.set(A.width*.5,0,0),I.halfHeight.set(0,A.height*.5,0),i.rectArea[b]=I,b++}else if(A.isPointLight){const I=n.get(A);if(I.color.copy(A.color).multiplyScalar(A.intensity*T),I.distance=A.distance,I.decay=A.decay,A.castShadow){const B=A.shadow,W=s.get(A);W.shadowBias=B.bias,W.shadowNormalBias=B.normalBias,W.shadowRadius=B.radius,W.shadowMapSize=B.mapSize,W.shadowCameraNear=B.camera.near,W.shadowCameraFar=B.camera.far,i.pointShadow[m]=W,i.pointShadowMap[m]=D,i.pointShadowMatrix[m]=A.shadow.matrix,S++}i.point[m]=I,m++}else if(A.isHemisphereLight){const I=n.get(A);I.skyColor.copy(A.color).multiplyScalar($*T),I.groundColor.copy(A.groundColor).multiplyScalar($*T),i.hemi[v]=I,v++}}b>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=De.LTC_FLOAT_1,i.rectAreaLTC2=De.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=De.LTC_HALF_1,i.rectAreaLTC2=De.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=f,i.ambient[1]=h,i.ambient[2]=_;const E=i.hash;(E.directionalLength!==p||E.pointLength!==m||E.spotLength!==y||E.rectAreaLength!==b||E.hemiLength!==v||E.numDirectionalShadows!==w||E.numPointShadows!==S||E.numSpotShadows!==x)&&(i.directional.length=p,i.spot.length=y,i.rectArea.length=b,i.point.length=m,i.hemi.length=v,i.directionalShadow.length=w,i.directionalShadowMap.length=w,i.pointShadow.length=S,i.pointShadowMap.length=S,i.spotShadow.length=x,i.spotShadowMap.length=x,i.directionalShadowMatrix.length=w,i.pointShadowMatrix.length=S,i.spotShadowMatrix.length=x,E.directionalLength=p,E.pointLength=m,E.spotLength=y,E.rectAreaLength=b,E.hemiLength=v,E.numDirectionalShadows=w,E.numPointShadows=S,E.numSpotShadows=x,i.version=QK++)}function c(u,d){let f=0,h=0,_=0,p=0,m=0;const y=d.matrixWorldInverse;for(let b=0,v=u.length;b<v;b++){const w=u[b];if(w.isDirectionalLight){const S=i.directional[f];S.direction.setFromMatrixPosition(w.matrixWorld),r.setFromMatrixPosition(w.target.matrixWorld),S.direction.sub(r),S.direction.transformDirection(y),f++}else if(w.isSpotLight){const S=i.spot[_];S.position.setFromMatrixPosition(w.matrixWorld),S.position.applyMatrix4(y),S.direction.setFromMatrixPosition(w.matrixWorld),r.setFromMatrixPosition(w.target.matrixWorld),S.direction.sub(r),S.direction.transformDirection(y),_++}else if(w.isRectAreaLight){const S=i.rectArea[p];S.position.setFromMatrixPosition(w.matrixWorld),S.position.applyMatrix4(y),a.identity(),o.copy(w.matrixWorld),o.premultiply(y),a.extractRotation(o),S.halfWidth.set(w.width*.5,0,0),S.halfHeight.set(0,w.height*.5,0),S.halfWidth.applyMatrix4(a),S.halfHeight.applyMatrix4(a),p++}else if(w.isPointLight){const S=i.point[h];S.position.setFromMatrixPosition(w.matrixWorld),S.position.applyMatrix4(y),h++}else if(w.isHemisphereLight){const S=i.hemi[m];S.direction.setFromMatrixPosition(w.matrixWorld),S.direction.transformDirection(y),m++}}}return{setup:l,setupView:c,state:i}}function bS(t,e){const n=new tX(t,e),s=[],i=[];function r(){s.length=0,i.length=0}function o(d){s.push(d)}function a(d){i.push(d)}function l(d){n.setup(s,d)}function c(d){n.setupView(s,d)}return{init:r,state:{lightsArray:s,shadowsArray:i,lights:n},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function nX(t,e){let n=new WeakMap;function s(r,o=0){let a;return n.has(r)===!1?(a=new bS(t,e),n.set(r,[a])):o>=n.get(r).length?(a=new bS(t,e),n.get(r).push(a)):a=n.get(r)[o],a}function i(){n=new WeakMap}return{get:s,dispose:i}}class sX extends Yi{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=sW,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class iX extends Yi{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new J,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const rX=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,oX=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function aX(t,e,n){let s=new ev;const i=new bt,r=new bt,o=new Ut,a=new sX({depthPacking:iW}),l=new iX,c={},u=n.maxTextureSize,d={0:wi,1:Ic,2:ja},f=new Xa({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new bt},radius:{value:4}},vertexShader:rX,fragmentShader:oX}),h=f.clone();h.defines.HORIZONTAL_PASS=1;const _=new or;_.setAttribute("position",new ks(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const p=new _i(_,f),m=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=e5,this.render=function(w,S,x){if(m.enabled===!1||m.autoUpdate===!1&&m.needsUpdate===!1||w.length===0)return;const T=t.getRenderTarget(),E=t.getActiveCubeFace(),M=t.getActiveMipmapLevel(),C=t.state;C.setBlending(Io),C.buffers.color.setClear(1,1,1,1),C.buffers.depth.setTest(!0),C.setScissorTest(!1);for(let A=0,R=w.length;A<R;A++){const $=w[A],F=$.shadow;if(F===void 0){console.warn("THREE.WebGLShadowMap:",$,"has no shadow.");continue}if(F.autoUpdate===!1&&F.needsUpdate===!1)continue;i.copy(F.mapSize);const D=F.getFrameExtents();if(i.multiply(D),r.copy(F.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(r.x=Math.floor(u/D.x),i.x=r.x*D.x,F.mapSize.x=r.x),i.y>u&&(r.y=Math.floor(u/D.y),i.y=r.y*D.y,F.mapSize.y=r.y)),F.map===null){const B=this.type!==Ju?{minFilter:Dn,magFilter:Dn}:{};F.map=new Ka(i.x,i.y,B),F.map.texture.name=$.name+".shadowMap",F.camera.updateProjectionMatrix()}t.setRenderTarget(F.map),t.clear();const I=F.getViewportCount();for(let B=0;B<I;B++){const W=F.getViewport(B);o.set(r.x*W.x,r.y*W.y,r.x*W.z,r.y*W.w),C.viewport(o),F.updateMatrices($,B),s=F.getFrustum(),v(S,x,F.camera,$,this.type)}F.isPointLightShadow!==!0&&this.type===Ju&&y(F,x),F.needsUpdate=!1}m.needsUpdate=!1,t.setRenderTarget(T,E,M)};function y(w,S){const x=e.update(p);f.defines.VSM_SAMPLES!==w.blurSamples&&(f.defines.VSM_SAMPLES=w.blurSamples,h.defines.VSM_SAMPLES=w.blurSamples,f.needsUpdate=!0,h.needsUpdate=!0),w.mapPass===null&&(w.mapPass=new Ka(i.x,i.y)),f.uniforms.shadow_pass.value=w.map.texture,f.uniforms.resolution.value=w.mapSize,f.uniforms.radius.value=w.radius,t.setRenderTarget(w.mapPass),t.clear(),t.renderBufferDirect(S,null,x,f,p,null),h.uniforms.shadow_pass.value=w.mapPass.texture,h.uniforms.resolution.value=w.mapSize,h.uniforms.radius.value=w.radius,t.setRenderTarget(w.map),t.clear(),t.renderBufferDirect(S,null,x,h,p,null)}function b(w,S,x,T,E,M){let C=null;const A=x.isPointLight===!0?w.customDistanceMaterial:w.customDepthMaterial;if(A!==void 0?C=A:C=x.isPointLight===!0?l:a,t.localClippingEnabled&&S.clipShadows===!0&&Array.isArray(S.clippingPlanes)&&S.clippingPlanes.length!==0||S.displacementMap&&S.displacementScale!==0||S.alphaMap&&S.alphaTest>0){const R=C.uuid,$=S.uuid;let F=c[R];F===void 0&&(F={},c[R]=F);let D=F[$];D===void 0&&(D=C.clone(),F[$]=D),C=D}return C.visible=S.visible,C.wireframe=S.wireframe,M===Ju?C.side=S.shadowSide!==null?S.shadowSide:S.side:C.side=S.shadowSide!==null?S.shadowSide:d[S.side],C.alphaMap=S.alphaMap,C.alphaTest=S.alphaTest,C.clipShadows=S.clipShadows,C.clippingPlanes=S.clippingPlanes,C.clipIntersection=S.clipIntersection,C.displacementMap=S.displacementMap,C.displacementScale=S.displacementScale,C.displacementBias=S.displacementBias,C.wireframeLinewidth=S.wireframeLinewidth,C.linewidth=S.linewidth,x.isPointLight===!0&&C.isMeshDistanceMaterial===!0&&(C.referencePosition.setFromMatrixPosition(x.matrixWorld),C.nearDistance=T,C.farDistance=E),C}function v(w,S,x,T,E){if(w.visible===!1)return;if(w.layers.test(S.layers)&&(w.isMesh||w.isLine||w.isPoints)&&(w.castShadow||w.receiveShadow&&E===Ju)&&(!w.frustumCulled||s.intersectsObject(w))){w.modelViewMatrix.multiplyMatrices(x.matrixWorldInverse,w.matrixWorld);const A=e.update(w),R=w.material;if(Array.isArray(R)){const $=A.groups;for(let F=0,D=$.length;F<D;F++){const I=$[F],B=R[I.materialIndex];if(B&&B.visible){const W=b(w,B,T,x.near,x.far,E);t.renderBufferDirect(x,null,A,W,w,I)}}}else if(R.visible){const $=b(w,R,T,x.near,x.far,E);t.renderBufferDirect(x,null,A,$,w,null)}}const C=w.children;for(let A=0,R=C.length;A<R;A++)v(C[A],S,x,T,E)}}function lX(t,e,n){const s=n.isWebGL2;function i(){let q=!1;const K=new Ut;let Z=null;const ne=new Ut(0,0,0,0);return{setMask:function(re){Z!==re&&!q&&(t.colorMask(re,re,re,re),Z=re)},setLocked:function(re){q=re},setClear:function(re,xe,fe,Le,Qe){Qe===!0&&(re*=Le,xe*=Le,fe*=Le),K.set(re,xe,fe,Le),ne.equals(K)===!1&&(t.clearColor(re,xe,fe,Le),ne.copy(K))},reset:function(){q=!1,Z=null,ne.set(-1,0,0,0)}}}function r(){let q=!1,K=null,Z=null,ne=null;return{setTest:function(re){re?H(2929):z(2929)},setMask:function(re){K!==re&&!q&&(t.depthMask(re),K=re)},setFunc:function(re){if(Z!==re){if(re)switch(re){case TV:t.depthFunc(512);break;case MV:t.depthFunc(519);break;case AV:t.depthFunc(513);break;case F1:t.depthFunc(515);break;case kV:t.depthFunc(514);break;case RV:t.depthFunc(518);break;case CV:t.depthFunc(516);break;case OV:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);Z=re}},setLocked:function(re){q=re},setClear:function(re){ne!==re&&(t.clearDepth(re),ne=re)},reset:function(){q=!1,K=null,Z=null,ne=null}}}function o(){let q=!1,K=null,Z=null,ne=null,re=null,xe=null,fe=null,Le=null,Qe=null;return{setTest:function(rt){q||(rt?H(2960):z(2960))},setMask:function(rt){K!==rt&&!q&&(t.stencilMask(rt),K=rt)},setFunc:function(rt,Sn,ws){(Z!==rt||ne!==Sn||re!==ws)&&(t.stencilFunc(rt,Sn,ws),Z=rt,ne=Sn,re=ws)},setOp:function(rt,Sn,ws){(xe!==rt||fe!==Sn||Le!==ws)&&(t.stencilOp(rt,Sn,ws),xe=rt,fe=Sn,Le=ws)},setLocked:function(rt){q=rt},setClear:function(rt){Qe!==rt&&(t.clearStencil(rt),Qe=rt)},reset:function(){q=!1,K=null,Z=null,ne=null,re=null,xe=null,fe=null,Le=null,Qe=null}}}const a=new i,l=new r,c=new o;let u={},d={},f=new WeakMap,h=[],_=null,p=!1,m=null,y=null,b=null,v=null,w=null,S=null,x=null,T=!1,E=null,M=null,C=null,A=null,R=null;const $=t.getParameter(35661);let F=!1,D=0;const I=t.getParameter(7938);I.indexOf("WebGL")!==-1?(D=parseFloat(/^WebGL (\d)/.exec(I)[1]),F=D>=1):I.indexOf("OpenGL ES")!==-1&&(D=parseFloat(/^OpenGL ES (\d)/.exec(I)[1]),F=D>=2);let B=null,W={};const Y=t.getParameter(3088),j=t.getParameter(2978),pe=new Ut().fromArray(Y),O=new Ut().fromArray(j);function G(q,K,Z){const ne=new Uint8Array(4),re=t.createTexture();t.bindTexture(q,re),t.texParameteri(q,10241,9728),t.texParameteri(q,10240,9728);for(let xe=0;xe<Z;xe++)t.texImage2D(K+xe,0,6408,1,1,0,6408,5121,ne);return re}const te={};te[3553]=G(3553,3553,1),te[34067]=G(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),H(2929),l.setFunc(F1),ie(!1),oe(cx),H(2884),P(Io);function H(q){u[q]!==!0&&(t.enable(q),u[q]=!0)}function z(q){u[q]!==!1&&(t.disable(q),u[q]=!1)}function ge(q,K){return d[q]!==K?(t.bindFramebuffer(q,K),d[q]=K,s&&(q===36009&&(d[36160]=K),q===36160&&(d[36009]=K)),!0):!1}function ue(q,K){let Z=h,ne=!1;if(q)if(Z=f.get(K),Z===void 0&&(Z=[],f.set(K,Z)),q.isWebGLMultipleRenderTargets){const re=q.texture;if(Z.length!==re.length||Z[0]!==36064){for(let xe=0,fe=re.length;xe<fe;xe++)Z[xe]=36064+xe;Z.length=re.length,ne=!0}}else Z[0]!==36064&&(Z[0]=36064,ne=!0);else Z[0]!==1029&&(Z[0]=1029,ne=!0);ne&&(n.isWebGL2?t.drawBuffers(Z):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Z))}function ve(q){return _!==q?(t.useProgram(q),_=q,!0):!1}const ye={[Kl]:32774,[pV]:32778,[mV]:32779};if(s)ye[hx]=32775,ye[px]=32776;else{const q=e.get("EXT_blend_minmax");q!==null&&(ye[hx]=q.MIN_EXT,ye[px]=q.MAX_EXT)}const Oe={[gV]:0,[_V]:1,[yV]:768,[t5]:770,[EV]:776,[xV]:774,[vV]:772,[bV]:769,[n5]:771,[SV]:775,[wV]:773};function P(q,K,Z,ne,re,xe,fe,Le){if(q===Io){p===!0&&(z(3042),p=!1);return}if(p===!1&&(H(3042),p=!0),q!==hV){if(q!==m||Le!==T){if((y!==Kl||w!==Kl)&&(t.blendEquation(32774),y=Kl,w=Kl),Le)switch(q){case _c:t.blendFuncSeparate(1,771,1,771);break;case ux:t.blendFunc(1,1);break;case dx:t.blendFuncSeparate(0,769,0,1);break;case fx:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",q);break}else switch(q){case _c:t.blendFuncSeparate(770,771,1,771);break;case ux:t.blendFunc(770,1);break;case dx:t.blendFuncSeparate(0,769,0,1);break;case fx:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",q);break}b=null,v=null,S=null,x=null,m=q,T=Le}return}re=re||K,xe=xe||Z,fe=fe||ne,(K!==y||re!==w)&&(t.blendEquationSeparate(ye[K],ye[re]),y=K,w=re),(Z!==b||ne!==v||xe!==S||fe!==x)&&(t.blendFuncSeparate(Oe[Z],Oe[ne],Oe[xe],Oe[fe]),b=Z,v=ne,S=xe,x=fe),m=q,T=null}function U(q,K){q.side===ja?z(2884):H(2884);let Z=q.side===wi;K&&(Z=!Z),ie(Z),q.blending===_c&&q.transparent===!1?P(Io):P(q.blending,q.blendEquation,q.blendSrc,q.blendDst,q.blendEquationAlpha,q.blendSrcAlpha,q.blendDstAlpha,q.premultipliedAlpha),l.setFunc(q.depthFunc),l.setTest(q.depthTest),l.setMask(q.depthWrite),a.setMask(q.colorWrite);const ne=q.stencilWrite;c.setTest(ne),ne&&(c.setMask(q.stencilWriteMask),c.setFunc(q.stencilFunc,q.stencilRef,q.stencilFuncMask),c.setOp(q.stencilFail,q.stencilZFail,q.stencilZPass)),Te(q.polygonOffset,q.polygonOffsetFactor,q.polygonOffsetUnits),q.alphaToCoverage===!0?H(32926):z(32926)}function ie(q){E!==q&&(q?t.frontFace(2304):t.frontFace(2305),E=q)}function oe(q){q!==cV?(H(2884),q!==M&&(q===cx?t.cullFace(1029):q===uV?t.cullFace(1028):t.cullFace(1032))):z(2884),M=q}function he(q){q!==C&&(F&&t.lineWidth(q),C=q)}function Te(q,K,Z){q?(H(32823),(A!==K||R!==Z)&&(t.polygonOffset(K,Z),A=K,R=Z)):z(32823)}function ke(q){q?H(3089):z(3089)}function V(q){q===void 0&&(q=33984+$-1),B!==q&&(t.activeTexture(q),B=q)}function Ce(q,K){B===null&&V();let Z=W[B];Z===void 0&&(Z={type:void 0,texture:void 0},W[B]=Z),(Z.type!==q||Z.texture!==K)&&(t.bindTexture(q,K||te[q]),Z.type=q,Z.texture=K)}function we(){const q=W[B];q!==void 0&&q.type!==void 0&&(t.bindTexture(q.type,null),q.type=void 0,q.texture=void 0)}function L(){try{t.compressedTexImage2D.apply(t,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function k(){try{t.texSubImage2D.apply(t,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function ee(){try{t.texSubImage3D.apply(t,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function de(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function be(){try{t.texStorage2D.apply(t,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function Ee(){try{t.texStorage3D.apply(t,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function Ie(){try{t.texImage2D.apply(t,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function ae(){try{t.texImage3D.apply(t,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function $e(q){pe.equals(q)===!1&&(t.scissor(q.x,q.y,q.z,q.w),pe.copy(q))}function Ne(q){O.equals(q)===!1&&(t.viewport(q.x,q.y,q.z,q.w),O.copy(q))}function Ue(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),s===!0&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},B=null,W={},d={},f=new WeakMap,h=[],_=null,p=!1,m=null,y=null,b=null,v=null,w=null,S=null,x=null,T=!1,E=null,M=null,C=null,A=null,R=null,pe.set(0,0,t.canvas.width,t.canvas.height),O.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:H,disable:z,bindFramebuffer:ge,drawBuffers:ue,useProgram:ve,setBlending:P,setMaterial:U,setFlipSided:ie,setCullFace:oe,setLineWidth:he,setPolygonOffset:Te,setScissorTest:ke,activeTexture:V,bindTexture:Ce,unbindTexture:we,compressedTexImage2D:L,texImage2D:Ie,texImage3D:ae,texStorage2D:be,texStorage3D:Ee,texSubImage2D:k,texSubImage3D:ee,compressedTexSubImage2D:de,scissor:$e,viewport:Ne,reset:Ue}}function cX(t,e,n,s,i,r,o){const a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,d=i.maxSamples,f=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,h=/OculusBrowser/g.test(navigator.userAgent),_=new WeakMap;let p;const m=new WeakMap;let y=!1;try{y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function b(L,k){return y?new OffscreenCanvas(L,k):Wd("canvas")}function v(L,k,ee,de){let be=1;if((L.width>de||L.height>de)&&(be=de/Math.max(L.width,L.height)),be<1||k===!0)if(typeof HTMLImageElement<"u"&&L instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&L instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&L instanceof ImageBitmap){const Ee=k?im:Math.floor,Ie=Ee(be*L.width),ae=Ee(be*L.height);p===void 0&&(p=b(Ie,ae));const $e=ee?b(Ie,ae):p;return $e.width=Ie,$e.height=ae,$e.getContext("2d").drawImage(L,0,0,Ie,ae),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+L.width+"x"+L.height+") to ("+Ie+"x"+ae+")."),$e}else return"data"in L&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+L.width+"x"+L.height+")."),L;return L}function w(L){return H1(L.width)&&H1(L.height)}function S(L){return a?!1:L.wrapS!==Gs||L.wrapT!==Gs||L.minFilter!==Dn&&L.minFilter!==_s}function x(L,k){return L.generateMipmaps&&k&&L.minFilter!==Dn&&L.minFilter!==_s}function T(L){t.generateMipmap(L)}function E(L,k,ee,de,be=!1){if(a===!1)return k;if(L!==null){if(t[L]!==void 0)return t[L];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+L+"'")}let Ee=k;return k===6403&&(ee===5126&&(Ee=33326),ee===5131&&(Ee=33325),ee===5121&&(Ee=33321)),k===33319&&(ee===5126&&(Ee=33328),ee===5131&&(Ee=33327),ee===5121&&(Ee=33323)),k===6408&&(ee===5126&&(Ee=34836),ee===5131&&(Ee=34842),ee===5121&&(Ee=de===It&&be===!1?35907:32856),ee===32819&&(Ee=32854),ee===32820&&(Ee=32855)),(Ee===33325||Ee===33326||Ee===33327||Ee===33328||Ee===34842||Ee===34836)&&e.get("EXT_color_buffer_float"),Ee}function M(L,k,ee){return x(L,ee)===!0||L.isFramebufferTexture&&L.minFilter!==Dn&&L.minFilter!==_s?Math.log2(Math.max(k.width,k.height))+1:L.mipmaps!==void 0&&L.mipmaps.length>0?L.mipmaps.length:L.isCompressedTexture&&Array.isArray(L.image)?k.mipmaps.length:1}function C(L){return L===Dn||L===$1||L===B1?9728:9729}function A(L){const k=L.target;k.removeEventListener("dispose",A),$(k),k.isVideoTexture&&_.delete(k)}function R(L){const k=L.target;k.removeEventListener("dispose",R),D(k)}function $(L){const k=s.get(L);if(k.__webglInit===void 0)return;const ee=L.source,de=m.get(ee);if(de){const be=de[k.__cacheKey];be.usedTimes--,be.usedTimes===0&&F(L),Object.keys(de).length===0&&m.delete(ee)}s.remove(L)}function F(L){const k=s.get(L);t.deleteTexture(k.__webglTexture);const ee=L.source,de=m.get(ee);delete de[k.__cacheKey],o.memory.textures--}function D(L){const k=L.texture,ee=s.get(L),de=s.get(k);if(de.__webglTexture!==void 0&&(t.deleteTexture(de.__webglTexture),o.memory.textures--),L.depthTexture&&L.depthTexture.dispose(),L.isWebGLCubeRenderTarget)for(let be=0;be<6;be++)t.deleteFramebuffer(ee.__webglFramebuffer[be]),ee.__webglDepthbuffer&&t.deleteRenderbuffer(ee.__webglDepthbuffer[be]);else{if(t.deleteFramebuffer(ee.__webglFramebuffer),ee.__webglDepthbuffer&&t.deleteRenderbuffer(ee.__webglDepthbuffer),ee.__webglMultisampledFramebuffer&&t.deleteFramebuffer(ee.__webglMultisampledFramebuffer),ee.__webglColorRenderbuffer)for(let be=0;be<ee.__webglColorRenderbuffer.length;be++)ee.__webglColorRenderbuffer[be]&&t.deleteRenderbuffer(ee.__webglColorRenderbuffer[be]);ee.__webglDepthRenderbuffer&&t.deleteRenderbuffer(ee.__webglDepthRenderbuffer)}if(L.isWebGLMultipleRenderTargets)for(let be=0,Ee=k.length;be<Ee;be++){const Ie=s.get(k[be]);Ie.__webglTexture&&(t.deleteTexture(Ie.__webglTexture),o.memory.textures--),s.remove(k[be])}s.remove(k),s.remove(L)}let I=0;function B(){I=0}function W(){const L=I;return L>=l&&console.warn("THREE.WebGLTextures: Trying to use "+L+" texture units while this GPU supports only "+l),I+=1,L}function Y(L){const k=[];return k.push(L.wrapS),k.push(L.wrapT),k.push(L.magFilter),k.push(L.minFilter),k.push(L.anisotropy),k.push(L.internalFormat),k.push(L.format),k.push(L.type),k.push(L.generateMipmaps),k.push(L.premultiplyAlpha),k.push(L.flipY),k.push(L.unpackAlignment),k.push(L.encoding),k.join()}function j(L,k){const ee=s.get(L);if(L.isVideoTexture&&Ce(L),L.isRenderTargetTexture===!1&&L.version>0&&ee.__version!==L.version){const de=L.image;if(de===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(de.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ue(ee,L,k);return}}n.activeTexture(33984+k),n.bindTexture(3553,ee.__webglTexture)}function pe(L,k){const ee=s.get(L);if(L.version>0&&ee.__version!==L.version){ue(ee,L,k);return}n.activeTexture(33984+k),n.bindTexture(35866,ee.__webglTexture)}function O(L,k){const ee=s.get(L);if(L.version>0&&ee.__version!==L.version){ue(ee,L,k);return}n.activeTexture(33984+k),n.bindTexture(32879,ee.__webglTexture)}function G(L,k){const ee=s.get(L);if(L.version>0&&ee.__version!==L.version){ve(ee,L,k);return}n.activeTexture(33984+k),n.bindTexture(34067,ee.__webglTexture)}const te={[Nc]:10497,[Gs]:33071,[sm]:33648},H={[Dn]:9728,[$1]:9984,[B1]:9986,[_s]:9729,[r5]:9985,[tu]:9987};function z(L,k,ee){if(ee?(t.texParameteri(L,10242,te[k.wrapS]),t.texParameteri(L,10243,te[k.wrapT]),(L===32879||L===35866)&&t.texParameteri(L,32882,te[k.wrapR]),t.texParameteri(L,10240,H[k.magFilter]),t.texParameteri(L,10241,H[k.minFilter])):(t.texParameteri(L,10242,33071),t.texParameteri(L,10243,33071),(L===32879||L===35866)&&t.texParameteri(L,32882,33071),(k.wrapS!==Gs||k.wrapT!==Gs)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(L,10240,C(k.magFilter)),t.texParameteri(L,10241,C(k.minFilter)),k.minFilter!==Dn&&k.minFilter!==_s&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const de=e.get("EXT_texture_filter_anisotropic");if(k.type===So&&e.has("OES_texture_float_linear")===!1||a===!1&&k.type===Gd&&e.has("OES_texture_half_float_linear")===!1)return;(k.anisotropy>1||s.get(k).__currentAnisotropy)&&(t.texParameterf(L,de.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(k.anisotropy,i.getMaxAnisotropy())),s.get(k).__currentAnisotropy=k.anisotropy)}}function ge(L,k){let ee=!1;L.__webglInit===void 0&&(L.__webglInit=!0,k.addEventListener("dispose",A));const de=k.source;let be=m.get(de);be===void 0&&(be={},m.set(de,be));const Ee=Y(k);if(Ee!==L.__cacheKey){be[Ee]===void 0&&(be[Ee]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,ee=!0),be[Ee].usedTimes++;const Ie=be[L.__cacheKey];Ie!==void 0&&(be[L.__cacheKey].usedTimes--,Ie.usedTimes===0&&F(k)),L.__cacheKey=Ee,L.__webglTexture=be[Ee].texture}return ee}function ue(L,k,ee){let de=3553;k.isDataArrayTexture&&(de=35866),k.isData3DTexture&&(de=32879);const be=ge(L,k),Ee=k.source;if(n.activeTexture(33984+ee),n.bindTexture(de,L.__webglTexture),Ee.version!==Ee.__currentVersion||be===!0){t.pixelStorei(37440,k.flipY),t.pixelStorei(37441,k.premultiplyAlpha),t.pixelStorei(3317,k.unpackAlignment),t.pixelStorei(37443,0);const Ie=S(k)&&w(k.image)===!1;let ae=v(k.image,Ie,!1,u);ae=we(k,ae);const $e=w(ae)||a,Ne=r.convert(k.format,k.encoding);let Ue=r.convert(k.type),q=E(k.internalFormat,Ne,Ue,k.encoding,k.isVideoTexture);z(de,k,$e);let K;const Z=k.mipmaps,ne=a&&k.isVideoTexture!==!0,re=Ee.__currentVersion===void 0||be===!0,xe=M(k,ae,$e);if(k.isDepthTexture)q=6402,a?k.type===So?q=36012:k.type===Ta?q=33190:k.type===yc?q=35056:q=33189:k.type===So&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),k.format===Ua&&q===6402&&k.type!==o5&&k.type!==Ta&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),k.type=Ta,Ue=r.convert(k.type)),k.format===Uc&&q===6402&&(q=34041,k.type!==yc&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),k.type=yc,Ue=r.convert(k.type))),re&&(ne?n.texStorage2D(3553,1,q,ae.width,ae.height):n.texImage2D(3553,0,q,ae.width,ae.height,0,Ne,Ue,null));else if(k.isDataTexture)if(Z.length>0&&$e){ne&&re&&n.texStorage2D(3553,xe,q,Z[0].width,Z[0].height);for(let fe=0,Le=Z.length;fe<Le;fe++)K=Z[fe],ne?n.texSubImage2D(3553,fe,0,0,K.width,K.height,Ne,Ue,K.data):n.texImage2D(3553,fe,q,K.width,K.height,0,Ne,Ue,K.data);k.generateMipmaps=!1}else ne?(re&&n.texStorage2D(3553,xe,q,ae.width,ae.height),n.texSubImage2D(3553,0,0,0,ae.width,ae.height,Ne,Ue,ae.data)):n.texImage2D(3553,0,q,ae.width,ae.height,0,Ne,Ue,ae.data);else if(k.isCompressedTexture){ne&&re&&n.texStorage2D(3553,xe,q,Z[0].width,Z[0].height);for(let fe=0,Le=Z.length;fe<Le;fe++)K=Z[fe],k.format!==gi?Ne!==null?ne?n.compressedTexSubImage2D(3553,fe,0,0,K.width,K.height,Ne,K.data):n.compressedTexImage2D(3553,fe,q,K.width,K.height,0,K.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ne?n.texSubImage2D(3553,fe,0,0,K.width,K.height,Ne,Ue,K.data):n.texImage2D(3553,fe,q,K.width,K.height,0,Ne,Ue,K.data)}else if(k.isDataArrayTexture)ne?(re&&n.texStorage3D(35866,xe,q,ae.width,ae.height,ae.depth),n.texSubImage3D(35866,0,0,0,0,ae.width,ae.height,ae.depth,Ne,Ue,ae.data)):n.texImage3D(35866,0,q,ae.width,ae.height,ae.depth,0,Ne,Ue,ae.data);else if(k.isData3DTexture)ne?(re&&n.texStorage3D(32879,xe,q,ae.width,ae.height,ae.depth),n.texSubImage3D(32879,0,0,0,0,ae.width,ae.height,ae.depth,Ne,Ue,ae.data)):n.texImage3D(32879,0,q,ae.width,ae.height,ae.depth,0,Ne,Ue,ae.data);else if(k.isFramebufferTexture){if(re)if(ne)n.texStorage2D(3553,xe,q,ae.width,ae.height);else{let fe=ae.width,Le=ae.height;for(let Qe=0;Qe<xe;Qe++)n.texImage2D(3553,Qe,q,fe,Le,0,Ne,Ue,null),fe>>=1,Le>>=1}}else if(Z.length>0&&$e){ne&&re&&n.texStorage2D(3553,xe,q,Z[0].width,Z[0].height);for(let fe=0,Le=Z.length;fe<Le;fe++)K=Z[fe],ne?n.texSubImage2D(3553,fe,0,0,Ne,Ue,K):n.texImage2D(3553,fe,q,Ne,Ue,K);k.generateMipmaps=!1}else ne?(re&&n.texStorage2D(3553,xe,q,ae.width,ae.height),n.texSubImage2D(3553,0,0,0,Ne,Ue,ae)):n.texImage2D(3553,0,q,Ne,Ue,ae);x(k,$e)&&T(de),Ee.__currentVersion=Ee.version,k.onUpdate&&k.onUpdate(k)}L.__version=k.version}function ve(L,k,ee){if(k.image.length!==6)return;const de=ge(L,k),be=k.source;if(n.activeTexture(33984+ee),n.bindTexture(34067,L.__webglTexture),be.version!==be.__currentVersion||de===!0){t.pixelStorei(37440,k.flipY),t.pixelStorei(37441,k.premultiplyAlpha),t.pixelStorei(3317,k.unpackAlignment),t.pixelStorei(37443,0);const Ee=k.isCompressedTexture||k.image[0].isCompressedTexture,Ie=k.image[0]&&k.image[0].isDataTexture,ae=[];for(let fe=0;fe<6;fe++)!Ee&&!Ie?ae[fe]=v(k.image[fe],!1,!0,c):ae[fe]=Ie?k.image[fe].image:k.image[fe],ae[fe]=we(k,ae[fe]);const $e=ae[0],Ne=w($e)||a,Ue=r.convert(k.format,k.encoding),q=r.convert(k.type),K=E(k.internalFormat,Ue,q,k.encoding),Z=a&&k.isVideoTexture!==!0,ne=be.__currentVersion===void 0||de===!0;let re=M(k,$e,Ne);z(34067,k,Ne);let xe;if(Ee){Z&&ne&&n.texStorage2D(34067,re,K,$e.width,$e.height);for(let fe=0;fe<6;fe++){xe=ae[fe].mipmaps;for(let Le=0;Le<xe.length;Le++){const Qe=xe[Le];k.format!==gi?Ue!==null?Z?n.compressedTexSubImage2D(34069+fe,Le,0,0,Qe.width,Qe.height,Ue,Qe.data):n.compressedTexImage2D(34069+fe,Le,K,Qe.width,Qe.height,0,Qe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Z?n.texSubImage2D(34069+fe,Le,0,0,Qe.width,Qe.height,Ue,q,Qe.data):n.texImage2D(34069+fe,Le,K,Qe.width,Qe.height,0,Ue,q,Qe.data)}}}else{xe=k.mipmaps,Z&&ne&&(xe.length>0&&re++,n.texStorage2D(34067,re,K,ae[0].width,ae[0].height));for(let fe=0;fe<6;fe++)if(Ie){Z?n.texSubImage2D(34069+fe,0,0,0,ae[fe].width,ae[fe].height,Ue,q,ae[fe].data):n.texImage2D(34069+fe,0,K,ae[fe].width,ae[fe].height,0,Ue,q,ae[fe].data);for(let Le=0;Le<xe.length;Le++){const rt=xe[Le].image[fe].image;Z?n.texSubImage2D(34069+fe,Le+1,0,0,rt.width,rt.height,Ue,q,rt.data):n.texImage2D(34069+fe,Le+1,K,rt.width,rt.height,0,Ue,q,rt.data)}}else{Z?n.texSubImage2D(34069+fe,0,0,0,Ue,q,ae[fe]):n.texImage2D(34069+fe,0,K,Ue,q,ae[fe]);for(let Le=0;Le<xe.length;Le++){const Qe=xe[Le];Z?n.texSubImage2D(34069+fe,Le+1,0,0,Ue,q,Qe.image[fe]):n.texImage2D(34069+fe,Le+1,K,Ue,q,Qe.image[fe])}}}x(k,Ne)&&T(34067),be.__currentVersion=be.version,k.onUpdate&&k.onUpdate(k)}L.__version=k.version}function ye(L,k,ee,de,be){const Ee=r.convert(ee.format,ee.encoding),Ie=r.convert(ee.type),ae=E(ee.internalFormat,Ee,Ie,ee.encoding);s.get(k).__hasExternalTextures||(be===32879||be===35866?n.texImage3D(be,0,ae,k.width,k.height,k.depth,0,Ee,Ie,null):n.texImage2D(be,0,ae,k.width,k.height,0,Ee,Ie,null)),n.bindFramebuffer(36160,L),V(k)?f.framebufferTexture2DMultisampleEXT(36160,de,be,s.get(ee).__webglTexture,0,ke(k)):t.framebufferTexture2D(36160,de,be,s.get(ee).__webglTexture,0),n.bindFramebuffer(36160,null)}function Oe(L,k,ee){if(t.bindRenderbuffer(36161,L),k.depthBuffer&&!k.stencilBuffer){let de=33189;if(ee||V(k)){const be=k.depthTexture;be&&be.isDepthTexture&&(be.type===So?de=36012:be.type===Ta&&(de=33190));const Ee=ke(k);V(k)?f.renderbufferStorageMultisampleEXT(36161,Ee,de,k.width,k.height):t.renderbufferStorageMultisample(36161,Ee,de,k.width,k.height)}else t.renderbufferStorage(36161,de,k.width,k.height);t.framebufferRenderbuffer(36160,36096,36161,L)}else if(k.depthBuffer&&k.stencilBuffer){const de=ke(k);ee&&V(k)===!1?t.renderbufferStorageMultisample(36161,de,35056,k.width,k.height):V(k)?f.renderbufferStorageMultisampleEXT(36161,de,35056,k.width,k.height):t.renderbufferStorage(36161,34041,k.width,k.height),t.framebufferRenderbuffer(36160,33306,36161,L)}else{const de=k.isWebGLMultipleRenderTargets===!0?k.texture:[k.texture];for(let be=0;be<de.length;be++){const Ee=de[be],Ie=r.convert(Ee.format,Ee.encoding),ae=r.convert(Ee.type),$e=E(Ee.internalFormat,Ie,ae,Ee.encoding),Ne=ke(k);ee&&V(k)===!1?t.renderbufferStorageMultisample(36161,Ne,$e,k.width,k.height):V(k)?f.renderbufferStorageMultisampleEXT(36161,Ne,$e,k.width,k.height):t.renderbufferStorage(36161,$e,k.width,k.height)}}t.bindRenderbuffer(36161,null)}function P(L,k){if(k&&k.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,L),!(k.depthTexture&&k.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!s.get(k.depthTexture).__webglTexture||k.depthTexture.image.width!==k.width||k.depthTexture.image.height!==k.height)&&(k.depthTexture.image.width=k.width,k.depthTexture.image.height=k.height,k.depthTexture.needsUpdate=!0),j(k.depthTexture,0);const de=s.get(k.depthTexture).__webglTexture,be=ke(k);if(k.depthTexture.format===Ua)V(k)?f.framebufferTexture2DMultisampleEXT(36160,36096,3553,de,0,be):t.framebufferTexture2D(36160,36096,3553,de,0);else if(k.depthTexture.format===Uc)V(k)?f.framebufferTexture2DMultisampleEXT(36160,33306,3553,de,0,be):t.framebufferTexture2D(36160,33306,3553,de,0);else throw new Error("Unknown depthTexture format")}function U(L){const k=s.get(L),ee=L.isWebGLCubeRenderTarget===!0;if(L.depthTexture&&!k.__autoAllocateDepthBuffer){if(ee)throw new Error("target.depthTexture not supported in Cube render targets");P(k.__webglFramebuffer,L)}else if(ee){k.__webglDepthbuffer=[];for(let de=0;de<6;de++)n.bindFramebuffer(36160,k.__webglFramebuffer[de]),k.__webglDepthbuffer[de]=t.createRenderbuffer(),Oe(k.__webglDepthbuffer[de],L,!1)}else n.bindFramebuffer(36160,k.__webglFramebuffer),k.__webglDepthbuffer=t.createRenderbuffer(),Oe(k.__webglDepthbuffer,L,!1);n.bindFramebuffer(36160,null)}function ie(L,k,ee){const de=s.get(L);k!==void 0&&ye(de.__webglFramebuffer,L,L.texture,36064,3553),ee!==void 0&&U(L)}function oe(L){const k=L.texture,ee=s.get(L),de=s.get(k);L.addEventListener("dispose",R),L.isWebGLMultipleRenderTargets!==!0&&(de.__webglTexture===void 0&&(de.__webglTexture=t.createTexture()),de.__version=k.version,o.memory.textures++);const be=L.isWebGLCubeRenderTarget===!0,Ee=L.isWebGLMultipleRenderTargets===!0,Ie=w(L)||a;if(be){ee.__webglFramebuffer=[];for(let ae=0;ae<6;ae++)ee.__webglFramebuffer[ae]=t.createFramebuffer()}else{if(ee.__webglFramebuffer=t.createFramebuffer(),Ee)if(i.drawBuffers){const ae=L.texture;for(let $e=0,Ne=ae.length;$e<Ne;$e++){const Ue=s.get(ae[$e]);Ue.__webglTexture===void 0&&(Ue.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&L.samples>0&&V(L)===!1){const ae=Ee?k:[k];ee.__webglMultisampledFramebuffer=t.createFramebuffer(),ee.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,ee.__webglMultisampledFramebuffer);for(let $e=0;$e<ae.length;$e++){const Ne=ae[$e];ee.__webglColorRenderbuffer[$e]=t.createRenderbuffer(),t.bindRenderbuffer(36161,ee.__webglColorRenderbuffer[$e]);const Ue=r.convert(Ne.format,Ne.encoding),q=r.convert(Ne.type),K=E(Ne.internalFormat,Ue,q,Ne.encoding),Z=ke(L);t.renderbufferStorageMultisample(36161,Z,K,L.width,L.height),t.framebufferRenderbuffer(36160,36064+$e,36161,ee.__webglColorRenderbuffer[$e])}t.bindRenderbuffer(36161,null),L.depthBuffer&&(ee.__webglDepthRenderbuffer=t.createRenderbuffer(),Oe(ee.__webglDepthRenderbuffer,L,!0)),n.bindFramebuffer(36160,null)}}if(be){n.bindTexture(34067,de.__webglTexture),z(34067,k,Ie);for(let ae=0;ae<6;ae++)ye(ee.__webglFramebuffer[ae],L,k,36064,34069+ae);x(k,Ie)&&T(34067),n.unbindTexture()}else if(Ee){const ae=L.texture;for(let $e=0,Ne=ae.length;$e<Ne;$e++){const Ue=ae[$e],q=s.get(Ue);n.bindTexture(3553,q.__webglTexture),z(3553,Ue,Ie),ye(ee.__webglFramebuffer,L,Ue,36064+$e,3553),x(Ue,Ie)&&T(3553)}n.unbindTexture()}else{let ae=3553;(L.isWebGL3DRenderTarget||L.isWebGLArrayRenderTarget)&&(a?ae=L.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(ae,de.__webglTexture),z(ae,k,Ie),ye(ee.__webglFramebuffer,L,k,36064,ae),x(k,Ie)&&T(ae),n.unbindTexture()}L.depthBuffer&&U(L)}function he(L){const k=w(L)||a,ee=L.isWebGLMultipleRenderTargets===!0?L.texture:[L.texture];for(let de=0,be=ee.length;de<be;de++){const Ee=ee[de];if(x(Ee,k)){const Ie=L.isWebGLCubeRenderTarget?34067:3553,ae=s.get(Ee).__webglTexture;n.bindTexture(Ie,ae),T(Ie),n.unbindTexture()}}}function Te(L){if(a&&L.samples>0&&V(L)===!1){const k=L.isWebGLMultipleRenderTargets?L.texture:[L.texture],ee=L.width,de=L.height;let be=16384;const Ee=[],Ie=L.stencilBuffer?33306:36096,ae=s.get(L),$e=L.isWebGLMultipleRenderTargets===!0;if($e)for(let Ne=0;Ne<k.length;Ne++)n.bindFramebuffer(36160,ae.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+Ne,36161,null),n.bindFramebuffer(36160,ae.__webglFramebuffer),t.framebufferTexture2D(36009,36064+Ne,3553,null,0);n.bindFramebuffer(36008,ae.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,ae.__webglFramebuffer);for(let Ne=0;Ne<k.length;Ne++){Ee.push(36064+Ne),L.depthBuffer&&Ee.push(Ie);const Ue=ae.__ignoreDepthValues!==void 0?ae.__ignoreDepthValues:!1;if(Ue===!1&&(L.depthBuffer&&(be|=256),L.stencilBuffer&&(be|=1024)),$e&&t.framebufferRenderbuffer(36008,36064,36161,ae.__webglColorRenderbuffer[Ne]),Ue===!0&&(t.invalidateFramebuffer(36008,[Ie]),t.invalidateFramebuffer(36009,[Ie])),$e){const q=s.get(k[Ne]).__webglTexture;t.framebufferTexture2D(36009,36064,3553,q,0)}t.blitFramebuffer(0,0,ee,de,0,0,ee,de,be,9728),h&&t.invalidateFramebuffer(36008,Ee)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),$e)for(let Ne=0;Ne<k.length;Ne++){n.bindFramebuffer(36160,ae.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+Ne,36161,ae.__webglColorRenderbuffer[Ne]);const Ue=s.get(k[Ne]).__webglTexture;n.bindFramebuffer(36160,ae.__webglFramebuffer),t.framebufferTexture2D(36009,36064+Ne,3553,Ue,0)}n.bindFramebuffer(36009,ae.__webglMultisampledFramebuffer)}}function ke(L){return Math.min(d,L.samples)}function V(L){const k=s.get(L);return a&&L.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&k.__useRenderToTexture!==!1}function Ce(L){const k=o.render.frame;_.get(L)!==k&&(_.set(L,k),L.update())}function we(L,k){const ee=L.encoding,de=L.format,be=L.type;return L.isCompressedTexture===!0||L.isVideoTexture===!0||L.format===G1||ee!==Ya&&(ee===It?a===!1?e.has("EXT_sRGB")===!0&&de===gi?(L.format=G1,L.minFilter=_s,L.generateMipmaps=!1):k=d5.sRGBToLinear(k):(de!==gi||be!==qa)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",ee)),k}this.allocateTextureUnit=W,this.resetTextureUnits=B,this.setTexture2D=j,this.setTexture2DArray=pe,this.setTexture3D=O,this.setTextureCube=G,this.rebindTextures=ie,this.setupRenderTarget=oe,this.updateRenderTargetMipmap=he,this.updateMultisampleRenderTarget=Te,this.setupDepthRenderbuffer=U,this.setupFrameBufferTexture=ye,this.useMultisampledRTT=V}function uX(t,e,n){const s=n.isWebGL2;function i(r,o=null){let a;if(r===qa)return 5121;if(r===GV)return 32819;if(r===HV)return 32820;if(r===$V)return 5120;if(r===BV)return 5122;if(r===o5)return 5123;if(r===zV)return 5124;if(r===Ta)return 5125;if(r===So)return 5126;if(r===Gd)return s?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(r===VV)return 6406;if(r===gi)return 6408;if(r===jV)return 6409;if(r===qV)return 6410;if(r===Ua)return 6402;if(r===Uc)return 34041;if(r===YV)return 6403;if(r===WV)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(r===G1)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(r===KV)return 36244;if(r===XV)return 33319;if(r===ZV)return 33320;if(r===JV)return 36249;if(r===U0||r===$0||r===B0||r===z0)if(o===It)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(r===U0)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===$0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===B0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===z0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(r===U0)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===$0)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===B0)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===z0)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===mx||r===gx||r===_x||r===yx)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(r===mx)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===gx)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===_x)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===yx)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===QV)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(r===bx||r===vx)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(r===bx)return o===It?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(r===vx)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===wx||r===xx||r===Sx||r===Ex||r===Tx||r===Mx||r===Ax||r===kx||r===Rx||r===Cx||r===Ox||r===Px||r===Lx||r===Ix)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(r===wx)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===xx)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===Sx)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===Ex)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===Tx)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===Mx)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===Ax)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===kx)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===Rx)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===Cx)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===Ox)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===Px)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===Lx)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===Ix)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===Dx)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(r===Dx)return o===It?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return r===yc?s?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[r]!==void 0?t[r]:null}return{convert:i}}class dX extends is{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Aa extends bn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const fX={type:"move"};class m_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Aa,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Aa,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new J,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new J),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Aa,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new J,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new J),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,s){let i=null,r=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const p of e.hand.values()){const m=n.getJointPose(p,s);if(c.joints[p.jointName]===void 0){const b=new Aa;b.matrixAutoUpdate=!1,b.visible=!1,c.joints[p.jointName]=b,c.add(b)}const y=c.joints[p.jointName];m!==null&&(y.matrix.fromArray(m.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale),y.jointRadius=m.radius),y.visible=m!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],f=u.position.distanceTo(d.position),h=.02,_=.005;c.inputState.pinching&&f>h+_?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=h-_&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(r=n.getPose(e.gripSpace,s),r!==null&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,s),i===null&&r!==null&&(i=r),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(fX)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=r!==null),c!==null&&(c.visible=o!==null),this}}class hX extends os{constructor(e,n,s,i,r,o,a,l,c,u){if(u=u!==void 0?u:Ua,u!==Ua&&u!==Uc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");s===void 0&&u===Ua&&(s=Ta),s===void 0&&u===Uc&&(s=yc),super(null,i,r,o,a,l,u,s,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:Dn,this.minFilter=l!==void 0?l:Dn,this.flipY=!1,this.generateMipmaps=!1}}class pX extends nu{constructor(e,n){super();const s=this;let i=null,r=1,o=null,a="local-floor",l=null,c=null,u=null,d=null,f=null,h=null;const _=n.getContextAttributes();let p=null,m=null;const y=[],b=[],v=new is;v.layers.enable(1),v.viewport=new Ut;const w=new is;w.layers.enable(2),w.viewport=new Ut;const S=[v,w],x=new dX;x.layers.enable(1),x.layers.enable(2);let T=null,E=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Y){let j=y[Y];return j===void 0&&(j=new m_,y[Y]=j),j.getTargetRaySpace()},this.getControllerGrip=function(Y){let j=y[Y];return j===void 0&&(j=new m_,y[Y]=j),j.getGripSpace()},this.getHand=function(Y){let j=y[Y];return j===void 0&&(j=new m_,y[Y]=j),j.getHandSpace()};function M(Y){const j=b.indexOf(Y.inputSource);if(j===-1)return;const pe=y[j];pe!==void 0&&pe.dispatchEvent({type:Y.type,data:Y.inputSource})}function C(){i.removeEventListener("select",M),i.removeEventListener("selectstart",M),i.removeEventListener("selectend",M),i.removeEventListener("squeeze",M),i.removeEventListener("squeezestart",M),i.removeEventListener("squeezeend",M),i.removeEventListener("end",C),i.removeEventListener("inputsourceschange",A);for(let Y=0;Y<y.length;Y++){const j=b[Y];j!==null&&(b[Y]=null,y[Y].disconnect(j))}T=null,E=null,e.setRenderTarget(p),f=null,d=null,u=null,i=null,m=null,W.stop(),s.isPresenting=!1,s.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Y){r=Y,s.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Y){a=Y,s.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(Y){l=Y},this.getBaseLayer=function(){return d!==null?d:f},this.getBinding=function(){return u},this.getFrame=function(){return h},this.getSession=function(){return i},this.setSession=async function(Y){if(i=Y,i!==null){if(p=e.getRenderTarget(),i.addEventListener("select",M),i.addEventListener("selectstart",M),i.addEventListener("selectend",M),i.addEventListener("squeeze",M),i.addEventListener("squeezestart",M),i.addEventListener("squeezeend",M),i.addEventListener("end",C),i.addEventListener("inputsourceschange",A),_.xrCompatible!==!0&&await n.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const j={antialias:i.renderState.layers===void 0?_.antialias:!0,alpha:_.alpha,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:r};f=new XRWebGLLayer(i,n,j),i.updateRenderState({baseLayer:f}),m=new Ka(f.framebufferWidth,f.framebufferHeight,{format:gi,type:qa,encoding:e.outputEncoding})}else{let j=null,pe=null,O=null;_.depth&&(O=_.stencil?35056:33190,j=_.stencil?Uc:Ua,pe=_.stencil?yc:Ta);const G={colorFormat:32856,depthFormat:O,scaleFactor:r};u=new XRWebGLBinding(i,n),d=u.createProjectionLayer(G),i.updateRenderState({layers:[d]}),m=new Ka(d.textureWidth,d.textureHeight,{format:gi,type:qa,depthTexture:new hX(d.textureWidth,d.textureHeight,pe,void 0,void 0,void 0,void 0,void 0,void 0,j),stencilBuffer:_.stencil,encoding:e.outputEncoding,samples:_.antialias?4:0});const te=e.properties.get(m);te.__ignoreDepthValues=d.ignoreDepthValues}m.isXRRenderTarget=!0,this.setFoveation(1),l=null,o=await i.requestReferenceSpace(a),W.setContext(i),W.start(),s.isPresenting=!0,s.dispatchEvent({type:"sessionstart"})}};function A(Y){for(let j=0;j<Y.removed.length;j++){const pe=Y.removed[j],O=b.indexOf(pe);O>=0&&(b[O]=null,y[O].dispatchEvent({type:"disconnected",data:pe}))}for(let j=0;j<Y.added.length;j++){const pe=Y.added[j];let O=b.indexOf(pe);if(O===-1){for(let te=0;te<y.length;te++)if(te>=b.length){b.push(pe),O=te;break}else if(b[te]===null){b[te]=pe,O=te;break}if(O===-1)break}const G=y[O];G&&G.dispatchEvent({type:"connected",data:pe})}}const R=new J,$=new J;function F(Y,j,pe){R.setFromMatrixPosition(j.matrixWorld),$.setFromMatrixPosition(pe.matrixWorld);const O=R.distanceTo($),G=j.projectionMatrix.elements,te=pe.projectionMatrix.elements,H=G[14]/(G[10]-1),z=G[14]/(G[10]+1),ge=(G[9]+1)/G[5],ue=(G[9]-1)/G[5],ve=(G[8]-1)/G[0],ye=(te[8]+1)/te[0],Oe=H*ve,P=H*ye,U=O/(-ve+ye),ie=U*-ve;j.matrixWorld.decompose(Y.position,Y.quaternion,Y.scale),Y.translateX(ie),Y.translateZ(U),Y.matrixWorld.compose(Y.position,Y.quaternion,Y.scale),Y.matrixWorldInverse.copy(Y.matrixWorld).invert();const oe=H+U,he=z+U,Te=Oe-ie,ke=P+(O-ie),V=ge*z/he*oe,Ce=ue*z/he*oe;Y.projectionMatrix.makePerspective(Te,ke,V,Ce,oe,he)}function D(Y,j){j===null?Y.matrixWorld.copy(Y.matrix):Y.matrixWorld.multiplyMatrices(j.matrixWorld,Y.matrix),Y.matrixWorldInverse.copy(Y.matrixWorld).invert()}this.updateCamera=function(Y){if(i===null)return;x.near=w.near=v.near=Y.near,x.far=w.far=v.far=Y.far,(T!==x.near||E!==x.far)&&(i.updateRenderState({depthNear:x.near,depthFar:x.far}),T=x.near,E=x.far);const j=Y.parent,pe=x.cameras;D(x,j);for(let G=0;G<pe.length;G++)D(pe[G],j);x.matrixWorld.decompose(x.position,x.quaternion,x.scale),Y.position.copy(x.position),Y.quaternion.copy(x.quaternion),Y.scale.copy(x.scale),Y.matrix.copy(x.matrix),Y.matrixWorld.copy(x.matrixWorld);const O=Y.children;for(let G=0,te=O.length;G<te;G++)O[G].updateMatrixWorld(!0);pe.length===2?F(x,v,w):x.projectionMatrix.copy(v.projectionMatrix)},this.getCamera=function(){return x},this.getFoveation=function(){if(d!==null)return d.fixedFoveation;if(f!==null)return f.fixedFoveation},this.setFoveation=function(Y){d!==null&&(d.fixedFoveation=Y),f!==null&&f.fixedFoveation!==void 0&&(f.fixedFoveation=Y)};let I=null;function B(Y,j){if(c=j.getViewerPose(l||o),h=j,c!==null){const pe=c.views;f!==null&&(e.setRenderTargetFramebuffer(m,f.framebuffer),e.setRenderTarget(m));let O=!1;pe.length!==x.cameras.length&&(x.cameras.length=0,O=!0);for(let G=0;G<pe.length;G++){const te=pe[G];let H=null;if(f!==null)H=f.getViewport(te);else{const ge=u.getViewSubImage(d,te);H=ge.viewport,G===0&&(e.setRenderTargetTextures(m,ge.colorTexture,d.ignoreDepthValues?void 0:ge.depthStencilTexture),e.setRenderTarget(m))}let z=S[G];z===void 0&&(z=new is,z.layers.enable(G),z.viewport=new Ut,S[G]=z),z.matrix.fromArray(te.transform.matrix),z.projectionMatrix.fromArray(te.projectionMatrix),z.viewport.set(H.x,H.y,H.width,H.height),G===0&&x.matrix.copy(z.matrix),O===!0&&x.cameras.push(z)}}for(let pe=0;pe<y.length;pe++){const O=b[pe],G=y[pe];O!==null&&G!==void 0&&G.update(O,j,l||o)}I&&I(Y,j),h=null}const W=new b5;W.setAnimationLoop(B),this.setAnimationLoop=function(Y){I=Y},this.dispose=function(){}}}function mX(t,e){function n(p,m){p.fogColor.value.copy(m.color),m.isFog?(p.fogNear.value=m.near,p.fogFar.value=m.far):m.isFogExp2&&(p.fogDensity.value=m.density)}function s(p,m,y,b,v){m.isMeshBasicMaterial||m.isMeshLambertMaterial?i(p,m):m.isMeshToonMaterial?(i(p,m),u(p,m)):m.isMeshPhongMaterial?(i(p,m),c(p,m)):m.isMeshStandardMaterial?(i(p,m),d(p,m),m.isMeshPhysicalMaterial&&f(p,m,v)):m.isMeshMatcapMaterial?(i(p,m),h(p,m)):m.isMeshDepthMaterial?i(p,m):m.isMeshDistanceMaterial?(i(p,m),_(p,m)):m.isMeshNormalMaterial?i(p,m):m.isLineBasicMaterial?(r(p,m),m.isLineDashedMaterial&&o(p,m)):m.isPointsMaterial?a(p,m,y,b):m.isSpriteMaterial?l(p,m):m.isShadowMaterial?(p.color.value.copy(m.color),p.opacity.value=m.opacity):m.isShaderMaterial&&(m.uniformsNeedUpdate=!1)}function i(p,m){p.opacity.value=m.opacity,m.color&&p.diffuse.value.copy(m.color),m.emissive&&p.emissive.value.copy(m.emissive).multiplyScalar(m.emissiveIntensity),m.map&&(p.map.value=m.map),m.alphaMap&&(p.alphaMap.value=m.alphaMap),m.bumpMap&&(p.bumpMap.value=m.bumpMap,p.bumpScale.value=m.bumpScale,m.side===wi&&(p.bumpScale.value*=-1)),m.displacementMap&&(p.displacementMap.value=m.displacementMap,p.displacementScale.value=m.displacementScale,p.displacementBias.value=m.displacementBias),m.emissiveMap&&(p.emissiveMap.value=m.emissiveMap),m.normalMap&&(p.normalMap.value=m.normalMap,p.normalScale.value.copy(m.normalScale),m.side===wi&&p.normalScale.value.negate()),m.specularMap&&(p.specularMap.value=m.specularMap),m.alphaTest>0&&(p.alphaTest.value=m.alphaTest);const y=e.get(m).envMap;if(y&&(p.envMap.value=y,p.flipEnvMap.value=y.isCubeTexture&&y.isRenderTargetTexture===!1?-1:1,p.reflectivity.value=m.reflectivity,p.ior.value=m.ior,p.refractionRatio.value=m.refractionRatio),m.lightMap){p.lightMap.value=m.lightMap;const w=t.physicallyCorrectLights!==!0?Math.PI:1;p.lightMapIntensity.value=m.lightMapIntensity*w}m.aoMap&&(p.aoMap.value=m.aoMap,p.aoMapIntensity.value=m.aoMapIntensity);let b;m.map?b=m.map:m.specularMap?b=m.specularMap:m.displacementMap?b=m.displacementMap:m.normalMap?b=m.normalMap:m.bumpMap?b=m.bumpMap:m.roughnessMap?b=m.roughnessMap:m.metalnessMap?b=m.metalnessMap:m.alphaMap?b=m.alphaMap:m.emissiveMap?b=m.emissiveMap:m.clearcoatMap?b=m.clearcoatMap:m.clearcoatNormalMap?b=m.clearcoatNormalMap:m.clearcoatRoughnessMap?b=m.clearcoatRoughnessMap:m.iridescenceMap?b=m.iridescenceMap:m.iridescenceThicknessMap?b=m.iridescenceThicknessMap:m.specularIntensityMap?b=m.specularIntensityMap:m.specularColorMap?b=m.specularColorMap:m.transmissionMap?b=m.transmissionMap:m.thicknessMap?b=m.thicknessMap:m.sheenColorMap?b=m.sheenColorMap:m.sheenRoughnessMap&&(b=m.sheenRoughnessMap),b!==void 0&&(b.isWebGLRenderTarget&&(b=b.texture),b.matrixAutoUpdate===!0&&b.updateMatrix(),p.uvTransform.value.copy(b.matrix));let v;m.aoMap?v=m.aoMap:m.lightMap&&(v=m.lightMap),v!==void 0&&(v.isWebGLRenderTarget&&(v=v.texture),v.matrixAutoUpdate===!0&&v.updateMatrix(),p.uv2Transform.value.copy(v.matrix))}function r(p,m){p.diffuse.value.copy(m.color),p.opacity.value=m.opacity}function o(p,m){p.dashSize.value=m.dashSize,p.totalSize.value=m.dashSize+m.gapSize,p.scale.value=m.scale}function a(p,m,y,b){p.diffuse.value.copy(m.color),p.opacity.value=m.opacity,p.size.value=m.size*y,p.scale.value=b*.5,m.map&&(p.map.value=m.map),m.alphaMap&&(p.alphaMap.value=m.alphaMap),m.alphaTest>0&&(p.alphaTest.value=m.alphaTest);let v;m.map?v=m.map:m.alphaMap&&(v=m.alphaMap),v!==void 0&&(v.matrixAutoUpdate===!0&&v.updateMatrix(),p.uvTransform.value.copy(v.matrix))}function l(p,m){p.diffuse.value.copy(m.color),p.opacity.value=m.opacity,p.rotation.value=m.rotation,m.map&&(p.map.value=m.map),m.alphaMap&&(p.alphaMap.value=m.alphaMap),m.alphaTest>0&&(p.alphaTest.value=m.alphaTest);let y;m.map?y=m.map:m.alphaMap&&(y=m.alphaMap),y!==void 0&&(y.matrixAutoUpdate===!0&&y.updateMatrix(),p.uvTransform.value.copy(y.matrix))}function c(p,m){p.specular.value.copy(m.specular),p.shininess.value=Math.max(m.shininess,1e-4)}function u(p,m){m.gradientMap&&(p.gradientMap.value=m.gradientMap)}function d(p,m){p.roughness.value=m.roughness,p.metalness.value=m.metalness,m.roughnessMap&&(p.roughnessMap.value=m.roughnessMap),m.metalnessMap&&(p.metalnessMap.value=m.metalnessMap),e.get(m).envMap&&(p.envMapIntensity.value=m.envMapIntensity)}function f(p,m,y){p.ior.value=m.ior,m.sheen>0&&(p.sheenColor.value.copy(m.sheenColor).multiplyScalar(m.sheen),p.sheenRoughness.value=m.sheenRoughness,m.sheenColorMap&&(p.sheenColorMap.value=m.sheenColorMap),m.sheenRoughnessMap&&(p.sheenRoughnessMap.value=m.sheenRoughnessMap)),m.clearcoat>0&&(p.clearcoat.value=m.clearcoat,p.clearcoatRoughness.value=m.clearcoatRoughness,m.clearcoatMap&&(p.clearcoatMap.value=m.clearcoatMap),m.clearcoatRoughnessMap&&(p.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap),m.clearcoatNormalMap&&(p.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),p.clearcoatNormalMap.value=m.clearcoatNormalMap,m.side===wi&&p.clearcoatNormalScale.value.negate())),m.iridescence>0&&(p.iridescence.value=m.iridescence,p.iridescenceIOR.value=m.iridescenceIOR,p.iridescenceThicknessMinimum.value=m.iridescenceThicknessRange[0],p.iridescenceThicknessMaximum.value=m.iridescenceThicknessRange[1],m.iridescenceMap&&(p.iridescenceMap.value=m.iridescenceMap),m.iridescenceThicknessMap&&(p.iridescenceThicknessMap.value=m.iridescenceThicknessMap)),m.transmission>0&&(p.transmission.value=m.transmission,p.transmissionSamplerMap.value=y.texture,p.transmissionSamplerSize.value.set(y.width,y.height),m.transmissionMap&&(p.transmissionMap.value=m.transmissionMap),p.thickness.value=m.thickness,m.thicknessMap&&(p.thicknessMap.value=m.thicknessMap),p.attenuationDistance.value=m.attenuationDistance,p.attenuationColor.value.copy(m.attenuationColor)),p.specularIntensity.value=m.specularIntensity,p.specularColor.value.copy(m.specularColor),m.specularIntensityMap&&(p.specularIntensityMap.value=m.specularIntensityMap),m.specularColorMap&&(p.specularColorMap.value=m.specularColorMap)}function h(p,m){m.matcap&&(p.matcap.value=m.matcap)}function _(p,m){p.referencePosition.value.copy(m.referencePosition),p.nearDistance.value=m.nearDistance,p.farDistance.value=m.farDistance}return{refreshFogUniforms:n,refreshMaterialUniforms:s}}function gX(){const t=Wd("canvas");return t.style.display="block",t}function T5(t={}){this.isWebGLRenderer=!0;const e=t.canvas!==void 0?t.canvas:gX(),n=t.context!==void 0?t.context:null,s=t.depth!==void 0?t.depth:!0,i=t.stencil!==void 0?t.stencil:!0,r=t.antialias!==void 0?t.antialias:!1,o=t.premultipliedAlpha!==void 0?t.premultipliedAlpha:!0,a=t.preserveDrawingBuffer!==void 0?t.preserveDrawingBuffer:!1,l=t.powerPreference!==void 0?t.powerPreference:"default",c=t.failIfMajorPerformanceCaveat!==void 0?t.failIfMajorPerformanceCaveat:!1;let u;n!==null?u=n.getContextAttributes().alpha:u=t.alpha!==void 0?t.alpha:!1;let d=null,f=null;const h=[],_=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Ya,this.physicallyCorrectLights=!1,this.toneMapping=Lr,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const p=this;let m=!1,y=0,b=0,v=null,w=-1,S=null;const x=new Ut,T=new Ut;let E=null,M=e.width,C=e.height,A=1,R=null,$=null;const F=new Ut(0,0,M,C),D=new Ut(0,0,M,C);let I=!1;const B=new ev;let W=!1,Y=!1,j=null;const pe=new At,O=new bt,G=new J,te={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function H(){return v===null?A:1}let z=n;function ge(N,le){for(let me=0;me<N.length;me++){const ce=N[me],Se=e.getContext(ce,le);if(Se!==null)return Se}return null}try{const N={alpha:!0,depth:s,stencil:i,antialias:r,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Xb}`),e.addEventListener("webglcontextlost",q,!1),e.addEventListener("webglcontextrestored",K,!1),e.addEventListener("webglcontextcreationerror",Z,!1),z===null){const le=["webgl2","webgl","experimental-webgl"];if(p.isWebGL1Renderer===!0&&le.shift(),z=ge(le,N),z===null)throw ge(le)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}z.getShaderPrecisionFormat===void 0&&(z.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(N){throw console.error("THREE.WebGLRenderer: "+N.message),N}let ue,ve,ye,Oe,P,U,ie,oe,he,Te,ke,V,Ce,we,L,k,ee,de,be,Ee,Ie,ae,$e;function Ne(){ue=new AY(z),ve=new wY(z,ue,t),ue.init(ve),ae=new uX(z,ue,ve),ye=new lX(z,ue,ve),Oe=new CY,P=new YK,U=new cX(z,ue,ye,P,ve,ae,Oe),ie=new SY(p),oe=new MY(p),he=new GW(z,ve),$e=new bY(z,ue,he,ve),Te=new kY(z,he,Oe,$e),ke=new IY(z,Te,he,Oe),be=new LY(z,ve,U),k=new xY(P),V=new qK(p,ie,oe,ue,ve,$e,k),Ce=new mX(p,P),we=new XK,L=new nX(ue,ve),de=new yY(p,ie,ye,ke,u,o),ee=new aX(p,ke,ve),Ee=new vY(z,ue,Oe,ve),Ie=new RY(z,ue,Oe,ve),Oe.programs=V.programs,p.capabilities=ve,p.extensions=ue,p.properties=P,p.renderLists=we,p.shadowMap=ee,p.state=ye,p.info=Oe}Ne();const Ue=new pX(p,z);this.xr=Ue,this.getContext=function(){return z},this.getContextAttributes=function(){return z.getContextAttributes()},this.forceContextLoss=function(){const N=ue.get("WEBGL_lose_context");N&&N.loseContext()},this.forceContextRestore=function(){const N=ue.get("WEBGL_lose_context");N&&N.restoreContext()},this.getPixelRatio=function(){return A},this.setPixelRatio=function(N){N!==void 0&&(A=N,this.setSize(M,C,!1))},this.getSize=function(N){return N.set(M,C)},this.setSize=function(N,le,me){if(Ue.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}M=N,C=le,e.width=Math.floor(N*A),e.height=Math.floor(le*A),me!==!1&&(e.style.width=N+"px",e.style.height=le+"px"),this.setViewport(0,0,N,le)},this.getDrawingBufferSize=function(N){return N.set(M*A,C*A).floor()},this.setDrawingBufferSize=function(N,le,me){M=N,C=le,A=me,e.width=Math.floor(N*me),e.height=Math.floor(le*me),this.setViewport(0,0,N,le)},this.getCurrentViewport=function(N){return N.copy(x)},this.getViewport=function(N){return N.copy(F)},this.setViewport=function(N,le,me,ce){N.isVector4?F.set(N.x,N.y,N.z,N.w):F.set(N,le,me,ce),ye.viewport(x.copy(F).multiplyScalar(A).floor())},this.getScissor=function(N){return N.copy(D)},this.setScissor=function(N,le,me,ce){N.isVector4?D.set(N.x,N.y,N.z,N.w):D.set(N,le,me,ce),ye.scissor(T.copy(D).multiplyScalar(A).floor())},this.getScissorTest=function(){return I},this.setScissorTest=function(N){ye.setScissorTest(I=N)},this.setOpaqueSort=function(N){R=N},this.setTransparentSort=function(N){$=N},this.getClearColor=function(N){return N.copy(de.getClearColor())},this.setClearColor=function(){de.setClearColor.apply(de,arguments)},this.getClearAlpha=function(){return de.getClearAlpha()},this.setClearAlpha=function(){de.setClearAlpha.apply(de,arguments)},this.clear=function(N=!0,le=!0,me=!0){let ce=0;N&&(ce|=16384),le&&(ce|=256),me&&(ce|=1024),z.clear(ce)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",q,!1),e.removeEventListener("webglcontextrestored",K,!1),e.removeEventListener("webglcontextcreationerror",Z,!1),we.dispose(),L.dispose(),P.dispose(),ie.dispose(),oe.dispose(),ke.dispose(),$e.dispose(),V.dispose(),Ue.dispose(),Ue.removeEventListener("sessionstart",Qe),Ue.removeEventListener("sessionend",rt),j&&(j.dispose(),j=null),Sn.stop()};function q(N){N.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),m=!0}function K(){console.log("THREE.WebGLRenderer: Context Restored."),m=!1;const N=Oe.autoReset,le=ee.enabled,me=ee.autoUpdate,ce=ee.needsUpdate,Se=ee.type;Ne(),Oe.autoReset=N,ee.enabled=le,ee.autoUpdate=me,ee.needsUpdate=ce,ee.type=Se}function Z(N){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",N.statusMessage)}function ne(N){const le=N.target;le.removeEventListener("dispose",ne),re(le)}function re(N){xe(N),P.remove(N)}function xe(N){const le=P.get(N).programs;le!==void 0&&(le.forEach(function(me){V.releaseProgram(me)}),N.isShaderMaterial&&V.releaseShaderCache(N))}this.renderBufferDirect=function(N,le,me,ce,Se,et){le===null&&(le=te);const ot=Se.isMesh&&Se.matrixWorld.determinant()<0,ft=ER(N,le,me,ce,Se);ye.setMaterial(ce,ot);let dt=me.index;const Lt=me.attributes.position;if(dt===null){if(Lt===void 0||Lt.count===0)return}else if(dt.count===0)return;let wt=1;ce.wireframe===!0&&(dt=Te.getWireframeAttribute(me),wt=2),$e.setup(Se,ce,ft,me,dt);let Tt,un=Ee;dt!==null&&(Tt=he.get(dt),un=Ie,un.setIndex(Tt));const Ko=dt!==null?dt.count:Lt.count,pl=me.drawRange.start*wt,ml=me.drawRange.count*wt,Li=et!==null?et.start*wt:0,Ct=et!==null?et.count*wt:1/0,gl=Math.max(pl,Li),vn=Math.min(Ko,pl+ml,Li+Ct)-1,Ii=Math.max(0,vn-gl+1);if(Ii!==0){if(Se.isMesh)ce.wireframe===!0?(ye.setLineWidth(ce.wireframeLinewidth*H()),un.setMode(1)):un.setMode(4);else if(Se.isLine){let Yr=ce.linewidth;Yr===void 0&&(Yr=1),ye.setLineWidth(Yr*H()),Se.isLineSegments?un.setMode(1):Se.isLineLoop?un.setMode(2):un.setMode(3)}else Se.isPoints?un.setMode(0):Se.isSprite&&un.setMode(4);if(Se.isInstancedMesh)un.renderInstances(gl,Ii,Se.count);else if(me.isInstancedBufferGeometry){const Yr=Math.min(me.instanceCount,me._maxInstanceCount);un.renderInstances(gl,Ii,Yr)}else un.render(gl,Ii)}},this.compile=function(N,le){f=L.get(N),f.init(),_.push(f),N.traverseVisible(function(me){me.isLight&&me.layers.test(le.layers)&&(f.pushLight(me),me.castShadow&&f.pushShadow(me))}),f.setupLights(p.physicallyCorrectLights),N.traverse(function(me){const ce=me.material;if(ce)if(Array.isArray(ce))for(let Se=0;Se<ce.length;Se++){const et=ce[Se];n0(et,N,me)}else n0(ce,N,me)}),_.pop(),f=null};let fe=null;function Le(N){fe&&fe(N)}function Qe(){Sn.stop()}function rt(){Sn.start()}const Sn=new b5;Sn.setAnimationLoop(Le),typeof self<"u"&&Sn.setContext(self),this.setAnimationLoop=function(N){fe=N,Ue.setAnimationLoop(N),N===null?Sn.stop():Sn.start()},Ue.addEventListener("sessionstart",Qe),Ue.addEventListener("sessionend",rt),this.render=function(N,le){if(le!==void 0&&le.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(m===!0)return;N.autoUpdate===!0&&N.updateMatrixWorld(),le.parent===null&&le.updateMatrixWorld(),Ue.enabled===!0&&Ue.isPresenting===!0&&(Ue.cameraAutoUpdate===!0&&Ue.updateCamera(le),le=Ue.getCamera()),N.isScene===!0&&N.onBeforeRender(p,N,le,v),f=L.get(N,_.length),f.init(),_.push(f),pe.multiplyMatrices(le.projectionMatrix,le.matrixWorldInverse),B.setFromProjectionMatrix(pe),Y=this.localClippingEnabled,W=k.init(this.clippingPlanes,Y,le),d=we.get(N,h.length),d.init(),h.push(d),ws(N,le,0,p.sortObjects),d.finish(),p.sortObjects===!0&&d.sort(R,$),W===!0&&k.beginShadows();const me=f.state.shadowsArray;if(ee.render(me,N,le),W===!0&&k.endShadows(),this.info.autoReset===!0&&this.info.reset(),de.render(d,N),f.setupLights(p.physicallyCorrectLights),le.isArrayCamera){const ce=le.cameras;for(let Se=0,et=ce.length;Se<et;Se++){const ot=ce[Se];_u(d,N,ot,ot.viewport)}}else _u(d,N,le);v!==null&&(U.updateMultisampleRenderTarget(v),U.updateRenderTargetMipmap(v)),N.isScene===!0&&N.onAfterRender(p,N,le),$e.resetDefaultState(),w=-1,S=null,_.pop(),_.length>0?f=_[_.length-1]:f=null,h.pop(),h.length>0?d=h[h.length-1]:d=null};function ws(N,le,me,ce){if(N.visible===!1)return;if(N.layers.test(le.layers)){if(N.isGroup)me=N.renderOrder;else if(N.isLOD)N.autoUpdate===!0&&N.update(le);else if(N.isLight)f.pushLight(N),N.castShadow&&f.pushShadow(N);else if(N.isSprite){if(!N.frustumCulled||B.intersectsSprite(N)){ce&&G.setFromMatrixPosition(N.matrixWorld).applyMatrix4(pe);const ot=ke.update(N),ft=N.material;ft.visible&&d.push(N,ot,ft,me,G.z,null)}}else if((N.isMesh||N.isLine||N.isPoints)&&(N.isSkinnedMesh&&N.skeleton.frame!==Oe.render.frame&&(N.skeleton.update(),N.skeleton.frame=Oe.render.frame),!N.frustumCulled||B.intersectsObject(N))){ce&&G.setFromMatrixPosition(N.matrixWorld).applyMatrix4(pe);const ot=ke.update(N),ft=N.material;if(Array.isArray(ft)){const dt=ot.groups;for(let Lt=0,wt=dt.length;Lt<wt;Lt++){const Tt=dt[Lt],un=ft[Tt.materialIndex];un&&un.visible&&d.push(N,ot,un,me,G.z,Tt)}}else ft.visible&&d.push(N,ot,ft,me,G.z,null)}}const et=N.children;for(let ot=0,ft=et.length;ot<ft;ot++)ws(et[ot],le,me,ce)}function _u(N,le,me,ce){const Se=N.opaque,et=N.transmissive,ot=N.transparent;f.setupLightsView(me),et.length>0&&xR(Se,le,me),ce&&ye.viewport(x.copy(ce)),Se.length>0&&Hf(Se,le,me),et.length>0&&Hf(et,le,me),ot.length>0&&Hf(ot,le,me),ye.buffers.depth.setTest(!0),ye.buffers.depth.setMask(!0),ye.buffers.color.setMask(!0),ye.setPolygonOffset(!1)}function xR(N,le,me){const ce=ve.isWebGL2;j===null&&(j=new Ka(1,1,{generateMipmaps:!0,type:ue.has("EXT_color_buffer_half_float")?Gd:qa,minFilter:tu,samples:ce&&r===!0?4:0})),p.getDrawingBufferSize(O),ce?j.setSize(O.x,O.y):j.setSize(im(O.x),im(O.y));const Se=p.getRenderTarget();p.setRenderTarget(j),p.clear();const et=p.toneMapping;p.toneMapping=Lr,Hf(N,le,me),p.toneMapping=et,U.updateMultisampleRenderTarget(j),U.updateRenderTargetMipmap(j),p.setRenderTarget(Se)}function Hf(N,le,me){const ce=le.isScene===!0?le.overrideMaterial:null;for(let Se=0,et=N.length;Se<et;Se++){const ot=N[Se],ft=ot.object,dt=ot.geometry,Lt=ce===null?ot.material:ce,wt=ot.group;ft.layers.test(me.layers)&&SR(ft,le,me,dt,Lt,wt)}}function SR(N,le,me,ce,Se,et){N.onBeforeRender(p,le,me,ce,Se,et),N.modelViewMatrix.multiplyMatrices(me.matrixWorldInverse,N.matrixWorld),N.normalMatrix.getNormalMatrix(N.modelViewMatrix),Se.onBeforeRender(p,le,me,ce,N,et),Se.transparent===!0&&Se.side===ja?(Se.side=wi,Se.needsUpdate=!0,p.renderBufferDirect(me,le,ce,Se,N,et),Se.side=Ic,Se.needsUpdate=!0,p.renderBufferDirect(me,le,ce,Se,N,et),Se.side=ja):p.renderBufferDirect(me,le,ce,Se,N,et),N.onAfterRender(p,le,me,ce,Se,et)}function n0(N,le,me){le.isScene!==!0&&(le=te);const ce=P.get(N),Se=f.state.lights,et=f.state.shadowsArray,ot=Se.state.version,ft=V.getParameters(N,Se.state,et,le,me),dt=V.getProgramCacheKey(ft);let Lt=ce.programs;ce.environment=N.isMeshStandardMaterial?le.environment:null,ce.fog=le.fog,ce.envMap=(N.isMeshStandardMaterial?oe:ie).get(N.envMap||ce.environment),Lt===void 0&&(N.addEventListener("dispose",ne),Lt=new Map,ce.programs=Lt);let wt=Lt.get(dt);if(wt!==void 0){if(ce.currentProgram===wt&&ce.lightsStateVersion===ot)return w2(N,ft),wt}else ft.uniforms=V.getUniforms(N),N.onBuild(me,ft,p),N.onBeforeCompile(ft,p),wt=V.acquireProgram(ft,dt),Lt.set(dt,wt),ce.uniforms=ft.uniforms;const Tt=ce.uniforms;(!N.isShaderMaterial&&!N.isRawShaderMaterial||N.clipping===!0)&&(Tt.clippingPlanes=k.uniform),w2(N,ft),ce.needsLights=MR(N),ce.lightsStateVersion=ot,ce.needsLights&&(Tt.ambientLightColor.value=Se.state.ambient,Tt.lightProbe.value=Se.state.probe,Tt.directionalLights.value=Se.state.directional,Tt.directionalLightShadows.value=Se.state.directionalShadow,Tt.spotLights.value=Se.state.spot,Tt.spotLightShadows.value=Se.state.spotShadow,Tt.rectAreaLights.value=Se.state.rectArea,Tt.ltc_1.value=Se.state.rectAreaLTC1,Tt.ltc_2.value=Se.state.rectAreaLTC2,Tt.pointLights.value=Se.state.point,Tt.pointLightShadows.value=Se.state.pointShadow,Tt.hemisphereLights.value=Se.state.hemi,Tt.directionalShadowMap.value=Se.state.directionalShadowMap,Tt.directionalShadowMatrix.value=Se.state.directionalShadowMatrix,Tt.spotShadowMap.value=Se.state.spotShadowMap,Tt.spotShadowMatrix.value=Se.state.spotShadowMatrix,Tt.pointShadowMap.value=Se.state.pointShadowMap,Tt.pointShadowMatrix.value=Se.state.pointShadowMatrix);const un=wt.getUniforms(),Ko=Ep.seqWithValue(un.seq,Tt);return ce.currentProgram=wt,ce.uniformsList=Ko,wt}function w2(N,le){const me=P.get(N);me.outputEncoding=le.outputEncoding,me.instancing=le.instancing,me.skinning=le.skinning,me.morphTargets=le.morphTargets,me.morphNormals=le.morphNormals,me.morphColors=le.morphColors,me.morphTargetsCount=le.morphTargetsCount,me.numClippingPlanes=le.numClippingPlanes,me.numIntersection=le.numClipIntersection,me.vertexAlphas=le.vertexAlphas,me.vertexTangents=le.vertexTangents,me.toneMapping=le.toneMapping}function ER(N,le,me,ce,Se){le.isScene!==!0&&(le=te),U.resetTextureUnits();const et=le.fog,ot=ce.isMeshStandardMaterial?le.environment:null,ft=v===null?p.outputEncoding:v.isXRRenderTarget===!0?v.texture.encoding:Ya,dt=(ce.isMeshStandardMaterial?oe:ie).get(ce.envMap||ot),Lt=ce.vertexColors===!0&&!!me.attributes.color&&me.attributes.color.itemSize===4,wt=!!ce.normalMap&&!!me.attributes.tangent,Tt=!!me.morphAttributes.position,un=!!me.morphAttributes.normal,Ko=!!me.morphAttributes.color,pl=ce.toneMapped?p.toneMapping:Lr,ml=me.morphAttributes.position||me.morphAttributes.normal||me.morphAttributes.color,Li=ml!==void 0?ml.length:0,Ct=P.get(ce),gl=f.state.lights;if(W===!0&&(Y===!0||N!==S)){const Di=N===S&&ce.id===w;k.setState(ce,N,Di)}let vn=!1;ce.version===Ct.__version?(Ct.needsLights&&Ct.lightsStateVersion!==gl.state.version||Ct.outputEncoding!==ft||Se.isInstancedMesh&&Ct.instancing===!1||!Se.isInstancedMesh&&Ct.instancing===!0||Se.isSkinnedMesh&&Ct.skinning===!1||!Se.isSkinnedMesh&&Ct.skinning===!0||Ct.envMap!==dt||ce.fog===!0&&Ct.fog!==et||Ct.numClippingPlanes!==void 0&&(Ct.numClippingPlanes!==k.numPlanes||Ct.numIntersection!==k.numIntersection)||Ct.vertexAlphas!==Lt||Ct.vertexTangents!==wt||Ct.morphTargets!==Tt||Ct.morphNormals!==un||Ct.morphColors!==Ko||Ct.toneMapping!==pl||ve.isWebGL2===!0&&Ct.morphTargetsCount!==Li)&&(vn=!0):(vn=!0,Ct.__version=ce.version);let Ii=Ct.currentProgram;vn===!0&&(Ii=n0(ce,le,Se));let Yr=!1,yu=!1,s0=!1;const Jn=Ii.getUniforms(),bu=Ct.uniforms;if(ye.useProgram(Ii.program)&&(Yr=!0,yu=!0,s0=!0),ce.id!==w&&(w=ce.id,yu=!0),Yr||S!==N){if(Jn.setValue(z,"projectionMatrix",N.projectionMatrix),ve.logarithmicDepthBuffer&&Jn.setValue(z,"logDepthBufFC",2/(Math.log(N.far+1)/Math.LN2)),S!==N&&(S=N,yu=!0,s0=!0),ce.isShaderMaterial||ce.isMeshPhongMaterial||ce.isMeshToonMaterial||ce.isMeshStandardMaterial||ce.envMap){const Di=Jn.map.cameraPosition;Di!==void 0&&Di.setValue(z,G.setFromMatrixPosition(N.matrixWorld))}(ce.isMeshPhongMaterial||ce.isMeshToonMaterial||ce.isMeshLambertMaterial||ce.isMeshBasicMaterial||ce.isMeshStandardMaterial||ce.isShaderMaterial)&&Jn.setValue(z,"isOrthographic",N.isOrthographicCamera===!0),(ce.isMeshPhongMaterial||ce.isMeshToonMaterial||ce.isMeshLambertMaterial||ce.isMeshBasicMaterial||ce.isMeshStandardMaterial||ce.isShaderMaterial||ce.isShadowMaterial||Se.isSkinnedMesh)&&Jn.setValue(z,"viewMatrix",N.matrixWorldInverse)}if(Se.isSkinnedMesh){Jn.setOptional(z,Se,"bindMatrix"),Jn.setOptional(z,Se,"bindMatrixInverse");const Di=Se.skeleton;Di&&(ve.floatVertexTextures?(Di.boneTexture===null&&Di.computeBoneTexture(),Jn.setValue(z,"boneTexture",Di.boneTexture,U),Jn.setValue(z,"boneTextureSize",Di.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const i0=me.morphAttributes;return(i0.position!==void 0||i0.normal!==void 0||i0.color!==void 0&&ve.isWebGL2===!0)&&be.update(Se,me,ce,Ii),(yu||Ct.receiveShadow!==Se.receiveShadow)&&(Ct.receiveShadow=Se.receiveShadow,Jn.setValue(z,"receiveShadow",Se.receiveShadow)),yu&&(Jn.setValue(z,"toneMappingExposure",p.toneMappingExposure),Ct.needsLights&&TR(bu,s0),et&&ce.fog===!0&&Ce.refreshFogUniforms(bu,et),Ce.refreshMaterialUniforms(bu,ce,A,C,j),Ep.upload(z,Ct.uniformsList,bu,U)),ce.isShaderMaterial&&ce.uniformsNeedUpdate===!0&&(Ep.upload(z,Ct.uniformsList,bu,U),ce.uniformsNeedUpdate=!1),ce.isSpriteMaterial&&Jn.setValue(z,"center",Se.center),Jn.setValue(z,"modelViewMatrix",Se.modelViewMatrix),Jn.setValue(z,"normalMatrix",Se.normalMatrix),Jn.setValue(z,"modelMatrix",Se.matrixWorld),Ii}function TR(N,le){N.ambientLightColor.needsUpdate=le,N.lightProbe.needsUpdate=le,N.directionalLights.needsUpdate=le,N.directionalLightShadows.needsUpdate=le,N.pointLights.needsUpdate=le,N.pointLightShadows.needsUpdate=le,N.spotLights.needsUpdate=le,N.spotLightShadows.needsUpdate=le,N.rectAreaLights.needsUpdate=le,N.hemisphereLights.needsUpdate=le}function MR(N){return N.isMeshLambertMaterial||N.isMeshToonMaterial||N.isMeshPhongMaterial||N.isMeshStandardMaterial||N.isShadowMaterial||N.isShaderMaterial&&N.lights===!0}this.getActiveCubeFace=function(){return y},this.getActiveMipmapLevel=function(){return b},this.getRenderTarget=function(){return v},this.setRenderTargetTextures=function(N,le,me){P.get(N.texture).__webglTexture=le,P.get(N.depthTexture).__webglTexture=me;const ce=P.get(N);ce.__hasExternalTextures=!0,ce.__hasExternalTextures&&(ce.__autoAllocateDepthBuffer=me===void 0,ce.__autoAllocateDepthBuffer||ue.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ce.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(N,le){const me=P.get(N);me.__webglFramebuffer=le,me.__useDefaultFramebuffer=le===void 0},this.setRenderTarget=function(N,le=0,me=0){v=N,y=le,b=me;let ce=!0;if(N){const dt=P.get(N);dt.__useDefaultFramebuffer!==void 0?(ye.bindFramebuffer(36160,null),ce=!1):dt.__webglFramebuffer===void 0?U.setupRenderTarget(N):dt.__hasExternalTextures&&U.rebindTextures(N,P.get(N.texture).__webglTexture,P.get(N.depthTexture).__webglTexture)}let Se=null,et=!1,ot=!1;if(N){const dt=N.texture;(dt.isData3DTexture||dt.isDataArrayTexture)&&(ot=!0);const Lt=P.get(N).__webglFramebuffer;N.isWebGLCubeRenderTarget?(Se=Lt[le],et=!0):ve.isWebGL2&&N.samples>0&&U.useMultisampledRTT(N)===!1?Se=P.get(N).__webglMultisampledFramebuffer:Se=Lt,x.copy(N.viewport),T.copy(N.scissor),E=N.scissorTest}else x.copy(F).multiplyScalar(A).floor(),T.copy(D).multiplyScalar(A).floor(),E=I;if(ye.bindFramebuffer(36160,Se)&&ve.drawBuffers&&ce&&ye.drawBuffers(N,Se),ye.viewport(x),ye.scissor(T),ye.setScissorTest(E),et){const dt=P.get(N.texture);z.framebufferTexture2D(36160,36064,34069+le,dt.__webglTexture,me)}else if(ot){const dt=P.get(N.texture),Lt=le||0;z.framebufferTextureLayer(36160,36064,dt.__webglTexture,me||0,Lt)}w=-1},this.readRenderTargetPixels=function(N,le,me,ce,Se,et,ot){if(!(N&&N.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ft=P.get(N).__webglFramebuffer;if(N.isWebGLCubeRenderTarget&&ot!==void 0&&(ft=ft[ot]),ft){ye.bindFramebuffer(36160,ft);try{const dt=N.texture,Lt=dt.format,wt=dt.type;if(Lt!==gi&&ae.convert(Lt)!==z.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Tt=wt===Gd&&(ue.has("EXT_color_buffer_half_float")||ve.isWebGL2&&ue.has("EXT_color_buffer_float"));if(wt!==qa&&ae.convert(wt)!==z.getParameter(35738)&&!(wt===So&&(ve.isWebGL2||ue.has("OES_texture_float")||ue.has("WEBGL_color_buffer_float")))&&!Tt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}le>=0&&le<=N.width-ce&&me>=0&&me<=N.height-Se&&z.readPixels(le,me,ce,Se,ae.convert(Lt),ae.convert(wt),et)}finally{const dt=v!==null?P.get(v).__webglFramebuffer:null;ye.bindFramebuffer(36160,dt)}}},this.copyFramebufferToTexture=function(N,le,me=0){const ce=Math.pow(2,-me),Se=Math.floor(le.image.width*ce),et=Math.floor(le.image.height*ce);U.setTexture2D(le,0),z.copyTexSubImage2D(3553,me,0,0,N.x,N.y,Se,et),ye.unbindTexture()},this.copyTextureToTexture=function(N,le,me,ce=0){const Se=le.image.width,et=le.image.height,ot=ae.convert(me.format),ft=ae.convert(me.type);U.setTexture2D(me,0),z.pixelStorei(37440,me.flipY),z.pixelStorei(37441,me.premultiplyAlpha),z.pixelStorei(3317,me.unpackAlignment),le.isDataTexture?z.texSubImage2D(3553,ce,N.x,N.y,Se,et,ot,ft,le.image.data):le.isCompressedTexture?z.compressedTexSubImage2D(3553,ce,N.x,N.y,le.mipmaps[0].width,le.mipmaps[0].height,ot,le.mipmaps[0].data):z.texSubImage2D(3553,ce,N.x,N.y,ot,ft,le.image),ce===0&&me.generateMipmaps&&z.generateMipmap(3553),ye.unbindTexture()},this.copyTextureToTexture3D=function(N,le,me,ce,Se=0){if(p.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const et=N.max.x-N.min.x+1,ot=N.max.y-N.min.y+1,ft=N.max.z-N.min.z+1,dt=ae.convert(ce.format),Lt=ae.convert(ce.type);let wt;if(ce.isData3DTexture)U.setTexture3D(ce,0),wt=32879;else if(ce.isDataArrayTexture)U.setTexture2DArray(ce,0),wt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}z.pixelStorei(37440,ce.flipY),z.pixelStorei(37441,ce.premultiplyAlpha),z.pixelStorei(3317,ce.unpackAlignment);const Tt=z.getParameter(3314),un=z.getParameter(32878),Ko=z.getParameter(3316),pl=z.getParameter(3315),ml=z.getParameter(32877),Li=me.isCompressedTexture?me.mipmaps[0]:me.image;z.pixelStorei(3314,Li.width),z.pixelStorei(32878,Li.height),z.pixelStorei(3316,N.min.x),z.pixelStorei(3315,N.min.y),z.pixelStorei(32877,N.min.z),me.isDataTexture||me.isData3DTexture?z.texSubImage3D(wt,Se,le.x,le.y,le.z,et,ot,ft,dt,Lt,Li.data):me.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),z.compressedTexSubImage3D(wt,Se,le.x,le.y,le.z,et,ot,ft,dt,Li.data)):z.texSubImage3D(wt,Se,le.x,le.y,le.z,et,ot,ft,dt,Lt,Li),z.pixelStorei(3314,Tt),z.pixelStorei(32878,un),z.pixelStorei(3316,Ko),z.pixelStorei(3315,pl),z.pixelStorei(32877,ml),Se===0&&ce.generateMipmaps&&z.generateMipmap(wt),ye.unbindTexture()},this.initTexture=function(N){N.isCubeTexture?U.setTextureCube(N,0):N.isData3DTexture?U.setTexture3D(N,0):N.isDataArrayTexture?U.setTexture2DArray(N,0):U.setTexture2D(N,0),ye.unbindTexture()},this.resetState=function(){y=0,b=0,v=null,ye.reset(),$e.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class _X extends T5{}_X.prototype.isWebGL1Renderer=!0;class yX extends bn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),n}}class bX{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=z1,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=xi()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,s){e*=this.stride,s*=n.stride;for(let i=0,r=this.stride;i<r;i++)this.array[e+i]=n.array[s+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=xi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),s=new this.constructor(n,this.stride);return s.setUsage(this.usage),s}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=xi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Qn=new J;class iv{constructor(e,n,s,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=s,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,s=this.data.count;n<s;n++)Qn.fromBufferAttribute(this,n),Qn.applyMatrix4(e),this.setXYZ(n,Qn.x,Qn.y,Qn.z);return this}applyNormalMatrix(e){for(let n=0,s=this.count;n<s;n++)Qn.fromBufferAttribute(this,n),Qn.applyNormalMatrix(e),this.setXYZ(n,Qn.x,Qn.y,Qn.z);return this}transformDirection(e){for(let n=0,s=this.count;n<s;n++)Qn.fromBufferAttribute(this,n),Qn.transformDirection(e),this.setXYZ(n,Qn.x,Qn.y,Qn.z);return this}setX(e,n){return this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,n,s){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=s,this}setXYZ(e,n,s,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=s,this.data.array[e+2]=i,this}setXYZW(e,n,s,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=s,this.data.array[e+2]=i,this.data.array[e+3]=r,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");const n=[];for(let s=0;s<this.count;s++){const i=s*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)n.push(this.data.array[i+r])}return new ks(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new iv(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");const n=[];for(let s=0;s<this.count;s++){const i=s*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)n.push(this.data.array[i+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}const vS=new J,wS=new Ut,xS=new Ut,vX=new J,SS=new At;class wX extends _i{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new At,this.bindMatrixInverse=new At}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Ut,n=this.geometry.attributes.skinWeight;for(let s=0,i=n.count;s<i;s++){e.fromBufferAttribute(n,s);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),n.setXYZW(s,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,n){const s=this.skeleton,i=this.geometry;wS.fromBufferAttribute(i.attributes.skinIndex,e),xS.fromBufferAttribute(i.attributes.skinWeight,e),vS.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let r=0;r<4;r++){const o=xS.getComponent(r);if(o!==0){const a=wS.getComponent(r);SS.multiplyMatrices(s.bones[a].matrixWorld,s.boneInverses[a]),n.addScaledVector(vX.copy(vS).applyMatrix4(SS),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class M5 extends bn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class xX extends os{constructor(e=null,n=1,s=1,i,r,o,a,l,c=Dn,u=Dn,d,f){super(null,o,a,l,c,u,i,r,d,f),this.isDataTexture=!0,this.image={data:e,width:n,height:s},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const ES=new At,SX=new At;class rv{constructor(e=[],n=[]){this.uuid=xi(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let s=0,i=this.bones.length;s<i;s++)this.boneInverses.push(new At)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const s=new At;this.bones[e]&&s.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(s)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const s=this.bones[e];s&&s.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const s=this.bones[e];s&&(s.parent&&s.parent.isBone?(s.matrix.copy(s.parent.matrixWorld).invert(),s.matrix.multiply(s.matrixWorld)):s.matrix.copy(s.matrixWorld),s.matrix.decompose(s.position,s.quaternion,s.scale))}}update(){const e=this.bones,n=this.boneInverses,s=this.boneMatrices,i=this.boneTexture;for(let r=0,o=e.length;r<o;r++){const a=e[r]?e[r].matrixWorld:SX;ES.multiplyMatrices(a,n[r]),ES.toArray(s,r*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new rv(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=l5(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const s=new xX(n,e,e,gi,So);return s.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=s,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,s=this.bones.length;n<s;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let s=0,i=e.bones.length;s<i;s++){const r=e.bones[s];let o=n[r];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),o=new M5),this.bones.push(o),this.boneInverses.push(new At().fromArray(e.boneInverses[s]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,s=this.boneInverses;for(let i=0,r=n.length;i<r;i++){const o=n[i];e.bones.push(o.uuid);const a=s[i];e.boneInverses.push(a.toArray())}return e}}class A5 extends Yi{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new nt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const TS=new J,MS=new J,AS=new At,g_=new Qb,xh=new iu;let ov=class extends bn{constructor(e=new or,n=new A5){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,s=[0];for(let i=1,r=n.count;i<r;i++)TS.fromBufferAttribute(n,i-1),MS.fromBufferAttribute(n,i),s[i]=s[i-1],s[i]+=TS.distanceTo(MS);e.setAttribute("lineDistance",new Ir(s,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const s=this.geometry,i=this.matrixWorld,r=e.params.Line.threshold,o=s.drawRange;if(s.boundingSphere===null&&s.computeBoundingSphere(),xh.copy(s.boundingSphere),xh.applyMatrix4(i),xh.radius+=r,e.ray.intersectsSphere(xh)===!1)return;AS.copy(i).invert(),g_.copy(e.ray).applyMatrix4(AS);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new J,u=new J,d=new J,f=new J,h=this.isLineSegments?2:1,_=s.index,m=s.attributes.position;if(_!==null){const y=Math.max(0,o.start),b=Math.min(_.count,o.start+o.count);for(let v=y,w=b-1;v<w;v+=h){const S=_.getX(v),x=_.getX(v+1);if(c.fromBufferAttribute(m,S),u.fromBufferAttribute(m,x),g_.distanceSqToSegment(c,u,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(f);E<e.near||E>e.far||n.push({distance:E,point:d.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else{const y=Math.max(0,o.start),b=Math.min(m.count,o.start+o.count);for(let v=y,w=b-1;v<w;v+=h){if(c.fromBufferAttribute(m,v),u.fromBufferAttribute(m,v+1),g_.distanceSqToSegment(c,u,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const x=e.ray.origin.distanceTo(f);x<e.near||x>e.far||n.push({distance:x,point:d.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,s=Object.keys(n);if(s.length>0){const i=n[s[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=i.length;r<o;r++){const a=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}};const kS=new J,RS=new J;class EX extends ov{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,s=[];for(let i=0,r=n.count;i<r;i+=2)kS.fromBufferAttribute(n,i),RS.fromBufferAttribute(n,i+1),s[i]=i===0?0:s[i-1],s[i+1]=s[i]+kS.distanceTo(RS);e.setAttribute("lineDistance",new Ir(s,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class TX extends ov{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class k5 extends Yi{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new nt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const CS=new At,W1=new Qb,Sh=new iu,Eh=new J;class MX extends bn{constructor(e=new or,n=new k5){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}raycast(e,n){const s=this.geometry,i=this.matrixWorld,r=e.params.Points.threshold,o=s.drawRange;if(s.boundingSphere===null&&s.computeBoundingSphere(),Sh.copy(s.boundingSphere),Sh.applyMatrix4(i),Sh.radius+=r,e.ray.intersectsSphere(Sh)===!1)return;CS.copy(i).invert(),W1.copy(e.ray).applyMatrix4(CS);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=s.index,d=s.attributes.position;if(c!==null){const f=Math.max(0,o.start),h=Math.min(c.count,o.start+o.count);for(let _=f,p=h;_<p;_++){const m=c.getX(_);Eh.fromBufferAttribute(d,m),OS(Eh,m,l,i,e,n,this)}}else{const f=Math.max(0,o.start),h=Math.min(d.count,o.start+o.count);for(let _=f,p=h;_<p;_++)Eh.fromBufferAttribute(d,_),OS(Eh,_,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,s=Object.keys(n);if(s.length>0){const i=n[s[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=i.length;r<o;r++){const a=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}function OS(t,e,n,s,i,r,o){const a=W1.distanceSqToPoint(t);if(a<n){const l=new J;W1.closestPointToPoint(t,l),l.applyMatrix4(s);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;r.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class xg extends Yi{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new nt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new nt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zb,this.normalScale=new bt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class cl extends xg{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new bt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return ss(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new nt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new nt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new nt(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}const sn={arraySlice:function(t,e,n){return sn.isTypedArray(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){function e(i,r){return t[i]-t[r]}const n=t.length,s=new Array(n);for(let i=0;i!==n;++i)s[i]=i;return s.sort(e),s},sortedArray:function(t,e,n){const s=t.length,i=new t.constructor(s);for(let r=0,o=0;o!==s;++r){const a=n[r]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i},flattenJSON:function(t,e,n,s){let i=1,r=t[0];for(;r!==void 0&&r[s]===void 0;)r=t[i++];if(r===void 0)return;let o=r[s];if(o!==void 0)if(Array.isArray(o))do o=r[s],o!==void 0&&(e.push(r.time),n.push.apply(n,o)),r=t[i++];while(r!==void 0);else if(o.toArray!==void 0)do o=r[s],o!==void 0&&(e.push(r.time),o.toArray(n,n.length)),r=t[i++];while(r!==void 0);else do o=r[s],o!==void 0&&(e.push(r.time),n.push(o)),r=t[i++];while(r!==void 0)},subclip:function(t,e,n,s,i=30){const r=t.clone();r.name=e;const o=[];for(let l=0;l<r.tracks.length;++l){const c=r.tracks[l],u=c.getValueSize(),d=[],f=[];for(let h=0;h<c.times.length;++h){const _=c.times[h]*i;if(!(_<n||_>=s)){d.push(c.times[h]);for(let p=0;p<u;++p)f.push(c.values[h*u+p])}}d.length!==0&&(c.times=sn.convertArray(d,c.times.constructor),c.values=sn.convertArray(f,c.values.constructor),o.push(c))}r.tracks=o;let a=1/0;for(let l=0;l<r.tracks.length;++l)a>r.tracks[l].times[0]&&(a=r.tracks[l].times[0]);for(let l=0;l<r.tracks.length;++l)r.tracks[l].shift(-1*a);return r.resetDuration(),r},makeClipAdditive:function(t,e=0,n=t,s=30){s<=0&&(s=30);const i=n.tracks.length,r=e/s;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(y){return y.name===a.name&&y.ValueTypeName===l});if(c===void 0)continue;let u=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let f=0;const h=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=h/3);const _=a.times.length-1;let p;if(r<=a.times[0]){const y=u,b=d-u;p=sn.arraySlice(a.values,y,b)}else if(r>=a.times[_]){const y=_*d+u,b=y+d-u;p=sn.arraySlice(a.values,y,b)}else{const y=a.createInterpolant(),b=u,v=d-u;y.evaluate(r),p=sn.arraySlice(y.resultBuffer,b,v)}l==="quaternion"&&new nr().fromArray(p).normalize().conjugate().toArray(p);const m=c.times.length;for(let y=0;y<m;++y){const b=y*h+f;if(l==="quaternion")nr.multiplyQuaternionsFlat(c.values,b,p,0,c.values,b);else{const v=h-f*2;for(let w=0;w<v;++w)c.values[b+w]-=p[w]}}}return t.blendMode=tW,t}};class Tf{constructor(e,n,s,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(s),this.sampleValues=n,this.valueSize=s,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let s=this._cachedIndex,i=n[s],r=n[s-1];e:{t:{let o;n:{s:if(!(e<i)){for(let a=s+2;;){if(i===void 0){if(e<r)break s;return s=n.length,this._cachedIndex=s,this.copySampleValue_(s-1)}if(s===a)break;if(r=i,i=n[++s],e<i)break t}o=n.length;break n}if(!(e>=r)){const a=n[1];e<a&&(s=2,r=a);for(let l=s-2;;){if(r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(s===l)break;if(i=r,r=n[--s-1],e>=r)break t}o=s,s=0;break n}break e}for(;s<o;){const a=s+o>>>1;e<n[a]?o=a:s=a+1}if(i=n[s],r=n[s-1],r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return s=n.length,this._cachedIndex=s,this.copySampleValue_(s-1)}this._cachedIndex=s,this.intervalChanged_(s,r,i)}return this.interpolate_(s,r,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,s=this.sampleValues,i=this.valueSize,r=e*i;for(let o=0;o!==i;++o)n[o]=s[r+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class AX extends Tf{constructor(e,n,s,i){super(e,n,s,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Fx,endingEnd:Fx}}intervalChanged_(e,n,s){const i=this.parameterPositions;let r=e-2,o=e+1,a=i[r],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Nx:r=e,a=2*n-s;break;case Ux:r=i.length-2,a=n+i[r]-i[r+1];break;default:r=e,a=s}if(l===void 0)switch(this.getSettings_().endingEnd){case Nx:o=e,l=2*s-n;break;case Ux:o=1,l=s+i[1]-i[0];break;default:o=e-1,l=n}const c=(s-n)*.5,u=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-s),this._offsetPrev=r*u,this._offsetNext=o*u}interpolate_(e,n,s,i){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,f=this._weightPrev,h=this._weightNext,_=(s-n)/(i-n),p=_*_,m=p*_,y=-f*m+2*f*p-f*_,b=(1+f)*m+(-1.5-2*f)*p+(-.5+f)*_+1,v=(-1-h)*m+(1.5+h)*p+.5*_,w=h*m-h*p;for(let S=0;S!==a;++S)r[S]=y*o[u+S]+b*o[c+S]+v*o[l+S]+w*o[d+S];return r}}class kX extends Tf{constructor(e,n,s,i){super(e,n,s,i)}interpolate_(e,n,s,i){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(s-n)/(i-n),d=1-u;for(let f=0;f!==a;++f)r[f]=o[c+f]*d+o[l+f]*u;return r}}class RX extends Tf{constructor(e,n,s,i){super(e,n,s,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class ar{constructor(e,n,s,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=sn.convertArray(n,this.TimeBufferType),this.values=sn.convertArray(s,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let s;if(n.toJSON!==this.toJSON)s=n.toJSON(e);else{s={name:e.name,times:sn.convertArray(e.times,Array),values:sn.convertArray(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(s.interpolation=i)}return s.type=e.ValueTypeName,s}InterpolantFactoryMethodDiscrete(e){return new RX(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new kX(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new AX(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Hd:n=this.InterpolantFactoryMethodDiscrete;break;case $c:n=this.InterpolantFactoryMethodLinear;break;case G0:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const s="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(s);return console.warn("THREE.KeyframeTrack:",s),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Hd;case this.InterpolantFactoryMethodLinear:return $c;case this.InterpolantFactoryMethodSmooth:return G0}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let s=0,i=n.length;s!==i;++s)n[s]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let s=0,i=n.length;s!==i;++s)n[s]*=e}return this}trim(e,n){const s=this.times,i=s.length;let r=0,o=i-1;for(;r!==i&&s[r]<e;)++r;for(;o!==-1&&s[o]>n;)--o;if(++o,r!==0||o!==i){r>=o&&(o=Math.max(o,1),r=o-1);const a=this.getValueSize();this.times=sn.arraySlice(s,r,o),this.values=sn.arraySlice(this.values,r*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const s=this.times,i=this.values,r=s.length;r===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==r;a++){const l=s[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&sn.isTypedArray(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=sn.arraySlice(this.times),n=sn.arraySlice(this.values),s=this.getValueSize(),i=this.getInterpolation()===G0,r=e.length-1;let o=1;for(let a=1;a<r;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const d=a*s,f=d-s,h=d+s;for(let _=0;_!==s;++_){const p=n[d+_];if(p!==n[f+_]||p!==n[h+_]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*s,f=o*s;for(let h=0;h!==s;++h)n[f+h]=n[d+h]}++o}}if(r>0){e[o]=e[r];for(let a=r*s,l=o*s,c=0;c!==s;++c)n[l+c]=n[a+c];++o}return o!==e.length?(this.times=sn.arraySlice(e,0,o),this.values=sn.arraySlice(n,0,o*s)):(this.times=e,this.values=n),this}clone(){const e=sn.arraySlice(this.times,0),n=sn.arraySlice(this.values,0),s=this.constructor,i=new s(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}ar.prototype.TimeBufferType=Float32Array;ar.prototype.ValueBufferType=Float32Array;ar.prototype.DefaultInterpolation=$c;class au extends ar{}au.prototype.ValueTypeName="bool";au.prototype.ValueBufferType=Array;au.prototype.DefaultInterpolation=Hd;au.prototype.InterpolantFactoryMethodLinear=void 0;au.prototype.InterpolantFactoryMethodSmooth=void 0;class R5 extends ar{}R5.prototype.ValueTypeName="color";class jd extends ar{}jd.prototype.ValueTypeName="number";class CX extends Tf{constructor(e,n,s,i){super(e,n,s,i)}interpolate_(e,n,s,i){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(s-n)/(i-n);let c=e*a;for(let u=c+a;c!==u;c+=4)nr.slerpFlat(r,0,o,c-a,o,c,l);return r}}class Za extends ar{InterpolantFactoryMethodLinear(e){return new CX(this.times,this.values,this.getValueSize(),e)}}Za.prototype.ValueTypeName="quaternion";Za.prototype.DefaultInterpolation=$c;Za.prototype.InterpolantFactoryMethodSmooth=void 0;class lu extends ar{}lu.prototype.ValueTypeName="string";lu.prototype.ValueBufferType=Array;lu.prototype.DefaultInterpolation=Hd;lu.prototype.InterpolantFactoryMethodLinear=void 0;lu.prototype.InterpolantFactoryMethodSmooth=void 0;class qd extends ar{}qd.prototype.ValueTypeName="vector";class OX{constructor(e,n=-1,s,i=eW){this.name=e,this.tracks=s,this.duration=n,this.blendMode=i,this.uuid=xi(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],s=e.tracks,i=1/(e.fps||1);for(let o=0,a=s.length;o!==a;++o)n.push(LX(s[o]).scale(i));const r=new this(e.name,e.duration,n,e.blendMode);return r.uuid=e.uuid,r}static toJSON(e){const n=[],s=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let r=0,o=s.length;r!==o;++r)n.push(ar.toJSON(s[r]));return i}static CreateFromMorphTargetSequence(e,n,s,i){const r=n.length,o=[];for(let a=0;a<r;a++){let l=[],c=[];l.push((a+r-1)%r,a,(a+1)%r),c.push(0,1,0);const u=sn.getKeyframeOrder(l);l=sn.sortedArray(l,1,u),c=sn.sortedArray(c,1,u),!i&&l[0]===0&&(l.push(r),c.push(c[0])),o.push(new jd(".morphTargetInfluences["+n[a].name+"]",l,c).scale(1/s))}return new this(e,-1,o)}static findByName(e,n){let s=e;if(!Array.isArray(e)){const i=e;s=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<s.length;i++)if(s[i].name===n)return s[i];return null}static CreateClipsFromMorphTargetSequences(e,n,s){const i={},r=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(r);if(u&&u.length>1){const d=u[1];let f=i[d];f||(i[d]=f=[]),f.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,s));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const s=function(d,f,h,_,p){if(h.length!==0){const m=[],y=[];sn.flattenJSON(h,m,y,_),m.length!==0&&p.push(new d(f,m,y))}},i=[],r=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const f=c[d].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const h={};let _;for(_=0;_<f.length;_++)if(f[_].morphTargets)for(let p=0;p<f[_].morphTargets.length;p++)h[f[_].morphTargets[p]]=-1;for(const p in h){const m=[],y=[];for(let b=0;b!==f[_].morphTargets.length;++b){const v=f[_];m.push(v.time),y.push(v.morphTarget===p?1:0)}i.push(new jd(".morphTargetInfluence["+p+"]",m,y))}l=h.length*o}else{const h=".bones["+n[d].name+"]";s(qd,h+".position",f,"pos",i),s(Za,h+".quaternion",f,"rot",i),s(qd,h+".scale",f,"scl",i)}}return i.length===0?null:new this(r,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let s=0,i=e.length;s!==i;++s){const r=this.tracks[s];n=Math.max(n,r.times[r.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function PX(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return jd;case"vector":case"vector2":case"vector3":case"vector4":return qd;case"color":return R5;case"quaternion":return Za;case"bool":case"boolean":return au;case"string":return lu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function LX(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=PX(t.type);if(t.times===void 0){const n=[],s=[];sn.flattenJSON(t.keys,n,s,"value"),t.times=n,t.values=s}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const zc={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class IX{constructor(e,n,s){const i=this;let r=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=s,this.itemStart=function(u){a++,r===!1&&i.onStart!==void 0&&i.onStart(u,o,a),r=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(r=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,f=c.length;d<f;d+=2){const h=c[d],_=c[d+1];if(h.global&&(h.lastIndex=0),h.test(u))return _}return null}}}const DX=new IX;class Mf{constructor(e){this.manager=e!==void 0?e:DX,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const s=this;return new Promise(function(i,r){s.load(e,i,n,r)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const mr={};class C5 extends Mf{constructor(e){super(e)}load(e,n,s,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=zc.get(e);if(r!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(r),this.manager.itemEnd(e)},0),r;if(mr[e]!==void 0){mr[e].push({onLoad:n,onProgress:s,onError:i});return}mr[e]=[],mr[e].push({onLoad:n,onProgress:s,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=mr[e],d=c.body.getReader(),f=c.headers.get("Content-Length"),h=f?parseInt(f):0,_=h!==0;let p=0;const m=new ReadableStream({start(y){b();function b(){d.read().then(({done:v,value:w})=>{if(v)y.close();else{p+=w.byteLength;const S=new ProgressEvent("progress",{lengthComputable:_,loaded:p,total:h});for(let x=0,T=u.length;x<T;x++){const E=u[x];E.onProgress&&E.onProgress(S)}y.enqueue(w),b()}})}}});return new Response(m)}else throw Error(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),f=d&&d[1]?d[1].toLowerCase():void 0,h=new TextDecoder(f);return c.arrayBuffer().then(_=>h.decode(_))}}}).then(c=>{zc.add(e,c);const u=mr[e];delete mr[e];for(let d=0,f=u.length;d<f;d++){const h=u[d];h.onLoad&&h.onLoad(c)}}).catch(c=>{const u=mr[e];if(u===void 0)throw this.manager.itemError(e),c;delete mr[e];for(let d=0,f=u.length;d<f;d++){const h=u[d];h.onError&&h.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class FX extends Mf{constructor(e){super(e)}load(e,n,s,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=zc.get(e);if(o!==void 0)return r.manager.itemStart(e),setTimeout(function(){n&&n(o),r.manager.itemEnd(e)},0),o;const a=Wd("img");function l(){u(),zc.add(e,this),n&&n(this),r.manager.itemEnd(e)}function c(d){u(),i&&i(d),r.manager.itemError(e),r.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),r.manager.itemStart(e),a.src=e,a}}class NX extends Mf{constructor(e){super(e)}load(e,n,s,i){const r=new os,o=new FX(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){r.image=a,r.needsUpdate=!0,n!==void 0&&n(r)},s,i),r}}class Sg extends bn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new nt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class UX extends Sg{constructor(e,n,s){super(e,s),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(bn.DefaultUp),this.updateMatrix(),this.groundColor=new nt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const PS=new At,LS=new J,IS=new J;class av{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new bt(512,512),this.map=null,this.mapPass=null,this.matrix=new At,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ev,this._frameExtents=new bt(1,1),this._viewportCount=1,this._viewports=[new Ut(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,s=this.matrix;LS.setFromMatrixPosition(e.matrixWorld),n.position.copy(LS),IS.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(IS),n.updateMatrixWorld(),PS.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(PS),s.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),s.multiply(n.projectionMatrix),s.multiply(n.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class $X extends av{constructor(){super(new is(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,s=Vd*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,r=e.distance||n.far;(s!==n.fov||i!==n.aspect||r!==n.far)&&(n.fov=s,n.aspect=i,n.far=r,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class BX extends Sg{constructor(e,n,s=0,i=Math.PI/3,r=0,o=1){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(bn.DefaultUp),this.updateMatrix(),this.target=new bn,this.distance=s,this.angle=i,this.penumbra=r,this.decay=o,this.shadow=new $X}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const DS=new At,Cu=new J,__=new J;class zX extends av{constructor(){super(new is(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new bt(4,2),this._viewportCount=6,this._viewports=[new Ut(2,1,1,1),new Ut(0,1,1,1),new Ut(3,1,1,1),new Ut(1,1,1,1),new Ut(3,0,1,1),new Ut(1,0,1,1)],this._cubeDirections=[new J(1,0,0),new J(-1,0,0),new J(0,0,1),new J(0,0,-1),new J(0,1,0),new J(0,-1,0)],this._cubeUps=[new J(0,1,0),new J(0,1,0),new J(0,1,0),new J(0,1,0),new J(0,0,1),new J(0,0,-1)]}updateMatrices(e,n=0){const s=this.camera,i=this.matrix,r=e.distance||s.far;r!==s.far&&(s.far=r,s.updateProjectionMatrix()),Cu.setFromMatrixPosition(e.matrixWorld),s.position.copy(Cu),__.copy(s.position),__.add(this._cubeDirections[n]),s.up.copy(this._cubeUps[n]),s.lookAt(__),s.updateMatrixWorld(),i.makeTranslation(-Cu.x,-Cu.y,-Cu.z),DS.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),this._frustum.setFromProjectionMatrix(DS)}}class GX extends Sg{constructor(e,n,s=0,i=1){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=s,this.decay=i,this.shadow=new zX}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class HX extends av{constructor(){super(new nv(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class O5 extends Sg{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(bn.DefaultUp),this.updateMatrix(),this.target=new bn,this.shadow=new HX}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Ba{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let s=0,i=e.length;s<i;s++)n+=String.fromCharCode(e[s]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class VX extends Mf{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,s,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=zc.get(e);if(o!==void 0)return r.manager.itemStart(e),setTimeout(function(){n&&n(o),r.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(l){zc.add(e,l),n&&n(l),r.manager.itemEnd(e)}).catch(function(l){i&&i(l),r.manager.itemError(e),r.manager.itemEnd(e)}),r.manager.itemStart(e)}}const lv="\\[\\]\\.:\\/",WX=new RegExp("["+lv+"]","g"),cv="[^"+lv+"]",jX="[^"+lv.replace("\\.","")+"]",qX=/((?:WC+[\/:])*)/.source.replace("WC",cv),YX=/(WCOD+)?/.source.replace("WCOD",jX),KX=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",cv),XX=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",cv),ZX=new RegExp("^"+qX+YX+KX+XX+"$"),JX=["material","materials","bones"];class QX{constructor(e,n,s){const i=s||Ft.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const s=this._targetGroup.nCachedObjects_,i=this._bindings[s];i!==void 0&&i.getValue(e,n)}setValue(e,n){const s=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=s.length;i!==r;++i)s[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,s=e.length;n!==s;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,s=e.length;n!==s;++n)e[n].unbind()}}class Ft{constructor(e,n,s){this.path=n,this.parsedPath=s||Ft.parseTrackName(n),this.node=Ft.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,s){return e&&e.isAnimationObjectGroup?new Ft.Composite(e,n,s):new Ft(e,n,s)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(WX,"")}static parseTrackName(e){const n=ZX.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const s={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=s.nodeName&&s.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const r=s.nodeName.substring(i+1);JX.indexOf(r)!==-1&&(s.nodeName=s.nodeName.substring(0,i),s.objectName=r)}if(s.propertyName===null||s.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return s}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const s=e.skeleton.getBoneByName(n);if(s!==void 0)return s}if(e.children){const s=function(r){for(let o=0;o<r.length;o++){const a=r[o];if(a.name===n||a.uuid===n)return a;const l=s(a.children);if(l)return l}return null},i=s(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const s=this.resolvedProperty;for(let i=0,r=s.length;i!==r;++i)e[n++]=s[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const s=this.resolvedProperty;for(let i=0,r=s.length;i!==r;++i)s[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const s=this.resolvedProperty;for(let i=0,r=s.length;i!==r;++i)s[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const s=this.resolvedProperty;for(let i=0,r=s.length;i!==r;++i)s[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,s=n.objectName,i=n.propertyName;let r=n.propertyIndex;if(e||(e=Ft.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(s){let c=n.objectIndex;switch(s){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;default:if(e[s]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[s]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(r!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[r]!==void 0&&(r=e.morphTargetDictionary[r])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=r}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ft.Composite=QX;Ft.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Ft.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Ft.prototype.GetterByBindingType=[Ft.prototype._getValue_direct,Ft.prototype._getValue_array,Ft.prototype._getValue_arrayElement,Ft.prototype._getValue_toArray];Ft.prototype.SetterByBindingTypeAndVersioning=[[Ft.prototype._setValue_direct,Ft.prototype._setValue_direct_setNeedsUpdate,Ft.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ft.prototype._setValue_array,Ft.prototype._setValue_array_setNeedsUpdate,Ft.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ft.prototype._setValue_arrayElement,Ft.prototype._setValue_arrayElement_setNeedsUpdate,Ft.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ft.prototype._setValue_fromArray,Ft.prototype._setValue_fromArray_setNeedsUpdate,Ft.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Xb}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Xb);class eZ extends Mf{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new rZ(n)}),this.register(function(n){return new fZ(n)}),this.register(function(n){return new hZ(n)}),this.register(function(n){return new aZ(n)}),this.register(function(n){return new lZ(n)}),this.register(function(n){return new cZ(n)}),this.register(function(n){return new uZ(n)}),this.register(function(n){return new iZ(n)}),this.register(function(n){return new dZ(n)}),this.register(function(n){return new oZ(n)}),this.register(function(n){return new nZ(n)}),this.register(function(n){return new pZ(n)})}load(e,n,s,i){const r=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=Ba.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),r.manager.itemError(e),r.manager.itemEnd(e)},l=new C5(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{r.parse(c,o,function(u){n(u),r.manager.itemEnd(e)},a)}catch(u){a(u)}},s,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,s,i){let r;const o={},a={};if(typeof e=="string")r=e;else if(Ba.decodeText(new Uint8Array(e,0,4))===P5){try{o[mt.KHR_BINARY_GLTF]=new mZ(e)}catch(d){i&&i(d);return}r=o[mt.KHR_BINARY_GLTF].content}else r=Ba.decodeText(new Uint8Array(e));const l=JSON.parse(r);if(l.asset===void 0||l.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new kZ(l,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const d=this.pluginCallbacks[u](c);a[d.name]=d,o[d.name]=!0}if(l.extensionsUsed)for(let u=0;u<l.extensionsUsed.length;++u){const d=l.extensionsUsed[u],f=l.extensionsRequired||[];switch(d){case mt.KHR_MATERIALS_UNLIT:o[d]=new sZ;break;case mt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[d]=new yZ;break;case mt.KHR_DRACO_MESH_COMPRESSION:o[d]=new gZ(l,this.dracoLoader);break;case mt.KHR_TEXTURE_TRANSFORM:o[d]=new _Z;break;case mt.KHR_MESH_QUANTIZATION:o[d]=new bZ;break;default:f.indexOf(d)>=0&&a[d]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}c.setExtensions(o),c.setPlugins(a),c.parse(s,i)}parseAsync(e,n){const s=this;return new Promise(function(i,r){s.parse(e,n,i,r)})}}function tZ(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const mt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class nZ{constructor(e){this.parser=e,this.name=mt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let s=0,i=n.length;s<i;s++){const r=n[s];r.extensions&&r.extensions[this.name]&&r.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(e){const n=this.parser,s="light:"+e;let i=n.cache.get(s);if(i)return i;const r=n.json,l=((r.extensions&&r.extensions[this.name]||{}).lights||[])[e];let c;const u=new nt(16777215);l.color!==void 0&&u.fromArray(l.color);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new O5(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new GX(u),c.distance=d;break;case"spot":c=new BX(u),c.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,l.intensity!==void 0&&(c.intensity=l.intensity),c.name=n.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),n.cache.add(s,i),i}createNodeAttachment(e){const n=this,s=this.parser,r=s.json.nodes[e],a=(r.extensions&&r.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return s._getNodeRef(n.cache,a,l)})}}class sZ{constructor(){this.name=mt.KHR_MATERIALS_UNLIT}getMaterialType(){return Eo}extendParams(e,n,s){const i=[];e.color=new nt(1,1,1),e.opacity=1;const r=n.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){const o=r.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}r.baseColorTexture!==void 0&&i.push(s.assignTexture(e,"map",r.baseColorTexture,It))}return Promise.all(i)}}class iZ{constructor(e){this.parser=e,this.name=mt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=i.extensions[this.name].emissiveStrength;return r!==void 0&&(n.emissiveIntensity=r),Promise.resolve()}}class rZ{constructor(e){this.parser=e,this.name=mt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:cl}extendMaterialParams(e,n){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(n.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&r.push(s.assignTexture(n,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&r.push(s.assignTexture(n,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(r.push(s.assignTexture(n,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new bt(a,a)}return Promise.all(r)}}class oZ{constructor(e){this.parser=e,this.name=mt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:cl}extendMaterialParams(e,n){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(n.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&r.push(s.assignTexture(n,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(n.iridescenceIOR=o.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&r.push(s.assignTexture(n,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(r)}}class aZ{constructor(e){this.parser=e,this.name=mt.KHR_MATERIALS_SHEEN}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:cl}extendMaterialParams(e,n){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[];n.sheenColor=new nt(0,0,0),n.sheenRoughness=0,n.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&n.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&r.push(s.assignTexture(n,"sheenColorMap",o.sheenColorTexture,It)),o.sheenRoughnessTexture!==void 0&&r.push(s.assignTexture(n,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(r)}}class lZ{constructor(e){this.parser=e,this.name=mt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:cl}extendMaterialParams(e,n){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(n.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&r.push(s.assignTexture(n,"transmissionMap",o.transmissionTexture)),Promise.all(r)}}class cZ{constructor(e){this.parser=e,this.name=mt.KHR_MATERIALS_VOLUME}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:cl}extendMaterialParams(e,n){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];n.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&r.push(s.assignTexture(n,"thicknessMap",o.thicknessTexture)),n.attenuationDistance=o.attenuationDistance||0;const a=o.attenuationColor||[1,1,1];return n.attenuationColor=new nt(a[0],a[1],a[2]),Promise.all(r)}}class uZ{constructor(e){this.parser=e,this.name=mt.KHR_MATERIALS_IOR}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:cl}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=i.extensions[this.name];return n.ior=r.ior!==void 0?r.ior:1.5,Promise.resolve()}}class dZ{constructor(e){this.parser=e,this.name=mt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:cl}extendMaterialParams(e,n){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];n.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&r.push(s.assignTexture(n,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return n.specularColor=new nt(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&r.push(s.assignTexture(n,"specularColorMap",o.specularColorTexture,It)),Promise.all(r)}}class fZ{constructor(e){this.parser=e,this.name=mt.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,s=n.json,i=s.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const r=i.extensions[this.name],o=n.options.ktx2Loader;if(!o){if(s.extensionsRequired&&s.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,r.source,o)}}class hZ{constructor(e){this.parser=e,this.name=mt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,s=this.parser,i=s.json,r=i.textures[e];if(!r.extensions||!r.extensions[n])return null;const o=r.extensions[n],a=i.images[o.source];let l=s.textureLoader;if(a.uri){const c=s.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return s.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return s.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class pZ{constructor(e){this.name=mt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,s=n.bufferViews[e];if(s.extensions&&s.extensions[this.name]){const i=s.extensions[this.name],r=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([r,o.ready]).then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,u=i.count,d=i.byteStride,f=new ArrayBuffer(u*d),h=new Uint8Array(a[0],l,c);return o.decodeGltfBuffer(new Uint8Array(f),u,d,h,i.mode,i.filter),f})}else return null}}const P5="glTF",Ou=12,FS={JSON:1313821514,BIN:5130562};class mZ{constructor(e){this.name=mt.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,Ou);if(this.header={magic:Ba.decodeText(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==P5)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const s=this.header.length-Ou,i=new DataView(e,Ou);let r=0;for(;r<s;){const o=i.getUint32(r,!0);r+=4;const a=i.getUint32(r,!0);if(r+=4,a===FS.JSON){const l=new Uint8Array(e,Ou+r,o);this.content=Ba.decodeText(l)}else if(a===FS.BIN){const l=Ou+r;this.body=e.slice(l,l+o)}r+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class gZ{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=mt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const s=this.json,i=this.dracoLoader,r=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const d=q1[u]||u.toLowerCase();a[d]=o[u]}for(const u in e.attributes){const d=q1[u]||u.toLowerCase();if(o[u]!==void 0){const f=s.accessors[e.attributes[u]],h=Yd[f.componentType];c[d]=h,l[d]=f.normalized===!0}}return n.getDependency("bufferView",r).then(function(u){return new Promise(function(d){i.decodeDracoFile(u,function(f){for(const h in f.attributes){const _=f.attributes[h],p=l[h];p!==void 0&&(_.normalized=p)}d(f)},a,c)})})}}class _Z{constructor(){this.name=mt.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return n.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class j1 extends xg{constructor(e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const n=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),s=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),i=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),r=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),a={specular:{value:new nt().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(l){for(const c in a)l.uniforms[c]=a[c];l.fragmentShader=l.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",n).replace("#include <metalnessmap_pars_fragment>",s).replace("#include <roughnessmap_fragment>",i).replace("#include <metalnessmap_fragment>",r).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(l){a.specular.value=l}},specularMap:{get:function(){return a.specularMap.value},set:function(l){a.specularMap.value=l,l?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(l){a.glossiness.value=l}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(l){a.glossinessMap.value=l,l?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class yZ{constructor(){this.name=mt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity"]}getMaterialType(){return j1}extendParams(e,n,s){const i=n.extensions[this.name];e.color=new nt(1,1,1),e.opacity=1;const r=[];if(Array.isArray(i.diffuseFactor)){const o=i.diffuseFactor;e.color.fromArray(o),e.opacity=o[3]}if(i.diffuseTexture!==void 0&&r.push(s.assignTexture(e,"map",i.diffuseTexture,It)),e.emissive=new nt(0,0,0),e.glossiness=i.glossinessFactor!==void 0?i.glossinessFactor:1,e.specular=new nt(1,1,1),Array.isArray(i.specularFactor)&&e.specular.fromArray(i.specularFactor),i.specularGlossinessTexture!==void 0){const o=i.specularGlossinessTexture;r.push(s.assignTexture(e,"glossinessMap",o)),r.push(s.assignTexture(e,"specularMap",o,It))}return Promise.all(r)}createMaterial(e){const n=new j1(e);return n.fog=!0,n.color=e.color,n.map=e.map===void 0?null:e.map,n.lightMap=null,n.lightMapIntensity=1,n.aoMap=e.aoMap===void 0?null:e.aoMap,n.aoMapIntensity=1,n.emissive=e.emissive,n.emissiveIntensity=e.emissiveIntensity===void 0?1:e.emissiveIntensity,n.emissiveMap=e.emissiveMap===void 0?null:e.emissiveMap,n.bumpMap=e.bumpMap===void 0?null:e.bumpMap,n.bumpScale=1,n.normalMap=e.normalMap===void 0?null:e.normalMap,n.normalMapType=Zb,e.normalScale&&(n.normalScale=e.normalScale),n.displacementMap=null,n.displacementScale=1,n.displacementBias=0,n.specularMap=e.specularMap===void 0?null:e.specularMap,n.specular=e.specular,n.glossinessMap=e.glossinessMap===void 0?null:e.glossinessMap,n.glossiness=e.glossiness,n.alphaMap=null,n.envMap=e.envMap===void 0?null:e.envMap,n.envMapIntensity=1,n}}class bZ{constructor(){this.name=mt.KHR_MESH_QUANTIZATION}}class L5 extends Tf{constructor(e,n,s,i){super(e,n,s,i)}copySampleValue_(e){const n=this.resultBuffer,s=this.sampleValues,i=this.valueSize,r=e*i*3+i;for(let o=0;o!==i;o++)n[o]=s[r+o];return n}interpolate_(e,n,s,i){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=i-n,d=(s-n)/u,f=d*d,h=f*d,_=e*c,p=_-c,m=-2*h+3*f,y=h-f,b=1-m,v=y-f+d;for(let w=0;w!==a;w++){const S=o[p+w+a],x=o[p+w+l]*u,T=o[_+w+a],E=o[_+w]*u;r[w]=b*S+v*x+m*T+y*E}return r}}const vZ=new nr;class wZ extends L5{interpolate_(e,n,s,i){const r=super.interpolate_(e,n,s,i);return vZ.fromArray(r).normalize().toArray(r),r}}const gr={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Yd={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},NS={9728:Dn,9729:_s,9984:$1,9985:r5,9986:B1,9987:tu},US={33071:Gs,33648:sm,10497:Nc},$S={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},q1={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},ro={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},xZ={CUBICSPLINE:void 0,LINEAR:$c,STEP:Hd},y_={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function SZ(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new xg({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Ic})),t.DefaultMaterial}function Pu(t,e,n){for(const s in n.extensions)t[s]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[s]=n.extensions[s])}function da(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function EZ(t,e,n){let s=!1,i=!1,r=!1;for(let c=0,u=e.length;c<u;c++){const d=e[c];if(d.POSITION!==void 0&&(s=!0),d.NORMAL!==void 0&&(i=!0),d.COLOR_0!==void 0&&(r=!0),s&&i&&r)break}if(!s&&!i&&!r)return Promise.resolve(t);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const d=e[c];if(s){const f=d.POSITION!==void 0?n.getDependency("accessor",d.POSITION):t.attributes.position;o.push(f)}if(i){const f=d.NORMAL!==void 0?n.getDependency("accessor",d.NORMAL):t.attributes.normal;a.push(f)}if(r){const f=d.COLOR_0!==void 0?n.getDependency("accessor",d.COLOR_0):t.attributes.color;l.push(f)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],f=c[2];return s&&(t.morphAttributes.position=u),i&&(t.morphAttributes.normal=d),r&&(t.morphAttributes.color=f),t.morphTargetsRelative=!0,t})}function TZ(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,s=e.weights.length;n<s;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let s=0,i=n.length;s<i;s++)t.morphTargetDictionary[n[s]]=s}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function MZ(t){const e=t.extensions&&t.extensions[mt.KHR_DRACO_MESH_COMPRESSION];let n;return e?n="draco:"+e.bufferView+":"+e.indices+":"+BS(e.attributes):n=t.indices+":"+BS(t.attributes)+":"+t.mode,n}function BS(t){let e="";const n=Object.keys(t).sort();for(let s=0,i=n.length;s<i;s++)e+=n[s]+":"+t[n[s]]+";";return e}function Y1(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function AZ(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}class kZ{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new tZ,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const s=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,r=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1;typeof createImageBitmap>"u"||s||i&&r<98?this.textureLoader=new NX(this.options.manager):this.textureLoader=new VX(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new C5(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const s=this,i=this.json,r=this.extensions;this.cache.removeAll(),this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([s.getDependencies("scene"),s.getDependencies("animation"),s.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:s,userData:{}};Pu(r,a,i),da(a,i),Promise.all(s._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],s=this.json.meshes||[];for(let i=0,r=n.length;i<r;i++){const o=n[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,r=e.length;i<r;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(s[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,s){if(e.refs[n]<=1)return s;const i=s.clone(),r=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())r(u,a.children[c])};return r(s,i),i.name+="_instance_"+e.uses[n]++,i}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let s=0;s<n.length;s++){const i=e(n[s]);if(i)return i}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const s=[];for(let i=0;i<n.length;i++){const r=e(n[i]);r&&s.push(r)}return s}getDependency(e,n){const s=e+":"+n;let i=this.cache.get(s);if(!i){switch(e){case"scene":i=this.loadScene(n);break;case"node":i=this.loadNode(n);break;case"mesh":i=this._invokeOne(function(r){return r.loadMesh&&r.loadMesh(n)});break;case"accessor":i=this.loadAccessor(n);break;case"bufferView":i=this._invokeOne(function(r){return r.loadBufferView&&r.loadBufferView(n)});break;case"buffer":i=this.loadBuffer(n);break;case"material":i=this._invokeOne(function(r){return r.loadMaterial&&r.loadMaterial(n)});break;case"texture":i=this._invokeOne(function(r){return r.loadTexture&&r.loadTexture(n)});break;case"skin":i=this.loadSkin(n);break;case"animation":i=this._invokeOne(function(r){return r.loadAnimation&&r.loadAnimation(n)});break;case"camera":i=this.loadCamera(n);break;default:throw new Error("Unknown type: "+e)}this.cache.add(s,i)}return i}getDependencies(e){let n=this.cache.get(e);if(!n){const s=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(i.map(function(r,o){return s.getDependency(e,o)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],s=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[mt.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(r,o){s.load(Ba.resolveURL(n.uri,i.path),r,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(s){const i=n.byteLength||0,r=n.byteOffset||0;return s.slice(r,r+i)})}loadAccessor(e){const n=this,s=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0)return Promise.resolve(null);const r=[];return i.bufferView!==void 0?r.push(this.getDependency("bufferView",i.bufferView)):r.push(null),i.sparse!==void 0&&(r.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(r).then(function(o){const a=o[0],l=$S[i.type],c=Yd[i.componentType],u=c.BYTES_PER_ELEMENT,d=u*l,f=i.byteOffset||0,h=i.bufferView!==void 0?s.bufferViews[i.bufferView].byteStride:void 0,_=i.normalized===!0;let p,m;if(h&&h!==d){const y=Math.floor(f/h),b="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+y+":"+i.count;let v=n.cache.get(b);v||(p=new c(a,y*h,i.count*h/u),v=new bX(p,h/u),n.cache.add(b,v)),m=new iv(v,l,f%h/u,_)}else a===null?p=new c(i.count*l):p=new c(a,f,i.count*l),m=new ks(p,l,_);if(i.sparse!==void 0){const y=$S.SCALAR,b=Yd[i.sparse.indices.componentType],v=i.sparse.indices.byteOffset||0,w=i.sparse.values.byteOffset||0,S=new b(o[1],v,i.sparse.count*y),x=new c(o[2],w,i.sparse.count*l);a!==null&&(m=new ks(m.array.slice(),m.itemSize,m.normalized));for(let T=0,E=S.length;T<E;T++){const M=S[T];if(m.setX(M,x[T*l]),l>=2&&m.setY(M,x[T*l+1]),l>=3&&m.setZ(M,x[T*l+2]),l>=4&&m.setW(M,x[T*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return m})}loadTexture(e){const n=this.json,s=this.options,r=n.textures[e].source,o=n.images[r];let a=this.textureLoader;if(o.uri){const l=s.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,r,a)}loadTextureImage(e,n,s){const i=this,r=this.json,o=r.textures[e],a=r.images[n],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(n,s).then(function(u){u.flipY=!1,o.name&&(u.name=o.name);const f=(r.samplers||{})[o.sampler]||{};return u.magFilter=NS[f.magFilter]||_s,u.minFilter=NS[f.minFilter]||tu,u.wrapS=US[f.wrapS]||Nc,u.wrapT=US[f.wrapT]||Nc,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,n){const s=this,i=this.json,r=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=s.getDependency("bufferView",o.bufferView).then(function(d){c=!0;const f=new Blob([d],{type:o.mimeType});return l=a.createObjectURL(f),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(d){return new Promise(function(f,h){let _=f;n.isImageBitmapLoader===!0&&(_=function(p){const m=new os(p);m.needsUpdate=!0,f(m)}),n.load(Ba.resolveURL(d,r.path),_,void 0,h)})}).then(function(d){return c===!0&&a.revokeObjectURL(l),d.userData.mimeType=o.mimeType||AZ(o.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=u,u}assignTexture(e,n,s,i){const r=this;return this.getDependency("texture",s.index).then(function(o){if(s.texCoord!==void 0&&s.texCoord!=0&&!(n==="aoMap"&&s.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+s.texCoord+" for texture "+n+" not yet supported."),r.extensions[mt.KHR_TEXTURE_TRANSFORM]){const a=s.extensions!==void 0?s.extensions[mt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=r.associations.get(o);o=r.extensions[mt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),r.associations.set(o,l)}}return i!==void 0&&(o.encoding=i),e[n]=o,o})}assignFinalMaterial(e){const n=e.geometry;let s=e.material;const i=n.attributes.tangent===void 0,r=n.attributes.color!==void 0,o=n.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+s.uuid;let l=this.cache.get(a);l||(l=new k5,Yi.prototype.copy.call(l,s),l.color.copy(s.color),l.map=s.map,l.sizeAttenuation=!1,this.cache.add(a,l)),s=l}else if(e.isLine){const a="LineBasicMaterial:"+s.uuid;let l=this.cache.get(a);l||(l=new A5,Yi.prototype.copy.call(l,s),l.color.copy(s.color),this.cache.add(a,l)),s=l}if(i||r||o){let a="ClonedMaterial:"+s.uuid+":";s.isGLTFSpecularGlossinessMaterial&&(a+="specular-glossiness:"),i&&(a+="derivative-tangents:"),r&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=s.clone(),r&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(s))),s=l}s.aoMap&&n.attributes.uv2===void 0&&n.attributes.uv!==void 0&&n.setAttribute("uv2",n.attributes.uv),e.material=s}getMaterialType(){return xg}loadMaterial(e){const n=this,s=this.json,i=this.extensions,r=s.materials[e];let o;const a={},l=r.extensions||{},c=[];if(l[mt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const d=i[mt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];o=d.getMaterialType(),c.push(d.extendParams(a,r,n))}else if(l[mt.KHR_MATERIALS_UNLIT]){const d=i[mt.KHR_MATERIALS_UNLIT];o=d.getMaterialType(),c.push(d.extendParams(a,r,n))}else{const d=r.pbrMetallicRoughness||{};if(a.color=new nt(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const f=d.baseColorFactor;a.color.fromArray(f),a.opacity=f[3]}d.baseColorTexture!==void 0&&c.push(n.assignTexture(a,"map",d.baseColorTexture,It)),a.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,a.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(c.push(n.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),c.push(n.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),o=this._invokeOne(function(f){return f.getMaterialType&&f.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(f){return f.extendMaterialParams&&f.extendMaterialParams(e,a)})))}r.doubleSided===!0&&(a.side=ja);const u=r.alphaMode||y_.OPAQUE;if(u===y_.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===y_.MASK&&(a.alphaTest=r.alphaCutoff!==void 0?r.alphaCutoff:.5)),r.normalTexture!==void 0&&o!==Eo&&(c.push(n.assignTexture(a,"normalMap",r.normalTexture)),a.normalScale=new bt(1,1),r.normalTexture.scale!==void 0)){const d=r.normalTexture.scale;a.normalScale.set(d,d)}return r.occlusionTexture!==void 0&&o!==Eo&&(c.push(n.assignTexture(a,"aoMap",r.occlusionTexture)),r.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=r.occlusionTexture.strength)),r.emissiveFactor!==void 0&&o!==Eo&&(a.emissive=new nt().fromArray(r.emissiveFactor)),r.emissiveTexture!==void 0&&o!==Eo&&c.push(n.assignTexture(a,"emissiveMap",r.emissiveTexture,It)),Promise.all(c).then(function(){let d;return o===j1?d=i[mt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):d=new o(a),r.name&&(d.name=r.name),da(d,r),n.associations.set(d,{materials:e}),r.extensions&&Pu(i,d,r),d})}createUniqueName(e){const n=Ft.sanitizeNodeName(e||"");let s=n;for(let i=1;this.nodeNamesUsed[s];++i)s=n+"_"+i;return this.nodeNamesUsed[s]=!0,s}loadGeometries(e){const n=this,s=this.extensions,i=this.primitiveCache;function r(a){return s[mt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,n).then(function(l){return zS(l,a,n)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=MZ(c),d=i[u];if(d)o.push(d.promise);else{let f;c.extensions&&c.extensions[mt.KHR_DRACO_MESH_COMPRESSION]?f=r(c):f=zS(new or,c,n),i[u]={primitive:c,promise:f},o.push(f)}}return Promise.all(o)}loadMesh(e){const n=this,s=this.json,i=this.extensions,r=s.meshes[e],o=r.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?SZ(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(n.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],d=[];for(let h=0,_=u.length;h<_;h++){const p=u[h],m=o[h];let y;const b=c[h];if(m.mode===gr.TRIANGLES||m.mode===gr.TRIANGLE_STRIP||m.mode===gr.TRIANGLE_FAN||m.mode===void 0)y=r.isSkinnedMesh===!0?new wX(p,b):new _i(p,b),y.isSkinnedMesh===!0&&!y.geometry.attributes.skinWeight.normalized&&y.normalizeSkinWeights(),m.mode===gr.TRIANGLE_STRIP?y.geometry=GS(y.geometry,nW):m.mode===gr.TRIANGLE_FAN&&(y.geometry=GS(y.geometry,a5));else if(m.mode===gr.LINES)y=new EX(p,b);else if(m.mode===gr.LINE_STRIP)y=new ov(p,b);else if(m.mode===gr.LINE_LOOP)y=new TX(p,b);else if(m.mode===gr.POINTS)y=new MX(p,b);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+m.mode);Object.keys(y.geometry.morphAttributes).length>0&&TZ(y,r),y.name=n.createUniqueName(r.name||"mesh_"+e),da(y,r),m.extensions&&Pu(i,y,m),n.assignFinalMaterial(y),d.push(y)}for(let h=0,_=d.length;h<_;h++)n.associations.set(d[h],{meshes:e,primitives:h});if(d.length===1)return d[0];const f=new Aa;n.associations.set(f,{meshes:e});for(let h=0,_=d.length;h<_;h++)f.add(d[h]);return f})}loadCamera(e){let n;const s=this.json.cameras[e],i=s[s.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return s.type==="perspective"?n=new is(xW.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):s.type==="orthographic"&&(n=new nv(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),s.name&&(n.name=this.createUniqueName(s.name)),da(n,s),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],s={joints:n.joints};return n.inverseBindMatrices===void 0?Promise.resolve(s):this.getDependency("accessor",n.inverseBindMatrices).then(function(i){return s.inverseBindMatrices=i,s})}loadAnimation(e){const s=this.json.animations[e],i=[],r=[],o=[],a=[],l=[];for(let c=0,u=s.channels.length;c<u;c++){const d=s.channels[c],f=s.samplers[d.sampler],h=d.target,_=h.node!==void 0?h.node:h.id,p=s.parameters!==void 0?s.parameters[f.input]:f.input,m=s.parameters!==void 0?s.parameters[f.output]:f.output;i.push(this.getDependency("node",_)),r.push(this.getDependency("accessor",p)),o.push(this.getDependency("accessor",m)),a.push(f),l.push(h)}return Promise.all([Promise.all(i),Promise.all(r),Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],f=c[2],h=c[3],_=c[4],p=[];for(let y=0,b=u.length;y<b;y++){const v=u[y],w=d[y],S=f[y],x=h[y],T=_[y];if(v===void 0)continue;v.updateMatrix(),v.matrixAutoUpdate=!0;let E;switch(ro[T.path]){case ro.weights:E=jd;break;case ro.rotation:E=Za;break;case ro.position:case ro.scale:default:E=qd;break}const M=v.name?v.name:v.uuid,C=x.interpolation!==void 0?xZ[x.interpolation]:$c,A=[];ro[T.path]===ro.weights?v.traverse(function($){$.morphTargetInfluences&&A.push($.name?$.name:$.uuid)}):A.push(M);let R=S.array;if(S.normalized){const $=Y1(R.constructor),F=new Float32Array(R.length);for(let D=0,I=R.length;D<I;D++)F[D]=R[D]*$;R=F}for(let $=0,F=A.length;$<F;$++){const D=new E(A[$]+"."+ro[T.path],w.array,R,C);x.interpolation==="CUBICSPLINE"&&(D.createInterpolant=function(B){const W=this instanceof Za?wZ:L5;return new W(this.times,this.values,this.getValueSize()/3,B)},D.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),p.push(D)}}const m=s.name?s.name:"animation_"+e;return new OX(m,void 0,p)})}createNodeMesh(e){const n=this.json,s=this,i=n.nodes[e];return i.mesh===void 0?null:s.getDependency("mesh",i.mesh).then(function(r){const o=s._getNodeRef(s.meshCache,i.mesh,r);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const n=this.json,s=this.extensions,i=this,r=n.nodes[e],o=r.name?i.createUniqueName(r.name):"";return function(){const a=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),r.camera!==void 0&&a.push(i.getDependency("camera",r.camera).then(function(c){return i._getNodeRef(i.cameraCache,r.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),Promise.all(a)}().then(function(a){let l;if(r.isBone===!0?l=new M5:a.length>1?l=new Aa:a.length===1?l=a[0]:l=new bn,l!==a[0])for(let c=0,u=a.length;c<u;c++)l.add(a[c]);if(r.name&&(l.userData.name=r.name,l.name=o),da(l,r),r.extensions&&Pu(s,l,r),r.matrix!==void 0){const c=new At;c.fromArray(r.matrix),l.applyMatrix4(c)}else r.translation!==void 0&&l.position.fromArray(r.translation),r.rotation!==void 0&&l.quaternion.fromArray(r.rotation),r.scale!==void 0&&l.scale.fromArray(r.scale);return i.associations.has(l)||i.associations.set(l,{}),i.associations.get(l).nodes=e,l})}loadScene(e){const n=this.json,s=this.extensions,i=this.json.scenes[e],r=this,o=new Aa;i.name&&(o.name=r.createUniqueName(i.name)),da(o,i),i.extensions&&Pu(s,o,i);const a=i.nodes||[],l=[];for(let c=0,u=a.length;c<u;c++)l.push(I5(a[c],o,n,r));return Promise.all(l).then(function(){const c=u=>{const d=new Map;for(const[f,h]of r.associations)(f instanceof Yi||f instanceof os)&&d.set(f,h);return u.traverse(f=>{const h=r.associations.get(f);h!=null&&d.set(f,h)}),d};return r.associations=c(o),o})}}function I5(t,e,n,s){const i=n.nodes[t];return s.getDependency("node",t).then(function(r){if(i.skin===void 0)return r;let o;return s.getDependency("skin",i.skin).then(function(a){o=a;const l=[];for(let c=0,u=o.joints.length;c<u;c++)l.push(s.getDependency("node",o.joints[c]));return Promise.all(l)}).then(function(a){return r.traverse(function(l){if(!l.isMesh)return;const c=[],u=[];for(let d=0,f=a.length;d<f;d++){const h=a[d];if(h){c.push(h);const _=new At;o.inverseBindMatrices!==void 0&&_.fromArray(o.inverseBindMatrices.array,d*16),u.push(_)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',o.joints[d])}l.bind(new rv(c,u),l.matrixWorld)}),r})}).then(function(r){e.add(r);const o=[];if(i.children){const a=i.children;for(let l=0,c=a.length;l<c;l++){const u=a[l];o.push(I5(u,r,n,s))}}return Promise.all(o)})}function RZ(t,e,n){const s=e.attributes,i=new su;if(s.POSITION!==void 0){const a=n.json.accessors[s.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new J(l[0],l[1],l[2]),new J(c[0],c[1],c[2])),a.normalized){const u=Y1(Yd[a.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const r=e.targets;if(r!==void 0){const a=new J,l=new J;for(let c=0,u=r.length;c<u;c++){const d=r[c];if(d.POSITION!==void 0){const f=n.json.accessors[d.POSITION],h=f.min,_=f.max;if(h!==void 0&&_!==void 0){if(l.setX(Math.max(Math.abs(h[0]),Math.abs(_[0]))),l.setY(Math.max(Math.abs(h[1]),Math.abs(_[1]))),l.setZ(Math.max(Math.abs(h[2]),Math.abs(_[2]))),f.normalized){const p=Y1(Yd[f.componentType]);l.multiplyScalar(p)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}t.boundingBox=i;const o=new iu;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,t.boundingSphere=o}function zS(t,e,n){const s=e.attributes,i=[];function r(o,a){return n.getDependency("accessor",o).then(function(l){t.setAttribute(a,l)})}for(const o in s){const a=q1[o]||o.toLowerCase();a in t.attributes||i.push(r(s[o],a))}if(e.indices!==void 0&&!t.index){const o=n.getDependency("accessor",e.indices).then(function(a){t.setIndex(a)});i.push(o)}return da(t,e),RZ(t,e,n),Promise.all(i).then(function(){return e.targets!==void 0?EZ(t,e.targets,n):t})}function GS(t,e){let n=t.getIndex();if(n===null){const o=[],a=t.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);t.setIndex(o),n=t.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const s=n.count-2,i=[];if(e===a5)for(let o=1;o<=s;o++)i.push(n.getX(0)),i.push(n.getX(o)),i.push(n.getX(o+1));else for(let o=0;o<s;o++)o%2===0?(i.push(n.getX(o)),i.push(n.getX(o+1)),i.push(n.getX(o+2))):(i.push(n.getX(o+2)),i.push(n.getX(o+1)),i.push(n.getX(o)));i.length/3!==s&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const r=t.clone();return r.setIndex(i),r}const CZ=Ye({name:"GyroModel",setup(){return{state:Ps(),root:cn()}},methods:{async initThree(){const t=document.getElementById("container");if(!t)return;this.camera=new is(45,t.clientWidth/t.clientHeight,.01,1e3),this.camera.position.z=140,this.camera.position.y=40,this.camera.lookAt(0,0,0);const e=new UX(14544639,986637,5),n=new O5(16777215,10);n.position.set(0,1e3,0),this.scene=new yX,this.scene.add(e,n);const s=new ru,i=new Eo({color:65280,wireframe:!0}),r=new _i(s,i);this.scene.add(r);const a=await new eZ().loadAsync("gt20.glb");this.model=a.scene.children[0],this.scene.add(this.model),this.renderer=new T5({antialias:!0,alpha:!0}),this.renderer.setClearColor(0,0),this.renderer.setSize(t.clientWidth,t.clientHeight),t.replaceChildren(this.renderer.domElement),this.animate()},animate(){if(this.model){const t=new J(0,1,0),e=new J(this.state.GEstG[0],this.state.GEstG[2],-this.state.GEstG[1]);e.normalize();const n=new nr;n.setFromUnitVectors(t,e),this.model.rotation.setFromQuaternion(n)}this.renderer.render(this.scene,this.camera),this.frameRequest=requestAnimationFrame(this.animate)}},async mounted(){await this.initThree()},beforeUnmount(){cancelAnimationFrame(this.frameRequest)}}),OZ={class:"card"},PZ={class:"card-header"},LZ=g("p",{class:"card-header-title"},"Model",-1),IZ=g("div",{class:"card-content"},[g("div",{class:"content"},[g("div",{id:"container",style:{height:"30vh",width:"100%"}}),g("small",{class:"float-right"},"Model: TKS GT20 by Tarkusx")])],-1);function DZ(t,e,n,s,i,r){const o=Ae("spinner-btn");return Q(),se("div",OZ,[g("header",PZ,[LZ,X(o,{class:"card-header-button is-primary",onClick:e[0]||(e[0]=a=>t.root.cal_imu())},{default:Je(()=>[_e(" calibrate ")]),_:1})]),IZ])}const D5=tt(CZ,[["render",DZ]]),FZ=Ye({name:"home",components:{Motor:Gz,Voltage:LG,Serial:iH,VTX:lV,GyroModel:D5},setup(){return{profile:jt()}}}),NZ={class:"columns is-multiline"},UZ={class:"column is-12"},$Z={class:"column is-12"},BZ={class:"columns"},zZ={class:"column is-6"},GZ={class:"column is-6"},HZ={class:"columns"},VZ={class:"column is-12"};function WZ(t,e,n,s,i,r){const o=Ae("GyroModel"),a=Ae("Motor"),l=Ae("Voltage"),c=Ae("Serial"),u=Ae("VTX");return Q(),se(Ze,null,[g("div",NZ,[g("div",UZ,[X(o)]),g("div",$Z,[X(a)])]),g("div",BZ,[g("div",zZ,[X(l)]),g("div",GZ,[X(c)])]),g("div",HZ,[g("div",VZ,[t.profile.serial.smart_audio!=0||t.profile.serial.hdzero!=0?(Q(),rn(u,{key:0})):We("",!0)])])],64)}const jZ=tt(FZ,[["render",WZ]]);/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */function _r(){}const qZ=function(){let t=0;return function(){return t++}}();function Pt(t){return t===null||typeof t>"u"}function Zt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Et(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}const Nn=t=>(typeof t=="number"||t instanceof Number)&&isFinite(+t);function $s(t,e){return Nn(t)?t:e}function ut(t,e){return typeof t>"u"?e:t}const YZ=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:t/e,F5=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Vt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Nt(t,e,n,s){let i,r,o;if(Zt(t))if(r=t.length,s)for(i=r-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<r;i++)e.call(n,t[i],i);else if(Et(t))for(o=Object.keys(t),r=o.length,i=0;i<r;i++)e.call(n,t[o[i]],o[i])}function rm(t,e){let n,s,i,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(i=t[n],r=e[n],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function om(t){if(Zt(t))return t.map(om);if(Et(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let i=0;for(;i<s;++i)e[n[i]]=om(t[n[i]]);return e}return t}function N5(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function KZ(t,e,n,s){if(!N5(t))return;const i=e[t],r=n[t];Et(i)&&Et(r)?Kd(i,r,s):e[t]=om(r)}function Kd(t,e,n){const s=Zt(e)?e:[e],i=s.length;if(!Et(t))return t;n=n||{};const r=n.merger||KZ;for(let o=0;o<i;++o){if(e=s[o],!Et(e))continue;const a=Object.keys(e);for(let l=0,c=a.length;l<c;++l)r(a[l],t,e,n)}return t}function _d(t,e){return Kd(t,e,{merger:XZ})}function XZ(t,e,n){if(!N5(t))return;const s=e[t],i=n[t];Et(s)&&Et(i)?_d(s,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=om(i))}const HS={"":t=>t,x:t=>t.x,y:t=>t.y};function Bo(t,e){return(HS[e]||(HS[e]=ZZ(e)))(t)}function ZZ(t){const e=JZ(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function JZ(t){const e=t.split("."),n=[];let s="";for(const i of e)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function uv(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Zs=t=>typeof t<"u",zo=t=>typeof t=="function",VS=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function QZ(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const on=Math.PI,Gt=2*on,eJ=Gt+on,am=Number.POSITIVE_INFINITY,tJ=on/180,fn=on/2,Lu=on/4,WS=on*2/3,Hs=Math.log10,Ki=Math.sign;function jS(t){const e=Math.round(t);t=yd(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Hs(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function nJ(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((i,r)=>i-r).pop(),e}function Gc(t){return!isNaN(parseFloat(t))&&isFinite(t)}function yd(t,e,n){return Math.abs(t-e)<n}function sJ(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function U5(t,e,n){let s,i,r;for(s=0,i=t.length;s<i;s++)r=t[s][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function yi(t){return t*(on/180)}function dv(t){return t*(180/on)}function qS(t){if(!Nn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function $5(t,e){const n=e.x-t.x,s=e.y-t.y,i=Math.sqrt(n*n+s*s);let r=Math.atan2(s,n);return r<-.5*on&&(r+=Gt),{angle:r,distance:i}}function K1(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function iJ(t,e){return(t-e+eJ)%Gt-on}function ui(t){return(t%Gt+Gt)%Gt}function Xd(t,e,n,s){const i=ui(t),r=ui(e),o=ui(n),a=ui(r-i),l=ui(o-i),c=ui(i-r),u=ui(i-o);return i===r||i===o||s&&r===o||a>l&&c<u}function Wn(t,e,n){return Math.max(e,Math.min(n,t))}function rJ(t){return Wn(t,-32768,32767)}function To(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function fv(t,e,n){n=n||(o=>t[o]<e);let s=t.length-1,i=0,r;for(;s-i>1;)r=i+s>>1,n(r)?i=r:s=r;return{lo:i,hi:s}}const ka=(t,e,n,s)=>fv(t,n,s?i=>t[i][e]<=n:i=>t[i][e]<n),oJ=(t,e,n)=>fv(t,n,s=>t[s][e]>=n);function aJ(t,e,n){let s=0,i=t.length;for(;s<i&&t[s]<e;)s++;for(;i>s&&t[i-1]>n;)i--;return s>0||i<t.length?t.slice(s,i):t}const B5=["push","pop","shift","splice","unshift"];function lJ(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),B5.forEach(n=>{const s="_onData"+uv(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...r)}),o}})})}function YS(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(e);i!==-1&&s.splice(i,1),!(s.length>0)&&(B5.forEach(r=>{delete t[r]}),delete t._chartjs)}function z5(t){const e=new Set;let n,s;for(n=0,s=t.length;n<s;++n)e.add(t[n]);return e.size===s?t:Array.from(e)}const G5=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function H5(t,e,n){const s=n||(o=>Array.prototype.slice.call(o));let i=!1,r=[];return function(...o){r=s(o),i||(i=!0,G5.call(window,()=>{i=!1,t.apply(e,r)}))}}function cJ(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const hv=t=>t==="start"?"left":t==="end"?"right":"center",Bn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,uJ=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function V5(t,e,n){const s=e.length;let i=0,r=s;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:d,maxDefined:f}=o.getUserBounds();d&&(i=Wn(Math.min(ka(a,o.axis,c).lo,n?s:ka(e,l,o.getPixelForValue(c)).lo),0,s-1)),f?r=Wn(Math.max(ka(a,o.axis,u,!0).hi+1,n?0:ka(e,l,o.getPixelForValue(u),!0).hi+1),i,s)-i:r=s-i}return{start:i,count:r}}function W5(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=i,!0;const r=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,i),r}const Th=t=>t===0||t===1,KS=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Gt/n)),XS=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Gt/n)+1,bd={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*fn)+1,easeOutSine:t=>Math.sin(t*fn),easeInOutSine:t=>-.5*(Math.cos(on*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Th(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Th(t)?t:KS(t,.075,.3),easeOutElastic:t=>Th(t)?t:XS(t,.075,.3),easeInOutElastic(t){return Th(t)?t:t<.5?.5*KS(t*2,.1125,.45):.5+.5*XS(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-bd.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?bd.easeInBounce(t*2)*.5:bd.easeOutBounce(t*2-1)*.5+.5};/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function Af(t){return t+.5|0}const Mo=(t,e,n)=>Math.max(Math.min(t,n),e);function ed(t){return Mo(Af(t*2.55),0,255)}function Do(t){return Mo(Af(t*255),0,255)}function Ar(t){return Mo(Af(t/2.55)/100,0,1)}function ZS(t){return Mo(Af(t*100),0,100)}const Fs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},X1=[..."0123456789ABCDEF"],dJ=t=>X1[t&15],fJ=t=>X1[(t&240)>>4]+X1[t&15],Mh=t=>(t&240)>>4===(t&15),hJ=t=>Mh(t.r)&&Mh(t.g)&&Mh(t.b)&&Mh(t.a);function pJ(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Fs[t[1]]*17,g:255&Fs[t[2]]*17,b:255&Fs[t[3]]*17,a:e===5?Fs[t[4]]*17:255}:(e===7||e===9)&&(n={r:Fs[t[1]]<<4|Fs[t[2]],g:Fs[t[3]]<<4|Fs[t[4]],b:Fs[t[5]]<<4|Fs[t[6]],a:e===9?Fs[t[7]]<<4|Fs[t[8]]:255})),n}const mJ=(t,e)=>t<255?e(t):"";function gJ(t){var e=hJ(t)?dJ:fJ;return t?"#"+e(t.r)+e(t.g)+e(t.b)+mJ(t.a,e):void 0}const _J=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function j5(t,e,n){const s=e*Math.min(n,1-n),i=(r,o=(r+t/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function yJ(t,e,n){const s=(i,r=(i+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function bJ(t,e,n){const s=j5(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)s[i]*=1-e-n,s[i]+=e;return s}function vJ(t,e,n,s,i){return t===i?(e-n)/s+(e<n?6:0):e===i?(n-t)/s+2:(t-e)/s+4}function pv(t){const n=t.r/255,s=t.g/255,i=t.b/255,r=Math.max(n,s,i),o=Math.min(n,s,i),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=vJ(n,s,i,u,r),l=l*60+.5),[l|0,c||0,a]}function mv(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(Do)}function gv(t,e,n){return mv(j5,t,e,n)}function wJ(t,e,n){return mv(bJ,t,e,n)}function xJ(t,e,n){return mv(yJ,t,e,n)}function q5(t){return(t%360+360)%360}function SJ(t){const e=_J.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?ed(+e[5]):Do(+e[5]));const i=q5(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=wJ(i,r,o):e[1]==="hsv"?s=xJ(i,r,o):s=gv(i,r,o),{r:s[0],g:s[1],b:s[2],a:n}}function EJ(t,e){var n=pv(t);n[0]=q5(n[0]+e),n=gv(n),t.r=n[0],t.g=n[1],t.b=n[2]}function TJ(t){if(!t)return;const e=pv(t),n=e[0],s=ZS(e[1]),i=ZS(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${i}%, ${Ar(t.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const JS={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},QS={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function MJ(){const t={},e=Object.keys(QS),n=Object.keys(JS);let s,i,r,o,a;for(s=0;s<e.length;s++){for(o=a=e[s],i=0;i<n.length;i++)r=n[i],a=a.replace(r,JS[r]);r=parseInt(QS[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let Ah;function AJ(t){Ah||(Ah=MJ(),Ah.transparent=[0,0,0,0]);const e=Ah[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const kJ=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function RJ(t){const e=kJ.exec(t);let n=255,s,i,r;if(e){if(e[7]!==s){const o=+e[7];n=e[8]?ed(o):Mo(o*255,0,255)}return s=+e[1],i=+e[3],r=+e[5],s=255&(e[2]?ed(s):Mo(s,0,255)),i=255&(e[4]?ed(i):Mo(i,0,255)),r=255&(e[6]?ed(r):Mo(r,0,255)),{r:s,g:i,b:r,a:n}}}function CJ(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ar(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const b_=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ul=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function OJ(t,e,n){const s=Ul(Ar(t.r)),i=Ul(Ar(t.g)),r=Ul(Ar(t.b));return{r:Do(b_(s+n*(Ul(Ar(e.r))-s))),g:Do(b_(i+n*(Ul(Ar(e.g))-i))),b:Do(b_(r+n*(Ul(Ar(e.b))-r))),a:t.a+n*(e.a-t.a)}}function kh(t,e,n){if(t){let s=pv(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=gv(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function Y5(t,e){return t&&Object.assign(e||{},t)}function e3(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Do(t[3]))):(e=Y5(t,{r:0,g:0,b:0,a:1}),e.a=Do(e.a)),e}function PJ(t){return t.charAt(0)==="r"?RJ(t):SJ(t)}class lm{constructor(e){if(e instanceof lm)return e;const n=typeof e;let s;n==="object"?s=e3(e):n==="string"&&(s=pJ(e)||AJ(e)||PJ(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=Y5(this._rgb);return e&&(e.a=Ar(e.a)),e}set rgb(e){this._rgb=e3(e)}rgbString(){return this._valid?CJ(this._rgb):void 0}hexString(){return this._valid?gJ(this._rgb):void 0}hslString(){return this._valid?TJ(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,i=e.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=s.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,s.r=255&c*s.r+r*i.r+.5,s.g=255&c*s.g+r*i.g+.5,s.b=255&c*s.b+r*i.b+.5,s.a=o*s.a+(1-o)*i.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=OJ(this._rgb,e._rgb,n)),this}clone(){return new lm(this.rgb)}alpha(e){return this._rgb.a=Do(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Af(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return kh(this._rgb,2,e),this}darken(e){return kh(this._rgb,2,-e),this}saturate(e){return kh(this._rgb,1,e),this}desaturate(e){return kh(this._rgb,1,-e),this}rotate(e){return EJ(this._rgb,e),this}}function K5(t){return new lm(t)}function X5(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function t3(t){return X5(t)?t:K5(t)}function v_(t){return X5(t)?t:K5(t).saturate(.5).darken(.1).hexString()}const Ja=Object.create(null),Z1=Object.create(null);function vd(t,e){if(!e)return t;const n=e.split(".");for(let s=0,i=n.length;s<i;++s){const r=n[s];t=t[r]||(t[r]=Object.create(null))}return t}function w_(t,e,n){return typeof e=="string"?Kd(vd(t,e),n):Kd(vd(t,""),e)}class LJ{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,s)=>v_(s.backgroundColor),this.hoverBorderColor=(n,s)=>v_(s.borderColor),this.hoverColor=(n,s)=>v_(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e)}set(e,n){return w_(this,e,n)}get(e){return vd(this,e)}describe(e,n){return w_(Z1,e,n)}override(e,n){return w_(Ja,e,n)}route(e,n,s,i){const r=vd(this,e),o=vd(this,s),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return Et(l)?Object.assign({},c,l):ut(l,c)},set(l){this[a]=l}}})}}var _t=new LJ({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function IJ(t){return!t||Pt(t.size)||Pt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function cm(t,e,n,s,i){let r=e[i];return r||(r=e[i]=t.measureText(i).width,n.push(i)),r>s&&(s=r),s}function DJ(t,e,n,s){s=s||{};let i=s.data=s.data||{},r=s.garbageCollect=s.garbageCollect||[];s.font!==e&&(i=s.data={},r=s.garbageCollect=[],s.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,d,f;for(l=0;l<a;l++)if(d=n[l],d!=null&&Zt(d)!==!0)o=cm(t,i,r,o,d);else if(Zt(d))for(c=0,u=d.length;c<u;c++)f=d[c],f!=null&&!Zt(f)&&(o=cm(t,i,r,o,f));t.restore();const h=r.length/2;if(h>n.length){for(l=0;l<h;l++)delete i[r[l]];r.splice(0,h)}return o}function ia(t,e,n){const s=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*s)/s+i}function n3(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function J1(t,e,n,s){Z5(t,e,n,s,null)}function Z5(t,e,n,s,i){let r,o,a,l,c,u;const d=e.pointStyle,f=e.rotation,h=e.radius;let _=(f||0)*tJ;if(d&&typeof d=="object"&&(r=d.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(_),t.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),t.restore();return}if(!(isNaN(h)||h<=0)){switch(t.beginPath(),d){default:i?t.ellipse(n,s,i/2,h,0,0,Gt):t.arc(n,s,h,0,Gt),t.closePath();break;case"triangle":t.moveTo(n+Math.sin(_)*h,s-Math.cos(_)*h),_+=WS,t.lineTo(n+Math.sin(_)*h,s-Math.cos(_)*h),_+=WS,t.lineTo(n+Math.sin(_)*h,s-Math.cos(_)*h),t.closePath();break;case"rectRounded":c=h*.516,l=h-c,o=Math.cos(_+Lu)*l,a=Math.sin(_+Lu)*l,t.arc(n-o,s-a,c,_-on,_-fn),t.arc(n+a,s-o,c,_-fn,_),t.arc(n+o,s+a,c,_,_+fn),t.arc(n-a,s+o,c,_+fn,_+on),t.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*h,u=i?i/2:l,t.rect(n-u,s-l,2*u,2*l);break}_+=Lu;case"rectRot":o=Math.cos(_)*h,a=Math.sin(_)*h,t.moveTo(n-o,s-a),t.lineTo(n+a,s-o),t.lineTo(n+o,s+a),t.lineTo(n-a,s+o),t.closePath();break;case"crossRot":_+=Lu;case"cross":o=Math.cos(_)*h,a=Math.sin(_)*h,t.moveTo(n-o,s-a),t.lineTo(n+o,s+a),t.moveTo(n+a,s-o),t.lineTo(n-a,s+o);break;case"star":o=Math.cos(_)*h,a=Math.sin(_)*h,t.moveTo(n-o,s-a),t.lineTo(n+o,s+a),t.moveTo(n+a,s-o),t.lineTo(n-a,s+o),_+=Lu,o=Math.cos(_)*h,a=Math.sin(_)*h,t.moveTo(n-o,s-a),t.lineTo(n+o,s+a),t.moveTo(n+a,s-o),t.lineTo(n-a,s+o);break;case"line":o=i?i/2:Math.cos(_)*h,a=Math.sin(_)*h,t.moveTo(n-o,s-a),t.lineTo(n+o,s+a);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(_)*h,s+Math.sin(_)*h);break}t.fill(),e.borderWidth>0&&t.stroke()}}function Zd(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function _v(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function yv(t){t.restore()}function FJ(t,e,n,s,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else i==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function NJ(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function Qa(t,e,n,s,i,r={}){const o=Zt(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,UJ(t,r),l=0;l<o.length;++l)c=o[l],a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),Pt(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(c,n,s,r.maxWidth)),t.fillText(c,n,s,r.maxWidth),$J(t,n,s,c,r),s+=i.lineHeight;t.restore()}function UJ(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Pt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function $J(t,e,n,s,i){if(i.strikethrough||i.underline){const r=t.measureText(s),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function Jd(t,e){const{x:n,y:s,w:i,h:r,radius:o}=e;t.arc(n+o.topLeft,s+o.topLeft,o.topLeft,-fn,on,!0),t.lineTo(n,s+r-o.bottomLeft),t.arc(n+o.bottomLeft,s+r-o.bottomLeft,o.bottomLeft,on,fn,!0),t.lineTo(n+i-o.bottomRight,s+r),t.arc(n+i-o.bottomRight,s+r-o.bottomRight,o.bottomRight,fn,0,!0),t.lineTo(n+i,s+o.topRight),t.arc(n+i-o.topRight,s+o.topRight,o.topRight,0,-fn,!0),t.lineTo(n+o.topLeft,s)}const BJ=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),zJ=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function GJ(t,e){const n=(""+t).match(BJ);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const HJ=t=>+t||0;function bv(t,e){const n={},s=Et(e),i=s?Object.keys(e):e,r=Et(t)?s?o=>ut(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=HJ(r(o));return n}function J5(t){return bv(t,{top:"y",right:"x",bottom:"y",left:"x"})}function za(t){return bv(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Kn(t){const e=J5(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Mn(t,e){t=t||{},e=e||_t.font;let n=ut(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=ut(t.style,e.style);s&&!(""+s).match(zJ)&&(console.warn('Invalid font style specified: "'+s+'"'),s="");const i={family:ut(t.family,e.family),lineHeight:GJ(ut(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:ut(t.weight,e.weight),string:""};return i.string=IJ(i),i}function Rh(t,e,n,s){let i=!0,r,o,a;for(r=0,o=t.length;r<o;++r)if(a=t[r],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),i=!1),n!==void 0&&Zt(a)&&(a=a[n%a.length],i=!1),a!==void 0))return s&&!i&&(s.cacheable=!1),a}function VJ(t,e,n){const{min:s,max:i}=t,r=F5(e,(i-s)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(s,-Math.abs(r)),max:o(i,r)}}function qo(t,e){return Object.assign(Object.create(t),e)}function vv(t,e=[""],n=t,s,i=()=>t[0]){Zs(s)||(s=n8("_fallback",t));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:n,_fallback:s,_getTarget:i,override:o=>vv([o,...t],e,n,s)};return new Proxy(r,{deleteProperty(o,a){return delete o[a],delete o._keys,delete t[0][a],!0},get(o,a){return e8(o,a,()=>JJ(a,e,t,o))},getOwnPropertyDescriptor(o,a){return Reflect.getOwnPropertyDescriptor(o._scopes[0],a)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,a){return i3(o).includes(a)},ownKeys(o){return i3(o)},set(o,a,l){const c=o._storage||(o._storage=i());return o[a]=c[a]=l,delete o._keys,!0}})}function Hc(t,e,n,s){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Q5(t,s),setContext:r=>Hc(t,r,n,s),override:r=>Hc(t.override(r),e,n,s)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return e8(r,o,()=>jJ(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function Q5(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:s,isScriptable:zo(n)?n:()=>n,isIndexable:zo(s)?s:()=>s}}const WJ=(t,e)=>t?t+uv(e):e,wv=(t,e)=>Et(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function e8(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const s=n();return t[e]=s,s}function jJ(t,e,n){const{_proxy:s,_context:i,_subProxy:r,_descriptors:o}=t;let a=s[e];return zo(a)&&o.isScriptable(e)&&(a=qJ(e,a,t,n)),Zt(a)&&a.length&&(a=YJ(e,a,t,o.isIndexable)),wv(e,a)&&(a=Hc(a,i,r&&r[e],o)),a}function qJ(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);return a.add(t),e=e(r,o||s),a.delete(t),wv(t,e)&&(e=xv(i._scopes,i,t,e)),e}function YJ(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=n;if(Zs(r.index)&&s(t))e=e[r.index%e.length];else if(Et(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=xv(c,i,t,u);e.push(Hc(d,r,o&&o[t],a))}}return e}function t8(t,e,n){return zo(t)?t(e,n):t}const KJ=(t,e)=>t===!0?e:typeof t=="string"?Bo(e,t):void 0;function XJ(t,e,n,s,i){for(const r of e){const o=KJ(n,r);if(o){t.add(o);const a=t8(o._fallback,n,i);if(Zs(a)&&a!==n&&a!==s)return a}else if(o===!1&&Zs(s)&&n!==s)return null}return!1}function xv(t,e,n,s){const i=e._rootScopes,r=t8(e._fallback,n,s),o=[...t,...i],a=new Set;a.add(s);let l=s3(a,o,n,r||n,s);return l===null||Zs(r)&&r!==n&&(l=s3(a,o,r,l,s),l===null)?!1:vv(Array.from(a),[""],i,r,()=>ZJ(e,n,s))}function s3(t,e,n,s,i){for(;n;)n=XJ(t,e,n,s,i);return n}function ZJ(t,e,n){const s=t._getTarget();e in s||(s[e]={});const i=s[e];return Zt(i)&&Et(n)?n:i}function JJ(t,e,n,s){let i;for(const r of e)if(i=n8(WJ(r,t),n),Zs(i))return wv(t,i)?xv(n,s,t,i):i}function n8(t,e){for(const n of e){if(!n)continue;const s=n[t];if(Zs(s))return s}}function i3(t){let e=t._keys;return e||(e=t._keys=QJ(t._scopes)),e}function QJ(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(s);return Array.from(e)}function s8(t,e,n,s){const{iScale:i}=t,{key:r="r"}=this._parsing,o=new Array(s);let a,l,c,u;for(a=0,l=s;a<l;++a)c=a+n,u=e[c],o[a]={r:i.parse(Bo(u,r),c)};return o}const eQ=Number.EPSILON||1e-14,Vc=(t,e)=>e<t.length&&!t[e].skip&&t[e],i8=t=>t==="x"?"y":"x";function tQ(t,e,n,s){const i=t.skip?e:t,r=e,o=n.skip?e:n,a=K1(r,i),l=K1(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=s*c,f=s*u;return{previous:{x:r.x-d*(o.x-i.x),y:r.y-d*(o.y-i.y)},next:{x:r.x+f*(o.x-i.x),y:r.y+f*(o.y-i.y)}}}function nQ(t,e,n){const s=t.length;let i,r,o,a,l,c=Vc(t,0);for(let u=0;u<s-1;++u)if(l=c,c=Vc(t,u+1),!(!l||!c)){if(yd(e[u],0,eQ)){n[u]=n[u+1]=0;continue}i=n[u]/e[u],r=n[u+1]/e[u],a=Math.pow(i,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=i*o*e[u],n[u+1]=r*o*e[u])}}function sQ(t,e,n="x"){const s=i8(n),i=t.length;let r,o,a,l=Vc(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=Vc(t,c+1),!a)continue;const u=a[n],d=a[s];o&&(r=(u-o[n])/3,a[`cp1${n}`]=u-r,a[`cp1${s}`]=d-r*e[c]),l&&(r=(l[n]-u)/3,a[`cp2${n}`]=u+r,a[`cp2${s}`]=d+r*e[c])}}function iQ(t,e="x"){const n=i8(e),s=t.length,i=Array(s).fill(0),r=Array(s);let o,a,l,c=Vc(t,0);for(o=0;o<s;++o)if(a=l,l=c,c=Vc(t,o+1),!!l){if(c){const u=c[e]-l[e];i[o]=u!==0?(c[n]-l[n])/u:0}r[o]=a?c?Ki(i[o-1])!==Ki(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}nQ(t,i,r),sQ(t,r,e)}function Ch(t,e,n){return Math.max(Math.min(t,n),e)}function rQ(t,e){let n,s,i,r,o,a=Zd(t[0],e);for(n=0,s=t.length;n<s;++n)o=r,r=a,a=n<s-1&&Zd(t[n+1],e),r&&(i=t[n],o&&(i.cp1x=Ch(i.cp1x,e.left,e.right),i.cp1y=Ch(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=Ch(i.cp2x,e.left,e.right),i.cp2y=Ch(i.cp2y,e.top,e.bottom)))}function oQ(t,e,n,s,i){let r,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")iQ(t,i);else{let c=s?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)a=t[r],l=tQ(c,a,t[Math.min(r+1,o-(s?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&rQ(t,n)}function r8(){return typeof window<"u"&&typeof document<"u"}function Sv(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function um(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const Eg=t=>window.getComputedStyle(t,null);function aQ(t,e){return Eg(t).getPropertyValue(e)}const lQ=["top","right","bottom","left"];function Ga(t,e,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const r=lQ[i];s[r]=parseFloat(t[e+"-"+r+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const cQ=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function uQ(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:i,offsetY:r}=s;let o=!1,a,l;if(cQ(i,r,t.target))a=i,l=r;else{const c=e.getBoundingClientRect();a=s.clientX-c.left,l=s.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function fa(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,i=Eg(n),r=i.boxSizing==="border-box",o=Ga(i,"padding"),a=Ga(i,"border","width"),{x:l,y:c,box:u}=uQ(t,n),d=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:h,height:_}=e;return r&&(h-=o.width+a.width,_-=o.height+a.height),{x:Math.round((l-d)/h*n.width/s),y:Math.round((c-f)/_*n.height/s)}}function dQ(t,e,n){let s,i;if(e===void 0||n===void 0){const r=Sv(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const o=r.getBoundingClientRect(),a=Eg(r),l=Ga(a,"border","width"),c=Ga(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,s=um(a.maxWidth,r,"clientWidth"),i=um(a.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:s||am,maxHeight:i||am}}const x_=t=>Math.round(t*10)/10;function fQ(t,e,n,s){const i=Eg(t),r=Ga(i,"margin"),o=um(i.maxWidth,t,"clientWidth")||am,a=um(i.maxHeight,t,"clientHeight")||am,l=dQ(t,e,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const d=Ga(i,"border","width"),f=Ga(i,"padding");c-=f.width+d.width,u-=f.height+d.height}return c=Math.max(0,c-r.width),u=Math.max(0,s?Math.floor(c/s):u-r.height),c=x_(Math.min(c,o,l.maxWidth)),u=x_(Math.min(u,a,l.maxHeight)),c&&!u&&(u=x_(c/2)),{width:c,height:u}}function r3(t,e,n){const s=e||1,i=Math.floor(t.height*s),r=Math.floor(t.width*s);t.height=i/s,t.width=r/s;const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||o.height!==i||o.width!==r?(t.currentDevicePixelRatio=s,o.height=i,o.width=r,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const hQ=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return t}();function o3(t,e){const n=aQ(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function ha(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function pQ(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function mQ(t,e,n,s){const i={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=ha(t,i,n),a=ha(i,r,n),l=ha(r,e,n),c=ha(o,a,n),u=ha(a,l,n);return ha(c,u,n)}const a3=new Map;function gQ(t,e){e=e||{};const n=t+JSON.stringify(e);let s=a3.get(n);return s||(s=new Intl.NumberFormat(t,e),a3.set(n,s)),s}function kf(t,e,n){return gQ(e,n).format(t)}const _Q=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},yQ=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function bc(t,e,n){return t?_Q(e,n):yQ()}function o8(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function a8(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function l8(t){return t==="angle"?{between:Xd,compare:iJ,normalize:ui}:{between:To,compare:(e,n)=>e-n,normalize:e=>e}}function l3({start:t,end:e,count:n,loop:s,style:i}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:i}}function bQ(t,e,n){const{property:s,start:i,end:r}=n,{between:o,normalize:a}=l8(s),l=e.length;let{start:c,end:u,loop:d}=t,f,h;if(d){for(c+=l,u+=l,f=0,h=l;f<h&&o(a(e[c%l][s]),i,r);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function vQ(t,e,n){if(!n)return[t];const{property:s,start:i,end:r}=n,o=e.length,{compare:a,between:l,normalize:c}=l8(s),{start:u,end:d,loop:f,style:h}=bQ(t,e,n),_=[];let p=!1,m=null,y,b,v;const w=()=>l(i,v,y)&&a(i,v)!==0,S=()=>a(r,y)===0||l(r,v,y),x=()=>p||w(),T=()=>!p||S();for(let E=u,M=u;E<=d;++E)b=e[E%o],!b.skip&&(y=c(b[s]),y!==v&&(p=l(y,i,r),m===null&&x()&&(m=a(y,i)===0?E:M),m!==null&&T()&&(_.push(l3({start:m,end:E,loop:f,count:o,style:h})),m=null),M=E,v=y));return m!==null&&_.push(l3({start:m,end:d,loop:f,count:o,style:h})),_}function wQ(t,e){const n=[],s=t.segments;for(let i=0;i<s.length;i++){const r=vQ(s[i],t.points,e);r.length&&n.push(...r)}return n}function xQ(t,e,n,s){let i=0,r=e-1;if(n&&!s)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(r+=i);r>i&&t[r%e].skip;)r--;return r%=e,{start:i,end:r}}function SQ(t,e,n,s){const i=t.length,r=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?a.skip||(s=!1,r.push({start:e%i,end:(l-1)%i,loop:s}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&r.push({start:e%i,end:o%i,loop:s}),r}function EQ(t,e){const n=t.points,s=t.options.spanGaps,i=n.length;if(!i)return[];const r=!!t._loop,{start:o,end:a}=xQ(n,i,r,s);if(s===!0)return c3(t,[{start:o,end:a,loop:r}],n,e);const l=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return c3(t,SQ(n,o,l,c),n,e)}function c3(t,e,n,s){return!s||!s.setContext||!n?e:TQ(t,e,n,s)}function TQ(t,e,n,s){const i=t._chart.getContext(),r=u3(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=r,d=e[0].start,f=d;function h(_,p,m,y){const b=a?-1:1;if(_!==p){for(_+=l;n[_%l].skip;)_-=b;for(;n[p%l].skip;)p+=b;_%l!==p%l&&(c.push({start:_%l,end:p%l,loop:m,style:y}),u=y,d=p%l)}}for(const _ of e){d=a?d:_.start;let p=n[d%l],m;for(f=d+1;f<=_.end;f++){const y=n[f%l];m=u3(s.setContext(qo(i,{type:"segment",p0:p,p1:y,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),MQ(m,u)&&h(d,f-1,_.loop,u),p=y,u=m}d<f-1&&h(d,f-1,_.loop,u)}return c}function u3(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function MQ(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */class AQ{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,i){const r=n.listeners[i],o=n.duration;r.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=G5.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const r=s.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,s,e,"progress")),r.length||(s.running=!1,this._notify(i,s,e,"complete"),s.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var vr=new AQ;const d3="transparent",kQ={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=t3(t||d3),i=s.valid&&t3(e||d3);return i&&i.valid?i.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class RQ{constructor(e,n,s,i){const r=n[s];i=Rh([e.to,i,r,e.from]);const o=Rh([e.from,r,i]);this._active=!0,this._fn=e.fn||kQ[e.type||typeof o],this._easing=bd[e.easing]||bd.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],r=s-this._start,o=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Rh([e.to,n,i,e.from]),this._from=Rh([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<s),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=r;return}l=n/s%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}}const CQ=["x","y","borderWidth","radius","tension"],OQ=["color","borderColor","backgroundColor"];_t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const PQ=Object.keys(_t.animation);_t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"});_t.set("animations",{colors:{type:"color",properties:OQ},numbers:{type:"number",properties:CQ}});_t.describe("animations",{_fallback:"animation"});_t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}});class c8{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Et(e))return;const n=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!Et(i))return;const r={};for(const o of PQ)r[o]=i[o];(Zt(i.properties)&&i.properties||[s]).forEach(o=>{(o===s||!n.has(o))&&n.set(o,r)})})}_animateOptions(e,n){const s=n.options,i=IQ(e,s);if(!i)return[];const r=this._createAnimations(i,s);return s.$shared&&LQ(e.options.$animations,s).then(()=>{e.options=s},()=>{}),r}_createAnimations(e,n){const s=this._properties,i=[],r=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[c];let d=r[c];const f=s.get(c);if(d)if(f&&d.active()){d.update(f,u,a);continue}else d.cancel();if(!f||!f.duration){e[c]=u;continue}r[c]=d=new RQ(f,e,c,u),i.push(d)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return vr.add(this._chart,s),!0}}function LQ(t,e){const n=[],s=Object.keys(e);for(let i=0;i<s.length;i++){const r=t[s[i]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function IQ(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function f3(t,e){const n=t&&t.options||{},s=n.reverse,i=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:s?r:i,end:s?i:r}}function DQ(t,e,n){if(n===!1)return!1;const s=f3(t,n),i=f3(e,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function FQ(t){let e,n,s,i;return Et(t)?(e=t.top,n=t.right,s=t.bottom,i=t.left):e=n=s=i=t,{top:e,right:n,bottom:s,left:i,disabled:t===!1}}function u8(t,e){const n=[],s=t._getSortedDatasetMetas(e);let i,r;for(i=0,r=s.length;i<r;++i)n.push(s[i].index);return n}function h3(t,e,n,s={}){const i=t.keys,r=s.mode==="single";let o,a,l,c;if(e!==null){for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(s.all)continue;break}c=t.values[l],Nn(c)&&(r||e===0||Ki(e)===Ki(c))&&(e+=c)}return e}}function NQ(t){const e=Object.keys(t),n=new Array(e.length);let s,i,r;for(s=0,i=e.length;s<i;++s)r=e[s],n[s]={x:r,y:t[r]};return n}function p3(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function UQ(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function $Q(t){const{min:e,max:n,minDefined:s,maxDefined:i}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function BQ(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function m3(t,e,n,s){for(const i of e.getMatchingVisibleMetas(s).reverse()){const r=t[i.index];if(n&&r>0||!n&&r<0)return i.index}return null}function g3(t,e){const{chart:n,_cachedMeta:s}=t,i=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=s,l=r.axis,c=o.axis,u=UQ(r,o,s),d=e.length;let f;for(let h=0;h<d;++h){const _=e[h],{[l]:p,[c]:m}=_,y=_._stacks||(_._stacks={});f=y[c]=BQ(i,u,p),f[a]=m,f._top=m3(f,o,!0,s.type),f._bottom=m3(f,o,!1,s.type)}}function S_(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function zQ(t,e){return qo(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function GQ(t,e,n){return qo(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Iu(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const i of e){const r=i._stacks;if(!r||r[s]===void 0||r[s][n]===void 0)return;delete r[s][n]}}}const E_=t=>t==="reset"||t==="none",_3=(t,e)=>e?t:Object.assign({},t),HQ=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:u8(n,!0),values:null};class Ci{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=p3(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&Iu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(d,f,h,_)=>d==="x"?f:d==="r"?_:h,r=n.xAxisID=ut(s.xAxisID,S_(e,"x")),o=n.yAxisID=ut(s.yAxisID,S_(e,"y")),a=n.rAxisID=ut(s.rAxisID,S_(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,r,o,a),u=n.vAxisID=i(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&YS(this._data,this),e._stacked&&Iu(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(Et(n))this._data=NQ(n);else if(s!==n){if(s){YS(s,this);const i=this._cachedMeta;Iu(i),i._parsed=[]}n&&Object.isExtensible(n)&&lJ(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const r=n._stacked;n._stacked=p3(n.vScale,n),n.stack!==s.stack&&(i=!0,Iu(n),n.stack=s.stack),this._resyncElements(e),(i||r!==n._stacked)&&g3(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:i}=this,{iScale:r,_stacked:o}=s,a=r.axis;let l=e===0&&n===i.length?!0:s._sorted,c=e>0&&s._parsed[e-1],u,d,f;if(this._parsing===!1)s._parsed=i,s._sorted=!0,f=i;else{Zt(i[e])?f=this.parseArrayData(s,i,e,n):Et(i[e])?f=this.parseObjectData(s,i,e,n):f=this.parsePrimitiveData(s,i,e,n);const h=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<n;++u)s._parsed[u+e]=d=f[u],l&&(h()&&(l=!1),c=d);s._sorted=l}o&&g3(this,f)}parsePrimitiveData(e,n,s,i){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,d=new Array(i);let f,h,_;for(f=0,h=i;f<h;++f)_=f+s,d[f]={[a]:u||r.parse(c[_],_),[l]:o.parse(n[_],_)};return d}parseArrayData(e,n,s,i){const{xScale:r,yScale:o}=e,a=new Array(i);let l,c,u,d;for(l=0,c=i;l<c;++l)u=l+s,d=n[u],a[l]={x:r.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(e,n,s,i){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,d,f,h;for(u=0,d=i;u<d;++u)f=u+s,h=n[f],c[u]={x:r.parse(Bo(h,a),f),y:o.parse(Bo(h,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const i=this.chart,r=this._cachedMeta,o=n[e.axis],a={keys:u8(i,!0),values:n._stacks[e.axis]};return h3(a,o,r.index,{mode:s})}updateRangeFromParsed(e,n,s,i){const r=s[n.axis];let o=r===null?NaN:r;const a=i&&s._stacks[n.axis];i&&a&&(i.values=a,o=h3(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const s=this._cachedMeta,i=s._parsed,r=s._sorted&&e===s.iScale,o=i.length,a=this._getOtherScale(e),l=HQ(n,s,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=$Q(a);let f,h;function _(){h=i[f];const p=h[a.axis];return!Nn(h[e.axis])||u>p||d<p}for(f=0;f<o&&!(!_()&&(this.updateRangeFromParsed(c,e,h,l),r));++f);if(r){for(f=o-1;f>=0;--f)if(!_()){this.updateRangeFromParsed(c,e,h,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let i,r,o;for(i=0,r=n.length;i<r;++i)o=n[i][e.axis],Nn(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,i=n.vScale,r=this.getParsed(e);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=FQ(ut(this.options.clip,DQ(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(e,r,a,l),u=a;u<a+l;++u){const d=i[u];d.hidden||(d.active&&c?o.push(d):d.draw(e,r))}for(u=0;u<o.length;++u)o[u].draw(e,r)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=GQ(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=zQ(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=s,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const i=n==="active",r=this._cachedDataOpts,o=e+"-"+n,a=r[o],l=this.enableOptionSharing&&Zs(s);if(a)return _3(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),h=Object.keys(_t.elements[e]),_=()=>this.getContext(s,i),p=c.resolveNamedOptions(f,h,_,d);return p.$shared&&(p.$shared=l,r[o]=Object.freeze(_3(p,l))),p}_resolveAnimations(e,n,s){const i=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(f,this.getContext(e,s,n))}const c=new c8(i,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||E_(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),i=this._sharedOptions,r=this.getSharedOptions(s),o=this.includeOptions(n,r)||r!==i;return this.updateSharedOptions(r,n,s),{sharedOptions:r,includeOptions:o}}updateElement(e,n,s,i){E_(i)?Object.assign(e,s):this._resolveAnimations(n,i).update(e,s)}updateSharedOptions(e,n,s){e&&!E_(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,i){e.active=i;const r=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=s.length,r=n.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,n,s=!0){const i=this._cachedMeta,r=i.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),s&&this.updateElements(r,e,n,"reset")}updateElements(e,n,s,i){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(e,n);s._stacked&&Iu(s,i)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,i]=e;this[n](s,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ci.defaults={};Ci.prototype.datasetElementType=null;Ci.prototype.dataElementType=null;function VQ(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let i=0,r=n.length;i<r;i++)s=s.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=z5(s.sort((i,r)=>i-r))}return t._cache.$bar}function WQ(t){const e=t.iScale,n=VQ(e,t.type);let s=e._length,i,r,o,a;const l=()=>{o===32767||o===-32768||(Zs(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(i=0,r=n.length;i<r;++i)o=e.getPixelForValue(n[i]),l();for(a=void 0,i=0,r=e.ticks.length;i<r;++i)o=e.getPixelForTick(i),l();return s}function jQ(t,e,n,s){const i=n.barThickness;let r,o;return Pt(i)?(r=e.min*n.categoryPercentage,o=n.barPercentage):(r=i*s,o=1),{chunk:r/s,ratio:o,start:e.pixels[t]-r/2}}function qQ(t,e,n,s){const i=e.pixels,r=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/s,ratio:n.barPercentage,start:c}}function YQ(t,e,n,s){const i=n.parse(t[0],s),r=n.parse(t[1],s),o=Math.min(i,r),a=Math.max(i,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:r,min:o,max:a}}function d8(t,e,n,s){return Zt(t)?YQ(t,e,n,s):e[n.axis]=n.parse(t,s),e}function y3(t,e,n,s){const i=t.iScale,r=t.vScale,o=i.getLabels(),a=i===r,l=[];let c,u,d,f;for(c=n,u=n+s;c<u;++c)f=e[c],d={},d[i.axis]=a||i.parse(o[c],c),l.push(d8(f,d,r,c));return l}function T_(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function KQ(t,e,n){return t!==0?Ki(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function XQ(t){let e,n,s,i,r;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(i="end",r="start"):(i="start",r="end"),{start:n,end:s,reverse:e,top:i,bottom:r}}function ZQ(t,e,n,s){let i=e.borderSkipped;const r={};if(!i){t.borderSkipped=r;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=XQ(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?i=c:(n._bottom||0)===s?i=u:(r[b3(u,o,a,l)]=!0,i=c)),r[b3(i,o,a,l)]=!0,t.borderSkipped=r}function b3(t,e,n,s){return s?(t=JQ(t,e,n),t=v3(t,n,e)):t=v3(t,e,n),t}function JQ(t,e,n){return t===e?n:t===n?e:t}function v3(t,e,n){return t==="start"?e:t==="end"?n:t}function QQ(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Ev extends Ci{parsePrimitiveData(e,n,s,i){return y3(e,n,s,i)}parseArrayData(e,n,s,i){return y3(e,n,s,i)}parseObjectData(e,n,s,i){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,d=[];let f,h,_,p;for(f=s,h=s+i;f<h;++f)p=n[f],_={},_[r.axis]=r.parse(Bo(p,c),f),d.push(d8(Bo(p,u),_,o,f));return d}updateRangeFromParsed(e,n,s,i){super.updateRangeFromParsed(e,n,s,i);const r=s._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:i}=n,r=this.getParsed(e),o=r._custom,a=T_(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+s.getLabelForValue(r[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,i){const r=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,i);for(let h=n;h<n+s;h++){const _=this.getParsed(h),p=r||Pt(_[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(h),m=this._calculateBarIndexPixels(h,u),y=(_._stacks||{})[a.axis],b={horizontal:c,base:p.base,enableBorderRadius:!y||T_(_._custom)||o===y._top||o===y._bottom,x:c?p.head:m.center,y:c?m.center:p.head,height:c?m.size:Math.abs(p.size),width:c?Math.abs(p.size):m.size};f&&(b.options=d||this.resolveDataElementOptions(h,e[h].active?"active":i));const v=b.options||e[h].options;ZQ(b,v,y,o),QQ(b,v,u.ratio),this.updateElement(e[h],h,b,i)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,i=s.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),r=s.options.stacked,o=[],a=l=>{const c=l.controller.getParsed(n),u=c&&c[l.vScale.axis];if(Pt(u)||isNaN(u))return!0};for(const l of i)if(!(n!==void 0&&a(l))&&((r===!1||o.indexOf(l.stack)===-1||r===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,s){const i=this._getStacks(e,s),r=n!==void 0?i.indexOf(n):-1;return r===-1?i.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,i=[];let r,o;for(r=0,o=n.data.length;r<o;++r)i.push(s.getPixelForValue(this.getParsed(r)[s.axis],r));const a=e.barThickness;return{min:a||WQ(n),pixels:i,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s},options:{base:i,minBarLength:r}}=this,o=i||0,a=this.getParsed(e),l=a._custom,c=T_(l);let u=a[n.axis],d=0,f=s?this.applyStack(n,a,s):u,h,_;f!==u&&(d=f-u,f=u),c&&(u=l.barStart,f=l.barEnd-l.barStart,u!==0&&Ki(u)!==Ki(l.barEnd)&&(d=0),d+=u);const p=!Pt(i)&&!c?i:d;let m=n.getPixelForValue(p);if(this.chart.getDataVisibility(e)?h=n.getPixelForValue(d+f):h=m,_=h-m,Math.abs(_)<r){_=KQ(_,n,o)*r,u===o&&(m-=_/2);const y=n.getPixelForDecimal(0),b=n.getPixelForDecimal(1),v=Math.min(y,b),w=Math.max(y,b);m=Math.max(Math.min(m,w),v),h=m+_}if(m===n.getPixelForValue(o)){const y=Ki(_)*n.getLineWidthForValue(o)/2;m+=y,_-=y}return{size:_,base:m,head:h,center:h+_/2}}_calculateBarIndexPixels(e,n){const s=n.scale,i=this.options,r=i.skipNull,o=ut(i.maxBarThickness,1/0);let a,l;if(n.grouped){const c=r?this._getStackCount(e):n.stackCount,u=i.barThickness==="flex"?qQ(e,n,i,c):jQ(e,n,i,c),d=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);a=u.start+u.chunk*d+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=s.getPixelForValue(this.getParsed(e)[s.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,i=s.length;let r=0;for(;r<i;++r)this.getParsed(r)[n.axis]!==null&&s[r].draw(this._ctx)}}Ev.id="bar";Ev.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};Ev.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class Tv extends Ci{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,s,i){const r=super.parsePrimitiveData(e,n,s,i);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+s).radius;return r}parseArrayData(e,n,s,i){const r=super.parseArrayData(e,n,s,i);for(let o=0;o<r.length;o++){const a=n[s+o];r[o]._custom=ut(a[2],this.resolveDataElementOptions(o+s).radius)}return r}parseObjectData(e,n,s,i){const r=super.parseObjectData(e,n,s,i);for(let o=0;o<r.length;o++){const a=n[s+o];r[o]._custom=ut(a&&a.r&&+a.r,this.resolveDataElementOptions(o+s).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let s=e.length-1;s>=0;--s)n=Math.max(n,e[s].size(this.resolveDataElementOptions(s))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,{xScale:s,yScale:i}=n,r=this.getParsed(e),o=s.getLabelForValue(r.x),a=i.getLabelForValue(r.y),l=r._custom;return{label:n.label,value:"("+o+", "+a+(l?", "+l:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,s,i){const r=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,i),u=o.axis,d=a.axis;for(let f=n;f<n+s;f++){const h=e[f],_=!r&&this.getParsed(f),p={},m=p[u]=r?o.getPixelForDecimal(.5):o.getPixelForValue(_[u]),y=p[d]=r?a.getBasePixel():a.getPixelForValue(_[d]);p.skip=isNaN(m)||isNaN(y),c&&(p.options=l||this.resolveDataElementOptions(f,h.active?"active":i),r&&(p.options.radius=0)),this.updateElement(h,f,p,i)}}resolveDataElementOptions(e,n){const s=this.getParsed(e);let i=super.resolveDataElementOptions(e,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return n!=="active"&&(i.radius=0),i.radius+=ut(s&&s._custom,r),i}}Tv.id="bubble";Tv.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};Tv.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function eee(t,e,n){let s=1,i=1,r=0,o=0;if(e<Gt){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),f=Math.sin(l),h=(v,w,S)=>Xd(v,a,l,!0)?1:Math.max(w,w*n,S,S*n),_=(v,w,S)=>Xd(v,a,l,!0)?-1:Math.min(w,w*n,S,S*n),p=h(0,c,d),m=h(fn,u,f),y=_(on,c,d),b=_(on+fn,u,f);s=(p-y)/2,i=(m-b)/2,r=-(p+y)/2,o=-(m+b)/2}return{ratioX:s,ratioY:i,offsetX:r,offsetY:o}}class Rf extends Ci{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=s;else{let r=l=>+s[l];if(Et(s[e])){const{key:l="value"}=this._parsing;r=c=>+Bo(s[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=r(o)}}_getRotation(){return yi(this.options.rotation-90)}_getCircumference(){return yi(this.options.circumference)}_getRotationExtents(){let e=Gt,n=-Gt;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)){const i=this.chart.getDatasetMeta(s).controller,r=i._getRotation(),o=i._getCircumference();e=Math.min(e,r),n=Math.max(n,r+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,i=this._cachedMeta,r=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-o)/2,0),l=Math.min(YZ(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:h,offsetX:_,offsetY:p}=eee(d,u,l),m=(s.width-o)/f,y=(s.height-o)/h,b=Math.max(Math.min(m,y)/2,0),v=F5(this.options.radius,b),w=Math.max(v*l,0),S=(v-w)/this._getVisibleDatasetWeightTotal();this.offsetX=_*v,this.offsetY=p*v,i.total=this.calculateTotal(),this.outerRadius=v-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*c,0),this.updateElements(r,0,r.length,e)}_circumference(e,n){const s=this.options,i=this._cachedMeta,r=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/Gt)}updateElements(e,n,s,i){const r=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,f=r&&c.animateScale,h=f?0:this.innerRadius,_=f?0:this.outerRadius,{sharedOptions:p,includeOptions:m}=this._getSharedOptions(n,i);let y=this._getRotation(),b;for(b=0;b<n;++b)y+=this._circumference(b,r);for(b=n;b<n+s;++b){const v=this._circumference(b,r),w=e[b],S={x:u+this.offsetX,y:d+this.offsetY,startAngle:y,endAngle:y+v,circumference:v,outerRadius:_,innerRadius:h};m&&(S.options=p||this.resolveDataElementOptions(b,w.active?"active":i)),y+=v,this.updateElement(w,b,S,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,i;for(i=0;i<n.length;i++){const r=e._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(s+=Math.abs(r))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Gt*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=kf(n._parsed[e],s.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let n=0;const s=this.chart;let i,r,o,a,l;if(!e){for(i=0,r=s.data.datasets.length;i<r;++i)if(s.isDatasetVisible(i)){o=s.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,r=e.length;i<r;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,i=e.length;s<i;++s){const r=this.resolveDataElementOptions(s);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(ut(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Rf.id="doughnut";Rf.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};Rf.descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"};Rf.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map((s,i)=>{const o=t.getDatasetMeta(0).controller.getStyle(i);return{text:s,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(i),index:i}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(t){let e=t.label;const n=": "+t.formattedValue;return Zt(e)?(e=e.slice(),e[0]+=n):e+=n,e}}}}};class Tg extends Ci{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:i=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=V5(n,i,o);this._drawStart=a,this._drawCount=l,W5(n)&&(a=0,l=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,n,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,i),f=o.axis,h=a.axis,{spanGaps:_,segment:p}=this.options,m=Gc(_)?_:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||i==="none";let b=n>0&&this.getParsed(n-1);for(let v=n;v<n+s;++v){const w=e[v],S=this.getParsed(v),x=y?w:{},T=Pt(S[h]),E=x[f]=o.getPixelForValue(S[f],v),M=x[h]=r||T?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,S,l):S[h],v);x.skip=isNaN(E)||isNaN(M)||T,x.stop=v>0&&Math.abs(S[f]-b[f])>m,p&&(x.parsed=S,x.raw=c.data[v]),d&&(x.options=u||this.resolveDataElementOptions(v,w.active?"active":i)),y||this.updateElement(w,v,x,i),b=S}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return s;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Tg.id="line";Tg.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};Tg.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class Mv extends Ci{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=kf(n._parsed[e].r,s.options.locale);return{label:i[e]||"",value:r}}parseObjectData(e,n,s,i){return s8.bind(this)(e,n,s,i)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((s,i)=>{const r=this.getParsed(i).r;!isNaN(r)&&this.chart.getDataVisibility(i)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,s=e.options,i=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(i/2,0),o=Math.max(s.cutoutPercentage?r/100*s.cutoutPercentage:1,0),a=(r-o)/e.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,s,i){const r=i==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,d=c.yCenter,f=c.getIndexAngle(0)-.5*on;let h=f,_;const p=360/this.countVisibleElements();for(_=0;_<n;++_)h+=this._computeAngle(_,i,p);for(_=n;_<n+s;_++){const m=e[_];let y=h,b=h+this._computeAngle(_,i,p),v=o.getDataVisibility(_)?c.getDistanceFromCenterForValue(this.getParsed(_).r):0;h=b,r&&(l.animateScale&&(v=0),l.animateRotate&&(y=b=f));const w={x:u,y:d,innerRadius:0,outerRadius:v,startAngle:y,endAngle:b,options:this.resolveDataElementOptions(_,m.active?"active":i)};this.updateElement(m,_,w,i)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((s,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(e,n,s){return this.chart.getDataVisibility(e)?yi(this.resolveDataElementOptions(e,n).angle||s):0}}Mv.id="polarArea";Mv.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};Mv.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map((s,i)=>{const o=t.getDatasetMeta(0).controller.getStyle(i);return{text:s,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(i),index:i}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(t){return t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class f8 extends Rf{}f8.id="pie";f8.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class Av extends Ci{getLabelAndValue(e){const n=this._cachedMeta.vScale,s=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(s[n.axis])}}parseObjectData(e,n,s,i){return s8.bind(this)(e,n,s,i)}update(e){const n=this._cachedMeta,s=n.dataset,i=n.data||[],r=n.iScale.getLabels();if(s.points=i,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===i.length,options:o};this.updateElement(s,void 0,a,e)}this.updateElements(i,0,i.length,e)}updateElements(e,n,s,i){const r=this._cachedMeta.rScale,o=i==="reset";for(let a=n;a<n+s;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":i),u=r.getPointPositionForValue(a,this.getParsed(a).r),d=o?r.xCenter:u.x,f=o?r.yCenter:u.y,h={x:d,y:f,angle:u.angle,skip:isNaN(d)||isNaN(f),options:c};this.updateElement(l,a,h,i)}}}Av.id="radar";Av.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};Av.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};let Oi=class{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return Gc(this.x)&&Gc(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const i={};return e.forEach(r=>{i[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),i}};Oi.defaults={};Oi.defaultRoutes=void 0;const h8={values(t){return Zt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let i,r=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),r=tee(t,n)}const o=Hs(Math.abs(r)),a=Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),kf(t,s,l)},logarithmic(t,e,n){if(t===0)return"0";const s=t/Math.pow(10,Math.floor(Hs(t)));return s===1||s===2||s===5?h8.numeric.call(this,t,e,n):""}};function tee(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Mg={formatters:h8};_t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Mg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});_t.route("scale.ticks","color","","color");_t.route("scale.grid","color","","borderColor");_t.route("scale.grid","borderColor","","borderColor");_t.route("scale.title","color","","color");_t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"});_t.describe("scales",{_fallback:"scale"});_t.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"});function nee(t,e){const n=t.options.ticks,s=n.maxTicksLimit||see(t),i=n.major.enabled?ree(e):[],r=i.length,o=i[0],a=i[r-1],l=[];if(r>s)return oee(e,l,i,r/s),l;const c=iee(i,e,s);if(r>0){let u,d;const f=r>1?Math.round((a-o)/(r-1)):null;for(Oh(e,l,c,Pt(f)?0:o-f,o),u=0,d=r-1;u<d;u++)Oh(e,l,c,i[u],i[u+1]);return Oh(e,l,c,a,Pt(f)?e.length:a+f),l}return Oh(e,l,c),l}function see(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(s,i))}function iee(t,e,n){const s=aee(t),i=e.length/n;if(!s)return Math.max(i,1);const r=nJ(s);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>i)return l}return Math.max(i,1)}function ree(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function oee(t,e,n,s){let i=0,r=n[0],o;for(s=Math.ceil(s),o=0;o<t.length;o++)o===r&&(e.push(t[o]),i++,r=n[i*s])}function Oh(t,e,n,s,i){const r=ut(s,0),o=Math.min(ut(i,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-s,n=l/Math.floor(l/n)),u=r;u<0;)a++,u=Math.round(r+a*n);for(c=Math.max(r,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(r+a*n))}function aee(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const lee=t=>t==="left"?"right":t==="right"?"left":t,w3=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n;function x3(t,e){const n=[],s=t.length/e,i=t.length;let r=0;for(;r<i;r+=s)n.push(t[Math.floor(r)]);return n}function cee(t,e,n){const s=t.ticks.length,i=Math.min(e,s-1),r=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(s===1?c=Math.max(l-r,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<r-a||l>o+a)))return l}function uee(t,e){Nt(t,n=>{const s=n.gc,i=s.length/2;let r;if(i>e){for(r=0;r<i;++r)delete n.data[s[r]];s.splice(0,i)}})}function Du(t){return t.drawTicks?t.tickLength:0}function S3(t,e){if(!t.display)return 0;const n=Mn(t.font,e),s=Kn(t.padding);return(Zt(t.text)?t.text.length:1)*n.lineHeight+s.height}function dee(t,e){return qo(t,{scale:e,type:"scale"})}function fee(t,e,n){return qo(t,{tick:n,index:e,type:"tick"})}function hee(t,e,n){let s=hv(t);return(n&&e!=="right"||!n&&e==="right")&&(s=lee(s)),s}function pee(t,e,n,s){const{top:i,left:r,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,f,h,_;const p=o-i,m=a-r;if(t.isHorizontal()){if(h=Bn(s,r,a),Et(n)){const y=Object.keys(n)[0],b=n[y];_=u[y].getPixelForValue(b)+p-e}else n==="center"?_=(c.bottom+c.top)/2+p-e:_=w3(t,n,e);f=a-r}else{if(Et(n)){const y=Object.keys(n)[0],b=n[y];h=u[y].getPixelForValue(b)-m+e}else n==="center"?h=(c.left+c.right)/2-m+e:h=w3(t,n,e);_=Bn(s,o,i),d=n==="left"?-fn:fn}return{titleX:h,titleY:_,maxWidth:f,rotation:d}}class ul extends Oi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return e=$s(e,Number.POSITIVE_INFINITY),n=$s(n,Number.NEGATIVE_INFINITY),s=$s(s,Number.POSITIVE_INFINITY),i=$s(i,Number.NEGATIVE_INFINITY),{min:$s(e,s),max:$s(n,i),minDefined:Nn(e),maxDefined:Nn(n)}}getMinMax(e){let{min:n,max:s,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),r||(s=Math.max(s,o.max));return n=r&&n>s?s:n,s=i&&n>s?n:s,{min:$s(n,$s(s,n)),max:$s(s,$s(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Vt(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=VJ(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?x3(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=nee(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Vt(this.options.afterUpdate,[this])}beforeSetDimensions(){Vt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Vt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Vt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Vt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,i,r;for(s=0,i=e.length;s<i;s++)r=e[s],r.label=Vt(n.callback,[r.value,s,e],this)}afterTickToLabelConversion(){Vt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Vt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=this.ticks.length,i=n.minRotation||0,r=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=r||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,h=Wn(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/s:h/(s-1),d+6>a&&(a=h/(s-(e.offset?.5:1)),l=this.maxHeight-Du(e.grid)-n.padding-S3(e.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),o=dv(Math.min(Math.asin(Wn((u.highest.height+6)/a,-1,1)),Math.asin(Wn(l/c,-1,1))-Math.asin(Wn(f/c,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){Vt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Vt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=S3(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=Du(r)+l):(e.height=this.maxHeight,e.width=Du(r)+l),s.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:f}=this._getLabelSizes(),h=s.padding*2,_=yi(this.labelRotation),p=Math.cos(_),m=Math.sin(_);if(a){const y=s.mirror?0:m*d.width+p*f.height;e.height=Math.min(this.maxHeight,e.height+y+h)}else{const y=s.mirror?0:p*d.width+m*f.height;e.width=Math.min(this.maxWidth,e.width+y+h)}this._calculatePadding(c,u,m,p)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,i){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,h=0;l?c?(f=i*e.width,h=s*n.height):(f=s*e.height,h=i*n.width):r==="start"?h=n.width:r==="end"?f=e.width:r!=="inner"&&(f=e.width/2,h=n.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((h-d+o)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;r==="start"?(u=0,d=e.height):r==="end"&&(u=n.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Vt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)Pt(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=x3(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length)}return e}_computeLabelSizes(e,n){const{ctx:s,_longestTextCache:i}=this,r=[],o=[];let a=0,l=0,c,u,d,f,h,_,p,m,y,b,v;for(c=0;c<n;++c){if(f=e[c].label,h=this._resolveTickFontOptions(c),s.font=_=h.string,p=i[_]=i[_]||{data:{},gc:[]},m=h.lineHeight,y=b=0,!Pt(f)&&!Zt(f))y=cm(s,p.data,p.gc,y,f),b=m;else if(Zt(f))for(u=0,d=f.length;u<d;++u)v=f[u],!Pt(v)&&!Zt(v)&&(y=cm(s,p.data,p.gc,y,v),b+=m);r.push(y),o.push(b),a=Math.max(y,a),l=Math.max(b,l)}uee(i,n);const w=r.indexOf(a),S=o.indexOf(l),x=T=>({width:r[T]||0,height:o[T]||0});return{first:x(0),last:x(n-1),widest:x(w),highest:x(S),widths:r,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return rJ(this._alignToPixels?ia(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=fee(this.getContext(),e,s))}return this.$context||(this.$context=dee(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=yi(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*s>a*i?a/s:l/i:l*i<a*s?l/s:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,i=this.options,{grid:r,position:o}=i,a=r.offset,l=this.isHorizontal(),u=this.ticks.length+(a?1:0),d=Du(r),f=[],h=r.setContext(this.getContext()),_=h.drawBorder?h.borderWidth:0,p=_/2,m=function(D){return ia(s,D,_)};let y,b,v,w,S,x,T,E,M,C,A,R;if(o==="top")y=m(this.bottom),x=this.bottom-d,E=y-p,C=m(e.top)+p,R=e.bottom;else if(o==="bottom")y=m(this.top),C=e.top,R=m(e.bottom)-p,x=y+p,E=this.top+d;else if(o==="left")y=m(this.right),S=this.right-d,T=y-p,M=m(e.left)+p,A=e.right;else if(o==="right")y=m(this.left),M=e.left,A=m(e.right)-p,S=y+p,T=this.left+d;else if(n==="x"){if(o==="center")y=m((e.top+e.bottom)/2+.5);else if(Et(o)){const D=Object.keys(o)[0],I=o[D];y=m(this.chart.scales[D].getPixelForValue(I))}C=e.top,R=e.bottom,x=y+p,E=x+d}else if(n==="y"){if(o==="center")y=m((e.left+e.right)/2);else if(Et(o)){const D=Object.keys(o)[0],I=o[D];y=m(this.chart.scales[D].getPixelForValue(I))}S=y-p,T=S-d,M=e.left,A=e.right}const $=ut(i.ticks.maxTicksLimit,u),F=Math.max(1,Math.ceil(u/$));for(b=0;b<u;b+=F){const D=r.setContext(this.getContext(b)),I=D.lineWidth,B=D.color,W=D.borderDash||[],Y=D.borderDashOffset,j=D.tickWidth,pe=D.tickColor,O=D.tickBorderDash||[],G=D.tickBorderDashOffset;v=cee(this,b,a),v!==void 0&&(w=ia(s,v,I),l?S=T=M=A=w:x=E=C=R=w,f.push({tx1:S,ty1:x,tx2:T,ty2:E,x1:M,y1:C,x2:A,y2:R,width:I,color:B,borderDash:W,borderDashOffset:Y,tickWidth:j,tickColor:pe,tickBorderDash:O,tickBorderDashOffset:G}))}return this._ticksLength=u,this._borderValue=y,f}_computeLabelItems(e){const n=this.axis,s=this.options,{position:i,ticks:r}=s,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=r,f=Du(s.grid),h=f+u,_=d?-u:h,p=-yi(this.labelRotation),m=[];let y,b,v,w,S,x,T,E,M,C,A,R,$="middle";if(i==="top")x=this.bottom-_,T=this._getXAxisLabelAlignment();else if(i==="bottom")x=this.top+_,T=this._getXAxisLabelAlignment();else if(i==="left"){const D=this._getYAxisLabelAlignment(f);T=D.textAlign,S=D.x}else if(i==="right"){const D=this._getYAxisLabelAlignment(f);T=D.textAlign,S=D.x}else if(n==="x"){if(i==="center")x=(e.top+e.bottom)/2+h;else if(Et(i)){const D=Object.keys(i)[0],I=i[D];x=this.chart.scales[D].getPixelForValue(I)+h}T=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")S=(e.left+e.right)/2-h;else if(Et(i)){const D=Object.keys(i)[0],I=i[D];S=this.chart.scales[D].getPixelForValue(I)}T=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?$="top":l==="end"&&($="bottom"));const F=this._getLabelSizes();for(y=0,b=a.length;y<b;++y){v=a[y],w=v.label;const D=r.setContext(this.getContext(y));E=this.getPixelForTick(y)+r.labelOffset,M=this._resolveTickFontOptions(y),C=M.lineHeight,A=Zt(w)?w.length:1;const I=A/2,B=D.color,W=D.textStrokeColor,Y=D.textStrokeWidth;let j=T;o?(S=E,T==="inner"&&(y===b-1?j=this.options.reverse?"left":"right":y===0?j=this.options.reverse?"right":"left":j="center"),i==="top"?c==="near"||p!==0?R=-A*C+C/2:c==="center"?R=-F.highest.height/2-I*C+C:R=-F.highest.height+C/2:c==="near"||p!==0?R=C/2:c==="center"?R=F.highest.height/2-I*C:R=F.highest.height-A*C,d&&(R*=-1)):(x=E,R=(1-A)*C/2);let pe;if(D.showLabelBackdrop){const O=Kn(D.backdropPadding),G=F.heights[y],te=F.widths[y];let H=x+R-O.top,z=S-O.left;switch($){case"middle":H-=G/2;break;case"bottom":H-=G;break}switch(T){case"center":z-=te/2;break;case"right":z-=te;break}pe={left:z,top:H,width:te+O.width,height:G+O.height,color:D.backdropColor}}m.push({rotation:p,label:w,font:M,color:B,strokeColor:W,strokeWidth:Y,textOffset:R,textAlign:j,textBaseline:$,translation:[S,x],backdrop:pe})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-yi(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let c,u;return n==="left"?i?(u=this.right+r,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+r,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:i,width:r,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,i,r,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(r=>r.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(c.x,c.y),s.stroke(),s.restore())};if(n.display)for(r=0,o=i.length;r<o;++r){const l=i[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{grid:s}}=this,i=s.setContext(this.getContext()),r=s.drawBorder?i.borderWidth:0;if(!r)return;const o=s.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,u,d;this.isHorizontal()?(l=ia(e,this.left,r)-r/2,c=ia(e,this.right,o)+o/2,u=d=a):(u=ia(e,this.top,r)-r/2,d=ia(e,this.bottom,o)+o/2,l=c=a),n.save(),n.lineWidth=i.borderWidth,n.strokeStyle=i.borderColor,n.beginPath(),n.moveTo(l,u),n.lineTo(c,d),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&_v(s,i);const r=this._labelItems||(this._labelItems=this._computeLabelItems(e));let o,a;for(o=0,a=r.length;o<a;++o){const l=r[o],c=l.font,u=l.label;l.backdrop&&(s.fillStyle=l.backdrop.color,s.fillRect(l.backdrop.left,l.backdrop.top,l.backdrop.width,l.backdrop.height));let d=l.textOffset;Qa(s,u,0,d,c,l)}i&&yv(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const r=Mn(s.font),o=Kn(s.padding),a=s.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||Et(n)?(l+=o.bottom,Zt(s.text)&&(l+=r.lineHeight*(s.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:f}=pee(this,l,n,a);Qa(e,s.text,0,0,r,{color:s.color,maxWidth:d,rotation:f,textAlign:hee(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=ut(e.grid&&e.grid.z,-1);return!this._isVisible()||this.draw!==ul.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s+1,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[s]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Mn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ph{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;_ee(n)&&(s=this.register(n));const i=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,mee(e,o,s),this.override&&_t.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,i=this.scope;s in n&&delete n[s],i&&s in _t[i]&&(delete _t[i][s],this.override&&delete Ja[s])}}function mee(t,e,n){const s=Kd(Object.create(null),[n?_t.get(n):{},_t.get(e),t.defaults]);_t.set(e,s),t.defaultRoutes&&gee(e,t.defaultRoutes),t.descriptors&&_t.describe(e,t.descriptors)}function gee(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),i=s.pop(),r=[t].concat(s).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");_t.route(r,i,l,a)})}function _ee(t){return"id"in t&&"defaults"in t}class yee{constructor(){this.controllers=new Ph(Ci,"datasets",!0),this.elements=new Ph(Oi,"elements"),this.plugins=new Ph(Object,"plugins"),this.scales=new Ph(ul,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(i=>{const r=s||this._getRegistryForType(i);s||r.isForType(i)||r===this.plugins&&i.id?this._exec(e,r,i):Nt(i,o=>{const a=s||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,s){const i=uv(e);Vt(s["before"+i],[],s),n[e](s),Vt(s["after"+i],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return i}}var Wi=new yee;class Ag extends Ci{update(e){const n=this._cachedMeta,{data:s=[]}=n,i=this.chart._animationsDisabled;let{start:r,count:o}=V5(n,s,i);if(this._drawStart=r,this._drawCount=o,W5(n)&&(r=0,o=s.length),this.options.showLine){const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=s;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},e)}this.updateElements(s,r,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=Wi.getElement("line")),super.addElements()}updateElements(e,n,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,i),d=this.getSharedOptions(u),f=this.includeOptions(i,d),h=o.axis,_=a.axis,{spanGaps:p,segment:m}=this.options,y=Gc(p)?p:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||r||i==="none";let v=n>0&&this.getParsed(n-1);for(let w=n;w<n+s;++w){const S=e[w],x=this.getParsed(w),T=b?S:{},E=Pt(x[_]),M=T[h]=o.getPixelForValue(x[h],w),C=T[_]=r||E?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,x,l):x[_],w);T.skip=isNaN(M)||isNaN(C)||E,T.stop=w>0&&Math.abs(x[h]-v[h])>y,m&&(T.parsed=x,T.raw=c.data[w]),f&&(T.options=d||this.resolveDataElementOptions(w,S.active?"active":i)),b||this.updateElement(S,w,T,i),v=x}this.updateSharedOptions(d,i,u)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const s=e.dataset,i=s.options&&s.options.borderWidth||0;if(!n.length)return i;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,r,o)/2}}Ag.id="scatter";Ag.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};Ag.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(t){return"("+t.label+", "+t.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};function ra(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Q1{constructor(e){this.options=e||{}}init(e){}formats(){return ra()}parse(e,n){return ra()}format(e,n){return ra()}add(e,n,s){return ra()}diff(e,n,s){return ra()}startOf(e,n,s){return ra()}endOf(e,n){return ra()}}Q1.override=function(t){Object.assign(Q1.prototype,t)};var p8={_date:Q1};function bee(t,e,n,s){const{controller:i,data:r,_sorted:o}=t,a=i._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const l=a._reversePixels?oJ:ka;if(s){if(i._sharedOptions){const c=r[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const d=l(r,e,n-u),f=l(r,e,n+u);return{lo:d.lo,hi:f.hi}}}}else return l(r,e,n)}return{lo:0,hi:r.length-1}}function Cf(t,e,n,s,i){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:d,hi:f}=bee(r[a],e,o,i);for(let h=d;h<=f;++h){const _=u[h];_.skip||s(_,c,h)}}}function vee(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,i){const r=e?Math.abs(s.x-i.x):0,o=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function M_(t,e,n,s,i){const r=[];return!i&&!t.isPointInArea(e)||Cf(t,n,e,function(a,l,c){!i&&!Zd(a,t.chartArea,0)||a.inRange(e.x,e.y,s)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function wee(t,e,n,s){let i=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:d}=$5(o,{x:e.x,y:e.y});Xd(d,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return Cf(t,n,e,r),i}function xee(t,e,n,s,i,r){let o=[];const a=vee(n);let l=Number.POSITIVE_INFINITY;function c(u,d,f){const h=u.inRange(e.x,e.y,i);if(s&&!h)return;const _=u.getCenterPoint(i);if(!(!!r||t.isPointInArea(_))&&!h)return;const m=a(e,_);m<l?(o=[{element:u,datasetIndex:d,index:f}],l=m):m===l&&o.push({element:u,datasetIndex:d,index:f})}return Cf(t,n,e,c),o}function A_(t,e,n,s,i,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!s?wee(t,e,n,i):xee(t,e,n,s,i,r)}function E3(t,e,n,s,i){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Cf(t,n,e,(l,c,u)=>{l[o](e[n],i)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),s&&!a?[]:r}var See={evaluateInteractionItems:Cf,modes:{index(t,e,n,s){const i=fa(e,t),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?M_(t,i,r,s,o):A_(t,i,r,!1,s,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,s){const i=fa(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?M_(t,i,r,s,o):A_(t,i,r,!1,s,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,s){const i=fa(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return M_(t,i,r,s,o)},nearest(t,e,n,s){const i=fa(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return A_(t,i,r,n.intersect,s,o)},x(t,e,n,s){const i=fa(e,t);return E3(t,i,"x",n.intersect,s)},y(t,e,n,s){const i=fa(e,t);return E3(t,i,"y",n.intersect,s)}}};const m8=["left","top","right","bottom"];function Fu(t,e){return t.filter(n=>n.pos===e)}function T3(t,e){return t.filter(n=>m8.indexOf(n.pos)===-1&&n.box.axis===e)}function Nu(t,e){return t.sort((n,s)=>{const i=e?s:n,r=e?n:s;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function Eee(t){const e=[];let n,s,i,r,o,a;for(n=0,s=(t||[]).length;n<s;++n)i=t[n],{position:r,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return e}function Tee(t){const e={};for(const n of t){const{stack:s,pos:i,stackWeight:r}=n;if(!s||!m8.includes(i))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function Mee(t,e){const n=Tee(t),{vBoxMaxWidth:s,hBoxMaxHeight:i}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*s:l&&e.availableWidth,a.height=i):(a.width=s,a.height=u?u*i:l&&e.availableHeight)}return n}function Aee(t){const e=Eee(t),n=Nu(e.filter(c=>c.box.fullSize),!0),s=Nu(Fu(e,"left"),!0),i=Nu(Fu(e,"right")),r=Nu(Fu(e,"top"),!0),o=Nu(Fu(e,"bottom")),a=T3(e,"x"),l=T3(e,"y");return{fullSize:n,leftAndTop:s.concat(r),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:Fu(e,"chartArea"),vertical:s.concat(i).concat(l),horizontal:r.concat(o).concat(a)}}function M3(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function g8(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function kee(t,e,n,s){const{pos:i,box:r}=n,o=t.maxPadding;if(!Et(i)){n.size&&(t[i]-=n.size);const d=s[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?r.height:r.width),n.size=d.size/d.count,t[i]+=n.size}r.getPadding&&g8(o,r.getPadding());const a=Math.max(0,e.outerWidth-M3(o,t,"left","right")),l=Math.max(0,e.outerHeight-M3(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function Ree(t){const e=t.maxPadding;function n(s){const i=Math.max(e[s]-t[s],0);return t[s]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Cee(t,e){const n=e.maxPadding;function s(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(e[o],n[o])}),r}return s(t?["left","right"]:["top","bottom"])}function td(t,e,n,s){const i=[];let r,o,a,l,c,u;for(r=0,o=t.length,c=0;r<o;++r){a=t[r],l=a.box,l.update(a.width||e.w,a.height||e.h,Cee(a.horizontal,e));const{same:d,other:f}=kee(e,n,a,s);c|=d&&i.length,u=u||f,l.fullSize||i.push(a)}return c&&td(i,e,n,s)||u}function Lh(t,e,n,s,i){t.top=n,t.left=e,t.right=e+s,t.bottom=n+i,t.width=s,t.height=i}function A3(t,e,n,s){const i=n.padding;let{x:r,y:o}=e;for(const a of t){const l=a.box,c=s[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,f=c.size||l.height;Zs(c.start)&&(o=c.start),l.fullSize?Lh(l,i.left,o,n.outerWidth-i.right-i.left,f):Lh(l,e.left+c.placed,o,d,f),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,f=c.size||l.width;Zs(c.start)&&(r=c.start),l.fullSize?Lh(l,r,i.top,f,n.outerHeight-i.bottom-i.top):Lh(l,r,e.top+c.placed,f,d),c.start=r,c.placed+=d,r=l.right}}e.x=r,e.y=o}_t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var qs={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const i=Kn(t.options.layout.padding),r=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=Aee(t.boxes),l=a.vertical,c=a.horizontal;Nt(t.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const u=l.reduce((p,m)=>m.box.options&&m.box.options.display===!1?p:p+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},i);g8(f,Kn(s));const h=Object.assign({maxPadding:f,w:r,h:o,x:i.left,y:i.top},i),_=Mee(l.concat(c),d);td(a.fullSize,h,d,_),td(l,h,d,_),td(c,h,d,_)&&td(l,h,d,_),Ree(h),A3(a.leftAndTop,h,d,_),h.x+=h.w,h.y+=h.h,A3(a.rightAndBottom,h,d,_),t.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},Nt(a.chartArea,p=>{const m=p.box;Object.assign(m,t.chartArea),m.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class _8{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,i){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(e){return!0}updateConfig(e){}}class Oee extends _8{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Tp="$chartjs",Pee={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},k3=t=>t===null||t==="";function Lee(t,e){const n=t.style,s=t.getAttribute("height"),i=t.getAttribute("width");if(t[Tp]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",k3(i)){const r=o3(t,"width");r!==void 0&&(t.width=r)}if(k3(s))if(t.style.height==="")t.height=t.width/(e||2);else{const r=o3(t,"height");r!==void 0&&(t.height=r)}return t}const y8=hQ?{passive:!0}:!1;function Iee(t,e,n){t.addEventListener(e,n,y8)}function Dee(t,e,n){t.canvas.removeEventListener(e,n,y8)}function Fee(t,e){const n=Pee[t.type]||t.type,{x:s,y:i}=fa(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:i!==void 0?i:null}}function dm(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Nee(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||dm(a.addedNodes,s),o=o&&!dm(a.removedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function Uee(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||dm(a.removedNodes,s),o=o&&!dm(a.addedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Qd=new Map;let R3=0;function b8(){const t=window.devicePixelRatio;t!==R3&&(R3=t,Qd.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function $ee(t,e){Qd.size||window.addEventListener("resize",b8),Qd.set(t,e)}function Bee(t){Qd.delete(t),Qd.size||window.removeEventListener("resize",b8)}function zee(t,e,n){const s=t.canvas,i=s&&Sv(s);if(!i)return;const r=H5((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(i),$ee(t,r),o}function k_(t,e,n){n&&n.disconnect(),e==="resize"&&Bee(t)}function Gee(t,e,n){const s=t.canvas,i=H5(r=>{t.ctx!==null&&n(Fee(r,t))},t,r=>{const o=r[0];return[o,o.offsetX,o.offsetY]});return Iee(s,e,i),i}class Hee extends _8{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(Lee(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[Tp])return!1;const s=n[Tp].initial;["height","width"].forEach(r=>{const o=s[r];Pt(o)?n.removeAttribute(r):n.setAttribute(r,o)});const i=s.style||{};return Object.keys(i).forEach(r=>{n.style[r]=i[r]}),n.width=n.width,delete n[Tp],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:Nee,detach:Uee,resize:zee}[n]||Gee;i[n]=o(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),i=s[n];if(!i)return;({attach:k_,detach:k_,resize:k_}[n]||Dee)(e,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,i){return fQ(e,n,s,i)}isAttached(e){const n=Sv(e);return!!(n&&n.isConnected)}}function Vee(t){return!r8()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Oee:Hee}class Wee{constructor(){this._init=[]}notify(e,n,s,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(r,e,n,s);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,s,i){i=i||{};for(const r of e){const o=r.plugin,a=o[s],l=[n,i,r.options];if(Vt(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Pt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,i=ut(s.options&&s.options.plugins,{}),r=jee(s);return i===!1&&!n?[]:Yee(e,r,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,i=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,s),e,"stop"),this._notify(i(s,n),e,"start")}}function jee(t){const e={},n=[],s=Object.keys(Wi.plugins.items);for(let r=0;r<s.length;r++)n.push(Wi.getPlugin(s[r]));const i=t.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function qee(t,e){return!e&&t===!1?null:t===!0?{}:t}function Yee(t,{plugins:e,localIds:n},s,i){const r=[],o=t.getContext();for(const a of e){const l=a.id,c=qee(s[l],i);c!==null&&r.push({plugin:a,options:Kee(t.config,{plugin:a,local:n[l]},c,o)})}return r}function Kee(t,{plugin:e,local:n},s,i){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(s,r);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ey(t,e){const n=_t.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Xee(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Zee(t,e){return t===e?"_index_":"_value_"}function Jee(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function ty(t,e){return t==="x"||t==="y"?t:e.axis||Jee(e.position)||t.charAt(0).toLowerCase()}function Qee(t,e){const n=Ja[t.type]||{scales:{}},s=e.scales||{},i=ey(t.type,e),r=Object.create(null),o=Object.create(null);return Object.keys(s).forEach(a=>{const l=s[a];if(!Et(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=ty(a,l),u=Zee(c,i),d=n.scales||{};r[c]=r[c]||a,o[a]=_d(Object.create(null),[{axis:c},l,d[c],d[u]])}),t.data.datasets.forEach(a=>{const l=a.type||t.type,c=a.indexAxis||ey(l,e),d=(Ja[l]||{}).scales||{};Object.keys(d).forEach(f=>{const h=Xee(f,c),_=a[h+"AxisID"]||r[h]||h;o[_]=o[_]||Object.create(null),_d(o[_],[{axis:h},s[_],d[f]])})}),Object.keys(o).forEach(a=>{const l=o[a];_d(l,[_t.scales[l.type],_t.scale])}),o}function v8(t){const e=t.options||(t.options={});e.plugins=ut(e.plugins,{}),e.scales=Qee(t,e)}function w8(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function ete(t){return t=t||{},t.data=w8(t.data),v8(t),t}const C3=new Map,x8=new Set;function Ih(t,e){let n=C3.get(t);return n||(n=e(),C3.set(t,n),x8.add(n)),n}const Uu=(t,e,n)=>{const s=Bo(e,n);s!==void 0&&t.add(s)};let tte=class{constructor(e){this._config=ete(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=w8(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),v8(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Ih(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Ih(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Ih(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return Ih(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let i=s.get(e);return(!i||n)&&(i=new Map,s.set(e,i)),i}getOptionScopes(e,n,s){const{options:i,type:r}=this,o=this._cachedScopes(e,s),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>Uu(l,e,d))),u.forEach(d=>Uu(l,i,d)),u.forEach(d=>Uu(l,Ja[r]||{},d)),u.forEach(d=>Uu(l,_t,d)),u.forEach(d=>Uu(l,Z1,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),x8.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Ja[n]||{},_t.datasets[n]||{},{type:n},_t,Z1]}resolveNamedOptions(e,n,s,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=O3(this._resolverCache,e,i);let l=o;if(ste(o,n)){r.$shared=!1,s=zo(s)?s():s;const c=this.createResolver(e,s,a);l=Hc(o,s,c)}for(const c of n)r[c]=l[c];return r}createResolver(e,n,s=[""],i){const{resolver:r}=O3(this._resolverCache,e,s);return Et(n)?Hc(r,n,void 0,i):r}};function O3(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const i=n.join();let r=s.get(i);return r||(r={resolver:vv(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,r)),r}const nte=t=>Et(t)&&Object.getOwnPropertyNames(t).reduce((e,n)=>e||zo(t[n]),!1);function ste(t,e){const{isScriptable:n,isIndexable:s}=Q5(t);for(const i of e){const r=n(i),o=s(i),a=(o||r)&&t[i];if(r&&(zo(a)||nte(a))||o&&Zt(a))return!0}return!1}var ite="3.9.1";const rte=["top","bottom","left","right","chartArea"];function P3(t,e){return t==="top"||t==="bottom"||rte.indexOf(t)===-1&&e==="x"}function L3(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function I3(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Vt(n&&n.onComplete,[t],e)}function ote(t){const e=t.chart,n=e.options.animation;Vt(n&&n.onProgress,[t],e)}function S8(t){return r8()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const fm={},E8=t=>{const e=S8(t);return Object.values(fm).filter(n=>n.canvas===e).pop()};function ate(t,e,n){const s=Object.keys(t);for(const i of s){const r=+i;if(r>=e){const o=t[i];delete t[i],(n>0||r>e)&&(t[r+n]=o)}}}function lte(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}class ef{constructor(e,n){const s=this.config=new tte(n),i=S8(e),r=E8(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||Vee(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=qZ(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Wee,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=cJ(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],fm[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}vr.listen(this,"complete",I3),vr.listen(this,"progress",ote),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:i,_aspectRatio:r}=this;return Pt(e)?n&&r?r:i?s/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():r3(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return n3(this.canvas,this.ctx),this}stop(){return vr.stop(this),this}resize(e,n){vr.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,i=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,r),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,r3(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Vt(s.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Nt(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,i=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=ty(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Nt(r,o=>{const a=o.options,l=a.id,c=ty(l,a),u=ut(a.type,o.dtype);(a.position===void 0||P3(a.position,c)!==P3(o.dposition))&&(a.position=o.dposition),i[l]=!0;let d=null;if(l in s&&s[l].type===u)d=s[l];else{const f=Wi.getScale(u);d=new f({id:l,type:u,ctx:this.ctx,chart:this}),s[d.id]=d}d.init(a,e)}),Nt(i,(o,a)=>{o||delete s[a]}),Nt(s,o=>{qs.configure(this,o,o.options),qs.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((i,r)=>i.index-r.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(L3("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,i)=>{n.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const r=n[s];let o=this.getDatasetMeta(s);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=r.indexAxis||ey(a,this.options),o.order=r.order||0,o.index=s,o.label=""+r.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const l=Wi.getController(a),{datasetElementType:c,dataElementType:u}=_t.datasets[a];Object.assign(l.prototype,{dataElementType:Wi.getElement(u),datasetElementType:c&&Wi.getElement(c)}),o.controller=new l(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Nt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),f=!i&&r.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),i||Nt(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(L3("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Nt(this.scales,e=>{qs.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!VS(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:r}of n){const o=s==="_removeElements"?-r:r;ate(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=s(0);for(let r=1;r<n;r++)if(!VS(i,s(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;qs.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],Nt(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,zo(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),i={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(vr.has(this)?this.attached&&!vr.running(this)&&vr.start(this):(this.draw(),I3({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resize(s,i),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let i,r;for(i=0,r=n.length;i<r;++i){const o=n[i];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s=e._clip,i=!s.disabled,r=this.chartArea,o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&_v(n,{left:s.left===!1?0:r.left-s.left,right:s.right===!1?this.width:r.right+s.right,top:s.top===!1?0:r.top-s.top,bottom:s.bottom===!1?this.height:r.bottom+s.bottom}),e.controller.draw(),i&&yv(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return Zd(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,i){const r=See.modes[n];return typeof r=="function"?r(this,e,s,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let i=s.filter(r=>r&&r._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=qo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const i=s?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,i);Zs(n)?(r.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(r,{visible:s}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),vr.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),n3(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete fm[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(r,o)=>{n.addEventListener(this,r,o),e[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};Nt(this.options.events,r=>s(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",r),s("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Nt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Nt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const i=s?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!rm(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}_updateHoverStyles(e,n,s){const i=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=r(n,e),a=s?e:r(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const r=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(r||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:i=[],options:r}=this,o=n,a=this._getActiveElements(e,i,s,o),l=QZ(e),c=lte(e,this._lastEvent,s,l);s&&(this._lastEvent=null,Vt(r.onHover,[e,a,this],this),l&&Vt(r.onClick,[e,a,this],this));const u=!rm(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(e,n,s,i){if(e.type==="mouseout")return[];if(!s)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}}const D3=()=>Nt(ef.instances,t=>t._plugins.invalidate()),oo=!0;Object.defineProperties(ef,{defaults:{enumerable:oo,value:_t},instances:{enumerable:oo,value:fm},overrides:{enumerable:oo,value:Ja},registry:{enumerable:oo,value:Wi},version:{enumerable:oo,value:ite},getChart:{enumerable:oo,value:E8},register:{enumerable:oo,value:(...t)=>{Wi.add(...t),D3()}},unregister:{enumerable:oo,value:(...t)=>{Wi.remove(...t),D3()}}});function T8(t,e,n){const{startAngle:s,pixelMargin:i,x:r,y:o,outerRadius:a,innerRadius:l}=e;let c=i/a;t.beginPath(),t.arc(r,o,a,s-c,n+c),l>i?(c=i/l,t.arc(r,o,l,n+c,s-c,!0)):t.arc(r,o,i,n+fn,s-fn),t.closePath(),t.clip()}function cte(t){return bv(t,["outerStart","outerEnd","innerStart","innerEnd"])}function ute(t,e,n,s){const i=cte(t.options.borderRadius),r=(n-e)/2,o=Math.min(r,s*e/2),a=l=>{const c=(n-Math.min(r,l))*s/2;return Wn(l,0,Math.min(r,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Wn(i.innerStart,0,o),innerEnd:Wn(i.innerEnd,0,o)}}function $l(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function ny(t,e,n,s,i,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+s+n-c,0),f=u>0?u+s+n+c:0;let h=0;const _=i-l;if(s){const D=u>0?u-s:0,I=d>0?d-s:0,B=(D+I)/2,W=B!==0?_*B/(B+s):_;h=(_-W)/2}const p=Math.max(.001,_*d-n/on)/d,m=(_-p)/2,y=l+m+h,b=i-m-h,{outerStart:v,outerEnd:w,innerStart:S,innerEnd:x}=ute(e,f,d,b-y),T=d-v,E=d-w,M=y+v/T,C=b-w/E,A=f+S,R=f+x,$=y+S/A,F=b-x/R;if(t.beginPath(),r){if(t.arc(o,a,d,M,C),w>0){const B=$l(E,C,o,a);t.arc(B.x,B.y,w,C,b+fn)}const D=$l(R,b,o,a);if(t.lineTo(D.x,D.y),x>0){const B=$l(R,F,o,a);t.arc(B.x,B.y,x,b+fn,F+Math.PI)}if(t.arc(o,a,f,b-x/f,y+S/f,!0),S>0){const B=$l(A,$,o,a);t.arc(B.x,B.y,S,$+Math.PI,y-fn)}const I=$l(T,y,o,a);if(t.lineTo(I.x,I.y),v>0){const B=$l(T,M,o,a);t.arc(B.x,B.y,v,y-fn,M)}}else{t.moveTo(o,a);const D=Math.cos(M)*d+o,I=Math.sin(M)*d+a;t.lineTo(D,I);const B=Math.cos(C)*d+o,W=Math.sin(C)*d+a;t.lineTo(B,W)}t.closePath()}function dte(t,e,n,s,i){const{fullCircles:r,startAngle:o,circumference:a}=e;let l=e.endAngle;if(r){ny(t,e,n,s,o+Gt,i);for(let c=0;c<r;++c)t.fill();isNaN(a)||(l=o+a%Gt,a%Gt===0&&(l+=Gt))}return ny(t,e,n,s,l,i),t.fill(),l}function fte(t,e,n){const{x:s,y:i,startAngle:r,pixelMargin:o,fullCircles:a}=e,l=Math.max(e.outerRadius-o,0),c=e.innerRadius+o;let u;for(n&&T8(t,e,r+Gt),t.beginPath(),t.arc(s,i,c,r+Gt,r,!0),u=0;u<a;++u)t.stroke();for(t.beginPath(),t.arc(s,i,l,r,r+Gt),u=0;u<a;++u)t.stroke()}function hte(t,e,n,s,i,r){const{options:o}=e,{borderWidth:a,borderJoinStyle:l}=o,c=o.borderAlign==="inner";a&&(c?(t.lineWidth=a*2,t.lineJoin=l||"round"):(t.lineWidth=a,t.lineJoin=l||"bevel"),e.fullCircles&&fte(t,e,c),c&&T8(t,e,i),ny(t,e,n,s,i,r),t.stroke())}class kv extends Oi{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,s){const i=this.getProps(["x","y"],s),{angle:r,distance:o}=$5(i,{x:e,y:n}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),f=this.options.spacing/2,_=ut(d,l-a)>=Gt||Xd(r,a,l),p=To(o,c+f,u+f);return _&&p}getCenterPoint(e){const{x:n,y:s,startAngle:i,endAngle:r,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:l,spacing:c}=this.options,u=(i+r)/2,d=(o+a+c+l)/2;return{x:n+Math.cos(u)*d,y:s+Math.sin(u)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:s}=this,i=(n.offset||0)/2,r=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=s>Gt?Math.floor(s/Gt):0,s===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let a=0;if(i){a=i/2;const c=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(c)*a,Math.sin(c)*a),this.circumference>=on&&(a=i)}e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor;const l=dte(e,this,a,r,o);hte(e,this,a,r,l,o),e.restore()}}kv.id="arc";kv.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};kv.defaultRoutes={backgroundColor:"backgroundColor"};function M8(t,e,n=e){t.lineCap=ut(n.borderCapStyle,e.borderCapStyle),t.setLineDash(ut(n.borderDash,e.borderDash)),t.lineDashOffset=ut(n.borderDashOffset,e.borderDashOffset),t.lineJoin=ut(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=ut(n.borderWidth,e.borderWidth),t.strokeStyle=ut(n.borderColor,e.borderColor)}function pte(t,e,n){t.lineTo(n.x,n.y)}function mte(t){return t.stepped?FJ:t.tension||t.cubicInterpolationMode==="monotone"?NJ:pte}function A8(t,e,n={}){const s=t.length,{start:i=0,end:r=s-1}=n,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(r,a),u=i<o&&r<o||i>a&&r>a;return{count:s,start:l,loop:e.loop,ilen:c<l&&!u?s+c-l:c-l}}function gte(t,e,n,s){const{points:i,options:r}=e,{count:o,start:a,loop:l,ilen:c}=A8(i,n,s),u=mte(r);let{move:d=!0,reverse:f}=s||{},h,_,p;for(h=0;h<=c;++h)_=i[(a+(f?c-h:h))%o],!_.skip&&(d?(t.moveTo(_.x,_.y),d=!1):u(t,p,_,f,r.stepped),p=_);return l&&(_=i[(a+(f?c:0))%o],u(t,p,_,f,r.stepped)),!!l}function _te(t,e,n,s){const i=e.points,{count:r,start:o,ilen:a}=A8(i,n,s),{move:l=!0,reverse:c}=s||{};let u=0,d=0,f,h,_,p,m,y;const b=w=>(o+(c?a-w:w))%r,v=()=>{p!==m&&(t.lineTo(u,m),t.lineTo(u,p),t.lineTo(u,y))};for(l&&(h=i[b(0)],t.moveTo(h.x,h.y)),f=0;f<=a;++f){if(h=i[b(f)],h.skip)continue;const w=h.x,S=h.y,x=w|0;x===_?(S<p?p=S:S>m&&(m=S),u=(d*u+w)/++d):(v(),t.lineTo(w,S),_=x,d=0,p=m=S),y=S}v()}function sy(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?_te:gte}function yte(t){return t.stepped?pQ:t.tension||t.cubicInterpolationMode==="monotone"?mQ:ha}function bte(t,e,n,s){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,s)&&i.closePath()),M8(t,e.options),t.stroke(i)}function vte(t,e,n,s){const{segments:i,options:r}=e,o=sy(e);for(const a of i)M8(t,r,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const wte=typeof Path2D=="function";function xte(t,e,n,s){wte&&!e.options.segment?bte(t,e,n,s):vte(t,e,n,s)}class Of extends Oi{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;oQ(this._points,s,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=EQ(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,i=e[n],r=this.points,o=wQ(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=yte(s);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:f}=o[c],h=r[d],_=r[f];if(h===_){a.push(h);continue}const p=Math.abs((i-h[n])/(_[n]-h[n])),m=l(h,_,p,s.stepped);m[n]=e[n],a.push(m)}return a.length===1?a[0]:a}pathSegment(e,n,s){return sy(this)(e,this,n,s)}path(e,n,s){const i=this.segments,r=sy(this);let o=this._loop;n=n||0,s=s||this.points.length-n;for(const a of i)o&=r(e,this,a,{start:n,end:n+s-1});return!!o}draw(e,n,s,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),xte(e,this,s,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Of.id="line";Of.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};Of.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};Of.descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};function F3(t,e,n,s){const i=t.options,{[n]:r}=t.getProps([n],s);return Math.abs(e-r)<i.radius+i.hitRadius}class kg extends Oi{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,s){const i=this.options,{x:r,y:o}=this.getProps(["x","y"],s);return Math.pow(e-r,2)+Math.pow(n-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,n){return F3(this,e,"x",n)}inYRange(e,n){return F3(this,e,"y",n)}getCenterPoint(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const s=n&&e.borderWidth||0;return(n+s)*2}draw(e,n){const s=this.options;this.skip||s.radius<.1||!Zd(this,n,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,J1(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}kg.id="point";kg.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};kg.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function k8(t,e){const{x:n,y:s,base:i,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,d;return t.horizontal?(d=o/2,a=Math.min(n,i),l=Math.max(n,i),c=s-d,u=s+d):(d=r/2,a=n-d,l=n+d,c=Math.min(s,i),u=Math.max(s,i)),{left:a,top:c,right:l,bottom:u}}function Ao(t,e,n,s){return t?0:Wn(e,n,s)}function Ste(t,e,n){const s=t.options.borderWidth,i=t.borderSkipped,r=J5(s);return{t:Ao(i.top,r.top,0,n),r:Ao(i.right,r.right,0,e),b:Ao(i.bottom,r.bottom,0,n),l:Ao(i.left,r.left,0,e)}}function Ete(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,r=za(i),o=Math.min(e,n),a=t.borderSkipped,l=s||Et(i);return{topLeft:Ao(!l||a.top||a.left,r.topLeft,0,o),topRight:Ao(!l||a.top||a.right,r.topRight,0,o),bottomLeft:Ao(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:Ao(!l||a.bottom||a.right,r.bottomRight,0,o)}}function Tte(t){const e=k8(t),n=e.right-e.left,s=e.bottom-e.top,i=Ste(t,n/2,s/2),r=Ete(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:r},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:s-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function R_(t,e,n,s){const i=e===null,r=n===null,a=t&&!(i&&r)&&k8(t,s);return a&&(i||To(e,a.left,a.right))&&(r||To(n,a.top,a.bottom))}function Mte(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Ate(t,e){t.rect(e.x,e.y,e.w,e.h)}function C_(t,e,n={}){const s=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-s,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+s,y:t.y+i,w:t.w+r,h:t.h+o,radius:t.radius}}class Rv extends Oi{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:i}}=this,{inner:r,outer:o}=Tte(this),a=Mte(o.radius)?Jd:Ate;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,C_(o,n,r)),e.clip(),a(e,C_(r,-n,o)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),a(e,C_(r,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,s){return R_(this,e,n,s)}inXRange(e,n){return R_(this,e,null,n)}inYRange(e,n){return R_(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+i)/2:n,y:r?s:(s+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Rv.id="bar";Rv.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};Rv.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};const N3=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},kte=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class U3 extends Oi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Vt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,i)=>e.sort(s,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,i=Mn(s.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=N3(s,r);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,r,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let d=e;r.textAlign="left",r.textBaseline="middle";let f=-1,h=-u;return this.legendItems.forEach((_,p)=>{const m=s+n/2+r.measureText(_.text).width;(p===0||c[c.length-1]+m+2*a>o)&&(d+=u,c[c.length-(p>0?0:1)]=0,h+=u,f++),l[p]={left:0,top:h,row:f,width:m,height:i},c[c.length-1]+=m+a}),d}_fitCols(e,n,s,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let d=a,f=0,h=0,_=0,p=0;return this.legendItems.forEach((m,y)=>{const b=s+n/2+r.measureText(m.text).width;y>0&&h+i+2*a>u&&(d+=f+a,c.push({width:f,height:h}),_+=f+a,p++,f=h=0),l[y]={left:_,top:h,col:p,width:b,height:i},f=Math.max(f,b),h+=i+a}),d+=f,c.push({width:f,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:i},rtl:r}}=this,o=bc(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=Bn(s,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Bn(s,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=Bn(s,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Bn(s,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;_v(e,this),this._draw(),yv(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:i}=this,{align:r,labels:o}=e,a=_t.color,l=bc(e.rtl,this.left,this.width),c=Mn(o.font),{color:u,padding:d}=o,f=c.size,h=f/2;let _;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:p,boxHeight:m,itemHeight:y}=N3(o,f),b=function(T,E,M){if(isNaN(p)||p<=0||isNaN(m)||m<0)return;i.save();const C=ut(M.lineWidth,1);if(i.fillStyle=ut(M.fillStyle,a),i.lineCap=ut(M.lineCap,"butt"),i.lineDashOffset=ut(M.lineDashOffset,0),i.lineJoin=ut(M.lineJoin,"miter"),i.lineWidth=C,i.strokeStyle=ut(M.strokeStyle,a),i.setLineDash(ut(M.lineDash,[])),o.usePointStyle){const A={radius:m*Math.SQRT2/2,pointStyle:M.pointStyle,rotation:M.rotation,borderWidth:C},R=l.xPlus(T,p/2),$=E+h;Z5(i,A,R,$,o.pointStyleWidth&&p)}else{const A=E+Math.max((f-m)/2,0),R=l.leftForLtr(T,p),$=za(M.borderRadius);i.beginPath(),Object.values($).some(F=>F!==0)?Jd(i,{x:R,y:A,w:p,h:m,radius:$}):i.rect(R,A,p,m),i.fill(),C!==0&&i.stroke()}i.restore()},v=function(T,E,M){Qa(i,M.text,T,E+y/2,c,{strikethrough:M.hidden,textAlign:l.textAlign(M.textAlign)})},w=this.isHorizontal(),S=this._computeTitleHeight();w?_={x:Bn(r,this.left+d,this.right-s[0]),y:this.top+d+S,line:0}:_={x:this.left+d,y:Bn(r,this.top+S+d,this.bottom-n[0].height),line:0},o8(this.ctx,e.textDirection);const x=y+d;this.legendItems.forEach((T,E)=>{i.strokeStyle=T.fontColor||u,i.fillStyle=T.fontColor||u;const M=i.measureText(T.text).width,C=l.textAlign(T.textAlign||(T.textAlign=o.textAlign)),A=p+h+M;let R=_.x,$=_.y;l.setWidth(this.width),w?E>0&&R+A+d>this.right&&($=_.y+=x,_.line++,R=_.x=Bn(r,this.left+d,this.right-s[_.line])):E>0&&$+x>this.bottom&&(R=_.x=R+n[_.line].width+d,_.line++,$=_.y=Bn(r,this.top+S+d,this.bottom-n[_.line].height));const F=l.x(R);b(F,$,T),R=uJ(C,R+p+h,w?R+A:this.right,e.rtl),v(l.x(R),$,T),w?_.x+=A+d:_.y+=x}),a8(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=Mn(n.font),i=Kn(n.padding);if(!n.display)return;const r=bc(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=s.size/2,c=i.top+l;let u,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,d=Bn(e.align,d,this.right-f);else{const _=this.columnSizes.reduce((p,m)=>Math.max(p,m.height),0);u=c+Bn(e.align,this.top,this.bottom-_-e.labels.padding-this._computeTitleHeight())}const h=Bn(a,d,d+f);o.textAlign=r.textAlign(hv(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,Qa(o,n.text,h,u,s)}_computeTitleHeight(){const e=this.options.title,n=Mn(e.font),s=Kn(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,i,r;if(To(e,this.left,this.right)&&To(n,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(i=r[s],To(e,i.left,i.left+i.width)&&To(n,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!Rte(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,r=kte(i,s);i&&!r&&Vt(n.onLeave,[e,i,this],this),this._hoveredItem=s,s&&!r&&Vt(n.onHover,[e,s,this],this)}else s&&Vt(n.onClick,[e,s,this],this)}}function Rte(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Cte={id:"legend",_element:U3,start(t,e,n){const s=t.legend=new U3({ctx:t.ctx,options:n,chart:t});qs.configure(t,s,n),qs.addBox(t,s)},stop(t){qs.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;qs.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),e.hidden=!0):(i.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:r}}=t.legend.options;return t._getSortedDatasetMetas().map(o=>{const a=o.controller.getStyle(n?0:void 0),l=Kn(a.borderWidth);return{text:e[o.index].label,fillStyle:a.backgroundColor,fontColor:r,hidden:!o.visible,lineCap:a.borderCapStyle,lineDash:a.borderDash,lineDashOffset:a.borderDashOffset,lineJoin:a.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:a.borderColor,pointStyle:s||a.pointStyle,rotation:a.rotation,textAlign:i||a.textAlign,borderRadius:0,datasetIndex:o.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class R8 extends Oi{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=Zt(s.text)?s.text.length:1;this._padding=Kn(s.padding);const r=i*Mn(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:i,right:r,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=Bn(a,s,r),d=n+e,c=r-s):(o.position==="left"?(u=s+e,d=Bn(a,i,n),l=on*-.5):(u=r-e,d=Bn(a,n,i),l=on*.5),c=i-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=Mn(n.font),r=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);Qa(e,n.text,0,0,s,{color:n.color,maxWidth:l,rotation:c,textAlign:hv(n.align),textBaseline:"middle",translation:[o,a]})}}function Ote(t,e){const n=new R8({ctx:t.ctx,options:e,chart:t});qs.configure(t,n,e),qs.addBox(t,n),t.titleBlock=n}var Pte={id:"title",_element:R8,start(t,e,n){Ote(t,n)},stop(t){const e=t.titleBlock;qs.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;qs.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const wd={average(t){if(!t.length)return!1;let e,n,s=0,i=0,r=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const a=o.tooltipPosition();s+=a.x,i+=a.y,++r}}return{x:s/r,y:i/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const l=t[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=K1(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,s=l.y}return{x:n,y:s}}};function $i(t,e){return e&&(Zt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function wr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Lte(t,e){const{element:n,datasetIndex:s,index:i}=e,r=t.getDatasetMeta(s).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:t,label:o,parsed:r.getParsed(i),raw:t.data.datasets[s].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function $3(t,e){const n=t.chart.ctx,{body:s,footer:i,title:r}=t,{boxWidth:o,boxHeight:a}=e,l=Mn(e.bodyFont),c=Mn(e.titleFont),u=Mn(e.footerFont),d=r.length,f=i.length,h=s.length,_=Kn(e.padding);let p=_.height,m=0,y=s.reduce((w,S)=>w+S.before.length+S.lines.length+S.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,d&&(p+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),y){const w=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;p+=h*w+(y-h)*l.lineHeight+(y-1)*e.bodySpacing}f&&(p+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let b=0;const v=function(w){m=Math.max(m,n.measureText(w).width+b)};return n.save(),n.font=c.string,Nt(t.title,v),n.font=l.string,Nt(t.beforeBody.concat(t.afterBody),v),b=e.displayColors?o+2+e.boxPadding:0,Nt(s,w=>{Nt(w.before,v),Nt(w.lines,v),Nt(w.after,v)}),b=0,n.font=u.string,Nt(t.footer,v),n.restore(),m+=_.width,{width:m,height:p}}function Ite(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function Dte(t,e,n,s){const{x:i,width:r}=s,o=n.caretSize+n.caretPadding;if(t==="left"&&i+r+o>e.width||t==="right"&&i-r-o<0)return!0}function Fte(t,e,n,s){const{x:i,width:r}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return s==="center"?c=i<=(a+l)/2?"left":"right":i<=r/2?c="left":i>=o-r/2&&(c="right"),Dte(c,t,e,n)&&(c="center"),c}function B3(t,e,n){const s=n.yAlign||e.yAlign||Ite(t,n);return{xAlign:n.xAlign||e.xAlign||Fte(t,e,n,s),yAlign:s}}function Nte(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function Ute(t,e,n){let{y:s,height:i}=t;return e==="top"?s+=n:e==="bottom"?s-=i+n:s-=i/2,s}function z3(t,e,n,s){const{caretSize:i,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+r,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:h}=za(o);let _=Nte(e,a);const p=Ute(e,l,c);return l==="center"?a==="left"?_+=c:a==="right"&&(_-=c):a==="left"?_-=Math.max(u,f)+i:a==="right"&&(_+=Math.max(d,h)+i),{x:Wn(_,0,s.width-e.width),y:Wn(p,0,s.height-e.height)}}function Dh(t,e,n){const s=Kn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function G3(t){return $i([],wr(t))}function $te(t,e,n){return qo(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function H3(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}let iy=class extends Oi{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&n.options.animation&&s.animations,r=new c8(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=$te(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,i=s.beforeTitle.apply(this,[e]),r=s.title.apply(this,[e]),o=s.afterTitle.apply(this,[e]);let a=[];return a=$i(a,wr(i)),a=$i(a,wr(r)),a=$i(a,wr(o)),a}getBeforeBody(e,n){return G3(n.callbacks.beforeBody.apply(this,[e]))}getBody(e,n){const{callbacks:s}=n,i=[];return Nt(e,r=>{const o={before:[],lines:[],after:[]},a=H3(s,r);$i(o.before,wr(a.beforeLabel.call(this,r))),$i(o.lines,a.label.call(this,r)),$i(o.after,wr(a.afterLabel.call(this,r))),i.push(o)}),i}getAfterBody(e,n){return G3(n.callbacks.afterBody.apply(this,[e]))}getFooter(e,n){const{callbacks:s}=n,i=s.beforeFooter.apply(this,[e]),r=s.footer.apply(this,[e]),o=s.afterFooter.apply(this,[e]);let a=[];return a=$i(a,wr(i)),a=$i(a,wr(r)),a=$i(a,wr(o)),a}_createItems(e){const n=this._active,s=this.chart.data,i=[],r=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(Lte(this.chart,n[l]));return e.filter&&(a=a.filter((u,d,f)=>e.filter(u,d,f,s))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,s))),Nt(a,u=>{const d=H3(e.callbacks,u);i.push(d.labelColor.call(this,u)),r.push(d.labelPointStyle.call(this,u)),o.push(d.labelTextColor.call(this,u))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const s=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=wd[s.position].call(this,i,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const l=this._size=$3(this,s),c=Object.assign({},a,l),u=B3(this.chart,s,c),d=z3(s,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,i){const r=this.getCaretPosition(e,s,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,s){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=za(a),{x:f,y:h}=e,{width:_,height:p}=n;let m,y,b,v,w,S;return r==="center"?(w=h+p/2,i==="left"?(m=f,y=m-o,v=w+o,S=w-o):(m=f+_,y=m+o,v=w-o,S=w+o),b=m):(i==="left"?y=f+Math.max(l,u)+o:i==="right"?y=f+_-Math.max(c,d)-o:y=this.caretX,r==="top"?(v=h,w=v-o,m=y-o,b=y+o):(v=h+p,w=v+o,m=y+o,b=y-o),S=v),{x1:m,x2:y,x3:b,y1:v,y2:w,y3:S}}drawTitle(e,n,s){const i=this.title,r=i.length;let o,a,l;if(r){const c=bc(s.rtl,this.x,this.width);for(e.x=Dh(this,s.titleAlign,s),n.textAlign=c.textAlign(s.titleAlign),n.textBaseline="middle",o=Mn(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=s.titleMarginBottom-a)}}_drawColorBox(e,n,s,i,r){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:c,boxPadding:u}=r,d=Mn(r.bodyFont),f=Dh(this,"left",r),h=i.x(f),_=l<d.lineHeight?(d.lineHeight-l)/2:0,p=n.y+_;if(r.usePointStyle){const m={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},y=i.leftForLtr(h,c)+c/2,b=p+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,J1(e,m,y,b),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,J1(e,m,y,b)}else{e.lineWidth=Et(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const m=i.leftForLtr(h,c-u),y=i.leftForLtr(i.xPlus(h,1),c-u-2),b=za(o.borderRadius);Object.values(b).some(v=>v!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,Jd(e,{x:m,y:p,w:c,h:l,radius:b}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Jd(e,{x:y,y:p+1,w:c-2,h:l-2,radius:b}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(m,p,c,l),e.strokeRect(m,p,c,l),e.fillStyle=o.backgroundColor,e.fillRect(y,p+1,c-2,l-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=s,d=Mn(s.bodyFont);let f=d.lineHeight,h=0;const _=bc(s.rtl,this.x,this.width),p=function(E){n.fillText(E,_.x(e.x+h),e.y+f/2),e.y+=f+r},m=_.textAlign(o);let y,b,v,w,S,x,T;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=Dh(this,m,s),n.fillStyle=s.bodyColor,Nt(this.beforeBody,p),h=a&&m!=="right"?o==="center"?c/2+u:c+2+u:0,w=0,x=i.length;w<x;++w){for(y=i[w],b=this.labelTextColors[w],n.fillStyle=b,Nt(y.before,p),v=y.lines,a&&v.length&&(this._drawColorBox(n,e,w,_,s),f=Math.max(d.lineHeight,l)),S=0,T=v.length;S<T;++S)p(v[S]),f=d.lineHeight;Nt(y.after,p)}h=0,f=d.lineHeight,Nt(this.afterBody,p),e.y-=r}drawFooter(e,n,s){const i=this.footer,r=i.length;let o,a;if(r){const l=bc(s.rtl,this.x,this.width);for(e.x=Dh(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=l.textAlign(s.footerAlign),n.textBaseline="middle",o=Mn(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,n,s,i){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=s,{topLeft:d,topRight:f,bottomLeft:h,bottomRight:_}=za(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,s,i),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&r==="right"&&this.drawCaret(e,n,s,i),n.lineTo(a+c,l+u-_),n.quadraticCurveTo(a+c,l+u,a+c-_,l+u),o==="bottom"&&this.drawCaret(e,n,s,i),n.lineTo(a+h,l+u),n.quadraticCurveTo(a,l+u,a,l+u-h),o==="center"&&r==="left"&&this.drawCaret(e,n,s,i),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,i=s&&s.x,r=s&&s.y;if(i||r){const o=wd[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=$3(this,e),l=Object.assign({},o,this._size),c=B3(n,e,l),u=z3(e,l,c,n);(i._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=Kn(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=s,this.drawBackground(r,e,i,n),o8(e,n.textDirection),r.y+=o.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),a8(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!rm(s,i),o=this._positionChanged(i,n);(r||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(e,r,n,s),a=this._positionChanged(o,e),l=n||!rm(o,r)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,s,i){const r=this.options;if(e.type==="mouseout")return[];if(!i)return n;const o=this.chart.getElementsAtEventForMode(e,r.mode,r,s);return r.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:s,caretY:i,options:r}=this,o=wd[r.position].call(this,e,n);return o!==!1&&(s!==o.x||i!==o.y)}};iy.positioners=wd;var Bte={id:"tooltip",_element:iy,positioners:wd,afterInit(t,e,n){n&&(t.tooltip=new iy({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",n)===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:_r,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:_r,beforeBody:_r,beforeLabel:_r,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Pt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:_r,afterBody:_r,beforeFooter:_r,footer:_r,afterFooter:_r}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const zte=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function Gte(t,e,n,s){const i=t.indexOf(e);if(i===-1)return zte(t,e,n,s);const r=t.lastIndexOf(e);return i!==r?n:i}const Hte=(t,e)=>t===null?null:Wn(Math.round(t),0,e);class hm extends ul{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:i,label:r}of n)s[i]===r&&s.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Pt(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:Gte(s,e,ut(n,e),this._addedLabels),Hte(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,i=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){const n=this.getLabels();return e>=0&&e<n.length?n[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}hm.id="category";hm.defaults={ticks:{callback:hm.prototype.getLabelForValue}};function Vte(t,e){const n=[],{bounds:i,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:f}=t,h=r||1,_=u-1,{min:p,max:m}=e,y=!Pt(o),b=!Pt(a),v=!Pt(c),w=(m-p)/(d+1);let S=jS((m-p)/_/h)*h,x,T,E,M;if(S<1e-14&&!y&&!b)return[{value:p},{value:m}];M=Math.ceil(m/S)-Math.floor(p/S),M>_&&(S=jS(M*S/_/h)*h),Pt(l)||(x=Math.pow(10,l),S=Math.ceil(S*x)/x),i==="ticks"?(T=Math.floor(p/S)*S,E=Math.ceil(m/S)*S):(T=p,E=m),y&&b&&r&&sJ((a-o)/r,S/1e3)?(M=Math.round(Math.min((a-o)/S,u)),S=(a-o)/M,T=o,E=a):v?(T=y?o:T,E=b?a:E,M=c-1,S=(E-T)/M):(M=(E-T)/S,yd(M,Math.round(M),S/1e3)?M=Math.round(M):M=Math.ceil(M));const C=Math.max(qS(S),qS(T));x=Math.pow(10,Pt(l)?C:l),T=Math.round(T*x)/x,E=Math.round(E*x)/x;let A=0;for(y&&(f&&T!==o?(n.push({value:o}),T<o&&A++,yd(Math.round((T+A*S)*x)/x,o,V3(o,w,t))&&A++):T<o&&A++);A<M;++A)n.push({value:Math.round((T+A*S)*x)/x});return b&&f&&E!==a?n.length&&yd(n[n.length-1].value,a,V3(a,w,t))?n[n.length-1].value=a:n.push({value:a}):(!b||E===a)&&n.push({value:E}),n}function V3(t,e,{horizontal:n,minRotation:s}){const i=yi(s),r=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class pm extends ul{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Pt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:i,max:r}=this;const o=l=>i=n?i:l,a=l=>r=s?r:l;if(e){const l=Ki(i),c=Ki(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===r){let l=1;(r>=Number.MAX_SAFE_INTEGER||i<=Number.MIN_SAFE_INTEGER)&&(l=Math.abs(r*.05)),a(r+l),e||o(i-l)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=Vte(i,r);return e.bounds==="ticks"&&U5(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const i=(s-n)/Math.max(e.length-1,1)/2;n-=i,s+=i}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return kf(e,this.chart.options.locale,this.options.ticks.format)}}class Cv extends pm{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Nn(e)?e:0,this.max=Nn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=yi(this.options.ticks.minRotation),i=(e?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Cv.id="linear";Cv.defaults={ticks:{callback:Mg.formatters.numeric}};function W3(t){return t/Math.pow(10,Math.floor(Hs(t)))===1}function Wte(t,e){const n=Math.floor(Hs(e.max)),s=Math.ceil(e.max/Math.pow(10,n)),i=[];let r=$s(t.min,Math.pow(10,Math.floor(Hs(e.min)))),o=Math.floor(Hs(r)),a=Math.floor(r/Math.pow(10,o)),l=o<0?Math.pow(10,Math.abs(o)):1;do i.push({value:r,major:W3(r)}),++a,a===10&&(a=1,++o,l=o>=0?1:l),r=Math.round(a*Math.pow(10,o)*l)/l;while(o<n||o===n&&a<s);const c=$s(t.max,r);return i.push({value:c,major:W3(r)}),i}class C8 extends ul{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const s=pm.prototype.parse.apply(this,[e,n]);if(s===0){this._zero=!0;return}return Nn(s)&&s>0?s:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Nn(e)?Math.max(0,e):null,this.max=Nn(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let s=this.min,i=this.max;const r=l=>s=e?s:l,o=l=>i=n?i:l,a=(l,c)=>Math.pow(10,Math.floor(Hs(l))+c);s===i&&(s<=0?(r(1),o(10)):(r(a(s,-1)),o(a(i,1)))),s<=0&&r(a(i,-1)),i<=0&&o(a(s,1)),this._zero&&this.min!==this._suggestedMin&&s===a(this.min,0)&&r(a(s,-1)),this.min=s,this.max=i}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},s=Wte(n,this);return e.bounds==="ticks"&&U5(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(e){return e===void 0?"0":kf(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Hs(e),this._valueRange=Hs(this.max)-Hs(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Hs(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}C8.id="logarithmic";C8.defaults={ticks:{callback:Mg.formatters.logarithmic,major:{enabled:!0}}};function ry(t){const e=t.ticks;if(e.display&&t.display){const n=Kn(e.backdropPadding);return ut(e.font&&e.font.size,_t.font.size)+n.height}return 0}function jte(t,e,n){return n=Zt(n)?n:[n],{w:DJ(t,e.string,n),h:n.length*e.lineHeight}}function j3(t,e,n,s,i){return t===s||t===i?{start:e-n/2,end:e+n/2}:t<s||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function qte(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),s=[],i=[],r=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?on/r:0;for(let l=0;l<r;l++){const c=o.setContext(t.getPointLabelContext(l));i[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+i[l],a),d=Mn(c.font),f=jte(t.ctx,d,t._pointLabels[l]);s[l]=f;const h=ui(t.getIndexAngle(l)+a),_=Math.round(dv(h)),p=j3(_,u.x,f.w,0,180),m=j3(_,u.y,f.h,90,270);Yte(n,e,h,p,m)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=Kte(t,s,i)}function Yte(t,e,n,s,i){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;s.start<e.l?(a=(e.l-s.start)/r,t.l=Math.min(t.l,e.l-a)):s.end>e.r&&(a=(s.end-e.r)/r,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(l=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function Kte(t,e,n){const s=[],i=t._pointLabels.length,r=t.options,o=ry(r)/2,a=t.drawingArea,l=r.pointLabels.centerPointLabels?on/i:0;for(let c=0;c<i;c++){const u=t.getPointPosition(c,a+o+n[c],l),d=Math.round(dv(ui(u.angle+fn))),f=e[c],h=Jte(u.y,f.h,d),_=Xte(d),p=Zte(u.x,f.w,_);s.push({x:u.x,y:h,textAlign:_,left:p,top:h,right:p+f.w,bottom:h+f.h})}return s}function Xte(t){return t===0||t===180?"center":t<180?"left":"right"}function Zte(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function Jte(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function Qte(t,e){const{ctx:n,options:{pointLabels:s}}=t;for(let i=e-1;i>=0;i--){const r=s.setContext(t.getPointLabelContext(i)),o=Mn(r.font),{x:a,y:l,textAlign:c,left:u,top:d,right:f,bottom:h}=t._pointLabelItems[i],{backdropColor:_}=r;if(!Pt(_)){const p=za(r.borderRadius),m=Kn(r.backdropPadding);n.fillStyle=_;const y=u-m.left,b=d-m.top,v=f-u+m.width,w=h-d+m.height;Object.values(p).some(S=>S!==0)?(n.beginPath(),Jd(n,{x:y,y:b,w:v,h:w,radius:p}),n.fill()):n.fillRect(y,b,v,w)}Qa(n,t._pointLabels[i],a,l+o.lineHeight/2,o,{color:r.color,textAlign:c,textBaseline:"middle"})}}function O8(t,e,n,s){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,Gt);else{let r=t.getPointPosition(0,e);i.moveTo(r.x,r.y);for(let o=1;o<s;o++)r=t.getPointPosition(o,e),i.lineTo(r.x,r.y)}}function ene(t,e,n,s){const i=t.ctx,r=e.circular,{color:o,lineWidth:a}=e;!r&&!s||!o||!a||n<0||(i.save(),i.strokeStyle=o,i.lineWidth=a,i.setLineDash(e.borderDash),i.lineDashOffset=e.borderDashOffset,i.beginPath(),O8(t,n,r,s),i.closePath(),i.stroke(),i.restore())}function tne(t,e,n){return qo(t,{label:n,index:e,type:"pointLabel"})}class Rg extends pm{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Kn(ry(this.options)/2),n=this.width=this.maxWidth-e.width,s=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+s/2+e.top),this.drawingArea=Math.floor(Math.min(n,s)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Nn(e)&&!isNaN(e)?e:0,this.max=Nn(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ry(this.options))}generateTickLabels(e){pm.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,s)=>{const i=Vt(this.options.pointLabels.callback,[n,s],this);return i||i===0?i:""}).filter((n,s)=>this.chart.getDataVisibility(s))}fit(){const e=this.options;e.display&&e.pointLabels.display?qte(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,s,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((s-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,s,i))}getIndexAngle(e){const n=Gt/(this._pointLabels.length||1),s=this.options.startAngle||0;return ui(e*n+yi(s))}getDistanceFromCenterForValue(e){if(Pt(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(Pt(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const s=n[e];return tne(this.getContext(),e,s)}}getPointPosition(e,n,s=0){const i=this.getIndexAngle(e)-fn+s;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:s,right:i,bottom:r}=this._pointLabelItems[e];return{left:n,top:s,right:i,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const s=this.ctx;s.save(),s.beginPath(),O8(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),s.closePath(),s.fillStyle=e,s.fill(),s.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:s,grid:i}=n,r=this._pointLabels.length;let o,a,l;if(n.pointLabels.display&&Qte(this,r),i.display&&this.ticks.forEach((c,u)=>{if(u!==0){a=this.getDistanceFromCenterForValue(c.value);const d=i.setContext(this.getContext(u-1));ene(this,d,a,r)}}),s.display){for(e.save(),o=r-1;o>=0;o--){const c=s.setContext(this.getPointLabelContext(o)),{color:u,lineWidth:d}=c;!d||!u||(e.lineWidth=d,e.strokeStyle=u,e.setLineDash(c.borderDash),e.lineDashOffset=c.borderDashOffset,a=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),l=this.getPointPosition(o,a),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,s=n.ticks;if(!s.display)return;const i=this.getIndexAngle(0);let r,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!n.reverse)return;const c=s.setContext(this.getContext(l)),u=Mn(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const d=Kn(c.backdropPadding);e.fillRect(-o/2-d.left,-r-u.size/2-d.top,o+d.width,u.size+d.height)}Qa(e,a.label,0,-r,u,{color:c.color})}),e.restore()}drawTitle(){}}Rg.id="radialLinear";Rg.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Mg.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};Rg.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};Rg.descriptors={angleLines:{_fallback:"grid"}};const Cg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},bs=Object.keys(Cg);function nne(t,e){return t-e}function q3(t,e){if(Pt(e))return null;const n=t._adapter,{parser:s,round:i,isoWeekday:r}=t._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),Nn(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(Gc(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,i)),+o)}function Y3(t,e,n,s){const i=bs.length;for(let r=bs.indexOf(t);r<i-1;++r){const o=Cg[bs[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=s)return bs[r]}return bs[i-1]}function sne(t,e,n,s,i){for(let r=bs.length-1;r>=bs.indexOf(n);r--){const o=bs[r];if(Cg[o].common&&t._adapter.diff(i,s,o)>=e-1)return o}return bs[n?bs.indexOf(n):0]}function ine(t){for(let e=bs.indexOf(t)+1,n=bs.length;e<n;++e)if(Cg[bs[e]].common)return bs[e]}function K3(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:i}=fv(n,e),r=n[s]>=e?n[s]:n[i];t[r]=!0}}function rne(t,e,n,s){const i=t._adapter,r=+i.startOf(e[0].value,s),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+i.add(a,1,s))l=n[a],l>=0&&(e[l].major=!0);return e}function X3(t,e,n){const s=[],i={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],i[a]=o,s.push({value:a,major:!1});return r===0||!n?s:rne(t,s,i,n)}class Pf extends ul{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n){const s=e.time||(e.time={}),i=this._adapter=new p8._date(e.adapters.date);i.init(n),_d(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:q3(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Nn(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),r=Nn(r)&&!isNaN(r)?r:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=aJ(i,r,o);return this._unit=n.unit||(s.autoSkip?Y3(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):sne(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:ine(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),X3(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e){let n=0,s=0,i,r;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?s=r:s=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Wn(n,0,o),s=Wn(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,i=this.options,r=i.time,o=r.unit||Y3(r.minUnit,n,s,this._getLabelCapacity(n)),a=ut(r.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=Gc(l)||l===!0,u={};let d=n,f,h;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(s,n,o)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+o);const _=i.ticks.source==="data"&&this.getDataTimestamps();for(f=d,h=0;f<s;f=+e.add(f,a,o),h++)K3(u,f,_);return(f===s||i.bounds==="ticks"||h===1)&&K3(u,f,_),Object.keys(u).sort((p,m)=>p-m).map(p=>+p)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}_tickFormatFunction(e,n,s,i){const r=this.options,o=r.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&o[a],u=l&&o[l],d=s[n],f=l&&u&&d&&d.major,h=this._adapter.format(e,i||(f?u:c)),_=r.ticks.callback;return _?Vt(_,[h,n,s],this):h}generateTickLabels(e){let n,s,i;for(n=0,s=e.length;n<s;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,i=yi(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*r+a*o,h:s*o+a*r}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,r=this._tickFormatFunction(e,0,X3(this,[e],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)e.push(q3(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return z5(e.sort(nne))}}Pf.id="time";Pf.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function Fh(t,e,n){let s=0,i=t.length-1,r,o,a,l;n?(e>=t[s].pos&&e<=t[i].pos&&({lo:s,hi:i}=ka(t,"pos",e)),{pos:r,time:a}=t[s],{pos:o,time:l}=t[i]):(e>=t[s].time&&e<=t[i].time&&({lo:s,hi:i}=ka(t,"time",e)),{time:r,pos:a}=t[s],{time:o,pos:l}=t[i]);const c=o-r;return c?a+(l-a)*(e-r)/c:a}class P8 extends Pf{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Fh(n,this.min),this._tableRange=Fh(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,i=[],r=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=s&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Fh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return Fh(this._table,s*this._tableRange+this._minPos,!0)}}P8.id="timeseries";P8.defaults=Pf.defaults;var Wc;(function(t){t.ChartRendered="chart:rendered",t.ChartUpdated="chart:updated",t.ChartDestroyed="chart:destroyed",t.LabelsUpdated="labels:updated"})(Wc||(Wc={}));function Nh(t,e,n,s){t(e,n),s!==void 0&&s.emit(Wc.ChartRendered)}function one(t,e){t.update(),e!==void 0&&e.emit(Wc.ChartUpdated)}function Uh(t,e){t.destroy(),e!==void 0&&e.emit(Wc.ChartDestroyed)}function ane(t,e){const n={labels:typeof t.labels>"u"?[]:[...t.labels],datasets:[]};return L8(n,{...t},e),n}function L8(t,e,n){const s=[];t.datasets=e.datasets.map(i=>{const r=t.datasets.find(o=>o[n]===i[n]);return!r||!i.data||s.includes(r)?{...i}:(s.push(r),Object.assign(r,i),r)})}function lne(t,e,n){t.data.labels=e,n!==void 0&&n.emit(Wc.LabelsUpdated)}function cne(t,e){t.options={...e}}function une(t,e){const n=t.datasets.map(i=>i.label),s=e.datasets.map(i=>i.label);return e.datasets.length===t.datasets.length&&n.every((i,r)=>i===s[r])}const dne="Please remove the <template></template> tags from your chart component. See https://vue-chartjs.org/guide/#vue-single-file-components",fne="Update ERROR: chart instance not found",I8=(t,e,n)=>Ye({props:{chartData:{type:Object,required:!0},chartOptions:{type:Object,default:()=>{}},datasetIdKey:{type:String,default:"label"},chartId:{type:String,default:t},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{type:String,default:""},styles:{type:Object,default:()=>{}},plugins:{type:Array,default:()=>[]}},setup(s,i){ef.register(n);const r=eb(null),o=Um(null);function a(d,f){if(r.value!==null&&Uh(st(r.value),i),o.value===null)throw new Error(dne);{const h=ane(d,s.datasetIdKey),_=o.value.getContext("2d");_!==null&&(r.value=new ef(_,{type:e,data:rd(d)?new Proxy(h,{}):h,options:f,plugins:s.plugins}))}}function l(d,f){const h=rd(d)?st(d):{...d},_=rd(f)?st(f):{...f};if(Object.keys(_).length>0){const p=st(r.value);une(h,_)&&p!==null?(L8(p==null?void 0:p.data,h,s.datasetIdKey),h.labels!==void 0&&lne(p,h.labels,i),u()):(p!==null&&Uh(p,i),Nh(a,s.chartData,s.chartOptions,i))}else r.value!==null&&Uh(st(r.value),i),Nh(a,s.chartData,s.chartOptions,i)}function c(d){const f=st(r.value);f!==null?(cne(f,d),u()):Nh(a,s.chartData,s.chartOptions,i)}function u(){const d=st(r.value);d!==null?one(d,i):console.error(fne)}return Po(()=>s.chartData,(d,f)=>l(d,f),{deep:!0}),Po(()=>s.chartOptions,d=>c(d),{deep:!0}),rb(()=>{"datasets"in s.chartData&&s.chartData.datasets.length>0&&Nh(a,s.chartData,s.chartOptions,i)}),ob(()=>{r.value!==null&&Uh(st(r.value),i)}),i.expose({chart:r,updateChart:u}),()=>Va("div",{style:s.styles,class:s.cssClasses},[Va("canvas",{id:s.chartId,width:s.width,height:s.height,ref:o})])}}),hne=I8("line-chart","line",Tg),pne=I8("scatter-chart","scatter",Ag),mne=Ye({name:"line-chart",components:{LineChart:hne},props:["title","axis","labels"],data(){return{colors:["#1f77b4","#ff7f0e","#2ca02c","#d62728"]}},computed:{chartData(){return{labels:this.labels,datasets:this.axis.map((t,e)=>({label:t.label,data:t.data,borderColor:this.colors[e],fill:!1,radius:1,pointRadius:0,lineTension:.1}))}},chartOptions(){return{responsive:!0,maintainAspectRatio:!1,animation:{duration:0},responsiveAnimationDuration:0,scales:{x:{type:"linear",gridLines:{display:!0},ticks:{step:10}},y:{gridLines:{display:!0},ticks:{step:10}}},plugins:{title:{display:!0,text:this.title},tooltip:{enabled:!0,position:"average",mode:"index",intersect:!1}}}}}});function gne(t,e,n,s,i,r){const o=Ae("LineChart",!0);return Q(),rn(o,{"chart-data":t.chartData,"chart-options":t.chartOptions,ref:"chart"},null,8,["chart-data","chart-options"])}const Ov=tt(mne,[["render",gne]]),_ne=Ye({name:"StickRates",components:{LineChart:Ov},setup(){return{profile:jt()}},computed:{currentProfile(){return this.profile.rate.rates[this.profile.rate.profile]},currentMode:{get(){return this.currentProfile.mode},set(t){const e=this.profile.rate.rates[this.profile.rate.profile].mode;this.rateBackup[e]=JSON.parse(JSON.stringify(this.profile.rate.rates[this.profile.rate.profile].rate)),this.profile.rate.rates[this.profile.rate.profile].mode=t;const n=[...this.rateBackup[t]||this.rateDefaults[t]];this.profile.rate.rates[this.profile.rate.profile].rate=n}},currentModeText(){return this.rateModes[this.currentProfile.mode].text},rateLabel(){return this.rateLabels[this.currentProfile.mode]}},data(){return{rateProfiles:[{value:0,text:"Rate Profile 1"},{value:1,text:"Rate Profile 2"}],MODE_SILVERWARE:0,MODE_BETAFLIGHT:1,MODE_ACTUAL:2,rateBackup:{},rateDefaults:[[[860,860,500],[.8,.8,.6],[.55,0,.55]],[[1.3,1.3,1.3],[.7,.7,.7],[.4,.4,.4]],[[70,70,70],[670,670,670],[0,0,0]]],rateStep:[[5,.05,.05],[.05,.05,.05],[5,5,.05]],rateModes:[{value:0,text:"Silverware"},{value:1,text:"Betaflight"},{value:2,text:"Actual"}],plot:{axis:[],labels:[]},SILVERWARE_MAX_RATE:0,SILVERWARE_ACRO_EXPO:1,SILVERWARE_ANGLE_EXPO:2,BETAFLIGHT_RC_RATE:0,BETAFLIGHT_SUPER_RATE:1,BETAFLIGHT_EXPO:2,ACTUAL_CENTER_SENSITIVITY:0,ACTUAL_MAX_RATE:1,ACTUAL_EXPO:2,rateLabels:[["MAX_RATE","ACRO_EXPO","ANGLE_EXPO"],["RC_RATE","SUPER_RATE","EXPO"],["CENTER_SENSITIVITY","MAX_RATE","EXPO"]]}},methods:{constrainf(t,e,n){return t>n?n:t<e?e:t},limitf(t,e){return this.constrainf(t,-e,e)},rcexpo(t,e){e=this.limitf(e,1);let n=0;switch(this.currentProfile.mode){case this.MODE_SILVERWARE:n=t*t*t*e+t*(1-e);break;case this.MODE_BETAFLIGHT:n=Math.abs(t)*t*t*t*e+t*(1-e);break;case this.MODE_ACTUAL:n=Math.abs(t)*(Math.pow(t,5)*e+t*(1-e));break}return this.limitf(n,1)},calcSilverware(t,e){const n=this.currentProfile.rate[this.SILVERWARE_ACRO_EXPO][t],s=this.currentProfile.rate[this.SILVERWARE_MAX_RATE][t];return this.rcexpo(e,n)*s},calcBetatflight(t,e){const i=this.currentProfile.rate[this.BETAFLIGHT_EXPO][t];e=this.rcexpo(e,i);let r=this.currentProfile.rate[this.BETAFLIGHT_RC_RATE][t];r>2&&(r+=14.54*(r-2));const o=e>0?e:-e;let a=200*r*e;const l=this.currentProfile.rate[this.BETAFLIGHT_SUPER_RATE][t];if(l){const c=1/this.constrainf(1-o*l,.01,1);a*=c}return this.constrainf(a,-1998,1998)},calcActual(t,e){const n=this.currentProfile.rate[this.ACTUAL_EXPO][t],s=this.rcexpo(e,n),i=this.currentProfile.rate[this.ACTUAL_CENTER_SENSITIVITY][t];let o=this.currentProfile.rate[this.ACTUAL_MAX_RATE][t]-i;return o<0&&(o=0),e*i+o*s},update(){const t=[{label:"Roll",data:[]},{label:"Pitch",data:[]},{label:"Yaw",data:[]}],e=[];for(let n=-100;n<=100;n++){const s=n/100;e.push(""+n.toString());for(let i=0;i<3;i++)switch(this.currentProfile.mode){case this.MODE_SILVERWARE:t[i].data.push({x:n,y:this.calcSilverware(i,s)});break;case this.MODE_BETAFLIGHT:t[i].data.push({x:n,y:this.calcBetatflight(i,s)});break;case this.MODE_ACTUAL:t[i].data.push({x:n,y:this.calcActual(i,s)});break}}this.plot={labels:e,axis:t}}},mounted(){this.update()}}),yne={class:"card"},bne=g("header",{class:"card-header"},[g("p",{class:"card-header-title"},"Rates")],-1),vne={class:"card-content"},wne={class:"content column-narrow field-is-5"},xne={class:"columns"},Sne={class:"column is-6"},Ene={class:"field is-horizontal"},Tne={class:"field-label"},Mne={class:"label",for:"profile"},Ane={class:"field-body"},kne={class:"field"},Rne={class:"control is-expanded"},Cne={class:"field is-horizontal"},One={class:"field-label"},Pne={class:"label",for:"rate-mode"},Lne={class:"field-body"},Ine={class:"field"},Dne={class:"control is-expanded"},Fne={class:"card mt-5 mb-6"},Nne={class:"card-header"},Une={class:"card-header-title"},$ne={class:"card-content"},Bne={class:"content"},zne=jo('<div class="columns is-multiline"><div class="column is-offset-4 is-8"><div class="columns is-multiline"><div class="column is-4"><h6>Roll</h6></div><div class="column is-4"><h6>Pitch</h6></div><div class="column is-4"><h6>Yaw</h6></div></div></div></div>',1),Gne={class:"column is-4"},Hne=["for"],Vne={class:"field-body"},Wne={class:"field"},jne={class:"control is-expanded"},qne={class:"columns is-multiline"},Yne={class:"column is-4"},Kne=["id","step","onUpdate:modelValue"],Xne={class:"column is-4"},Zne=["id","step","onUpdate:modelValue"],Jne={class:"column is-4"},Qne=["id","step","onUpdate:modelValue"],ese={class:"field is-horizontal"},tse={class:"field-label"},nse={class:"label",for:"level-max-angle"},sse={class:"field-body"},ise={class:"field"},rse={class:"control is-expanded"},ose={class:"field is-horizontal"},ase=g("div",{class:"field-label"},[g("label",{class:"label",for:"sticks-deadband"},"SticksDeadband")],-1),lse={class:"field-body"},cse={class:"field"},use={class:"control is-expanded"},dse={class:"column is-6"};function fse(t,e,n,s,i,r){const o=Ae("tooltip"),a=Ae("input-select"),l=Ae("LineChart");return Q(),se("div",yne,[bne,g("div",vne,[g("div",wne,[g("div",xne,[g("div",Sne,[g("div",Ene,[g("div",Tne,[g("label",Mne,[_e(" Profile "),X(o,{entry:"rate.profile"})])]),g("div",Ane,[g("div",kne,[g("div",Rne,[X(a,{id:"profile",class:"is-fullwidth",modelValue:t.profile.rate.profile,"onUpdate:modelValue":e[0]||(e[0]=c=>t.profile.rate.profile=c),modelModifiers:{number:!0},options:t.rateProfiles,onChange:e[1]||(e[1]=c=>t.update())},null,8,["modelValue","options"])])])])]),g("div",Cne,[g("div",One,[g("label",Pne,[_e(" Mode "),X(o,{entry:"rate.mode"})])]),g("div",Lne,[g("div",Ine,[g("div",Dne,[X(a,{id:"rate-mode",class:"is-fullwidth",modelValue:t.currentMode,"onUpdate:modelValue":e[2]||(e[2]=c=>t.currentMode=c),modelModifiers:{number:!0},options:t.rateModes,onChange:e[3]||(e[3]=c=>t.update())},null,8,["modelValue","options"])])])])]),g("div",Fne,[g("header",Nne,[g("p",Une,Fe(t.currentModeText),1)]),g("div",$ne,[g("div",Bne,[zne,(Q(!0),se(Ze,null,$t(t.currentProfile.rate,(c,u)=>(Q(),se("div",{class:"columns is-multiline",key:t.rateLabel[u]},[g("div",Gne,[g("label",{for:`${t.currentModeText}-${t.rateLabel[u]}`},Fe(t.rateLabel[u]),9,Hne)]),g("div",Vne,[g("div",Wne,[g("div",jne,[g("div",qne,[g("div",Yne,[Ge(g("input",{class:"input",id:`${t.currentModeText}-${t.rateLabel[u]}-roll`,type:"number",step:t.rateStep[t.currentMode][u],"onUpdate:modelValue":d=>t.currentProfile.rate[u][0]=d,onInput:e[4]||(e[4]=d=>t.update())},null,40,Kne),[[Xe,t.currentProfile.rate[u][0],void 0,{number:!0}]])]),g("div",Xne,[Ge(g("input",{class:"input",id:`${t.currentModeText}-${t.rateLabel[u]}-pitch`,type:"number",step:t.rateStep[t.currentMode][u],"onUpdate:modelValue":d=>t.currentProfile.rate[u][1]=d,onInput:e[5]||(e[5]=d=>t.update())},null,40,Zne),[[Xe,t.currentProfile.rate[u][1],void 0,{number:!0}]])]),g("div",Jne,[Ge(g("input",{class:"input",id:`${t.currentModeText}-${t.rateLabel[u]}-yaw`,type:"number",step:t.rateStep[t.currentMode][u],"onUpdate:modelValue":d=>t.currentProfile.rate[u][2]=d,onInput:e[6]||(e[6]=d=>t.update())},null,40,Qne),[[Xe,t.currentProfile.rate[u][2],void 0,{number:!0}]])])])])])])]))),128))])])]),g("div",ese,[g("div",tse,[g("label",nse,[_e(" LevelMaxAngle "),X(o,{entry:"rate.level_max_angle"})])]),g("div",sse,[g("div",ise,[g("div",rse,[Ge(g("input",{class:"input",id:"level-max-angle",type:"number",step:"5","onUpdate:modelValue":e[7]||(e[7]=c=>t.profile.rate.level_max_angle=c)},null,512),[[Xe,t.profile.rate.level_max_angle,void 0,{number:!0}]])])])])]),g("div",ose,[ase,g("div",lse,[g("div",cse,[g("div",use,[Ge(g("input",{class:"input",step:"0.01",id:"sticks-deadband",type:"number","onUpdate:modelValue":e[8]||(e[8]=c=>t.profile.rate.sticks_deadband=c)},null,512),[[Xe,t.profile.rate.sticks_deadband,void 0,{number:!0}]])])])])])]),g("div",dse,[X(l,{title:"Rates",labels:t.plot.labels,axis:t.plot.axis},null,8,["labels","axis"])])])])])])}const hse=tt(_ne,[["render",fse]]),pse=Ye({name:"StickRatesLegacy",components:{LineChart:Ov},setup(){return{profile:jt()}},data(){return{plotLowRates:!1,rateModes:[{value:0,text:"Silverware"},{value:1,text:"Betaflight"}],plot:{axis:[],labels:[]}}},computed:{currentMode(){return this.rateModes[this.profile.rate.mode]}},watch:{"profile.rate":{handler(t){this.update()},deep:!0},plotLowRates(){this.update()}},methods:{constrainf(t,e,n){return t>n?n:t<e?e:t},limitf(t,e){return this.constrainf(t,-e,e)},rcexpo(t,e){e>1&&(e=1),e<-1&&(e=-1);const n=t*t*t*e+t*(1-e);return this.limitf(n,1)},calcSilverware(t,e){const n=this.profile.rate.silverware.acro_expo[t],s=this.profile.rate.silverware.max_rate[t];return this.rcexpo(e,n)*s},calcBetatflight(t,e){const i=this.profile.rate.betaflight.expo[t];e=this.rcexpo(e,i);let r=this.profile.rate.betaflight.rc_rate[t];r>2&&(r+=14.54*(r-2));const o=e>0?e:-e;let a=200*r*e;const l=this.profile.rate.betaflight.super_rate[t];if(l){const c=1/this.constrainf(1-o*l,.01,1);a*=c}return this.constrainf(a,-1998,1998)},update(){const t=[{label:"Roll",data:[]},{label:"Pitch",data:[]},{label:"Yaw",data:[]}],e=[],n=this.plotLowRates?this.profile.rate.low_rate_mulitplier:1;for(let s=-100;s<=100;s++){const i=s/100;e.push(""+s);for(let r=0;r<3;r++)this.currentMode.text=="Silverware"?t[r].data.push({x:s,y:this.calcSilverware(r,i)*n}):this.currentMode.text=="Betaflight"&&t[r].data.push({x:s,y:this.calcBetatflight(r,i)*n})}this.plot={labels:e,axis:t}}},mounted(){this.update()}}),mse={class:"card"},gse=g("header",{class:"card-header"},[g("p",{class:"card-header-title"},"Rates")],-1),_se={class:"card-content"},yse={class:"content column-narrow field-is-5"},bse={class:"columns"},vse={class:"column is-6"},wse={class:"field is-horizontal"},xse={class:"field-label"},Sse={class:"label",for:"rate-mode"},Ese={class:"field-body"},Tse={class:"field"},Mse={class:"control is-expanded"},Ase={class:"card mt-5 mb-6"},kse={class:"card-header"},Rse={class:"card-header-title"},Cse={class:"card-content"},Ose={class:"content"},Pse=jo('<div class="columns is-multiline"><div class="column is-offset-4 is-8"><div class="columns is-multiline"><div class="column is-4"><h6>Roll</h6></div><div class="column is-4"><h6>Pitch</h6></div><div class="column is-4"><h6>Yaw</h6></div></div></div></div>',1),Lse={class:"column is-4"},Ise=["for"],Dse={class:"field-body"},Fse={class:"field"},Nse={class:"control is-expanded"},Use={class:"columns is-multiline"},$se={class:"column is-4"},Bse=["id","onUpdate:modelValue"],zse={class:"column is-4"},Gse=["id","onUpdate:modelValue"],Hse={class:"column is-4"},Vse=["id","onUpdate:modelValue"],Wse={class:"field is-horizontal"},jse={class:"field-label"},qse={class:"label",for:"level-max-angle"},Yse={class:"field-body"},Kse={class:"field"},Xse={class:"control is-expanded"},Zse={class:"field is-horizontal"},Jse={class:"field-label"},Qse={class:"label",for:"low-rate-mulitplier"},eie={class:"field-body"},tie={class:"field"},nie={class:"control is-expanded"},sie={class:"field is-horizontal"},iie=g("div",{class:"field-label"},[g("label",{class:"label",for:"sticks-deadband"},"SticksDeadband")],-1),rie={class:"field-body"},oie={class:"field"},aie={class:"control is-expanded"},lie={class:"column is-6"},cie=g("label",{for:"plotLowRates"},"Plot LowRates",-1);function uie(t,e,n,s,i,r){const o=Ae("tooltip"),a=Ae("input-select"),l=Ae("LineChart");return Q(),se("div",mse,[gse,g("div",_se,[g("div",yse,[g("div",bse,[g("div",vse,[g("div",wse,[g("div",xse,[g("label",Sse,[_e(" Mode "),X(o,{entry:"rate.mode"})])]),g("div",Ese,[g("div",Tse,[g("div",Mse,[X(a,{id:"rate-mode",class:"is-fullwidth",modelValue:t.profile.rate.mode,"onUpdate:modelValue":e[0]||(e[0]=c=>t.profile.rate.mode=c),modelModifiers:{number:!0},options:t.rateModes,onChange:e[1]||(e[1]=c=>t.update())},null,8,["modelValue","options"])])])])]),g("div",Ase,[g("header",kse,[g("p",Rse,Fe(t.currentMode.text),1)]),g("div",Cse,[g("div",Ose,[Pse,(Q(!0),se(Ze,null,$t(t.profile.rate[t.currentMode.text.toLowerCase()],(c,u)=>(Q(),se("div",{class:"columns is-multiline",key:u},[g("div",Lse,[g("label",{for:`${t.currentMode.text}-${u}`},Fe(u),9,Ise)]),g("div",Dse,[g("div",Fse,[g("div",Nse,[g("div",Use,[g("div",$se,[Ge(g("input",{class:"input",id:`${t.currentMode.text}-${u}-roll`,type:"number",step:"10","onUpdate:modelValue":d=>t.profile.rate[t.currentMode.text.toLowerCase()][u][0]=d},null,8,Bse),[[Xe,t.profile.rate[t.currentMode.text.toLowerCase()][u][0],void 0,{number:!0}]])]),g("div",zse,[Ge(g("input",{class:"input",id:`${t.currentMode.text}-${u}-pitch`,type:"number",step:"10","onUpdate:modelValue":d=>t.profile.rate[t.currentMode.text.toLowerCase()][u][1]=d},null,8,Gse),[[Xe,t.profile.rate[t.currentMode.text.toLowerCase()][u][1],void 0,{number:!0}]])]),g("div",Hse,[Ge(g("input",{class:"input",id:`${t.currentMode.text}-${u}-yaw`,type:"number",step:"10","onUpdate:modelValue":d=>t.profile.rate[t.currentMode.text.toLowerCase()][u][2]=d},null,8,Vse),[[Xe,t.profile.rate[t.currentMode.text.toLowerCase()][u][2],void 0,{number:!0}]])])])])])])]))),128))])])]),g("div",Wse,[g("div",jse,[g("label",qse,[_e(" LevelMaxAngle "),X(o,{entry:"rate.level_max_angle"})])]),g("div",Yse,[g("div",Kse,[g("div",Xse,[Ge(g("input",{class:"input",id:"level-max-angle",type:"number",step:"5","onUpdate:modelValue":e[2]||(e[2]=c=>t.profile.rate.level_max_angle=c)},null,512),[[Xe,t.profile.rate.level_max_angle,void 0,{number:!0}]])])])])]),g("div",Zse,[g("div",Jse,[g("label",Qse,[_e(" LowRateMulitplier "),X(o,{entry:"rate.low_rate_mulitplier"})])]),g("div",eie,[g("div",tie,[g("div",nie,[Ge(g("input",{class:"input",id:"low-rate-mulitplier",type:"number",step:"0.05","onUpdate:modelValue":e[3]||(e[3]=c=>t.profile.rate.low_rate_mulitplier=c)},null,512),[[Xe,t.profile.rate.low_rate_mulitplier,void 0,{number:!0}]])])])])]),g("div",sie,[iie,g("div",rie,[g("div",oie,[g("div",aie,[Ge(g("input",{class:"input",step:"0.01",id:"sticks-deadband",type:"number","onUpdate:modelValue":e[4]||(e[4]=c=>t.profile.rate.sticks_deadband=c)},null,512),[[Xe,t.profile.rate.sticks_deadband,void 0,{number:!0}]])])])])])]),g("div",lie,[t.profile.rate.silverware.acro_expo?(Q(),rn(l,{key:0,title:(t.plotLowRates?"Low ":"")+"Rates",labels:t.plot.labels,axis:t.plot.axis},null,8,["title","labels","axis"])):We("",!0),Ge(g("input",{id:"plotLowRates",name:"plotLowRates",type:"checkbox",class:"switch","onUpdate:modelValue":e[5]||(e[5]=c=>t.plotLowRates=c)},null,512),[[XM,t.plotLowRates]]),cie])])])])])}const die=tt(pse,[["render",uie]]),fie=Ye({name:"PIDRates",data(){return{pidProfiles:[{value:0,text:"PID Profile 1"},{value:1,text:"PID Profile 2"}],stickProfiles:[{value:0,text:"Stick Boost Profile AUX Off"},{value:1,text:"Stick Boost Profile AUX On"}],tdaOptions:[{value:0,text:"None"},{value:1,text:"Active"}],current_preset:-1}},setup(){return{root:cn(),profile:jt()}},computed:{pid_rates:{get(){return this.profile.current_pid_rate},set(t){this.profile.set_current_pid_rate(t)}},stick_rates:{get(){return this.profile.current_stick_rate},set(t){this.profile.set_current_stick_rate(t)}},presets(){return[{index:-1,name:"Choose..."},...this.root.pid_rate_presets].map(t=>({value:t.index,text:t.name}))}},methods:{load_preset(t){this.pid_rates=this.root.pid_rate_presets[t].rate}}}),hie={class:"card"},pie=g("header",{class:"card-header"},[g("p",{class:"card-header-title"},"PID")],-1),mie={class:"card-content"},gie={class:"content column-narrow field-is-5"},_ie={class:"columns"},yie={class:"column is-6"},bie={class:"field field-is-2 is-horizontal"},vie={class:"field-label"},wie={class:"label",for:"pid-preset"},xie={class:"field-body"},Sie={class:"field has-addons"},Eie={class:"control is-expanded"},Tie={class:"control"},Mie={class:"field field-is-2 is-horizontal"},Aie={class:"field-label"},kie={class:"label",for:"pid-profile"},Rie={class:"field-body"},Cie={class:"field"},Oie={class:"control is-expanded"},Pie=jo('<div class="columns mt-4 mb-0"><div class="column is-offset-4 is-8"><div class="columns"><div class="column is-4"><h6>Roll</h6></div><div class="column is-4"><h6>Pitch</h6></div><div class="column is-4"><h6>Yaw</h6></div></div></div></div>',1),Lie={class:"field-label"},Iie={class:"label"},Die={class:"field-body"},Fie={class:"field"},Nie={class:"control is-expanded"},Uie=["id","onUpdate:modelValue"],$ie={class:"field"},Bie={class:"control is-expanded"},zie=["id","onUpdate:modelValue"],Gie={class:"field"},Hie={class:"control is-expanded"},Vie=["id","onUpdate:modelValue"],Wie={class:"field is-horizontal mt-6"},jie={class:"field-label"},qie={class:"label",for:"throttle_dterm_attenuation-enable"},Yie={class:"field-body"},Kie={class:"field"},Xie={class:"control is-expanded"},Zie={class:"field is-horizontal"},Jie={class:"field-label"},Qie={class:"label",for:"throttle_dterm_attenuation-breakpoint"},ere={class:"field-body"},tre={class:"field"},nre={class:"control is-expanded"},sre={class:"field is-horizontal"},ire={class:"field-label"},rre={class:"label",for:"throttle_dterm_attenuation-percent"},ore={class:"field-body"},are={class:"field"},lre={class:"control is-expanded"},cre={class:"column is-6"},ure={class:"field field-is-2 is-horizontal"},dre={class:"field-label"},fre={class:"label",for:"stick-profile"},hre={class:"field-body"},pre={class:"field"},mre={class:"control is-expanded"},gre=jo('<div class="columns my-0"><div class="column is-offset-4 is-8"><div class="columns"><div class="column is-4"><h6>Roll</h6></div><div class="column is-4"><h6>Pitch</h6></div><div class="column is-4"><h6>Yaw</h6></div></div></div></div>',1),_re={class:"field-label"},yre={class:"label"},bre={class:"field-body"},vre={class:"field"},wre={class:"control is-expanded"},xre=["id","onUpdate:modelValue"],Sre={class:"field"},Ere={class:"control is-expanded"},Tre=["id","onUpdate:modelValue"],Mre={class:"field"},Are={class:"control is-expanded"},kre=["id","onUpdate:modelValue"],Rre={class:"columns mt-6 mb-1"},Cre={class:"column is-4"},Ore={class:"has-text-right"},Pre=g("div",{class:"column is-4"},[g("h6",null,"Small")],-1),Lre=g("div",{class:"column is-4"},[g("h6",null,"Big")],-1),Ire={class:"field-label"},Dre={class:"label"},Fre={class:"field-body"},Nre={class:"field"},Ure={class:"control is-expanded"},$re=["id","onUpdate:modelValue"],Bre={class:"field"},zre={class:"control is-expanded"},Gre=["id","onUpdate:modelValue"];function Hre(t,e,n,s,i,r){const o=Ae("tooltip"),a=Ae("input-select"),l=Ae("spinner-btn");return Q(),se("div",hie,[pie,g("div",mie,[g("div",gie,[g("div",_ie,[g("div",yie,[g("div",bie,[g("div",vie,[g("label",wie,[_e(" PID Preset "),X(o,{entry:"pid.preset"})])]),g("div",xie,[g("div",Sie,[g("div",Eie,[X(a,{id:"pid-preset",class:"is-fullwidth",modelValue:t.current_preset,"onUpdate:modelValue":e[0]||(e[0]=c=>t.current_preset=c),modelModifiers:{number:!0},options:t.presets},null,8,["modelValue","options"])]),g("div",Tie,[X(l,{onClick:e[1]||(e[1]=c=>t.load_preset(t.current_preset)),disabled:t.current_preset==-1},{default:Je(()=>[_e(" Load ")]),_:1},8,["disabled"])])])])]),g("div",Mie,[g("div",Aie,[g("label",kie,[_e(" PIDProfile "),X(o,{entry:"pid.profile"})])]),g("div",Rie,[g("div",Cie,[g("div",Oie,[X(a,{id:"pid-profile",class:"is-fullwidth",modelValue:t.profile.pid.pid_profile,"onUpdate:modelValue":e[2]||(e[2]=c=>t.profile.pid.pid_profile=c),modelModifiers:{number:!0},options:t.pidProfiles},null,8,["modelValue","options"])])])])]),Pie,(Q(!0),se(Ze,null,$t(t.pid_rates,(c,u)=>(Q(),se("div",{class:"field field-is-2 is-horizontal",key:u},[g("div",Lie,[g("label",Iie,Fe(u),1)]),g("div",Die,[g("div",Fie,[g("p",Nie,[Ge(g("input",{class:"input",id:`pid-${u}-roll`,type:"number",step:"1.0",min:"0","onUpdate:modelValue":d=>t.pid_rates[u][0]=d},null,8,Uie),[[Xe,t.pid_rates[u][0],void 0,{number:!0}]])])]),g("div",$ie,[g("p",Bie,[Ge(g("input",{class:"input",id:`pid-${u}-pitch`,type:"number",step:"1.0",min:"0","onUpdate:modelValue":d=>t.pid_rates[u][1]=d},null,8,zie),[[Xe,t.pid_rates[u][1],void 0,{number:!0}]])])]),g("div",Gie,[g("p",Hie,[Ge(g("input",{class:"input",id:`pid-${u}-yaw`,type:"number",step:"1.0",min:"0","onUpdate:modelValue":d=>t.pid_rates[u][2]=d},null,8,Vie),[[Xe,t.pid_rates[u][2],void 0,{number:!0}]])])])])]))),128)),g("div",Wie,[g("div",jie,[g("label",qie,[_e(" Throttle DTerm Attenuation "),X(o,{entry:"pid.tda_active"})])]),g("div",Yie,[g("div",Kie,[g("div",Xie,[X(a,{id:"throttle_dterm_attenuation-enable",class:"is-fullwidth",modelValue:t.profile.pid.throttle_dterm_attenuation.tda_active,"onUpdate:modelValue":e[3]||(e[3]=c=>t.profile.pid.throttle_dterm_attenuation.tda_active=c),modelModifiers:{number:!0},options:t.tdaOptions},null,8,["modelValue","options"])])])])]),g("div",Zie,[g("div",Jie,[g("label",Qie,[_e(" TDA Breakpoint "),X(o,{entry:"pid.tda_breakpoint"})])]),g("div",ere,[g("div",tre,[g("div",nre,[Ge(g("input",{class:"input",id:"throttle_dterm_attenuation-breakpoint",type:"number",step:"0.05",min:"0","onUpdate:modelValue":e[4]||(e[4]=c=>t.profile.pid.throttle_dterm_attenuation.tda_breakpoint=c)},null,512),[[Xe,t.profile.pid.throttle_dterm_attenuation.tda_breakpoint,void 0,{number:!0}]])])])])]),g("div",sre,[g("div",ire,[g("label",rre,[_e(" TDA Percent "),X(o,{entry:"pid.tda_percent"})])]),g("div",ore,[g("div",are,[g("div",lre,[Ge(g("input",{class:"input",id:"throttle_dterm_attenuation-percent",type:"number",step:"0.05",min:"0","onUpdate:modelValue":e[5]||(e[5]=c=>t.profile.pid.throttle_dterm_attenuation.tda_percent=c)},null,512),[[Xe,t.profile.pid.throttle_dterm_attenuation.tda_percent,void 0,{number:!0}]])])])])])]),g("div",cre,[g("div",ure,[g("div",dre,[g("label",fre,[_e(" Stick Boost Profile "),X(o,{entry:"pid.stick_profile"})])]),g("div",hre,[g("div",pre,[g("div",mre,[X(a,{id:"stick-profile",class:"is-fullwidth",modelValue:t.profile.pid.stick_profile,"onUpdate:modelValue":e[6]||(e[6]=c=>t.profile.pid.stick_profile=c),modelModifiers:{number:!0},options:t.stickProfiles},null,8,["modelValue","options"])])])])]),gre,(Q(!0),se(Ze,null,$t(t.stick_rates,(c,u)=>(Q(),se("div",{class:"field field-is-2 is-horizontal",key:u},[g("div",_re,[g("label",yre,Fe(u),1)]),g("div",bre,[g("div",vre,[g("p",wre,[Ge(g("input",{class:"input",id:`stick-${u}-roll`,type:"number",step:"0.01","onUpdate:modelValue":d=>t.stick_rates[u][0]=d},null,8,xre),[[Xe,t.stick_rates[u][0],void 0,{number:!0}]])])]),g("div",Sre,[g("p",Ere,[Ge(g("input",{class:"input",id:`stick-${u}-pitch`,type:"number",step:"0.01","onUpdate:modelValue":d=>t.stick_rates[u][1]=d},null,8,Tre),[[Xe,t.stick_rates[u][1],void 0,{number:!0}]])])]),g("div",Mre,[g("p",Are,[Ge(g("input",{class:"input",id:`stick-${u}-yaw`,type:"number",step:"0.01","onUpdate:modelValue":d=>t.stick_rates[u][2]=d},null,8,kre),[[Xe,t.stick_rates[u][2],void 0,{number:!0}]])])])])]))),128)),g("div",Rre,[g("div",Cre,[g("h6",Ore,[_e(" Angle Strength "),X(o,{entry:"pid.angle_strength"})])]),Pre,Lre]),(Q(),se(Ze,null,$t(["kp","kd"],(c,u)=>g("div",{class:"field field-is-2 is-horizontal",key:u},[g("div",Ire,[g("label",Dre,Fe(c),1)]),g("div",Fre,[g("div",Nre,[g("p",Ure,[Ge(g("input",{class:"input",id:`small-angle-${c}`,type:"number",step:"0.01","onUpdate:modelValue":d=>t.profile.pid.small_angle[c]=d},null,8,$re),[[Xe,t.profile.pid.small_angle[c],void 0,{number:!0}]])])]),g("div",Bre,[g("p",zre,[Ge(g("input",{class:"input",id:`big-angle-${c}`,type:"number",step:"0.01","onUpdate:modelValue":d=>t.profile.pid.big_angle[c]=d},null,8,Gre),[[Xe,t.profile.pid.big_angle[c],void 0,{number:!0}]])])])])])),64))])])])])])}const Vre=tt(fie,[["render",Hre]]),Wre=Ye({name:"FilterSettings",setup(){return{profile:jt()}},data(){return{filterTypeOptions:[{value:0,text:"None"},{value:1,text:"PT1"},{value:2,text:"PT2"},{value:3,text:"PT3"}],toggleOptions:[{value:0,text:"Off"},{value:1,text:"On"}]}}}),jre={class:"card"},qre={class:"card-header"},Yre=g("p",{class:"card-header-title"},"Filter",-1),Kre={class:"card-content"},Xre={class:"content column-narrow field-is-5"},Zre={key:0,class:"columns"},Jre={key:0,class:"column is-6"},Qre={class:"field is-horizontal"},eoe={class:"field-label"},toe={class:"label",for:"gyro-1-type"},noe={class:"field-body"},soe={class:"field"},ioe={class:"control is-expanded"},roe={class:"field is-horizontal"},ooe={class:"field-label"},aoe={class:"label",for:"gyro-1-freq"},loe={class:"field-body"},coe={class:"field"},uoe={class:"control is-expanded"},doe={class:"field is-horizontal mt-6"},foe={class:"field-label"},hoe={class:"label",for:"gyro-2-type"},poe={class:"field-body"},moe={class:"field"},goe={class:"control is-expanded"},_oe={class:"field is-horizontal"},yoe={class:"field-label"},boe={class:"label",for:"gyro-2-freq"},voe={class:"field-body"},woe={class:"field"},xoe={class:"control is-expanded"},Soe={key:0,class:"field is-horizontal mt-6"},Eoe={class:"field-label"},Toe={class:"label",for:"gyro-dynamic-enable"},Moe={class:"field-body"},Aoe={class:"field"},koe={class:"control is-expanded"},Roe={key:1,class:"column is-6"},Coe={class:"field is-horizontal"},Ooe={class:"field-label"},Poe={class:"label",for:"dterm-1-type"},Loe={class:"field-body"},Ioe={class:"field"},Doe={class:"control is-expanded"},Foe={class:"field is-horizontal"},Noe={class:"field-label"},Uoe={class:"label",for:"dterm-1-freq"},$oe={class:"field-body"},Boe={class:"field"},zoe={class:"control is-expanded"},Goe={class:"field is-horizontal mt-6"},Hoe={class:"field-label"},Voe={class:"label",for:"dterm-2-type"},Woe={class:"field-body"},joe={class:"field"},qoe={class:"control is-expanded"},Yoe={class:"field is-horizontal"},Koe={class:"field-label"},Xoe={class:"label",for:"dterm-2-freq"},Zoe={class:"field-body"},Joe={class:"field"},Qoe={class:"control is-expanded"},eae={class:"field is-horizontal mt-6"},tae={class:"field-label"},nae={class:"label",for:"dterm-dynamic-enable"},sae={class:"field-body"},iae={class:"field"},rae={class:"control is-expanded"},oae={class:"field is-horizontal"},aae={class:"field-label"},lae={class:"label",for:"dterm-dynamic-min"},cae={class:"field-body"},uae={class:"field"},dae={class:"control is-expanded"},fae={class:"field is-horizontal"},hae={class:"field-label"},pae={class:"label",for:"dterm-dynamic-max"},mae={class:"field-body"},gae={class:"field"},_ae={class:"control is-expanded"};function yae(t,e,n,s,i,r){const o=Ae("tooltip"),a=Ae("input-select");return Q(),se("div",jre,[g("header",qre,[Yre,X(o,{class:"card-header-icon",entry:"filter.settings",size:"lg"})]),g("div",Kre,[g("div",Xre,[t.profile?(Q(),se("div",Zre,[t.profile.filter.gyro?(Q(),se("div",Jre,[g("div",Qre,[g("div",eoe,[g("label",toe,[_e(" Gyro Pass 1 Type "),X(o,{entry:"filter.gyro_1_type"})])]),g("div",noe,[g("div",soe,[g("div",ioe,[X(a,{class:"is-fullwidth",id:"gyro-1-type",modelValue:t.profile.filter.gyro[0].type,"onUpdate:modelValue":e[0]||(e[0]=l=>t.profile.filter.gyro[0].type=l),modelModifiers:{number:!0},options:t.filterTypeOptions},null,8,["modelValue","options"])])])])]),g("div",roe,[g("div",ooe,[g("label",aoe,[_e(" Gyro Pass 1 Freq "),X(o,{entry:"filter.gyro_1_freq"})])]),g("div",loe,[g("div",coe,[g("div",uoe,[Ge(g("input",{class:"input",id:"gyro-1-freq",type:"number",step:"5",min:"0","onUpdate:modelValue":e[1]||(e[1]=l=>t.profile.filter.gyro[0].cutoff_freq=l)},null,512),[[Xe,t.profile.filter.gyro[0].cutoff_freq,void 0,{number:!0}]])])])])]),g("div",doe,[g("div",foe,[g("label",hoe,[_e(" Gyro Pass 2 Type "),X(o,{entry:"filter.gyro_2_type"})])]),g("div",poe,[g("div",moe,[g("div",goe,[X(a,{class:"is-fullwidth",id:"gyro-2-type",modelValue:t.profile.filter.gyro[1].type,"onUpdate:modelValue":e[2]||(e[2]=l=>t.profile.filter.gyro[1].type=l),modelModifiers:{number:!0},options:t.filterTypeOptions},null,8,["modelValue","options"])])])])]),g("div",_oe,[g("div",yoe,[g("label",boe,[_e(" Gyro Pass 2 Freq "),X(o,{entry:"filter.gyro_2_freq"})])]),g("div",voe,[g("div",woe,[g("div",xoe,[Ge(g("input",{class:"input",id:"gyro-2-freq",type:"number",step:"5",min:"0","onUpdate:modelValue":e[3]||(e[3]=l=>t.profile.filter.gyro[1].cutoff_freq=l)},null,512),[[Xe,t.profile.filter.gyro[1].cutoff_freq,void 0,{number:!0}]])])])])]),t.profile.profileVersionGt("0.2.1")?(Q(),se("div",Soe,[g("div",Eoe,[g("label",Toe,[_e(" Gyro Dynamic Notch "),X(o,{entry:"filter.gyro_dynamic_notch_enable"})])]),g("div",Moe,[g("div",Aoe,[g("div",koe,[X(a,{class:"is-fullwidth",id:"gyro-dynamic-enable",modelValue:t.profile.filter.gyro_dynamic_notch_enable,"onUpdate:modelValue":e[4]||(e[4]=l=>t.profile.filter.gyro_dynamic_notch_enable=l),modelModifiers:{number:!0},options:t.toggleOptions},null,8,["modelValue","options"])])])])])):We("",!0)])):We("",!0),t.profile.filter.dterm?(Q(),se("div",Roe,[g("div",Coe,[g("div",Ooe,[g("label",Poe,[_e(" DTerm Pass 1 Type "),X(o,{entry:"filter.dterm_1_type"})])]),g("div",Loe,[g("div",Ioe,[g("div",Doe,[X(a,{class:"is-fullwidth",id:"dterm-1-type",modelValue:t.profile.filter.dterm[0].type,"onUpdate:modelValue":e[5]||(e[5]=l=>t.profile.filter.dterm[0].type=l),modelModifiers:{number:!0},options:t.filterTypeOptions},null,8,["modelValue","options"])])])])]),g("div",Foe,[g("div",Noe,[g("label",Uoe,[_e(" DTerm Pass 1 Freq "),X(o,{entry:"filter.dterm_1_freq"})])]),g("div",$oe,[g("div",Boe,[g("div",zoe,[Ge(g("input",{class:"input",id:"dterm-1-freq",type:"number",step:"5",min:"0","onUpdate:modelValue":e[6]||(e[6]=l=>t.profile.filter.dterm[0].cutoff_freq=l)},null,512),[[Xe,t.profile.filter.dterm[0].cutoff_freq,void 0,{number:!0}]])])])])]),g("div",Goe,[g("div",Hoe,[g("label",Voe,[_e(" DTerm Pass 2 Type "),X(o,{entry:"filter.dterm_2_type"})])]),g("div",Woe,[g("div",joe,[g("div",qoe,[X(a,{class:"is-fullwidth",id:"dterm-2-type",modelValue:t.profile.filter.dterm[1].type,"onUpdate:modelValue":e[7]||(e[7]=l=>t.profile.filter.dterm[1].type=l),modelModifiers:{number:!0},options:t.filterTypeOptions},null,8,["modelValue","options"])])])])]),g("div",Yoe,[g("div",Koe,[g("label",Xoe,[_e(" DTerm Pass 2 Freq "),X(o,{entry:"filter.dterm_2_freq"})])]),g("div",Zoe,[g("div",Joe,[g("div",Qoe,[Ge(g("input",{class:"input",id:"dterm-2-freq",type:"number",step:"5",min:"0","onUpdate:modelValue":e[8]||(e[8]=l=>t.profile.filter.dterm[1].cutoff_freq=l)},null,512),[[Xe,t.profile.filter.dterm[1].cutoff_freq,void 0,{number:!0}]])])])])]),g("div",eae,[g("div",tae,[g("label",nae,[_e(" DTerm Dynamic "),X(o,{entry:"filter.dterm_dynamic_enable"})])]),g("div",sae,[g("div",iae,[g("div",rae,[X(a,{class:"is-fullwidth",id:"dterm-dynamic-enable",modelValue:t.profile.filter.dterm_dynamic_enable,"onUpdate:modelValue":e[9]||(e[9]=l=>t.profile.filter.dterm_dynamic_enable=l),modelModifiers:{number:!0},options:t.toggleOptions},null,8,["modelValue","options"])])])])]),g("div",oae,[g("div",aae,[g("label",lae,[_e(" DTerm Dynamic Min "),X(o,{entry:"filter.dterm_dynamic_min"})])]),g("div",cae,[g("div",uae,[g("div",dae,[Ge(g("input",{class:"input",id:"dterm-dynamic-min",type:"number",step:"5",min:"0","onUpdate:modelValue":e[10]||(e[10]=l=>t.profile.filter.dterm_dynamic_min=l)},null,512),[[Xe,t.profile.filter.dterm_dynamic_min,void 0,{number:!0}]])])])])]),g("div",fae,[g("div",hae,[g("label",pae,[_e(" DTerm Dynamic Max "),X(o,{entry:"filter.dterm_dynamic_max"})])]),g("div",mae,[g("div",gae,[g("div",_ae,[Ge(g("input",{class:"input",id:"dterm-dynamic-max",type:"number",step:"5",min:"0","onUpdate:modelValue":e[11]||(e[11]=l=>t.profile.filter.dterm_dynamic_max=l)},null,512),[[Xe,t.profile.filter.dterm_dynamic_max,void 0,{number:!0}]])])])])])])):We("",!0)])):We("",!0)])])])}const bae=tt(Wre,[["render",yae]]),vae=Ye({name:"ThrottleSettings",components:{LineChart:Ov},setup(){return{profile:jt()}},data(){return{plot:{labels:["Throttle"],axis:[{label:"Throttle",data:[]}]}}},watch:{"profile.rate.throttle_expo"(){this.update()},"profile.rate.throttle_mid"(){this.update()}},methods:{constrainf(t,e,n){return t>n?n:t<e?e:t},calcThrottle(t){const e=t*2-1,n=this.profile.rate.throttle_expo,s=this.profile.rate.throttle_mid;return this.constrainf((e*e*e*n+e*(1-n)+1)*s,0,1)},update(){const t=[];for(let e=0;e<=100;e++){const n=e/100;t.push({x:e,y:this.calcThrottle(n)*100})}this.plot.axis[0].data=t}},created(){this.update()}}),wae={class:"card"},xae=g("header",{class:"card-header"},[g("p",{class:"card-header-title"},"Throttle Settings")],-1),Sae={class:"card-content"},Eae={class:"content"},Tae={class:"columns column-narrow field-is-5"},Mae={class:"column is-6"},Aae={class:"field is-horizontal mt-6"},kae={class:"field-label"},Rae={class:"label",for:"throttle_mid"},Cae={class:"field-body"},Oae={class:"field"},Pae={class:"control is-expanded"},Lae={class:"field is-horizontal"},Iae={class:"field-label"},Dae={class:"label",for:"throttle_expo"},Fae={class:"field-body"},Nae={class:"field"},Uae={class:"control is-expanded"},$ae={class:"column is-6"};function Bae(t,e,n,s,i,r){const o=Ae("tooltip"),a=Ae("LineChart");return Q(),se("div",wae,[xae,g("div",Sae,[g("div",Eae,[g("div",Tae,[g("div",Mae,[g("div",Aae,[g("div",kae,[g("label",Rae,[_e(" Throttle Mid "),X(o,{entry:"rate.throttle_mid"})])]),g("div",Cae,[g("div",Oae,[g("div",Pae,[Ge(g("input",{class:"input",step:"0.01",id:"throttle_mid",type:"number",min:"0",max:"1","onUpdate:modelValue":e[0]||(e[0]=l=>t.profile.rate.throttle_mid=l)},null,512),[[Xe,t.profile.rate.throttle_mid,void 0,{number:!0}]])])])])]),g("div",Lae,[g("div",Iae,[g("label",Dae,[_e(" Throttle Expo "),X(o,{entry:"rate.throttle_expo"})])]),g("div",Fae,[g("div",Nae,[g("div",Uae,[Ge(g("input",{class:"input",step:"0.01",id:"throttle_expo",type:"number",min:"0",max:"1","onUpdate:modelValue":e[1]||(e[1]=l=>t.profile.rate.throttle_expo=l)},null,512),[[Xe,t.profile.rate.throttle_expo,void 0,{number:!0}]])])])])])]),g("div",$ae,[X(a,{title:"Throttle",labels:t.plot.labels,axis:t.plot.axis},null,8,["labels","axis"])])])])])])}const zae=tt(vae,[["render",Bae]]),Gae=Ye({name:"Rate",components:{StickRates:hse,PIDRates:Vre,FilterSettings:bae,StickRatesLegacy:die,ThrottleSettings:zae},setup(){return{profile:jt(),default_profile:Sf()}}}),Hae={class:"columns is-multiline"},Vae={class:"column is-12"},Wae={key:0,class:"column is-12"},jae={class:"column is-12"},qae={class:"column is-12"};function Yae(t,e,n,s,i,r){const o=Ae("StickRatesLegacy"),a=Ae("StickRates"),l=Ae("ThrottleSettings"),c=Ae("PIDRates"),u=Ae("FilterSettings");return Q(),se("div",Hae,[g("div",Vae,[t.default_profile.has_legacy_stickrates?(Q(),rn(o,{key:0})):(Q(),rn(a,{key:1}))]),t.profile.profileVersionGt("0.2.0")?(Q(),se("div",Wae,[X(l)])):We("",!0),g("div",jae,[X(c)]),g("div",qae,[X(u)])])}const Kae=tt(Gae,[["render",Yae]]);var oy={},Xae={get exports(){return oy},set exports(t){oy=t}},ay={},Zae={get exports(){return ay},set exports(t){ay=t}};(function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(n,s){return n<<s|n>>>32-s},rotr:function(n,s){return n<<32-s|n>>>s},endian:function(n){if(n.constructor==Number)return e.rotl(n,8)&16711935|e.rotl(n,24)&4278255360;for(var s=0;s<n.length;s++)n[s]=e.endian(n[s]);return n},randomBytes:function(n){for(var s=[];n>0;n--)s.push(Math.floor(Math.random()*256));return s},bytesToWords:function(n){for(var s=[],i=0,r=0;i<n.length;i++,r+=8)s[r>>>5]|=n[i]<<24-r%32;return s},wordsToBytes:function(n){for(var s=[],i=0;i<n.length*32;i+=8)s.push(n[i>>>5]>>>24-i%32&255);return s},bytesToHex:function(n){for(var s=[],i=0;i<n.length;i++)s.push((n[i]>>>4).toString(16)),s.push((n[i]&15).toString(16));return s.join("")},hexToBytes:function(n){for(var s=[],i=0;i<n.length;i+=2)s.push(parseInt(n.substr(i,2),16));return s},bytesToBase64:function(n){for(var s=[],i=0;i<n.length;i+=3)for(var r=n[i]<<16|n[i+1]<<8|n[i+2],o=0;o<4;o++)i*8+o*6<=n.length*8?s.push(t.charAt(r>>>6*(3-o)&63)):s.push("=");return s.join("")},base64ToBytes:function(n){n=n.replace(/[^A-Z0-9+\/]/ig,"");for(var s=[],i=0,r=0;i<n.length;r=++i%4)r!=0&&s.push((t.indexOf(n.charAt(i-1))&Math.pow(2,-2*r+8)-1)<<r*2|t.indexOf(n.charAt(i))>>>6-r*2);return s}};Zae.exports=e})();var ly={utf8:{stringToBytes:function(t){return ly.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(ly.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(t.charCodeAt(n)&255);return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}},Z3=ly;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Jae=function(t){return t!=null&&(D8(t)||Qae(t)||!!t._isBuffer)};function D8(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function Qae(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&D8(t.slice(0,0))}(function(){var t=ay,e=Z3.utf8,n=Jae,s=Z3.bin,i=function(r,o){r.constructor==String?o&&o.encoding==="binary"?r=s.stringToBytes(r):r=e.stringToBytes(r):n(r)?r=Array.prototype.slice.call(r,0):!Array.isArray(r)&&r.constructor!==Uint8Array&&(r=r.toString());for(var a=t.bytesToWords(r),l=r.length*8,c=1732584193,u=-271733879,d=-1732584194,f=271733878,h=0;h<a.length;h++)a[h]=(a[h]<<8|a[h]>>>24)&16711935|(a[h]<<24|a[h]>>>8)&4278255360;a[l>>>5]|=128<<l%32,a[(l+64>>>9<<4)+14]=l;for(var _=i._ff,p=i._gg,m=i._hh,y=i._ii,h=0;h<a.length;h+=16){var b=c,v=u,w=d,S=f;c=_(c,u,d,f,a[h+0],7,-680876936),f=_(f,c,u,d,a[h+1],12,-389564586),d=_(d,f,c,u,a[h+2],17,606105819),u=_(u,d,f,c,a[h+3],22,-1044525330),c=_(c,u,d,f,a[h+4],7,-176418897),f=_(f,c,u,d,a[h+5],12,1200080426),d=_(d,f,c,u,a[h+6],17,-1473231341),u=_(u,d,f,c,a[h+7],22,-45705983),c=_(c,u,d,f,a[h+8],7,1770035416),f=_(f,c,u,d,a[h+9],12,-1958414417),d=_(d,f,c,u,a[h+10],17,-42063),u=_(u,d,f,c,a[h+11],22,-1990404162),c=_(c,u,d,f,a[h+12],7,1804603682),f=_(f,c,u,d,a[h+13],12,-40341101),d=_(d,f,c,u,a[h+14],17,-1502002290),u=_(u,d,f,c,a[h+15],22,1236535329),c=p(c,u,d,f,a[h+1],5,-165796510),f=p(f,c,u,d,a[h+6],9,-1069501632),d=p(d,f,c,u,a[h+11],14,643717713),u=p(u,d,f,c,a[h+0],20,-373897302),c=p(c,u,d,f,a[h+5],5,-701558691),f=p(f,c,u,d,a[h+10],9,38016083),d=p(d,f,c,u,a[h+15],14,-660478335),u=p(u,d,f,c,a[h+4],20,-405537848),c=p(c,u,d,f,a[h+9],5,568446438),f=p(f,c,u,d,a[h+14],9,-1019803690),d=p(d,f,c,u,a[h+3],14,-187363961),u=p(u,d,f,c,a[h+8],20,1163531501),c=p(c,u,d,f,a[h+13],5,-1444681467),f=p(f,c,u,d,a[h+2],9,-51403784),d=p(d,f,c,u,a[h+7],14,1735328473),u=p(u,d,f,c,a[h+12],20,-1926607734),c=m(c,u,d,f,a[h+5],4,-378558),f=m(f,c,u,d,a[h+8],11,-2022574463),d=m(d,f,c,u,a[h+11],16,1839030562),u=m(u,d,f,c,a[h+14],23,-35309556),c=m(c,u,d,f,a[h+1],4,-1530992060),f=m(f,c,u,d,a[h+4],11,1272893353),d=m(d,f,c,u,a[h+7],16,-155497632),u=m(u,d,f,c,a[h+10],23,-1094730640),c=m(c,u,d,f,a[h+13],4,681279174),f=m(f,c,u,d,a[h+0],11,-358537222),d=m(d,f,c,u,a[h+3],16,-722521979),u=m(u,d,f,c,a[h+6],23,76029189),c=m(c,u,d,f,a[h+9],4,-640364487),f=m(f,c,u,d,a[h+12],11,-421815835),d=m(d,f,c,u,a[h+15],16,530742520),u=m(u,d,f,c,a[h+2],23,-995338651),c=y(c,u,d,f,a[h+0],6,-198630844),f=y(f,c,u,d,a[h+7],10,1126891415),d=y(d,f,c,u,a[h+14],15,-1416354905),u=y(u,d,f,c,a[h+5],21,-57434055),c=y(c,u,d,f,a[h+12],6,1700485571),f=y(f,c,u,d,a[h+3],10,-1894986606),d=y(d,f,c,u,a[h+10],15,-1051523),u=y(u,d,f,c,a[h+1],21,-2054922799),c=y(c,u,d,f,a[h+8],6,1873313359),f=y(f,c,u,d,a[h+15],10,-30611744),d=y(d,f,c,u,a[h+6],15,-1560198380),u=y(u,d,f,c,a[h+13],21,1309151649),c=y(c,u,d,f,a[h+4],6,-145523070),f=y(f,c,u,d,a[h+11],10,-1120210379),d=y(d,f,c,u,a[h+2],15,718787259),u=y(u,d,f,c,a[h+9],21,-343485551),c=c+b>>>0,u=u+v>>>0,d=d+w>>>0,f=f+S>>>0}return t.endian([c,u,d,f])};i._ff=function(r,o,a,l,c,u,d){var f=r+(o&a|~o&l)+(c>>>0)+d;return(f<<u|f>>>32-u)+o},i._gg=function(r,o,a,l,c,u,d){var f=r+(o&l|a&~l)+(c>>>0)+d;return(f<<u|f>>>32-u)+o},i._hh=function(r,o,a,l,c,u,d){var f=r+(o^a^l)+(c>>>0)+d;return(f<<u|f>>>32-u)+o},i._ii=function(r,o,a,l,c,u,d){var f=r+(a^(o|~l))+(c>>>0)+d;return(f<<u|f>>>32-u)+o},i._blocksize=16,i._digestsize=16,Xae.exports=function(r,o){if(r==null)throw new Error("Illegal argument "+r);var a=t.wordsToBytes(i(r,o));return o&&o.asBytes?a:o&&o.asString?s.bytesToString(a):t.bytesToHex(a)}})();const ele=Ye({name:"ReceiverSettings",data(){return{lqiSourceNames:[{value:0,text:"PACKET_RATE"},{value:1,text:"CHANNEL"},{value:2,text:"DIRECT"}],elrsBindPhraseInput:""}},setup(){return{profile:jt(),info:Yn(),bind:QA(),state:Ps(),root:cn()}},computed:{...aA(ll,{serialProtoNames:t=>Cs(t.RXSerialProtocol).getKeys(),RXProtocol:t=>t.RXProtocol}),date(){return new Date(this.profile.meta.datetime*1e3)},protoNames(){return Cs(this.RXProtocol).getKeys()},rx_protocol(){return this.profile.receiver.protocol||this.info.rx_protocol},protocolOptions(){return(this.info.rx_protocols||[]).filter(t=>t>0).map(t=>({value:t,text:this.protoNames[t]}))},serialProto(){return this.serialProtoNames.reduce((t,e,n)=>(t[e]=n,t),{})},isSpiProtocol(){return[this.RXProtocol.FRSKY_D8,this.RXProtocol.FRSKY_D16||this.RXProtocol.FRSKY_D16_FCC,this.RXProtocol.FRSKY_D16||this.RXProtocol.FRSKY_D16_LBT,this.RXProtocol.REDPINE,this.RXProtocol.FLYSKY_AFHDS,this.RXProtocol.FLYSKY_AFHDS2A].includes(this.rx_protocol)},protoStatus(){if([this.RXProtocol.FRSKY_D8,this.RXProtocol.FRSKY_D16||this.RXProtocol.FRSKY_D16_FCC,this.RXProtocol.FRSKY_D16||this.RXProtocol.FRSKY_D16_LBT,this.RXProtocol.REDPINE,this.RXProtocol.EXPRESS_LRS,this.RXProtocol.FLYSKY_AFHDS,this.RXProtocol.FLYSKY_AFHDS2A].includes(this.rx_protocol))return["RX_STATUS_NONE","RX_STATUS_BINDING","RX_STATUS_BOUND"][this.state.rx_status];if(this.rx_protocol==this.RXProtocol.UNIFIED_SERIAL){if(this.state.rx_status<100)return"RX_STATUS_NONE";if(this.state.rx_status>=100&&this.state.rx_status<200)return"RX_STATUS_DETECTING";if(this.state.rx_status>=200&&this.state.rx_status<300)return"RX_STATUS_DETECTED"}return""},serialProtoStatus(){let t=0;return this.state.rx_status>=100&&this.state.rx_status<200?t=this.state.rx_status-100:this.state.rx_status>=200&&this.state.rx_status<300&&(t=this.state.rx_status-200),this.serialProtoNames[t]},elrsBindPhrase(){var t,e,n;return(n=(e=(t=this.bind)==null?void 0:t.info)==null?void 0:e.raw)==null?void 0:n.slice(1,7).join(", ")},elrsSwitchMode(){var t,e;return(e=(t=this.bind)==null?void 0:t.info)!=null&&e.raw[8]?"Hybrid Switches":"Wide Switches"},downloadAnchor(){return this.$refs.downloadAnchor},fileRef(){return this.$refs.file}},watch:{"profile.receiver.protocol"(){this.reset(),this.root.set_needs_reboot()}},methods:{parseHexString(t){const e=[];for(;t.length>=2;)e.push(parseInt(t.substring(0,2),16)),t=t.substring(2,t.length);return e},apply_elrs_bind_phrase(t){var i;const e=oy(`-DMY_BINDING_PHRASE="${t}"`),n=this.parseHexString(e).slice(0,6),s={...(i=this.bind)==null?void 0:i.info};s.bind_saved=1,s.raw[0]=1;for(let r=0;r<6;r++)s.raw[r+1]=n[r];return s.raw[7]=55,this.bind.apply_bind_info(s)},downloadBindData(){const t=window.btoa(String.fromCharCode(...new Uint8Array(this.bind.info.raw))),n="data:application/octet-stream;charset=utf-8,"+encodeURIComponent(t),s=this.date.toISOString().substring(0,10),r=`BindData_${this.profile.meta.name.replace(/\0/g,"")}_${s}.base64`;this.downloadAnchor.setAttribute("href",n),this.downloadAnchor.setAttribute("download",r),this.downloadAnchor.click()},uploadBindData(){const t=new FileReader;t.addEventListener("load",e=>{var s,i;const n={...(s=this.bind)==null?void 0:s.info};n.bind_saved=1,n.raw=Uint8Array.from(window.atob((i=e==null?void 0:e.target)==null?void 0:i.result),r=>r.charCodeAt(0)),this.bind.apply_bind_info(n)}),this.fileRef.oninput=()=>{var e,n;(n=(e=this.fileRef)==null?void 0:e.files)!=null&&n.length&&t.readAsText(this.fileRef.files[0])},this.fileRef.click()},reset(){var e;const t={...(e=this.bind)==null?void 0:e.info};t.bind_saved=0;for(let n=0;n<t.raw.length;n++)t.raw[n]=0;return this.bind.apply_bind_info(t)}}}),tle={class:"card"},nle={class:"card-header"},sle=g("p",{class:"card-header-title"},"Receiver",-1),ile={class:"card-content"},rle={class:"content field-is-2"},ole={key:0,class:"field is-horizontal"},ale={class:"field-label"},lle={class:"label"},cle={class:"field-body"},ule={class:"field"},dle={class:"control is-expanded"},fle={key:1,class:"field is-horizontal"},hle={class:"field-label"},ple={class:"label"},mle={class:"field-body"},gle={class:"field"},_le={class:"control is-expanded"},yle={key:2,class:"field is-horizontal"},ble={class:"field-label"},vle={class:"label"},wle={class:"field-body"},xle={class:"field"},Sle={class:"control is-expanded"},Ele={key:3,class:"field is-horizontal"},Tle={class:"field-label"},Mle={class:"label"},Ale={class:"field-body"},kle={class:"field"},Rle={class:"control is-expanded"},Cle={key:4,class:"field is-horizontal"},Ole=g("div",{class:"field-label"},[g("label",{class:"label"},"RSSI")],-1),Ple={class:"field-body"},Lle={class:"field"},Ile={class:"control is-expanded"},Dle={key:5,class:"field is-horizontal"},Fle=g("div",{class:"field-label"},[g("label",{class:"label"},"Status")],-1),Nle={class:"field-body"},Ule={class:"field"},$le={class:"control is-expanded"},Ble={key:6,class:"field is-horizontal"},zle=g("div",{class:"field-label"},[g("label",{class:"label"},"Serial Protocol")],-1),Gle={class:"field-body"},Hle={class:"field"},Vle={class:"control is-expanded"},Wle={key:7,class:"card mt-4"},jle=g("header",{class:"card-header"},[g("p",{class:"card-header-title"},"ExpressLRS")],-1),qle={class:"card-content"},Yle={class:"content"},Kle={class:"field is-horizontal"},Xle=g("div",{class:"field-label"},[g("label",{class:"label"},"Switch Mode")],-1),Zle={class:"field-body"},Jle={class:"field"},Qle={class:"control is-expanded"},ece={class:"field is-horizontal"},tce=g("div",{class:"field-label"},[g("label",{class:"label"},"Current Bind Phrase")],-1),nce={class:"field-body"},sce={class:"field"},ice={class:"control is-expanded"},rce={class:"field is-horizontal"},oce=g("div",{class:"field-label"},[g("label",{class:"label"},"New Bind Phrase")],-1),ace={class:"field-body"},lce={class:"field"},cce={class:"control is-expanded"},uce={class:"card-footer"},dce=g("span",{class:"card-footer-item"},null,-1),fce={key:8,class:"card mt-4"},hce=g("header",{class:"card-header"},[g("p",{class:"card-header-title"},"Bind Data")],-1),pce=g("div",{class:"card-content"},[g("div",{class:"content has-text-centered"},[_e(" Save and load bind information for spi protocols."),g("br"),_e(" Requires reboot after load. ")])],-1),mce={class:"card-footer"},gce={class:"input",accept:".base64",type:"file",ref:"file",style:{display:"none"}},_ce={ref:"downloadAnchor",target:"_blank"},yce=g("div",{class:"columns mt-4"},[g("div",{class:"column is-12 has-text-centered"},[g("small",null," When binding via your transmitter, save bind by moving your right transmitter stick UP-UP-UP followed by DOWN-DOWN-DOWN, to toggle the Bind Saved flag above. When binding via passphrase or bind data this is not required. ")])],-1);function bce(t,e,n,s,i,r){const o=Ae("spinner-btn"),a=Ae("tooltip"),l=Ae("input-select");return Q(),se("div",tle,[g("header",nle,[sle,X(o,{class:"card-header-button is-warning",onClick:t.reset},{default:Je(()=>[_e("Reset")]),_:1},8,["onClick"])]),g("div",ile,[g("div",rle,[t.info.rx_protocol&&!t.profile.receiver.protocol?(Q(),se("div",ole,[g("div",ale,[g("label",lle,[_e(" Protocol "),X(a,{entry:"receiver.protocol"})])]),g("div",cle,[g("div",ule,[g("div",dle,Fe(t.protoNames[t.info.rx_protocol]),1)])])])):We("",!0),t.profile.receiver.protocol?(Q(),se("div",fle,[g("div",hle,[g("label",ple,[_e(" Protocol "),X(a,{entry:"receiver.protocol"})])]),g("div",mle,[g("div",gle,[g("div",_le,[X(l,{class:"is-fullwidth",modelValue:t.profile.receiver.protocol,"onUpdate:modelValue":e[0]||(e[0]=c=>t.profile.receiver.protocol=c),modelModifiers:{number:!0},options:t.protocolOptions},null,8,["modelValue","options"])])])])])):We("",!0),t.info.quic_protocol_version>3?(Q(),se("div",yle,[g("div",ble,[g("label",vle,[_e(" LQI Source "),X(a,{entry:"receiver.lqi_source"})])]),g("div",wle,[g("div",xle,[g("div",Sle,[X(l,{class:"is-fullwidth",modelValue:t.profile.receiver.lqi_source,"onUpdate:modelValue":e[1]||(e[1]=c=>t.profile.receiver.lqi_source=c),modelModifiers:{number:!0},options:t.lqiSourceNames},null,8,["modelValue","options"])])])])])):We("",!0),t.info.quic_protocol_version>2?(Q(),se("div",Ele,[g("div",Tle,[g("label",Mle,[_e(" Bind Saved "),X(a,{entry:"receiver.bind_saved"})])]),g("div",Ale,[g("div",kle,[g("div",Rle,Fe(t.bind.info.bind_saved?"yes":"no"),1)])])])):We("",!0),t.info.quic_protocol_version>2?(Q(),se("div",Cle,[Ole,g("div",Ple,[g("div",Lle,[g("div",Ile,Fe(t.state.rx_rssi),1)])])])):We("",!0),t.info.quic_protocol_version>2?(Q(),se("div",Dle,[Fle,g("div",Nle,[g("div",Ule,[g("div",$le,Fe(t.protoStatus),1)])])])):We("",!0),t.info.quic_protocol_version>2&&t.rx_protocol==t.RXProtocol.UNIFIED_SERIAL?(Q(),se("div",Ble,[zle,g("div",Gle,[g("div",Hle,[g("div",Vle,Fe(t.serialProtoStatus),1)])])])):We("",!0),t.bind.info.raw&&t.rx_protocol==t.RXProtocol.EXPRESS_LRS?(Q(),se("div",Wle,[jle,g("div",qle,[g("div",Yle,[g("div",Kle,[Xle,g("div",Zle,[g("div",Jle,[g("div",Qle,Fe(t.elrsSwitchMode),1)])])]),g("div",ece,[tce,g("div",nce,[g("div",sce,[g("div",ice,Fe(t.elrsBindPhrase),1)])])]),g("div",rce,[oce,g("div",ace,[g("div",lce,[g("div",cce,[Ge(g("input",{class:"input",id:"name",type:"text","onUpdate:modelValue":e[2]||(e[2]=c=>t.elrsBindPhraseInput=c)},null,512),[[Xe,t.elrsBindPhraseInput]])])])])])])]),g("footer",uce,[dce,X(o,{class:"card-footer-item",onClick:e[3]||(e[3]=c=>t.apply_elrs_bind_phrase(t.elrsBindPhraseInput)),disabled:t.elrsBindPhraseInput.length<4},{default:Je(()=>[_e(" Apply ")]),_:1},8,["disabled"])])])):We("",!0),t.bind.info.raw&&t.isSpiProtocol?(Q(),se("div",fce,[hce,pce,g("footer",mce,[X(o,{class:"card-footer-item",onClick:t.downloadBindData},{default:Je(()=>[_e(" Save Bind Data ")]),_:1},8,["onClick"]),X(o,{class:"card-footer-item",onClick:t.uploadBindData},{default:Je(()=>[_e(" Load Bind Data ")]),_:1},8,["onClick"])]),g("input",gce,null,512),g("a",_ce,null,512)])):We("",!0),yce])])])}const vce=tt(ele,[["render",bce]]),wce=Ye({name:"RCChannels",data(){return{timerCount:0,timerTimeout:0,receiverChannelMappingOptions:[{value:0,text:"AETR"},{value:1,text:"TAER"}],channelNames:["Roll","Pitch","Yaw","Throttle"],wizardStates:["","Succeeded","Failed","","Recording, move sticks to extents","Testing calibration, move sticks again to extents","",""]}},setup(){return{root:cn(),state:Ps(),profile:jt()}},computed:{channelStyle(){return this.state.rx_filtered.map((t,e)=>{if(e==3)return{"margin-left":"0%",width:2+Math.abs(t)*98+"%"};const n=2+Math.abs(t)*49;return{"margin-left":t<0?51-n+"%":"49%",width:n+"%"}})}},watch:{timerCount:{handler(t){clearTimeout(this.timerTimeout),t>0&&(this.timerTimeout=window.setTimeout(()=>{this.timerCount--},1e3))},immediate:!0},"state.stick_calibration_wizard":{handler(t){switch(t){case Ql.STICK_WIZARD_SUCCESS:case Ql.STICK_WIZARD_FAILED:this.timerCount=0,setTimeout(()=>this.profile.fetch_profile(),500);break;case Ql.STICK_WIZARD_CAPTURE_STICKS:case Ql.STICK_WIZARD_WAIT_FOR_CONFIRM:this.timerCount=19;break}},immediate:!0}}});const Lf=t=>(Gm("data-v-331910cd"),t=t(),Hm(),t),xce={class:"card"},Sce=Lf(()=>g("header",{class:"card-header"},[g("p",{class:"card-header-title"},"RC Channels")],-1)),Ece={class:"card-content"},Tce={class:"content"},Mce={class:"field field-is-2 is-horizontal mb-6"},Ace={class:"field-label"},kce={class:"label"},Rce={class:"field-body"},Cce={class:"field"},Oce={class:"control is-expanded"},Pce={class:"field-label",style:{"align-self":"unset"}},Lce={class:"label"},Ice={class:"field-body"},Dce={class:"field has-addons"},Fce={class:"control my-0"},Nce=["id","onUpdate:modelValue"],Uce=Lf(()=>g("p",{class:"control"},[g("a",{class:"button is-small is-static"}," min ")],-1)),$ce={class:"field has-addons"},Bce={class:"control my-0"},zce=["id","onUpdate:modelValue"],Gce=Lf(()=>g("p",{class:"control"},[g("a",{class:"button is-small is-static"}," max ")],-1)),Hce={class:"column is-6 py-0"},Vce={class:"channel-container"},Wce={class:"columns mt-5"},jce={class:"column is-8 wizard"},qce=Lf(()=>g("br",null,null,-1)),Yce=Lf(()=>g("br",null,null,-1)),Kce={key:0},Xce={class:"column is-4"};function Zce(t,e,n,s,i,r){const o=Ae("tooltip"),a=Ae("input-select"),l=Ae("spinner-btn");return Q(),se("div",xce,[Sce,g("div",Ece,[g("div",Tce,[g("div",Mce,[g("div",Ace,[g("label",kce,[_e(" Channel Mapping "),X(o,{entry:"receiver.channel_mapping"})])]),g("div",Rce,[g("div",Cce,[g("div",Oce,[X(a,{class:"is-fullwidth",modelValue:t.profile.receiver.channel_mapping,"onUpdate:modelValue":e[0]||(e[0]=c=>t.profile.receiver.channel_mapping=c),modelModifiers:{number:!0},options:t.receiverChannelMappingOptions},null,8,["modelValue","options"])])])])]),(Q(!0),se(Ze,null,$t(t.channelStyle,(c,u)=>(Q(),se("div",{class:"field is-horizontal",key:"channel-"+u},[g("div",Pce,[g("label",Lce,Fe(t.channelNames[u]),1)]),g("div",Ice,[g("div",Dce,[g("p",Fce,[Ge(g("input",{class:"input is-small",id:`limit-${t.channelNames[u]}-min`,type:"number",step:"0.1","onUpdate:modelValue":d=>t.profile.receiver.stick_calibration_limits[u].min=d},null,8,Nce),[[Xe,t.profile.receiver.stick_calibration_limits[u].min,void 0,{number:!0}]])]),Uce]),g("div",$ce,[g("p",Bce,[Ge(g("input",{class:"input is-small",id:`limit-${t.channelNames[u]}-max`,type:"number",step:"0.1","onUpdate:modelValue":d=>t.profile.receiver.stick_calibration_limits[u].max=d},null,8,zce),[[Xe,t.profile.receiver.stick_calibration_limits[u].max,void 0,{number:!0}]])]),Gce])]),g("div",Hce,[g("div",Vce,[g("div",{class:"channel-bar",style:Lm(c)},Fe(Math.floor(t.state.rx_filtered[u]*(u!=3?50:100))),5)])])]))),128)),g("div",Wce,[g("div",jce,[_e(" Stick Calibration Wizard "),qce,_e(" "+Fe(t.wizardStates[t.state.stick_calibration_wizard])+" ",1),Yce,t.timerCount?(Q(),se("span",Kce,"Continuing in "+Fe(t.timerCount)+"s..",1)):We("",!0)]),g("div",Xce,[X(l,{class:"is-pulled-right is-primary",onClick:e[1]||(e[1]=c=>t.root.cal_sticks())},{default:Je(()=>[_e(" Calibrate ")]),_:1})])])])])])}const Jce=tt(wce,[["render",Zce],["__scopeId","data-v-331910cd"]]),Qce=Ye({name:"AuxChannels",setup(){return{state:Ps(),profile:jt()}},computed:{...aA(ll,{auxChannels:t=>Cs(t.AuxChannels).map((e,n)=>({text:n,value:e})),auxFunctions:t=>Cs(t.AuxFunctions).getKeys().map((e,n)=>({index:n,key:e})).filter(e=>!e.key.startsWith("_"))})},methods:{valueForIndex(t){return this.state.aux[t]},classForIndex(t){return this.profile.receiver.aux?this.profile.receiver.aux[t]==12?"text-danger":this.profile.receiver.aux[t]==13||this.valueForIndex(this.profile.receiver.aux[t])?"text-success":"":""}}}),eue={class:"card"},tue=g("header",{class:"card-header"},[g("p",{class:"card-header-title"},"Aux Channels")],-1),nue={class:"card-content"},sue={class:"content"},iue={class:"columns"},rue={class:"column is-8"},oue={class:"field-label"},aue=["for"],lue={class:"field-body"},cue={class:"field"},uue={class:"control is-expanded"},due={class:"column is-4"},fue={class:"card"},hue=g("header",{class:"card-header"},[g("p",{class:"card-header-title"},"Current AUX State")],-1),pue={class:"card-content"},mue={class:"content"},gue={class:"column is-6 py-1"};function _ue(t,e,n,s,i,r){const o=Ae("tooltip"),a=Ae("input-select");return Q(),se("div",eue,[tue,g("div",nue,[g("div",sue,[g("div",iue,[g("div",rue,[(Q(!0),se(Ze,null,$t(t.auxFunctions,l=>(Q(),se("div",{class:"field field-is-3 is-horizontal mr-4",key:l.key},[g("div",oue,[g("label",{class:Xs(["label",t.classForIndex(l.index)]),for:l.key},[_e(Fe(l.key)+" ",1),X(o,{entry:"channel."+l.key.toLowerCase()},null,8,["entry"])],10,aue)]),g("div",lue,[g("div",cue,[g("div",uue,[X(a,{id:l.key,class:"is-fullwidth",modelValue:t.profile.receiver.aux[l.index],"onUpdate:modelValue":c=>t.profile.receiver.aux[l.index]=c,modelModifiers:{number:!0},options:t.auxChannels},null,8,["id","modelValue","onUpdate:modelValue","options"])])])])]))),128))]),g("div",due,[g("div",fue,[hue,g("div",pue,[g("div",mue,[(Q(!0),se(Ze,null,$t(t.auxChannels,(l,c)=>(Q(),se("div",{class:"columns",key:l.text},[g("div",gue,Fe(l.text),1),g("div",{class:Xs(["column is-6 py-1",t.valueForIndex(c)?"text-success":"text-danger"])},Fe(t.valueForIndex(c)?"ON":"OFF"),3)]))),128))])])])])])])])])}const yue=tt(Qce,[["render",_ue]]),bue=Ye({name:"Receiver",components:{ReceiverSettings:vce,RCChannels:Jce,AuxChannels:yue},setup(){return{info:Yn()}}}),vue={class:"columns is-multiline"},wue={class:"column is-12"},xue={key:0,class:"column is-12"},Sue={class:"column is-12"};function Eue(t,e,n,s,i,r){const o=Ae("ReceiverSettings"),a=Ae("RCChannels"),l=Ae("AuxChannels");return Q(),se("div",vue,[g("div",wue,[X(o)]),t.info.quicVersionGt("0.1.0")?(Q(),se("div",xue,[X(a)])):We("",!0),g("div",Sue,[X(l)])])}const Tue=tt(bue,[["render",Eue]]);var Me;let Ot=(Me=class{static pixelsWidth(e,n=Me.BORDER,s=!1){return s&&(n=0),e*(Me.CHAR_WIDTH*(s?2:1)+n)+n}static pixelsHeight(e,n=Me.BORDER,s=!1){return s&&(n=0),e*(Me.CHAR_HEIGHT*(s?2:1)+n)+n}static elementDecode(e,n){switch(n){case"active":return e&1;case"invert":return e>>1&1;case"pos_x":return e>>2&255;case"pos_y":return e>>10&255;default:return 0}}static elementEncode(e,n,s){switch(n){case"active":return s?e|1:e&-2;case"invert":return s?e|1<<1:e&~(1<<1);case"pos_x":return e&~(255<<2)|(s&255)<<2;case"pos_y":return e&~(255<<10)|(s&255)<<10;default:return e}}static unpackFont(e,n){return Me.unpackFontCanvas(e,n),e.toDataURL()}static unpackFontBitmap(e,n=!1){const s=new global.OffscreenCanvas(209,305);return Me.unpackFontCanvas(s,e,n),s.transferToImageBitmap()}static unpackFontCanvas(e,n,s=!1){const i=e.getContext("2d");i.clearRect(0,0,e.width,e.height),i.fillStyle="red",i.fillRect(0,0,Me.FULL_WIDTH,Me.FULL_HEIGHT);const r=new Uint8ClampedArray(Me.CHAR_WIDTH*Me.CHAR_HEIGHT*4);for(let o=0;o<Me.FONT_HEIGHT;o++)for(let a=0;a<Me.FONT_WIDTH;a++){const l=n[o*16+a];let c=0,u=0;for(const f of l)Me.setPixel(r,c+0,u,f>>6&3,s),Me.setPixel(r,c+1,u,f>>4&3,s),Me.setPixel(r,c+2,u,f>>2&3,s),Me.setPixel(r,c+3,u,f>>0&3,s),c+=4,c==Me.CHAR_WIDTH&&(c=0,u++);const d=new ImageData(r,Me.CHAR_WIDTH,Me.CHAR_HEIGHT);i.putImageData(d,Me.pixelsWidth(a),Me.pixelsHeight(o))}}static packCanvas(e){const n=e.getImageData(0,0,Me.FULL_WIDTH,Me.FULL_HEIGHT),s=[];for(let i=0;i<Me.FONT_HEIGHT;i++)for(let r=0;r<Me.FONT_WIDTH;r++){const o=new Uint8Array(Me.CHAR_WIDTH*Me.CHAR_HEIGHT/4);let a=0,l=0;for(let c=0;c<54;c++)o[c]=(Me.getPixel(n.data,a+0+Me.pixelsWidth(r),l+Me.pixelsHeight(i))&3)<<6|(Me.getPixel(n.data,a+1+Me.pixelsWidth(r),l+Me.pixelsHeight(i))&3)<<4|(Me.getPixel(n.data,a+2+Me.pixelsWidth(r),l+Me.pixelsHeight(i))&3)<<2|(Me.getPixel(n.data,a+3+Me.pixelsWidth(r),l+Me.pixelsHeight(i))&3)<<0,a+=4,a==Me.CHAR_WIDTH&&(a=0,l++);s.push(o)}return s}static packFont(e,n){const s=e.getContext("2d");return s.clearRect(0,0,e.width,e.height),s.drawImage(n,0,0),Me.packCanvas(s)}static packLogo(e,n,s){const i=n.getContext("2d");i.clearRect(0,0,n.width,n.height),i.drawImage(s,0,0);const r=[],o=i.getImageData(0,0,s.width,s.height);for(let l=0;l<Me.LOGO_HEIGHT;l++)for(let c=0;c<Me.LOGO_WIDTH;c++){const u=new Uint8ClampedArray(Me.CHAR_WIDTH*Me.CHAR_HEIGHT*4);for(let d=0;d<Me.CHAR_HEIGHT;d++)for(let f=0;f<Me.CHAR_WIDTH;f++){const h=(d+Me.pixelsHeight(l,0))*Me.LOGO_FULL_WIDTH+f+Me.pixelsWidth(c,0);u[(d*Me.CHAR_WIDTH+f)*4+0]=o.data[h*4+0],u[(d*Me.CHAR_WIDTH+f)*4+1]=o.data[h*4+1],u[(d*Me.CHAR_WIDTH+f)*4+2]=o.data[h*4+2],u[(d*Me.CHAR_WIDTH+f)*4+3]=o.data[h*4+3]}r.push(u)}const a=e.getContext("2d");for(let l=10;l<Me.FONT_HEIGHT;l++)for(let c=0;c<Me.FONT_WIDTH;c++){const u=r.shift(),d=new ImageData(u,Me.CHAR_WIDTH,Me.CHAR_HEIGHT);a.putImageData(d,Me.pixelsWidth(c),Me.pixelsHeight(l))}return Me.packCanvas(a)}static setPixel(e,n,s,i,r=!1){let o=2,a=0;switch(r&&(o=0,a=2),i){case a:e[(s*Me.CHAR_WIDTH+n)*4+0]=0,e[(s*Me.CHAR_WIDTH+n)*4+1]=0,e[(s*Me.CHAR_WIDTH+n)*4+2]=0,e[(s*Me.CHAR_WIDTH+n)*4+3]=255;break;case o:e[(s*Me.CHAR_WIDTH+n)*4+0]=255,e[(s*Me.CHAR_WIDTH+n)*4+1]=255,e[(s*Me.CHAR_WIDTH+n)*4+2]=255,e[(s*Me.CHAR_WIDTH+n)*4+3]=255;break;default:e[(s*Me.CHAR_WIDTH+n)*4+0]=0,e[(s*Me.CHAR_WIDTH+n)*4+1]=0,e[(s*Me.CHAR_WIDTH+n)*4+2]=0,e[(s*Me.CHAR_WIDTH+n)*4+3]=0;break}}static getPixel(e,n,s){let i=0;return e[(s*Me.FULL_WIDTH+n)*4+0]>0&&(i|=2),e[(s*Me.FULL_WIDTH+n)*4+3]<255&&(i|=1),i}},Ke(Me,"CHAR_WIDTH",12),Ke(Me,"CHAR_HEIGHT",18),Ke(Me,"BORDER",1),Ke(Me,"FONT_WIDTH",16),Ke(Me,"FONT_HEIGHT",16),Ke(Me,"FULL_WIDTH",Me.pixelsWidth(Me.FONT_WIDTH)),Ke(Me,"FULL_HEIGHT",Me.pixelsHeight(Me.FONT_HEIGHT)),Ke(Me,"LOGO_HEIGHT",4),Ke(Me,"LOGO_WIDTH",24),Ke(Me,"LOGO_FULL_WIDTH",Me.pixelsWidth(Me.LOGO_WIDTH,0)),Ke(Me,"LOGO_FULL_HEIGHT",Me.pixelsHeight(Me.LOGO_HEIGHT,0)),Me);const F8=cs("osd",{state:()=>({font_raw:void 0,font_bitmap:void 0,font_bitmap_inverted:void 0}),actions:{fetch_sd_osd_font(){return yt.get(xn.OSDFont).then(t=>{this.font_raw=t,this.font_bitmap=Ot.unpackFontBitmap(t),this.font_bitmap_inverted=Ot.unpackFontBitmap(t,!0)})},fetch_hd_osd_font(){return new Promise((t,e)=>{const n=new Image;n.onload=()=>{t(n)},n.src="osd/hdzero_quic.png"}).then(t=>createImageBitmap(t)).then(t=>{this.font_raw=void 0,this.font_bitmap=t,this.font_bitmap_inverted=void 0})}}});function Mue(t,e,n,s,i,r){return s<2*r&&(r=s/2),i<2*r&&(r=i/2),t.beginPath(),t.moveTo(e+r,n),t.arcTo(e+s,n,e+s,n+i,r),t.arcTo(e+s,n+i,e,n+i,r),t.arcTo(e,n+i,e,n,r),t.arcTo(e,n,e+s,n,r),t.closePath(),t}const Aue=Ye({name:"OSDElements",setup(){return{profile:jt(),osd:F8()}},data(){return{preview:"NTSC",drag:{element:-1,colOffset:0,coord:{x:0,y:0}}}},computed:{is_hd(){return this.profile.serial.hdzero>0},currentElements(){return this.is_hd?this.profile.osd.elements_hd:this.profile.osd.elements},limits(){return{width:this.is_hd?50:30,height:this.is_hd?18:15}},screen(){const t={...this.limits};return!this.is_hd&&this.preview=="NTSC"&&(t.height-=2),t},canvas(){return this.$refs.canvas},canvasWidth(){return this.screen.width*Ot.CHAR_WIDTH},canvasHeight(){return this.screen.height*Ot.CHAR_HEIGHT},elementOptions(){return[{name:"CALLSIGN",enabled:!0,text:this.profile.osd.callsign},{name:"CELL COUNT",enabled:!0,text:"1S"},{name:"FUELGAUGE VOLTS",enabled:!0,text:" 4.3V"},{name:"FILTERED VOLTS",enabled:!0,text:" 4.3V"},{name:"GYRO TEMP",enabled:!0,text:"  40"},{name:"FLIGHT MODE",enabled:!0,text:"   ACRO   "},{name:"RSSI",enabled:!0,text:"  90"},{name:"STOPWATCH",enabled:!0,text:"01:20"},{name:"SYSTEM STATUS",enabled:!0,text:"  **ARMED**    "},{name:"THROTTLE",enabled:!0,text:"  50"},{name:"VTX CHANNEL",enabled:!0,text:"R:7:1"},{name:"CURRENT",enabled:!0,text:"0.00"}]},elements(){return this.currentElements.filter((t,e)=>this.elementOptions[e]).map((t,e)=>({index:e,...this.elementOptions[e],active:Ot.elementDecode(t,"active"),invert:Ot.elementDecode(t,"invert"),pos:{x:Ot.elementDecode(t,"pos_x"),y:Ot.elementDecode(t,"pos_y")},value:t}))},callsign:{set(t){let e=t.toUpperCase();for(let n=t.length;n<36;n++)e+="\0";this.profile.osd.callsign=e},get(){return this.profile.osd.callsign.replace(/\0/g,"")}}},watch:{elements(){this.draw_canvas()},drag(){this.draw_canvas()},canvasWidth(){this.$nextTick(()=>{this.draw_canvas()})},canvasHeight(){this.$nextTick(()=>{this.draw_canvas()})},"osd.font_bitmap"(){this.$nextTick(()=>{this.draw_canvas()})}},methods:{translateMouse(t){return{x:t.offsetX*(this.canvasWidth/this.canvas.clientWidth),y:t.offsetY*(this.canvasHeight/this.canvas.clientHeight)}},translateElemement(t){return!this.is_hd&&this.preview=="NTSC"&&t.y>12&&(t.y-=2),{x:t.x*Ot.CHAR_WIDTH,y:Ot.CHAR_HEIGHT-2+(t.y-1)*Ot.CHAR_HEIGHT}},normalizeCoords(t,e=0){return{x:Math.min(Math.max(Math.floor((t.x-e)/Ot.CHAR_WIDTH),0),this.limits.width-1),y:Math.min(Math.max(Math.floor(t.y/Ot.CHAR_HEIGHT),0),this.limits.height-1)}},drag_start(t){t.preventDefault(),t.stopPropagation();const e=this.translateMouse(t),n=this.findElement(e);if(n!=null){const s=this.translateElemement(n.pos),i=e.x-s.x;this.drag={element:n.index,colOffset:i,coord:this.normalizeCoords(e,i)},this.canvas.style.cursor="grab"}},drag_move(t){t.preventDefault(),t.stopPropagation();const e=this.translateMouse(t);if(this.drag.element==-1){const n=this.findElement(e);this.canvas.style.cursor=n!=null?"pointer":"initial";return}this.drag={...this.drag,coord:this.normalizeCoords(e,this.drag.colOffset)}},drag_drop(t){t.preventDefault(),t.stopPropagation();const e=this.translateMouse(t);if(this.drag.element==-1)return;const n=this.normalizeCoords(e,this.drag.colOffset);this.osd_set(this.drag.element,"pos_x",n.x),this.osd_set(this.drag.element,"pos_y",n.y),this.canvas.style.cursor="initial",this.drag={element:-1,colOffset:0,coord:{x:0,y:0}}},osd_set(t,e,n){const s=this.is_hd?this.profile.osd.elements_hd:this.profile.osd.elements,i=[...s];i[t]=Ot.elementEncode(s[t],e,n),this.is_hd?this.profile.set_osd_elements_hd(i):this.profile.set_osd_elements(i)},draw_canvas_text(t,e,n,s){let i=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);if(o==0)break;const a=Ot.pixelsWidth(Math.floor(o%16),Ot.BORDER,this.is_hd),l=Ot.pixelsHeight(Math.floor(o/16),Ot.BORDER,this.is_hd);let c;this.is_hd?(c=this.osd.font_bitmap,o+=256):c=s?this.osd.font_bitmap_inverted:this.osd.font_bitmap,c&&t.drawImage(c,a,l,Ot.CHAR_WIDTH*(this.is_hd?2:1),Ot.CHAR_HEIGHT*(this.is_hd?2:1),e.x+r*Ot.CHAR_WIDTH,e.y,Ot.CHAR_WIDTH,Ot.CHAR_HEIGHT),i++}t.strokeStyle="#000",t.lineWidth=1,Mue(t,e.x+.5,e.y+.5,i*Ot.CHAR_WIDTH,Ot.CHAR_HEIGHT,1.5),t.stroke()},draw_canvas(){const t=this.canvas.getContext("2d");if(t){t.clearRect(0,0,this.canvas.width,this.canvas.height);for(const[e,n]of this.elements.entries()){if(!n.enabled||!n.active)continue;let s={...n.pos};e==this.drag.element&&(s={...this.drag.coord}),this.draw_canvas_text(t,this.translateElemement(s),n.text,n.invert==1)}}},findElement(t){for(const e of this.elements){if(!e.enabled||!e.active)continue;const n=this.translateElemement(e.pos);if(t.y<n.y||t.y>n.y+Ot.CHAR_HEIGHT)continue;let s=e.text.indexOf("\0");if(s==-1&&(s=e.text.length),!(t.x<n.x||t.x>n.x+s*Ot.CHAR_WIDTH))return e}return null}},mounted(){Promise.resolve().then(()=>{if(this.is_hd)return this.osd.fetch_hd_osd_font()}).then(t=>this.draw_canvas())}});const Og=t=>(Gm("data-v-fd7edf19"),t=t(),Hm(),t),kue={class:"card"},Rue={class:"card-header"},Cue=Og(()=>g("p",{class:"card-header-title"},"Elements",-1)),Oue={class:"card-content"},Pue={class:"content"},Lue={class:"columns is-multiline"},Iue={class:"column is-6"},Due={class:"field field-is-2 is-horizontal"},Fue=Og(()=>g("div",{class:"field-label"},[g("label",{class:"label"}," Callsign Text ")],-1)),Nue={class:"field-body"},Uue={class:"field"},$ue={class:"control is-expanded"},Bue=jo('<div class="columns mt-4 mb-0" data-v-fd7edf19><div class="column has-text-centered has-text-weight-semibold px-0 is-4" data-v-fd7edf19> Element </div><div class="column has-text-left has-text-weight-semibold px-0 is-2" data-v-fd7edf19> Active </div><div class="column has-text-left has-text-weight-semibold px-0 is-2" data-v-fd7edf19> Invert </div><div class="column has-text-left has-text-weight-semibold px-0 is-2" data-v-fd7edf19> X </div><div class="column has-text-left has-text-weight-semibold px-0 is-2" data-v-fd7edf19> Y </div></div>',1),zue={key:0,class:"field mb-2 field-is-2 is-horizontal"},Gue={class:"field-label"},Hue={class:"label",for:"pid-preset"},Vue={class:"field-body"},Wue={class:"field"},jue={class:"control is-expanded"},que=["id","name","checked","onInput"],Yue=["for"],Kue={class:"field"},Xue={class:"control is-expanded"},Zue=["id","name","checked","onInput"],Jue=["for"],Que={class:"field",style:{"align-self":"center"}},ede={class:"control is-expanded"},tde=["value","max","onInput"],nde={class:"field",style:{"align-self":"center"}},sde={class:"control is-expanded"},ide=["value","max","onInput"],rde={class:"column is-6"},ode={class:"card"},ade={class:"card-header"},lde={class:"card-header-title"},cde={key:0,class:"select ml-4"},ude=Og(()=>g("option",null,"NTSC",-1)),dde=Og(()=>g("option",null,"PAL",-1)),fde=[ude,dde],hde={class:"card-content"},pde={class:"content"},mde=["width","height"];function gde(t,e,n,s,i,r){const o=Ae("tooltip");return Q(),se("div",kue,[g("header",Rue,[Cue,X(o,{class:"card-header-icon",entry:"osd.elements",size:"lg"})]),g("div",Oue,[g("div",Pue,[g("div",Lue,[g("div",Iue,[g("div",Due,[Fue,g("div",Nue,[g("div",Uue,[g("div",$ue,[Ge(g("input",{class:"input",type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>t.callsign=a)},null,512),[[Xe,t.callsign]])])])])]),Bue,(Q(!0),se(Ze,null,$t(t.elements,(a,l)=>(Q(),se(Ze,{key:l},[a.enabled?(Q(),se("div",zue,[g("div",Gue,[g("label",Hue,Fe(a.name),1)]),g("div",Vue,[g("div",Wue,[g("div",jue,[g("input",{id:"active-"+l,name:"active-"+l,type:"checkbox",class:"switch",checked:a.active==1,onInput:c=>t.osd_set(l,"active",!a.active)},null,40,que),g("label",{class:"py-0",style:{height:"2em"},for:"active-"+l},null,8,Yue)])]),g("div",Kue,[g("div",Xue,[g("input",{id:"invert-"+l,name:"invert-"+l,type:"checkbox",class:"switch",checked:a.invert==1,onInput:c=>t.osd_set(l,"invert",!a.invert)},null,40,Zue),g("label",{class:"py-0",style:{height:"2em"},for:"invert-"+l},null,8,Jue)])]),g("div",Que,[g("div",ede,[g("input",{class:"input",type:"number",step:"1",value:a.pos.x,min:"0",max:t.limits.width-1,onInput:c=>{var u;return t.osd_set(l,"pos_x",(u=c==null?void 0:c.target)==null?void 0:u.value)}},null,40,tde)])]),g("div",nde,[g("div",sde,[g("input",{class:"input",type:"number",step:"1",value:a.pos.y,min:"0",max:t.limits.height-1,onInput:c=>{var u;return t.osd_set(l,"pos_y",(u=c==null?void 0:c.target)==null?void 0:u.value)}},null,40,ide)])])])])):We("",!0)],64))),128))]),g("div",rde,[g("div",ode,[g("header",ade,[g("div",lde,[_e(" Preview "),t.is_hd?We("",!0):(Q(),se("div",cde,[Ge(g("select",{"onUpdate:modelValue":e[1]||(e[1]=a=>t.preview=a)},fde,512),[[Xm,t.preview]])]))])]),g("div",hde,[g("div",pde,[g("canvas",{width:t.canvasWidth,height:t.canvasHeight,ref:"canvas",class:"osd-canvas",onMousedown:e[2]||(e[2]=(...a)=>t.drag_start&&t.drag_start(...a)),onMousemove:e[3]||(e[3]=(...a)=>t.drag_move&&t.drag_move(...a)),onMouseup:e[4]||(e[4]=(...a)=>t.drag_drop&&t.drag_drop(...a)),onMouseleave:e[5]||(e[5]=(...a)=>t.drag_drop&&t.drag_drop(...a))},null,40,mde)])])])])])])])])}const _de=tt(Aue,[["render",gde],["__scopeId","data-v-fd7edf19"]]),yde=Ye({name:"OSDElementsLegacy",data(){return{screen:{width:30-2,height:16-2,char_width:12,char_height:18},imageSource:null}},setup(){return{profile:jt()}},computed:{svg_width(){return this.screen.width*this.screen.char_width},svg_height(){return this.screen.height*this.screen.char_height},viewBox(){return`0 0 ${this.svg_width} ${this.svg_height}`},callsign:{get(){return this.profile.osd.elements.slice(1,5).flatMap(t=>[0,8,16,24].map(e=>{const n=t>>e&255;return n==63?"":String.fromCharCode(n)})).join("")},set(t){const e=t.toUpperCase(),n=Array(20).fill(63).map((i,r)=>r<e.length?e.charCodeAt(r):i).reduce((i,r,o)=>{const a=Math.floor(o/4),l=[0,8,16,24][o%4];return i[a]=i[a]|(r&255)<<l,i},[]),s=[...this.profile.osd.elements];for(let i=0;i<n.length;i++)s[i+1]=n[i];this.profile.osd.elements=s}},element_options(){return[{name:"CALLSIGN",enabled:!0,text:this.callsign},{name:"callsign2",enabled:!1,text:""},{name:"callsign3",enabled:!1,text:""},{name:"callsign4",enabled:!1,text:""},{name:"callsign5",enabled:!1,text:""},{name:"callsign6",enabled:!1,text:""},{name:"FUELGAUGE VOLTS",enabled:!0,text:"1S 4.3V"},{name:"FILTERED VOLTS",enabled:!0,text:"1S 4.3V"},{name:"GYRO TEMP",enabled:!0,text:"40C"},{name:"FLIGHT MODE",enabled:!0,text:"___ACRO___"},{name:"RSSI",enabled:!0,text:"90"},{name:"STOPWATCH",enabled:!0,text:"120"},{name:"SYSTEM STATUS",enabled:!0,text:"__**ARMED**____"},{name:"THROTTLE",enabled:!0,text:"50"},{name:"VTX CHANNEL",enabled:!0,text:"R:7:1"},{name:"CURRENT",enabled:!0,text:"2000A"}]},elements(){return this.profile.osd.elements.filter((t,e)=>this.element_options[e]).map((t,e)=>({...this.element_options[e],active:this.osd_decode(t,"active"),invert:this.osd_decode(t,"invert"),pos_x:this.osd_decode(t,"pos_x"),pos_y:this.osd_decode(t,"pos_y"),value:t}))}},methods:{osd_set(t,e,n){const s=[...this.profile.osd.elements];s[t]=this.osd_encode(this.profile.osd.elements[t],e,n),this.profile.set_osd_elements(s)},osd_decode(t,e){switch(e){case"active":return t&1;case"invert":return t>>1&1;case"pos_x":return t>>2&31;case"pos_y":return t>>7&15;default:return 0}},osd_encode(t,e,n){switch(e){case"active":return n?t|1:t&-2;case"invert":return n?t|1<<1:t&~(1<<1);case"pos_x":return t&~(31<<2)|(n&31)<<2;case"pos_y":return t&~(15<<7)|(n&15)<<7;default:return t}}}});const Pv=t=>(Gm("data-v-1581546b"),t=t(),Hm(),t),bde={class:"card"},vde={class:"card-header"},wde=Pv(()=>g("p",{class:"card-header-title"},"Elements",-1)),xde={class:"card-content"},Sde={class:"content"},Ede={class:"columns is-multiline"},Tde={class:"column is-6"},Mde={class:"field field-is-2 is-horizontal"},Ade=Pv(()=>g("div",{class:"field-label"},[g("label",{class:"label"}," Callsign Text ")],-1)),kde={class:"field-body"},Rde={class:"field"},Cde={class:"control is-expanded"},Ode=jo('<div class="columns mt-4 mb-0" data-v-1581546b><div class="column has-text-centered has-text-weight-semibold px-0 is-4" data-v-1581546b> Element </div><div class="column has-text-left has-text-weight-semibold px-0 is-2" data-v-1581546b> Active </div><div class="column has-text-left has-text-weight-semibold px-0 is-2" data-v-1581546b> Invert </div><div class="column has-text-left has-text-weight-semibold px-0 is-2" data-v-1581546b>X</div><div class="column has-text-left has-text-weight-semibold px-0 is-2" data-v-1581546b>Y</div></div>',1),Pde={key:0,class:"field mb-2 field-is-2 is-horizontal"},Lde={class:"field-label"},Ide={class:"label",for:"pid-preset"},Dde={class:"field-body"},Fde={class:"field"},Nde={class:"control is-expanded"},Ude=["id","name","checked","onInput"],$de=["for"],Bde={class:"field"},zde={class:"control is-expanded"},Gde=["id","name","checked","onInput"],Hde=["for"],Vde={class:"field",style:{"align-self":"center"}},Wde={class:"control is-expanded"},jde=["value","onInput"],qde={class:"field",style:{"align-self":"center"}},Yde={class:"control is-expanded"},Kde=["value","onInput"],Xde={class:"column is-6"},Zde={class:"card"},Jde=Pv(()=>g("header",{class:"card-header"},[g("p",{class:"card-header-title"},"Preview")],-1)),Qde={class:"card-content"},efe={class:"content"},tfe=["viewBox"],nfe={key:0},sfe=["x","y"];function ife(t,e,n,s,i,r){const o=Ae("tooltip");return Q(),se("div",bde,[g("header",vde,[wde,X(o,{class:"card-header-icon",entry:"osd.elements",size:"lg"})]),g("div",xde,[g("div",Sde,[g("div",Ede,[g("div",Tde,[g("div",Mde,[Ade,g("div",kde,[g("div",Rde,[g("div",Cde,[Ge(g("input",{class:"input",type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>t.callsign=a)},null,512),[[Xe,t.callsign]])])])])]),Ode,(Q(!0),se(Ze,null,$t(t.elements,(a,l)=>(Q(),se(Ze,{key:l},[a.enabled?(Q(),se("div",Pde,[g("div",Lde,[g("label",Ide,Fe(a.name),1)]),g("div",Dde,[g("div",Fde,[g("div",Nde,[g("input",{id:"active-"+l,name:"active-"+l,type:"checkbox",class:"switch",checked:a.active==1,onInput:c=>t.osd_set(l,"active",!a.active)},null,40,Ude),g("label",{class:"py-0",style:{height:"2em"},for:"active-"+l},null,8,$de)])]),g("div",Bde,[g("div",zde,[g("input",{id:"invert-"+l,name:"invert-"+l,type:"checkbox",class:"switch",checked:a.invert==1,onInput:c=>t.osd_set(l,"invert",!a.invert)},null,40,Gde),g("label",{class:"py-0",style:{height:"2em"},for:"invert-"+l},null,8,Hde)])]),g("div",Vde,[g("div",Wde,[g("input",{class:"input",type:"number",step:"1",value:a.pos_x,onInput:c=>{var u;return t.osd_set(l,"pos_x",(u=c==null?void 0:c.target)==null?void 0:u.value)}},null,40,jde)])]),g("div",qde,[g("div",Yde,[g("input",{class:"input",type:"number",step:"1",value:a.pos_y,onInput:c=>{var u;return t.osd_set(l,"pos_y",(u=c==null?void 0:c.target)==null?void 0:u.value)}},null,40,Kde)])])])])):We("",!0)],64))),128))]),g("div",Xde,[g("div",Zde,[Jde,g("div",Qde,[g("div",efe,[(Q(),se("svg",{viewBox:t.viewBox,xmlns:"http://www.w3.org/2000/svg"},[(Q(!0),se(Ze,null,$t(t.elements,(a,l)=>(Q(),se("g",{key:l},[a.enabled&&a.active?(Q(),se("g",nfe,[(Q(!0),se(Ze,null,$t(a.text,(c,u)=>(Q(),se("text",{class:Xs({"text-invert":a.invert}),key:"el-"+l+"-"+u,x:(a.pos_x+u)*t.screen.char_width,y:a.pos_y*(t.screen.char_height-1)},Fe(c),11,sfe))),128))])):We("",!0)]))),128))],8,tfe))])])])])])])])])}const rfe=tt(yde,[["render",ife],["__scopeId","data-v-1581546b"]]),ofe=t=>new Promise((e,n)=>{const s=new Image;s.onload=()=>e(s),s.onerror=i=>n(i),s.src=t}),afe=Ye({name:"OSDFont",data(){return{fontFiles:[{text:"betaflight",value:"betaflight.png"},{text:"bold",value:"bold.png"},{text:"clarity",value:"clarity.png"},{text:"default",value:"default.png"},{text:"digital",value:"digital.png"},{text:"extra_large",value:"extra_large.png"},{text:"impact_mini",value:"impact_mini.png"},{text:"impact",value:"impact.png"},{text:"large",value:"large.png"},{text:"vision",value:"vision.png"}],current_font_file:"clarity.png",imageSource:void 0}},setup(){return{root:cn(),profile:jt(),osd:F8()}},methods:{apply_osd_font(t){return ofe("osd/"+t).then(e=>{const n=Ot.packFont(this.$refs.canvas,e);return yt.set(xn.OSDFont,...n)}).then(()=>this.get_osd_font()).then(()=>this.root.append_alert({type:"success",msg:"Font updated!"})).catch(()=>{this.root.append_alert({type:"danger",msg:"Font update failed!"})})},async get_osd_font(){await this.osd.fetch_sd_osd_font(),this.imageSource=Ot.unpackFont(this.$refs.canvas,this.osd.font_raw)},uploadLogo(){const t=n=>new Promise((s,i)=>{const r=new FileReader;r.onerror=i,r.onabort=i,r.onload=o=>{var l;const a=new Image;a.onerror=i,a.onabort=i,a.onload=function(){s(a)},a.src=((l=o==null?void 0:o.target)==null?void 0:l.result)||""},r.readAsDataURL(n)});return(async()=>{const n={types:[{description:"Images",accept:{"image/*":[".png"]}}],excludeAcceptAllOption:!0,multiple:!1},[s]=await window.showOpenFilePicker(n);return await s.getFile()})().then(n=>t(n)).then(n=>{if(n.width!=288&&n.height!=72)throw new Error("Invalid logo dimensions");const s=Ot.packLogo(this.$refs.canvas,this.$refs.logoCanvas,n);return yt.set(xn.OSDFont,...s)}).then(()=>this.get_osd_font()).then(()=>this.root.append_alert({type:"success",msg:"Logo updated!"})).catch(n=>{this.root.append_alert({type:"danger",msg:"Logo update failed! "+n.message})}).finally(()=>this.$refs.form.reset())}},created(){this.get_osd_font()}}),lfe={class:"card"},cfe={class:"card-header"},ufe=g("p",{class:"card-header-title"},"Font",-1),dfe={class:"card-content"},ffe={class:"content"},hfe={class:"field field-is-4 is-horizontal"},pfe=g("div",{class:"field-label"},[g("label",{class:"label"}," Full OSD font to upload ")],-1),mfe={class:"field-body"},gfe={class:"field has-addons"},_fe={class:"control is-expanded"},yfe={class:"control"},bfe={ref:"form"},vfe={class:"field field-is-4 is-horizontal"},wfe=g("div",{class:"field-label"},[g("label",{class:"label"},[_e(" Custom Logo "),g("br"),_e(" 288x72 Black/White/Transparent PNG ")])],-1),xfe={class:"field-body"},Sfe={class:"field has-addons"},Efe=g("p",{class:"control is-expanded"},null,-1),Tfe={class:"control"},Mfe={class:"columns mt-5"},Afe={class:"column is-6"},kfe={class:"card"},Rfe=g("header",{class:"card-header"},[g("p",{class:"card-header-title"},"Preview")],-1),Cfe={class:"card-content"},Ofe={class:"content"},Pfe={class:"image m-0"},Lfe=["src"],Ife={class:"column is-6"},Dfe={class:"card"},Ffe=g("header",{class:"card-header"},[g("p",{class:"card-header-title"},"Current")],-1),Nfe={class:"card-content"},Ufe={class:"content"},$fe={class:"image m-0"},Bfe=["src"],zfe={ref:"canvas",class:"mx-5 mt-3 is-hidden",width:"209",height:"305"},Gfe={ref:"logoCanvas",class:"mx-5 mt-3 is-hidden",width:"288",height:"72"};function Hfe(t,e,n,s,i,r){const o=Ae("tooltip"),a=Ae("input-select"),l=Ae("spinner-btn");return Q(),se("div",lfe,[g("header",cfe,[ufe,X(o,{class:"card-header-icon",entry:"osd.font",size:"lg"})]),g("div",dfe,[g("div",ffe,[g("div",hfe,[pfe,g("div",mfe,[g("div",gfe,[g("p",_fe,[X(a,{id:"font-file",class:"is-fullwidth",modelValue:t.current_font_file,"onUpdate:modelValue":e[0]||(e[0]=c=>t.current_font_file=c),options:t.fontFiles},null,8,["modelValue","options"])]),g("p",yfe,[X(l,{class:"float-right",onClick:e[1]||(e[1]=c=>t.apply_osd_font(t.current_font_file))},{default:Je(()=>[_e(" Upload Font ")]),_:1})])])])]),g("form",bfe,[g("div",vfe,[wfe,g("div",xfe,[g("div",Sfe,[Efe,g("p",Tfe,[X(l,{onClick:e[2]||(e[2]=c=>t.uploadLogo())},{default:Je(()=>[_e(" Upload Logo ")]),_:1})])])])])],512),g("div",Mfe,[g("div",Afe,[g("div",kfe,[Rfe,g("div",Cfe,[g("div",Ofe,[g("figure",Pfe,[g("img",{src:"osd/"+t.current_font_file},null,8,Lfe)])])])])]),g("div",Ife,[g("div",Dfe,[Ffe,g("div",Nfe,[g("div",Ufe,[g("figure",$fe,[g("img",{src:t.imageSource},null,8,Bfe)]),g("canvas",zfe,null,512),g("canvas",Gfe,null,512)])])])])])])])])}const Vfe=tt(afe,[["render",Hfe]]),Wfe=Ye({name:"OSD",components:{OSDElements:_de,OSDElementsLegacy:rfe,OSDFont:Vfe},setup(){return{profile:jt(),default_profile:Sf()}},computed:{is_hd(){return this.profile.serial.hdzero}}}),jfe={class:"columns is-multiline"},qfe={class:"column is-12"},Yfe={class:"column is-12"};function Kfe(t,e,n,s,i,r){const o=Ae("OSDElementsLegacy"),a=Ae("OSDElements"),l=Ae("OSDFont");return Q(),se("div",jfe,[g("div",qfe,[t.default_profile.has_legacy_osd?(Q(),rn(o,{key:0})):(Q(),rn(a,{key:1}))]),g("div",Yfe,[t.is_hd?We("",!0):(Q(),rn(l,{key:0}))])])}const Xfe=tt(Wfe,[["render",Kfe]]),Pg=cs("motor",{state:()=>({loading:!1,test:{active:0,value:new Array},settings:null,_pins:[{index:1,id:"MOTOR_FL",label:"Front Left"},{index:3,id:"MOTOR_FR",label:"Front Right"},{index:0,id:"MOTOR_BL",label:"Back Left"},{index:2,id:"MOTOR_BR",label:"Back Right"}]}),getters:{pins(t){const e=jt();return t._pins.map(n=>({...n,pin:e.motor.motor_pins[n.index]}))}},actions:{fetch_motor_test(){return yt.command(Vn.Motor,Zu.TestStatus).then(t=>{this.test=t.payload[0]})},fetch_motor_settings(){const t=cn();return this.loading=!0,yt.get(xn.BLHeliSettings).then(e=>{this.settings=e}).catch(e=>{t.append_alert({type:"danger",msg:"Loading motor settings failed!"}),ct.error("motor",e)}).finally(()=>{this.loading=!1})},apply_motor_settings(t){const e=cn();return this.loading=!0,yt.set(xn.BLHeliSettings,...t).then(()=>{this.settings=t,e.append_alert({type:"success",msg:"Motor settings applied!"})}).catch(n=>{ct.error("motor",n),e.append_alert({type:"danger",msg:"Failed to apply motor settings!"})}).finally(()=>{this.loading=!1})},motor_test_toggle(){return yt.command(Vn.Motor,this.test.active?Zu.TestDisable:Zu.TestEnable).then(()=>{this.test.active=this.test.active?0:1})},motor_test_set_value(t){return yt.command(Vn.Motor,Zu.TestSetValue,t).then(()=>{this.test.value=t})}}}),Zfe=Ye({name:"MotorTest",setup(){return{motor:Pg(),state:Ps()}},computed:{value(){return this.motor.test.value.map(t=>t*100)}},methods:{update(){return this.motor.motor_test_set_value(this.value.map(t=>t/100))}},created(){this.motor.fetch_motor_test()}}),Jfe={key:0,class:"card"},Qfe={class:"card-header"},ehe=g("p",{class:"card-header-title"},"Motor Test",-1),the={class:"card-header-icon"},nhe=g("br",null,null,-1),she={class:"card-content"},ihe={class:"content"},rhe={key:0,class:"columns is-multiline"},ohe={class:"field field-is-2 is-horizontal"},ahe={class:"field-label"},lhe={class:"label",for:"pid-preset"},che={class:"field-body"},uhe={class:"field has-addons"},dhe={class:"control is-expanded"},fhe=["id","onUpdate:modelValue"],hhe={class:"control"},phe=["id","onUpdate:modelValue"],mhe={key:1,class:"is-size-5 has-text-centered has-text-weight-semibold"},ghe={class:"card-footer"},_he=g("span",{class:"card-footer-item"},null,-1),yhe=g("span",{class:"card-footer-item"},null,-1);function bhe(t,e,n,s,i,r){const o=Ae("tooltip"),a=Ae("spinner-btn");return t.motor.test?(Q(),se("div",Jfe,[g("header",Qfe,[ehe,g("small",the,[_e(Fe(t.state.vbat.toFixed(2))+"V ",1),nhe,_e(" "+Fe(t.state.ibat_filtered.toFixed(2))+"mA ",1)]),X(o,{class:"card-header-icon",entry:"motor.test",size:"lg"})]),g("div",she,[g("div",ihe,[t.motor.test.active?(Q(),se("div",rhe,[(Q(!0),se(Ze,null,$t(t.motor.pins,l=>(Q(),se("div",{class:"column is-6",key:l.index},[g("div",ohe,[g("div",ahe,[g("label",lhe,Fe(l.label),1)]),g("div",che,[g("div",uhe,[g("div",dhe,[Ge(g("input",{class:"input",id:l.id,type:"range",step:"1",min:"0",max:"50","onUpdate:modelValue":c=>t.value[l.index]=c,onInput:e[0]||(e[0]=c=>t.update())},null,40,fhe),[[Xe,t.value[l.index],void 0,{number:!0}]])]),g("div",hhe,[Ge(g("input",{class:"input",id:l.id,type:"number",step:"1",min:"0",max:"50","onUpdate:modelValue":c=>t.value[l.index]=c,onChange:e[1]||(e[1]=c=>t.update())},null,40,phe),[[Xe,t.value[l.index],void 0,{number:!0}]])])])])])]))),128))])):(Q(),se("div",mhe," Motor Test disabled "))])]),g("footer",ghe,[_he,yhe,X(a,{class:"card-footer-item",onClick:e[2]||(e[2]=l=>t.motor.motor_test_toggle())},{default:Je(()=>[_e(Fe(t.motor.test.active?"Disable":"Enable"),1)]),_:1})])])):We("",!0)}const vhe=tt(Zfe,[["render",bhe]]),whe=Ye({name:"MotorPins",setup(){return{profile:jt(),info:Yn(),motor:Pg()}},computed:{motorPins(){return this.info.motor_pins.map((t,e)=>({value:e,text:`Pin ${e} (${t})`}))}}}),xhe={class:"card"},She={class:"card-header"},Ehe=g("p",{class:"card-header-title"},"Motor Pins",-1),The={class:"card-content"},Mhe={class:"content"},Ahe={class:"columns is-multiline my-2"},khe={class:"field field-is-2 is-horizontal"},Rhe={class:"field-label"},Che={class:"label",for:"pid-profile"},Ohe=g("br",null,null,-1),Phe={class:"text-muted"},Lhe={class:"field-body"},Ihe={class:"field"},Dhe={class:"control is-expanded"};function Fhe(t,e,n,s,i,r){const o=Ae("tooltip"),a=Ae("input-select");return Q(),se("div",xhe,[g("header",She,[Ehe,X(o,{class:"card-header-icon",entry:"motor_pins",size:"lg"})]),g("div",The,[g("div",Mhe,[g("div",Ahe,[(Q(!0),se(Ze,null,$t(t.motor.pins,l=>(Q(),se("div",{class:"column is-6",key:"motor-pin-"+l.index},[g("div",khe,[g("div",Rhe,[g("label",Che,[_e(Fe(l.label)+" ",1),Ohe,g("span",Phe,"Motor "+Fe(l.index),1)])]),g("div",Lhe,[g("div",Ihe,[g("div",Dhe,[X(a,{id:"motor-pin-"+l.index,class:"is-fullwidth",modelValue:t.profile.motor.motor_pins[l.index],"onUpdate:modelValue":c=>t.profile.motor.motor_pins[l.index]=c,options:t.motorPins},null,8,["id","modelValue","onUpdate:modelValue","options"])])])])])]))),128))])])])])}const Nhe=tt(whe,[["render",Fhe]]),Uhe=Ye({name:"ESCSettings",setup(){return{motor:Pg()}},data(){return{motor_direction_options:[{value:1,text:"Normal"},{value:2,text:"Reversed"},{value:3,text:"Bidirectional"},{value:4,text:"Bidirectional Reversed"}]}},methods:{trim(t){return t.replace(/#/g,"").replace(/\$/g," ")}}}),$he={class:"card"},Bhe={class:"card-header"},zhe=g("p",{class:"card-header-title"},"ESC Settings",-1),Ghe={class:"card-content"},Hhe={class:"content"},Vhe={key:0,class:"columns is-multiline"},Whe={class:"columns is-multiline my-2"},jhe={class:"column is-4"},qhe={class:"column is-8"},Yhe={class:"column is-4 pt-0 mt-0"},Khe=["for"],Xhe={class:"column is-8 pt-0 mt-0"},Zhe={key:1,class:"is-size-5 has-text-centered has-text-weight-semibold"},Jhe={class:"card-footer"},Qhe=g("span",{class:"card-footer-item"},null,-1),epe=g("span",{class:"card-footer-item"},null,-1);function tpe(t,e,n,s,i,r){const o=Ae("tooltip"),a=Ae("input-select"),l=Ae("spinner-btn");return Q(),se("div",$he,[g("header",Bhe,[zhe,X(o,{class:"card-header-icon",entry:"motor_settings",size:"lg"})]),g("div",Ghe,[g("div",Hhe,[t.motor.settings&&t.motor.settings.length?(Q(),se("div",Vhe,[(Q(!0),se(Ze,null,$t(t.motor.pins,c=>(Q(),se("div",{class:"column is-6 px-5",key:"motor-settings-"+c.index},[g("div",Whe,[g("div",jhe,[g("h6",null,Fe(c.label),1)]),g("div",qhe,Fe(t.trim(t.motor.settings[c.pin].LAYOUT))+" - "+Fe(t.trim(t.motor.settings[c.pin].NAME))+", "+Fe(t.motor.settings[c.pin].MAIN_REVISION)+"."+Fe(t.motor.settings[c.pin].SUB_REVISION),1),g("div",Yhe,[g("label",{for:"motor-direction-"+c.index},"Direction",8,Khe)]),g("div",Xhe,[X(a,{id:"motor-direction-"+c.index,modelValue:t.motor.settings[c.pin].MOTOR_DIRECTION,"onUpdate:modelValue":u=>t.motor.settings[c.pin].MOTOR_DIRECTION=u,modelModifiers:{number:!0},options:t.motor_direction_options},null,8,["id","modelValue","onUpdate:modelValue","options"])])])]))),128))])):(Q(),se("div",Zhe," Settings not loaded "))])]),g("footer",Jhe,[Qhe,epe,t.motor.settings&&t.motor.settings.length?(Q(),rn(l,{key:0,class:"card-footer-item",disabled:t.motor.loading,onClick:e[0]||(e[0]=c=>t.motor.apply_motor_settings(t.motor.settings))},{default:Je(()=>[_e(" Apply ")]),_:1},8,["disabled"])):(Q(),rn(l,{key:1,class:"card-footer-item",disabled:t.motor.loading,onClick:e[1]||(e[1]=c=>t.motor.fetch_motor_settings())},{default:Je(()=>[_e(" Load ")]),_:1},8,["disabled"]))])])}const npe=tt(Uhe,[["render",tpe]]),spe=Ye({name:"Motor",components:{MotorTest:vhe,MotorPins:Nhe,ESCSettings:npe},setup(){return{info:Yn(),constants:ll()}}}),ipe={class:"columns is-multiline"},rpe={class:"column is-12"},ope={class:"column is-12"},ape={key:0,class:"column is-12"};function lpe(t,e,n,s,i,r){const o=Ae("MotorTest"),a=Ae("MotorPins"),l=Ae("ESCSettings");return Q(),se("div",ipe,[g("div",rpe,[X(o)]),g("div",ope,[X(a)]),t.info.has_feature(t.constants.Features.BRUSHLESS)?(Q(),se("div",ape,[X(l)])):We("",!0)])}const cpe=tt(spe,[["render",lpe]]);function yr(t){return e=>t*e*1/1e3*180/Math.PI}function O_(t){return e=>t+e}const upe=[{name:"loopIteration",blackbox_field:Ve.LOOP,advance:1,signed:!1},{name:"time",blackbox_field:Ve.TIME,advance:1,signed:!1},{name:"axisP",array_index:0,blackbox_field:Ve.PID_P_TERM,advance:0,signed:!0},{name:"axisP",array_index:1,blackbox_field:Ve.PID_P_TERM,advance:0,signed:!0},{name:"axisP",array_index:2,blackbox_field:Ve.PID_P_TERM,advance:1,signed:!0},{name:"axisI",array_index:0,blackbox_field:Ve.PID_I_TERM,advance:0,signed:!0},{name:"axisI",array_index:1,blackbox_field:Ve.PID_I_TERM,advance:0,signed:!0},{name:"axisI",array_index:2,blackbox_field:Ve.PID_I_TERM,advance:1,signed:!0},{name:"axisD",array_index:0,blackbox_field:Ve.PID_D_TERM,advance:0,signed:!0},{name:"axisD",array_index:1,blackbox_field:Ve.PID_D_TERM,advance:0,signed:!0},{name:"axisD",array_index:2,blackbox_field:Ve.PID_D_TERM,advance:1,signed:!0},{name:"rcCommand",array_index:0,signed:!0,blackbox_field:Ve.RX,advance:0,convert:t=>t/2},{name:"rcCommand",array_index:1,signed:!0,blackbox_field:Ve.RX,advance:0,convert:t=>t/2},{name:"rcCommand",array_index:2,signed:!0,blackbox_field:Ve.RX,advance:0,convert:t=>-t/2},{name:"rcCommand",array_index:3,signed:!0,blackbox_field:Ve.RX,advance:1,convert:O_(1e3)},{name:"setpoint",array_index:0,blackbox_field:Ve.SETPOINT,advance:0,signed:!0,convert:yr(1)},{name:"setpoint",array_index:1,blackbox_field:Ve.SETPOINT,advance:0,signed:!0,convert:yr(1)},{name:"setpoint",array_index:2,blackbox_field:Ve.SETPOINT,advance:0,signed:!0,convert:yr(-1)},{name:"setpoint",array_index:3,blackbox_field:Ve.SETPOINT,advance:1,signed:!0},{name:"accRaw",array_index:0,blackbox_field:Ve.ACCEL_RAW,advance:0,signed:!0},{name:"accRaw",array_index:1,blackbox_field:Ve.ACCEL_RAW,advance:0,signed:!0},{name:"accRaw",array_index:2,blackbox_field:Ve.ACCEL_RAW,advance:1,signed:!0,convert:O_(1e3)},{name:"accSmooth",array_index:0,blackbox_field:Ve.ACCEL_FILTER,advance:0,signed:!0},{name:"accSmooth",array_index:1,blackbox_field:Ve.ACCEL_FILTER,advance:0,signed:!0},{name:"accSmooth",array_index:2,blackbox_field:Ve.ACCEL_FILTER,advance:1,signed:!0,convert:O_(1e3)},{name:"gyroRaw",array_index:0,blackbox_field:Ve.GYRO_RAW,advance:0,signed:!0,convert:yr(1)},{name:"gyroRaw",array_index:1,blackbox_field:Ve.GYRO_RAW,advance:0,signed:!0,convert:yr(1)},{name:"gyroRaw",array_index:2,blackbox_field:Ve.GYRO_RAW,advance:1,signed:!0,convert:yr(-1)},{name:"gyroADC",array_index:0,blackbox_field:Ve.GYRO_FILTER,advance:0,signed:!0,convert:yr(1)},{name:"gyroADC",array_index:1,blackbox_field:Ve.GYRO_FILTER,advance:0,signed:!0,convert:yr(1)},{name:"gyroADC",array_index:2,blackbox_field:Ve.GYRO_FILTER,advance:1,signed:!0,convert:yr(-1)},{name:"motor",array_index:0,blackbox_field:Ve.MOTOR,advance:0,signed:!0},{name:"motor",array_index:1,blackbox_field:Ve.MOTOR,advance:0,signed:!0},{name:"motor",array_index:2,blackbox_field:Ve.MOTOR,advance:0,signed:!0},{name:"motor",array_index:3,blackbox_field:Ve.MOTOR,advance:1,signed:!0},{name:"cpuload",blackbox_field:Ve.CPU_LOAD,advance:1,signed:!1},{name:"debug[0]",array_index:0,blackbox_field:Ve.DEBUG,advance:0,signed:!0},{name:"debug[1]",array_index:1,blackbox_field:Ve.DEBUG,advance:0,signed:!0},{name:"debug[2]",array_index:2,blackbox_field:Ve.DEBUG,advance:0,signed:!0},{name:"debug[3]",array_index:3,blackbox_field:Ve.DEBUG,advance:1,signed:!0}];let dpe=class{constructor(e){Ke(this,"buffer",new Vb);Ke(this,"defs",upe);Ke(this,"fieldflags");this.file=e,this.fieldflags=Lv(e.field_flags)}writeHeaders(e){this.writeHeaderRaw("Product","Blackbox flight data recorder by Nicholas Sherlock"),this.writeHeaderRaw("Data version","2"),this.writeHeaderRaw("Firmware type","Cleanflight"),this.writeHeaderRaw("Firmware revision","Betaflight 4.3.0"),this.writeHeaderRaw("gyro_scale","0x3f800000"),this.writeHeaderRaw("acc_1G","1000"),this.writeHeaderRaw("motorOutput","0,1000"),this.writeHeaderRaw("looptime",this.file.looptime.toString()),this.writeHeaderRaw("gyro_sync_denom","1"),this.writeHeaderRaw("pid_process_denom","1"),this.writeHeaderRaw("rates","78,78,78"),this.writeHeaderRaw("rates_type","3"),this.writeHeaderRaw("minthrottle","1000"),this.writeHeaderRaw("maxthrottle","2000"),this.writeHeaderRaw("gyro_notch_hz","0,0"),this.writeHeaderRaw("gyro_notch_cutoff","0,0"),this.writeHeaderRaw("Craft name",e.meta.name.replace(/\0/g,"")),this.writeHeaderRaw("rollPID",[e.pid.pid_rates[e.pid.pid_profile].kp[0],e.pid.pid_rates[e.pid.pid_profile].ki[0],e.pid.pid_rates[e.pid.pid_profile].kd[0]].join(",")),this.writeHeaderRaw("pitchPID",[e.pid.pid_rates[e.pid.pid_profile].kp[1],e.pid.pid_rates[e.pid.pid_profile].ki[1],e.pid.pid_rates[e.pid.pid_profile].kd[1]].join(",")),this.writeHeaderRaw("yawPID",[e.pid.pid_rates[e.pid.pid_profile].kp[2],e.pid.pid_rates[e.pid.pid_profile].ki[2],e.pid.pid_rates[e.pid.pid_profile].kd[2]].join(","));const n={1:0,2:2,3:3};e.filter.gyro[0].type>0&&(this.writeHeaderRaw("gyro_lpf1_type",n[e.filter.gyro[0].type].toString()),this.writeHeaderRaw("gyro_lpf1_static_hz",e.filter.gyro[0].cutoff_freq.toString())),e.filter.gyro[1].type>0&&(this.writeHeaderRaw("gyro_lpf2_type",n[e.filter.gyro[1].type].toString()),this.writeHeaderRaw("gyro_lpf2_static_hz",e.filter.gyro[1].cutoff_freq.toString())),e.filter.dterm[0].type>0&&(this.writeHeaderRaw("dterm_lpf1_type",n[e.filter.dterm[0].type].toString()),this.writeHeaderRaw("dterm_lpf1_static_hz",e.filter.dterm[0].cutoff_freq.toString())),e.filter.dterm_dynamic_enable&&this.writeHeaderRaw("dterm_lpf1_dyn_hz",[e.filter.dterm_dynamic_min,e.filter.dterm_dynamic_max].join(",")),e.filter.dterm[1].type>0&&(this.writeHeaderRaw("dterm_lpf2_type",n[e.filter.dterm[1].type].toString()),this.writeHeaderRaw("dterm_lpf2_static_hz",e.filter.dterm[1].cutoff_freq.toString())),this.writeHeaderRaw("I interval",""+this.file.blackbox_rate),this.writeHeaderRaw("P interval","1/"+this.file.blackbox_rate),this.writeHeaderJoin("Field I name",s=>{let i=s.name;return s.array_index!=null&&(i+="["+s.array_index+"]"),i}),this.writeHeaderJoin("Field I signed",s=>s.signed?"1":"0"),this.writeHeaderJoin("Field I predictor",s=>"0"),this.writeHeaderJoin("Field I encoding",s=>s.signed?"0":"1"),this.writeHeaderJoin("Field P predictor",s=>"0"),this.writeHeaderJoin("Field P encoding",s=>s.signed?"0":"1")}writeValue(e){if(!e[0]){console.warn("skipping blackbox entry");return}this.buffer.writeUint8("I".charCodeAt(0));let n=1,s=0;for(const i of this.defs){if(n&this.fieldflags&1<<i.blackbox_field){let o=e[s];i.array_index!=null&&(o=o[i.array_index]),i.convert&&(o=i.convert(o)),i.signed?this.writeSigned(o):this.writeUnsigned(o),s+=i.advance}n<<=i.advance}}toUrl(){const e=this.buffer.array(),n=new Blob([e],{type:"octet/stream"});return window.URL.createObjectURL(n)}writeHeaderJoin(e,n){let s="",i=1,r=0;for(const o of this.defs)i&this.fieldflags&1<<o.blackbox_field&&(r++!=0&&(s+=","),s+=n(o)),i<<=o.advance;return this.writeHeaderRaw(e,s)}writeHeaderRaw(e,n){const s=`H ${e}:${n}
`;for(let i=0;i<s.length;i++)this.buffer.writeUint8(s.charCodeAt(i))}writeUnsigned(e){for(;e>127;)this.buffer.writeUint8((e&255|128)&255),e>>>=7;this.buffer.writeUint8(e)}writeSigned(e){const n=e<<1^e>>31;return this.writeUnsigned(n)}};const po=["Roll","Pitch","Yaw"],J3=[...po,"Throttle"],Q3=t=>Array.from(Array(t).keys()).map(e=>e.toString()),cy={[Ve.LOOP]:{name:"loop",title:"Loop",scale:1,unit:"none"},[Ve.TIME]:{name:"time",title:"Time",scale:1,unit:"us"},[Ve.PID_P_TERM]:{name:"pid_pterm",title:"PID P-Term",axis:po,scale:1e3,unit:"none"},[Ve.PID_I_TERM]:{name:"pid_iterm",title:"PID I-Term",axis:po,scale:1e3,unit:"none"},[Ve.PID_D_TERM]:{name:"pid_dterm",title:"PID D-Term",axis:po,scale:1e3,unit:"none"},[Ve.RX]:{name:"rx",title:"RX",axis:J3,scale:1e3,unit:"none"},[Ve.SETPOINT]:{name:"setpoint",title:"Setpoint",axis:J3,scale:1e3,unit:"none"},[Ve.ACCEL_RAW]:{name:"accel_raw",title:"Accel Raw",axis:po,scale:1e3,unit:"rad"},[Ve.ACCEL_FILTER]:{name:"accel_filter",title:"Accel Filter",axis:po,scale:1e3,unit:"rad"},[Ve.GYRO_RAW]:{name:"gyro_raw",title:"Gyro Raw",axis:po,scale:1e3,unit:"rad"},[Ve.GYRO_FILTER]:{name:"gyro_filter",title:"Gyro Filter",axis:po,scale:1e3,unit:"rad"},[Ve.MOTOR]:{name:"motor",title:"Motor",axis:Q3(4),scale:1e3,unit:"none"},[Ve.CPU_LOAD]:{name:"cpu_load",title:"CPU Load",scale:1,unit:"us"},[Ve.DEBUG]:{name:"debug",title:"Debug",axis:Q3(4),scale:1,unit:"none"}};function Lv(t){return(t??-1)|1<<Ve.LOOP|1<<Ve.TIME}const N8=cs("blackbox",{state:()=>({busy:!1,speed:void 0,progress:void 0,list:{flash_size:0,files:[]},presets:[]}),actions:{reset_blackbox(){const t=cn();return yt.command(Vn.Blackbox,Xu.Reset).then(()=>{t.append_alert({type:"success",msg:"Blackbox successfully reset"})}).catch(e=>{t.append_alert({type:"danger",msg:e})})},list_blackbox(){return yt.command(Vn.Blackbox,Xu.List).then(t=>this.list=t.payload[0])},fetch_presets(){return yt.get(xn.BlackboxPresets).then(t=>this.presets=t)},download_blackbox_quic(t){const e=cn(),n=this.list.files[t],s=Lv(n.field_flags),i=performance.now();return yt.commandProgress(Vn.Blackbox,r=>{const o=(performance.now()-i)/1e3;this.progress=r/n.size,this.speed=r/o},Xu.Get,t).then(r=>{const o=Object.keys(cy).filter((c,u)=>(s&1<<u)>0).map(c=>cy[c]),a={...n,fields:o,entries:r.payload};return"data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(a))}).then(r=>(e.append_alert({type:"success",msg:"Blackbox successfully downloaded!"}),r)).catch(r=>{throw e.append_alert({type:"danger",msg:"Blackbox download failed"}),r}).finally(()=>{this.progress=void 0,this.speed=void 0})},download_blackbox_btfl(t){const e=cn(),n=this.list.files[t],s=performance.now();return yt.commandProgress(Vn.Blackbox,i=>{const r=(performance.now()-s)/1e3;this.progress=i/n.size,this.speed=i/r},Xu.Get,t).then(i=>{const r=jt(),o=new dpe(n);o.writeHeaders(r);for(const a of i.payload)o.writeValue(a);return o.toUrl()}).then(i=>(e.append_alert({type:"success",msg:"Blackbox successfully downloaded!"}),i)).catch(i=>{throw e.append_alert({type:"danger",msg:"Blackbox download failed"}),i}).finally(()=>{this.progress=void 0,this.speed=void 0})}}}),fpe=Ye({name:"blackbox",setup(){return{blackbox:N8(),profile:jt(),state:Ps(),info:Yn()}},data(){return{current_preset:-1}},computed:{usedSize(){var t,e;return(((e=(t=this.blackbox)==null?void 0:t.list)==null?void 0:e.files)||[]).reduce((n,s)=>n+s.size,0)},blackboxRate(){return this.profile.blackbox.sample_rate_hz.toString()+" Hz"},blackboxFields(){const t=Lv(this.profile.blackbox.field_flags),e=Cs(Ve).getEntries().map((n,s)=>({val:s,title:cy[s].title,active:(t&1<<s)>0}));return e.every(n=>n.active)?["All"]:e.filter(n=>n.active).map(n=>n.title)},blackboxPresets(){return[{value:-1,text:"Choose..."},...this.blackbox.presets.map((t,e)=>({value:e,text:t.name}))]}},methods:{humanFileSize:m9,reset(){return this.blackbox.reset_blackbox().then(()=>this.blackbox.list_blackbox())},download_quic(t){return this.blackbox.download_blackbox_quic(t).then(e=>{const n=new Date().toISOString().substring(0,10),i=`${this.profile.meta.name.replace(/\0/g,"")}_${n}_file_${t}.json`;this.$refs.downloadAnchor.setAttribute("href",e),this.$refs.downloadAnchor.setAttribute("download",i),this.$refs.downloadAnchor.click()})},download_btfl(t){return this.blackbox.download_blackbox_btfl(t).then(e=>{const n=new Date().toISOString().substring(0,10),i=`${this.profile.meta.name.replace(/\0/g,"")}_${n}_file_${t}.bfl`;this.$refs.downloadAnchor.setAttribute("href",e),this.$refs.downloadAnchor.setAttribute("download",i),this.$refs.downloadAnchor.click()})},load_preset(t){this.profile.blackbox.field_flags=this.blackbox.presets[t].field_flags,this.profile.blackbox.sample_rate_hz=this.blackbox.presets[t].sample_rate_hz,this.current_preset=-1}},created(){this.blackbox.list_blackbox(),this.info.quicVersionGt("0.1.2")&&this.blackbox.fetch_presets()}});const hpe={class:"columns is-multiline"},ppe={class:"column is-12"},mpe={key:0,class:"card"},gpe=g("div",{class:"card-header"},[g("p",{class:"card-header-title"},"Blackbox Settings")],-1),_pe={class:"card-content"},ype={class:"content column-narrow"},bpe={class:"field field-is-2 is-horizontal"},vpe=g("div",{class:"field-label"},[g("label",{class:"label",for:"pid-preset"}," Preset ")],-1),wpe={class:"field-body"},xpe={class:"field has-addons"},Spe={class:"control"},Epe={class:"control"},Tpe={class:"field field-is-2 is-horizontal"},Mpe=g("div",{class:"field-label"},[g("label",{class:"label"},"Log Rate")],-1),Ape={class:"field-body"},kpe={class:"field"},Rpe={class:"control is-expanded"},Cpe=["value"],Ope={class:"field field-is-2 is-horizontal"},Ppe=g("div",{class:"field-label is-align-self-flex-start pt-2"},[g("label",{class:"label"},"Fields")],-1),Lpe={class:"field-body"},Ipe={class:"field"},Dpe={class:"control is-expanded"},Fpe=["value"],Npe={class:"column is-12"},Upe={key:0,class:"card"},$pe={class:"card-header"},Bpe=g("p",{class:"card-header-title"},"Blackbox Files",-1),zpe={class:"blackbox-progress has-text-right"},Gpe=["value","max"],Hpe={class:"card-content"},Vpe={class:"content"},Wpe={class:"mr-4 is-size-6"},jpe={ref:"downloadAnchor",target:"_blank"},qpe={key:0},Ype=["value"],Kpe={class:"card-footer"},Xpe={class:"card-footer-item"},Zpe=g("span",{class:"card-footer-item"},null,-1);function Jpe(t,e,n,s,i,r){var c,u,d;const o=Ae("input-select"),a=Ae("spinner-btn"),l=Ae("font-awesome-icon");return Q(),se("div",hpe,[g("div",ppe,[t.info.quicVersionGt("0.1.2")?(Q(),se("div",mpe,[gpe,g("div",_pe,[g("div",ype,[g("div",bpe,[vpe,g("div",wpe,[g("div",xpe,[g("div",Spe,[X(o,{id:"blackbox-preset",modelValue:t.current_preset,"onUpdate:modelValue":e[0]||(e[0]=f=>t.current_preset=f),modelModifiers:{number:!0},options:t.blackboxPresets},null,8,["modelValue","options"])]),g("div",Epe,[X(a,{onClick:e[1]||(e[1]=f=>t.load_preset(t.current_preset)),disabled:t.current_preset==-1},{default:Je(()=>[_e(" Load ")]),_:1},8,["disabled"])])])])]),g("div",Tpe,[Mpe,g("div",Ape,[g("div",kpe,[g("div",Rpe,[g("input",{class:"input is-static",value:t.blackboxRate,readonly:""},null,8,Cpe)])])])]),g("div",Ope,[Ppe,g("div",Lpe,[g("div",Ipe,[g("div",Dpe,[(Q(!0),se(Ze,null,$t(t.blackboxFields,f=>(Q(),se("input",{key:f,class:"input is-static",value:f,readonly:""},null,8,Fpe))),128))])])])])])])])):We("",!0)]),g("div",Npe,[t.blackbox.list?(Q(),se("div",Upe,[g("div",$pe,[Bpe,g("div",zpe,[g("progress",{class:"progress my-0 is-danger",value:t.usedSize,max:(t.blackbox.list.flash_size||1)*1024},null,8,Gpe),g("h6",null," Used: "+Fe(t.humanFileSize(t.usedSize))+" / "+Fe(t.humanFileSize(t.blackbox.list.flash_size*1024)),1)])]),g("div",Hpe,[g("div",Vpe,[(Q(!0),se(Ze,null,$t(t.blackbox.list.files,(f,h)=>(Q(),se("div",{key:h,class:"is-flex is-align-items-center"},[g("div",Wpe," File "+Fe(h+1)+": "+Fe(t.humanFileSize(f.size)),1),X(a,{class:"is-small my-2 mx-2",onClick:_=>t.download_btfl(h)},{default:Je(()=>[X(l,{icon:"fa-solid fa-download",size:"lg",class:"mr-2","fixed-width":""}),_e(" BTFL ")]),_:2},1032,["onClick"]),X(a,{class:"is-small my-2 mx-2",onClick:_=>t.download_quic(h)},{default:Je(()=>[X(l,{icon:"fa-solid fa-download",size:"lg",class:"mr-2","fixed-width":""}),_e(" QUIC ")]),_:2},1032,["onClick"])]))),128)),g("a",jpe,null,512),t.blackbox.progress?(Q(),se("div",qpe,[_e(" Downloading "+Fe(t.humanFileSize(t.blackbox.speed||0))+"/s... ",1),g("progress",{class:"progress is-info my-0",value:t.blackbox.progress,max:"1"},null,8,Ype)])):We("",!0)])]),g("footer",Kpe,[g("span",Xpe,Fe(((d=(u=(c=t.blackbox)==null?void 0:c.list)==null?void 0:u.files)==null?void 0:d.length)||0)+" Files ",1),Zpe,X(a,{class:"card-footer-item is-danger",onClick:e[2]||(e[2]=f=>t.reset())},{default:Je(()=>[_e(" Reset ")]),_:1})])])):We("",!0)])])}const Qpe=tt(fpe,[["render",Jpe]]),eme=Ye({name:"RealtimePlot",components:{Scatter:pne},props:["title","time","input","axis","transform"],data(){return{colors:["#1f77b4","#ff7f0e","#2ca02c","#d62728"],lastUpdate:0,chartData:void 0,datasets:[]}},computed:{chartOptions(){return{responsive:!0,maintainAspectRatio:!1,animation:{duration:0},elements:{line:{tension:0}},scales:{x:{type:"time",time:{unit:"second",displayFormats:{second:"HH:mm:ss"}}}},plugins:{title:{display:!0,text:this.title},tooltip:{enabled:!0,mode:"index",position:"average",intersect:!1,callbacks:{label:t=>{let e=t.dataset.label||"";return e&&(e+=": "),e+=t.formattedValue,e}}}}}}},methods:{updateChartData(){let t=[];Array.isArray(this.axis)?t=this.axis.map((e,n)=>({label:e,data:this.datasets[n]||[],fill:!1,borderColor:this.colors[n],showLine:!0,interpolate:!0})):t=[{label:this.axis,data:this.datasets[0]||[],fill:!1,borderColor:this.colors[0],showLine:!0,interpolate:!0}],this.chartData={labels:[],datasets:t}}},watch:{input(t){const e=this.transform||(s=>s),n=this.time||Date.now();if(Array.isArray(this.axis))for(let s=0;s<this.axis.length;s++){const i=Array.isArray(t)?t[s]:t[this.axis[s]];for(this.datasets[s]=[...this.datasets[s]||[],{x:n,y:e(i)}];this.datasets[s].length>=60;)this.datasets[s].shift()}else for(this.datasets[0]=[...this.datasets[0]||[],{x:n,y:e(t)}];this.datasets[0].length>=60;)this.datasets[0].shift();Date.now()-this.lastUpdate>250&&this.updateChartData()},title(){this.updateChartData()},time(){this.updateChartData()},axis(){this.updateChartData()},transform(){this.updateChartData()}}});function tme(t,e,n,s,i,r){const o=Ae("Scatter");return t.chartData?(Q(),rn(o,{key:0,"chart-data":t.chartData,"chart-options":t.chartOptions,ref:"chart"},null,8,["chart-data","chart-options"])):We("",!0)}const U8=tt(eme,[["render",tme]]),nme=Ye({name:"state",components:{RealtimePlot:U8,GyroModel:D5},setup(){return{state:Ps()}},data(){return{plots:[{name:"rx_filtered",size:12,title:"Rx Channels",axis:["Roll","Pitch","Yaw","Throttle"]},{name:"cpu_load",size:12,title:"CPU Load",axis:"us"},{name:"gyro_raw",size:6,title:"Gyro Raw",axis:["Roll","Pitch","Yaw"]},{name:"gyro",size:6,title:"Gyro Filter",axis:["Roll","Pitch","Yaw"]},{name:"gyro_temp",size:12,title:"Gyro Temperature",axis:"°C"},{name:"GEstG",size:12,title:"Gyro Vector",axis:["Roll","Pitch","Yaw"]},{name:"accel_raw",size:6,title:"AccelRaw",axis:["Roll","Pitch","Yaw"]},{name:"accel",size:6,title:"AccelFilter",axis:["Roll","Pitch","Yaw"]},{name:"pidoutput",size:12,title:"Pid Output",axis:["Roll","Pitch","Yaw"]}]}}}),sme={class:"columns is-multiline"},ime={class:"column is-12"};function rme(t,e,n,s,i,r){const o=Ae("GyroModel"),a=Ae("RealtimePlot");return Q(),se("div",sme,[g("div",ime,[X(o)]),(Q(!0),se(Ze,null,$t(t.plots,l=>(Q(),se("div",{class:Xs(["column",["is-"+l.size]]),key:l.name},[X(a,{title:l.title,axis:l.axis,input:t.state[l.name]},null,8,["title","axis","input"])],2))),128))])}const ome=tt(nme,[["render",rme]]),ame=Ye({name:"perf",components:{RealtimePlot:U8},setup(){return{perf:JA()}}}),lme={class:"columns is-multiline"};function cme(t,e,n,s,i,r){const o=Ae("RealtimePlot");return Q(),se("div",lme,[(Q(!0),se(Ze,null,$t(t.perf.counters,(a,l)=>(Q(),se("div",{class:"column is-6 my-3",key:"counter"+l},[X(o,{title:a.name,axis:Object.keys(a).slice(1),input:a},null,8,["title","axis","input"])]))),128))])}const ume=tt(ame,[["render",cme]]),Iv=Symbol.for("yaml.alias"),uy=Symbol.for("yaml.document"),Fo=Symbol.for("yaml.map"),$8=Symbol.for("yaml.pair"),Br=Symbol.for("yaml.scalar"),cu=Symbol.for("yaml.seq"),Js=Symbol.for("yaml.node.type"),dl=t=>!!t&&typeof t=="object"&&t[Js]===Iv,If=t=>!!t&&typeof t=="object"&&t[Js]===uy,fl=t=>!!t&&typeof t=="object"&&t[Js]===Fo,an=t=>!!t&&typeof t=="object"&&t[Js]===$8,Wt=t=>!!t&&typeof t=="object"&&t[Js]===Br,uu=t=>!!t&&typeof t=="object"&&t[Js]===cu;function ln(t){if(t&&typeof t=="object")switch(t[Js]){case Fo:case cu:return!0}return!1}function _n(t){if(t&&typeof t=="object")switch(t[Js]){case Iv:case Fo:case Br:case cu:return!0}return!1}const dme=t=>(Wt(t)||ln(t))&&!!t.anchor;class Dv{constructor(e){Object.defineProperty(this,Js,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}}const ys=Symbol("break visit"),B8=Symbol("skip children"),Xi=Symbol("remove node");function Go(t,e){const n=z8(e);If(t)?tc(null,t.contents,n,Object.freeze([t]))===Xi&&(t.contents=null):tc(null,t,n,Object.freeze([]))}Go.BREAK=ys;Go.SKIP=B8;Go.REMOVE=Xi;function tc(t,e,n,s){const i=G8(t,e,n,s);if(_n(i)||an(i))return H8(t,s,i),tc(t,i,n,s);if(typeof i!="symbol"){if(ln(e)){s=Object.freeze(s.concat(e));for(let r=0;r<e.items.length;++r){const o=tc(r,e.items[r],n,s);if(typeof o=="number")r=o-1;else{if(o===ys)return ys;o===Xi&&(e.items.splice(r,1),r-=1)}}}else if(an(e)){s=Object.freeze(s.concat(e));const r=tc("key",e.key,n,s);if(r===ys)return ys;r===Xi&&(e.key=null);const o=tc("value",e.value,n,s);if(o===ys)return ys;o===Xi&&(e.value=null)}}return i}async function Lg(t,e){const n=z8(e);If(t)?await nc(null,t.contents,n,Object.freeze([t]))===Xi&&(t.contents=null):await nc(null,t,n,Object.freeze([]))}Lg.BREAK=ys;Lg.SKIP=B8;Lg.REMOVE=Xi;async function nc(t,e,n,s){const i=await G8(t,e,n,s);if(_n(i)||an(i))return H8(t,s,i),nc(t,i,n,s);if(typeof i!="symbol"){if(ln(e)){s=Object.freeze(s.concat(e));for(let r=0;r<e.items.length;++r){const o=await nc(r,e.items[r],n,s);if(typeof o=="number")r=o-1;else{if(o===ys)return ys;o===Xi&&(e.items.splice(r,1),r-=1)}}}else if(an(e)){s=Object.freeze(s.concat(e));const r=await nc("key",e.key,n,s);if(r===ys)return ys;r===Xi&&(e.key=null);const o=await nc("value",e.value,n,s);if(o===ys)return ys;o===Xi&&(e.value=null)}}return i}function z8(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function G8(t,e,n,s){var i,r,o,a,l;if(typeof n=="function")return n(t,e,s);if(fl(e))return(i=n.Map)==null?void 0:i.call(n,t,e,s);if(uu(e))return(r=n.Seq)==null?void 0:r.call(n,t,e,s);if(an(e))return(o=n.Pair)==null?void 0:o.call(n,t,e,s);if(Wt(e))return(a=n.Scalar)==null?void 0:a.call(n,t,e,s);if(dl(e))return(l=n.Alias)==null?void 0:l.call(n,t,e,s)}function H8(t,e,n){const s=e[e.length-1];if(ln(s))s.items[t]=n;else if(an(s))t==="key"?s.key=n:s.value=n;else if(If(s))s.contents=n;else{const i=dl(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const fme={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},hme=t=>t.replace(/[!,[\]{}]/g,e=>fme[e]);class ns{constructor(e,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},ns.defaultYaml,e),this.tags=Object.assign({},ns.defaultTags,n)}clone(){const e=new ns(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new ns(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:ns.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},ns.defaultTags);break}return e}add(e,n){this.atNextDocument&&(this.yaml={explicit:ns.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},ns.defaultTags),this.atNextDocument=!1);const s=e.trim().split(/[ \t]+/),i=s.shift();switch(i){case"%TAG":{if(s.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),s.length<2))return!1;const[r,o]=s;return this.tags[r]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,s.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[r]=s;if(r==="1.1"||r==="1.2")return this.yaml.version=r,!0;{const o=/^\d+\.\d+$/.test(r);return n(6,`Unsupported YAML version ${r}`,o),!1}}default:return n(0,`Unknown directive ${i}`,!0),!1}}tagName(e,n){if(e==="!")return"!";if(e[0]!=="!")return n(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const o=e.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}const[,s,i]=e.match(/^(.*!)([^!]*)$/);i||n(`The ${e} tag has no suffix`);const r=this.tags[s];return r?r+decodeURIComponent(i):s==="!"?e:(n(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[n,s]of Object.entries(this.tags))if(e.startsWith(s))return n+hme(e.substring(s.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],s=Object.entries(this.tags);let i;if(e&&s.length>0&&_n(e.contents)){const r={};Go(e.contents,(o,a)=>{_n(a)&&a.tag&&(r[a.tag]=!0)}),i=Object.keys(r)}else i=[];for(const[r,o]of s)r==="!!"&&o==="tag:yaml.org,2002:"||(!e||i.some(a=>a.startsWith(o)))&&n.push(`%TAG ${r} ${o}`);return n.join(`
`)}}ns.defaultYaml={explicit:!1,version:"1.2"};ns.defaultTags={"!!":"tag:yaml.org,2002:"};function V8(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function W8(t){const e=new Set;return Go(t,{Value(n,s){s.anchor&&e.add(s.anchor)}}),e}function j8(t,e){for(let n=1;;++n){const s=`${t}${n}`;if(!e.has(s))return s}}function pme(t,e){const n=[],s=new Map;let i=null;return{onAnchor:r=>{n.push(r),i||(i=W8(t));const o=j8(e,i);return i.add(o),o},setAnchors:()=>{for(const r of n){const o=s.get(r);if(typeof o=="object"&&o.anchor&&(Wt(o.node)||ln(o.node)))o.node.anchor=o.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=r,a}}},sourceObjects:s}}class Ig extends Dv{constructor(e){super(Iv),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let n;return Go(e,{Node:(s,i)=>{if(i===this)return Go.BREAK;i.anchor===this.source&&(n=i)}}),n}toJSON(e,n){if(!n)return{source:this.source};const{anchors:s,doc:i,maxAliasCount:r}=n,o=this.resolve(i);if(!o){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}const a=s.get(o);if(!a||a.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(r>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=Mp(i,o,s)),a.count*a.aliasCount>r)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(e,n,s){const i=`*${this.source}`;if(e){if(V8(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const r=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(r)}if(e.implicitKey)return`${i} `}return i}}function Mp(t,e,n){if(dl(e)){const s=e.resolve(t),i=n&&s&&n.get(s);return i?i.count*i.aliasCount:0}else if(ln(e)){let s=0;for(const i of e.items){const r=Mp(t,i,n);r>s&&(s=r)}return s}else if(an(e)){const s=Mp(t,e.key,n),i=Mp(t,e.value,n);return Math.max(s,i)}return 1}function Zi(t,e,n){if(Array.isArray(t))return t.map((s,i)=>Zi(s,String(i),n));if(t&&typeof t.toJSON=="function"){if(!n||!dme(t))return t.toJSON(e,n);const s={aliasCount:0,count:1,res:void 0};n.anchors.set(t,s),n.onCreate=r=>{s.res=r,delete n.onCreate};const i=t.toJSON(e,n);return n.onCreate&&n.onCreate(i),i}return typeof t=="bigint"&&!(n!=null&&n.keep)?Number(t):t}const q8=t=>!t||typeof t!="function"&&typeof t!="object";class it extends Dv{constructor(e){super(Br),this.value=e}toJSON(e,n){return n!=null&&n.keep?this.value:Zi(this.value,e,n)}toString(){return String(this.value)}}it.BLOCK_FOLDED="BLOCK_FOLDED";it.BLOCK_LITERAL="BLOCK_LITERAL";it.PLAIN="PLAIN";it.QUOTE_DOUBLE="QUOTE_DOUBLE";it.QUOTE_SINGLE="QUOTE_SINGLE";const mme="tag:yaml.org,2002:";function gme(t,e,n){if(e){const s=n.filter(r=>r.tag===e),i=s.find(r=>!r.format)??s[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return n.find(s=>{var i;return((i=s.identify)==null?void 0:i.call(s,t))&&!s.format})}function tf(t,e,n){var d,f;if(If(t)&&(t=t.contents),_n(t))return t;if(an(t)){const h=(f=(d=n.schema[Fo]).createNode)==null?void 0:f.call(d,n.schema,null,n);return h.items.push(t),h}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:s,onAnchor:i,onTagObj:r,schema:o,sourceObjects:a}=n;let l;if(s&&t&&typeof t=="object"){if(l=a.get(t),l)return l.anchor||(l.anchor=i(t)),new Ig(l.anchor);l={anchor:null,node:null},a.set(t,l)}e!=null&&e.startsWith("!!")&&(e=mme+e.slice(2));let c=gme(t,e,o.tags);if(!c){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){const h=new it(t);return l&&(l.node=h),h}c=t instanceof Map?o[Fo]:Symbol.iterator in Object(t)?o[cu]:o[Fo]}r&&(r(c),delete n.onTagObj);const u=c!=null&&c.createNode?c.createNode(n.schema,t,n):new it(t);return e&&(u.tag=e),l&&(l.node=u),u}function mm(t,e,n){let s=n;for(let i=e.length-1;i>=0;--i){const r=e[i];if(typeof r=="number"&&Number.isInteger(r)&&r>=0){const o=[];o[r]=s,s=o}else s=new Map([[r,s]])}return tf(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const nd=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;let Dg=class extends Dv{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(s=>_n(s)||an(s)?s.clone(e):s),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(nd(e))this.add(n);else{const[s,...i]=e,r=this.get(s,!0);if(ln(r))r.addIn(i,n);else if(r===void 0&&this.schema)this.set(s,mm(this.schema,i,n));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${i}`)}}deleteIn(e){const[n,...s]=e;if(s.length===0)return this.delete(n);const i=this.get(n,!0);if(ln(i))return i.deleteIn(s);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`)}getIn(e,n){const[s,...i]=e,r=this.get(s,!0);return i.length===0?!n&&Wt(r)?r.value:r:ln(r)?r.getIn(i,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!an(n))return!1;const s=n.value;return s==null||e&&Wt(s)&&s.value==null&&!s.commentBefore&&!s.comment&&!s.tag})}hasIn(e){const[n,...s]=e;if(s.length===0)return this.has(n);const i=this.get(n,!0);return ln(i)?i.hasIn(s):!1}setIn(e,n){const[s,...i]=e;if(i.length===0)this.set(s,n);else{const r=this.get(s,!0);if(ln(r))r.setIn(i,n);else if(r===void 0&&this.schema)this.set(s,mm(this.schema,i,n));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${i}`)}}};Dg.maxFlowStringSingleLineLength=60;const _me=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function Or(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const ko=(t,e,n)=>t.endsWith(`
`)?Or(n,e):n.includes(`
`)?`
`+Or(n,e):(t.endsWith(" ")?"":" ")+n,Y8="flow",dy="block",Ap="quoted";function Fg(t,e,n="flow",{indentAtStart:s,lineWidth:i=80,minContentWidth:r=20,onFold:o,onOverflow:a}={}){if(!i||i<0)return t;const l=Math.max(1+r,1+i-e.length);if(t.length<=l)return t;const c=[],u={};let d=i-e.length;typeof s=="number"&&(s>i-Math.max(2,r)?c.push(0):d=i-s);let f,h,_=!1,p=-1,m=-1,y=-1;n===dy&&(p=eE(t,p),p!==-1&&(d=p+l));for(let v;v=t[p+=1];){if(n===Ap&&v==="\\"){switch(m=p,t[p+1]){case"x":p+=3;break;case"u":p+=5;break;case"U":p+=9;break;default:p+=1}y=p}if(v===`
`)n===dy&&(p=eE(t,p)),d=p+l,f=void 0;else{if(v===" "&&h&&h!==" "&&h!==`
`&&h!=="	"){const w=t[p+1];w&&w!==" "&&w!==`
`&&w!=="	"&&(f=p)}if(p>=d)if(f)c.push(f),d=f+l,f=void 0;else if(n===Ap){for(;h===" "||h==="	";)h=v,v=t[p+=1],_=!0;const w=p>y+1?p-2:m-1;if(u[w])return t;c.push(w),u[w]=!0,d=w+l,f=void 0}else _=!0}h=v}if(_&&a&&a(),c.length===0)return t;o&&o();let b=t.slice(0,c[0]);for(let v=0;v<c.length;++v){const w=c[v],S=c[v+1]||t.length;w===0?b=`
${e}${t.slice(0,S)}`:(n===Ap&&u[w]&&(b+=`${t[w]}\\`),b+=`
${e}${t.slice(w+1,S)}`)}return b}function eE(t,e){let n=t[e+1];for(;n===" "||n==="	";){do n=t[e+=1];while(n&&n!==`
`);n=t[e+1]}return e}const Ng=t=>({indentAtStart:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),Ug=t=>/^(%|---|\.\.\.)/m.test(t);function yme(t,e,n){if(!e||e<0)return!1;const s=e-n,i=t.length;if(i<=s)return!1;for(let r=0,o=0;r<i;++r)if(t[r]===`
`){if(r-o>s)return!0;if(o=r+1,i-o<=s)return!1}return!0}function xd(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:s}=e,i=e.options.doubleQuotedMinMultiLineLength,r=e.indent||(Ug(t)?"  ":"");let o="",a=0;for(let l=0,c=n[l];c;c=n[++l])if(c===" "&&n[l+1]==="\\"&&n[l+2]==="n"&&(o+=n.slice(a,l)+"\\ ",l+=1,a=l,c="\\"),c==="\\")switch(n[l+1]){case"u":{o+=n.slice(a,l);const u=n.substr(l+2,4);switch(u){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:u.substr(0,2)==="00"?o+="\\x"+u.substr(2):o+=n.substr(l,6)}l+=5,a=l+1}break;case"n":if(s||n[l+2]==='"'||n.length<i)l+=1;else{for(o+=n.slice(a,l)+`

`;n[l+2]==="\\"&&n[l+3]==="n"&&n[l+4]!=='"';)o+=`
`,l+=2;o+=r,n[l+2]===" "&&(o+="\\"),l+=1,a=l+1}break;default:l+=1}return o=a?o+n.slice(a):n,s?o:Fg(o,r,Ap,Ng(e))}function fy(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return xd(t,e);const n=e.indent||(Ug(t)?"  ":""),s="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?s:Fg(s,n,Y8,Ng(e))}function sc(t,e){const{singleQuote:n}=e.options;let s;if(n===!1)s=xd;else{const i=t.includes('"'),r=t.includes("'");i&&!r?s=fy:r&&!i?s=xd:s=n?fy:xd}return s(t,e)}function kp({comment:t,type:e,value:n},s,i,r){const{blockQuote:o,commentString:a,lineWidth:l}=s.options;if(!o||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return sc(n,s);const c=s.indent||(s.forceBlockIndent||Ug(n)?"  ":""),u=o==="literal"?!0:o==="folded"||e===it.BLOCK_FOLDED?!1:e===it.BLOCK_LITERAL?!0:!yme(n,l,c.length);if(!n)return u?`|
`:`>
`;let d,f;for(f=n.length;f>0;--f){const x=n[f-1];if(x!==`
`&&x!=="	"&&x!==" ")break}let h=n.substring(f);const _=h.indexOf(`
`);_===-1?d="-":n===h||_!==h.length-1?(d="+",r&&r()):d="",h&&(n=n.slice(0,-h.length),h[h.length-1]===`
`&&(h=h.slice(0,-1)),h=h.replace(/\n+(?!\n|$)/g,`$&${c}`));let p=!1,m,y=-1;for(m=0;m<n.length;++m){const x=n[m];if(x===" ")p=!0;else if(x===`
`)y=m;else break}let b=n.substring(0,y<m?y+1:m);b&&(n=n.substring(b.length),b=b.replace(/\n+/g,`$&${c}`));let w=(u?"|":">")+(p?c?"2":"1":"")+d;if(t&&(w+=" "+a(t.replace(/ ?[\r\n]+/g," ")),i&&i()),u)return n=n.replace(/\n+/g,`$&${c}`),`${w}
${c}${b}${n}${h}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`);const S=Fg(`${b}${n}${h}`,c,dy,Ng(s));return`${w}
${c}${S}`}function bme(t,e,n,s){const{type:i,value:r}=t,{actualString:o,implicitKey:a,indent:l,indentStep:c,inFlow:u}=e;if(a&&/[\n[\]{},]/.test(r)||u&&/[[\]{},]/.test(r))return sc(r,e);if(!r||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(r))return a||u||!r.includes(`
`)?sc(r,e):kp(t,e,n,s);if(!a&&!u&&i!==it.PLAIN&&r.includes(`
`))return kp(t,e,n,s);if(Ug(r)){if(l==="")return e.forceBlockIndent=!0,kp(t,e,n,s);if(a&&l===c)return sc(r,e)}const d=r.replace(/\n+/g,`$&
${l}`);if(o){const f=p=>{var m;return p.default&&p.tag!=="tag:yaml.org,2002:str"&&((m=p.test)==null?void 0:m.test(d))},{compat:h,tags:_}=e.doc.schema;if(_.some(f)||h!=null&&h.some(f))return sc(r,e)}return a?d:Fg(d,l,Y8,Ng(e))}function Df(t,e,n,s){const{implicitKey:i,inFlow:r}=e,o=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)});let{type:a}=t;a!==it.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=it.QUOTE_DOUBLE);const l=u=>{switch(u){case it.BLOCK_FOLDED:case it.BLOCK_LITERAL:return i||r?sc(o.value,e):kp(o,e,n,s);case it.QUOTE_DOUBLE:return xd(o.value,e);case it.QUOTE_SINGLE:return fy(o.value,e);case it.PLAIN:return bme(o,e,n,s);default:return null}};let c=l(a);if(c===null){const{defaultKeyType:u,defaultStringType:d}=e.options,f=i&&u||d;if(c=l(f),c===null)throw new Error(`Unsupported default string type ${f}`)}return c}function K8(t,e){const n=Object.assign({blockQuote:!0,commentString:_me,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let s;switch(n.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:s,options:n}}function vme(t,e){var i;if(e.tag){const r=t.filter(o=>o.tag===e.tag);if(r.length>0)return r.find(o=>o.format===e.format)??r[0]}let n,s;if(Wt(e)){s=e.value;const r=t.filter(o=>{var a;return(a=o.identify)==null?void 0:a.call(o,s)});n=r.find(o=>o.format===e.format)??r.find(o=>!o.format)}else s=e,n=t.find(r=>r.nodeClass&&s instanceof r.nodeClass);if(!n){const r=((i=s==null?void 0:s.constructor)==null?void 0:i.name)??typeof s;throw new Error(`Tag not resolved for ${r} value`)}return n}function wme(t,e,{anchors:n,doc:s}){if(!s.directives)return"";const i=[],r=(Wt(t)||ln(t))&&t.anchor;r&&V8(r)&&(n.add(r),i.push(`&${r}`));const o=t.tag?t.tag:e.default?null:e.tag;return o&&i.push(s.directives.tagString(o)),i.join(" ")}function el(t,e,n,s){var l;if(an(t))return t.toString(e,n,s);if(dl(t)){if(e.doc.directives)return t.toString(e);if((l=e.resolvedAliases)!=null&&l.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let i;const r=_n(t)?t:e.doc.createNode(t,{onTagObj:c=>i=c});i||(i=vme(e.doc.schema.tags,r));const o=wme(r,i,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);const a=typeof i.stringify=="function"?i.stringify(r,e,n,s):Wt(r)?Df(r,e,n,s):r.toString(e,n,s);return o?Wt(r)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
${e.indent}${a}`:a}function xme({key:t,value:e},n,s,i){const{allNullValues:r,doc:o,indent:a,indentStep:l,options:{commentString:c,indentSeq:u,simpleKeys:d}}=n;let f=_n(t)&&t.comment||null;if(d){if(f)throw new Error("With simple keys, key nodes cannot have comments");if(ln(t)){const T="With simple keys, collection cannot be used as a key value";throw new Error(T)}}let h=!d&&(!t||f&&e==null&&!n.inFlow||ln(t)||(Wt(t)?t.type===it.BLOCK_FOLDED||t.type===it.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!h&&(d||!r),indent:a+l});let _=!1,p=!1,m=el(t,n,()=>_=!0,()=>p=!0);if(!h&&!n.inFlow&&m.length>1024){if(d)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");h=!0}if(n.inFlow){if(r||e==null)return _&&s&&s(),m===""?"?":h?`? ${m}`:m}else if(r&&!d||e==null&&h)return m=`? ${m}`,f&&!_?m+=ko(m,n.indent,c(f)):p&&i&&i(),m;_&&(f=null),h?(f&&(m+=ko(m,n.indent,c(f))),m=`? ${m}
${a}:`):(m=`${m}:`,f&&(m+=ko(m,n.indent,c(f))));let y,b,v;_n(e)?(y=!!e.spaceBefore,b=e.commentBefore,v=e.comment):(y=!1,b=null,v=null,e&&typeof e=="object"&&(e=o.createNode(e))),n.implicitKey=!1,!h&&!f&&Wt(e)&&(n.indentAtStart=m.length+1),p=!1,!u&&l.length>=2&&!n.inFlow&&!h&&uu(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let w=!1;const S=el(e,n,()=>w=!0,()=>p=!0);let x=" ";if(f||y||b){if(x=y?`
`:"",b){const T=c(b);x+=`
${Or(T,n.indent)}`}S===""&&!n.inFlow?x===`
`&&(x=`

`):x+=`
${n.indent}`}else if(!h&&ln(e)){const T=S[0],E=S.indexOf(`
`),M=E!==-1,C=n.inFlow??e.flow??e.items.length===0;if(M||!C){let A=!1;if(M&&(T==="&"||T==="!")){let R=S.indexOf(" ");T==="&"&&R!==-1&&R<E&&S[R+1]==="!"&&(R=S.indexOf(" ",R+1)),(R===-1||E<R)&&(A=!0)}A||(x=`
${n.indent}`)}}else(S===""||S[0]===`
`)&&(x="");return m+=x+S,n.inFlow?w&&s&&s():v&&!w?m+=ko(m,n.indent,c(v)):p&&i&&i(),m}function X8(t,e){(t==="debug"||t==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(e):console.warn(e))}const tE="<<";function Z8(t,e,{key:n,value:s}){if(t!=null&&t.doc.schema.merge&&Sme(n))if(s=dl(s)?s.resolve(t.doc):s,uu(s))for(const i of s.items)P_(t,e,i);else if(Array.isArray(s))for(const i of s)P_(t,e,i);else P_(t,e,s);else{const i=Zi(n,"",t);if(e instanceof Map)e.set(i,Zi(s,i,t));else if(e instanceof Set)e.add(i);else{const r=Eme(n,i,t),o=Zi(s,r,t);r in e?Object.defineProperty(e,r,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[r]=o}}return e}const Sme=t=>t===tE||Wt(t)&&t.value===tE&&(!t.type||t.type===it.PLAIN);function P_(t,e,n){const s=t&&dl(n)?n.resolve(t.doc):n;if(!fl(s))throw new Error("Merge sources must be maps or map aliases");const i=s.toJSON(null,t,Map);for(const[r,o]of i)e instanceof Map?e.has(r)||e.set(r,o):e instanceof Set?e.add(r):Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(e,r,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}function Eme(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(_n(t)&&n&&n.doc){const s=K8(n.doc,{});s.anchors=new Set;for(const r of n.anchors.keys())s.anchors.add(r.anchor);s.inFlow=!0,s.inStringifyKey=!0;const i=t.toString(s);if(!n.mapKeyWarned){let r=JSON.stringify(i);r.length>40&&(r=r.substring(0,36)+'..."'),X8(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${r}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return i}return JSON.stringify(e)}function Fv(t,e,n){const s=tf(t,void 0,n),i=tf(e,void 0,n);return new qn(s,i)}class qn{constructor(e,n=null){Object.defineProperty(this,Js,{value:$8}),this.key=e,this.value=n}clone(e){let{key:n,value:s}=this;return _n(n)&&(n=n.clone(e)),_n(s)&&(s=s.clone(e)),new qn(n,s)}toJSON(e,n){const s=n!=null&&n.mapAsMap?new Map:{};return Z8(n,s,this)}toString(e,n,s){return e!=null&&e.doc?xme(this,e,n,s):JSON.stringify(this)}}function J8(t,e,n){return(e.inFlow??t.flow?Mme:Tme)(t,e,n)}function Tme({comment:t,items:e},n,{blockItemPrefix:s,flowChars:i,itemIndent:r,onChompKeep:o,onComment:a}){const{indent:l,options:{commentString:c}}=n,u=Object.assign({},n,{indent:r,type:null});let d=!1;const f=[];for(let _=0;_<e.length;++_){const p=e[_];let m=null;if(_n(p))!d&&p.spaceBefore&&f.push(""),gm(n,f,p.commentBefore,d),p.comment&&(m=p.comment);else if(an(p)){const b=_n(p.key)?p.key:null;b&&(!d&&b.spaceBefore&&f.push(""),gm(n,f,b.commentBefore,d))}d=!1;let y=el(p,u,()=>m=null,()=>d=!0);m&&(y+=ko(y,r,c(m))),d&&m&&(d=!1),f.push(s+y)}let h;if(f.length===0)h=i.start+i.end;else{h=f[0];for(let _=1;_<f.length;++_){const p=f[_];h+=p?`
${l}${p}`:`
`}}return t?(h+=`
`+Or(c(t),l),a&&a()):d&&o&&o(),h}function Mme({comment:t,items:e},n,{flowChars:s,itemIndent:i,onComment:r}){const{indent:o,indentStep:a,flowCollectionPadding:l,options:{commentString:c}}=n;i+=a;const u=Object.assign({},n,{indent:i,inFlow:!0,type:null});let d=!1,f=0;const h=[];for(let y=0;y<e.length;++y){const b=e[y];let v=null;if(_n(b))b.spaceBefore&&h.push(""),gm(n,h,b.commentBefore,!1),b.comment&&(v=b.comment);else if(an(b)){const S=_n(b.key)?b.key:null;S&&(S.spaceBefore&&h.push(""),gm(n,h,S.commentBefore,!1),S.comment&&(d=!0));const x=_n(b.value)?b.value:null;x?(x.comment&&(v=x.comment),x.commentBefore&&(d=!0)):b.value==null&&S&&S.comment&&(v=S.comment)}v&&(d=!0);let w=el(b,u,()=>v=null);y<e.length-1&&(w+=","),v&&(w+=ko(w,i,c(v))),!d&&(h.length>f||w.includes(`
`))&&(d=!0),h.push(w),f=h.length}let _;const{start:p,end:m}=s;if(h.length===0)_=p+m;else if(d||(d=h.reduce((b,v)=>b+v.length+2,2)>Dg.maxFlowStringSingleLineLength),d){_=p;for(const y of h)_+=y?`
${a}${o}${y}`:`
`;_+=`
${o}${m}`}else _=`${p}${l}${h.join(" ")}${l}${m}`;return t&&(_+=ko(_,c(t),o),r&&r()),_}function gm({indent:t,options:{commentString:e}},n,s,i){if(s&&i&&(s=s.replace(/^\n+/,"")),s){const r=Or(e(s),t);n.push(r.trimStart())}}function Ra(t,e){const n=Wt(e)?e.value:e;for(const s of t)if(an(s)&&(s.key===e||s.key===n||Wt(s.key)&&s.key.value===n))return s}class Vs extends Dg{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(Fo,e),this.items=[]}add(e,n){var o;let s;an(e)?s=e:!e||typeof e!="object"||!("key"in e)?s=new qn(e,e==null?void 0:e.value):s=new qn(e.key,e.value);const i=Ra(this.items,s.key),r=(o=this.schema)==null?void 0:o.sortMapEntries;if(i){if(!n)throw new Error(`Key ${s.key} already set`);Wt(i.value)&&q8(s.value)?i.value.value=s.value:i.value=s.value}else if(r){const a=this.items.findIndex(l=>r(s,l)<0);a===-1?this.items.push(s):this.items.splice(a,0,s)}else this.items.push(s)}delete(e){const n=Ra(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){const s=Ra(this.items,e),i=s==null?void 0:s.value;return(!n&&Wt(i)?i.value:i)??void 0}has(e){return!!Ra(this.items,e)}set(e,n){this.add(new qn(e,n),!0)}toJSON(e,n,s){const i=s?new s:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(i);for(const r of this.items)Z8(n,i,r);return i}toString(e,n,s){if(!e)return JSON.stringify(this);for(const i of this.items)if(!an(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),J8(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:s,onComment:n})}}function Ame(t,e,n){const{keepUndefined:s,replacer:i}=n,r=new Vs(t),o=(a,l)=>{if(typeof i=="function")l=i.call(e,a,l);else if(Array.isArray(i)&&!i.includes(a))return;(l!==void 0||s)&&r.items.push(Fv(a,l,n))};if(e instanceof Map)for(const[a,l]of e)o(a,l);else if(e&&typeof e=="object")for(const a of Object.keys(e))o(a,e[a]);return typeof t.sortMapEntries=="function"&&r.items.sort(t.sortMapEntries),r}const du={collection:"map",createNode:Ame,default:!0,nodeClass:Vs,tag:"tag:yaml.org,2002:map",resolve(t,e){return fl(t)||e("Expected a mapping for this tag"),t}};class hl extends Dg{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(cu,e),this.items=[]}add(e){this.items.push(e)}delete(e){const n=$h(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){const s=$h(e);if(typeof s!="number")return;const i=this.items[s];return!n&&Wt(i)?i.value:i}has(e){const n=$h(e);return typeof n=="number"&&n<this.items.length}set(e,n){const s=$h(e);if(typeof s!="number")throw new Error(`Expected a valid index, not ${e}.`);const i=this.items[s];Wt(i)&&q8(n)?i.value=n:this.items[s]=n}toJSON(e,n){const s=[];n!=null&&n.onCreate&&n.onCreate(s);let i=0;for(const r of this.items)s.push(Zi(r,String(i++),n));return s}toString(e,n,s){return e?J8(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:s,onComment:n}):JSON.stringify(this)}}function $h(t){let e=Wt(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}function kme(t,e,n){const{replacer:s}=n,i=new hl(t);if(e&&Symbol.iterator in Object(e)){let r=0;for(let o of e){if(typeof s=="function"){const a=e instanceof Set?o:String(r++);o=s.call(e,a,o)}i.items.push(tf(o,void 0,n))}}return i}const fu={collection:"seq",createNode:kme,default:!0,nodeClass:hl,tag:"tag:yaml.org,2002:seq",resolve(t,e){return uu(t)||e("Expected a sequence for this tag"),t}},$g={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,n,s){return e=Object.assign({actualString:!0},e),Df(t,e,n,s)}},Bg={identify:t=>t==null,createNode:()=>new it(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new it(null),stringify:({source:t},e)=>typeof t=="string"&&Bg.test.test(t)?t:e.options.nullStr},Nv={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new it(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},n){if(t&&Nv.test.test(t)){const s=t[0]==="t"||t[0]==="T";if(e===s)return t}return e?n.options.trueStr:n.options.falseStr}};function Pi({format:t,minFractionDigits:e,tag:n,value:s}){if(typeof s=="bigint")return String(s);const i=typeof s=="number"?s:Number(s);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let r=JSON.stringify(s);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(r)){let o=r.indexOf(".");o<0&&(o=r.length,r+=".");let a=e-(r.length-o-1);for(;a-- >0;)r+="0"}return r}const Q8={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Pi},e6={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():Pi(t)}},t6={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){const e=new it(parseFloat(t)),n=t.indexOf(".");return n!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-n-1),e},stringify:Pi},zg=t=>typeof t=="bigint"||Number.isInteger(t),Uv=(t,e,n,{intAsBigInt:s})=>s?BigInt(t):parseInt(t.substring(e),n);function n6(t,e,n){const{value:s}=t;return zg(s)&&s>=0?n+s.toString(e):Pi(t)}const s6={identify:t=>zg(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,n)=>Uv(t,2,8,n),stringify:t=>n6(t,8,"0o")},i6={identify:zg,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,n)=>Uv(t,0,10,n),stringify:Pi},r6={identify:t=>zg(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,n)=>Uv(t,2,16,n),stringify:t=>n6(t,16,"0x")},Rme=[du,fu,$g,Bg,Nv,s6,i6,r6,Q8,e6,t6];function nE(t){return typeof t=="bigint"||Number.isInteger(t)}const Bh=({value:t})=>JSON.stringify(t),Cme=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:Bh},{identify:t=>t==null,createNode:()=>new it(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Bh},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>t==="true",stringify:Bh},{identify:nE,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>nE(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:Bh}],Ome={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},Pme=[du,fu].concat(Cme,Ome),$v={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof Buffer=="function")return Buffer.from(t,"base64");if(typeof atob=="function"){const n=atob(t.replace(/[\n\r]/g,"")),s=new Uint8Array(n.length);for(let i=0;i<n.length;++i)s[i]=n.charCodeAt(i);return s}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},s,i,r){const o=n;let a;if(typeof Buffer=="function")a=o instanceof Buffer?o.toString("base64"):Buffer.from(o.buffer).toString("base64");else if(typeof btoa=="function"){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=it.BLOCK_LITERAL),e!==it.QUOTE_DOUBLE){const l=Math.max(s.options.lineWidth-s.indent.length,s.options.minContentWidth),c=Math.ceil(a.length/l),u=new Array(c);for(let d=0,f=0;d<c;++d,f+=l)u[d]=a.substr(f,l);a=u.join(e===it.BLOCK_LITERAL?`
`:" ")}return Df({comment:t,type:e,value:a},s,i,r)}};function o6(t,e){if(uu(t))for(let n=0;n<t.items.length;++n){let s=t.items[n];if(!an(s)){if(fl(s)){s.items.length>1&&e("Each pair must have its own sequence indicator");const i=s.items[0]||new qn(new it(null));if(s.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${s.commentBefore}
${i.key.commentBefore}`:s.commentBefore),s.comment){const r=i.value??i.key;r.comment=r.comment?`${s.comment}
${r.comment}`:s.comment}s=i}t.items[n]=an(s)?s:new qn(s)}}else e("Expected a sequence for this tag");return t}function a6(t,e,n){const{replacer:s}=n,i=new hl(t);i.tag="tag:yaml.org,2002:pairs";let r=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof s=="function"&&(o=s.call(e,String(r++),o));let a,l;if(Array.isArray(o))if(o.length===2)a=o[0],l=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const c=Object.keys(o);if(c.length===1)a=c[0],l=o[a];else throw new TypeError(`Expected { key: value } tuple: ${o}`)}else a=o;i.items.push(Fv(a,l,n))}return i}const Bv={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:o6,createNode:a6};class vc extends hl{constructor(){super(),this.add=Vs.prototype.add.bind(this),this.delete=Vs.prototype.delete.bind(this),this.get=Vs.prototype.get.bind(this),this.has=Vs.prototype.has.bind(this),this.set=Vs.prototype.set.bind(this),this.tag=vc.tag}toJSON(e,n){if(!n)return super.toJSON(e);const s=new Map;n!=null&&n.onCreate&&n.onCreate(s);for(const i of this.items){let r,o;if(an(i)?(r=Zi(i.key,"",n),o=Zi(i.value,r,n)):r=Zi(i,"",n),s.has(r))throw new Error("Ordered maps must not include duplicate keys");s.set(r,o)}return s}}vc.tag="tag:yaml.org,2002:omap";const zv={collection:"seq",identify:t=>t instanceof Map,nodeClass:vc,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){const n=o6(t,e),s=[];for(const{key:i}of n.items)Wt(i)&&(s.includes(i.value)?e(`Ordered maps must not include duplicate keys: ${i.value}`):s.push(i.value));return Object.assign(new vc,n)},createNode(t,e,n){const s=a6(t,e,n),i=new vc;return i.items=s.items,i}};function l6({value:t,source:e},n){return e&&(t?c6:u6).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}const c6={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new it(!0),stringify:l6},u6={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new it(!1),stringify:l6},Lme={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Pi},Ime={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():Pi(t)}},Dme={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){const e=new it(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(n!==-1){const s=t.substring(n+1).replace(/_/g,"");s[s.length-1]==="0"&&(e.minFractionDigits=s.length)}return e},stringify:Pi},Ff=t=>typeof t=="bigint"||Number.isInteger(t);function Gg(t,e,n,{intAsBigInt:s}){const i=t[0];if((i==="-"||i==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),s){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}const o=BigInt(t);return i==="-"?BigInt(-1)*o:o}const r=parseInt(t,n);return i==="-"?-1*r:r}function Gv(t,e,n){const{value:s}=t;if(Ff(s)){const i=s.toString(e);return s<0?"-"+n+i.substr(1):n+i}return Pi(t)}const Fme={identify:Ff,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,n)=>Gg(t,2,2,n),stringify:t=>Gv(t,2,"0b")},Nme={identify:Ff,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,n)=>Gg(t,1,8,n),stringify:t=>Gv(t,8,"0")},Ume={identify:Ff,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,n)=>Gg(t,0,10,n),stringify:Pi},$me={identify:Ff,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,n)=>Gg(t,2,16,n),stringify:t=>Gv(t,16,"0x")};class wc extends Vs{constructor(e){super(e),this.tag=wc.tag}add(e){let n;an(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new qn(e.key,null):n=new qn(e,null),Ra(this.items,n.key)||this.items.push(n)}get(e,n){const s=Ra(this.items,e);return!n&&an(s)?Wt(s.key)?s.key.value:s.key:s}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const s=Ra(this.items,e);s&&!n?this.items.splice(this.items.indexOf(s),1):!s&&n&&this.items.push(new qn(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,s){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,s);throw new Error("Set items must all have null values")}}wc.tag="tag:yaml.org,2002:set";const Hv={collection:"map",identify:t=>t instanceof Set,nodeClass:wc,default:!1,tag:"tag:yaml.org,2002:set",resolve(t,e){if(fl(t)){if(t.hasAllNullValues(!0))return Object.assign(new wc,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t},createNode(t,e,n){const{replacer:s}=n,i=new wc(t);if(e&&Symbol.iterator in Object(e))for(let r of e)typeof s=="function"&&(r=s.call(e,r,r)),i.items.push(Fv(r,null,n));return i}};function Vv(t,e){const n=t[0],s=n==="-"||n==="+"?t.substring(1):t,i=o=>e?BigInt(o):Number(o),r=s.replace(/_/g,"").split(":").reduce((o,a)=>o*i(60)+i(a),i(0));return n==="-"?i(-1)*r:r}function d6(t){let{value:e}=t,n=o=>o;if(typeof e=="bigint")n=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return Pi(t);let s="";e<0&&(s="-",e*=n(-1));const i=n(60),r=[e%i];return e<60?r.unshift(0):(e=(e-r[0])/i,r.unshift(e%i),e>=60&&(e=(e-r[0])/i,r.unshift(e))),s+r.map(o=>o<10?"0"+String(o):String(o)).join(":").replace(/000000\d*$/,"")}const f6={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:n})=>Vv(t,n),stringify:d6},h6={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>Vv(t,!1),stringify:d6},Hg={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){const e=t.match(Hg.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,s,i,r,o,a]=e.map(Number),l=e[7]?Number((e[7]+"00").substr(1,3)):0;let c=Date.UTC(n,s-1,i,r||0,o||0,a||0,l);const u=e[8];if(u&&u!=="Z"){let d=Vv(u,!1);Math.abs(d)<30&&(d*=60),c-=6e4*d}return new Date(c)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},sE=[du,fu,$g,Bg,c6,u6,Fme,Nme,Ume,$me,Lme,Ime,Dme,$v,zv,Bv,Hv,f6,h6,Hg],iE=new Map([["core",Rme],["failsafe",[du,fu,$g]],["json",Pme],["yaml11",sE],["yaml-1.1",sE]]),rE={binary:$v,bool:Nv,float:t6,floatExp:e6,floatNaN:Q8,floatTime:h6,int:i6,intHex:r6,intOct:s6,intTime:f6,map:du,null:Bg,omap:zv,pairs:Bv,seq:fu,set:Hv,timestamp:Hg},Bme={"tag:yaml.org,2002:binary":$v,"tag:yaml.org,2002:omap":zv,"tag:yaml.org,2002:pairs":Bv,"tag:yaml.org,2002:set":Hv,"tag:yaml.org,2002:timestamp":Hg};function L_(t,e){let n=iE.get(e);if(!n)if(Array.isArray(t))n=[];else{const s=Array.from(iE.keys()).filter(i=>i!=="yaml11").map(i=>JSON.stringify(i)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${s} or define customTags array`)}if(Array.isArray(t))for(const s of t)n=n.concat(s);else typeof t=="function"&&(n=t(n.slice()));return n.map(s=>{if(typeof s!="string")return s;const i=rE[s];if(i)return i;const r=Object.keys(rE).map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown custom tag "${s}"; use one of ${r}`)})}const zme=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0;class Vg{constructor({compat:e,customTags:n,merge:s,resolveKnownTags:i,schema:r,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(e)?L_(e,"compat"):e?L_(null,e):null,this.merge=!!s,this.name=typeof r=="string"&&r||"core",this.knownTags=i?Bme:{},this.tags=L_(n,this.name),this.toStringOptions=a??null,Object.defineProperty(this,Fo,{value:du}),Object.defineProperty(this,Br,{value:$g}),Object.defineProperty(this,cu,{value:fu}),this.sortMapEntries=typeof o=="function"?o:o===!0?zme:null}clone(){const e=Object.create(Vg.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function Gme(t,e){var l;const n=[];let s=e.directives===!0;if(e.directives!==!1&&t.directives){const c=t.directives.toString(t);c?(n.push(c),s=!0):t.directives.docStart&&(s=!0)}s&&n.push("---");const i=K8(t,e),{commentString:r}=i.options;if(t.commentBefore){n.length!==1&&n.unshift("");const c=r(t.commentBefore);n.unshift(Or(c,""))}let o=!1,a=null;if(t.contents){if(_n(t.contents)){if(t.contents.spaceBefore&&s&&n.push(""),t.contents.commentBefore){const d=r(t.contents.commentBefore);n.push(Or(d,""))}i.forceBlockIndent=!!t.comment,a=t.contents.comment}const c=a?void 0:()=>o=!0;let u=el(t.contents,i,()=>a=null,c);a&&(u+=ko(u,"",r(a))),(u[0]==="|"||u[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${u}`:n.push(u)}else n.push(el(t.contents,i));if((l=t.directives)!=null&&l.docEnd)if(t.comment){const c=r(t.comment);c.includes(`
`)?(n.push("..."),n.push(Or(c,""))):n.push(`... ${c}`)}else n.push("...");else{let c=t.comment;c&&o&&(c=c.replace(/^\n+/,"")),c&&((!o||a)&&n[n.length-1]!==""&&n.push(""),n.push(Or(r(c),"")))}return n.join(`
`)+`
`}function sd(t,e,n,s){if(s&&typeof s=="object")if(Array.isArray(s))for(let i=0,r=s.length;i<r;++i){const o=s[i],a=sd(t,s,String(i),o);a===void 0?delete s[i]:a!==o&&(s[i]=a)}else if(s instanceof Map)for(const i of Array.from(s.keys())){const r=s.get(i),o=sd(t,s,i,r);o===void 0?s.delete(i):o!==r&&s.set(i,o)}else if(s instanceof Set)for(const i of Array.from(s)){const r=sd(t,s,i,i);r===void 0?s.delete(i):r!==i&&(s.delete(i),s.add(r))}else for(const[i,r]of Object.entries(s)){const o=sd(t,s,i,r);o===void 0?delete s[i]:o!==r&&(s[i]=o)}return t.call(e,n,s)}class hu{constructor(e,n,s){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Js,{value:uy});let i=null;typeof n=="function"||Array.isArray(n)?i=n:s===void 0&&n&&(s=n,n=void 0);const r=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},s);this.options=r;let{version:o}=r;s!=null&&s._directives?(this.directives=s._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new ns({version:o}),this.setSchema(o,s),e===void 0?this.contents=null:this.contents=this.createNode(e,i,s)}clone(){const e=Object.create(hu.prototype,{[Js]:{value:uy}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=_n(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){Bl(this.contents)&&this.contents.add(e)}addIn(e,n){Bl(this.contents)&&this.contents.addIn(e,n)}createAlias(e,n){if(!e.anchor){const s=W8(this);e.anchor=!n||s.has(n)?j8(n||"a",s):n}return new Ig(e.anchor)}createNode(e,n,s){let i;if(typeof n=="function")e=n.call({"":e},"",e),i=n;else if(Array.isArray(n)){const m=b=>typeof b=="number"||b instanceof String||b instanceof Number,y=n.filter(m).map(String);y.length>0&&(n=n.concat(y)),i=n}else s===void 0&&n&&(s=n,n=void 0);const{aliasDuplicateObjects:r,anchorPrefix:o,flow:a,keepUndefined:l,onTagObj:c,tag:u}=s??{},{onAnchor:d,setAnchors:f,sourceObjects:h}=pme(this,o||"a"),_={aliasDuplicateObjects:r??!0,keepUndefined:l??!1,onAnchor:d,onTagObj:c,replacer:i,schema:this.schema,sourceObjects:h},p=tf(e,u,_);return a&&ln(p)&&(p.flow=!0),f(),p}createPair(e,n,s={}){const i=this.createNode(e,null,s),r=this.createNode(n,null,s);return new qn(i,r)}delete(e){return Bl(this.contents)?this.contents.delete(e):!1}deleteIn(e){return nd(e)?this.contents==null?!1:(this.contents=null,!0):Bl(this.contents)?this.contents.deleteIn(e):!1}get(e,n){return ln(this.contents)?this.contents.get(e,n):void 0}getIn(e,n){return nd(e)?!n&&Wt(this.contents)?this.contents.value:this.contents:ln(this.contents)?this.contents.getIn(e,n):void 0}has(e){return ln(this.contents)?this.contents.has(e):!1}hasIn(e){return nd(e)?this.contents!==void 0:ln(this.contents)?this.contents.hasIn(e):!1}set(e,n){this.contents==null?this.contents=mm(this.schema,[e],n):Bl(this.contents)&&this.contents.set(e,n)}setIn(e,n){nd(e)?this.contents=n:this.contents==null?this.contents=mm(this.schema,Array.from(e),n):Bl(this.contents)&&this.contents.setIn(e,n)}setSchema(e,n={}){typeof e=="number"&&(e=String(e));let s;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new ns({version:"1.1"}),s={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new ns({version:e}),s={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,s=null;break;default:{const i=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(s)this.schema=new Vg(Object.assign(s,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:n,mapAsMap:s,maxAliasCount:i,onAnchor:r,reviver:o}={}){const a={anchors:new Map,doc:this,keep:!e,mapAsMap:s===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100,stringify:el},l=Zi(this.contents,n??"",a);if(typeof r=="function")for(const{count:c,res:u}of a.anchors.values())r(u,c);return typeof o=="function"?sd(o,{"":l},"",l):l}toJSON(e,n){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:n})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const n=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return Gme(this,e)}}function Bl(t){if(ln(t))return!0;throw new Error("Expected a YAML collection as document contents")}class Wv extends Error{constructor(e,n,s,i){super(),this.name=e,this.code=s,this.message=i,this.pos=n}}class Ca extends Wv{constructor(e,n,s){super("YAMLParseError",e,n,s)}}class p6 extends Wv{constructor(e,n,s){super("YAMLWarning",e,n,s)}}const _m=(t,e)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(a=>e.linePos(a));const{line:s,col:i}=n.linePos[0];n.message+=` at line ${s}, column ${i}`;let r=i-1,o=t.substring(e.lineStarts[s-1],e.lineStarts[s]).replace(/[\n\r]+$/,"");if(r>=60&&o.length>80){const a=Math.min(r-39,o.length-79);o="…"+o.substring(a),r-=a-1}if(o.length>80&&(o=o.substring(0,79)+"…"),s>1&&/^ *$/.test(o.substring(0,r))){let a=t.substring(e.lineStarts[s-2],e.lineStarts[s-1]);a.length>80&&(a=a.substring(0,79)+`…
`),o=a+o}if(/[^ ]/.test(o)){let a=1;const l=n.linePos[1];l&&l.line===s&&l.col>i&&(a=Math.min(l.col-i,80-r));const c=" ".repeat(r)+"^".repeat(a);n.message+=`:

${o}
${c}
`}};function jc(t,{flow:e,indicator:n,next:s,offset:i,onError:r,startOnNewline:o}){let a=!1,l=o,c=o,u="",d="",f=!1,h=!1,_=!1,p=null,m=null,y=null,b=null,v=null;for(const x of t)switch(_&&(x.type!=="space"&&x.type!=="newline"&&x.type!=="comma"&&r(x.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),_=!1),x.type){case"space":!e&&l&&n!=="doc-start"&&x.source[0]==="	"&&r(x,"TAB_AS_INDENT","Tabs are not allowed as indentation"),c=!0;break;case"comment":{c||r(x,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const T=x.source.substring(1)||" ";u?u+=d+T:u=T,d="",l=!1;break}case"newline":l?u?u+=x.source:a=!0:d+=x.source,l=!0,f=!0,(p||m)&&(h=!0),c=!0;break;case"anchor":p&&r(x,"MULTIPLE_ANCHORS","A node can have at most one anchor"),x.source.endsWith(":")&&r(x.offset+x.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),p=x,v===null&&(v=x.offset),l=!1,c=!1,_=!0;break;case"tag":{m&&r(x,"MULTIPLE_TAGS","A node can have at most one tag"),m=x,v===null&&(v=x.offset),l=!1,c=!1,_=!0;break}case n:(p||m)&&r(x,"BAD_PROP_ORDER",`Anchors and tags must be after the ${x.source} indicator`),b&&r(x,"UNEXPECTED_TOKEN",`Unexpected ${x.source} in ${e??"collection"}`),b=x,l=!1,c=!1;break;case"comma":if(e){y&&r(x,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),y=x,l=!1,c=!1;break}default:r(x,"UNEXPECTED_TOKEN",`Unexpected ${x.type} token`),l=!1,c=!1}const w=t[t.length-1],S=w?w.offset+w.source.length:i;return _&&s&&s.type!=="space"&&s.type!=="newline"&&s.type!=="comma"&&(s.type!=="scalar"||s.source!=="")&&r(s.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:y,found:b,spaceBefore:a,comment:u,hasNewline:f,hasNewlineAfterProp:h,anchor:p,tag:m,end:S,start:v??S}}function nf(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return!0;if(t.end){for(const e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of t.items){for(const n of e.start)if(n.type==="newline")return!0;if(e.sep){for(const n of e.sep)if(n.type==="newline")return!0}if(nf(e.key)||nf(e.value))return!0}return!1;default:return!0}}function hy(t,e,n){if((e==null?void 0:e.type)==="flow-collection"){const s=e.end[0];s.indent===t&&(s.source==="]"||s.source==="}")&&nf(e)&&n(s,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function m6(t,e,n){const{uniqueKeys:s}=t.options;if(s===!1)return!1;const i=typeof s=="function"?s:(r,o)=>r===o||Wt(r)&&Wt(o)&&r.value===o.value&&!(r.value==="<<"&&t.schema.merge);return e.some(r=>i(r.key,n))}const oE="All mapping items must start at the same column";function Hme({composeNode:t,composeEmptyNode:e},n,s,i){var l;const r=new Vs(n.schema);n.atRoot&&(n.atRoot=!1);let o=s.offset,a=null;for(const c of s.items){const{start:u,key:d,sep:f,value:h}=c,_=jc(u,{indicator:"explicit-key-ind",next:d??(f==null?void 0:f[0]),offset:o,onError:i,startOnNewline:!0}),p=!_.found;if(p){if(d&&(d.type==="block-seq"?i(o,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in d&&d.indent!==s.indent&&i(o,"BAD_INDENT",oE)),!_.anchor&&!_.tag&&!f){a=_.end,_.comment&&(r.comment?r.comment+=`
`+_.comment:r.comment=_.comment);continue}(_.hasNewlineAfterProp||nf(d))&&i(d??u[u.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((l=_.found)==null?void 0:l.indent)!==s.indent&&i(o,"BAD_INDENT",oE);const m=_.end,y=d?t(n,d,_,i):e(n,m,u,null,_,i);n.schema.compat&&hy(s.indent,d,i),m6(n,r.items,y)&&i(m,"DUPLICATE_KEY","Map keys must be unique");const b=jc(f??[],{indicator:"map-value-ind",next:h,offset:y.range[2],onError:i,startOnNewline:!d||d.type==="block-scalar"});if(o=b.end,b.found){p&&((h==null?void 0:h.type)==="block-map"&&!b.hasNewline&&i(o,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&_.start<b.found.offset-1024&&i(y.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const v=h?t(n,h,b,i):e(n,o,f,null,b,i);n.schema.compat&&hy(s.indent,h,i),o=v.range[2];const w=new qn(y,v);n.options.keepSourceTokens&&(w.srcToken=c),r.items.push(w)}else{p&&i(y.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),b.comment&&(y.comment?y.comment+=`
`+b.comment:y.comment=b.comment);const v=new qn(y);n.options.keepSourceTokens&&(v.srcToken=c),r.items.push(v)}}return a&&a<o&&i(a,"IMPOSSIBLE","Map comment with trailing content"),r.range=[s.offset,o,a??o],r}function Vme({composeNode:t,composeEmptyNode:e},n,s,i){const r=new hl(n.schema);n.atRoot&&(n.atRoot=!1);let o=s.offset,a=null;for(const{start:l,value:c}of s.items){const u=jc(l,{indicator:"seq-item-ind",next:c,offset:o,onError:i,startOnNewline:!0});if(!u.found)if(u.anchor||u.tag||c)c&&c.type==="block-seq"?i(u.end,"BAD_INDENT","All sequence items must start at the same column"):i(o,"MISSING_CHAR","Sequence item without - indicator");else{a=u.end,u.comment&&(r.comment=u.comment);continue}const d=c?t(n,c,u,i):e(n,u.end,l,null,u,i);n.schema.compat&&hy(s.indent,c,i),o=d.range[2],r.items.push(d)}return r.range=[s.offset,o,a??o],r}function Nf(t,e,n,s){let i="";if(t){let r=!1,o="";for(const a of t){const{source:l,type:c}=a;switch(c){case"space":r=!0;break;case"comment":{n&&!r&&s(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const u=l.substring(1)||" ";i?i+=o+u:i=u,o="";break}case"newline":i&&(o+=l),r=!0;break;default:s(a,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}e+=l.length}}return{comment:i,offset:e}}const I_="Block collections are not allowed within flow collections",D_=t=>t&&(t.type==="block-map"||t.type==="block-seq");function Wme({composeNode:t,composeEmptyNode:e},n,s,i){const r=s.start.source==="{",o=r?"flow map":"flow sequence",a=r?new Vs(n.schema):new hl(n.schema);a.flow=!0;const l=n.atRoot;l&&(n.atRoot=!1);let c=s.offset+s.start.source.length;for(let _=0;_<s.items.length;++_){const p=s.items[_],{start:m,key:y,sep:b,value:v}=p,w=jc(m,{flow:o,indicator:"explicit-key-ind",next:y??(b==null?void 0:b[0]),offset:c,onError:i,startOnNewline:!1});if(!w.found){if(!w.anchor&&!w.tag&&!b&&!v){_===0&&w.comma?i(w.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${o}`):_<s.items.length-1&&i(w.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${o}`),w.comment&&(a.comment?a.comment+=`
`+w.comment:a.comment=w.comment),c=w.end;continue}!r&&n.options.strict&&nf(y)&&i(y,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(_===0)w.comma&&i(w.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${o}`);else if(w.comma||i(w.start,"MISSING_CHAR",`Missing , between ${o} items`),w.comment){let S="";e:for(const x of m)switch(x.type){case"comma":case"space":break;case"comment":S=x.source.substring(1);break e;default:break e}if(S){let x=a.items[a.items.length-1];an(x)&&(x=x.value??x.key),x.comment?x.comment+=`
`+S:x.comment=S,w.comment=w.comment.substring(S.length+1)}}if(!r&&!b&&!w.found){const S=v?t(n,v,w,i):e(n,w.end,b,null,w,i);a.items.push(S),c=S.range[2],D_(v)&&i(S.range,"BLOCK_IN_FLOW",I_)}else{const S=w.end,x=y?t(n,y,w,i):e(n,S,m,null,w,i);D_(y)&&i(x.range,"BLOCK_IN_FLOW",I_);const T=jc(b??[],{flow:o,indicator:"map-value-ind",next:v,offset:x.range[2],onError:i,startOnNewline:!1});if(T.found){if(!r&&!w.found&&n.options.strict){if(b)for(const C of b){if(C===T.found)break;if(C.type==="newline"){i(C,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}w.start<T.found.offset-1024&&i(T.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else v&&("source"in v&&v.source&&v.source[0]===":"?i(v,"MISSING_CHAR",`Missing space after : in ${o}`):i(T.start,"MISSING_CHAR",`Missing , or : between ${o} items`));const E=v?t(n,v,T,i):T.found?e(n,T.end,b,null,T,i):null;E?D_(v)&&i(E.range,"BLOCK_IN_FLOW",I_):T.comment&&(x.comment?x.comment+=`
`+T.comment:x.comment=T.comment);const M=new qn(x,E);if(n.options.keepSourceTokens&&(M.srcToken=p),r){const C=a;m6(n,C.items,x)&&i(S,"DUPLICATE_KEY","Map keys must be unique"),C.items.push(M)}else{const C=new Vs(n.schema);C.flow=!0,C.items.push(M),a.items.push(C)}c=E?E.range[2]:T.end}}const u=r?"}":"]",[d,...f]=s.end;let h=c;if(d&&d.source===u)h=d.offset+d.source.length;else{const _=o[0].toUpperCase()+o.substring(1),p=l?`${_} must end with a ${u}`:`${_} in block collection must be sufficiently indented and end with a ${u}`;i(c,l?"MISSING_CHAR":"BAD_INDENT",p),d&&d.source.length!==1&&f.unshift(d)}if(f.length>0){const _=Nf(f,h,n.options.strict,i);_.comment&&(a.comment?a.comment+=`
`+_.comment:a.comment=_.comment),a.range=[s.offset,h,_.offset]}else a.range=[s.offset,h,h];return a}function jme(t,e,n,s,i){let r;switch(n.type){case"block-map":{r=Hme(t,e,n,i);break}case"block-seq":{r=Vme(t,e,n,i);break}case"flow-collection":{r=Wme(t,e,n,i);break}}if(!s)return r;const o=e.directives.tagName(s.source,f=>i(s,"TAG_RESOLVE_FAILED",f));if(!o)return r;const a=r.constructor;if(o==="!"||o===a.tagName)return r.tag=a.tagName,r;const l=fl(r)?"map":"seq";let c=e.schema.tags.find(f=>f.collection===l&&f.tag===o);if(!c){const f=e.schema.knownTags[o];if(f&&f.collection===l)e.schema.tags.push(Object.assign({},f,{default:!1})),c=f;else return i(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),r.tag=o,r}const u=c.resolve(r,f=>i(s,"TAG_RESOLVE_FAILED",f),e.options),d=_n(u)?u:new it(u);return d.range=r.range,d.tag=o,c!=null&&c.format&&(d.format=c.format),d}function g6(t,e,n){const s=t.offset,i=qme(t,e,n);if(!i)return{value:"",type:null,comment:"",range:[s,s,s]};const r=i.mode===">"?it.BLOCK_FOLDED:it.BLOCK_LITERAL,o=t.source?Yme(t.source):[];let a=o.length;for(let p=o.length-1;p>=0;--p){const m=o[p][1];if(m===""||m==="\r")a=p;else break}if(a===0){const p=i.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"";let m=s+i.length;return t.source&&(m+=t.source.length),{value:p,type:r,comment:i.comment,range:[s,m,m]}}let l=t.indent+i.indent,c=t.offset+i.length,u=0;for(let p=0;p<a;++p){const[m,y]=o[p];if(y===""||y==="\r")i.indent===0&&m.length>l&&(l=m.length);else{if(m.length<l){const b="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";n(c+m.length,"MISSING_CHAR",b)}i.indent===0&&(l=m.length),u=p;break}c+=m.length+y.length+1}for(let p=o.length-1;p>=a;--p)o[p][0].length>l&&(a=p+1);let d="",f="",h=!1;for(let p=0;p<u;++p)d+=o[p][0].slice(l)+`
`;for(let p=u;p<a;++p){let[m,y]=o[p];c+=m.length+y.length+1;const b=y[y.length-1]==="\r";if(b&&(y=y.slice(0,-1)),y&&m.length<l){const w=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;n(c-y.length-(b?2:1),"BAD_INDENT",w),m=""}r===it.BLOCK_LITERAL?(d+=f+m.slice(l)+y,f=`
`):m.length>l||y[0]==="	"?(f===" "?f=`
`:!h&&f===`
`&&(f=`

`),d+=f+m.slice(l)+y,f=`
`,h=!0):y===""?f===`
`?d+=`
`:f=`
`:(d+=f+y,f=" ",h=!1)}switch(i.chomp){case"-":break;case"+":for(let p=a;p<o.length;++p)d+=`
`+o[p][0].slice(l);d[d.length-1]!==`
`&&(d+=`
`);break;default:d+=`
`}const _=s+i.length+t.source.length;return{value:d,type:r,comment:i.comment,range:[s,_,_]}}function qme({offset:t,props:e},n,s){if(e[0].type!=="block-scalar-header")return s(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:i}=e[0],r=i[0];let o=0,a="",l=-1;for(let f=1;f<i.length;++f){const h=i[f];if(!a&&(h==="-"||h==="+"))a=h;else{const _=Number(h);!o&&_?o=_:l===-1&&(l=t+f)}}l!==-1&&s(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let c=!1,u="",d=i.length;for(let f=1;f<e.length;++f){const h=e[f];switch(h.type){case"space":c=!0;case"newline":d+=h.source.length;break;case"comment":n&&!c&&s(h,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),d+=h.source.length,u=h.source.substring(1);break;case"error":s(h,"UNEXPECTED_TOKEN",h.message),d+=h.source.length;break;default:{const _=`Unexpected token in block scalar header: ${h.type}`;s(h,"UNEXPECTED_TOKEN",_);const p=h.source;p&&typeof p=="string"&&(d+=p.length)}}}return{mode:r,indent:o,chomp:a,comment:u,length:d}}function Yme(t){const e=t.split(/\n( *)/),n=e[0],s=n.match(/^( *)/),r=[s!=null&&s[1]?[s[1],n.slice(s[1].length)]:["",n]];for(let o=1;o<e.length;o+=2)r.push([e[o],e[o+1]]);return r}function _6(t,e,n){const{offset:s,type:i,source:r,end:o}=t;let a,l;const c=(f,h,_)=>n(s+f,h,_);switch(i){case"scalar":a=it.PLAIN,l=Kme(r,c);break;case"single-quoted-scalar":a=it.QUOTE_SINGLE,l=Xme(r,c);break;case"double-quoted-scalar":a=it.QUOTE_DOUBLE,l=Zme(r,c);break;default:return n(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[s,s+r.length,s+r.length]}}const u=s+r.length,d=Nf(o,u,e,n);return{value:l,type:a,comment:d.comment,range:[s,u,d.offset]}}function Kme(t,e){let n="";switch(t[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${t[0]}`;break}case"@":case"`":{n=`reserved character ${t[0]}`;break}}return n&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),y6(t)}function Xme(t,e){return(t[t.length-1]!=="'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing 'quote"),y6(t.slice(1,-1)).replace(/''/g,"'")}function y6(t){let e,n;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let s=e.exec(t);if(!s)return t;let i=s[1],r=" ",o=e.lastIndex;for(n.lastIndex=o;s=n.exec(t);)s[1]===""?r===`
`?i+=r:r=`
`:(i+=r+s[1],r=" "),o=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=o,s=a.exec(t),i+r+((s==null?void 0:s[1])??"")}function Zme(t,e){let n="";for(let s=1;s<t.length-1;++s){const i=t[s];if(!(i==="\r"&&t[s+1]===`
`))if(i===`
`){const{fold:r,offset:o}=Jme(t,s);n+=r,s=o}else if(i==="\\"){let r=t[++s];const o=Qme[r];if(o)n+=o;else if(r===`
`)for(r=t[s+1];r===" "||r==="	";)r=t[++s+1];else if(r==="\r"&&t[s+1]===`
`)for(r=t[++s+1];r===" "||r==="	";)r=t[++s+1];else if(r==="x"||r==="u"||r==="U"){const a={x:2,u:4,U:8}[r];n+=ege(t,s+1,a,e),s+=a}else{const a=t.substr(s-1,2);e(s-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),n+=a}}else if(i===" "||i==="	"){const r=s;let o=t[s+1];for(;o===" "||o==="	";)o=t[++s+1];o!==`
`&&!(o==="\r"&&t[s+2]===`
`)&&(n+=s>r?t.slice(r,s+1):i)}else n+=i}return(t[t.length-1]!=='"'||t.length===1)&&e(t.length,"MISSING_CHAR",'Missing closing "quote'),n}function Jme(t,e){let n="",s=t[e+1];for(;(s===" "||s==="	"||s===`
`||s==="\r")&&!(s==="\r"&&t[e+2]!==`
`);)s===`
`&&(n+=`
`),e+=1,s=t[e+1];return n||(n=" "),{fold:n,offset:e}}const Qme={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:" ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function ege(t,e,n,s){const i=t.substr(e,n),o=i.length===n&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(o)){const a=t.substr(e-2,n+2);return s(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}function b6(t,e,n,s){const{value:i,type:r,comment:o,range:a}=e.type==="block-scalar"?g6(e,t.options.strict,s):_6(e,t.options.strict,s),l=n?t.directives.tagName(n.source,d=>s(n,"TAG_RESOLVE_FAILED",d)):null,c=n&&l?tge(t.schema,i,l,n,s):e.type==="scalar"?nge(t,i,e,s):t.schema[Br];let u;try{const d=c.resolve(i,f=>s(n??e,"TAG_RESOLVE_FAILED",f),t.options);u=Wt(d)?d:new it(d)}catch(d){const f=d instanceof Error?d.message:String(d);s(n??e,"TAG_RESOLVE_FAILED",f),u=new it(i)}return u.range=a,u.source=i,r&&(u.type=r),l&&(u.tag=l),c.format&&(u.format=c.format),o&&(u.comment=o),u}function tge(t,e,n,s,i){var a;if(n==="!")return t[Br];const r=[];for(const l of t.tags)if(!l.collection&&l.tag===n)if(l.default&&l.test)r.push(l);else return l;for(const l of r)if((a=l.test)!=null&&a.test(e))return l;const o=t.knownTags[n];return o&&!o.collection?(t.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(i(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),t[Br])}function nge({directives:t,schema:e},n,s,i){const r=e.tags.find(o=>{var a;return o.default&&((a=o.test)==null?void 0:a.test(n))})||e[Br];if(e.compat){const o=e.compat.find(a=>{var l;return a.default&&((l=a.test)==null?void 0:l.test(n))})??e[Br];if(r.tag!==o.tag){const a=t.tagString(r.tag),l=t.tagString(o.tag),c=`Value may be parsed as either ${a} or ${l}`;i(s,"TAG_RESOLVE_FAILED",c,!0)}}return r}function sge(t,e,n){if(e){n===null&&(n=e.length);for(let s=n-1;s>=0;--s){let i=e[s];switch(i.type){case"space":case"comment":case"newline":t-=i.source.length;continue}for(i=e[++s];(i==null?void 0:i.type)==="space";)t+=i.source.length,i=e[++s];break}}return t}const ige={composeNode:v6,composeEmptyNode:jv};function v6(t,e,n,s){const{spaceBefore:i,comment:r,anchor:o,tag:a}=n;let l,c=!0;switch(e.type){case"alias":l=rge(t,e,s),(o||a)&&s(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":l=b6(t,e,a,s),o&&(l.anchor=o.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":l=jme(ige,t,e,a,s),o&&(l.anchor=o.source.substring(1));break;default:{const u=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;s(e,"UNEXPECTED_TOKEN",u),l=jv(t,e.offset,void 0,null,n,s),c=!1}}return o&&l.anchor===""&&s(o,"BAD_ALIAS","Anchor cannot be an empty string"),i&&(l.spaceBefore=!0),r&&(e.type==="scalar"&&e.source===""?l.comment=r:l.commentBefore=r),t.options.keepSourceTokens&&c&&(l.srcToken=e),l}function jv(t,e,n,s,{spaceBefore:i,comment:r,anchor:o,tag:a,end:l},c){const u={type:"scalar",offset:sge(e,n,s),indent:-1,source:""},d=b6(t,u,a,c);return o&&(d.anchor=o.source.substring(1),d.anchor===""&&c(o,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(d.spaceBefore=!0),r&&(d.comment=r,d.range[2]=l),d}function rge({options:t},{offset:e,source:n,end:s},i){const r=new Ig(n.substring(1));r.source===""&&i(e,"BAD_ALIAS","Alias cannot be an empty string"),r.source.endsWith(":")&&i(e+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=e+n.length,a=Nf(s,o,t.strict,i);return r.range=[e,o,a.offset],a.comment&&(r.comment=a.comment),r}function oge(t,e,{offset:n,start:s,value:i,end:r},o){const a=Object.assign({_directives:e},t),l=new hu(void 0,a),c={atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},u=jc(s,{indicator:"doc-start",next:i??(r==null?void 0:r[0]),offset:n,onError:o,startOnNewline:!0});u.found&&(l.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!u.hasNewline&&o(u.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=i?v6(c,i,u,o):jv(c,u.end,s,null,u,o);const d=l.contents.range[2],f=Nf(r,d,!1,o);return f.comment&&(l.comment=f.comment),l.range=[n,d,f.offset],l}function $u(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];const{offset:e,source:n}=t;return[e,e+(typeof n=="string"?n.length:1)]}function aE(t){var i;let e="",n=!1,s=!1;for(let r=0;r<t.length;++r){const o=t[r];switch(o[0]){case"#":e+=(e===""?"":s?`

`:`
`)+(o.substring(1)||" "),n=!0,s=!1;break;case"%":((i=t[r+1])==null?void 0:i[0])!=="#"&&(r+=1),n=!1;break;default:n||(s=!0),n=!1}}return{comment:e,afterEmptyLine:s}}class qv{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,s,i,r)=>{const o=$u(n);r?this.warnings.push(new p6(o,s,i)):this.errors.push(new Ca(o,s,i))},this.directives=new ns({version:e.version||"1.2"}),this.options=e}decorate(e,n){const{comment:s,afterEmptyLine:i}=aE(this.prelude);if(s){const r=e.contents;if(n)e.comment=e.comment?`${e.comment}
${s}`:s;else if(i||e.directives.docStart||!r)e.commentBefore=s;else if(ln(r)&&!r.flow&&r.items.length>0){let o=r.items[0];an(o)&&(o=o.key);const a=o.commentBefore;o.commentBefore=a?`${s}
${a}`:s}else{const o=r.commentBefore;r.commentBefore=o?`${s}
${o}`:s}}n?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:aE(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,n=!1,s=-1){for(const i of e)yield*this.next(i);yield*this.end(n,s)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(n,s,i)=>{const r=$u(e);r[0]+=n,this.onError(r,"BAD_DIRECTIVE",s,i)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const n=oge(this.options,this.directives,e,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const n=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,s=new Ca($u(e),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(s):this.doc.errors.push(s);break}case"doc-end":{if(!this.doc){const s="Unexpected doc-end without preceding document";this.errors.push(new Ca($u(e),"UNEXPECTED_TOKEN",s));break}this.doc.directives.docEnd=!0;const n=Nf(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const s=this.doc.comment;this.doc.comment=s?`${s}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new Ca($u(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const s=Object.assign({_directives:this.directives},this.options),i=new hu(void 0,s);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,n,n],this.decorate(i,!1),yield i}}}function age(t,e=!0,n){if(t){const s=(i,r,o)=>{const a=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(n)n(a,r,o);else throw new Ca([a,a+1],r,o)};switch(t.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return _6(t,e,s);case"block-scalar":return g6(t,e,s)}}return null}function lge(t,e){const{implicitKey:n=!1,indent:s,inFlow:i=!1,offset:r=-1,type:o="PLAIN"}=e,a=Df({type:o,value:t},{implicitKey:n,indent:s>0?" ".repeat(s):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}}),l=e.end??[{type:"newline",offset:-1,indent:s,source:`
`}];switch(a[0]){case"|":case">":{const c=a.indexOf(`
`),u=a.substring(0,c),d=a.substring(c+1)+`
`,f=[{type:"block-scalar-header",offset:r,indent:s,source:u}];return w6(f,l)||f.push({type:"newline",offset:-1,indent:s,source:`
`}),{type:"block-scalar",offset:r,indent:s,props:f,source:d}}case'"':return{type:"double-quoted-scalar",offset:r,indent:s,source:a,end:l};case"'":return{type:"single-quoted-scalar",offset:r,indent:s,source:a,end:l};default:return{type:"scalar",offset:r,indent:s,source:a,end:l}}}function cge(t,e,n={}){let{afterKey:s=!1,implicitKey:i=!1,inFlow:r=!1,type:o}=n,a="indent"in t?t.indent:null;if(s&&typeof a=="number"&&(a+=2),!o)switch(t.type){case"single-quoted-scalar":o="QUOTE_SINGLE";break;case"double-quoted-scalar":o="QUOTE_DOUBLE";break;case"block-scalar":{const c=t.props[0];if(c.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o=c.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:o="PLAIN"}const l=Df({type:o,value:e},{implicitKey:i||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:r,options:{blockQuote:!0,lineWidth:-1}});switch(l[0]){case"|":case">":uge(t,l);break;case'"':F_(t,l,"double-quoted-scalar");break;case"'":F_(t,l,"single-quoted-scalar");break;default:F_(t,l,"scalar")}}function uge(t,e){const n=e.indexOf(`
`),s=e.substring(0,n),i=e.substring(n+1)+`
`;if(t.type==="block-scalar"){const r=t.props[0];if(r.type!=="block-scalar-header")throw new Error("Invalid block scalar header");r.source=s,t.source=i}else{const{offset:r}=t,o="indent"in t?t.indent:-1,a=[{type:"block-scalar-header",offset:r,indent:o,source:s}];w6(a,"end"in t?t.end:void 0)||a.push({type:"newline",offset:-1,indent:o,source:`
`});for(const l of Object.keys(t))l!=="type"&&l!=="offset"&&delete t[l];Object.assign(t,{type:"block-scalar",indent:o,props:a,source:i})}}function w6(t,e){if(e)for(const n of e)switch(n.type){case"space":case"comment":t.push(n);break;case"newline":return t.push(n),!0}return!1}function F_(t,e,n){switch(t.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":t.type=n,t.source=e;break;case"block-scalar":{const s=t.props.slice(1);let i=e.length;t.props[0].type==="block-scalar-header"&&(i-=t.props[0].source.length);for(const r of s)r.offset+=i;delete t.props,Object.assign(t,{type:n,source:e,end:s});break}case"block-map":case"block-seq":{const i={type:"newline",offset:t.offset+e.length,indent:t.indent,source:`
`};delete t.items,Object.assign(t,{type:n,source:e,end:[i]});break}default:{const s="indent"in t?t.indent:-1,i="end"in t&&Array.isArray(t.end)?t.end.filter(r=>r.type==="space"||r.type==="comment"||r.type==="newline"):[];for(const r of Object.keys(t))r!=="type"&&r!=="offset"&&delete t[r];Object.assign(t,{type:n,indent:s,source:e,end:i})}}}const dge=t=>"type"in t?ym(t):Rp(t);function ym(t){switch(t.type){case"block-scalar":{let e="";for(const n of t.props)e+=ym(n);return e+t.source}case"block-map":case"block-seq":{let e="";for(const n of t.items)e+=Rp(n);return e}case"flow-collection":{let e=t.start.source;for(const n of t.items)e+=Rp(n);for(const n of t.end)e+=n.source;return e}case"document":{let e=Rp(t);if(t.end)for(const n of t.end)e+=n.source;return e}default:{let e=t.source;if("end"in t&&t.end)for(const n of t.end)e+=n.source;return e}}}function Rp({start:t,key:e,sep:n,value:s}){let i="";for(const r of t)i+=r.source;if(e&&(i+=ym(e)),n)for(const r of n)i+=r.source;return s&&(i+=ym(s)),i}const py=Symbol("break visit"),fge=Symbol("skip children"),x6=Symbol("remove item");function tl(t,e){"type"in t&&t.type==="document"&&(t={start:t.start,value:t.value}),S6(Object.freeze([]),t,e)}tl.BREAK=py;tl.SKIP=fge;tl.REMOVE=x6;tl.itemAtPath=(t,e)=>{let n=t;for(const[s,i]of e){const r=n==null?void 0:n[s];if(r&&"items"in r)n=r.items[i];else return}return n};tl.parentCollection=(t,e)=>{const n=tl.itemAtPath(t,e.slice(0,-1)),s=e[e.length-1][0],i=n==null?void 0:n[s];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function S6(t,e,n){let s=n(e,t);if(typeof s=="symbol")return s;for(const i of["key","value"]){const r=e[i];if(r&&"items"in r){for(let o=0;o<r.items.length;++o){const a=S6(Object.freeze(t.concat([[i,o]])),r.items[o],n);if(typeof a=="number")o=a-1;else{if(a===py)return py;a===x6&&(r.items.splice(o,1),o-=1)}}typeof s=="function"&&i==="key"&&(s=s(e,t))}}return typeof s=="function"?s(e,t):s}const Wg="\uFEFF",jg="",qg="",sf="",hge=t=>!!t&&"items"in t,pge=t=>!!t&&(t.type==="scalar"||t.type==="single-quoted-scalar"||t.type==="double-quoted-scalar"||t.type==="block-scalar");function mge(t){switch(t){case Wg:return"<BOM>";case jg:return"<DOC>";case qg:return"<FLOW_END>";case sf:return"<SCALAR>";default:return JSON.stringify(t)}}function E6(t){switch(t){case Wg:return"byte-order-mark";case jg:return"doc-mode";case qg:return"flow-error-end";case sf:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const gge=Object.freeze(Object.defineProperty({__proto__:null,BOM:Wg,DOCUMENT:jg,FLOW_END:qg,SCALAR:sf,createScalarToken:lge,isCollection:hge,isScalar:pge,prettyToken:mge,resolveAsScalar:age,setScalarValue:cge,stringify:dge,tokenType:E6,visit:tl},Symbol.toStringTag,{value:"Module"}));function Ns(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const lE="0123456789ABCDEFabcdef".split(""),_ge="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),N_=",[]{}".split(""),yge=` ,[]{}
\r	`.split(""),U_=t=>!t||yge.includes(t);class T6{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,n=!1){e&&(this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null),this.atEnd=!n;let s=this.next??"stream";for(;s&&(n||this.hasChars(1));)s=yield*this.parseNext(s)}atLineEnd(){let e=this.pos,n=this.buffer[e];for(;n===" "||n==="	";)n=this.buffer[++e];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let n=this.buffer[e];if(this.indentNext>0){let s=0;for(;n===" ";)n=this.buffer[++s+e];if(n==="\r"){const i=this.buffer[s+e+1];if(i===`
`||!i&&!this.atEnd)return e+s+1}return n===`
`||s>=this.indentNext||!n&&!this.atEnd?e+s:-1}if(n==="-"||n==="."){const s=this.buffer.substr(e,3);if((s==="---"||s==="...")&&Ns(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===Wg&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let n=e.length;const s=e.indexOf("#");if(s!==-1){const r=e[s-1];(r===" "||r==="	")&&(n=s-1)}for(;;){const r=e[n-1];if(r===" "||r==="	")n-=1;else break}const i=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-n),yield*this.pushNewline(),"stream"}return yield jg,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if(n==="---"&&Ns(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(n==="..."&&Ns(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Ns(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&Ns(n)){const s=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=s,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(e[n]){case"#":yield*this.pushCount(e.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(U_),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,n,s=-1;do e=yield*this.pushNewline(),e>0?(n=yield*this.pushSpaces(!1),this.indentValue=s=n):n=0,n+=yield*this.pushSpaces(!0);while(e+n>0);const i=this.getLine();if(i===null)return this.setNext("flow");if((s!==-1&&s<this.indentNext&&i[0]!=="#"||s===0&&(i.startsWith("---")||i.startsWith("..."))&&Ns(i[3]))&&!(s===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield qg,yield*this.parseLineStart();let r=0;for(;i[r]===",";)r+=yield*this.pushCount(1),r+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(r+=yield*this.pushIndicators(),i[r]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-r),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(U_),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||Ns(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let n=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let r=0;for(;this.buffer[n-1-r]==="\\";)r+=1;if(r%2===0)break;n=this.buffer.indexOf('"',n+1)}const s=this.buffer.substring(0,n);let i=s.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){const r=this.continueScalar(i+1);if(r===-1)break;i=s.indexOf(`
`,r)}i!==-1&&(n=i-(s[i-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const n=this.buffer[++e];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>Ns(n)||n==="#")}*parseBlockScalar(){let e=this.pos-1,n=0,s;e:for(let i=this.pos;s=this.buffer[i];++i)switch(s){case" ":n+=1;break;case`
`:e=i,n=0;break;case"\r":{const r=this.buffer[i+1];if(!r&&!this.atEnd)return this.setNext("block-scalar");if(r===`
`)break}default:break e}if(!s&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext+=this.blockScalarIndent;do{const i=this.continueScalar(e+1);if(i===-1)break;e=this.buffer.indexOf(`
`,i)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}if(!this.blockScalarKeep)do{let i=e-1,r=this.buffer[i];r==="\r"&&(r=this.buffer[--i]);const o=i;for(;r===" "||r==="	";)r=this.buffer[--i];if(r===`
`&&i>=this.pos&&i+1+n>o)e=i;else break}while(!0);return yield sf,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let n=this.pos-1,s=this.pos-1,i;for(;i=this.buffer[++s];)if(i===":"){const r=this.buffer[s+1];if(Ns(r)||e&&r===",")break;n=s}else if(Ns(i)){let r=this.buffer[s+1];if(i==="\r"&&(r===`
`?(s+=1,i=`
`,r=this.buffer[s+1]):n=s),r==="#"||e&&N_.includes(r))break;if(i===`
`){const o=this.continueScalar(s+1);if(o===-1)break;s=Math.max(s,o-2)}}else{if(e&&N_.includes(i))break;n=s}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield sf,yield*this.pushToIndex(n+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,n){const s=this.buffer.slice(this.pos,e);return s?(yield s,this.pos+=s.length,s.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(U_))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,n=this.charAt(1);if(Ns(n)||e&&N_.includes(n))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,n=this.buffer[e];for(;!Ns(n)&&n!==">";)n=this.buffer[++e];return yield*this.pushToIndex(n===">"?e+1:e,!1)}else{let e=this.pos+1,n=this.buffer[e];for(;n;)if(_ge.includes(n))n=this.buffer[++e];else if(n==="%"&&lE.includes(this.buffer[e+1])&&lE.includes(this.buffer[e+2]))n=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let n=this.pos-1,s;do s=this.buffer[++n];while(s===" "||e&&s==="	");const i=n-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=n),i}*pushUntil(e){let n=this.pos,s=this.buffer[n];for(;!e(s);)s=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class M6{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let n=0,s=this.lineStarts.length;for(;n<s;){const r=n+s>>1;this.lineStarts[r]<e?n=r+1:s=r}if(this.lineStarts[n]===e)return{line:n+1,col:1};if(n===0)return{line:0,col:e};const i=this.lineStarts[n-1];return{line:n,col:e-i+1}}}}function ai(t,e){for(let n=0;n<t.length;++n)if(t[n].type===e)return!0;return!1}function cE(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function A6(t){switch(t==null?void 0:t.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function zh(t){switch(t.type){case"document":return t.start;case"block-map":{const e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function zl(t){var n;if(t.length===0)return[];let e=t.length;e:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((n=t[++e])==null?void 0:n.type)==="space";);return t.splice(e,t.length)}function uE(t){if(t.start.type==="flow-seq-start")for(const e of t.items)e.sep&&!e.value&&!ai(e.start,"explicit-key-ind")&&!ai(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,A6(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class Yv{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new T6,this.onNewLine=e}*parse(e,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const s of this.lexer.lex(e,n))yield*this.next(s);n||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const n=E6(e);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const s=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:s,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const n=e??this.stack.pop();if(n)if(this.stack.length===0)yield n;else{const s=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in s?s.indent:0:n.type==="flow-collection"&&s.type==="document"&&(n.indent=0),n.type==="flow-collection"&&uE(n),s.type){case"document":s.value=n;break;case"block-scalar":s.props.push(n);break;case"block-map":{const i=s.items[s.items.length-1];if(i.value){s.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=n;else{Object.assign(i,{key:n,sep:[]}),this.onKeyLine=!ai(i.start,"explicit-key-ind");return}break}case"block-seq":{const i=s.items[s.items.length-1];i.value?s.items.push({start:[],value:n}):i.value=n;break}case"flow-collection":{const i=s.items[s.items.length-1];!i||i.value?s.items.push({start:[],key:n,sep:[]}):i.sep?i.value=n:Object.assign(i,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((s.type==="document"||s.type==="block-map"||s.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const i=n.items[n.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&cE(i.start)===-1&&(n.indent===0||i.start.every(r=>r.type!=="comment"||r.indent<n.indent))&&(s.type==="document"?s.end=i.start:s.items.push({start:i.start}),n.items.splice(-1,1))}}else{const s="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:s}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{cE(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const n=this.startBlockValue(e);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const n=zh(this.peek(2)),s=zl(n);let i;e.end?(i=e.end,i.push(this.sourceToken),delete e.end):i=[this.sourceToken];const r={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:s,key:e,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=r}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){var s;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const i="end"in n.value?n.value.end:void 0,r=Array.isArray(i)?i[i.length-1]:void 0;(r==null?void 0:r.type)==="comment"?i==null||i.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){const i=e.items[e.items.length-2],r=(s=i==null?void 0:i.value)==null?void 0:s.end;if(Array.isArray(r)){Array.prototype.push.apply(r,n.start),r.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const i=!this.onKeyLine&&this.indent===e.indent&&n.sep;let r=[];if(i&&n.sep&&!n.value){const o=[];for(let a=0;a<n.sep.length;++a){const l=n.sep[a];switch(l.type){case"newline":o.push(a);break;case"space":break;case"comment":l.indent>e.indent&&(o.length=0);break;default:o.length=0}}o.length>=2&&(r=n.sep.splice(o[1]))}switch(this.type){case"anchor":case"tag":i||n.value?(r.push(this.sourceToken),e.items.push({start:r}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!ai(n.start,"explicit-key-ind")?n.start.push(this.sourceToken):i||n.value?(r.push(this.sourceToken),e.items.push({start:r})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(ai(n.start,"explicit-key-ind"))if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(ai(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]});else if(A6(n.key)&&!ai(n.sep,"newline")){const o=zl(n.start),a=n.key,l=n.sep;l.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:a,sep:l}]})}else r.length>0?n.sep=n.sep.concat(r,this.sourceToken):n.sep.push(this.sourceToken);else if(ai(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const o=zl(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||i?e.items.push({start:r,key:null,sep:[this.sourceToken]}):ai(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const o=this.flowScalar(this.type);i||n.value?(e.items.push({start:r,key:o,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(o):(Object.assign(n,{key:o,sep:[]}),this.onKeyLine=!0);return}default:{const o=this.startBlockValue(e);if(o){i&&o.type!=="block-seq"&&ai(n.start,"explicit-key-ind")&&e.items.push({start:r}),this.stack.push(o);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){var s;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){const i="end"in n.value?n.value.end:void 0,r=Array.isArray(i)?i[i.length-1]:void 0;(r==null?void 0:r.type)==="comment"?i==null||i.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){const i=e.items[e.items.length-2],r=(s=i==null?void 0:i.value)==null?void 0:s.end;if(Array.isArray(r)){Array.prototype.push.apply(r,n.start),r.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||ai(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){const i=this.startBlockValue(e);if(i){this.stack.push(i);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const n=e.items[e.items.length-1];if(this.type==="flow-error-end"){let s;do yield*this.pop(),s=this.peek(1);while(s&&s.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?e.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);!n||n.value?e.items.push({start:[],key:i,sep:[]}):n.sep?this.stack.push(i):Object.assign(n,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const s=this.startBlockValue(e);s?this.stack.push(s):(yield*this.pop(),yield*this.step())}else{const s=this.peek(2);if(s.type==="block-map"&&(this.type==="map-value-ind"&&s.indent===e.indent||this.type==="newline"&&!s.items[s.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&s.type!=="flow-collection"){const i=zh(s),r=zl(i);uE(e);const o=e.end.splice(1,e.end.length);o.push(this.sourceToken);const a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:r,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=zh(e),s=zl(n);return s.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s}]}}case"map-value-ind":{this.onKeyLine=!0;const n=zh(e),s=zl(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,n){return this.type!=="comment"||this.indent<=n?!1:e.every(s=>s.type==="newline"||s.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function k6(t){const e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new M6||null,prettyErrors:e}}function bge(t,e={}){const{lineCounter:n,prettyErrors:s}=k6(e),i=new Yv(n==null?void 0:n.addNewLine),r=new qv(e),o=Array.from(r.compose(i.parse(t)));if(s&&n)for(const a of o)a.errors.forEach(_m(t,n)),a.warnings.forEach(_m(t,n));return o.length>0?o:Object.assign([],{empty:!0},r.streamInfo())}function R6(t,e={}){const{lineCounter:n,prettyErrors:s}=k6(e),i=new Yv(n==null?void 0:n.addNewLine),r=new qv(e);let o=null;for(const a of r.compose(i.parse(t),!0,t.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new Ca(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return s&&n&&(o.errors.forEach(_m(t,n)),o.warnings.forEach(_m(t,n))),o}function vge(t,e,n){let s;typeof e=="function"?s=e:n===void 0&&e&&typeof e=="object"&&(n=e);const i=R6(t,n);if(!i)return null;if(i.warnings.forEach(r=>X8(i.options.logLevel,r)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:s},n))}function wge(t,e,n){let s=null;if(typeof e=="function"||Array.isArray(e)?s=e:n===void 0&&e&&(n=e),typeof n=="string"&&(n=n.length),typeof n=="number"){const i=Math.round(n);n=i<1?void 0:i>8?{indent:8}:{indent:i}}if(t===void 0){const{keepUndefined:i}=n??e??{};if(!i)return}return new hu(t,s,n).toString(n)}const bm=Object.freeze(Object.defineProperty({__proto__:null,Alias:Ig,CST:gge,Composer:qv,Document:hu,Lexer:T6,LineCounter:M6,Pair:qn,Parser:Yv,Scalar:it,Schema:Vg,YAMLError:Wv,YAMLMap:Vs,YAMLParseError:Ca,YAMLSeq:hl,YAMLWarning:p6,isAlias:dl,isCollection:ln,isDocument:If,isMap:fl,isNode:_n,isPair:an,isScalar:Wt,isSeq:uu,parse:vge,parseAllDocuments:bge,parseDocument:R6,stringify:wge,visit:Go,visitAsync:Lg},Symbol.toStringTag,{value:"Module"})),xge=Ye({name:"ProlfileMetadata",setup(){const t=ll();return{info:Yn(),state:Ps(),profile:jt(),serial:mu(),Features:zt(()=>t.Features),GyroType:zt(()=>t.GyroType)}},computed:{date(){return new Date(this.profile.meta.datetime*1e3)},features(){return Cs(this.Features).getKeys().filter((t,e)=>this.info.features&1<<e+1).join(", ")},fileRef(){return this.$refs.file},downloadAnchorRef(){return this.$refs.downloadAnchor},versionLink(){return/^(v\d\..*)/.test(this.info.git_version)?"https://github.com/BossHobby/QUICKSILVER/releases/tag/"+this.info.git_version:"https://github.com/BossHobby/QUICKSILVER/commit/"+this.info.git_version}},methods:{timeAgo:nA,uploadProfile(){const t=new FileReader;t.addEventListener("load",e=>{var n,s;if((n=e==null?void 0:e.target)!=null&&n.result){const i=bm.parse((s=e==null?void 0:e.target)==null?void 0:s.result);this.profile.apply_profile(i)}}),this.fileRef.oninput=()=>{var e,n;(n=(e=this.fileRef)==null?void 0:e.files)!=null&&n.length&&t.readAsText(this.fileRef.files[0])},this.fileRef.click()},downloadProfile(){return yt.get(xn.Profile).then(t=>{const n="data:text/yaml;charset=utf-8,"+encodeURIComponent(bm.stringify(t)),s=this.date.toISOString().substring(0,10),r=`Profile_${t.meta.name.replace(/\0/g,"")}_${s}.yaml`;this.downloadAnchorRef.setAttribute("href",n),this.downloadAnchorRef.setAttribute("download",r),this.downloadAnchorRef.click()})}}}),Sge={class:"card"},Ege=g("header",{class:"card-header"},[g("p",{class:"card-header-title"},"Metadata")],-1),Tge={class:"card-content"},Mge={class:"content column-narrow field-is-2"},Age={class:"field is-horizontal"},kge=g("div",{class:"field-label"},[g("label",{class:"label",for:"name"},"Profile Name")],-1),Rge={class:"field-body"},Cge=g("div",{class:"field"},[g("div",{class:"control is-expanded"})],-1),Oge={class:"field is-horizontal"},Pge=g("div",{class:"field-label"},[g("label",{class:"label"},"Profile Last Modified")],-1),Lge={class:"field-body"},Ige={class:"field"},Dge={class:"control is-expanded"},Fge=["value"],Nge={class:"field is-horizontal"},Uge=g("div",{class:"field-label"},[g("label",{class:"label"},"Target Name")],-1),$ge={class:"field-body"},Bge={class:"field"},zge={class:"control is-expanded"},Gge=["value"],Hge={key:0,class:"field is-horizontal"},Vge=g("div",{class:"field-label"},[g("label",{class:"label"},"Features")],-1),Wge={class:"field-body"},jge={class:"field"},qge={class:"control is-expanded"},Yge=["value"],Kge={key:1,class:"field is-horizontal"},Xge=g("div",{class:"field-label"},[g("label",{class:"label"},"Gyro Type")],-1),Zge={class:"field-body"},Jge={class:"field"},Qge={class:"control is-expanded"},e0e=["value"],t0e={class:"field is-horizontal"},n0e=g("div",{class:"field-label"},[g("label",{class:"label"},"Version")],-1),s0e={class:"field-body"},i0e={class:"field"},r0e={class:"control is-expanded"},o0e=["href"],a0e={class:"card-footer"},l0e={accept:".yaml",type:"file",ref:"file",style:{display:"none"}},c0e={ref:"downloadAnchor",target:"_blank"};function u0e(t,e,n,s,i,r){const o=Ae("spinner-btn");return Q(),se("div",Sge,[Ege,g("div",Tge,[g("div",Mge,[g("div",Age,[kge,g("div",Rge,[Cge,Ge(g("input",{class:"input",type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>t.profile.meta.name=a)},null,512),[[Xe,t.profile.meta.name]])])]),g("div",Oge,[Pge,g("div",Lge,[g("div",Ige,[g("div",Dge,[g("input",{class:"input is-static",value:t.timeAgo(t.date),readonly:""},null,8,Fge)])])])]),g("div",Nge,[Uge,g("div",$ge,[g("div",Bge,[g("div",zge,[g("input",{class:"input is-static",value:t.info.target_name,readonly:""},null,8,Gge)])])])]),t.info.features!=null?(Q(),se("div",Hge,[Vge,g("div",Wge,[g("div",jge,[g("div",qge,[g("input",{class:"input is-static",value:t.features,readonly:""},null,8,Yge)])])])])):We("",!0),t.info.gyro_id!=null?(Q(),se("div",Kge,[Xge,g("div",Zge,[g("div",Jge,[g("div",Qge,[g("input",{class:"input is-static",value:t.info.gyro_name,readonly:""},null,8,e0e)])])])])):We("",!0),g("div",t0e,[n0e,g("div",s0e,[g("div",i0e,[g("div",r0e,[g("a",{href:t.versionLink,target:"_blank"},Fe(t.info.git_version),9,o0e)])])])])])]),g("footer",a0e,[X(o,{class:"card-footer-item",onClick:t.downloadProfile},{default:Je(()=>[_e(" Save Profile ")]),_:1},8,["onClick"]),X(o,{class:"card-footer-item",onClick:t.uploadProfile,disabled:t.info.is_read_only},{default:Je(()=>[_e(" Load Profile ")]),_:1},8,["onClick","disabled"]),X(o,{class:"card-footer-item is-warning",onClick:t.profile.reset},{default:Je(()=>[_e(" Reset Profile ")]),_:1},8,["onClick"])]),g("input",l0e,null,512),g("a",c0e,null,512)])}const d0e=tt(xge,[["render",u0e]]),f0e={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",width:"512",height:"512",viewBox:"0 0 135.467 135.467"},h0e=jo('<g class="avocado" style="display:inline;"><path d="M69.621 38.07c-4.729-.64-8.735-3.46-10.802-7.607-1.579-3.168-2.136-6.913-1.473-9.896 1.03-4.631 4.365-9.363 8.903-12.633C70.292 5.02 77.212 2.032 82.87.757c4.06-.916 7.522-.907 9.344.023.943.481 1.464 1.054 1.974 2.17.55 1.202.795 1.987.988 3.163.464 2.823.21 6.31-.741 10.175-2.02 8.212-6.53 15.138-12.162 18.685-1.813 1.142-4.418 2.25-6.429 2.734-1.765.425-4.554.587-6.222.362z" style="display:inline;fill:#c4e3b1;stroke:#000;stroke-width:.5;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke;" transform="matrix(3.48553 0 0 3.50597 -197.99 .698)"></path><path d="M166.199 509.957C83.182 497.782 21.46 437.69 4.36 352.39c-4.056-20.235-4.946-50.55-1.992-67.88 10.226-59.992 51.749-124.678 108.968-169.754 51.058-40.223 145.14-83.676 222.645-102.83 45.315-11.2 88.7-14.69 114.038-9.174 16.054 3.494 28.386 9.712 36.597 18.453 6.833 7.274 17.873 31.376 21.583 47.12 11.418 48.452 5.028 115.65-17.625 185.343-28.043 86.276-75.87 158.886-132.825 201.652-57.153 42.915-128.752 63.553-189.55 54.637zm15.067-145.992c31.602-6.944 64.13-24.237 92.152-48.992 13.76-12.155 45.704-45.437 59.153-61.63 34.087-41.04 60.658-84.263 70.277-114.316 4.255-13.296 5.614-27.714 3.488-37.01-7.844-34.295-62.915-37.06-149.283-7.494-37.862 12.96-88.139 37.275-113.64 54.958-39.573 27.439-68.164 65.247-78.073 103.242-3.992 15.303-4.946 38.741-2.065 50.727 7.833 32.593 31.967 54.929 66.857 61.875 12.579 2.504 36.437 1.87 51.134-1.36z" style="display:inline;fill:#a5d287;stroke-width:1.5;" transform="matrix(.25937 0 0 .2609 1.209 .698)"></path><path d="M128.068 311.012c-12.552-3.545-16.875-6.677-20.113-14.573-8.473-20.658-10.75-51.147-5.445-72.903 3.344-13.712 11.383-30.584 19.964-41.894 40.265-53.073 110.07-63.44 159.023-23.618 15.26 12.413 18.662 17.968 18.662 30.47 0 19.633-13.12 44.962-36.376 70.221-27.184 29.527-55.627 46.361-88.202 52.204-15.179 2.722-38.045 2.767-47.513.093z" style="display:inline;fill:#7a3123;stroke:#000;stroke-width:1.5;stroke-opacity:1;" transform="matrix(.25937 0 0 .2609 1.209 .698)"></path><path d="M418.219.001c-21.382-.054-46.508 2.995-73.63 9.148-75.557 17.138-167.997 57.296-221.996 96.445C61.973 149.544 17.43 213.134 3.67 275.367c-8.864 40.085-1.422 90.424 19.668 132.993C50.952 464.098 104.465 502 167.64 510.58c22.274 3.025 59.527.84 83.109-4.873 26.856-6.508 61.658-21.392 85.869-36.73 75.247-47.673 135.468-140.752 162.463-251.107 12.71-51.956 16.106-98.802 9.908-136.74-2.582-15.803-5.862-26.361-13.203-42.511-6.814-14.99-13.783-22.695-26.372-29.16C457.24 3.206 439.6.054 418.219 0Zm35.794 28.083c20.248 10.63 28.248 32.904 23.337 64.969-6.07 39.63-27.916 87.713-63.976 140.816-19.707 29.022-33.64 46.138-60.06 73.77-26.007 27.202-43.975 42.903-70.2 61.35-29.164 20.512-53.613 31.84-83.99 38.913-15.996 3.725-60.378 4.963-74.707 2.084-37.771-7.585-76.49-30.896-91.848-60.01-16.208-32.684-12.856-77.852 9.14-123.191 22.295-45.953 57.499-85.17 103.327-115.114 48.39-31.618 125.333-64.89 187.018-80.869 41.773-7.833 87.404-20.622 121.959-2.718Z" style="display:inline;fill:#3c701b;fill-opacity:1;stroke:none;stroke-width:2;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke;" transform="matrix(.25937 0 0 .2609 1.209 .698)"></path><path d="M127.368 310.542c-4.944-1.352-10.614-3.704-12.6-5.226-8.16-6.253-13.546-24.786-14.515-49.946-.597-15.522-.29-19.846 2.126-29.91 15.105-62.922 80.627-104.569 138.758-88.197 22.703 6.394 49.868 24.999 56.643 38.795 2.201 4.481 2.58 7.283 2.065 15.302-2.516 39.193-54.888 97.022-103.251 114.008-21.8 7.658-51.918 9.909-69.226 5.174zm88.387-72.511c29.984-15.482 40.481-51.755 20.916-72.276-22.185-23.268-67.124-8.939-79.103 25.223-6.18 17.626-.838 37.384 12.434 45.988 8.49 5.503 13.553 6.726 25.516 6.16 9.595-.454 12.82-1.265 20.237-5.095z" style="display:inline;fill:#652012;stroke-width:1.5;" transform="matrix(.25937 0 0 .2609 1.209 .698)"></path></g>',1),p0e=[h0e];function m0e(t,e){return Q(),se("svg",f0e,p0e)}const C6={render:m0e},g0e=Ye({name:"Info",components:{LogoClean:C6},data(){return{updateAvailable:null,appVersion:"0.6.5"}},methods:{doUpdate(){return xa.update(this.updateAvailable)}},created(){xa.updatePending()||xa.checkForUpdate(this.appVersion,t=>this.updateAvailable=t)}});const _0e={class:"hero is-primary"},y0e={class:"hero-body"},b0e={class:"columns"},v0e={class:"column is-2 p-0"},w0e={class:"column"},x0e={class:"title"},S0e={class:"text-muted"},E0e=g("p",{class:"subtitle"},[_e(" Checkout our "),g("a",{target:"_blank",href:"https://docs.bosshobby.com/",style:{"font-weight":"bold"}}," Docs"),_e(" for help on getting started. First time users should start on the FLASH tab. ")],-1),T0e={key:0,class:"subtitle"};function M0e(t,e,n,s,i,r){const o=Ae("LogoClean"),a=Ae("spinner-btn");return Q(),se("section",_0e,[g("div",y0e,[g("div",b0e,[g("div",v0e,[X(o,{class:"logo logo-animation",viewBox:"-5 -5 160 160"})]),g("div",w0e,[g("p",x0e,[_e(" QUICKSILVER "),g("small",S0e,Fe(t.appVersion),1)]),E0e,t.updateAvailable?(Q(),se("p",T0e,"New Version available!")):We("",!0),t.updateAvailable?(Q(),rn(a,{key:1,onClick:t.doUpdate},{default:Je(()=>[_e(" Update Now ")]),_:1},8,["onClick"])):We("",!0)])])])])}const O6=tt(g0e,[["render",M0e]]),A0e=Ye({name:"SerialPassthrough",setup(){return{info:Yn(),serial:mu()}},data(){return{serial_port:0,preset:null,presetOptions:[{value:null,text:"Please select an option"},{text:"ExpressLRS",value:{baudrate:42e4,half_duplex:!1,stop_bits:1}},{text:"OpenVTX",value:{baudrate:4800,half_duplex:!0,stop_bits:2}}]}},computed:{serialPorts(){const t=[{value:0,text:"UART_INVALID"}];for(let e=1;e<this.info.usart_ports.length;e++)t.push({value:e,text:this.info.usart_ports[e]});return t}},methods:{start_passthrough(){return this.serial.serial_passthrough({port:this.serial_port,...this.preset||{}})}}}),k0e={class:"card"},R0e={class:"card-header"},C0e=g("p",{class:"card-header-title"},"Serial Passthrough",-1),O0e={class:"card-content"},P0e={class:"content"},L0e={class:"columns"},I0e={class:"column is-6"},D0e={class:"field"},F0e=g("label",{class:"label"},"Serial Port",-1),N0e={class:"control is-expanded"},U0e={class:"column is-6"},$0e={class:"field"},B0e=g("label",{class:"label"},"Preset",-1),z0e={class:"control is-expanded"},G0e={class:"card-footer"},H0e=g("span",{class:"card-footer-item"},null,-1),V0e=g("span",{class:"card-footer-item"},null,-1);function W0e(t,e,n,s,i,r){const o=Ae("tooltip"),a=Ae("input-select"),l=Ae("spinner-btn");return Q(),se("div",k0e,[g("header",R0e,[C0e,X(o,{class:"card-header-icon",entry:"serial_passthrough",size:"lg"})]),g("div",O0e,[g("div",P0e,[g("div",L0e,[g("div",I0e,[g("div",D0e,[F0e,g("div",N0e,[X(a,{class:"is-fullwidth",modelValue:t.serial_port,"onUpdate:modelValue":e[0]||(e[0]=c=>t.serial_port=c),modelModifiers:{number:!0},options:t.serialPorts},null,8,["modelValue","options"])])])]),g("div",U0e,[g("div",$0e,[B0e,g("div",z0e,[X(a,{class:"is-fullwidth",modelValue:t.preset,"onUpdate:modelValue":e[1]||(e[1]=c=>t.preset=c),options:t.presetOptions},null,8,["modelValue","options"])])])])])])]),g("footer",G0e,[H0e,V0e,X(l,{class:"card-footer-item",disabled:t.serial_port==0||t.preset==null,onClick:t.start_passthrough},{default:Je(()=>[_e(" Start ")]),_:1},8,["disabled","onClick"])])])}const j0e=tt(A0e,[["render",W0e]]),q0e=Ye({name:"Profile",components:{Info:O6,ProfileMetadata:d0e,SerialPassthrough:j0e},setup(){return{info:Yn(),state:Ps()}}}),Y0e={class:"columns is-multiline"},K0e={class:"column is-12"},X0e={class:"column is-12"},Z0e={class:"notification is-warning"},J0e=g("br",null,null,-1),Q0e=g("br",null,null,-1),e_e={class:"notification is-danger"},t_e=g("br",null,null,-1),n_e=g("br",null,null,-1),s_e={class:"column is-12"},i_e={class:"column is-12"};function r_e(t,e,n,s,i,r){const o=Ae("Info"),a=Ae("ProfileMetadata"),l=Ae("SerialPassthrough");return Q(),se("div",Y0e,[g("div",K0e,[X(o)]),g("div",X0e,[Ge(g("div",Z0e,[_e(" Incompatible Firmware! "),J0e,_e(" Please update to be able to change settings. "),Q0e,_e(" Current profile can be exported and loaded. ")],512),[[Hp,t.info.quic_protocol_version<5]]),Ge(g("div",e_e,[_e(" Faillop "+Fe(t.state.failloopMessage)+" ("+Fe(t.state.failloop)+") Detected! ",1),t_e,_e(" Please fix the issue to be able to change settings. "),n_e],512),[[Hp,t.state.failloop>0]])]),g("div",s_e,[X(a)]),g("div",i_e,[X(l)])])}const o_e=tt(q0e,[["render",r_e]]);function Gl(t){return new Promise(e=>{setTimeout(e,t)})}class a_e{constructor(e){Ke(this,"progressCallback");this.device=e}onProgress(e){this.progressCallback=e}async open(){await this.device.open(),await this.device.claimInterface(0)}async close(){try{await this.device.close()}catch(e){ct.warn("flash","Close failed",e)}}progress(e,n,s){this.progressCallback&&this.progressCallback({task:e,current:n,total:s})}async getString(e){const n=await this.device.controlTransferIn({recipient:"device",requestType:"standard",request:6,value:768|e,index:0},255);if((n==null?void 0:n.status)!="ok")throw new Error(n.status);const s=n.data,i=s.getUint8(0);let r="";for(let o=2;o<i;o+=2){const a=s.getUint16(o,!0);r+=String.fromCharCode(a)}return r}async getInterfaceDescriptor(e){const n=await this.device.controlTransferIn({recipient:"device",requestType:"standard",request:6,value:512,index:0},18+e*9);if((n==null?void 0:n.status)!="ok")throw new Error(n.status);const s=new Uint8Array(n.data.buffer,9+e*9);return{bLength:s[0],bDescriptorType:s[1],bInterfaceNumber:s[2],bAlternateSetting:s[3],bNumEndpoints:s[4],bInterfaceClass:s[5],bInterfaceSubclass:s[6],bInterfaceProtocol:s[7],iInterface:s[8]}}async getFunctionalDescriptor(){const e=await this.device.controlTransferIn({recipient:"interface",requestType:"standard",request:6,value:8448,index:0},255);if((e==null?void 0:e.status)!="ok")throw new Error(e.status);const n=new Uint8Array(e.data.buffer);return{bLength:n[0],bDescriptorType:n[1],bmAttributes:n[2],wDetachTimeOut:n[4]<<8|n[3],wTransferSize:n[6]<<8|n[5],bcdDFUVersion:n[7]}}async getInterfaceDescriptors(e){const n=[],s=this.device.configuration;for(const i of s.interfaces)for(let r=0;r<i.alternates.length;r++){const o=await this.getInterfaceDescriptor(i.interfaceNumber+r);if(o.bInterfaceNumber!=e)continue;const a=await this.getString(o.iInterface);n.push(a)}return n}async controlTransferIn(e,n,s,i){const r=await this.device.controlTransferIn({recipient:"interface",requestType:"class",request:e,value:n,index:s},i);if((r==null?void 0:r.status)!="ok")throw new Error(r.status);return new Uint8Array(r.data.buffer)}async controlTransferOut(e,n,s,i){let r=new ArrayBuffer(0);i&&(r=new ArrayBuffer(i.length),new Uint8Array(r).set(i));const o=await this.device.controlTransferOut({recipient:"interface",requestType:"class",request:e,value:n,index:s},r);if((o==null?void 0:o.status)!="ok")throw new Error(o.status);return o}clearStatus(){const e=async()=>{const s=await this.controlTransferIn(3,0,0,6);if(s[4]==2)return s;const i=s[1]|s[2]<<8|s[3]<<16;return await Gl(i),n()},n=async()=>(await this.controlTransferOut(4,0,0),e());return e()}async getChipInfo(){const e=s=>{s=="@External Flash /0x90000000/1001*128Kg,3*128Kg,20*128Ka"&&(s="@External Flash /0x90000000/998*128Kg,1*128Kg,4*128Kg,21*128Ka");const r=s.replace(/[^\x20-\x7E]+/g,"").split("/");if(r.length>3&&(ct.info("flash",'parseDescriptor: shrinking long descriptor "'+s+'"'),r.length=3),!r[0].startsWith("@"))return null;const o=r[0].trim().replace("@",""),a=parseInt(r[1]),l=[];let c=0;const u=r[2].split(",");if(u.length<1)return null;for(let f=0;f<u.length;f++){const h=u[f].split("*");if(h.length!=2)return null;const _=parseInt(h[0]);let p=parseInt(h[1]);if(!p)return null;switch(h[1].slice(-2,-1)){case"M":p*=1024;case"K":p*=1024;break}l.push({num_pages:_,start_address:a+c,page_size:p,total_size:_*p}),c+=_*p}return{type:o,start_address:a,sectors:l,total_size:c}};return(await this.getInterfaceDescriptors(0)).map(e).reduce(function(s,i,r){return s[i.type.toLowerCase().replace(" ","_")]=i,s},{})}async loadAddress(e,n=!0){const s=[33,e&255,e>>8&255,e>>16&255,e>>24&255];await this.controlTransferOut(1,0,0,s);const i=await this.controlTransferIn(3,0,0,6);if(i[4]!=4)throw new Error("Failed to request address load");const r=i[1]|i[2]<<8|i[3]<<16;await Gl(r);const o=await this.controlTransferIn(3,0,0,6);if(o[4]!=5&&n)throw new Error("Failed to request address load");return o}async unlockOptionBytes(e,n){const s=async()=>{ct.info("flash","Initiate read unprotect"),await this.controlTransferOut(1,0,0,[146]);const o=await this.controlTransferIn(3,0,0,6);if(o[4]!=4)throw new Error("Failed to initiate unprotect memory command");const l=(o[1]|o[2]<<8|o[3]<<16)+2e4;await Gl(l);try{const c=await this.controlTransferIn(3,0,0,6);throw ct.info("flash","Failed to execute unprotect memory command"),ct.info("flash",c),new Error("Failed to execute unprotect memory command")}catch{ct.info("flash","Unprotect memory command ran successfully. Unplug flight controller. Connect again in DFU mode and try flashing again.")}},i=async()=>{const o=await this.controlTransferIn(2,2,0,n);return(await this.controlTransferIn(3,0,0,6))[4]==9&&o.length==n?(ct.info("flash","Option bytes read successfully"),ct.info("flash","Chip does not appear read protected"),this.clearStatus()):(ct.info("flash","Option bytes could not be read. Quite possibly read protected."),await this.clearStatus(),s())};await this.clearStatus();const r=await this.loadAddress(e,!1);if(r[4]==10&&r[0]==11)return await this.clearStatus(),s();if(r[4]==5)return ct.info("flash","Address load for option bytes sector succeeded."),await this.clearStatus(),i();throw new Error("Address load failed")}async erasePages(e){const n=[];for(let i=0;i<e.sectors.length;i++)for(let r=0;r<e.sectors[i].num_pages;r++)n.push({sector:i,page:r});if(n.length===0)throw ct.info("flash","Aborting, No flash pages to erase"),new Error("No flash pages to erase");ct.info("flash","Executing local chip erase",n);let s=0;for(const i of n){s++,this.progress("erase",s,n.length);const r=i.page*e.sectors[i.sector].page_size+e.sectors[i.sector].start_address,o=[65,r&255,r>>8&255,r>>16&255,r>>24&255];ct.info("flash","Erasing. sector "+i.sector+", page "+i.page+" @ 0x"+r.toString(16)),await this.controlTransferOut(1,0,0,o);const a=await this.controlTransferIn(3,0,0,6);if(a[4]!=4)throw new Error("Failed to initiate page erase, page 0x"+r.toString(16));const l=a[1]|a[2]<<8|a[3]<<16;await Gl(l);const c=await this.controlTransferIn(3,0,0,6);if(c[4]!=5)if(c[4]==4){if(ct.info("flash","erase_page: dfuDNBUSY after timeout, clearing"),await this.clearStatus(),(await this.controlTransferIn(3,0,0,6))[4]!=2)throw new Error("Failed to erase page 0x"+r.toString(16)+" (did not reach dfuIDLE after clearing")}else throw new Error("Failed to erase page 0x"+r.toString(16))}}async upload(e,n){ct.info("flash","Writing data...");const s=e.segment_bytes_total;let i=0;for(const r of e.segments){let o=r.address,a=2,l=0;for(await this.loadAddress(o);l<r.data.length;){let c=n;l+c>r.data.length&&(c=r.data.length-l);const u=r.data.slice(l,l+c);o+=c,l+=c,i+=c,this.progress("write",i,s),this.controlTransferOut(1,a++,0,[...u]);const d=await this.controlTransferIn(3,0,0,6);if(d[4]!=4)throw new Error("Failed to initiate write "+c+"bytes to 0x"+o.toString(16));const f=d[1]|d[2]<<8|d[3]<<16;if(await Gl(f),(await this.controlTransferIn(3,0,0,6))[4]!=5)throw new Error("Failed to write "+c+"bytes to 0x"+o.toString(16))}}}async verify(e,n){ct.info("flash","Verifying data...");const s=e.segment_bytes_total;let i=0;for(const r of e.segments){let o=r.address,a=2,l=0;for(await this.clearStatus(),await this.loadAddress(o),await this.clearStatus();l<r.data.length;){let c=n;l+c>r.data.length&&(c=r.data.length-l);const u=await this.controlTransferIn(2,a++,0,c);for(let d=0;d<c;d++)if(u[d]!=r.data[l+d])throw new Error("verify failed");o+=c,l+=c,i+=c,this.progress("verify",i,s)}}}async leave(e){var s;ct.info("flash","Leaving dfu...");const n=((s=e==null?void 0:e.segments[0])==null?void 0:s.address)||134217728;await this.clearStatus(),await this.loadAddress(n),await this.controlTransferOut(1,0,0),await this.controlTransferIn(3,0,0,6)}async flash(e){const n=await this.getChipInfo(),s=n.internal_flash||n.external_flash;let i=0;if(n.internal_flash?i=s.total_size-(e.start_linear_address-s.start_address):n.external_flash&&(i=s.sectors[2].total_size),e.linear_bytes_total>i)throw new Error(""+(e.linear_bytes_total/1024).toFixed(1)+(i/1024).toFixed(1));let r=2048;try{r=(await this.getFunctionalDescriptor()).wTransferSize}catch{}await this.clearStatus(),n.internal_flash&&await this.unlockOptionBytes(n.option_bytes.start_address,n.option_bytes.total_size),await this.erasePages(s),await this.upload(e,r),await this.verify(e,r),await Gl(500),await this.leave(e)}}class vm{constructor(e,n){Ke(this,"start_linear_address");Ke(this,"start_segment_address");Ke(this,"segments",[]);this.start_linear_address=e,this.start_segment_address=n}get linear_bytes_total(){return this.end_address-this.start_address}get segment_bytes_total(){return this.segments.reduce((e,n)=>e+=n.data.length,0)}get start_address(){return this.segments[0].address}get end_address(){return this.segments[this.segments.length-1].address+this.segments[this.segments.length-1].data.length}static parse(e){let n=!1,s=0,i=0;const r=new vm(0,0),o=e.split(/\r?\n/);for(const a of o){if(a.length==0||a=="")continue;const l=parseInt(a.substr(1,2),16),c=parseInt(a.substr(3,4),16),u=parseInt(a.substr(7,2),16),d=a.substr(9,l*2),f=vm.fromHex(d),h=parseInt(a.substr(9+l*2,2),16);let _=l+(c>>8)+c+u&255;for(let p=0;p<l;p++)_=_+f[p]&255;if(_=256-_&255,h!=_)throw new Error("invalid checksum");switch(u){case 0:{const p=s+c;(i==0||p!=i)&&r.segments.push({address:p,data:new Uint8Array}),i=p+l,r.segments[r.segments.length-1].data=k1(r.segments[r.segments.length-1].data,f);break}case 1:if(l!=0)throw new Error("invalid END_OF_FILE");n=!0;break;case 2:if(l!=2||c!=0)throw new Error("invalid EXT_SEGMENT_ADDR");s=parseInt(d,16)<<4;break;case 3:if(l!=4||c!=0)throw new Error("invalid START_SEGMENT_ADDR");r.start_segment_address=parseInt(d,16);break;case 4:if(l!=2||c!=0)throw new Error("invalid EXT_SEGMENT_ADDR");s=parseInt(d,16)<<16;break;case 5:if(l!=4||c!=0)throw new Error("invalid START_LINEAR_ADDR");r.start_linear_address=parseInt(d,16);break}}if(!n)throw new Error("no END_OF_FILE record");return r}static fromHex(e){const n=new Uint8Array(Math.ceil(e.length/2));for(let s=0;s<n.length;s++)n[s]=parseInt(e.substr(s*2,2),16);return n}}const l_e=[{vendorId:1155,productId:57105}];class c_e{constructor(){Ke(this,"device");Ke(this,"progressCallback")}onProgress(e){this.progressCallback=e}async connect(){this.device=await navigator.usb.requestDevice({filters:l_e})}async flash(e){if(!this.device)return;const n=vm.parse(e),s=new a_e(this.device);s.onProgress(i=>{this.progressCallback&&this.progressCallback(i)}),await s.open(),await s.flash(n),await s.close()}}function Yg(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof process=="object"&&"version"in process?`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`:"<environment undetectable>"}var rf={},u_e={get exports(){return rf},set exports(t){rf=t}},d_e=P6;function P6(t,e,n,s){if(typeof n!="function")throw new Error("method for before hook must be a function");return s||(s={}),Array.isArray(e)?e.reverse().reduce(function(i,r){return P6.bind(null,t,r,i,s)},n)():Promise.resolve().then(function(){return t.registry[e]?t.registry[e].reduce(function(i,r){return r.hook.bind(null,i,s)},n)():n(s)})}var f_e=h_e;function h_e(t,e,n,s){var i=s;t.registry[n]||(t.registry[n]=[]),e==="before"&&(s=function(r,o){return Promise.resolve().then(i.bind(null,o)).then(r.bind(null,o))}),e==="after"&&(s=function(r,o){var a;return Promise.resolve().then(r.bind(null,o)).then(function(l){return a=l,i(a,o)}).then(function(){return a})}),e==="error"&&(s=function(r,o){return Promise.resolve().then(r.bind(null,o)).catch(function(a){return i(a,o)})}),t.registry[n].push({hook:s,orig:i})}var p_e=m_e;function m_e(t,e,n){if(t.registry[e]){var s=t.registry[e].map(function(i){return i.orig}).indexOf(n);s!==-1&&t.registry[e].splice(s,1)}}var L6=d_e,g_e=f_e,__e=p_e,dE=Function.bind,fE=dE.bind(dE);function I6(t,e,n){var s=fE(__e,null).apply(null,n?[e,n]:[e]);t.api={remove:s},t.remove=s,["before","error","after","wrap"].forEach(function(i){var r=n?[e,i,n]:[e,i];t[i]=t.api[i]=fE(g_e,null).apply(null,r)})}function y_e(){var t="h",e={registry:{}},n=L6.bind(null,e,t);return I6(n,e,t),n}function D6(){var t={registry:{}},e=L6.bind(null,t);return I6(e,t),e}var hE=!1;function pu(){return hE||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),hE=!0),D6()}pu.Singular=y_e.bind();pu.Collection=D6.bind();u_e.exports=pu;rf.Hook=pu;rf.Singular=pu.Singular;var b_e=rf.Collection=pu.Collection;/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function pE(t){return Object.prototype.toString.call(t)==="[object Object]"}function F6(t){var e,n;return pE(t)===!1?!1:(e=t.constructor,e===void 0?!0:(n=e.prototype,!(pE(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}function v_e(t){return t?Object.keys(t).reduce((e,n)=>(e[n.toLowerCase()]=t[n],e),{}):{}}function N6(t,e){const n=Object.assign({},t);return Object.keys(e).forEach(s=>{F6(e[s])?s in t?n[s]=N6(t[s],e[s]):Object.assign(n,{[s]:e[s]}):Object.assign(n,{[s]:e[s]})}),n}function mE(t){for(const e in t)t[e]===void 0&&delete t[e];return t}function my(t,e,n){if(typeof e=="string"){let[i,r]=e.split(" ");n=Object.assign(r?{method:i,url:r}:{url:i},n)}else n=Object.assign({},e);n.headers=v_e(n.headers),mE(n),mE(n.headers);const s=N6(t||{},n);return t&&t.mediaType.previews.length&&(s.mediaType.previews=t.mediaType.previews.filter(i=>!s.mediaType.previews.includes(i)).concat(s.mediaType.previews)),s.mediaType.previews=s.mediaType.previews.map(i=>i.replace(/-preview/,"")),s}function w_e(t,e){const n=/\?/.test(t)?"&":"?",s=Object.keys(e);return s.length===0?t:t+n+s.map(i=>i==="q"?"q="+e.q.split("+").map(encodeURIComponent).join("+"):`${i}=${encodeURIComponent(e[i])}`).join("&")}const x_e=/\{[^}]+\}/g;function S_e(t){return t.replace(/^\W+|\W+$/g,"").split(/,/)}function E_e(t){const e=t.match(x_e);return e?e.map(S_e).reduce((n,s)=>n.concat(s),[]):[]}function gE(t,e){return Object.keys(t).filter(n=>!e.includes(n)).reduce((n,s)=>(n[s]=t[s],n),{})}function U6(t){return t.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e}).join("")}function ic(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function Bu(t,e,n){return e=t==="+"||t==="#"?U6(e):ic(e),n?ic(n)+"="+e:e}function Hl(t){return t!=null}function $_(t){return t===";"||t==="&"||t==="?"}function T_e(t,e,n,s){var i=t[n],r=[];if(Hl(i)&&i!=="")if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")i=i.toString(),s&&s!=="*"&&(i=i.substring(0,parseInt(s,10))),r.push(Bu(e,i,$_(e)?n:""));else if(s==="*")Array.isArray(i)?i.filter(Hl).forEach(function(o){r.push(Bu(e,o,$_(e)?n:""))}):Object.keys(i).forEach(function(o){Hl(i[o])&&r.push(Bu(e,i[o],o))});else{const o=[];Array.isArray(i)?i.filter(Hl).forEach(function(a){o.push(Bu(e,a))}):Object.keys(i).forEach(function(a){Hl(i[a])&&(o.push(ic(a)),o.push(Bu(e,i[a].toString())))}),$_(e)?r.push(ic(n)+"="+o.join(",")):o.length!==0&&r.push(o.join(","))}else e===";"?Hl(i)&&r.push(ic(n)):i===""&&(e==="&"||e==="?")?r.push(ic(n)+"="):i===""&&r.push("");return r}function M_e(t){return{expand:A_e.bind(null,t)}}function A_e(t,e){var n=["+","#",".","/",";","?","&"];return t.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(s,i,r){if(i){let a="";const l=[];if(n.indexOf(i.charAt(0))!==-1&&(a=i.charAt(0),i=i.substr(1)),i.split(/,/g).forEach(function(c){var u=/([^:\*]*)(?::(\d+)|(\*))?/.exec(c);l.push(T_e(e,a,u[1],u[2]||u[3]))}),a&&a!=="+"){var o=",";return a==="?"?o="&":a!=="#"&&(o=a),(l.length!==0?a:"")+l.join(o)}else return l.join(",")}else return U6(r)})}function $6(t){let e=t.method.toUpperCase(),n=(t.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),s=Object.assign({},t.headers),i,r=gE(t,["method","baseUrl","url","headers","request","mediaType"]);const o=E_e(n);n=M_e(n).expand(r),/^http/.test(n)||(n=t.baseUrl+n);const a=Object.keys(t).filter(u=>o.includes(u)).concat("baseUrl"),l=gE(r,a);if(!/application\/octet-stream/i.test(s.accept)&&(t.mediaType.format&&(s.accept=s.accept.split(/,/).map(u=>u.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${t.mediaType.format}`)).join(",")),t.mediaType.previews.length)){const u=s.accept.match(/[\w-]+(?=-preview)/g)||[];s.accept=u.concat(t.mediaType.previews).map(d=>{const f=t.mediaType.format?`.${t.mediaType.format}`:"+json";return`application/vnd.github.${d}-preview${f}`}).join(",")}return["GET","HEAD"].includes(e)?n=w_e(n,l):"data"in l?i=l.data:Object.keys(l).length&&(i=l),!s["content-type"]&&typeof i<"u"&&(s["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(e)&&typeof i>"u"&&(i=""),Object.assign({method:e,url:n,headers:s},typeof i<"u"?{body:i}:null,t.request?{request:t.request}:null)}function k_e(t,e,n){return $6(my(t,e,n))}function B6(t,e){const n=my(t,e),s=k_e.bind(null,n);return Object.assign(s,{DEFAULTS:n,defaults:B6.bind(null,n),merge:my.bind(null,n),parse:$6})}const R_e="7.0.5",C_e=`octokit-endpoint.js/${R_e} ${Yg()}`,O_e={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":C_e},mediaType:{format:"",previews:[]}},P_e=B6(null,O_e);var Gn=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Gn<"u"&&Gn,ms={searchParams:"URLSearchParams"in Gn,iterable:"Symbol"in Gn&&"iterator"in Symbol,blob:"FileReader"in Gn&&"Blob"in Gn&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in Gn,arrayBuffer:"ArrayBuffer"in Gn};function L_e(t){return t&&DataView.prototype.isPrototypeOf(t)}if(ms.arrayBuffer)var I_e=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],D_e=ArrayBuffer.isView||function(t){return t&&I_e.indexOf(Object.prototype.toString.call(t))>-1};function Uf(t){if(typeof t!="string"&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||t==="")throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function Kv(t){return typeof t!="string"&&(t=String(t)),t}function Xv(t){var e={next:function(){var n=t.shift();return{done:n===void 0,value:n}}};return ms.iterable&&(e[Symbol.iterator]=function(){return e}),e}function An(t){this.map={},t instanceof An?t.forEach(function(e,n){this.append(n,e)},this):Array.isArray(t)?t.forEach(function(e){this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}An.prototype.append=function(t,e){t=Uf(t),e=Kv(e);var n=this.map[t];this.map[t]=n?n+", "+e:e};An.prototype.delete=function(t){delete this.map[Uf(t)]};An.prototype.get=function(t){return t=Uf(t),this.has(t)?this.map[t]:null};An.prototype.has=function(t){return this.map.hasOwnProperty(Uf(t))};An.prototype.set=function(t,e){this.map[Uf(t)]=Kv(e)};An.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)};An.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),Xv(t)};An.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),Xv(t)};An.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),Xv(t)};ms.iterable&&(An.prototype[Symbol.iterator]=An.prototype.entries);function B_(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function z6(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function F_e(t){var e=new FileReader,n=z6(e);return e.readAsArrayBuffer(t),n}function N_e(t){var e=new FileReader,n=z6(e);return e.readAsText(t),n}function U_e(t){for(var e=new Uint8Array(t),n=new Array(e.length),s=0;s<e.length;s++)n[s]=String.fromCharCode(e[s]);return n.join("")}function _E(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function G6(){return this.bodyUsed=!1,this._initBody=function(t){this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?typeof t=="string"?this._bodyText=t:ms.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:ms.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:ms.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():ms.arrayBuffer&&ms.blob&&L_e(t)?(this._bodyArrayBuffer=_E(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):ms.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||D_e(t))?this._bodyArrayBuffer=_E(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||(typeof t=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):ms.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},ms.blob&&(this.blob=function(){var t=B_(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=B_(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(F_e)}),this.text=function(){var t=B_(this);if(t)return t;if(this._bodyBlob)return N_e(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(U_e(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},ms.formData&&(this.formData=function(){return this.text().then(z_e)}),this.json=function(){return this.text().then(JSON.parse)},this}var $_e=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function B_e(t){var e=t.toUpperCase();return $_e.indexOf(e)>-1?e:t}function nl(t,e){if(!(this instanceof nl))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e=e||{};var n=e.body;if(t instanceof nl){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new An(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,!n&&t._bodyInit!=null&&(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",(e.headers||!this.headers)&&(this.headers=new An(e.headers)),this.method=B_e(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),(this.method==="GET"||this.method==="HEAD")&&(e.cache==="no-store"||e.cache==="no-cache")){var s=/([?&])_=[^&]*/;if(s.test(this.url))this.url=this.url.replace(s,"$1_="+new Date().getTime());else{var i=/\?/;this.url+=(i.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}nl.prototype.clone=function(){return new nl(this,{body:this._bodyInit})};function z_e(t){var e=new FormData;return t.trim().split("&").forEach(function(n){if(n){var s=n.split("="),i=s.shift().replace(/\+/g," "),r=s.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(r))}}),e}function G_e(t){var e=new An,n=t.replace(/\r?\n[\t ]+/g," ");return n.split("\r").map(function(s){return s.indexOf(`
`)===0?s.substr(1,s.length):s}).forEach(function(s){var i=s.split(":"),r=i.shift().trim();if(r){var o=i.join(":").trim();e.append(r,o)}}),e}G6.call(nl.prototype);function sr(t,e){if(!(this instanceof sr))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e||(e={}),this.type="default",this.status=e.status===void 0?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText===void 0?"":""+e.statusText,this.headers=new An(e.headers),this.url=e.url||"",this._initBody(t)}G6.call(sr.prototype);sr.prototype.clone=function(){return new sr(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new An(this.headers),url:this.url})};sr.error=function(){var t=new sr(null,{status:0,statusText:""});return t.type="error",t};var H_e=[301,302,303,307,308];sr.redirect=function(t,e){if(H_e.indexOf(e)===-1)throw new RangeError("Invalid status code");return new sr(null,{status:e,headers:{location:t}})};var va=Gn.DOMException;try{new va}catch{va=function(e,n){this.message=e,this.name=n;var s=Error(e);this.stack=s.stack},va.prototype=Object.create(Error.prototype),va.prototype.constructor=va}function H6(t,e){return new Promise(function(n,s){var i=new nl(t,e);if(i.signal&&i.signal.aborted)return s(new va("Aborted","AbortError"));var r=new XMLHttpRequest;function o(){r.abort()}r.onload=function(){var l={status:r.status,statusText:r.statusText,headers:G_e(r.getAllResponseHeaders()||"")};l.url="responseURL"in r?r.responseURL:l.headers.get("X-Request-URL");var c="response"in r?r.response:r.responseText;setTimeout(function(){n(new sr(c,l))},0)},r.onerror=function(){setTimeout(function(){s(new TypeError("Network request failed"))},0)},r.ontimeout=function(){setTimeout(function(){s(new TypeError("Network request failed"))},0)},r.onabort=function(){setTimeout(function(){s(new va("Aborted","AbortError"))},0)};function a(l){try{return l===""&&Gn.location.href?Gn.location.href:l}catch{return l}}r.open(i.method,a(i.url),!0),i.credentials==="include"?r.withCredentials=!0:i.credentials==="omit"&&(r.withCredentials=!1),"responseType"in r&&(ms.blob?r.responseType="blob":ms.arrayBuffer&&i.headers.get("Content-Type")&&i.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(r.responseType="arraybuffer")),e&&typeof e.headers=="object"&&!(e.headers instanceof An)?Object.getOwnPropertyNames(e.headers).forEach(function(l){r.setRequestHeader(l,Kv(e.headers[l]))}):i.headers.forEach(function(l,c){r.setRequestHeader(c,l)}),i.signal&&(i.signal.addEventListener("abort",o),r.onreadystatechange=function(){r.readyState===4&&i.signal.removeEventListener("abort",o)}),r.send(typeof i._bodyInit>"u"?null:i._bodyInit)})}H6.polyfill=!0;Gn.fetch||(Gn.fetch=H6,Gn.Headers=An,Gn.Request=nl,Gn.Response=sr);var V_e=self.fetch.bind(self);class yE extends Error{constructor(e){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}}var of={},W_e={get exports(){return of},set exports(t){of=t}},j_e=V6;function V6(t,e){if(t&&e)return V6(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(s){n[s]=t[s]}),n;function n(){for(var s=new Array(arguments.length),i=0;i<s.length;i++)s[i]=arguments[i];var r=t.apply(this,s),o=s[s.length-1];return typeof r=="function"&&r!==o&&Object.keys(o).forEach(function(a){r[a]=o[a]}),r}}var W6=j_e;W_e.exports=W6(Cp);of.strict=W6(j6);Cp.proto=Cp(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Cp(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return j6(this)},configurable:!0})});function Cp(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function j6(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},n=t.name||"Function wrapped with `once`";return e.onceError=n+" shouldn't be called more than once",e.called=!1,e}const q_e=of(t=>console.warn(t)),Y_e=of(t=>console.warn(t));class zu extends Error{constructor(e,n,s){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=n;let i;"headers"in s&&typeof s.headers<"u"&&(i=s.headers),"response"in s&&(this.response=s.response,i=s.response.headers);const r=Object.assign({},s.request);s.request.headers.authorization&&(r.headers=Object.assign({},s.request.headers,{authorization:s.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),r.url=r.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=r,Object.defineProperty(this,"code",{get(){return q_e(new yE("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),n}}),Object.defineProperty(this,"headers",{get(){return Y_e(new yE("[@octokit/request-error] `error.headers` is deprecated, use `error.response.headers`.")),i||{}}})}}const K_e="6.2.3";function X_e(t){return t.arrayBuffer()}function bE(t){const e=t.request&&t.request.log?t.request.log:console;(F6(t.body)||Array.isArray(t.body))&&(t.body=JSON.stringify(t.body));let n={},s,i;return(t.request&&t.request.fetch||globalThis.fetch||V_e)(t.url,Object.assign({method:t.method,body:t.body,headers:t.headers,redirect:t.redirect},t.request)).then(async o=>{i=o.url,s=o.status;for(const a of o.headers)n[a[0]]=a[1];if("deprecation"in n){const a=n.link&&n.link.match(/<([^>]+)>; rel="deprecation"/),l=a&&a.pop();e.warn(`[@octokit/request] "${t.method} ${t.url}" is deprecated. It is scheduled to be removed on ${n.sunset}${l?`. See ${l}`:""}`)}if(!(s===204||s===205)){if(t.method==="HEAD"){if(s<400)return;throw new zu(o.statusText,s,{response:{url:i,status:s,headers:n,data:void 0},request:t})}if(s===304)throw new zu("Not modified",s,{response:{url:i,status:s,headers:n,data:await z_(o)},request:t});if(s>=400){const a=await z_(o);throw new zu(Z_e(a),s,{response:{url:i,status:s,headers:n,data:a},request:t})}return z_(o)}}).then(o=>({status:s,url:i,headers:n,data:o})).catch(o=>{throw o instanceof zu||o.name==="AbortError"?o:new zu(o.message,500,{request:t})})}async function z_(t){const e=t.headers.get("content-type");return/application\/json/.test(e)?t.json():!e||/^text\/|charset=utf-8$/.test(e)?t.text():X_e(t)}function Z_e(t){return typeof t=="string"?t:"message"in t?Array.isArray(t.errors)?`${t.message}: ${t.errors.map(JSON.stringify).join(", ")}`:t.message:`Unknown error: ${JSON.stringify(t)}`}function gy(t,e){const n=t.defaults(e);return Object.assign(function(i,r){const o=n.merge(i,r);if(!o.request||!o.request.hook)return bE(n.parse(o));const a=(l,c)=>bE(n.parse(n.merge(l,c)));return Object.assign(a,{endpoint:n,defaults:gy.bind(null,n)}),o.request.hook(a,o)},{endpoint:n,defaults:gy.bind(null,n)})}const _y=gy(P_e,{headers:{"user-agent":`octokit-request.js/${K_e} ${Yg()}`}}),J_e="5.0.5";function Q_e(t){return`Request failed due to following response errors:
`+t.errors.map(e=>` - ${e.message}`).join(`
`)}class e1e extends Error{constructor(e,n,s){super(Q_e(s)),this.request=e,this.headers=n,this.response=s,this.name="GraphqlResponseError",this.errors=s.errors,this.data=s.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}const t1e=["method","baseUrl","url","headers","request","query","mediaType"],n1e=["query","method","url"],vE=/\/api\/v3\/?$/;function s1e(t,e,n){if(n){if(typeof e=="string"&&"query"in n)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const o in n)if(n1e.includes(o))return Promise.reject(new Error(`[@octokit/graphql] "${o}" cannot be used as variable name`))}const s=typeof e=="string"?Object.assign({query:e},n):e,i=Object.keys(s).reduce((o,a)=>t1e.includes(a)?(o[a]=s[a],o):(o.variables||(o.variables={}),o.variables[a]=s[a],o),{}),r=s.baseUrl||t.endpoint.DEFAULTS.baseUrl;return vE.test(r)&&(i.url=r.replace(vE,"/api/graphql")),t(i).then(o=>{if(o.data.errors){const a={};for(const l of Object.keys(o.headers))a[l]=o.headers[l];throw new e1e(i,a,o.data)}return o.data.data})}function Zv(t,e){const n=t.defaults(e);return Object.assign((i,r)=>s1e(n,i,r),{defaults:Zv.bind(null,n),endpoint:n.endpoint})}Zv(_y,{headers:{"user-agent":`octokit-graphql.js/${J_e} ${Yg()}`},method:"POST",url:"/graphql"});function i1e(t){return Zv(t,{method:"POST",url:"/graphql"})}const r1e=/^v1\./,o1e=/^ghs_/,a1e=/^ghu_/;async function l1e(t){const e=t.split(/\./).length===3,n=r1e.test(t)||o1e.test(t),s=a1e.test(t);return{type:"token",token:t,tokenType:e?"app":n?"installation":s?"user-to-server":"oauth"}}function c1e(t){return t.split(/\./).length===3?`bearer ${t}`:`token ${t}`}async function u1e(t,e,n,s){const i=e.endpoint.merge(n,s);return i.headers.authorization=c1e(t),e(i)}const d1e=function(e){if(!e)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof e!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return e=e.replace(/^(token|bearer) +/i,""),Object.assign(l1e.bind(null,e),{hook:u1e.bind(null,e)})},q6="4.2.0";let Jv=class{constructor(e={}){const n=new b_e,s={baseUrl:_y.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},e.request,{hook:n.bind(null,"request")}),mediaType:{previews:[],format:""}};if(s.headers["user-agent"]=[e.userAgent,`octokit-core.js/${q6} ${Yg()}`].filter(Boolean).join(" "),e.baseUrl&&(s.baseUrl=e.baseUrl),e.previews&&(s.mediaType.previews=e.previews),e.timeZone&&(s.headers["time-zone"]=e.timeZone),this.request=_y.defaults(s),this.graphql=i1e(this.request).defaults(s),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},e.log),this.hook=n,e.authStrategy){const{authStrategy:r,...o}=e,a=r(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:o},e.auth));n.wrap("request",a.hook),this.auth=a}else if(!e.auth)this.auth=async()=>({type:"unauthenticated"});else{const r=d1e(e.auth);n.wrap("request",r.hook),this.auth=r}this.constructor.plugins.forEach(r=>{Object.assign(this,r(this,e))})}static defaults(e){return class extends this{constructor(...s){const i=s[0]||{};if(typeof e=="function"){super(e(i));return}super(Object.assign({},e,i,i.userAgent&&e.userAgent?{userAgent:`${i.userAgent} ${e.userAgent}`}:null))}}}static plugin(...e){var n;const s=this.plugins;return n=class extends this{},n.plugins=s.concat(e.filter(r=>!s.includes(r))),n}};Jv.VERSION=q6;Jv.plugins=[];const f1e="1.0.4";function Y6(t){t.hook.wrap("request",(e,n)=>{t.log.debug("request",n);const s=Date.now(),i=t.request.endpoint.parse(n),r=i.url.replace(n.baseUrl,"");return e(n).then(o=>(t.log.info(`${i.method} ${r} - ${o.status} in ${Date.now()-s}ms`),o)).catch(o=>{throw t.log.info(`${i.method} ${r} - ${o.status} in ${Date.now()-s}ms`),o})})}Y6.VERSION=f1e;const h1e="6.0.0";function p1e(t){if(!t.data)return{...t,data:[]};if(!("total_count"in t.data&&!("url"in t.data)))return t;const n=t.data.incomplete_results,s=t.data.repository_selection,i=t.data.total_count;delete t.data.incomplete_results,delete t.data.repository_selection,delete t.data.total_count;const r=Object.keys(t.data)[0],o=t.data[r];return t.data=o,typeof n<"u"&&(t.data.incomplete_results=n),typeof s<"u"&&(t.data.repository_selection=s),t.data.total_count=i,t}function Qv(t,e,n){const s=typeof e=="function"?e.endpoint(n):t.request.endpoint(e,n),i=typeof e=="function"?e:t.request,r=s.method,o=s.headers;let a=s.url;return{[Symbol.asyncIterator]:()=>({async next(){if(!a)return{done:!0};try{const l=await i({method:r,url:a,headers:o}),c=p1e(l);return a=((c.headers.link||"").match(/<([^>]+)>;\s*rel="next"/)||[])[1],{value:c}}catch(l){if(l.status!==409)throw l;return a="",{value:{status:200,headers:{},data:[]}}}}})}}function K6(t,e,n,s){return typeof n=="function"&&(s=n,n=void 0),X6(t,[],Qv(t,e,n)[Symbol.asyncIterator](),s)}function X6(t,e,n,s){return n.next().then(i=>{if(i.done)return e;let r=!1;function o(){r=!0}return e=e.concat(s?s(i.value,o):i.value.data),r?e:X6(t,e,n,s)})}Object.assign(K6,{iterator:Qv});function Z6(t){return{paginate:Object.assign(K6.bind(null,t),{iterator:Qv.bind(null,t)})}}Z6.VERSION=h1e;const m1e={actions:{addCustomLabelsToSelfHostedRunnerForOrg:["POST /orgs/{org}/actions/runners/{runner_id}/labels"],addCustomLabelsToSelfHostedRunnerForRepo:["POST /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],addSelectedRepoToOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],addSelectedRepoToOrgVariable:["PUT /orgs/{org}/actions/variables/{name}/repositories/{repository_id}"],addSelectedRepoToRequiredWorkflow:["PUT /orgs/{org}/actions/required_workflows/{required_workflow_id}/repositories/{repository_id}"],approveWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/approve"],cancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/cancel"],createEnvironmentVariable:["POST /repositories/{repository_id}/environments/{environment_name}/variables"],createOrUpdateEnvironmentSecret:["PUT /repositories/{repository_id}/environments/{environment_name}/secrets/{secret_name}"],createOrUpdateOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/actions/secrets/{secret_name}"],createOrgVariable:["POST /orgs/{org}/actions/variables"],createRegistrationTokenForOrg:["POST /orgs/{org}/actions/runners/registration-token"],createRegistrationTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/registration-token"],createRemoveTokenForOrg:["POST /orgs/{org}/actions/runners/remove-token"],createRemoveTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/remove-token"],createRepoVariable:["POST /repos/{owner}/{repo}/actions/variables"],createRequiredWorkflow:["POST /orgs/{org}/actions/required_workflows"],createWorkflowDispatch:["POST /repos/{owner}/{repo}/actions/workflows/{workflow_id}/dispatches"],deleteActionsCacheById:["DELETE /repos/{owner}/{repo}/actions/caches/{cache_id}"],deleteActionsCacheByKey:["DELETE /repos/{owner}/{repo}/actions/caches{?key,ref}"],deleteArtifact:["DELETE /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],deleteEnvironmentSecret:["DELETE /repositories/{repository_id}/environments/{environment_name}/secrets/{secret_name}"],deleteEnvironmentVariable:["DELETE /repositories/{repository_id}/environments/{environment_name}/variables/{name}"],deleteOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}"],deleteOrgVariable:["DELETE /orgs/{org}/actions/variables/{name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/actions/secrets/{secret_name}"],deleteRepoVariable:["DELETE /repos/{owner}/{repo}/actions/variables/{name}"],deleteRequiredWorkflow:["DELETE /orgs/{org}/actions/required_workflows/{required_workflow_id}"],deleteSelfHostedRunnerFromOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}"],deleteSelfHostedRunnerFromRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}"],deleteWorkflowRun:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}"],deleteWorkflowRunLogs:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],disableSelectedRepositoryGithubActionsOrganization:["DELETE /orgs/{org}/actions/permissions/repositories/{repository_id}"],disableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/disable"],downloadArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}/{archive_format}"],downloadJobLogsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}/logs"],downloadWorkflowRunAttemptLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/logs"],downloadWorkflowRunLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],enableSelectedRepositoryGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories/{repository_id}"],enableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/enable"],getActionsCacheList:["GET /repos/{owner}/{repo}/actions/caches"],getActionsCacheUsage:["GET /repos/{owner}/{repo}/actions/cache/usage"],getActionsCacheUsageByRepoForOrg:["GET /orgs/{org}/actions/cache/usage-by-repository"],getActionsCacheUsageForOrg:["GET /orgs/{org}/actions/cache/usage"],getAllowedActionsOrganization:["GET /orgs/{org}/actions/permissions/selected-actions"],getAllowedActionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/selected-actions"],getArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],getEnvironmentPublicKey:["GET /repositories/{repository_id}/environments/{environment_name}/secrets/public-key"],getEnvironmentSecret:["GET /repositories/{repository_id}/environments/{environment_name}/secrets/{secret_name}"],getEnvironmentVariable:["GET /repositories/{repository_id}/environments/{environment_name}/variables/{name}"],getGithubActionsDefaultWorkflowPermissionsOrganization:["GET /orgs/{org}/actions/permissions/workflow"],getGithubActionsDefaultWorkflowPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/workflow"],getGithubActionsPermissionsOrganization:["GET /orgs/{org}/actions/permissions"],getGithubActionsPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions"],getJobForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}"],getOrgPublicKey:["GET /orgs/{org}/actions/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}"],getOrgVariable:["GET /orgs/{org}/actions/variables/{name}"],getPendingDeploymentsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],getRepoPermissions:["GET /repos/{owner}/{repo}/actions/permissions",{},{renamed:["actions","getGithubActionsPermissionsRepository"]}],getRepoPublicKey:["GET /repos/{owner}/{repo}/actions/secrets/public-key"],getRepoRequiredWorkflow:["GET /repos/{org}/{repo}/actions/required_workflows/{required_workflow_id_for_repo}"],getRepoRequiredWorkflowUsage:["GET /repos/{org}/{repo}/actions/required_workflows/{required_workflow_id_for_repo}/timing"],getRepoSecret:["GET /repos/{owner}/{repo}/actions/secrets/{secret_name}"],getRepoVariable:["GET /repos/{owner}/{repo}/actions/variables/{name}"],getRequiredWorkflow:["GET /orgs/{org}/actions/required_workflows/{required_workflow_id}"],getReviewsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/approvals"],getSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}"],getSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}"],getWorkflow:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}"],getWorkflowAccessToRepository:["GET /repos/{owner}/{repo}/actions/permissions/access"],getWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}"],getWorkflowRunAttempt:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}"],getWorkflowRunUsage:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/timing"],getWorkflowUsage:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/timing"],listArtifactsForRepo:["GET /repos/{owner}/{repo}/actions/artifacts"],listEnvironmentSecrets:["GET /repositories/{repository_id}/environments/{environment_name}/secrets"],listEnvironmentVariables:["GET /repositories/{repository_id}/environments/{environment_name}/variables"],listJobsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs"],listJobsForWorkflowRunAttempt:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/jobs"],listLabelsForSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}/labels"],listLabelsForSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],listOrgSecrets:["GET /orgs/{org}/actions/secrets"],listOrgVariables:["GET /orgs/{org}/actions/variables"],listRepoRequiredWorkflows:["GET /repos/{org}/{repo}/actions/required_workflows"],listRepoSecrets:["GET /repos/{owner}/{repo}/actions/secrets"],listRepoVariables:["GET /repos/{owner}/{repo}/actions/variables"],listRepoWorkflows:["GET /repos/{owner}/{repo}/actions/workflows"],listRequiredWorkflowRuns:["GET /repos/{owner}/{repo}/actions/required_workflows/{required_workflow_id_for_repo}/runs"],listRequiredWorkflows:["GET /orgs/{org}/actions/required_workflows"],listRunnerApplicationsForOrg:["GET /orgs/{org}/actions/runners/downloads"],listRunnerApplicationsForRepo:["GET /repos/{owner}/{repo}/actions/runners/downloads"],listSelectedReposForOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}/repositories"],listSelectedReposForOrgVariable:["GET /orgs/{org}/actions/variables/{name}/repositories"],listSelectedRepositoriesEnabledGithubActionsOrganization:["GET /orgs/{org}/actions/permissions/repositories"],listSelectedRepositoriesRequiredWorkflow:["GET /orgs/{org}/actions/required_workflows/{required_workflow_id}/repositories"],listSelfHostedRunnersForOrg:["GET /orgs/{org}/actions/runners"],listSelfHostedRunnersForRepo:["GET /repos/{owner}/{repo}/actions/runners"],listWorkflowRunArtifacts:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts"],listWorkflowRuns:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs"],listWorkflowRunsForRepo:["GET /repos/{owner}/{repo}/actions/runs"],reRunJobForWorkflowRun:["POST /repos/{owner}/{repo}/actions/jobs/{job_id}/rerun"],reRunWorkflow:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun"],reRunWorkflowFailedJobs:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun-failed-jobs"],removeAllCustomLabelsFromSelfHostedRunnerForOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}/labels"],removeAllCustomLabelsFromSelfHostedRunnerForRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],removeCustomLabelFromSelfHostedRunnerForOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}/labels/{name}"],removeCustomLabelFromSelfHostedRunnerForRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}/labels/{name}"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],removeSelectedRepoFromOrgVariable:["DELETE /orgs/{org}/actions/variables/{name}/repositories/{repository_id}"],removeSelectedRepoFromRequiredWorkflow:["DELETE /orgs/{org}/actions/required_workflows/{required_workflow_id}/repositories/{repository_id}"],reviewPendingDeploymentsForRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],setAllowedActionsOrganization:["PUT /orgs/{org}/actions/permissions/selected-actions"],setAllowedActionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/selected-actions"],setCustomLabelsForSelfHostedRunnerForOrg:["PUT /orgs/{org}/actions/runners/{runner_id}/labels"],setCustomLabelsForSelfHostedRunnerForRepo:["PUT /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],setGithubActionsDefaultWorkflowPermissionsOrganization:["PUT /orgs/{org}/actions/permissions/workflow"],setGithubActionsDefaultWorkflowPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/workflow"],setGithubActionsPermissionsOrganization:["PUT /orgs/{org}/actions/permissions"],setGithubActionsPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories"],setSelectedReposForOrgVariable:["PUT /orgs/{org}/actions/variables/{name}/repositories"],setSelectedReposToRequiredWorkflow:["PUT /orgs/{org}/actions/required_workflows/{required_workflow_id}/repositories"],setSelectedRepositoriesEnabledGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories"],setWorkflowAccessToRepository:["PUT /repos/{owner}/{repo}/actions/permissions/access"],updateEnvironmentVariable:["PATCH /repositories/{repository_id}/environments/{environment_name}/variables/{name}"],updateOrgVariable:["PATCH /orgs/{org}/actions/variables/{name}"],updateRepoVariable:["PATCH /repos/{owner}/{repo}/actions/variables/{name}"],updateRequiredWorkflow:["PATCH /orgs/{org}/actions/required_workflows/{required_workflow_id}"]},activity:{checkRepoIsStarredByAuthenticatedUser:["GET /user/starred/{owner}/{repo}"],deleteRepoSubscription:["DELETE /repos/{owner}/{repo}/subscription"],deleteThreadSubscription:["DELETE /notifications/threads/{thread_id}/subscription"],getFeeds:["GET /feeds"],getRepoSubscription:["GET /repos/{owner}/{repo}/subscription"],getThread:["GET /notifications/threads/{thread_id}"],getThreadSubscriptionForAuthenticatedUser:["GET /notifications/threads/{thread_id}/subscription"],listEventsForAuthenticatedUser:["GET /users/{username}/events"],listNotificationsForAuthenticatedUser:["GET /notifications"],listOrgEventsForAuthenticatedUser:["GET /users/{username}/events/orgs/{org}"],listPublicEvents:["GET /events"],listPublicEventsForRepoNetwork:["GET /networks/{owner}/{repo}/events"],listPublicEventsForUser:["GET /users/{username}/events/public"],listPublicOrgEvents:["GET /orgs/{org}/events"],listReceivedEventsForUser:["GET /users/{username}/received_events"],listReceivedPublicEventsForUser:["GET /users/{username}/received_events/public"],listRepoEvents:["GET /repos/{owner}/{repo}/events"],listRepoNotificationsForAuthenticatedUser:["GET /repos/{owner}/{repo}/notifications"],listReposStarredByAuthenticatedUser:["GET /user/starred"],listReposStarredByUser:["GET /users/{username}/starred"],listReposWatchedByUser:["GET /users/{username}/subscriptions"],listStargazersForRepo:["GET /repos/{owner}/{repo}/stargazers"],listWatchedReposForAuthenticatedUser:["GET /user/subscriptions"],listWatchersForRepo:["GET /repos/{owner}/{repo}/subscribers"],markNotificationsAsRead:["PUT /notifications"],markRepoNotificationsAsRead:["PUT /repos/{owner}/{repo}/notifications"],markThreadAsRead:["PATCH /notifications/threads/{thread_id}"],setRepoSubscription:["PUT /repos/{owner}/{repo}/subscription"],setThreadSubscription:["PUT /notifications/threads/{thread_id}/subscription"],starRepoForAuthenticatedUser:["PUT /user/starred/{owner}/{repo}"],unstarRepoForAuthenticatedUser:["DELETE /user/starred/{owner}/{repo}"]},apps:{addRepoToInstallation:["PUT /user/installations/{installation_id}/repositories/{repository_id}",{},{renamed:["apps","addRepoToInstallationForAuthenticatedUser"]}],addRepoToInstallationForAuthenticatedUser:["PUT /user/installations/{installation_id}/repositories/{repository_id}"],checkToken:["POST /applications/{client_id}/token"],createFromManifest:["POST /app-manifests/{code}/conversions"],createInstallationAccessToken:["POST /app/installations/{installation_id}/access_tokens"],deleteAuthorization:["DELETE /applications/{client_id}/grant"],deleteInstallation:["DELETE /app/installations/{installation_id}"],deleteToken:["DELETE /applications/{client_id}/token"],getAuthenticated:["GET /app"],getBySlug:["GET /apps/{app_slug}"],getInstallation:["GET /app/installations/{installation_id}"],getOrgInstallation:["GET /orgs/{org}/installation"],getRepoInstallation:["GET /repos/{owner}/{repo}/installation"],getSubscriptionPlanForAccount:["GET /marketplace_listing/accounts/{account_id}"],getSubscriptionPlanForAccountStubbed:["GET /marketplace_listing/stubbed/accounts/{account_id}"],getUserInstallation:["GET /users/{username}/installation"],getWebhookConfigForApp:["GET /app/hook/config"],getWebhookDelivery:["GET /app/hook/deliveries/{delivery_id}"],listAccountsForPlan:["GET /marketplace_listing/plans/{plan_id}/accounts"],listAccountsForPlanStubbed:["GET /marketplace_listing/stubbed/plans/{plan_id}/accounts"],listInstallationReposForAuthenticatedUser:["GET /user/installations/{installation_id}/repositories"],listInstallations:["GET /app/installations"],listInstallationsForAuthenticatedUser:["GET /user/installations"],listPlans:["GET /marketplace_listing/plans"],listPlansStubbed:["GET /marketplace_listing/stubbed/plans"],listReposAccessibleToInstallation:["GET /installation/repositories"],listSubscriptionsForAuthenticatedUser:["GET /user/marketplace_purchases"],listSubscriptionsForAuthenticatedUserStubbed:["GET /user/marketplace_purchases/stubbed"],listWebhookDeliveries:["GET /app/hook/deliveries"],redeliverWebhookDelivery:["POST /app/hook/deliveries/{delivery_id}/attempts"],removeRepoFromInstallation:["DELETE /user/installations/{installation_id}/repositories/{repository_id}",{},{renamed:["apps","removeRepoFromInstallationForAuthenticatedUser"]}],removeRepoFromInstallationForAuthenticatedUser:["DELETE /user/installations/{installation_id}/repositories/{repository_id}"],resetToken:["PATCH /applications/{client_id}/token"],revokeInstallationAccessToken:["DELETE /installation/token"],scopeToken:["POST /applications/{client_id}/token/scoped"],suspendInstallation:["PUT /app/installations/{installation_id}/suspended"],unsuspendInstallation:["DELETE /app/installations/{installation_id}/suspended"],updateWebhookConfigForApp:["PATCH /app/hook/config"]},billing:{getGithubActionsBillingOrg:["GET /orgs/{org}/settings/billing/actions"],getGithubActionsBillingUser:["GET /users/{username}/settings/billing/actions"],getGithubPackagesBillingOrg:["GET /orgs/{org}/settings/billing/packages"],getGithubPackagesBillingUser:["GET /users/{username}/settings/billing/packages"],getSharedStorageBillingOrg:["GET /orgs/{org}/settings/billing/shared-storage"],getSharedStorageBillingUser:["GET /users/{username}/settings/billing/shared-storage"]},checks:{create:["POST /repos/{owner}/{repo}/check-runs"],createSuite:["POST /repos/{owner}/{repo}/check-suites"],get:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}"],getSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}"],listAnnotations:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations"],listForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-runs"],listForSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs"],listSuitesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-suites"],rerequestRun:["POST /repos/{owner}/{repo}/check-runs/{check_run_id}/rerequest"],rerequestSuite:["POST /repos/{owner}/{repo}/check-suites/{check_suite_id}/rerequest"],setSuitesPreferences:["PATCH /repos/{owner}/{repo}/check-suites/preferences"],update:["PATCH /repos/{owner}/{repo}/check-runs/{check_run_id}"]},codeScanning:{deleteAnalysis:["DELETE /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}{?confirm_delete}"],getAlert:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}",{},{renamedParameters:{alert_id:"alert_number"}}],getAnalysis:["GET /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}"],getCodeqlDatabase:["GET /repos/{owner}/{repo}/code-scanning/codeql/databases/{language}"],getSarif:["GET /repos/{owner}/{repo}/code-scanning/sarifs/{sarif_id}"],listAlertInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances"],listAlertsForOrg:["GET /orgs/{org}/code-scanning/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/code-scanning/alerts"],listAlertsInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances",{},{renamed:["codeScanning","listAlertInstances"]}],listCodeqlDatabases:["GET /repos/{owner}/{repo}/code-scanning/codeql/databases"],listRecentAnalyses:["GET /repos/{owner}/{repo}/code-scanning/analyses"],updateAlert:["PATCH /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}"],uploadSarif:["POST /repos/{owner}/{repo}/code-scanning/sarifs"]},codesOfConduct:{getAllCodesOfConduct:["GET /codes_of_conduct"],getConductCode:["GET /codes_of_conduct/{key}"]},codespaces:{addRepositoryForSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}/repositories/{repository_id}"],addSelectedRepoToOrgSecret:["PUT /orgs/{org}/codespaces/secrets/{secret_name}/repositories/{repository_id}"],codespaceMachinesForAuthenticatedUser:["GET /user/codespaces/{codespace_name}/machines"],createForAuthenticatedUser:["POST /user/codespaces"],createOrUpdateOrgSecret:["PUT /orgs/{org}/codespaces/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],createOrUpdateSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}"],createWithPrForAuthenticatedUser:["POST /repos/{owner}/{repo}/pulls/{pull_number}/codespaces"],createWithRepoForAuthenticatedUser:["POST /repos/{owner}/{repo}/codespaces"],deleteForAuthenticatedUser:["DELETE /user/codespaces/{codespace_name}"],deleteFromOrganization:["DELETE /orgs/{org}/members/{username}/codespaces/{codespace_name}"],deleteOrgSecret:["DELETE /orgs/{org}/codespaces/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],deleteSecretForAuthenticatedUser:["DELETE /user/codespaces/secrets/{secret_name}"],exportForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/exports"],getCodespacesForUserInOrg:["GET /orgs/{org}/members/{username}/codespaces"],getExportDetailsForAuthenticatedUser:["GET /user/codespaces/{codespace_name}/exports/{export_id}"],getForAuthenticatedUser:["GET /user/codespaces/{codespace_name}"],getOrgPublicKey:["GET /orgs/{org}/codespaces/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/codespaces/secrets/{secret_name}"],getPublicKeyForAuthenticatedUser:["GET /user/codespaces/secrets/public-key"],getRepoPublicKey:["GET /repos/{owner}/{repo}/codespaces/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],getSecretForAuthenticatedUser:["GET /user/codespaces/secrets/{secret_name}"],listDevcontainersInRepositoryForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/devcontainers"],listForAuthenticatedUser:["GET /user/codespaces"],listInOrganization:["GET /orgs/{org}/codespaces",{},{renamedParameters:{org_id:"org"}}],listInRepositoryForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces"],listOrgSecrets:["GET /orgs/{org}/codespaces/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/codespaces/secrets"],listRepositoriesForSecretForAuthenticatedUser:["GET /user/codespaces/secrets/{secret_name}/repositories"],listSecretsForAuthenticatedUser:["GET /user/codespaces/secrets"],listSelectedReposForOrgSecret:["GET /orgs/{org}/codespaces/secrets/{secret_name}/repositories"],preFlightWithRepoForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/new"],publishForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/publish"],removeRepositoryForSecretForAuthenticatedUser:["DELETE /user/codespaces/secrets/{secret_name}/repositories/{repository_id}"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/codespaces/secrets/{secret_name}/repositories/{repository_id}"],repoMachinesForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/machines"],setCodespacesBilling:["PUT /orgs/{org}/codespaces/billing"],setRepositoriesForSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}/repositories"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/codespaces/secrets/{secret_name}/repositories"],startForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/start"],stopForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/stop"],stopInOrganization:["POST /orgs/{org}/members/{username}/codespaces/{codespace_name}/stop"],updateForAuthenticatedUser:["PATCH /user/codespaces/{codespace_name}"]},dependabot:{addSelectedRepoToOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}/repositories/{repository_id}"],createOrUpdateOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],deleteOrgSecret:["DELETE /orgs/{org}/dependabot/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],getAlert:["GET /repos/{owner}/{repo}/dependabot/alerts/{alert_number}"],getOrgPublicKey:["GET /orgs/{org}/dependabot/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/dependabot/secrets/{secret_name}"],getRepoPublicKey:["GET /repos/{owner}/{repo}/dependabot/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],listAlertsForEnterprise:["GET /enterprises/{enterprise}/dependabot/alerts"],listAlertsForOrg:["GET /orgs/{org}/dependabot/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/dependabot/alerts"],listOrgSecrets:["GET /orgs/{org}/dependabot/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/dependabot/secrets"],listSelectedReposForOrgSecret:["GET /orgs/{org}/dependabot/secrets/{secret_name}/repositories"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/dependabot/secrets/{secret_name}/repositories/{repository_id}"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}/repositories"],updateAlert:["PATCH /repos/{owner}/{repo}/dependabot/alerts/{alert_number}"]},dependencyGraph:{createRepositorySnapshot:["POST /repos/{owner}/{repo}/dependency-graph/snapshots"],diffRange:["GET /repos/{owner}/{repo}/dependency-graph/compare/{basehead}"]},emojis:{get:["GET /emojis"]},enterpriseAdmin:{addCustomLabelsToSelfHostedRunnerForEnterprise:["POST /enterprises/{enterprise}/actions/runners/{runner_id}/labels"],enableSelectedOrganizationGithubActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/organizations/{org_id}"],listLabelsForSelfHostedRunnerForEnterprise:["GET /enterprises/{enterprise}/actions/runners/{runner_id}/labels"]},gists:{checkIsStarred:["GET /gists/{gist_id}/star"],create:["POST /gists"],createComment:["POST /gists/{gist_id}/comments"],delete:["DELETE /gists/{gist_id}"],deleteComment:["DELETE /gists/{gist_id}/comments/{comment_id}"],fork:["POST /gists/{gist_id}/forks"],get:["GET /gists/{gist_id}"],getComment:["GET /gists/{gist_id}/comments/{comment_id}"],getRevision:["GET /gists/{gist_id}/{sha}"],list:["GET /gists"],listComments:["GET /gists/{gist_id}/comments"],listCommits:["GET /gists/{gist_id}/commits"],listForUser:["GET /users/{username}/gists"],listForks:["GET /gists/{gist_id}/forks"],listPublic:["GET /gists/public"],listStarred:["GET /gists/starred"],star:["PUT /gists/{gist_id}/star"],unstar:["DELETE /gists/{gist_id}/star"],update:["PATCH /gists/{gist_id}"],updateComment:["PATCH /gists/{gist_id}/comments/{comment_id}"]},git:{createBlob:["POST /repos/{owner}/{repo}/git/blobs"],createCommit:["POST /repos/{owner}/{repo}/git/commits"],createRef:["POST /repos/{owner}/{repo}/git/refs"],createTag:["POST /repos/{owner}/{repo}/git/tags"],createTree:["POST /repos/{owner}/{repo}/git/trees"],deleteRef:["DELETE /repos/{owner}/{repo}/git/refs/{ref}"],getBlob:["GET /repos/{owner}/{repo}/git/blobs/{file_sha}"],getCommit:["GET /repos/{owner}/{repo}/git/commits/{commit_sha}"],getRef:["GET /repos/{owner}/{repo}/git/ref/{ref}"],getTag:["GET /repos/{owner}/{repo}/git/tags/{tag_sha}"],getTree:["GET /repos/{owner}/{repo}/git/trees/{tree_sha}"],listMatchingRefs:["GET /repos/{owner}/{repo}/git/matching-refs/{ref}"],updateRef:["PATCH /repos/{owner}/{repo}/git/refs/{ref}"]},gitignore:{getAllTemplates:["GET /gitignore/templates"],getTemplate:["GET /gitignore/templates/{name}"]},interactions:{getRestrictionsForAuthenticatedUser:["GET /user/interaction-limits"],getRestrictionsForOrg:["GET /orgs/{org}/interaction-limits"],getRestrictionsForRepo:["GET /repos/{owner}/{repo}/interaction-limits"],getRestrictionsForYourPublicRepos:["GET /user/interaction-limits",{},{renamed:["interactions","getRestrictionsForAuthenticatedUser"]}],removeRestrictionsForAuthenticatedUser:["DELETE /user/interaction-limits"],removeRestrictionsForOrg:["DELETE /orgs/{org}/interaction-limits"],removeRestrictionsForRepo:["DELETE /repos/{owner}/{repo}/interaction-limits"],removeRestrictionsForYourPublicRepos:["DELETE /user/interaction-limits",{},{renamed:["interactions","removeRestrictionsForAuthenticatedUser"]}],setRestrictionsForAuthenticatedUser:["PUT /user/interaction-limits"],setRestrictionsForOrg:["PUT /orgs/{org}/interaction-limits"],setRestrictionsForRepo:["PUT /repos/{owner}/{repo}/interaction-limits"],setRestrictionsForYourPublicRepos:["PUT /user/interaction-limits",{},{renamed:["interactions","setRestrictionsForAuthenticatedUser"]}]},issues:{addAssignees:["POST /repos/{owner}/{repo}/issues/{issue_number}/assignees"],addLabels:["POST /repos/{owner}/{repo}/issues/{issue_number}/labels"],checkUserCanBeAssigned:["GET /repos/{owner}/{repo}/assignees/{assignee}"],checkUserCanBeAssignedToIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/assignees/{assignee}"],create:["POST /repos/{owner}/{repo}/issues"],createComment:["POST /repos/{owner}/{repo}/issues/{issue_number}/comments"],createLabel:["POST /repos/{owner}/{repo}/labels"],createMilestone:["POST /repos/{owner}/{repo}/milestones"],deleteComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}"],deleteLabel:["DELETE /repos/{owner}/{repo}/labels/{name}"],deleteMilestone:["DELETE /repos/{owner}/{repo}/milestones/{milestone_number}"],get:["GET /repos/{owner}/{repo}/issues/{issue_number}"],getComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}"],getEvent:["GET /repos/{owner}/{repo}/issues/events/{event_id}"],getLabel:["GET /repos/{owner}/{repo}/labels/{name}"],getMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}"],list:["GET /issues"],listAssignees:["GET /repos/{owner}/{repo}/assignees"],listComments:["GET /repos/{owner}/{repo}/issues/{issue_number}/comments"],listCommentsForRepo:["GET /repos/{owner}/{repo}/issues/comments"],listEvents:["GET /repos/{owner}/{repo}/issues/{issue_number}/events"],listEventsForRepo:["GET /repos/{owner}/{repo}/issues/events"],listEventsForTimeline:["GET /repos/{owner}/{repo}/issues/{issue_number}/timeline"],listForAuthenticatedUser:["GET /user/issues"],listForOrg:["GET /orgs/{org}/issues"],listForRepo:["GET /repos/{owner}/{repo}/issues"],listLabelsForMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels"],listLabelsForRepo:["GET /repos/{owner}/{repo}/labels"],listLabelsOnIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/labels"],listMilestones:["GET /repos/{owner}/{repo}/milestones"],lock:["PUT /repos/{owner}/{repo}/issues/{issue_number}/lock"],removeAllLabels:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels"],removeAssignees:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/assignees"],removeLabel:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels/{name}"],setLabels:["PUT /repos/{owner}/{repo}/issues/{issue_number}/labels"],unlock:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/lock"],update:["PATCH /repos/{owner}/{repo}/issues/{issue_number}"],updateComment:["PATCH /repos/{owner}/{repo}/issues/comments/{comment_id}"],updateLabel:["PATCH /repos/{owner}/{repo}/labels/{name}"],updateMilestone:["PATCH /repos/{owner}/{repo}/milestones/{milestone_number}"]},licenses:{get:["GET /licenses/{license}"],getAllCommonlyUsed:["GET /licenses"],getForRepo:["GET /repos/{owner}/{repo}/license"]},markdown:{render:["POST /markdown"],renderRaw:["POST /markdown/raw",{headers:{"content-type":"text/plain; charset=utf-8"}}]},meta:{get:["GET /meta"],getAllVersions:["GET /versions"],getOctocat:["GET /octocat"],getZen:["GET /zen"],root:["GET /"]},migrations:{cancelImport:["DELETE /repos/{owner}/{repo}/import"],deleteArchiveForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/archive"],deleteArchiveForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/archive"],downloadArchiveForOrg:["GET /orgs/{org}/migrations/{migration_id}/archive"],getArchiveForAuthenticatedUser:["GET /user/migrations/{migration_id}/archive"],getCommitAuthors:["GET /repos/{owner}/{repo}/import/authors"],getImportStatus:["GET /repos/{owner}/{repo}/import"],getLargeFiles:["GET /repos/{owner}/{repo}/import/large_files"],getStatusForAuthenticatedUser:["GET /user/migrations/{migration_id}"],getStatusForOrg:["GET /orgs/{org}/migrations/{migration_id}"],listForAuthenticatedUser:["GET /user/migrations"],listForOrg:["GET /orgs/{org}/migrations"],listReposForAuthenticatedUser:["GET /user/migrations/{migration_id}/repositories"],listReposForOrg:["GET /orgs/{org}/migrations/{migration_id}/repositories"],listReposForUser:["GET /user/migrations/{migration_id}/repositories",{},{renamed:["migrations","listReposForAuthenticatedUser"]}],mapCommitAuthor:["PATCH /repos/{owner}/{repo}/import/authors/{author_id}"],setLfsPreference:["PATCH /repos/{owner}/{repo}/import/lfs"],startForAuthenticatedUser:["POST /user/migrations"],startForOrg:["POST /orgs/{org}/migrations"],startImport:["PUT /repos/{owner}/{repo}/import"],unlockRepoForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/repos/{repo_name}/lock"],unlockRepoForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/repos/{repo_name}/lock"],updateImport:["PATCH /repos/{owner}/{repo}/import"]},orgs:{addSecurityManagerTeam:["PUT /orgs/{org}/security-managers/teams/{team_slug}"],blockUser:["PUT /orgs/{org}/blocks/{username}"],cancelInvitation:["DELETE /orgs/{org}/invitations/{invitation_id}"],checkBlockedUser:["GET /orgs/{org}/blocks/{username}"],checkMembershipForUser:["GET /orgs/{org}/members/{username}"],checkPublicMembershipForUser:["GET /orgs/{org}/public_members/{username}"],convertMemberToOutsideCollaborator:["PUT /orgs/{org}/outside_collaborators/{username}"],createInvitation:["POST /orgs/{org}/invitations"],createWebhook:["POST /orgs/{org}/hooks"],deleteWebhook:["DELETE /orgs/{org}/hooks/{hook_id}"],enableOrDisableSecurityProductOnAllOrgRepos:["POST /orgs/{org}/{security_product}/{enablement}"],get:["GET /orgs/{org}"],getMembershipForAuthenticatedUser:["GET /user/memberships/orgs/{org}"],getMembershipForUser:["GET /orgs/{org}/memberships/{username}"],getWebhook:["GET /orgs/{org}/hooks/{hook_id}"],getWebhookConfigForOrg:["GET /orgs/{org}/hooks/{hook_id}/config"],getWebhookDelivery:["GET /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}"],list:["GET /organizations"],listAppInstallations:["GET /orgs/{org}/installations"],listBlockedUsers:["GET /orgs/{org}/blocks"],listFailedInvitations:["GET /orgs/{org}/failed_invitations"],listForAuthenticatedUser:["GET /user/orgs"],listForUser:["GET /users/{username}/orgs"],listInvitationTeams:["GET /orgs/{org}/invitations/{invitation_id}/teams"],listMembers:["GET /orgs/{org}/members"],listMembershipsForAuthenticatedUser:["GET /user/memberships/orgs"],listOutsideCollaborators:["GET /orgs/{org}/outside_collaborators"],listPendingInvitations:["GET /orgs/{org}/invitations"],listPublicMembers:["GET /orgs/{org}/public_members"],listSecurityManagerTeams:["GET /orgs/{org}/security-managers"],listWebhookDeliveries:["GET /orgs/{org}/hooks/{hook_id}/deliveries"],listWebhooks:["GET /orgs/{org}/hooks"],pingWebhook:["POST /orgs/{org}/hooks/{hook_id}/pings"],redeliverWebhookDelivery:["POST /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}/attempts"],removeMember:["DELETE /orgs/{org}/members/{username}"],removeMembershipForUser:["DELETE /orgs/{org}/memberships/{username}"],removeOutsideCollaborator:["DELETE /orgs/{org}/outside_collaborators/{username}"],removePublicMembershipForAuthenticatedUser:["DELETE /orgs/{org}/public_members/{username}"],removeSecurityManagerTeam:["DELETE /orgs/{org}/security-managers/teams/{team_slug}"],setMembershipForUser:["PUT /orgs/{org}/memberships/{username}"],setPublicMembershipForAuthenticatedUser:["PUT /orgs/{org}/public_members/{username}"],unblockUser:["DELETE /orgs/{org}/blocks/{username}"],update:["PATCH /orgs/{org}"],updateMembershipForAuthenticatedUser:["PATCH /user/memberships/orgs/{org}"],updateWebhook:["PATCH /orgs/{org}/hooks/{hook_id}"],updateWebhookConfigForOrg:["PATCH /orgs/{org}/hooks/{hook_id}/config"]},packages:{deletePackageForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}"],deletePackageForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}"],deletePackageForUser:["DELETE /users/{username}/packages/{package_type}/{package_name}"],deletePackageVersionForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForUser:["DELETE /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getAllPackageVersionsForAPackageOwnedByAnOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByOrg"]}],getAllPackageVersionsForAPackageOwnedByTheAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByAuthenticatedUser"]}],getAllPackageVersionsForPackageOwnedByAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions"],getPackageForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}"],getPackageForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}"],getPackageForUser:["GET /users/{username}/packages/{package_type}/{package_name}"],getPackageVersionForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],listPackagesForAuthenticatedUser:["GET /user/packages"],listPackagesForOrganization:["GET /orgs/{org}/packages"],listPackagesForUser:["GET /users/{username}/packages"],restorePackageForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForUser:["POST /users/{username}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageVersionForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForUser:["POST /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"]},projects:{addCollaborator:["PUT /projects/{project_id}/collaborators/{username}"],createCard:["POST /projects/columns/{column_id}/cards"],createColumn:["POST /projects/{project_id}/columns"],createForAuthenticatedUser:["POST /user/projects"],createForOrg:["POST /orgs/{org}/projects"],createForRepo:["POST /repos/{owner}/{repo}/projects"],delete:["DELETE /projects/{project_id}"],deleteCard:["DELETE /projects/columns/cards/{card_id}"],deleteColumn:["DELETE /projects/columns/{column_id}"],get:["GET /projects/{project_id}"],getCard:["GET /projects/columns/cards/{card_id}"],getColumn:["GET /projects/columns/{column_id}"],getPermissionForUser:["GET /projects/{project_id}/collaborators/{username}/permission"],listCards:["GET /projects/columns/{column_id}/cards"],listCollaborators:["GET /projects/{project_id}/collaborators"],listColumns:["GET /projects/{project_id}/columns"],listForOrg:["GET /orgs/{org}/projects"],listForRepo:["GET /repos/{owner}/{repo}/projects"],listForUser:["GET /users/{username}/projects"],moveCard:["POST /projects/columns/cards/{card_id}/moves"],moveColumn:["POST /projects/columns/{column_id}/moves"],removeCollaborator:["DELETE /projects/{project_id}/collaborators/{username}"],update:["PATCH /projects/{project_id}"],updateCard:["PATCH /projects/columns/cards/{card_id}"],updateColumn:["PATCH /projects/columns/{column_id}"]},pulls:{checkIfMerged:["GET /repos/{owner}/{repo}/pulls/{pull_number}/merge"],create:["POST /repos/{owner}/{repo}/pulls"],createReplyForReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments/{comment_id}/replies"],createReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],createReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments"],deletePendingReview:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],deleteReviewComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}"],dismissReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/dismissals"],get:["GET /repos/{owner}/{repo}/pulls/{pull_number}"],getReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],getReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}"],list:["GET /repos/{owner}/{repo}/pulls"],listCommentsForReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments"],listCommits:["GET /repos/{owner}/{repo}/pulls/{pull_number}/commits"],listFiles:["GET /repos/{owner}/{repo}/pulls/{pull_number}/files"],listRequestedReviewers:["GET /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],listReviewComments:["GET /repos/{owner}/{repo}/pulls/{pull_number}/comments"],listReviewCommentsForRepo:["GET /repos/{owner}/{repo}/pulls/comments"],listReviews:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],merge:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/merge"],removeRequestedReviewers:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],requestReviewers:["POST /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],submitReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/events"],update:["PATCH /repos/{owner}/{repo}/pulls/{pull_number}"],updateBranch:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/update-branch"],updateReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],updateReviewComment:["PATCH /repos/{owner}/{repo}/pulls/comments/{comment_id}"]},rateLimit:{get:["GET /rate_limit"]},reactions:{createForCommitComment:["POST /repos/{owner}/{repo}/comments/{comment_id}/reactions"],createForIssue:["POST /repos/{owner}/{repo}/issues/{issue_number}/reactions"],createForIssueComment:["POST /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions"],createForPullRequestReviewComment:["POST /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions"],createForRelease:["POST /repos/{owner}/{repo}/releases/{release_id}/reactions"],createForTeamDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions"],createForTeamDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions"],deleteForCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}/reactions/{reaction_id}"],deleteForIssue:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/reactions/{reaction_id}"],deleteForIssueComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions/{reaction_id}"],deleteForPullRequestComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions/{reaction_id}"],deleteForRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}/reactions/{reaction_id}"],deleteForTeamDiscussion:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions/{reaction_id}"],deleteForTeamDiscussionComment:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions/{reaction_id}"],listForCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}/reactions"],listForIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/reactions"],listForIssueComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions"],listForPullRequestReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions"],listForRelease:["GET /repos/{owner}/{repo}/releases/{release_id}/reactions"],listForTeamDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions"],listForTeamDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions"]},repos:{acceptInvitation:["PATCH /user/repository_invitations/{invitation_id}",{},{renamed:["repos","acceptInvitationForAuthenticatedUser"]}],acceptInvitationForAuthenticatedUser:["PATCH /user/repository_invitations/{invitation_id}"],addAppAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],addCollaborator:["PUT /repos/{owner}/{repo}/collaborators/{username}"],addStatusCheckContexts:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],addTeamAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],addUserAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],checkCollaborator:["GET /repos/{owner}/{repo}/collaborators/{username}"],checkVulnerabilityAlerts:["GET /repos/{owner}/{repo}/vulnerability-alerts"],codeownersErrors:["GET /repos/{owner}/{repo}/codeowners/errors"],compareCommits:["GET /repos/{owner}/{repo}/compare/{base}...{head}"],compareCommitsWithBasehead:["GET /repos/{owner}/{repo}/compare/{basehead}"],createAutolink:["POST /repos/{owner}/{repo}/autolinks"],createCommitComment:["POST /repos/{owner}/{repo}/commits/{commit_sha}/comments"],createCommitSignatureProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],createCommitStatus:["POST /repos/{owner}/{repo}/statuses/{sha}"],createDeployKey:["POST /repos/{owner}/{repo}/keys"],createDeployment:["POST /repos/{owner}/{repo}/deployments"],createDeploymentBranchPolicy:["POST /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies"],createDeploymentStatus:["POST /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],createDispatchEvent:["POST /repos/{owner}/{repo}/dispatches"],createForAuthenticatedUser:["POST /user/repos"],createFork:["POST /repos/{owner}/{repo}/forks"],createInOrg:["POST /orgs/{org}/repos"],createOrUpdateEnvironment:["PUT /repos/{owner}/{repo}/environments/{environment_name}"],createOrUpdateFileContents:["PUT /repos/{owner}/{repo}/contents/{path}"],createPagesDeployment:["POST /repos/{owner}/{repo}/pages/deployment"],createPagesSite:["POST /repos/{owner}/{repo}/pages"],createRelease:["POST /repos/{owner}/{repo}/releases"],createTagProtection:["POST /repos/{owner}/{repo}/tags/protection"],createUsingTemplate:["POST /repos/{template_owner}/{template_repo}/generate"],createWebhook:["POST /repos/{owner}/{repo}/hooks"],declineInvitation:["DELETE /user/repository_invitations/{invitation_id}",{},{renamed:["repos","declineInvitationForAuthenticatedUser"]}],declineInvitationForAuthenticatedUser:["DELETE /user/repository_invitations/{invitation_id}"],delete:["DELETE /repos/{owner}/{repo}"],deleteAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],deleteAdminBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],deleteAnEnvironment:["DELETE /repos/{owner}/{repo}/environments/{environment_name}"],deleteAutolink:["DELETE /repos/{owner}/{repo}/autolinks/{autolink_id}"],deleteBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection"],deleteCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}"],deleteCommitSignatureProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],deleteDeployKey:["DELETE /repos/{owner}/{repo}/keys/{key_id}"],deleteDeployment:["DELETE /repos/{owner}/{repo}/deployments/{deployment_id}"],deleteDeploymentBranchPolicy:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}"],deleteFile:["DELETE /repos/{owner}/{repo}/contents/{path}"],deleteInvitation:["DELETE /repos/{owner}/{repo}/invitations/{invitation_id}"],deletePagesSite:["DELETE /repos/{owner}/{repo}/pages"],deletePullRequestReviewProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],deleteRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}"],deleteReleaseAsset:["DELETE /repos/{owner}/{repo}/releases/assets/{asset_id}"],deleteTagProtection:["DELETE /repos/{owner}/{repo}/tags/protection/{tag_protection_id}"],deleteWebhook:["DELETE /repos/{owner}/{repo}/hooks/{hook_id}"],disableAutomatedSecurityFixes:["DELETE /repos/{owner}/{repo}/automated-security-fixes"],disableLfsForRepo:["DELETE /repos/{owner}/{repo}/lfs"],disableVulnerabilityAlerts:["DELETE /repos/{owner}/{repo}/vulnerability-alerts"],downloadArchive:["GET /repos/{owner}/{repo}/zipball/{ref}",{},{renamed:["repos","downloadZipballArchive"]}],downloadTarballArchive:["GET /repos/{owner}/{repo}/tarball/{ref}"],downloadZipballArchive:["GET /repos/{owner}/{repo}/zipball/{ref}"],enableAutomatedSecurityFixes:["PUT /repos/{owner}/{repo}/automated-security-fixes"],enableLfsForRepo:["PUT /repos/{owner}/{repo}/lfs"],enableVulnerabilityAlerts:["PUT /repos/{owner}/{repo}/vulnerability-alerts"],generateReleaseNotes:["POST /repos/{owner}/{repo}/releases/generate-notes"],get:["GET /repos/{owner}/{repo}"],getAccessRestrictions:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],getAdminBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],getAllEnvironments:["GET /repos/{owner}/{repo}/environments"],getAllStatusCheckContexts:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts"],getAllTopics:["GET /repos/{owner}/{repo}/topics"],getAppsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps"],getAutolink:["GET /repos/{owner}/{repo}/autolinks/{autolink_id}"],getBranch:["GET /repos/{owner}/{repo}/branches/{branch}"],getBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection"],getClones:["GET /repos/{owner}/{repo}/traffic/clones"],getCodeFrequencyStats:["GET /repos/{owner}/{repo}/stats/code_frequency"],getCollaboratorPermissionLevel:["GET /repos/{owner}/{repo}/collaborators/{username}/permission"],getCombinedStatusForRef:["GET /repos/{owner}/{repo}/commits/{ref}/status"],getCommit:["GET /repos/{owner}/{repo}/commits/{ref}"],getCommitActivityStats:["GET /repos/{owner}/{repo}/stats/commit_activity"],getCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}"],getCommitSignatureProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],getCommunityProfileMetrics:["GET /repos/{owner}/{repo}/community/profile"],getContent:["GET /repos/{owner}/{repo}/contents/{path}"],getContributorsStats:["GET /repos/{owner}/{repo}/stats/contributors"],getDeployKey:["GET /repos/{owner}/{repo}/keys/{key_id}"],getDeployment:["GET /repos/{owner}/{repo}/deployments/{deployment_id}"],getDeploymentBranchPolicy:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}"],getDeploymentStatus:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses/{status_id}"],getEnvironment:["GET /repos/{owner}/{repo}/environments/{environment_name}"],getLatestPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/latest"],getLatestRelease:["GET /repos/{owner}/{repo}/releases/latest"],getPages:["GET /repos/{owner}/{repo}/pages"],getPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/{build_id}"],getPagesHealthCheck:["GET /repos/{owner}/{repo}/pages/health"],getParticipationStats:["GET /repos/{owner}/{repo}/stats/participation"],getPullRequestReviewProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],getPunchCardStats:["GET /repos/{owner}/{repo}/stats/punch_card"],getReadme:["GET /repos/{owner}/{repo}/readme"],getReadmeInDirectory:["GET /repos/{owner}/{repo}/readme/{dir}"],getRelease:["GET /repos/{owner}/{repo}/releases/{release_id}"],getReleaseAsset:["GET /repos/{owner}/{repo}/releases/assets/{asset_id}"],getReleaseByTag:["GET /repos/{owner}/{repo}/releases/tags/{tag}"],getStatusChecksProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],getTeamsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams"],getTopPaths:["GET /repos/{owner}/{repo}/traffic/popular/paths"],getTopReferrers:["GET /repos/{owner}/{repo}/traffic/popular/referrers"],getUsersWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users"],getViews:["GET /repos/{owner}/{repo}/traffic/views"],getWebhook:["GET /repos/{owner}/{repo}/hooks/{hook_id}"],getWebhookConfigForRepo:["GET /repos/{owner}/{repo}/hooks/{hook_id}/config"],getWebhookDelivery:["GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}"],listAutolinks:["GET /repos/{owner}/{repo}/autolinks"],listBranches:["GET /repos/{owner}/{repo}/branches"],listBranchesForHeadCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/branches-where-head"],listCollaborators:["GET /repos/{owner}/{repo}/collaborators"],listCommentsForCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/comments"],listCommitCommentsForRepo:["GET /repos/{owner}/{repo}/comments"],listCommitStatusesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/statuses"],listCommits:["GET /repos/{owner}/{repo}/commits"],listContributors:["GET /repos/{owner}/{repo}/contributors"],listDeployKeys:["GET /repos/{owner}/{repo}/keys"],listDeploymentBranchPolicies:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies"],listDeploymentStatuses:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],listDeployments:["GET /repos/{owner}/{repo}/deployments"],listForAuthenticatedUser:["GET /user/repos"],listForOrg:["GET /orgs/{org}/repos"],listForUser:["GET /users/{username}/repos"],listForks:["GET /repos/{owner}/{repo}/forks"],listInvitations:["GET /repos/{owner}/{repo}/invitations"],listInvitationsForAuthenticatedUser:["GET /user/repository_invitations"],listLanguages:["GET /repos/{owner}/{repo}/languages"],listPagesBuilds:["GET /repos/{owner}/{repo}/pages/builds"],listPublic:["GET /repositories"],listPullRequestsAssociatedWithCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls"],listReleaseAssets:["GET /repos/{owner}/{repo}/releases/{release_id}/assets"],listReleases:["GET /repos/{owner}/{repo}/releases"],listTagProtection:["GET /repos/{owner}/{repo}/tags/protection"],listTags:["GET /repos/{owner}/{repo}/tags"],listTeams:["GET /repos/{owner}/{repo}/teams"],listWebhookDeliveries:["GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries"],listWebhooks:["GET /repos/{owner}/{repo}/hooks"],merge:["POST /repos/{owner}/{repo}/merges"],mergeUpstream:["POST /repos/{owner}/{repo}/merge-upstream"],pingWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/pings"],redeliverWebhookDelivery:["POST /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}/attempts"],removeAppAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],removeCollaborator:["DELETE /repos/{owner}/{repo}/collaborators/{username}"],removeStatusCheckContexts:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],removeStatusCheckProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],removeTeamAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],removeUserAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],renameBranch:["POST /repos/{owner}/{repo}/branches/{branch}/rename"],replaceAllTopics:["PUT /repos/{owner}/{repo}/topics"],requestPagesBuild:["POST /repos/{owner}/{repo}/pages/builds"],setAdminBranchProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],setAppAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],setStatusCheckContexts:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],setTeamAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],setUserAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],testPushWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/tests"],transfer:["POST /repos/{owner}/{repo}/transfer"],update:["PATCH /repos/{owner}/{repo}"],updateBranchProtection:["PUT /repos/{owner}/{repo}/branches/{branch}/protection"],updateCommitComment:["PATCH /repos/{owner}/{repo}/comments/{comment_id}"],updateDeploymentBranchPolicy:["PUT /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}"],updateInformationAboutPagesSite:["PUT /repos/{owner}/{repo}/pages"],updateInvitation:["PATCH /repos/{owner}/{repo}/invitations/{invitation_id}"],updatePullRequestReviewProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],updateRelease:["PATCH /repos/{owner}/{repo}/releases/{release_id}"],updateReleaseAsset:["PATCH /repos/{owner}/{repo}/releases/assets/{asset_id}"],updateStatusCheckPotection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks",{},{renamed:["repos","updateStatusCheckProtection"]}],updateStatusCheckProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],updateWebhook:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}"],updateWebhookConfigForRepo:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}/config"],uploadReleaseAsset:["POST /repos/{owner}/{repo}/releases/{release_id}/assets{?name,label}",{baseUrl:"https://uploads.github.com"}]},search:{code:["GET /search/code"],commits:["GET /search/commits"],issuesAndPullRequests:["GET /search/issues"],labels:["GET /search/labels"],repos:["GET /search/repositories"],topics:["GET /search/topics"],users:["GET /search/users"]},secretScanning:{getAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"],getSecurityAnalysisSettingsForEnterprise:["GET /enterprises/{enterprise}/code_security_and_analysis"],listAlertsForEnterprise:["GET /enterprises/{enterprise}/secret-scanning/alerts"],listAlertsForOrg:["GET /orgs/{org}/secret-scanning/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/secret-scanning/alerts"],listLocationsForAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}/locations"],patchSecurityAnalysisSettingsForEnterprise:["PATCH /enterprises/{enterprise}/code_security_and_analysis"],postSecurityProductEnablementForEnterprise:["POST /enterprises/{enterprise}/{security_product}/{enablement}"],updateAlert:["PATCH /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"]},teams:{addOrUpdateMembershipForUserInOrg:["PUT /orgs/{org}/teams/{team_slug}/memberships/{username}"],addOrUpdateProjectPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/projects/{project_id}"],addOrUpdateRepoPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],checkPermissionsForProjectInOrg:["GET /orgs/{org}/teams/{team_slug}/projects/{project_id}"],checkPermissionsForRepoInOrg:["GET /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],create:["POST /orgs/{org}/teams"],createDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],createDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions"],deleteDiscussionCommentInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],deleteDiscussionInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],deleteInOrg:["DELETE /orgs/{org}/teams/{team_slug}"],getByName:["GET /orgs/{org}/teams/{team_slug}"],getDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],getDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],getMembershipForUserInOrg:["GET /orgs/{org}/teams/{team_slug}/memberships/{username}"],list:["GET /orgs/{org}/teams"],listChildInOrg:["GET /orgs/{org}/teams/{team_slug}/teams"],listDiscussionCommentsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],listDiscussionsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions"],listForAuthenticatedUser:["GET /user/teams"],listMembersInOrg:["GET /orgs/{org}/teams/{team_slug}/members"],listPendingInvitationsInOrg:["GET /orgs/{org}/teams/{team_slug}/invitations"],listProjectsInOrg:["GET /orgs/{org}/teams/{team_slug}/projects"],listReposInOrg:["GET /orgs/{org}/teams/{team_slug}/repos"],removeMembershipForUserInOrg:["DELETE /orgs/{org}/teams/{team_slug}/memberships/{username}"],removeProjectInOrg:["DELETE /orgs/{org}/teams/{team_slug}/projects/{project_id}"],removeRepoInOrg:["DELETE /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],updateDiscussionCommentInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],updateDiscussionInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],updateInOrg:["PATCH /orgs/{org}/teams/{team_slug}"]},users:{addEmailForAuthenticated:["POST /user/emails",{},{renamed:["users","addEmailForAuthenticatedUser"]}],addEmailForAuthenticatedUser:["POST /user/emails"],block:["PUT /user/blocks/{username}"],checkBlocked:["GET /user/blocks/{username}"],checkFollowingForUser:["GET /users/{username}/following/{target_user}"],checkPersonIsFollowedByAuthenticated:["GET /user/following/{username}"],createGpgKeyForAuthenticated:["POST /user/gpg_keys",{},{renamed:["users","createGpgKeyForAuthenticatedUser"]}],createGpgKeyForAuthenticatedUser:["POST /user/gpg_keys"],createPublicSshKeyForAuthenticated:["POST /user/keys",{},{renamed:["users","createPublicSshKeyForAuthenticatedUser"]}],createPublicSshKeyForAuthenticatedUser:["POST /user/keys"],createSshSigningKeyForAuthenticatedUser:["POST /user/ssh_signing_keys"],deleteEmailForAuthenticated:["DELETE /user/emails",{},{renamed:["users","deleteEmailForAuthenticatedUser"]}],deleteEmailForAuthenticatedUser:["DELETE /user/emails"],deleteGpgKeyForAuthenticated:["DELETE /user/gpg_keys/{gpg_key_id}",{},{renamed:["users","deleteGpgKeyForAuthenticatedUser"]}],deleteGpgKeyForAuthenticatedUser:["DELETE /user/gpg_keys/{gpg_key_id}"],deletePublicSshKeyForAuthenticated:["DELETE /user/keys/{key_id}",{},{renamed:["users","deletePublicSshKeyForAuthenticatedUser"]}],deletePublicSshKeyForAuthenticatedUser:["DELETE /user/keys/{key_id}"],deleteSshSigningKeyForAuthenticatedUser:["DELETE /user/ssh_signing_keys/{ssh_signing_key_id}"],follow:["PUT /user/following/{username}"],getAuthenticated:["GET /user"],getByUsername:["GET /users/{username}"],getContextForUser:["GET /users/{username}/hovercard"],getGpgKeyForAuthenticated:["GET /user/gpg_keys/{gpg_key_id}",{},{renamed:["users","getGpgKeyForAuthenticatedUser"]}],getGpgKeyForAuthenticatedUser:["GET /user/gpg_keys/{gpg_key_id}"],getPublicSshKeyForAuthenticated:["GET /user/keys/{key_id}",{},{renamed:["users","getPublicSshKeyForAuthenticatedUser"]}],getPublicSshKeyForAuthenticatedUser:["GET /user/keys/{key_id}"],getSshSigningKeyForAuthenticatedUser:["GET /user/ssh_signing_keys/{ssh_signing_key_id}"],list:["GET /users"],listBlockedByAuthenticated:["GET /user/blocks",{},{renamed:["users","listBlockedByAuthenticatedUser"]}],listBlockedByAuthenticatedUser:["GET /user/blocks"],listEmailsForAuthenticated:["GET /user/emails",{},{renamed:["users","listEmailsForAuthenticatedUser"]}],listEmailsForAuthenticatedUser:["GET /user/emails"],listFollowedByAuthenticated:["GET /user/following",{},{renamed:["users","listFollowedByAuthenticatedUser"]}],listFollowedByAuthenticatedUser:["GET /user/following"],listFollowersForAuthenticatedUser:["GET /user/followers"],listFollowersForUser:["GET /users/{username}/followers"],listFollowingForUser:["GET /users/{username}/following"],listGpgKeysForAuthenticated:["GET /user/gpg_keys",{},{renamed:["users","listGpgKeysForAuthenticatedUser"]}],listGpgKeysForAuthenticatedUser:["GET /user/gpg_keys"],listGpgKeysForUser:["GET /users/{username}/gpg_keys"],listPublicEmailsForAuthenticated:["GET /user/public_emails",{},{renamed:["users","listPublicEmailsForAuthenticatedUser"]}],listPublicEmailsForAuthenticatedUser:["GET /user/public_emails"],listPublicKeysForUser:["GET /users/{username}/keys"],listPublicSshKeysForAuthenticated:["GET /user/keys",{},{renamed:["users","listPublicSshKeysForAuthenticatedUser"]}],listPublicSshKeysForAuthenticatedUser:["GET /user/keys"],listSshSigningKeysForAuthenticatedUser:["GET /user/ssh_signing_keys"],listSshSigningKeysForUser:["GET /users/{username}/ssh_signing_keys"],setPrimaryEmailVisibilityForAuthenticated:["PATCH /user/email/visibility",{},{renamed:["users","setPrimaryEmailVisibilityForAuthenticatedUser"]}],setPrimaryEmailVisibilityForAuthenticatedUser:["PATCH /user/email/visibility"],unblock:["DELETE /user/blocks/{username}"],unfollow:["DELETE /user/following/{username}"],updateAuthenticated:["PATCH /user"]}},g1e="7.0.1";function _1e(t,e){const n={};for(const[s,i]of Object.entries(e))for(const[r,o]of Object.entries(i)){const[a,l,c]=o,[u,d]=a.split(/ /),f=Object.assign({method:u,url:d},l);n[s]||(n[s]={});const h=n[s];if(c){h[r]=y1e(t,s,r,f,c);continue}h[r]=t.request.defaults(f)}return n}function y1e(t,e,n,s,i){const r=t.request.defaults(s);function o(...a){let l=r.endpoint.merge(...a);if(i.mapToData)return l=Object.assign({},l,{data:l[i.mapToData],[i.mapToData]:void 0}),r(l);if(i.renamed){const[c,u]=i.renamed;t.log.warn(`octokit.${e}.${n}() has been renamed to octokit.${c}.${u}()`)}if(i.deprecated&&t.log.warn(i.deprecated),i.renamedParameters){const c=r.endpoint.merge(...a);for(const[u,d]of Object.entries(i.renamedParameters))u in c&&(t.log.warn(`"${u}" parameter is deprecated for "octokit.${e}.${n}()". Use "${d}" instead`),d in c||(c[d]=c[u]),delete c[u]);return r(c)}return r(...a)}return Object.assign(o,r)}function J6(t){const e=_1e(t,m1e);return{...e,rest:e}}J6.VERSION=g1e;const b1e="19.0.7",v1e=Jv.plugin(Y6,J6,Z6).defaults({userAgent:`octokit-rest.js/${b1e}`}),af=15,yy=30,by=19,w1e=29,wm=256,e2=wm+1+w1e,wE=2*e2+1,Gu=256,x1e=7,xE=16,SE=17,EE=18,G_=8*2,xm=-1,S1e=1,Gh=2,E1e=0,Xl=0,TE=1,T1e=3,ds=4,li=0,Q6=1,Hh=2,di=-2,M1e=-3,Vl=-5;function Kg(t){return Xg(t.map(([e,n])=>new Array(e).fill(n,0,e)))}function Xg(t){return t.reduce((e,n)=>e.concat(Array.isArray(n)?Xg(n):n),[])}const ME=[0,1,2,3].concat(...Kg([[2,4],[2,5],[4,6],[4,7],[8,8],[8,9],[16,10],[16,11],[32,12],[32,13],[64,14],[64,15],[2,0],[1,16],[1,17],[2,18],[2,19],[4,20],[4,21],[8,22],[8,23],[16,24],[16,25],[32,26],[32,27],[64,28],[64,29]]));function qt(){const t=this;function e(i){const r=t.dyn_tree,o=t.stat_desc.static_tree,a=t.stat_desc.extra_bits,l=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,d,f,h,_,p,m=0;for(h=0;h<=af;h++)i.bl_count[h]=0;for(r[i.heap[i.heap_max]*2+1]=0,u=i.heap_max+1;u<wE;u++)d=i.heap[u],h=r[r[d*2+1]*2+1]+1,h>c&&(h=c,m++),r[d*2+1]=h,!(d>t.max_code)&&(i.bl_count[h]++,_=0,d>=l&&(_=a[d-l]),p=r[d*2],i.opt_len+=p*(h+_),o&&(i.static_len+=p*(o[d*2+1]+_)));if(m!==0){do{for(h=c-1;i.bl_count[h]===0;)h--;i.bl_count[h]--,i.bl_count[h+1]+=2,i.bl_count[c]--,m-=2}while(m>0);for(h=c;h!==0;h--)for(d=i.bl_count[h];d!==0;)f=i.heap[--u],!(f>t.max_code)&&(r[f*2+1]!=h&&(i.opt_len+=(h-r[f*2+1])*r[f*2],r[f*2+1]=h),d--)}}function n(i,r){let o=0;do o|=i&1,i>>>=1,o<<=1;while(--r>0);return o>>>1}function s(i,r,o){const a=[];let l=0,c,u,d;for(c=1;c<=af;c++)a[c]=l=l+o[c-1]<<1;for(u=0;u<=r;u++)d=i[u*2+1],d!==0&&(i[u*2]=n(a[d]++,d))}t.build_tree=function(i){const r=t.dyn_tree,o=t.stat_desc.static_tree,a=t.stat_desc.elems;let l,c,u=-1,d;for(i.heap_len=0,i.heap_max=wE,l=0;l<a;l++)r[l*2]!==0?(i.heap[++i.heap_len]=u=l,i.depth[l]=0):r[l*2+1]=0;for(;i.heap_len<2;)d=i.heap[++i.heap_len]=u<2?++u:0,r[d*2]=1,i.depth[d]=0,i.opt_len--,o&&(i.static_len-=o[d*2+1]);for(t.max_code=u,l=Math.floor(i.heap_len/2);l>=1;l--)i.pqdownheap(r,l);d=a;do l=i.heap[1],i.heap[1]=i.heap[i.heap_len--],i.pqdownheap(r,1),c=i.heap[1],i.heap[--i.heap_max]=l,i.heap[--i.heap_max]=c,r[d*2]=r[l*2]+r[c*2],i.depth[d]=Math.max(i.depth[l],i.depth[c])+1,r[l*2+1]=r[c*2+1]=d,i.heap[1]=d++,i.pqdownheap(r,1);while(i.heap_len>=2);i.heap[--i.heap_max]=i.heap[1],e(i),s(r,t.max_code,i.bl_count)}}qt._length_code=[0,1,2,3,4,5,6,7].concat(...Kg([[2,8],[2,9],[2,10],[2,11],[4,12],[4,13],[4,14],[4,15],[8,16],[8,17],[8,18],[8,19],[16,20],[16,21],[16,22],[16,23],[32,24],[32,25],[32,26],[31,27],[1,28]]));qt.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0];qt.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576];qt.d_code=function(t){return t<256?ME[t]:ME[256+(t>>>7)]};qt.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];qt.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];qt.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7];qt.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function In(t,e,n,s,i){const r=this;r.static_tree=t,r.extra_bits=e,r.extra_base=n,r.elems=s,r.max_length=i}const A1e=[12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,19,275,147,403,83,339,211,467,51,307,179,435,115,371,243,499,11,267,139,395,75,331,203,459,43,299,171,427,107,363,235,491,27,283,155,411,91,347,219,475,59,315,187,443,123,379,251,507,7,263,135,391,71,327,199,455,39,295,167,423,103,359,231,487,23,279,151,407,87,343,215,471,55,311,183,439,119,375,247,503,15,271,143,399,79,335,207,463,47,303,175,431,111,367,239,495,31,287,159,415,95,351,223,479,63,319,191,447,127,383,255,511,0,64,32,96,16,80,48,112,8,72,40,104,24,88,56,120,4,68,36,100,20,84,52,116,3,131,67,195,35,163,99,227],k1e=Kg([[144,8],[112,9],[24,7],[8,8]]);In.static_ltree=Xg(A1e.map((t,e)=>[t,k1e[e]]));const R1e=[0,16,8,24,4,20,12,28,2,18,10,26,6,22,14,30,1,17,9,25,5,21,13,29,3,19,11,27,7,23],C1e=Kg([[30,5]]);In.static_dtree=Xg(R1e.map((t,e)=>[t,C1e[e]]));In.static_l_desc=new In(In.static_ltree,qt.extra_lbits,wm+1,e2,af);In.static_d_desc=new In(In.static_dtree,qt.extra_dbits,0,yy,af);In.static_bl_desc=new In(null,qt.extra_blbits,0,by,x1e);const O1e=9,P1e=8;function Ni(t,e,n,s,i){const r=this;r.good_length=t,r.max_lazy=e,r.nice_length=n,r.max_chain=s,r.func=i}const ek=0,Op=1,pa=2,ri=[new Ni(0,0,0,0,ek),new Ni(4,4,8,4,Op),new Ni(4,5,16,8,Op),new Ni(4,6,32,32,Op),new Ni(4,4,16,16,pa),new Ni(8,16,32,32,pa),new Ni(8,16,128,128,pa),new Ni(8,32,128,256,pa),new Ni(32,128,258,1024,pa),new Ni(32,258,258,4096,pa)],Vh=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],Us=0,Wh=1,Hu=2,jh=3,L1e=32,H_=42,qh=113,Vu=666,V_=8,I1e=0,W_=1,D1e=2,tn=3,Pp=258,Es=Pp+tn+1;function AE(t,e,n,s){const i=t[e*2],r=t[n*2];return i<r||i==r&&s[e]<=s[n]}function F1e(){const t=this;let e,n,s,i,r,o,a,l,c,u,d,f,h,_,p,m,y,b,v,w,S,x,T,E,M,C,A,R,$,F,D,I,B;const W=new qt,Y=new qt,j=new qt;t.depth=[];let pe,O,G,te,H,z;t.bl_count=[],t.heap=[],D=[],I=[],B=[];function ge(){c=2*r,d[h-1]=0;for(let K=0;K<h-1;K++)d[K]=0;C=ri[A].max_lazy,$=ri[A].good_length,F=ri[A].nice_length,M=ri[A].max_chain,S=0,y=0,T=0,b=E=tn-1,w=0,f=0}function ue(){let K;for(K=0;K<e2;K++)D[K*2]=0;for(K=0;K<yy;K++)I[K*2]=0;for(K=0;K<by;K++)B[K*2]=0;D[Gu*2]=1,t.opt_len=t.static_len=0,O=G=0}function ve(){W.dyn_tree=D,W.stat_desc=In.static_l_desc,Y.dyn_tree=I,Y.stat_desc=In.static_d_desc,j.dyn_tree=B,j.stat_desc=In.static_bl_desc,H=0,z=0,te=8,ue()}t.pqdownheap=function(K,Z){const ne=t.heap,re=ne[Z];let xe=Z<<1;for(;xe<=t.heap_len&&(xe<t.heap_len&&AE(K,ne[xe+1],ne[xe],t.depth)&&xe++,!AE(K,re,ne[xe],t.depth));)ne[Z]=ne[xe],Z=xe,xe<<=1;ne[Z]=re};function ye(K,Z){let ne=-1,re,xe=K[0*2+1],fe=0,Le=7,Qe=4;xe===0&&(Le=138,Qe=3),K[(Z+1)*2+1]=65535;for(let rt=0;rt<=Z;rt++)re=xe,xe=K[(rt+1)*2+1],!(++fe<Le&&re==xe)&&(fe<Qe?B[re*2]+=fe:re!==0?(re!=ne&&B[re*2]++,B[xE*2]++):fe<=10?B[SE*2]++:B[EE*2]++,fe=0,ne=re,xe===0?(Le=138,Qe=3):re==xe?(Le=6,Qe=3):(Le=7,Qe=4))}function Oe(){let K;for(ye(D,W.max_code),ye(I,Y.max_code),j.build_tree(t),K=by-1;K>=3&&B[qt.bl_order[K]*2+1]===0;K--);return t.opt_len+=3*(K+1)+5+5+4,K}function P(K){t.pending_buf[t.pending++]=K}function U(K){P(K&255),P(K>>>8&255)}function ie(K){P(K>>8&255),P(K&255&255)}function oe(K,Z){let ne;const re=Z;z>G_-re?(ne=K,H|=ne<<z&65535,U(H),H=ne>>>G_-z,z+=re-G_):(H|=K<<z&65535,z+=re)}function he(K,Z){const ne=K*2;oe(Z[ne]&65535,Z[ne+1]&65535)}function Te(K,Z){let ne,re=-1,xe,fe=K[0*2+1],Le=0,Qe=7,rt=4;for(fe===0&&(Qe=138,rt=3),ne=0;ne<=Z;ne++)if(xe=fe,fe=K[(ne+1)*2+1],!(++Le<Qe&&xe==fe)){if(Le<rt)do he(xe,B);while(--Le!==0);else xe!==0?(xe!=re&&(he(xe,B),Le--),he(xE,B),oe(Le-3,2)):Le<=10?(he(SE,B),oe(Le-3,3)):(he(EE,B),oe(Le-11,7));Le=0,re=xe,fe===0?(Qe=138,rt=3):xe==fe?(Qe=6,rt=3):(Qe=7,rt=4)}}function ke(K,Z,ne){let re;for(oe(K-257,5),oe(Z-1,5),oe(ne-4,4),re=0;re<ne;re++)oe(B[qt.bl_order[re]*2+1],3);Te(D,K-1),Te(I,Z-1)}function V(){z==16?(U(H),H=0,z=0):z>=8&&(P(H&255),H>>>=8,z-=8)}function Ce(){oe(W_<<1,3),he(Gu,In.static_ltree),V(),1+te+10-z<9&&(oe(W_<<1,3),he(Gu,In.static_ltree),V()),te=7}function we(K,Z){let ne,re,xe;if(t.dist_buf[O]=K,t.lc_buf[O]=Z&255,O++,K===0?D[Z*2]++:(G++,K--,D[(qt._length_code[Z]+wm+1)*2]++,I[qt.d_code(K)*2]++),!(O&8191)&&A>2){for(ne=O*8,re=S-y,xe=0;xe<yy;xe++)ne+=I[xe*2]*(5+qt.extra_dbits[xe]);if(ne>>>=3,G<Math.floor(O/2)&&ne<Math.floor(re/2))return!0}return O==pe-1}function L(K,Z){let ne,re,xe=0,fe,Le;if(O!==0)do ne=t.dist_buf[xe],re=t.lc_buf[xe],xe++,ne===0?he(re,K):(fe=qt._length_code[re],he(fe+wm+1,K),Le=qt.extra_lbits[fe],Le!==0&&(re-=qt.base_length[fe],oe(re,Le)),ne--,fe=qt.d_code(ne),he(fe,Z),Le=qt.extra_dbits[fe],Le!==0&&(ne-=qt.base_dist[fe],oe(ne,Le)));while(xe<O);he(Gu,K),te=K[Gu*2+1]}function k(){z>8?U(H):z>0&&P(H&255),H=0,z=0}function ee(K,Z,ne){k(),te=8,ne&&(U(Z),U(~Z)),t.pending_buf.set(l.subarray(K,K+Z),t.pending),t.pending+=Z}function de(K,Z,ne){oe((I1e<<1)+(ne?1:0),3),ee(K,Z,!0)}function be(K,Z,ne){let re,xe,fe=0;A>0?(W.build_tree(t),Y.build_tree(t),fe=Oe(),re=t.opt_len+3+7>>>3,xe=t.static_len+3+7>>>3,xe<=re&&(re=xe)):re=xe=Z+5,Z+4<=re&&K!=-1?de(K,Z,ne):xe==re?(oe((W_<<1)+(ne?1:0),3),L(In.static_ltree,In.static_dtree)):(oe((D1e<<1)+(ne?1:0),3),ke(W.max_code+1,Y.max_code+1,fe+1),L(D,I)),ue(),ne&&k()}function Ee(K){be(y>=0?y:-1,S-y,K),y=S,e.flush_pending()}function Ie(){let K,Z,ne,re;do{if(re=c-T-S,re===0&&S===0&&T===0)re=r;else if(re==-1)re--;else if(S>=r+r-Es){l.set(l.subarray(r,r+r),0),x-=r,S-=r,y-=r,K=h,ne=K;do Z=d[--ne]&65535,d[ne]=Z>=r?Z-r:0;while(--K!==0);K=r,ne=K;do Z=u[--ne]&65535,u[ne]=Z>=r?Z-r:0;while(--K!==0);re+=r}if(e.avail_in===0)return;K=e.read_buf(l,S+T,re),T+=K,T>=tn&&(f=l[S]&255,f=(f<<m^l[S+1]&255)&p)}while(T<Es&&e.avail_in!==0)}function ae(K){let Z=65535,ne;for(Z>s-5&&(Z=s-5);;){if(T<=1){if(Ie(),T===0&&K==Xl)return Us;if(T===0)break}if(S+=T,T=0,ne=y+Z,(S===0||S>=ne)&&(T=S-ne,S=ne,Ee(!1),e.avail_out===0)||S-y>=r-Es&&(Ee(!1),e.avail_out===0))return Us}return Ee(K==ds),e.avail_out===0?K==ds?Hu:Us:K==ds?jh:Wh}function $e(K){let Z=M,ne=S,re,xe,fe=E;const Le=S>r-Es?S-(r-Es):0;let Qe=F;const rt=a,Sn=S+Pp;let ws=l[ne+fe-1],_u=l[ne+fe];E>=$&&(Z>>=2),Qe>T&&(Qe=T);do if(re=K,!(l[re+fe]!=_u||l[re+fe-1]!=ws||l[re]!=l[ne]||l[++re]!=l[ne+1])){ne+=2,re++;do;while(l[++ne]==l[++re]&&l[++ne]==l[++re]&&l[++ne]==l[++re]&&l[++ne]==l[++re]&&l[++ne]==l[++re]&&l[++ne]==l[++re]&&l[++ne]==l[++re]&&l[++ne]==l[++re]&&ne<Sn);if(xe=Pp-(Sn-ne),ne=Sn-Pp,xe>fe){if(x=K,fe=xe,xe>=Qe)break;ws=l[ne+fe-1],_u=l[ne+fe]}}while((K=u[K&rt]&65535)>Le&&--Z!==0);return fe<=T?fe:T}function Ne(K){let Z=0,ne;for(;;){if(T<Es){if(Ie(),T<Es&&K==Xl)return Us;if(T===0)break}if(T>=tn&&(f=(f<<m^l[S+(tn-1)]&255)&p,Z=d[f]&65535,u[S&a]=d[f],d[f]=S),Z!==0&&(S-Z&65535)<=r-Es&&R!=Gh&&(b=$e(Z)),b>=tn)if(ne=we(S-x,b-tn),T-=b,b<=C&&T>=tn){b--;do S++,f=(f<<m^l[S+(tn-1)]&255)&p,Z=d[f]&65535,u[S&a]=d[f],d[f]=S;while(--b!==0);S++}else S+=b,b=0,f=l[S]&255,f=(f<<m^l[S+1]&255)&p;else ne=we(0,l[S]&255),T--,S++;if(ne&&(Ee(!1),e.avail_out===0))return Us}return Ee(K==ds),e.avail_out===0?K==ds?Hu:Us:K==ds?jh:Wh}function Ue(K){let Z=0,ne,re;for(;;){if(T<Es){if(Ie(),T<Es&&K==Xl)return Us;if(T===0)break}if(T>=tn&&(f=(f<<m^l[S+(tn-1)]&255)&p,Z=d[f]&65535,u[S&a]=d[f],d[f]=S),E=b,v=x,b=tn-1,Z!==0&&E<C&&(S-Z&65535)<=r-Es&&(R!=Gh&&(b=$e(Z)),b<=5&&(R==S1e||b==tn&&S-x>4096)&&(b=tn-1)),E>=tn&&b<=E){re=S+T-tn,ne=we(S-1-v,E-tn),T-=E-1,E-=2;do++S<=re&&(f=(f<<m^l[S+(tn-1)]&255)&p,Z=d[f]&65535,u[S&a]=d[f],d[f]=S);while(--E!==0);if(w=0,b=tn-1,S++,ne&&(Ee(!1),e.avail_out===0))return Us}else if(w!==0){if(ne=we(0,l[S-1]&255),ne&&Ee(!1),S++,T--,e.avail_out===0)return Us}else w=1,S++,T--}return w!==0&&(ne=we(0,l[S-1]&255),w=0),Ee(K==ds),e.avail_out===0?K==ds?Hu:Us:K==ds?jh:Wh}function q(K){return K.total_in=K.total_out=0,K.msg=null,t.pending=0,t.pending_out=0,n=qh,i=Xl,ve(),ge(),li}t.deflateInit=function(K,Z,ne,re,xe,fe){return re||(re=V_),xe||(xe=P1e),fe||(fe=E1e),K.msg=null,Z==xm&&(Z=6),xe<1||xe>O1e||re!=V_||ne<9||ne>15||Z<0||Z>9||fe<0||fe>Gh?di:(K.dstate=t,o=ne,r=1<<o,a=r-1,_=xe+7,h=1<<_,p=h-1,m=Math.floor((_+tn-1)/tn),l=new Uint8Array(r*2),u=[],d=[],pe=1<<xe+6,t.pending_buf=new Uint8Array(pe*4),s=pe*4,t.dist_buf=new Uint16Array(pe),t.lc_buf=new Uint8Array(pe),A=Z,R=fe,q(K))},t.deflateEnd=function(){return n!=H_&&n!=qh&&n!=Vu?di:(t.lc_buf=null,t.dist_buf=null,t.pending_buf=null,d=null,u=null,l=null,t.dstate=null,n==qh?M1e:li)},t.deflateParams=function(K,Z,ne){let re=li;return Z==xm&&(Z=6),Z<0||Z>9||ne<0||ne>Gh?di:(ri[A].func!=ri[Z].func&&K.total_in!==0&&(re=K.deflate(TE)),A!=Z&&(A=Z,C=ri[A].max_lazy,$=ri[A].good_length,F=ri[A].nice_length,M=ri[A].max_chain),R=ne,re)},t.deflateSetDictionary=function(K,Z,ne){let re=ne,xe,fe=0;if(!Z||n!=H_)return di;if(re<tn)return li;for(re>r-Es&&(re=r-Es,fe=ne-re),l.set(Z.subarray(fe,fe+re),0),S=re,y=re,f=l[0]&255,f=(f<<m^l[1]&255)&p,xe=0;xe<=re-tn;xe++)f=(f<<m^l[xe+(tn-1)]&255)&p,u[xe&a]=d[f],d[f]=xe;return li},t.deflate=function(K,Z){let ne,re,xe,fe,Le;if(Z>ds||Z<0)return di;if(!K.next_out||!K.next_in&&K.avail_in!==0||n==Vu&&Z!=ds)return K.msg=Vh[Hh-di],di;if(K.avail_out===0)return K.msg=Vh[Hh-Vl],Vl;if(e=K,fe=i,i=Z,n==H_&&(re=V_+(o-8<<4)<<8,xe=(A-1&255)>>1,xe>3&&(xe=3),re|=xe<<6,S!==0&&(re|=L1e),re+=31-re%31,n=qh,ie(re)),t.pending!==0){if(e.flush_pending(),e.avail_out===0)return i=-1,li}else if(e.avail_in===0&&Z<=fe&&Z!=ds)return e.msg=Vh[Hh-Vl],Vl;if(n==Vu&&e.avail_in!==0)return K.msg=Vh[Hh-Vl],Vl;if(e.avail_in!==0||T!==0||Z!=Xl&&n!=Vu){switch(Le=-1,ri[A].func){case ek:Le=ae(Z);break;case Op:Le=Ne(Z);break;case pa:Le=Ue(Z);break}if((Le==Hu||Le==jh)&&(n=Vu),Le==Us||Le==Hu)return e.avail_out===0&&(i=-1),li;if(Le==Wh){if(Z==TE)Ce();else if(de(0,0,!1),Z==T1e)for(ne=0;ne<h;ne++)d[ne]=0;if(e.flush_pending(),e.avail_out===0)return i=-1,li}}return Z!=ds?li:Q6}}function tk(){const t=this;t.next_in_index=0,t.next_out_index=0,t.avail_in=0,t.total_in=0,t.avail_out=0,t.total_out=0}tk.prototype={deflateInit(t,e){const n=this;return n.dstate=new F1e,e||(e=af),n.dstate.deflateInit(n,t,e)},deflate(t){const e=this;return e.dstate?e.dstate.deflate(e,t):di},deflateEnd(){const t=this;if(!t.dstate)return di;const e=t.dstate.deflateEnd();return t.dstate=null,e},deflateParams(t,e){const n=this;return n.dstate?n.dstate.deflateParams(n,t,e):di},deflateSetDictionary(t,e){const n=this;return n.dstate?n.dstate.deflateSetDictionary(n,t,e):di},read_buf(t,e,n){const s=this;let i=s.avail_in;return i>n&&(i=n),i===0?0:(s.avail_in-=i,t.set(s.next_in.subarray(s.next_in_index,s.next_in_index+i),e),s.next_in_index+=i,s.total_in+=i,i)},flush_pending(){const t=this;let e=t.dstate.pending;e>t.avail_out&&(e=t.avail_out),e!==0&&(t.next_out.set(t.dstate.pending_buf.subarray(t.dstate.pending_out,t.dstate.pending_out+e),t.next_out_index),t.next_out_index+=e,t.dstate.pending_out+=e,t.total_out+=e,t.avail_out-=e,t.dstate.pending-=e,t.dstate.pending===0&&(t.dstate.pending_out=0))}};function N1e(t){const e=this,n=new tk,s=U1e(t&&t.chunkSize?t.chunkSize:64*1024),i=Xl,r=new Uint8Array(s);let o=t?t.level:xm;typeof o>"u"&&(o=xm),n.deflateInit(o),n.next_out=r,e.append=function(a,l){let c,u,d=0,f=0,h=0;const _=[];if(a.length){n.next_in_index=0,n.next_in=a,n.avail_in=a.length;do{if(n.next_out_index=0,n.avail_out=s,c=n.deflate(i),c!=li)throw new Error("deflating: "+n.msg);n.next_out_index&&(n.next_out_index==s?_.push(new Uint8Array(r)):_.push(r.subarray(0,n.next_out_index))),h+=n.next_out_index,l&&n.next_in_index>0&&n.next_in_index!=d&&(l(n.next_in_index),d=n.next_in_index)}while(n.avail_in>0||n.avail_out===0);return _.length>1?(u=new Uint8Array(h),_.forEach(function(p){u.set(p,f),f+=p.length})):u=_[0]?new Uint8Array(_[0]):new Uint8Array,u}},e.flush=function(){let a,l,c=0,u=0;const d=[];do{if(n.next_out_index=0,n.avail_out=s,a=n.deflate(ds),a!=Q6&&a!=li)throw new Error("deflating: "+n.msg);s-n.avail_out>0&&d.push(r.slice(0,n.next_out_index)),u+=n.next_out_index}while(n.avail_in>0||n.avail_out===0);return n.deflateEnd(),l=new Uint8Array(u),d.forEach(function(f){l.set(f,c),c+=f.length}),l}}function U1e(t){return t+5*(Math.floor(t/16383)+1)}const $1e=15,St=0,Dr=1,B1e=2,gs=-2,Yt=-3,kE=-4,Fr=-5,Ts=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],nk=1440,z1e=0,G1e=4,H1e=9,V1e=5,W1e=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],j1e=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],q1e=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Y1e=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],K1e=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],X1e=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ao=15;function vy(){const t=this;let e,n,s,i,r,o;function a(c,u,d,f,h,_,p,m,y,b,v){let w,S,x,T,E,M,C,A,R,$,F,D,I,B,W;$=0,E=d;do s[c[u+$]]++,$++,E--;while(E!==0);if(s[0]==d)return p[0]=-1,m[0]=0,St;for(A=m[0],M=1;M<=ao&&s[M]===0;M++);for(C=M,A<M&&(A=M),E=ao;E!==0&&s[E]===0;E--);for(x=E,A>E&&(A=E),m[0]=A,B=1<<M;M<E;M++,B<<=1)if((B-=s[M])<0)return Yt;if((B-=s[E])<0)return Yt;for(s[E]+=B,o[1]=M=0,$=1,I=2;--E!==0;)o[I]=M+=s[$],I++,$++;E=0,$=0;do(M=c[u+$])!==0&&(v[o[M]++]=E),$++;while(++E<d);for(d=o[x],o[0]=E=0,$=0,T=-1,D=-A,r[0]=0,F=0,W=0;C<=x;C++)for(w=s[C];w--!==0;){for(;C>D+A;){if(T++,D+=A,W=x-D,W=W>A?A:W,(S=1<<(M=C-D))>w+1&&(S-=w+1,I=C,M<W))for(;++M<W&&!((S<<=1)<=s[++I]);)S-=s[I];if(W=1<<M,b[0]+W>nk)return Yt;r[T]=F=b[0],b[0]+=W,T!==0?(o[T]=E,i[0]=M,i[1]=A,M=E>>>D-A,i[2]=F-r[T-1]-M,y.set(i,(r[T-1]+M)*3)):p[0]=F}for(i[1]=C-D,$>=d?i[0]=128+64:v[$]<f?(i[0]=v[$]<256?0:32+64,i[2]=v[$++]):(i[0]=_[v[$]-f]+16+64,i[2]=h[v[$++]-f]),S=1<<C-D,M=E>>>D;M<W;M+=S)y.set(i,(F+M)*3);for(M=1<<C-1;E&M;M>>>=1)E^=M;for(E^=M,R=(1<<D)-1;(E&R)!=o[T];)T--,D-=A,R=(1<<D)-1}return B!==0&&x!=1?Fr:St}function l(c){let u;for(e||(e=[],n=[],s=new Int32Array(ao+1),i=[],r=new Int32Array(ao),o=new Int32Array(ao+1)),n.length<c&&(n=[]),u=0;u<c;u++)n[u]=0;for(u=0;u<ao+1;u++)s[u]=0;for(u=0;u<3;u++)i[u]=0;r.set(s.subarray(0,ao),0),o.set(s.subarray(0,ao+1),0)}t.inflate_trees_bits=function(c,u,d,f,h){let _;return l(19),e[0]=0,_=a(c,0,19,19,null,null,d,u,f,e,n),_==Yt?h.msg="oversubscribed dynamic bit lengths tree":(_==Fr||u[0]===0)&&(h.msg="incomplete dynamic bit lengths tree",_=Yt),_},t.inflate_trees_dynamic=function(c,u,d,f,h,_,p,m,y){let b;return l(288),e[0]=0,b=a(d,0,c,257,q1e,Y1e,_,f,m,e,n),b!=St||f[0]===0?(b==Yt?y.msg="oversubscribed literal/length tree":b!=kE&&(y.msg="incomplete literal/length tree",b=Yt),b):(l(288),b=a(d,c,u,0,K1e,X1e,p,h,m,e,n),b!=St||h[0]===0&&c>257?(b==Yt?y.msg="oversubscribed distance tree":b==Fr?(y.msg="incomplete distance tree",b=Yt):b!=kE&&(y.msg="empty distance tree with lengths",b=Yt),b):St)}}vy.inflate_trees_fixed=function(t,e,n,s){return t[0]=H1e,e[0]=V1e,n[0]=W1e,s[0]=j1e,St};const Yh=0,RE=1,CE=2,OE=3,PE=4,LE=5,IE=6,j_=7,DE=8,Kh=9;function Z1e(){const t=this;let e,n=0,s,i=0,r=0,o=0,a=0,l=0,c=0,u=0,d,f=0,h,_=0;function p(m,y,b,v,w,S,x,T){let E,M,C,A,R,$,F,D,I,B,W,Y,j,pe,O,G;F=T.next_in_index,D=T.avail_in,R=x.bitb,$=x.bitk,I=x.write,B=I<x.read?x.read-I-1:x.end-I,W=Ts[m],Y=Ts[y];do{for(;$<20;)D--,R|=(T.read_byte(F++)&255)<<$,$+=8;if(E=R&W,M=b,C=v,G=(C+E)*3,(A=M[G])===0){R>>=M[G+1],$-=M[G+1],x.win[I++]=M[G+2],B--;continue}do{if(R>>=M[G+1],$-=M[G+1],A&16){for(A&=15,j=M[G+2]+(R&Ts[A]),R>>=A,$-=A;$<15;)D--,R|=(T.read_byte(F++)&255)<<$,$+=8;E=R&Y,M=w,C=S,G=(C+E)*3,A=M[G];do if(R>>=M[G+1],$-=M[G+1],A&16){for(A&=15;$<A;)D--,R|=(T.read_byte(F++)&255)<<$,$+=8;if(pe=M[G+2]+(R&Ts[A]),R>>=A,$-=A,B-=j,I>=pe)O=I-pe,I-O>0&&2>I-O?(x.win[I++]=x.win[O++],x.win[I++]=x.win[O++],j-=2):(x.win.set(x.win.subarray(O,O+2),I),I+=2,O+=2,j-=2);else{O=I-pe;do O+=x.end;while(O<0);if(A=x.end-O,j>A){if(j-=A,I-O>0&&A>I-O)do x.win[I++]=x.win[O++];while(--A!==0);else x.win.set(x.win.subarray(O,O+A),I),I+=A,O+=A,A=0;O=0}}if(I-O>0&&j>I-O)do x.win[I++]=x.win[O++];while(--j!==0);else x.win.set(x.win.subarray(O,O+j),I),I+=j,O+=j,j=0;break}else if(!(A&64))E+=M[G+2],E+=R&Ts[A],G=(C+E)*3,A=M[G];else return T.msg="invalid distance code",j=T.avail_in-D,j=$>>3<j?$>>3:j,D+=j,F-=j,$-=j<<3,x.bitb=R,x.bitk=$,T.avail_in=D,T.total_in+=F-T.next_in_index,T.next_in_index=F,x.write=I,Yt;while(!0);break}if(A&64)return A&32?(j=T.avail_in-D,j=$>>3<j?$>>3:j,D+=j,F-=j,$-=j<<3,x.bitb=R,x.bitk=$,T.avail_in=D,T.total_in+=F-T.next_in_index,T.next_in_index=F,x.write=I,Dr):(T.msg="invalid literal/length code",j=T.avail_in-D,j=$>>3<j?$>>3:j,D+=j,F-=j,$-=j<<3,x.bitb=R,x.bitk=$,T.avail_in=D,T.total_in+=F-T.next_in_index,T.next_in_index=F,x.write=I,Yt);if(E+=M[G+2],E+=R&Ts[A],G=(C+E)*3,(A=M[G])===0){R>>=M[G+1],$-=M[G+1],x.win[I++]=M[G+2],B--;break}}while(!0)}while(B>=258&&D>=10);return j=T.avail_in-D,j=$>>3<j?$>>3:j,D+=j,F-=j,$-=j<<3,x.bitb=R,x.bitk=$,T.avail_in=D,T.total_in+=F-T.next_in_index,T.next_in_index=F,x.write=I,St}t.init=function(m,y,b,v,w,S){e=Yh,c=m,u=y,d=b,f=v,h=w,_=S,s=null},t.proc=function(m,y,b){let v,w,S,x=0,T=0,E=0,M,C,A,R;for(E=y.next_in_index,M=y.avail_in,x=m.bitb,T=m.bitk,C=m.write,A=C<m.read?m.read-C-1:m.end-C;;)switch(e){case Yh:if(A>=258&&M>=10&&(m.bitb=x,m.bitk=T,y.avail_in=M,y.total_in+=E-y.next_in_index,y.next_in_index=E,m.write=C,b=p(c,u,d,f,h,_,m,y),E=y.next_in_index,M=y.avail_in,x=m.bitb,T=m.bitk,C=m.write,A=C<m.read?m.read-C-1:m.end-C,b!=St)){e=b==Dr?j_:Kh;break}r=c,s=d,i=f,e=RE;case RE:for(v=r;T<v;){if(M!==0)b=St;else return m.bitb=x,m.bitk=T,y.avail_in=M,y.total_in+=E-y.next_in_index,y.next_in_index=E,m.write=C,m.inflate_flush(y,b);M--,x|=(y.read_byte(E++)&255)<<T,T+=8}if(w=(i+(x&Ts[v]))*3,x>>>=s[w+1],T-=s[w+1],S=s[w],S===0){o=s[w+2],e=IE;break}if(S&16){a=S&15,n=s[w+2],e=CE;break}if(!(S&64)){r=S,i=w/3+s[w+2];break}if(S&32){e=j_;break}return e=Kh,y.msg="invalid literal/length code",b=Yt,m.bitb=x,m.bitk=T,y.avail_in=M,y.total_in+=E-y.next_in_index,y.next_in_index=E,m.write=C,m.inflate_flush(y,b);case CE:for(v=a;T<v;){if(M!==0)b=St;else return m.bitb=x,m.bitk=T,y.avail_in=M,y.total_in+=E-y.next_in_index,y.next_in_index=E,m.write=C,m.inflate_flush(y,b);M--,x|=(y.read_byte(E++)&255)<<T,T+=8}n+=x&Ts[v],x>>=v,T-=v,r=u,s=h,i=_,e=OE;case OE:for(v=r;T<v;){if(M!==0)b=St;else return m.bitb=x,m.bitk=T,y.avail_in=M,y.total_in+=E-y.next_in_index,y.next_in_index=E,m.write=C,m.inflate_flush(y,b);M--,x|=(y.read_byte(E++)&255)<<T,T+=8}if(w=(i+(x&Ts[v]))*3,x>>=s[w+1],T-=s[w+1],S=s[w],S&16){a=S&15,l=s[w+2],e=PE;break}if(!(S&64)){r=S,i=w/3+s[w+2];break}return e=Kh,y.msg="invalid distance code",b=Yt,m.bitb=x,m.bitk=T,y.avail_in=M,y.total_in+=E-y.next_in_index,y.next_in_index=E,m.write=C,m.inflate_flush(y,b);case PE:for(v=a;T<v;){if(M!==0)b=St;else return m.bitb=x,m.bitk=T,y.avail_in=M,y.total_in+=E-y.next_in_index,y.next_in_index=E,m.write=C,m.inflate_flush(y,b);M--,x|=(y.read_byte(E++)&255)<<T,T+=8}l+=x&Ts[v],x>>=v,T-=v,e=LE;case LE:for(R=C-l;R<0;)R+=m.end;for(;n!==0;){if(A===0&&(C==m.end&&m.read!==0&&(C=0,A=C<m.read?m.read-C-1:m.end-C),A===0&&(m.write=C,b=m.inflate_flush(y,b),C=m.write,A=C<m.read?m.read-C-1:m.end-C,C==m.end&&m.read!==0&&(C=0,A=C<m.read?m.read-C-1:m.end-C),A===0)))return m.bitb=x,m.bitk=T,y.avail_in=M,y.total_in+=E-y.next_in_index,y.next_in_index=E,m.write=C,m.inflate_flush(y,b);m.win[C++]=m.win[R++],A--,R==m.end&&(R=0),n--}e=Yh;break;case IE:if(A===0&&(C==m.end&&m.read!==0&&(C=0,A=C<m.read?m.read-C-1:m.end-C),A===0&&(m.write=C,b=m.inflate_flush(y,b),C=m.write,A=C<m.read?m.read-C-1:m.end-C,C==m.end&&m.read!==0&&(C=0,A=C<m.read?m.read-C-1:m.end-C),A===0)))return m.bitb=x,m.bitk=T,y.avail_in=M,y.total_in+=E-y.next_in_index,y.next_in_index=E,m.write=C,m.inflate_flush(y,b);b=St,m.win[C++]=o,A--,e=Yh;break;case j_:if(T>7&&(T-=8,M++,E--),m.write=C,b=m.inflate_flush(y,b),C=m.write,A=C<m.read?m.read-C-1:m.end-C,m.read!=m.write)return m.bitb=x,m.bitk=T,y.avail_in=M,y.total_in+=E-y.next_in_index,y.next_in_index=E,m.write=C,m.inflate_flush(y,b);e=DE;case DE:return b=Dr,m.bitb=x,m.bitk=T,y.avail_in=M,y.total_in+=E-y.next_in_index,y.next_in_index=E,m.write=C,m.inflate_flush(y,b);case Kh:return b=Yt,m.bitb=x,m.bitk=T,y.avail_in=M,y.total_in+=E-y.next_in_index,y.next_in_index=E,m.write=C,m.inflate_flush(y,b);default:return b=gs,m.bitb=x,m.bitk=T,y.avail_in=M,y.total_in+=E-y.next_in_index,y.next_in_index=E,m.write=C,m.inflate_flush(y,b)}},t.free=function(){}}const FE=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Wl=0,q_=1,NE=2,UE=3,$E=4,BE=5,Xh=6,Zh=7,zE=8,oa=9;function J1e(t,e){const n=this;let s=Wl,i=0,r=0,o=0,a;const l=[0],c=[0],u=new Z1e;let d=0,f=new Int32Array(nk*3);const h=0,_=new vy;n.bitk=0,n.bitb=0,n.win=new Uint8Array(e),n.end=e,n.read=0,n.write=0,n.reset=function(p,m){m&&(m[0]=h),s==Xh&&u.free(p),s=Wl,n.bitk=0,n.bitb=0,n.read=n.write=0},n.reset(t,null),n.inflate_flush=function(p,m){let y,b,v;return b=p.next_out_index,v=n.read,y=(v<=n.write?n.write:n.end)-v,y>p.avail_out&&(y=p.avail_out),y!==0&&m==Fr&&(m=St),p.avail_out-=y,p.total_out+=y,p.next_out.set(n.win.subarray(v,v+y),b),b+=y,v+=y,v==n.end&&(v=0,n.write==n.end&&(n.write=0),y=n.write-v,y>p.avail_out&&(y=p.avail_out),y!==0&&m==Fr&&(m=St),p.avail_out-=y,p.total_out+=y,p.next_out.set(n.win.subarray(v,v+y),b),b+=y,v+=y),p.next_out_index=b,n.read=v,m},n.proc=function(p,m){let y,b,v,w,S,x,T,E;for(w=p.next_in_index,S=p.avail_in,b=n.bitb,v=n.bitk,x=n.write,T=x<n.read?n.read-x-1:n.end-x;;){let M,C,A,R,$,F,D,I;switch(s){case Wl:for(;v<3;){if(S!==0)m=St;else return n.bitb=b,n.bitk=v,p.avail_in=S,p.total_in+=w-p.next_in_index,p.next_in_index=w,n.write=x,n.inflate_flush(p,m);S--,b|=(p.read_byte(w++)&255)<<v,v+=8}switch(y=b&7,d=y&1,y>>>1){case 0:b>>>=3,v-=3,y=v&7,b>>>=y,v-=y,s=q_;break;case 1:M=[],C=[],A=[[]],R=[[]],vy.inflate_trees_fixed(M,C,A,R),u.init(M[0],C[0],A[0],0,R[0],0),b>>>=3,v-=3,s=Xh;break;case 2:b>>>=3,v-=3,s=UE;break;case 3:return b>>>=3,v-=3,s=oa,p.msg="invalid block type",m=Yt,n.bitb=b,n.bitk=v,p.avail_in=S,p.total_in+=w-p.next_in_index,p.next_in_index=w,n.write=x,n.inflate_flush(p,m)}break;case q_:for(;v<32;){if(S!==0)m=St;else return n.bitb=b,n.bitk=v,p.avail_in=S,p.total_in+=w-p.next_in_index,p.next_in_index=w,n.write=x,n.inflate_flush(p,m);S--,b|=(p.read_byte(w++)&255)<<v,v+=8}if((~b>>>16&65535)!=(b&65535))return s=oa,p.msg="invalid stored block lengths",m=Yt,n.bitb=b,n.bitk=v,p.avail_in=S,p.total_in+=w-p.next_in_index,p.next_in_index=w,n.write=x,n.inflate_flush(p,m);i=b&65535,b=v=0,s=i!==0?NE:d!==0?Zh:Wl;break;case NE:if(S===0||T===0&&(x==n.end&&n.read!==0&&(x=0,T=x<n.read?n.read-x-1:n.end-x),T===0&&(n.write=x,m=n.inflate_flush(p,m),x=n.write,T=x<n.read?n.read-x-1:n.end-x,x==n.end&&n.read!==0&&(x=0,T=x<n.read?n.read-x-1:n.end-x),T===0)))return n.bitb=b,n.bitk=v,p.avail_in=S,p.total_in+=w-p.next_in_index,p.next_in_index=w,n.write=x,n.inflate_flush(p,m);if(m=St,y=i,y>S&&(y=S),y>T&&(y=T),n.win.set(p.read_buf(w,y),x),w+=y,S-=y,x+=y,T-=y,(i-=y)!==0)break;s=d!==0?Zh:Wl;break;case UE:for(;v<14;){if(S!==0)m=St;else return n.bitb=b,n.bitk=v,p.avail_in=S,p.total_in+=w-p.next_in_index,p.next_in_index=w,n.write=x,n.inflate_flush(p,m);S--,b|=(p.read_byte(w++)&255)<<v,v+=8}if(r=y=b&16383,(y&31)>29||(y>>5&31)>29)return s=oa,p.msg="too many length or distance symbols",m=Yt,n.bitb=b,n.bitk=v,p.avail_in=S,p.total_in+=w-p.next_in_index,p.next_in_index=w,n.write=x,n.inflate_flush(p,m);if(y=258+(y&31)+(y>>5&31),!a||a.length<y)a=[];else for(E=0;E<y;E++)a[E]=0;b>>>=14,v-=14,o=0,s=$E;case $E:for(;o<4+(r>>>10);){for(;v<3;){if(S!==0)m=St;else return n.bitb=b,n.bitk=v,p.avail_in=S,p.total_in+=w-p.next_in_index,p.next_in_index=w,n.write=x,n.inflate_flush(p,m);S--,b|=(p.read_byte(w++)&255)<<v,v+=8}a[FE[o++]]=b&7,b>>>=3,v-=3}for(;o<19;)a[FE[o++]]=0;if(l[0]=7,y=_.inflate_trees_bits(a,l,c,f,p),y!=St)return m=y,m==Yt&&(a=null,s=oa),n.bitb=b,n.bitk=v,p.avail_in=S,p.total_in+=w-p.next_in_index,p.next_in_index=w,n.write=x,n.inflate_flush(p,m);o=0,s=BE;case BE:for(;y=r,!(o>=258+(y&31)+(y>>5&31));){let B,W;for(y=l[0];v<y;){if(S!==0)m=St;else return n.bitb=b,n.bitk=v,p.avail_in=S,p.total_in+=w-p.next_in_index,p.next_in_index=w,n.write=x,n.inflate_flush(p,m);S--,b|=(p.read_byte(w++)&255)<<v,v+=8}if(y=f[(c[0]+(b&Ts[y]))*3+1],W=f[(c[0]+(b&Ts[y]))*3+2],W<16)b>>>=y,v-=y,a[o++]=W;else{for(E=W==18?7:W-14,B=W==18?11:3;v<y+E;){if(S!==0)m=St;else return n.bitb=b,n.bitk=v,p.avail_in=S,p.total_in+=w-p.next_in_index,p.next_in_index=w,n.write=x,n.inflate_flush(p,m);S--,b|=(p.read_byte(w++)&255)<<v,v+=8}if(b>>>=y,v-=y,B+=b&Ts[E],b>>>=E,v-=E,E=o,y=r,E+B>258+(y&31)+(y>>5&31)||W==16&&E<1)return a=null,s=oa,p.msg="invalid bit length repeat",m=Yt,n.bitb=b,n.bitk=v,p.avail_in=S,p.total_in+=w-p.next_in_index,p.next_in_index=w,n.write=x,n.inflate_flush(p,m);W=W==16?a[E-1]:0;do a[E++]=W;while(--B!==0);o=E}}if(c[0]=-1,$=[],F=[],D=[],I=[],$[0]=9,F[0]=6,y=r,y=_.inflate_trees_dynamic(257+(y&31),1+(y>>5&31),a,$,F,D,I,f,p),y!=St)return y==Yt&&(a=null,s=oa),m=y,n.bitb=b,n.bitk=v,p.avail_in=S,p.total_in+=w-p.next_in_index,p.next_in_index=w,n.write=x,n.inflate_flush(p,m);u.init($[0],F[0],f,D[0],f,I[0]),s=Xh;case Xh:if(n.bitb=b,n.bitk=v,p.avail_in=S,p.total_in+=w-p.next_in_index,p.next_in_index=w,n.write=x,(m=u.proc(n,p,m))!=Dr)return n.inflate_flush(p,m);if(m=St,u.free(p),w=p.next_in_index,S=p.avail_in,b=n.bitb,v=n.bitk,x=n.write,T=x<n.read?n.read-x-1:n.end-x,d===0){s=Wl;break}s=Zh;case Zh:if(n.write=x,m=n.inflate_flush(p,m),x=n.write,T=x<n.read?n.read-x-1:n.end-x,n.read!=n.write)return n.bitb=b,n.bitk=v,p.avail_in=S,p.total_in+=w-p.next_in_index,p.next_in_index=w,n.write=x,n.inflate_flush(p,m);s=zE;case zE:return m=Dr,n.bitb=b,n.bitk=v,p.avail_in=S,p.total_in+=w-p.next_in_index,p.next_in_index=w,n.write=x,n.inflate_flush(p,m);case oa:return m=Yt,n.bitb=b,n.bitk=v,p.avail_in=S,p.total_in+=w-p.next_in_index,p.next_in_index=w,n.write=x,n.inflate_flush(p,m);default:return m=gs,n.bitb=b,n.bitk=v,p.avail_in=S,p.total_in+=w-p.next_in_index,p.next_in_index=w,n.write=x,n.inflate_flush(p,m)}}},n.free=function(p){n.reset(p,null),n.win=null,f=null},n.set_dictionary=function(p,m,y){n.win.set(p.subarray(m,m+y),0),n.read=n.write=y},n.sync_point=function(){return s==q_?1:0}}const Q1e=32,eye=8,tye=0,GE=1,HE=2,VE=3,WE=4,jE=5,Y_=6,Wu=7,qE=12,lo=13,nye=[0,0,255,255];function sye(){const t=this;t.mode=0,t.method=0,t.was=[0],t.need=0,t.marker=0,t.wbits=0;function e(n){return!n||!n.istate?gs:(n.total_in=n.total_out=0,n.msg=null,n.istate.mode=Wu,n.istate.blocks.reset(n,null),St)}t.inflateEnd=function(n){return t.blocks&&t.blocks.free(n),t.blocks=null,St},t.inflateInit=function(n,s){return n.msg=null,t.blocks=null,s<8||s>15?(t.inflateEnd(n),gs):(t.wbits=s,n.istate.blocks=new J1e(n,1<<s),e(n),St)},t.inflate=function(n,s){let i,r;if(!n||!n.istate||!n.next_in)return gs;const o=n.istate;for(s=s==G1e?Fr:St,i=Fr;;)switch(o.mode){case tye:if(n.avail_in===0)return i;if(i=s,n.avail_in--,n.total_in++,((o.method=n.read_byte(n.next_in_index++))&15)!=eye){o.mode=lo,n.msg="unknown compression method",o.marker=5;break}if((o.method>>4)+8>o.wbits){o.mode=lo,n.msg="invalid win size",o.marker=5;break}o.mode=GE;case GE:if(n.avail_in===0)return i;if(i=s,n.avail_in--,n.total_in++,r=n.read_byte(n.next_in_index++)&255,((o.method<<8)+r)%31!==0){o.mode=lo,n.msg="incorrect header check",o.marker=5;break}if(!(r&Q1e)){o.mode=Wu;break}o.mode=HE;case HE:if(n.avail_in===0)return i;i=s,n.avail_in--,n.total_in++,o.need=(n.read_byte(n.next_in_index++)&255)<<24&4278190080,o.mode=VE;case VE:if(n.avail_in===0)return i;i=s,n.avail_in--,n.total_in++,o.need+=(n.read_byte(n.next_in_index++)&255)<<16&16711680,o.mode=WE;case WE:if(n.avail_in===0)return i;i=s,n.avail_in--,n.total_in++,o.need+=(n.read_byte(n.next_in_index++)&255)<<8&65280,o.mode=jE;case jE:return n.avail_in===0?i:(i=s,n.avail_in--,n.total_in++,o.need+=n.read_byte(n.next_in_index++)&255,o.mode=Y_,B1e);case Y_:return o.mode=lo,n.msg="need dictionary",o.marker=0,gs;case Wu:if(i=o.blocks.proc(n,i),i==Yt){o.mode=lo,o.marker=0;break}if(i==St&&(i=s),i!=Dr)return i;i=s,o.blocks.reset(n,o.was),o.mode=qE;case qE:return n.avail_in=0,Dr;case lo:return Yt;default:return gs}},t.inflateSetDictionary=function(n,s,i){let r=0,o=i;if(!n||!n.istate||n.istate.mode!=Y_)return gs;const a=n.istate;return o>=1<<a.wbits&&(o=(1<<a.wbits)-1,r=i-o),a.blocks.set_dictionary(s,r,o),a.mode=Wu,St},t.inflateSync=function(n){let s,i,r,o,a;if(!n||!n.istate)return gs;const l=n.istate;if(l.mode!=lo&&(l.mode=lo,l.marker=0),(s=n.avail_in)===0)return Fr;for(i=n.next_in_index,r=l.marker;s!==0&&r<4;)n.read_byte(i)==nye[r]?r++:n.read_byte(i)!==0?r=0:r=4-r,i++,s--;return n.total_in+=i-n.next_in_index,n.next_in_index=i,n.avail_in=s,l.marker=r,r!=4?Yt:(o=n.total_in,a=n.total_out,e(n),n.total_in=o,n.total_out=a,l.mode=Wu,St)},t.inflateSyncPoint=function(n){return!n||!n.istate||!n.istate.blocks?gs:n.istate.blocks.sync_point()}}function sk(){}sk.prototype={inflateInit(t){const e=this;return e.istate=new sye,t||(t=$1e),e.istate.inflateInit(e,t)},inflate(t){const e=this;return e.istate?e.istate.inflate(e,t):gs},inflateEnd(){const t=this;if(!t.istate)return gs;const e=t.istate.inflateEnd(t);return t.istate=null,e},inflateSync(){const t=this;return t.istate?t.istate.inflateSync(t):gs},inflateSetDictionary(t,e){const n=this;return n.istate?n.istate.inflateSetDictionary(n,t,e):gs},read_byte(t){return this.next_in[t]},read_buf(t,e){return this.next_in.subarray(t,t+e)}};function iye(t){const e=this,n=new sk,s=t&&t.chunkSize?Math.floor(t.chunkSize*2):128*1024,i=z1e,r=new Uint8Array(s);let o=!1;n.inflateInit(),n.next_out=r,e.append=function(a,l){const c=[];let u,d,f=0,h=0,_=0;if(a.length!==0){n.next_in_index=0,n.next_in=a,n.avail_in=a.length;do{if(n.next_out_index=0,n.avail_out=s,n.avail_in===0&&!o&&(n.next_in_index=0,o=!0),u=n.inflate(i),o&&u===Fr){if(n.avail_in!==0)throw new Error("inflating: bad input")}else if(u!==St&&u!==Dr)throw new Error("inflating: "+n.msg);if((o||u===Dr)&&n.avail_in===a.length)throw new Error("inflating: bad input");n.next_out_index&&(n.next_out_index===s?c.push(new Uint8Array(r)):c.push(r.subarray(0,n.next_out_index))),_+=n.next_out_index,l&&n.next_in_index>0&&n.next_in_index!=f&&(l(n.next_in_index),f=n.next_in_index)}while(n.avail_in>0||n.avail_out===0);return c.length>1?(d=new Uint8Array(_),c.forEach(function(p){d.set(p,h),h+=p.length})):d=c[0]?new Uint8Array(c[0]):new Uint8Array,d}},e.flush=function(){n.inflateEnd()}}const Ha=4294967295,yo=65535,rye=8,oye=0,aye=99,lye=67324752,cye=134695760,YE=33639248,uye=101010256,KE=101075792,dye=117853008,Jh=22,K_=20,X_=56,fye=1,hye=39169,pye=10,mye=1,gye=21589,_ye=28789,yye=25461,XE=1,bye=6,ZE=8,JE=2048,QE=16,vye="/",Si=void 0,Sm="undefined",ik="function";class eT{constructor(e){return class extends TransformStream{constructor(n,s){const i=new e(s);super({transform(r,o){o.enqueue(i.append(r))},flush(r){const o=i.flush();o&&r.enqueue(o)}})}}}}const wye=64;let rk=2;try{typeof navigator!=Sm&&navigator.hardwareConcurrency&&(rk=navigator.hardwareConcurrency)}catch{}const xye={chunkSize:512*1024,maxWorkers:rk,terminateWorkerTimeout:5e3,useWebWorkers:!0,useCompressionStream:!0,workerScripts:Si,CompressionStreamNative:typeof CompressionStream!=Sm&&CompressionStream,DecompressionStreamNative:typeof DecompressionStream!=Sm&&DecompressionStream},bo=Object.assign({},xye);function Sye(){return bo}function Eye(t){return Math.max(t.chunkSize,wye)}function t2(t){const{baseURL:e,chunkSize:n,maxWorkers:s,terminateWorkerTimeout:i,useCompressionStream:r,useWebWorkers:o,Deflate:a,Inflate:l,CompressionStream:c,DecompressionStream:u,workerScripts:d}=t;if(co("baseURL",e),co("chunkSize",n),co("maxWorkers",s),co("terminateWorkerTimeout",i),co("useCompressionStream",r),co("useWebWorkers",o),a&&(bo.CompressionStream=new eT(a)),l&&(bo.DecompressionStream=new eT(l)),co("CompressionStream",c),co("DecompressionStream",u),d!==Si){const{deflate:f,inflate:h}=d;if((f||h)&&(bo.workerScripts||(bo.workerScripts={})),f){if(!Array.isArray(f))throw new Error("workerScripts.deflate must be an array");bo.workerScripts.deflate=f}if(h){if(!Array.isArray(h))throw new Error("workerScripts.inflate must be an array");bo.workerScripts.inflate=h}}}function co(t,e){e!==Si&&(bo[t]=e)}const ju={application:{"andrew-inset":"ez",annodex:"anx","atom+xml":"atom","atomcat+xml":"atomcat","atomserv+xml":"atomsrv",bbolin:"lin",cap:["cap","pcap"],"cu-seeme":"cu","davmount+xml":"davmount",dsptype:"tsp",ecmascript:["es","ecma"],futuresplash:"spl",hta:"hta","java-archive":"jar","java-serialized-object":"ser","java-vm":"class",javascript:"js",m3g:"m3g","mac-binhex40":"hqx",mathematica:["nb","ma","mb"],msaccess:"mdb",msword:["doc","dot"],mxf:"mxf",oda:"oda",ogg:"ogx",pdf:"pdf","pgp-keys":"key","pgp-signature":["asc","sig"],"pics-rules":"prf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],rar:"rar","rdf+xml":"rdf","rss+xml":"rss",rtf:"rtf",smil:["smi","smil"],"xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd"],"xspf+xml":"xspf",zip:"zip","vnd.android.package-archive":"apk","vnd.cinderella":"cdy","vnd.google-earth.kml+xml":"kml","vnd.google-earth.kmz":"kmz","vnd.mozilla.xul+xml":"xul","vnd.ms-excel":["xls","xlb","xlt","xlm","xla","xlc","xlw"],"vnd.ms-pki.seccat":"cat","vnd.ms-pki.stl":"stl","vnd.ms-powerpoint":["ppt","pps","pot"],"vnd.oasis.opendocument.chart":"odc","vnd.oasis.opendocument.database":"odb","vnd.oasis.opendocument.formula":"odf","vnd.oasis.opendocument.graphics":"odg","vnd.oasis.opendocument.graphics-template":"otg","vnd.oasis.opendocument.image":"odi","vnd.oasis.opendocument.presentation":"odp","vnd.oasis.opendocument.presentation-template":"otp","vnd.oasis.opendocument.spreadsheet":"ods","vnd.oasis.opendocument.spreadsheet-template":"ots","vnd.oasis.opendocument.text":"odt","vnd.oasis.opendocument.text-master":"odm","vnd.oasis.opendocument.text-template":"ott","vnd.oasis.opendocument.text-web":"oth","vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","vnd.openxmlformats-officedocument.spreadsheetml.template":"xltx","vnd.openxmlformats-officedocument.presentationml.presentation":"pptx","vnd.openxmlformats-officedocument.presentationml.slideshow":"ppsx","vnd.openxmlformats-officedocument.presentationml.template":"potx","vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","vnd.openxmlformats-officedocument.wordprocessingml.template":"dotx","vnd.smaf":"mmf","vnd.stardivision.calc":"sdc","vnd.stardivision.chart":"sds","vnd.stardivision.draw":"sda","vnd.stardivision.impress":"sdd","vnd.stardivision.math":["sdf","smf"],"vnd.stardivision.writer":["sdw","vor"],"vnd.stardivision.writer-global":"sgl","vnd.sun.xml.calc":"sxc","vnd.sun.xml.calc.template":"stc","vnd.sun.xml.draw":"sxd","vnd.sun.xml.draw.template":"std","vnd.sun.xml.impress":"sxi","vnd.sun.xml.impress.template":"sti","vnd.sun.xml.math":"sxm","vnd.sun.xml.writer":"sxw","vnd.sun.xml.writer.global":"sxg","vnd.sun.xml.writer.template":"stw","vnd.symbian.install":["sis","sisx"],"vnd.visio":["vsd","vst","vss","vsw"],"vnd.wap.wbxml":"wbxml","vnd.wap.wmlc":"wmlc","vnd.wap.wmlscriptc":"wmlsc","vnd.wordperfect":"wpd","vnd.wordperfect5.1":"wp5","x-123":"wk","x-7z-compressed":"7z","x-abiword":"abw","x-apple-diskimage":"dmg","x-bcpio":"bcpio","x-bittorrent":"torrent","x-cbr":["cbr","cba","cbt","cb7"],"x-cbz":"cbz","x-cdf":["cdf","cda"],"x-cdlink":"vcd","x-chess-pgn":"pgn","x-cpio":"cpio","x-csh":"csh","x-debian-package":["deb","udeb"],"x-director":["dcr","dir","dxr","cst","cct","cxt","w3d","fgd","swa"],"x-dms":"dms","x-doom":"wad","x-dvi":"dvi","x-httpd-eruby":"rhtml","x-font":"pcf.Z","x-freemind":"mm","x-gnumeric":"gnumeric","x-go-sgf":"sgf","x-graphing-calculator":"gcf","x-gtar":["gtar","taz"],"x-hdf":"hdf","x-httpd-php":["phtml","pht","php"],"x-httpd-php-source":"phps","x-httpd-php3":"php3","x-httpd-php3-preprocessed":"php3p","x-httpd-php4":"php4","x-httpd-php5":"php5","x-ica":"ica","x-info":"info","x-internet-signup":["ins","isp"],"x-iphone":"iii","x-iso9660-image":"iso","x-java-jnlp-file":"jnlp","x-jmol":"jmz","x-killustrator":"kil","x-koan":["skp","skd","skt","skm"],"x-kpresenter":["kpr","kpt"],"x-kword":["kwd","kwt"],"x-latex":"latex","x-lha":"lha","x-lyx":"lyx","x-lzh":"lzh","x-lzx":"lzx","x-maker":["frm","maker","frame","fm","fb","book","fbdoc"],"x-ms-wmd":"wmd","x-ms-wmz":"wmz","x-msdos-program":["com","exe","bat","dll"],"x-msi":"msi","x-netcdf":["nc","cdf"],"x-ns-proxy-autoconfig":["pac","dat"],"x-nwc":"nwc","x-object":"o","x-oz-application":"oza","x-pkcs7-certreqresp":"p7r","x-python-code":["pyc","pyo"],"x-qgis":["qgs","shp","shx"],"x-quicktimeplayer":"qtl","x-redhat-package-manager":"rpm","x-ruby":"rb","x-sh":"sh","x-shar":"shar","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","x-stuffit":"sit","x-sv4cpio":"sv4cpio","x-sv4crc":"sv4crc","x-tar":"tar","x-tcl":"tcl","x-tex-gf":"gf","x-tex-pk":"pk","x-texinfo":["texinfo","texi"],"x-trash":["~","%","bak","old","sik"],"x-troff":["t","tr","roff"],"x-troff-man":"man","x-troff-me":"me","x-troff-ms":"ms","x-ustar":"ustar","x-wais-source":"src","x-wingz":"wz","x-x509-ca-cert":["crt","der","cer"],"x-xcf":"xcf","x-xfig":"fig","x-xpinstall":"xpi",applixware:"aw","atomsvc+xml":"atomsvc","ccxml+xml":"ccxml","cdmi-capability":"cdmia","cdmi-container":"cdmic","cdmi-domain":"cdmid","cdmi-object":"cdmio","cdmi-queue":"cdmiq","docbook+xml":"dbk","dssc+der":"dssc","dssc+xml":"xdssc","emma+xml":"emma","epub+zip":"epub",exi:"exi","font-tdpfr":"pfr","gml+xml":"gml","gpx+xml":"gpx",gxf:"gxf",hyperstudio:"stk","inkml+xml":["ink","inkml"],ipfix:"ipfix",json:"json","jsonml+json":"jsonml","lost+xml":"lostxml","mads+xml":"mads",marc:"mrc","marcxml+xml":"mrcx","mathml+xml":"mathml",mbox:"mbox","mediaservercontrol+xml":"mscml","metalink+xml":"metalink","metalink4+xml":"meta4","mets+xml":"mets","mods+xml":"mods",mp21:["m21","mp21"],mp4:"mp4s","oebps-package+xml":"opf","omdoc+xml":"omdoc",onenote:["onetoc","onetoc2","onetmp","onepkg"],oxps:"oxps","patch-ops-error+xml":"xer","pgp-encrypted":"pgp",pkcs10:"p10","pkcs7-mime":["p7m","p7c"],"pkcs7-signature":"p7s",pkcs8:"p8","pkix-attr-cert":"ac","pkix-crl":"crl","pkix-pkipath":"pkipath",pkixcmp:"pki","pls+xml":"pls","prs.cww":"cww","pskc+xml":"pskcxml","reginfo+xml":"rif","relax-ng-compact-syntax":"rnc","resource-lists+xml":"rl","resource-lists-diff+xml":"rld","rls-services+xml":"rs","rpki-ghostbusters":"gbr","rpki-manifest":"mft","rpki-roa":"roa","rsd+xml":"rsd","sbml+xml":"sbml","scvp-cv-request":"scq","scvp-cv-response":"scs","scvp-vp-request":"spq","scvp-vp-response":"spp",sdp:"sdp","set-payment-initiation":"setpay","set-registration-initiation":"setreg","shf+xml":"shf","sparql-query":"rq","sparql-results+xml":"srx",srgs:"gram","srgs+xml":"grxml","sru+xml":"sru","ssdl+xml":"ssdl","ssml+xml":"ssml","tei+xml":["tei","teicorpus"],"thraud+xml":"tfi","timestamped-data":"tsd","vnd.3gpp.pic-bw-large":"plb","vnd.3gpp.pic-bw-small":"psb","vnd.3gpp.pic-bw-var":"pvb","vnd.3gpp2.tcap":"tcap","vnd.3m.post-it-notes":"pwn","vnd.accpac.simply.aso":"aso","vnd.accpac.simply.imp":"imp","vnd.acucobol":"acu","vnd.acucorp":["atc","acutc"],"vnd.adobe.air-application-installer-package+zip":"air","vnd.adobe.formscentral.fcdt":"fcdt","vnd.adobe.fxp":["fxp","fxpl"],"vnd.adobe.xdp+xml":"xdp","vnd.adobe.xfdf":"xfdf","vnd.ahead.space":"ahead","vnd.airzip.filesecure.azf":"azf","vnd.airzip.filesecure.azs":"azs","vnd.amazon.ebook":"azw","vnd.americandynamics.acc":"acc","vnd.amiga.ami":"ami","vnd.anser-web-certificate-issue-initiation":"cii","vnd.anser-web-funds-transfer-initiation":"fti","vnd.antix.game-component":"atx","vnd.apple.installer+xml":"mpkg","vnd.apple.mpegurl":"m3u8","vnd.aristanetworks.swi":"swi","vnd.astraea-software.iota":"iota","vnd.audiograph":"aep","vnd.blueice.multipass":"mpm","vnd.bmi":"bmi","vnd.businessobjects":"rep","vnd.chemdraw+xml":"cdxml","vnd.chipnuts.karaoke-mmd":"mmd","vnd.claymore":"cla","vnd.cloanto.rp9":"rp9","vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"vnd.cluetrust.cartomobile-config":"c11amc","vnd.cluetrust.cartomobile-config-pkg":"c11amz","vnd.commonspace":"csp","vnd.contact.cmsg":"cdbcmsg","vnd.cosmocaller":"cmc","vnd.crick.clicker":"clkx","vnd.crick.clicker.keyboard":"clkk","vnd.crick.clicker.palette":"clkp","vnd.crick.clicker.template":"clkt","vnd.crick.clicker.wordbank":"clkw","vnd.criticaltools.wbs+xml":"wbs","vnd.ctc-posml":"pml","vnd.cups-ppd":"ppd","vnd.curl.car":"car","vnd.curl.pcurl":"pcurl","vnd.dart":"dart","vnd.data-vision.rdz":"rdz","vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"vnd.dece.ttml+xml":["uvt","uvvt"],"vnd.dece.unspecified":["uvx","uvvx"],"vnd.dece.zip":["uvz","uvvz"],"vnd.denovo.fcselayout-link":"fe_launch","vnd.dna":"dna","vnd.dolby.mlp":"mlp","vnd.dpgraph":"dpg","vnd.dreamfactory":"dfac","vnd.ds-keypoint":"kpxx","vnd.dvb.ait":"ait","vnd.dvb.service":"svc","vnd.dynageo":"geo","vnd.ecowin.chart":"mag","vnd.enliven":"nml","vnd.epson.esf":"esf","vnd.epson.msf":"msf","vnd.epson.quickanime":"qam","vnd.epson.salt":"slt","vnd.epson.ssf":"ssf","vnd.eszigno3+xml":["es3","et3"],"vnd.ezpix-album":"ez2","vnd.ezpix-package":"ez3","vnd.fdf":"fdf","vnd.fdsn.mseed":"mseed","vnd.fdsn.seed":["seed","dataless"],"vnd.flographit":"gph","vnd.fluxtime.clip":"ftc","vnd.framemaker":["fm","frame","maker","book"],"vnd.frogans.fnc":"fnc","vnd.frogans.ltf":"ltf","vnd.fsc.weblaunch":"fsc","vnd.fujitsu.oasys":"oas","vnd.fujitsu.oasys2":"oa2","vnd.fujitsu.oasys3":"oa3","vnd.fujitsu.oasysgp":"fg5","vnd.fujitsu.oasysprs":"bh2","vnd.fujixerox.ddd":"ddd","vnd.fujixerox.docuworks":"xdw","vnd.fujixerox.docuworks.binder":"xbd","vnd.fuzzysheet":"fzs","vnd.genomatix.tuxedo":"txd","vnd.geogebra.file":"ggb","vnd.geogebra.tool":"ggt","vnd.geometry-explorer":["gex","gre"],"vnd.geonext":"gxt","vnd.geoplan":"g2w","vnd.geospace":"g3w","vnd.gmx":"gmx","vnd.grafeq":["gqf","gqs"],"vnd.groove-account":"gac","vnd.groove-help":"ghf","vnd.groove-identity-message":"gim","vnd.groove-injector":"grv","vnd.groove-tool-message":"gtm","vnd.groove-tool-template":"tpl","vnd.groove-vcard":"vcg","vnd.hal+xml":"hal","vnd.handheld-entertainment+xml":"zmm","vnd.hbci":"hbci","vnd.hhe.lesson-player":"les","vnd.hp-hpgl":"hpgl","vnd.hp-hpid":"hpid","vnd.hp-hps":"hps","vnd.hp-jlyt":"jlt","vnd.hp-pcl":"pcl","vnd.hp-pclxl":"pclxl","vnd.hydrostatix.sof-data":"sfd-hdstx","vnd.ibm.minipay":"mpy","vnd.ibm.modcap":["afp","listafp","list3820"],"vnd.ibm.rights-management":"irm","vnd.ibm.secure-container":"sc","vnd.iccprofile":["icc","icm"],"vnd.igloader":"igl","vnd.immervision-ivp":"ivp","vnd.immervision-ivu":"ivu","vnd.insors.igm":"igm","vnd.intercon.formnet":["xpw","xpx"],"vnd.intergeo":"i2g","vnd.intu.qbo":"qbo","vnd.intu.qfx":"qfx","vnd.ipunplugged.rcprofile":"rcprofile","vnd.irepository.package+xml":"irp","vnd.is-xpr":"xpr","vnd.isac.fcs":"fcs","vnd.jam":"jam","vnd.jcp.javame.midlet-rms":"rms","vnd.jisp":"jisp","vnd.joost.joda-archive":"joda","vnd.kahootz":["ktz","ktr"],"vnd.kde.karbon":"karbon","vnd.kde.kchart":"chrt","vnd.kde.kformula":"kfo","vnd.kde.kivio":"flw","vnd.kde.kontour":"kon","vnd.kde.kpresenter":["kpr","kpt"],"vnd.kde.kspread":"ksp","vnd.kde.kword":["kwd","kwt"],"vnd.kenameaapp":"htke","vnd.kidspiration":"kia","vnd.kinar":["kne","knp"],"vnd.koan":["skp","skd","skt","skm"],"vnd.kodak-descriptor":"sse","vnd.las.las+xml":"lasxml","vnd.llamagraphics.life-balance.desktop":"lbd","vnd.llamagraphics.life-balance.exchange+xml":"lbe","vnd.lotus-1-2-3":"123","vnd.lotus-approach":"apr","vnd.lotus-freelance":"pre","vnd.lotus-notes":"nsf","vnd.lotus-organizer":"org","vnd.lotus-screencam":"scm","vnd.lotus-wordpro":"lwp","vnd.macports.portpkg":"portpkg","vnd.mcd":"mcd","vnd.medcalcdata":"mc1","vnd.mediastation.cdkey":"cdkey","vnd.mfer":"mwf","vnd.mfmp":"mfm","vnd.micrografx.flo":"flo","vnd.micrografx.igx":"igx","vnd.mif":"mif","vnd.mobius.daf":"daf","vnd.mobius.dis":"dis","vnd.mobius.mbk":"mbk","vnd.mobius.mqy":"mqy","vnd.mobius.msl":"msl","vnd.mobius.plc":"plc","vnd.mobius.txf":"txf","vnd.mophun.application":"mpn","vnd.mophun.certificate":"mpc","vnd.ms-artgalry":"cil","vnd.ms-cab-compressed":"cab","vnd.ms-excel.addin.macroenabled.12":"xlam","vnd.ms-excel.sheet.binary.macroenabled.12":"xlsb","vnd.ms-excel.sheet.macroenabled.12":"xlsm","vnd.ms-excel.template.macroenabled.12":"xltm","vnd.ms-fontobject":"eot","vnd.ms-htmlhelp":"chm","vnd.ms-ims":"ims","vnd.ms-lrm":"lrm","vnd.ms-officetheme":"thmx","vnd.ms-powerpoint.addin.macroenabled.12":"ppam","vnd.ms-powerpoint.presentation.macroenabled.12":"pptm","vnd.ms-powerpoint.slide.macroenabled.12":"sldm","vnd.ms-powerpoint.slideshow.macroenabled.12":"ppsm","vnd.ms-powerpoint.template.macroenabled.12":"potm","vnd.ms-project":["mpp","mpt"],"vnd.ms-word.document.macroenabled.12":"docm","vnd.ms-word.template.macroenabled.12":"dotm","vnd.ms-works":["wps","wks","wcm","wdb"],"vnd.ms-wpl":"wpl","vnd.ms-xpsdocument":"xps","vnd.mseq":"mseq","vnd.musician":"mus","vnd.muvee.style":"msty","vnd.mynfc":"taglet","vnd.neurolanguage.nlu":"nlu","vnd.nitf":["ntf","nitf"],"vnd.noblenet-directory":"nnd","vnd.noblenet-sealer":"nns","vnd.noblenet-web":"nnw","vnd.nokia.n-gage.data":"ngdat","vnd.nokia.n-gage.symbian.install":"n-gage","vnd.nokia.radio-preset":"rpst","vnd.nokia.radio-presets":"rpss","vnd.novadigm.edm":"edm","vnd.novadigm.edx":"edx","vnd.novadigm.ext":"ext","vnd.oasis.opendocument.chart-template":"otc","vnd.oasis.opendocument.formula-template":"odft","vnd.oasis.opendocument.image-template":"oti","vnd.olpc-sugar":"xo","vnd.oma.dd2+xml":"dd2","vnd.openofficeorg.extension":"oxt","vnd.openxmlformats-officedocument.presentationml.slide":"sldx","vnd.osgeo.mapguide.package":"mgp","vnd.osgi.dp":"dp","vnd.osgi.subsystem":"esa","vnd.palm":["pdb","pqa","oprc"],"vnd.pawaafile":"paw","vnd.pg.format":"str","vnd.pg.osasli":"ei6","vnd.picsel":"efif","vnd.pmi.widget":"wg","vnd.pocketlearn":"plf","vnd.powerbuilder6":"pbd","vnd.previewsystems.box":"box","vnd.proteus.magazine":"mgz","vnd.publishare-delta-tree":"qps","vnd.pvi.ptid1":"ptid","vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"vnd.realvnc.bed":"bed","vnd.recordare.musicxml":"mxl","vnd.recordare.musicxml+xml":"musicxml","vnd.rig.cryptonote":"cryptonote","vnd.rn-realmedia":"rm","vnd.rn-realmedia-vbr":"rmvb","vnd.route66.link66+xml":"link66","vnd.sailingtracker.track":"st","vnd.seemail":"see","vnd.sema":"sema","vnd.semd":"semd","vnd.semf":"semf","vnd.shana.informed.formdata":"ifm","vnd.shana.informed.formtemplate":"itp","vnd.shana.informed.interchange":"iif","vnd.shana.informed.package":"ipk","vnd.simtech-mindmapper":["twd","twds"],"vnd.smart.teacher":"teacher","vnd.solent.sdkm+xml":["sdkm","sdkd"],"vnd.spotfire.dxp":"dxp","vnd.spotfire.sfs":"sfs","vnd.stepmania.package":"smzip","vnd.stepmania.stepchart":"sm","vnd.sus-calendar":["sus","susp"],"vnd.svd":"svd","vnd.syncml+xml":"xsm","vnd.syncml.dm+wbxml":"bdm","vnd.syncml.dm+xml":"xdm","vnd.tao.intent-module-archive":"tao","vnd.tcpdump.pcap":["pcap","cap","dmp"],"vnd.tmobile-livetv":"tmo","vnd.trid.tpt":"tpt","vnd.triscape.mxs":"mxs","vnd.trueapp":"tra","vnd.ufdl":["ufd","ufdl"],"vnd.uiq.theme":"utz","vnd.umajin":"umj","vnd.unity":"unityweb","vnd.uoml+xml":"uoml","vnd.vcx":"vcx","vnd.visionary":"vis","vnd.vsf":"vsf","vnd.webturbo":"wtb","vnd.wolfram.player":"nbp","vnd.wqd":"wqd","vnd.wt.stf":"stf","vnd.xara":"xar","vnd.xfdl":"xfdl","vnd.yamaha.hv-dic":"hvd","vnd.yamaha.hv-script":"hvs","vnd.yamaha.hv-voice":"hvp","vnd.yamaha.openscoreformat":"osf","vnd.yamaha.openscoreformat.osfpvg+xml":"osfpvg","vnd.yamaha.smaf-audio":"saf","vnd.yamaha.smaf-phrase":"spf","vnd.yellowriver-custom-menu":"cmp","vnd.zul":["zir","zirz"],"vnd.zzazz.deck+xml":"zaz","voicexml+xml":"vxml",widget:"wgt",winhlp:"hlp","wsdl+xml":"wsdl","wspolicy+xml":"wspolicy","x-ace-compressed":"ace","x-authorware-bin":["aab","x32","u32","vox"],"x-authorware-map":"aam","x-authorware-seg":"aas","x-blorb":["blb","blorb"],"x-bzip":"bz","x-bzip2":["bz2","boz"],"x-cfs-compressed":"cfs","x-chat":"chat","x-conference":"nsc","x-dgc-compressed":"dgc","x-dtbncx+xml":"ncx","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-eva":"eva","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-otf":"otf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-font-woff":"woff","x-freearc":"arc","x-gca-compressed":"gca","x-glulx":"ulx","x-gramps-xml":"gramps","x-install-instructions":"install","x-lzh-compressed":["lzh","lha"],"x-mie":"mie","x-mobipocket-ebook":["prc","mobi"],"x-ms-application":"application","x-ms-shortcut":"lnk","x-ms-xbap":"xbap","x-msbinder":"obd","x-mscardfile":"crd","x-msclip":"clp","x-msdownload":["exe","dll","com","bat","msi"],"x-msmediaview":["mvb","m13","m14"],"x-msmetafile":["wmf","wmz","emf","emz"],"x-msmoney":"mny","x-mspublisher":"pub","x-msschedule":"scd","x-msterminal":"trm","x-mswrite":"wri","x-nzb":"nzb","x-pkcs12":["p12","pfx"],"x-pkcs7-certificates":["p7b","spc"],"x-research-info-systems":"ris","x-silverlight-app":"xap","x-sql":"sql","x-stuffitx":"sitx","x-subrip":"srt","x-t3vm-image":"t3","x-tads":"gam","x-tex":"tex","x-tex-tfm":"tfm","x-tgif":"obj","x-xliff+xml":"xlf","x-xz":"xz","x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"xaml+xml":"xaml","xcap-diff+xml":"xdf","xenc+xml":"xenc","xml-dtd":"dtd","xop+xml":"xop","xproc+xml":"xpl","xslt+xml":"xslt","xv+xml":["mxml","xhvml","xvml","xvm"],yang:"yang","yin+xml":"yin",envoy:"evy",fractals:"fif","internet-property-stream":"acx",olescript:"axs","vnd.ms-outlook":"msg","vnd.ms-pkicertstore":"sst","x-compress":"z","x-compressed":"tgz","x-gzip":"gz","x-perfmon":["pma","pmc","pml","pmr","pmw"],"x-pkcs7-mime":["p7c","p7m"],"ynd.ms-pkipko":"pko"},audio:{amr:"amr","amr-wb":"awb",annodex:"axa",basic:["au","snd"],flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp2","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"prs.sid":"sid","x-aiff":["aif","aiff","aifc"],"x-gsm":"gsm","x-ms-wma":"wma","x-ms-wax":"wax","x-pn-realaudio":"ram","x-realaudio":"ra","x-sd2":"sd2","x-wav":"wav",adpcm:"adp",mp4:"mp4a",s3m:"s3m",silk:"sil","vnd.dece.audio":["uva","uvva"],"vnd.digital-winds":"eol","vnd.dra":"dra","vnd.dts":"dts","vnd.dts.hd":"dtshd","vnd.lucent.voice":"lvp","vnd.ms-playready.media.pya":"pya","vnd.nuera.ecelp4800":"ecelp4800","vnd.nuera.ecelp7470":"ecelp7470","vnd.nuera.ecelp9600":"ecelp9600","vnd.rip":"rip",webm:"weba","x-aac":"aac","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",mid:["mid","rmi"]},chemical:{"x-alchemy":"alc","x-cache":["cac","cache"],"x-cache-csf":"csf","x-cactvs-binary":["cbin","cascii","ctab"],"x-cdx":"cdx","x-chem3d":"c3d","x-cif":"cif","x-cmdf":"cmdf","x-cml":"cml","x-compass":"cpa","x-crossfire":"bsd","x-csml":["csml","csm"],"x-ctx":"ctx","x-cxf":["cxf","cef"],"x-embl-dl-nucleotide":["emb","embl"],"x-gamess-input":["inp","gam","gamin"],"x-gaussian-checkpoint":["fch","fchk"],"x-gaussian-cube":"cub","x-gaussian-input":["gau","gjc","gjf"],"x-gaussian-log":"gal","x-gcg8-sequence":"gcg","x-genbank":"gen","x-hin":"hin","x-isostar":["istr","ist"],"x-jcamp-dx":["jdx","dx"],"x-kinemage":"kin","x-macmolecule":"mcm","x-macromodel-input":["mmd","mmod"],"x-mdl-molfile":"mol","x-mdl-rdfile":"rd","x-mdl-rxnfile":"rxn","x-mdl-sdfile":["sd","sdf"],"x-mdl-tgf":"tgf","x-mmcif":"mcif","x-mol2":"mol2","x-molconn-Z":"b","x-mopac-graph":"gpt","x-mopac-input":["mop","mopcrt","mpc","zmt"],"x-mopac-out":"moo","x-ncbi-asn1":"asn","x-ncbi-asn1-ascii":["prt","ent"],"x-ncbi-asn1-binary":["val","aso"],"x-pdb":["pdb","ent"],"x-rosdal":"ros","x-swissprot":"sw","x-vamas-iso14976":"vms","x-vmd":"vmd","x-xtel":"xtel","x-xyz":"xyz"},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"vnd.djvu":["djvu","djv"],"vnd.wap.wbmp":"wbmp","x-canon-cr2":"cr2","x-canon-crw":"crw","x-cmu-raster":"ras","x-coreldraw":"cdr","x-coreldrawpattern":"pat","x-coreldrawtemplate":"cdt","x-corelphotopaint":"cpt","x-epson-erf":"erf","x-icon":"ico","x-jg":"art","x-jng":"jng","x-nikon-nef":"nef","x-olympus-orf":"orf","x-photoshop":"psd","x-portable-anymap":"pnm","x-portable-bitmap":"pbm","x-portable-graymap":"pgm","x-portable-pixmap":"ppm","x-rgb":"rgb","x-xbitmap":"xbm","x-xpixmap":"xpm","x-xwindowdump":"xwd",bmp:"bmp",cgm:"cgm",g3fax:"g3",ktx:"ktx","prs.btif":"btif",sgi:"sgi","vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"vnd.dwg":"dwg","vnd.dxf":"dxf","vnd.fastbidsheet":"fbs","vnd.fpx":"fpx","vnd.fst":"fst","vnd.fujixerox.edmics-mmr":"mmr","vnd.fujixerox.edmics-rlc":"rlc","vnd.ms-modi":"mdi","vnd.ms-photo":"wdp","vnd.net-fpx":"npx","vnd.xiff":"xif",webp:"webp","x-3ds":"3ds","x-cmx":"cmx","x-freehand":["fh","fhc","fh4","fh5","fh7"],"x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod",pipeg:"jfif"},message:{rfc822:["eml","mime","mht","mhtml","nws"]},model:{iges:["igs","iges"],mesh:["msh","mesh","silo"],vrml:["wrl","vrml"],"x3d+vrml":["x3dv","x3dvz"],"x3d+xml":["x3d","x3dz"],"x3d+binary":["x3db","x3dbz"],"vnd.collada+xml":"dae","vnd.dwf":"dwf","vnd.gdl":"gdl","vnd.gtw":"gtw","vnd.mts":"mts","vnd.vtu":"vtu"},text:{"cache-manifest":["manifest","appcache"],calendar:["ics","icz","ifb"],css:"css",csv:"csv",h323:"323",html:["html","htm","shtml","stm"],iuls:"uls",mathml:"mml",plain:["txt","text","brf","conf","def","list","log","in","bas"],richtext:"rtx",scriptlet:["sct","wsc"],texmacs:["tm","ts"],"tab-separated-values":"tsv","vnd.sun.j2me.app-descriptor":"jad","vnd.wap.wml":"wml","vnd.wap.wmlscript":"wmls","x-bibtex":"bib","x-boo":"boo","x-c++hdr":["h++","hpp","hxx","hh"],"x-c++src":["c++","cpp","cxx","cc"],"x-component":"htc","x-dsrc":"d","x-diff":["diff","patch"],"x-haskell":"hs","x-java":"java","x-literate-haskell":"lhs","x-moc":"moc","x-pascal":["p","pas"],"x-pcs-gcd":"gcd","x-perl":["pl","pm"],"x-python":"py","x-scala":"scala","x-setext":"etx","x-tcl":["tcl","tk"],"x-tex":["tex","ltx","sty","cls"],"x-vcalendar":"vcs","x-vcard":"vcf",n3:"n3","prs.lines.tag":"dsc",sgml:["sgml","sgm"],troff:["t","tr","roff","man","me","ms"],turtle:"ttl","uri-list":["uri","uris","urls"],vcard:"vcard","vnd.curl":"curl","vnd.curl.dcurl":"dcurl","vnd.curl.scurl":"scurl","vnd.curl.mcurl":"mcurl","vnd.dvb.subtitle":"sub","vnd.fly":"fly","vnd.fmi.flexstor":"flx","vnd.graphviz":"gv","vnd.in3d.3dml":"3dml","vnd.in3d.spot":"spot","x-asm":["s","asm"],"x-c":["c","cc","cxx","cpp","h","hh","dic"],"x-fortran":["f","for","f77","f90"],"x-opml":"opml","x-nfo":"nfo","x-sfv":"sfv","x-uuencode":"uu",webviewhtml:"htt"},video:{avif:".avif","3gpp":"3gp",annodex:"axv",dl:"dl",dv:["dif","dv"],fli:"fli",gl:"gl",mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.dece.hd":["uvh","uvvh"],"vnd.dece.mobile":["uvm","uvvm"],"vnd.dece.pd":["uvp","uvvp"],"vnd.dece.sd":["uvs","uvvs"],"vnd.dece.video":["uvv","uvvv"],"vnd.dvb.file":"dvb","vnd.fvt":"fvt","vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv"},"x-conference":{"x-cooltalk":"ice"},"x-world":{"x-vrml":["vrm","vrml","wrl","flr","wrz","xaf","xof"]}};(()=>{const t={};for(const e in ju)if(ju.hasOwnProperty(e)){for(const n in ju[e])if(ju[e].hasOwnProperty(n)){const s=ju[e][n];if(typeof s=="string")t[s]=e+"/"+n;else for(let i=0;i<s.length;i++)t[s[i]]=e+"/"+n}}return t})();const ok=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=e>>>1^3988292384:e=e>>>1;ok[t]=e}class Em{constructor(e){this.crc=e||-1}append(e){let n=this.crc|0;for(let s=0,i=e.length|0;s<i;s++)n=n>>>8^ok[(n^e[s])&255];this.crc=n}get(){return~this.crc}}class ak extends TransformStream{constructor(){let e;const n=new Em;super({transform(s,i){n.append(s),i.enqueue(s)},flush(){const s=new Uint8Array(4);new DataView(s.buffer).setUint32(0,n.get()),e.value=s}}),e=this}}function Tye(t){if(typeof TextEncoder>"u"){t=unescape(encodeURIComponent(t));const e=new Uint8Array(t.length);for(let n=0;n<e.length;n++)e[n]=t.charCodeAt(n);return e}else return new TextEncoder().encode(t)}const rs={concat(t,e){if(t.length===0||e.length===0)return t.concat(e);const n=t[t.length-1],s=rs.getPartial(n);return s===32?t.concat(e):rs._shiftRight(e,s,n|0,t.slice(0,t.length-1))},bitLength(t){const e=t.length;if(e===0)return 0;const n=t[e-1];return(e-1)*32+rs.getPartial(n)},clamp(t,e){if(t.length*32<e)return t;t=t.slice(0,Math.ceil(e/32));const n=t.length;return e=e&31,n>0&&e&&(t[n-1]=rs.partial(e,t[n-1]&2147483648>>e-1,1)),t},partial(t,e,n){return t===32?e:(n?e|0:e<<32-t)+t*1099511627776},getPartial(t){return Math.round(t/1099511627776)||32},_shiftRight(t,e,n,s){for(s===void 0&&(s=[]);e>=32;e-=32)s.push(n),n=0;if(e===0)return s.concat(t);for(let o=0;o<t.length;o++)s.push(n|t[o]>>>e),n=t[o]<<32-e;const i=t.length?t[t.length-1]:0,r=rs.getPartial(i);return s.push(rs.partial(e+r&31,e+r>32?n:s.pop(),1)),s}},Tm={bytes:{fromBits(t){const n=rs.bitLength(t)/8,s=new Uint8Array(n);let i;for(let r=0;r<n;r++)r&3||(i=t[r/4]),s[r]=i>>>24,i<<=8;return s},toBits(t){const e=[];let n,s=0;for(n=0;n<t.length;n++)s=s<<8|t[n],(n&3)===3&&(e.push(s),s=0);return n&3&&e.push(rs.partial(8*(n&3),s)),e}}},lk={};lk.sha1=class{constructor(t){const e=this;e.blockSize=512,e._init=[1732584193,4023233417,2562383102,271733878,3285377520],e._key=[1518500249,1859775393,2400959708,3395469782],t?(e._h=t._h.slice(0),e._buffer=t._buffer.slice(0),e._length=t._length):e.reset()}reset(){const t=this;return t._h=t._init.slice(0),t._buffer=[],t._length=0,t}update(t){const e=this;typeof t=="string"&&(t=Tm.utf8String.toBits(t));const n=e._buffer=rs.concat(e._buffer,t),s=e._length,i=e._length=s+rs.bitLength(t);if(i>9007199254740991)throw new Error("Cannot hash more than 2^53 - 1 bits");const r=new Uint32Array(n);let o=0;for(let a=e.blockSize+s-(e.blockSize+s&e.blockSize-1);a<=i;a+=e.blockSize)e._block(r.subarray(16*o,16*(o+1))),o+=1;return n.splice(0,16*o),e}finalize(){const t=this;let e=t._buffer;const n=t._h;e=rs.concat(e,[rs.partial(1,1)]);for(let s=e.length+2;s&15;s++)e.push(0);for(e.push(Math.floor(t._length/4294967296)),e.push(t._length|0);e.length;)t._block(e.splice(0,16));return t.reset(),n}_f(t,e,n,s){if(t<=19)return e&n|~e&s;if(t<=39)return e^n^s;if(t<=59)return e&n|e&s|n&s;if(t<=79)return e^n^s}_S(t,e){return e<<t|e>>>32-t}_block(t){const e=this,n=e._h,s=Array(80);for(let c=0;c<16;c++)s[c]=t[c];let i=n[0],r=n[1],o=n[2],a=n[3],l=n[4];for(let c=0;c<=79;c++){c>=16&&(s[c]=e._S(1,s[c-3]^s[c-8]^s[c-14]^s[c-16]));const u=e._S(5,i)+e._f(c,r,o,a)+l+s[c]+e._key[Math.floor(c/20)]|0;l=a,a=o,o=e._S(30,r),r=i,i=u}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+l|0}};const ck={};ck.aes=class{constructor(t){const e=this;e._tables=[[[],[],[],[],[]],[[],[],[],[],[]]],e._tables[0][0][0]||e._precompute();const n=e._tables[0][4],s=e._tables[1],i=t.length;let r,o,a,l=1;if(i!==4&&i!==6&&i!==8)throw new Error("invalid aes key size");for(e._key=[o=t.slice(0),a=[]],r=i;r<4*i+28;r++){let c=o[r-1];(r%i===0||i===8&&r%i===4)&&(c=n[c>>>24]<<24^n[c>>16&255]<<16^n[c>>8&255]<<8^n[c&255],r%i===0&&(c=c<<8^c>>>24^l<<24,l=l<<1^(l>>7)*283)),o[r]=o[r-i]^c}for(let c=0;r;c++,r--){const u=o[c&3?r:r-4];r<=4||c<4?a[c]=u:a[c]=s[0][n[u>>>24]]^s[1][n[u>>16&255]]^s[2][n[u>>8&255]]^s[3][n[u&255]]}}encrypt(t){return this._crypt(t,0)}decrypt(t){return this._crypt(t,1)}_precompute(){const t=this._tables[0],e=this._tables[1],n=t[4],s=e[4],i=[],r=[];let o,a,l,c;for(let u=0;u<256;u++)r[(i[u]=u<<1^(u>>7)*283)^u]=u;for(let u=o=0;!n[u];u^=a||1,o=r[o]||1){let d=o^o<<1^o<<2^o<<3^o<<4;d=d>>8^d&255^99,n[u]=d,s[d]=u,c=i[l=i[a=i[u]]];let f=c*16843009^l*65537^a*257^u*16843008,h=i[d]*257^d*16843008;for(let _=0;_<4;_++)t[_][u]=h=h<<24^h>>>8,e[_][d]=f=f<<24^f>>>8}for(let u=0;u<5;u++)t[u]=t[u].slice(0),e[u]=e[u].slice(0)}_crypt(t,e){if(t.length!==4)throw new Error("invalid aes block size");const n=this._key[e],s=n.length/4-2,i=[0,0,0,0],r=this._tables[e],o=r[0],a=r[1],l=r[2],c=r[3],u=r[4];let d=t[0]^n[0],f=t[e?3:1]^n[1],h=t[2]^n[2],_=t[e?1:3]^n[3],p=4,m,y,b;for(let v=0;v<s;v++)m=o[d>>>24]^a[f>>16&255]^l[h>>8&255]^c[_&255]^n[p],y=o[f>>>24]^a[h>>16&255]^l[_>>8&255]^c[d&255]^n[p+1],b=o[h>>>24]^a[_>>16&255]^l[d>>8&255]^c[f&255]^n[p+2],_=o[_>>>24]^a[d>>16&255]^l[f>>8&255]^c[h&255]^n[p+3],p+=4,d=m,f=y,h=b;for(let v=0;v<4;v++)i[e?3&-v:v]=u[d>>>24]<<24^u[f>>16&255]<<16^u[h>>8&255]<<8^u[_&255]^n[p++],m=d,d=f,f=h,h=_,_=m;return i}};const Mye={getRandomValues(t){const e=new Uint32Array(t.buffer),n=s=>{let i=987654321;const r=4294967295;return function(){return i=36969*(i&65535)+(i>>16)&r,s=18e3*(s&65535)+(s>>16)&r,(((i<<16)+s&r)/4294967296+.5)*(Math.random()>.5?1:-1)}};for(let s=0,i;s<t.length;s+=4){const r=n((i||Math.random())*4294967296);i=r()*987654071,e[s/4]=r()*4294967296|0}return t}},uk={};uk.ctrGladman=class{constructor(t,e){this._prf=t,this._initIv=e,this._iv=e}reset(){this._iv=this._initIv}update(t){return this.calculate(this._prf,t,this._iv)}incWord(t){if((t>>24&255)===255){let e=t>>16&255,n=t>>8&255,s=t&255;e===255?(e=0,n===255?(n=0,s===255?s=0:++s):++n):++e,t=0,t+=e<<16,t+=n<<8,t+=s}else t+=1<<24;return t}incCounter(t){(t[0]=this.incWord(t[0]))===0&&(t[1]=this.incWord(t[1]))}calculate(t,e,n){let s;if(!(s=e.length))return[];const i=rs.bitLength(e);for(let r=0;r<s;r+=4){this.incCounter(n);const o=t.encrypt(n);e[r]^=o[0],e[r+1]^=o[1],e[r+2]^=o[2],e[r+3]^=o[3]}return rs.clamp(e,i)}};const sl={importKey(t){return new sl.hmacSha1(Tm.bytes.toBits(t))},pbkdf2(t,e,n,s){if(n=n||1e4,s<0||n<0)throw new Error("invalid params to pbkdf2");const i=(s>>5)+1<<2;let r,o,a,l,c;const u=new ArrayBuffer(i),d=new DataView(u);let f=0;const h=rs;for(e=Tm.bytes.toBits(e),c=1;f<(i||1);c++){for(r=o=t.encrypt(h.concat(e,[c])),a=1;a<n;a++)for(o=t.encrypt(o),l=0;l<o.length;l++)r[l]^=o[l];for(a=0;f<(i||1)&&a<r.length;a++)d.setInt32(f,r[a]),f+=4}return u.slice(0,s/8)}};sl.hmacSha1=class{constructor(t){const e=this,n=e._hash=lk.sha1,s=[[],[]];e._baseHash=[new n,new n];const i=e._baseHash[0].blockSize/32;t.length>i&&(t=new n().update(t).finalize());for(let r=0;r<i;r++)s[0][r]=t[r]^909522486,s[1][r]=t[r]^1549556828;e._baseHash[0].update(s[0]),e._baseHash[1].update(s[1]),e._resultHash=new n(e._baseHash[0])}reset(){const t=this;t._resultHash=new t._hash(t._baseHash[0]),t._updated=!1}update(t){const e=this;e._updated=!0,e._resultHash.update(t)}digest(){const t=this,e=t._resultHash.finalize(),n=new t._hash(t._baseHash[1]).update(e).finalize();return t.reset(),n}encrypt(t){if(this._updated)throw new Error("encrypt on already updated hmac called!");return this.update(t),this.digest(t)}};const Aye=typeof crypto<"u"&&typeof crypto.getRandomValues=="function",dk="Invalid password",fk="Invalid signature",n2="zipjs-abort-check-password";function hk(t){return Aye?crypto.getRandomValues(t):Mye.getRandomValues(t)}const rc=16,kye="raw",pk={name:"PBKDF2"},Rye={name:"HMAC"},Cye="SHA-1",Oye=Object.assign({hash:Rye},pk),wy=Object.assign({iterations:1e3,hash:{name:Cye}},pk),Pye=["deriveBits"],lf=[8,12,16],qu=[16,24,32],mo=10,Lye=[0,0,0,0],mk="undefined",gk="function",Zg=typeof crypto!=mk,$f=Zg&&crypto.subtle,_k=Zg&&typeof $f!=mk,Ji=Tm.bytes,Iye=ck.aes,Dye=uk.ctrGladman,Fye=sl.hmacSha1;let tT=Zg&&_k&&typeof $f.importKey==gk,nT=Zg&&_k&&typeof $f.deriveBits==gk;class Nye extends TransformStream{constructor({password:e,signed:n,encryptionStrength:s,checkPasswordOnly:i}){super({start(){Object.assign(this,{ready:new Promise(r=>this.resolveReady=r),password:e,signed:n,strength:s-1,pending:new Uint8Array})},async transform(r,o){const a=this,{password:l,strength:c,resolveReady:u,ready:d}=a;l?(await $ye(a,c,l,Ws(r,0,lf[c]+2)),r=Ws(r,lf[c]+2),i?o.error(new Error(n2)):u()):await d;const f=new Uint8Array(r.length-mo-(r.length-mo)%rc);o.enqueue(yk(a,r,f,0,mo,!0))},async flush(r){const{signed:o,ctr:a,hmac:l,pending:c,ready:u}=this;await u;const d=Ws(c,0,c.length-mo),f=Ws(c,c.length-mo);let h=new Uint8Array;if(d.length){const _=uf(Ji,d);l.update(_);const p=a.update(_);h=cf(Ji,p)}if(o){const _=Ws(cf(Ji,l.digest()),0,mo);for(let p=0;p<mo;p++)if(_[p]!=f[p])throw new Error(fk)}r.enqueue(h)}})}}class Uye extends TransformStream{constructor({password:e,encryptionStrength:n}){let s;super({start(){Object.assign(this,{ready:new Promise(i=>this.resolveReady=i),password:e,strength:n-1,pending:new Uint8Array})},async transform(i,r){const o=this,{password:a,strength:l,resolveReady:c,ready:u}=o;let d=new Uint8Array;a?(d=await Bye(o,l,a),c()):await u;const f=new Uint8Array(d.length+i.length-i.length%rc);f.set(d,0),r.enqueue(yk(o,i,f,d.length,0))},async flush(i){const{ctr:r,hmac:o,pending:a,ready:l}=this;await l;let c=new Uint8Array;if(a.length){const u=r.update(uf(Ji,a));o.update(u),c=cf(Ji,u)}s.signature=cf(Ji,o.digest()).slice(0,mo),i.enqueue(s2(c,s.signature))}}),s=this}}function yk(t,e,n,s,i,r){const{ctr:o,hmac:a,pending:l}=t,c=e.length-i;l.length&&(e=s2(l,e),n=Hye(n,c-c%rc));let u;for(u=0;u<=c-rc;u+=rc){const d=uf(Ji,Ws(e,u,u+rc));r&&a.update(d);const f=o.update(d);r||a.update(f),n.set(cf(Ji,f),u+s)}return t.pending=Ws(e,u),n}async function $ye(t,e,n,s){const i=await bk(t,e,n,Ws(s,0,lf[e])),r=Ws(s,lf[e]);if(i[0]!=r[0]||i[1]!=r[1])throw new Error(dk)}async function Bye(t,e,n){const s=hk(new Uint8Array(lf[e])),i=await bk(t,e,n,s);return s2(s,i)}async function bk(t,e,n,s){t.password=null;const i=Tye(n),r=await zye(kye,i,Oye,!1,Pye),o=await Gye(Object.assign({salt:s},wy),r,8*(qu[e]*2+2)),a=new Uint8Array(o),l=uf(Ji,Ws(a,0,qu[e])),c=uf(Ji,Ws(a,qu[e],qu[e]*2)),u=Ws(a,qu[e]*2);return Object.assign(t,{keys:{key:l,authentication:c,passwordVerification:u},ctr:new Dye(new Iye(l),Array.from(Lye)),hmac:new Fye(c)}),u}async function zye(t,e,n,s,i){if(tT)try{return await $f.importKey(t,e,n,s,i)}catch{return tT=!1,sl.importKey(e)}else return sl.importKey(e)}async function Gye(t,e,n){if(nT)try{return await $f.deriveBits(t,e,n)}catch{return nT=!1,sl.pbkdf2(e,t.salt,wy.iterations,n)}else return sl.pbkdf2(e,t.salt,wy.iterations,n)}function s2(t,e){let n=t;return t.length+e.length&&(n=new Uint8Array(t.length+e.length),n.set(t,0),n.set(e,t.length)),n}function Hye(t,e){if(e&&e>t.length){const n=t;t=new Uint8Array(e),t.set(n,0)}return t}function Ws(t,e,n){return t.subarray(e,n)}function cf(t,e){return t.fromBits(e)}function uf(t,e){return t.toBits(e)}const xc=12;class Vye extends TransformStream{constructor({password:e,passwordVerification:n,checkPasswordOnly:s}){super({start(){Object.assign(this,{password:e,passwordVerification:n}),vk(this,e)},transform(i,r){const o=this;if(o.password){const a=sT(o,i.subarray(0,xc));if(o.password=null,a[xc-1]!=o.passwordVerification)throw new Error(dk);i=i.subarray(xc)}s?r.error(new Error(n2)):r.enqueue(sT(o,i))}})}}class Wye extends TransformStream{constructor({password:e,passwordVerification:n}){super({start(){Object.assign(this,{password:e,passwordVerification:n}),vk(this,e)},transform(s,i){const r=this;let o,a;if(r.password){r.password=null;const l=hk(new Uint8Array(xc));l[xc-1]=r.passwordVerification,o=new Uint8Array(s.length+l.length),o.set(iT(r,l),0),a=xc}else o=new Uint8Array(s.length),a=0;o.set(iT(r,s),a),i.enqueue(o)}})}}function sT(t,e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=wk(t)^e[s],i2(t,n[s]);return n}function iT(t,e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=wk(t)^e[s],i2(t,e[s]);return n}function vk(t,e){const n=[305419896,591751049,878082192];Object.assign(t,{keys:n,crcKey0:new Em(n[0]),crcKey2:new Em(n[2])});for(let s=0;s<e.length;s++)i2(t,e.charCodeAt(s))}function i2(t,e){let[n,s,i]=t.keys;t.crcKey0.append([e]),n=~t.crcKey0.get(),s=rT(Math.imul(rT(s+xk(n)),134775813)+1),t.crcKey2.append([s>>>24]),i=~t.crcKey2.get(),t.keys=[n,s,i]}function wk(t){const e=t.keys[2]|2;return xk(Math.imul(e,e^1)>>>8)}function xk(t){return t&255}function rT(t){return t&4294967295}const oT="deflate-raw";class jye extends TransformStream{constructor(e,{chunkSize:n,CompressionStream:s,CompressionStreamNative:i}){super({});const{compressed:r,encrypted:o,useCompressionStream:a,zipCrypto:l,signed:c,level:u}=e,d=this;let f,h,_=Sk(super.readable);(!o||l)&&c&&(f=new ak,_=Qi(_,f)),r&&(_=Tk(_,a,{level:u,chunkSize:n},i,s)),o&&(l?_=Qi(_,new Wye(e)):(h=new Uye(e),_=Qi(_,h))),Ek(d,_,async()=>{let p;o&&!l&&(p=h.signature),(!o||l)&&c&&(p=new DataView(f.value.buffer).getUint32(0)),d.signature=p})}}class qye extends TransformStream{constructor(e,{chunkSize:n,DecompressionStream:s,DecompressionStreamNative:i}){super({});const{zipCrypto:r,encrypted:o,signed:a,signature:l,compressed:c,useCompressionStream:u}=e;let d,f,h=Sk(super.readable);o&&(r?h=Qi(h,new Vye(e)):(f=new Nye(e),h=Qi(h,f))),c&&(h=Tk(h,u,{chunkSize:n},i,s)),(!o||r)&&a&&(d=new ak,h=Qi(h,d)),Ek(this,h,async()=>{if((!o||r)&&a){const _=new DataView(d.value.buffer);if(l!=_.getUint32(0,!1))throw new Error(fk)}})}}function Sk(t){return Qi(t,new TransformStream({transform(e,n){e&&e.length&&n.enqueue(e)}}))}function Ek(t,e,n){e=Qi(e,new TransformStream({flush:n})),Object.defineProperty(t,"readable",{get(){return e}})}function Tk(t,e,n,s,i){try{const r=e&&s?s:i;t=Qi(t,new r(oT,n))}catch(r){if(e)t=Qi(t,new i(oT,n));else throw r}return t}function Qi(t,e){return t.pipeThrough(e)}const Yye="message",Kye="start",Xye="pull",aT="data",Zye="ack",Jye="close",Qye="deflate",Mk="inflate";class ebe extends TransformStream{constructor(e,n){super({});const s=this,{codecType:i}=e;let r;i.startsWith(Qye)?r=jye:i.startsWith(Mk)&&(r=qye);let o=0;const a=new r(e,n),l=super.readable,c=new TransformStream({transform(u,d){u&&u.length&&(o+=u.length,d.enqueue(u))},flush(){const{signature:u}=a;Object.assign(s,{signature:u,size:o})}});Object.defineProperty(s,"readable",{get(){return l.pipeThrough(a).pipeThrough(c)}})}}const tbe=typeof Worker!=Sm;class Z_{constructor(e,{readable:n,writable:s},{options:i,config:r,streamOptions:o,useWebWorkers:a,transferStreams:l,scripts:c},u){const{signal:d}=o;return Object.assign(e,{busy:!0,readable:n.pipeThrough(new nbe(n,o,r),{signal:d}),writable:s,options:Object.assign({},i),scripts:c,transferStreams:l,terminate(){const{worker:f,busy:h}=e;f&&!h&&(f.terminate(),e.interface=null)},onTaskFinished(){e.busy=!1,u(e)}}),(a&&tbe?ibe:sbe)(e,r)}}class nbe extends TransformStream{constructor(e,{onstart:n,onprogress:s,size:i,onend:r},{chunkSize:o}){let a=0;super({start(){n&&J_(n,i)},async transform(l,c){a+=l.length,s&&await J_(s,a,i),c.enqueue(l)},flush(){e.size=a,r&&J_(r,a)}},{highWaterMark:1,size:()=>o})}}async function J_(t,...e){try{await t(...e)}catch{}}function sbe(t,e){return{run:()=>rbe(t,e)}}function ibe(t,{baseURL:e,chunkSize:n}){return t.interface||Object.assign(t,{worker:lbe(t.scripts[0],e,t),interface:{run:()=>obe(t,{chunkSize:n})}}),t.interface}async function rbe({options:t,readable:e,writable:n,onTaskFinished:s},i){const r=new ebe(t,i);try{await e.pipeThrough(r).pipeTo(n,{preventClose:!0,preventAbort:!0});const{signature:o,size:a}=r;return{signature:o,size:a}}finally{s()}}async function obe(t,e){let n,s;const i=new Promise((f,h)=>{n=f,s=h});Object.assign(t,{reader:null,writer:null,resolveResult:n,rejectResult:s,result:i});const{readable:r,options:o,scripts:a}=t,{writable:l,closed:c}=abe(t.writable);xy({type:Kye,scripts:a.slice(1),options:o,config:e,readable:r,writable:l},t)||Object.assign(t,{reader:r.getReader(),writer:l.getWriter()});const d=await i;try{await l.close()}catch{}return await c,d}function abe(t){const e=t.getWriter();let n;const s=new Promise(r=>n=r);return{writable:new WritableStream({async write(r){await e.ready,await e.write(r)},close(){e.releaseLock(),n()},abort(r){return e.abort(r)}}),closed:s}}let lT=!0,cT=!0;function lbe(t,e,n){const s={type:"module"};let i,r;typeof t==ik&&(t=t());try{i=new URL(t,e)}catch{i=t}if(lT)try{r=new Worker(i)}catch{lT=!1,r=new Worker(i,s)}else r=new Worker(i,s);return r.addEventListener(Yye,o=>cbe(o,n)),r}function xy(t,{worker:e,writer:n,onTaskFinished:s,transferStreams:i}){try{let{value:r,readable:o,writable:a}=t;const l=[];if(r&&(t.value=r.buffer,l.push(t.value)),i&&cT?(o&&l.push(o),a&&l.push(a)):t.readable=t.writable=null,l.length)try{return e.postMessage(t,l),!0}catch{cT=!1,t.readable=t.writable=null,e.postMessage(t)}else e.postMessage(t)}catch(r){throw n&&n.releaseLock(),s(),r}}async function cbe({data:t},e){const{type:n,value:s,messageId:i,result:r,error:o}=t,{reader:a,writer:l,resolveResult:c,rejectResult:u,onTaskFinished:d}=e;try{if(o){const{message:h,stack:_,code:p,name:m}=o,y=new Error(h);Object.assign(y,{stack:_,code:p,name:m}),f(y)}else{if(n==Xye){const{value:h,done:_}=await a.read();xy({type:aT,value:h,done:_,messageId:i},e)}n==aT&&(await l.ready,await l.write(new Uint8Array(s)),xy({type:Zye,messageId:i},e)),n==Jye&&f(null,r)}}catch(h){f(h)}function f(h,_){h?u(h):c(_),l&&l.releaseLock(),d()}}let aa=[];const Q_=[];let uT=0;async function ube(t,e){const{options:n,config:s}=e,{transferStreams:i,useWebWorkers:r,useCompressionStream:o,codecType:a,compressed:l,signed:c,encrypted:u}=n,{workerScripts:d,maxWorkers:f,terminateWorkerTimeout:h}=s;e.transferStreams=i||i===Si;const _=!l&&!c&&!u&&!e.transferStreams;e.useWebWorkers=!_&&(r||r===Si&&s.useWebWorkers),e.scripts=e.useWebWorkers&&d?d[a]:[],n.useCompressionStream=o||o===Si&&s.useCompressionStream;let p;const m=aa.find(b=>!b.busy);if(m)dT(m),p=new Z_(m,t,e,y);else if(aa.length<f){const b={indexWorker:uT};uT++,aa.push(b),p=new Z_(b,t,e,y)}else p=await new Promise(b=>Q_.push({resolve:b,stream:t,workerOptions:e}));return p.run();function y(b){if(Q_.length){const[{resolve:v,stream:w,workerOptions:S}]=Q_.splice(0,1);v(new Z_(b,w,S,y))}else b.worker?(dT(b),Number.isFinite(h)&&h>=0&&(b.terminateTimeout=setTimeout(()=>{aa=aa.filter(v=>v!=b),b.terminate()},h))):aa=aa.filter(v=>v!=b)}}function dT(t){const{terminateTimeout:e}=t;e&&(clearTimeout(e),t.terminateTimeout=null)}function dbe(t){const e=()=>URL.createObjectURL(new Blob([`const{Array:e,Object:t,Number:n,Math:r,Error:s,Uint8Array:i,Uint16Array:o,Uint32Array:c,Int32Array:f,Map:a,DataView:l,Promise:u,TextEncoder:w,crypto:h,postMessage:d,TransformStream:p,ReadableStream:y,WritableStream:m,CompressionStream:b,DecompressionStream:g}=self;class k{constructor(e){return class extends p{constructor(t,n){const r=new e(n);super({transform(e,t){t.enqueue(r.append(e))},flush(e){const t=r.flush();t&&e.enqueue(t)}})}}}}const v=[];for(let e=0;256>e;e++){let t=e;for(let e=0;8>e;e++)1&t?t=t>>>1^3988292384:t>>>=1;v[e]=t}class S{constructor(e){this.t=e||-1}append(e){let t=0|this.t;for(let n=0,r=0|e.length;r>n;n++)t=t>>>8^v[255&(t^e[n])];this.t=t}get(){return~this.t}}class z extends p{constructor(){let e;const t=new S;super({transform(e,n){t.append(e),n.enqueue(e)},flush(){const n=new i(4);new l(n.buffer).setUint32(0,t.get()),e.value=n}}),e=this}}const C={concat(e,t){if(0===e.length||0===t.length)return e.concat(t);const n=e[e.length-1],r=C.i(n);return 32===r?e.concat(t):C.o(t,r,0|n,e.slice(0,e.length-1))},l(e){const t=e.length;if(0===t)return 0;const n=e[t-1];return 32*(t-1)+C.i(n)},u(e,t){if(32*e.length<t)return e;const n=(e=e.slice(0,r.ceil(t/32))).length;return t&=31,n>0&&t&&(e[n-1]=C.h(t,e[n-1]&2147483648>>t-1,1)),e},h:(e,t,n)=>32===e?t:(n?0|t:t<<32-e)+1099511627776*e,i:e=>r.round(e/1099511627776)||32,o(e,t,n,r){for(void 0===r&&(r=[]);t>=32;t-=32)r.push(n),n=0;if(0===t)return r.concat(e);for(let s=0;s<e.length;s++)r.push(n|e[s]>>>t),n=e[s]<<32-t;const s=e.length?e[e.length-1]:0,i=C.i(s);return r.push(C.h(t+i&31,t+i>32?n:r.pop(),1)),r}},x={p:{m(e){const t=C.l(e)/8,n=new i(t);let r;for(let s=0;t>s;s++)0==(3&s)&&(r=e[s/4]),n[s]=r>>>24,r<<=8;return n},g(e){const t=[];let n,r=0;for(n=0;n<e.length;n++)r=r<<8|e[n],3==(3&n)&&(t.push(r),r=0);return 3&n&&t.push(C.h(8*(3&n),r)),t}}},_=class{constructor(e){const t=this;t.blockSize=512,t.k=[1732584193,4023233417,2562383102,271733878,3285377520],t.v=[1518500249,1859775393,2400959708,3395469782],e?(t.S=e.S.slice(0),t.C=e.C.slice(0),t._=e._):t.reset()}reset(){const e=this;return e.S=e.k.slice(0),e.C=[],e._=0,e}update(e){const t=this;"string"==typeof e&&(e=x.A.g(e));const n=t.C=C.concat(t.C,e),r=t._,i=t._=r+C.l(e);if(i>9007199254740991)throw new s("Cannot hash more than 2^53 - 1 bits");const o=new c(n);let f=0;for(let e=t.blockSize+r-(t.blockSize+r&t.blockSize-1);i>=e;e+=t.blockSize)t.I(o.subarray(16*f,16*(f+1))),f+=1;return n.splice(0,16*f),t}D(){const e=this;let t=e.C;const n=e.S;t=C.concat(t,[C.h(1,1)]);for(let e=t.length+2;15&e;e++)t.push(0);for(t.push(r.floor(e._/4294967296)),t.push(0|e._);t.length;)e.I(t.splice(0,16));return e.reset(),n}V(e,t,n,r){return e>19?e>39?e>59?e>79?void 0:t^n^r:t&n|t&r|n&r:t^n^r:t&n|~t&r}P(e,t){return t<<e|t>>>32-e}I(t){const n=this,s=n.S,i=e(80);for(let e=0;16>e;e++)i[e]=t[e];let o=s[0],c=s[1],f=s[2],a=s[3],l=s[4];for(let e=0;79>=e;e++){16>e||(i[e]=n.P(1,i[e-3]^i[e-8]^i[e-14]^i[e-16]));const t=n.P(5,o)+n.V(e,c,f,a)+l+i[e]+n.v[r.floor(e/20)]|0;l=a,a=f,f=n.P(30,c),c=o,o=t}s[0]=s[0]+o|0,s[1]=s[1]+c|0,s[2]=s[2]+f|0,s[3]=s[3]+a|0,s[4]=s[4]+l|0}},A={getRandomValues(e){const t=new c(e.buffer),n=e=>{let t=987654321;const n=4294967295;return()=>(t=36969*(65535&t)+(t>>16)&n,(((t<<16)+(e=18e3*(65535&e)+(e>>16)&n)&n)/4294967296+.5)*(r.random()>.5?1:-1))};for(let s,i=0;i<e.length;i+=4){const e=n(4294967296*(s||r.random()));s=987654071*e(),t[i/4]=4294967296*e()|0}return e}},I={importKey:e=>new I.R(x.p.g(e)),B(e,t,n,r){if(n=n||1e4,0>r||0>n)throw new s("invalid params to pbkdf2");const i=1+(r>>5)<<2;let o,c,f,a,u;const w=new ArrayBuffer(i),h=new l(w);let d=0;const p=C;for(t=x.p.g(t),u=1;(i||1)>d;u++){for(o=c=e.encrypt(p.concat(t,[u])),f=1;n>f;f++)for(c=e.encrypt(c),a=0;a<c.length;a++)o[a]^=c[a];for(f=0;(i||1)>d&&f<o.length;f++)h.setInt32(d,o[f]),d+=4}return w.slice(0,r/8)},R:class{constructor(e){const t=this,n=t.M=_,r=[[],[]];t.K=[new n,new n];const s=t.K[0].blockSize/32;e.length>s&&(e=(new n).update(e).D());for(let t=0;s>t;t++)r[0][t]=909522486^e[t],r[1][t]=1549556828^e[t];t.K[0].update(r[0]),t.K[1].update(r[1]),t.U=new n(t.K[0])}reset(){const e=this;e.U=new e.M(e.K[0]),e.N=!1}update(e){this.N=!0,this.U.update(e)}digest(){const e=this,t=e.U.D(),n=new e.M(e.K[1]).update(t).D();return e.reset(),n}encrypt(e){if(this.N)throw new s("encrypt on already updated hmac called!");return this.update(e),this.digest(e)}}},D=void 0!==h&&"function"==typeof h.getRandomValues,V="Invalid password",P="Invalid signature",R="zipjs-abort-check-password";function B(e){return D?h.getRandomValues(e):A.getRandomValues(e)}const E=16,M={name:"PBKDF2"},K=t.assign({hash:{name:"HMAC"}},M),U=t.assign({iterations:1e3,hash:{name:"SHA-1"}},M),N=["deriveBits"],O=[8,12,16],T=[16,24,32],W=10,j=[0,0,0,0],H="undefined",L="function",F=typeof h!=H,q=F&&h.subtle,G=F&&typeof q!=H,J=x.p,Q=class{constructor(e){const t=this;t.O=[[[],[],[],[],[]],[[],[],[],[],[]]],t.O[0][0][0]||t.T();const n=t.O[0][4],r=t.O[1],i=e.length;let o,c,f,a=1;if(4!==i&&6!==i&&8!==i)throw new s("invalid aes key size");for(t.v=[c=e.slice(0),f=[]],o=i;4*i+28>o;o++){let e=c[o-1];(o%i==0||8===i&&o%i==4)&&(e=n[e>>>24]<<24^n[e>>16&255]<<16^n[e>>8&255]<<8^n[255&e],o%i==0&&(e=e<<8^e>>>24^a<<24,a=a<<1^283*(a>>7))),c[o]=c[o-i]^e}for(let e=0;o;e++,o--){const t=c[3&e?o:o-4];f[e]=4>=o||4>e?t:r[0][n[t>>>24]]^r[1][n[t>>16&255]]^r[2][n[t>>8&255]]^r[3][n[255&t]]}}encrypt(e){return this.W(e,0)}decrypt(e){return this.W(e,1)}T(){const e=this.O[0],t=this.O[1],n=e[4],r=t[4],s=[],i=[];let o,c,f,a;for(let e=0;256>e;e++)i[(s[e]=e<<1^283*(e>>7))^e]=e;for(let l=o=0;!n[l];l^=c||1,o=i[o]||1){let i=o^o<<1^o<<2^o<<3^o<<4;i=i>>8^255&i^99,n[l]=i,r[i]=l,a=s[f=s[c=s[l]]];let u=16843009*a^65537*f^257*c^16843008*l,w=257*s[i]^16843008*i;for(let n=0;4>n;n++)e[n][l]=w=w<<24^w>>>8,t[n][i]=u=u<<24^u>>>8}for(let n=0;5>n;n++)e[n]=e[n].slice(0),t[n]=t[n].slice(0)}W(e,t){if(4!==e.length)throw new s("invalid aes block size");const n=this.v[t],r=n.length/4-2,i=[0,0,0,0],o=this.O[t],c=o[0],f=o[1],a=o[2],l=o[3],u=o[4];let w,h,d,p=e[0]^n[0],y=e[t?3:1]^n[1],m=e[2]^n[2],b=e[t?1:3]^n[3],g=4;for(let e=0;r>e;e++)w=c[p>>>24]^f[y>>16&255]^a[m>>8&255]^l[255&b]^n[g],h=c[y>>>24]^f[m>>16&255]^a[b>>8&255]^l[255&p]^n[g+1],d=c[m>>>24]^f[b>>16&255]^a[p>>8&255]^l[255&y]^n[g+2],b=c[b>>>24]^f[p>>16&255]^a[y>>8&255]^l[255&m]^n[g+3],g+=4,p=w,y=h,m=d;for(let e=0;4>e;e++)i[t?3&-e:e]=u[p>>>24]<<24^u[y>>16&255]<<16^u[m>>8&255]<<8^u[255&b]^n[g++],w=p,p=y,y=m,m=b,b=w;return i}},X=class{constructor(e,t){this.j=e,this.H=t,this.L=t}reset(){this.L=this.H}update(e){return this.F(this.j,e,this.L)}q(e){if(255==(e>>24&255)){let t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}else e+=1<<24;return e}G(e){0===(e[0]=this.q(e[0]))&&(e[1]=this.q(e[1]))}F(e,t,n){let r;if(!(r=t.length))return[];const s=C.l(t);for(let s=0;r>s;s+=4){this.G(n);const r=e.encrypt(n);t[s]^=r[0],t[s+1]^=r[1],t[s+2]^=r[2],t[s+3]^=r[3]}return C.u(t,s)}},Y=I.R;let Z=F&&G&&typeof q.importKey==L,$=F&&G&&typeof q.deriveBits==L;class ee extends p{constructor({password:e,signed:n,encryptionStrength:r,checkPasswordOnly:o}){super({start(){t.assign(this,{ready:new u((e=>this.J=e)),password:e,signed:n,X:r-1,pending:new i})},async transform(e,t){const n=this,{password:r,X:c,J:f,ready:a}=n;r?(await(async(e,t,n,r)=>{const i=await re(e,t,n,ie(r,0,O[t])),o=ie(r,O[t]);if(i[0]!=o[0]||i[1]!=o[1])throw new s(V)})(n,c,r,ie(e,0,O[c]+2)),e=ie(e,O[c]+2),o?t.error(new s(R)):f()):await a;const l=new i(e.length-W-(e.length-W)%E);t.enqueue(ne(n,e,l,0,W,!0))},async flush(e){const{signed:t,Y:n,Z:r,pending:o,ready:c}=this;await c;const f=ie(o,0,o.length-W),a=ie(o,o.length-W);let l=new i;if(f.length){const e=ce(J,f);r.update(e);const t=n.update(e);l=oe(J,t)}if(t){const e=ie(oe(J,r.digest()),0,W);for(let t=0;W>t;t++)if(e[t]!=a[t])throw new s(P)}e.enqueue(l)}})}}class te extends p{constructor({password:e,encryptionStrength:n}){let r;super({start(){t.assign(this,{ready:new u((e=>this.J=e)),password:e,X:n-1,pending:new i})},async transform(e,t){const n=this,{password:r,X:s,J:o,ready:c}=n;let f=new i;r?(f=await(async(e,t,n)=>{const r=B(new i(O[t]));return se(r,await re(e,t,n,r))})(n,s,r),o()):await c;const a=new i(f.length+e.length-e.length%E);a.set(f,0),t.enqueue(ne(n,e,a,f.length,0))},async flush(e){const{Y:t,Z:n,pending:s,ready:o}=this;await o;let c=new i;if(s.length){const e=t.update(ce(J,s));n.update(e),c=oe(J,e)}r.signature=oe(J,n.digest()).slice(0,W),e.enqueue(se(c,r.signature))}}),r=this}}function ne(e,t,n,r,s,o){const{Y:c,Z:f,pending:a}=e,l=t.length-s;let u;for(a.length&&(t=se(a,t),n=((e,t)=>{if(t&&t>e.length){const n=e;(e=new i(t)).set(n,0)}return e})(n,l-l%E)),u=0;l-E>=u;u+=E){const e=ce(J,ie(t,u,u+E));o&&f.update(e);const s=c.update(e);o||f.update(s),n.set(oe(J,s),u+r)}return e.pending=ie(t,u),n}async function re(n,r,s,o){n.password=null;const c=(e=>{if(void 0===w){const t=new i((e=unescape(encodeURIComponent(e))).length);for(let n=0;n<t.length;n++)t[n]=e.charCodeAt(n);return t}return(new w).encode(e)})(s),f=await(async(e,t,n,r,s)=>{if(!Z)return I.importKey(t);try{return await q.importKey("raw",t,n,!1,s)}catch(e){return Z=!1,I.importKey(t)}})(0,c,K,0,N),a=await(async(e,t,n)=>{if(!$)return I.B(t,e.salt,U.iterations,n);try{return await q.deriveBits(e,t,n)}catch(r){return $=!1,I.B(t,e.salt,U.iterations,n)}})(t.assign({salt:o},U),f,8*(2*T[r]+2)),l=new i(a),u=ce(J,ie(l,0,T[r])),h=ce(J,ie(l,T[r],2*T[r])),d=ie(l,2*T[r]);return t.assign(n,{keys:{key:u,$:h,passwordVerification:d},Y:new X(new Q(u),e.from(j)),Z:new Y(h)}),d}function se(e,t){let n=e;return e.length+t.length&&(n=new i(e.length+t.length),n.set(e,0),n.set(t,e.length)),n}function ie(e,t,n){return e.subarray(t,n)}function oe(e,t){return e.m(t)}function ce(e,t){return e.g(t)}class fe extends p{constructor({password:e,passwordVerification:n,checkPasswordOnly:r}){super({start(){t.assign(this,{password:e,passwordVerification:n}),we(this,e)},transform(e,t){const n=this;if(n.password){const t=le(n,e.subarray(0,12));if(n.password=null,t[11]!=n.passwordVerification)throw new s(V);e=e.subarray(12)}r?t.error(new s(R)):t.enqueue(le(n,e))}})}}class ae extends p{constructor({password:e,passwordVerification:n}){super({start(){t.assign(this,{password:e,passwordVerification:n}),we(this,e)},transform(e,t){const n=this;let r,s;if(n.password){n.password=null;const t=B(new i(12));t[11]=n.passwordVerification,r=new i(e.length+t.length),r.set(ue(n,t),0),s=12}else r=new i(e.length),s=0;r.set(ue(n,e),s),t.enqueue(r)}})}}function le(e,t){const n=new i(t.length);for(let r=0;r<t.length;r++)n[r]=de(e)^t[r],he(e,n[r]);return n}function ue(e,t){const n=new i(t.length);for(let r=0;r<t.length;r++)n[r]=de(e)^t[r],he(e,t[r]);return n}function we(e,n){const r=[305419896,591751049,878082192];t.assign(e,{keys:r,ee:new S(r[0]),te:new S(r[2])});for(let t=0;t<n.length;t++)he(e,n.charCodeAt(t))}function he(e,t){let[n,s,i]=e.keys;e.ee.append([t]),n=~e.ee.get(),s=ye(r.imul(ye(s+pe(n)),134775813)+1),e.te.append([s>>>24]),i=~e.te.get(),e.keys=[n,s,i]}function de(e){const t=2|e.keys[2];return pe(r.imul(t,1^t)>>>8)}function pe(e){return 255&e}function ye(e){return 4294967295&e}const me="deflate-raw";class be extends p{constructor(e,{chunkSize:t,CompressionStream:n,CompressionStreamNative:r}){super({});const{compressed:s,encrypted:i,useCompressionStream:o,zipCrypto:c,signed:f,level:a}=e,u=this;let w,h,d=ke(super.readable);i&&!c||!f||(w=new z,d=ze(d,w)),s&&(d=Se(d,o,{level:a,chunkSize:t},r,n)),i&&(c?d=ze(d,new ae(e)):(h=new te(e),d=ze(d,h))),ve(u,d,(async()=>{let e;i&&!c&&(e=h.signature),i&&!c||!f||(e=new l(w.value.buffer).getUint32(0)),u.signature=e}))}}class ge extends p{constructor(e,{chunkSize:t,DecompressionStream:n,DecompressionStreamNative:r}){super({});const{zipCrypto:i,encrypted:o,signed:c,signature:f,compressed:a,useCompressionStream:u}=e;let w,h,d=ke(super.readable);o&&(i?d=ze(d,new fe(e)):(h=new ee(e),d=ze(d,h))),a&&(d=Se(d,u,{chunkSize:t},r,n)),o&&!i||!c||(w=new z,d=ze(d,w)),ve(this,d,(async()=>{if((!o||i)&&c){const e=new l(w.value.buffer);if(f!=e.getUint32(0,!1))throw new s(P)}}))}}function ke(e){return ze(e,new p({transform(e,t){e&&e.length&&t.enqueue(e)}}))}function ve(e,n,r){n=ze(n,new p({flush:r})),t.defineProperty(e,"readable",{get:()=>n})}function Se(e,t,n,r,s){try{e=ze(e,new(t&&r?r:s)(me,n))}catch(r){if(!t)throw r;e=ze(e,new s(me,n))}return e}function ze(e,t){return e.pipeThrough(t)}const Ce="data";class xe extends p{constructor(e,n){super({});const r=this,{codecType:s}=e;let i;s.startsWith("deflate")?i=be:s.startsWith("inflate")&&(i=ge);let o=0;const c=new i(e,n),f=super.readable,a=new p({transform(e,t){e&&e.length&&(o+=e.length,t.enqueue(e))},flush(){const{signature:e}=c;t.assign(r,{signature:e,size:o})}});t.defineProperty(r,"readable",{get:()=>f.pipeThrough(c).pipeThrough(a)})}}const _e=new a,Ae=new a;let Ie=0;async function De(e){try{const{options:t,scripts:r,config:s}=e;r&&r.length&&importScripts.apply(void 0,r),self.initCodec&&self.initCodec(),s.CompressionStreamNative=self.CompressionStream,s.DecompressionStreamNative=self.DecompressionStream,self.Deflate&&(s.CompressionStream=new k(self.Deflate)),self.Inflate&&(s.DecompressionStream=new k(self.Inflate));const i={highWaterMark:1,size:()=>s.chunkSize},o=e.readable||new y({async pull(e){const t=new u((e=>_e.set(Ie,e)));Ve({type:"pull",messageId:Ie}),Ie=(Ie+1)%n.MAX_SAFE_INTEGER;const{value:r,done:s}=await t;e.enqueue(r),s&&e.close()}},i),c=e.writable||new m({async write(e){let t;const r=new u((e=>t=e));Ae.set(Ie,t),Ve({type:Ce,value:e,messageId:Ie}),Ie=(Ie+1)%n.MAX_SAFE_INTEGER,await r}},i),f=new xe(t,s);await o.pipeThrough(f).pipeTo(c,{preventClose:!0,preventAbort:!0});try{await c.close()}catch(e){}const{signature:a,size:l}=f;Ve({type:"close",result:{signature:a,size:l}})}catch(e){Pe(e)}}function Ve(e){let{value:t}=e;if(t)if(t.length)try{t=new i(t),e.value=t.buffer,d(e,[e.value])}catch(t){d(e)}else d(e);else d(e)}function Pe(e){const{message:t,stack:n,code:r,name:s}=e;d({error:{message:t,stack:n,code:r,name:s}})}addEventListener("message",(({data:e})=>{const{type:t,messageId:n,value:r,done:s}=e;try{if("start"==t&&De(e),t==Ce){const e=_e.get(n);_e.delete(n),e({value:new i(r),done:s})}if("ack"==t){const e=Ae.get(n);Ae.delete(n),e()}}catch(e){Pe(e)}}));const Re=-2;function Be(t){return Ee(t.map((([t,n])=>new e(t).fill(n,0,t))))}function Ee(t){return t.reduce(((t,n)=>t.concat(e.isArray(n)?Ee(n):n)),[])}const Me=[0,1,2,3].concat(...Be([[2,4],[2,5],[4,6],[4,7],[8,8],[8,9],[16,10],[16,11],[32,12],[32,13],[64,14],[64,15],[2,0],[1,16],[1,17],[2,18],[2,19],[4,20],[4,21],[8,22],[8,23],[16,24],[16,25],[32,26],[32,27],[64,28],[64,29]]));function Ke(){const e=this;function t(e,t){let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}e.ne=n=>{const s=e.re,i=e.ie.se,o=e.ie.oe;let c,f,a,l=-1;for(n.ce=0,n.fe=573,c=0;o>c;c++)0!==s[2*c]?(n.ae[++n.ce]=l=c,n.le[c]=0):s[2*c+1]=0;for(;2>n.ce;)a=n.ae[++n.ce]=2>l?++l:0,s[2*a]=1,n.le[a]=0,n.ue--,i&&(n.we-=i[2*a+1]);for(e.he=l,c=r.floor(n.ce/2);c>=1;c--)n.de(s,c);a=o;do{c=n.ae[1],n.ae[1]=n.ae[n.ce--],n.de(s,1),f=n.ae[1],n.ae[--n.fe]=c,n.ae[--n.fe]=f,s[2*a]=s[2*c]+s[2*f],n.le[a]=r.max(n.le[c],n.le[f])+1,s[2*c+1]=s[2*f+1]=a,n.ae[1]=a++,n.de(s,1)}while(n.ce>=2);n.ae[--n.fe]=n.ae[1],(t=>{const n=e.re,r=e.ie.se,s=e.ie.pe,i=e.ie.ye,o=e.ie.me;let c,f,a,l,u,w,h=0;for(l=0;15>=l;l++)t.be[l]=0;for(n[2*t.ae[t.fe]+1]=0,c=t.fe+1;573>c;c++)f=t.ae[c],l=n[2*n[2*f+1]+1]+1,l>o&&(l=o,h++),n[2*f+1]=l,f>e.he||(t.be[l]++,u=0,i>f||(u=s[f-i]),w=n[2*f],t.ue+=w*(l+u),r&&(t.we+=w*(r[2*f+1]+u)));if(0!==h){do{for(l=o-1;0===t.be[l];)l--;t.be[l]--,t.be[l+1]+=2,t.be[o]--,h-=2}while(h>0);for(l=o;0!==l;l--)for(f=t.be[l];0!==f;)a=t.ae[--c],a>e.he||(n[2*a+1]!=l&&(t.ue+=(l-n[2*a+1])*n[2*a],n[2*a+1]=l),f--)}})(n),((e,n,r)=>{const s=[];let i,o,c,f=0;for(i=1;15>=i;i++)s[i]=f=f+r[i-1]<<1;for(o=0;n>=o;o++)c=e[2*o+1],0!==c&&(e[2*o]=t(s[c]++,c))})(s,e.he,n.be)}}function Ue(e,t,n,r,s){const i=this;i.se=e,i.pe=t,i.ye=n,i.oe=r,i.me=s}Ke.ge=[0,1,2,3,4,5,6,7].concat(...Be([[2,8],[2,9],[2,10],[2,11],[4,12],[4,13],[4,14],[4,15],[8,16],[8,17],[8,18],[8,19],[16,20],[16,21],[16,22],[16,23],[32,24],[32,25],[32,26],[31,27],[1,28]])),Ke.ke=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],Ke.ve=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],Ke.Se=e=>256>e?Me[e]:Me[256+(e>>>7)],Ke.ze=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Ke.Ce=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Ke.xe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Ke._e=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];const Ne=Be([[144,8],[112,9],[24,7],[8,8]]);Ue.Ae=Ee([12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,19,275,147,403,83,339,211,467,51,307,179,435,115,371,243,499,11,267,139,395,75,331,203,459,43,299,171,427,107,363,235,491,27,283,155,411,91,347,219,475,59,315,187,443,123,379,251,507,7,263,135,391,71,327,199,455,39,295,167,423,103,359,231,487,23,279,151,407,87,343,215,471,55,311,183,439,119,375,247,503,15,271,143,399,79,335,207,463,47,303,175,431,111,367,239,495,31,287,159,415,95,351,223,479,63,319,191,447,127,383,255,511,0,64,32,96,16,80,48,112,8,72,40,104,24,88,56,120,4,68,36,100,20,84,52,116,3,131,67,195,35,163,99,227].map(((e,t)=>[e,Ne[t]])));const Oe=Be([[30,5]]);function Te(e,t,n,r,s){const i=this;i.Ie=e,i.De=t,i.Ve=n,i.Pe=r,i.Re=s}Ue.Be=Ee([0,16,8,24,4,20,12,28,2,18,10,26,6,22,14,30,1,17,9,25,5,21,13,29,3,19,11,27,7,23].map(((e,t)=>[e,Oe[t]]))),Ue.Ee=new Ue(Ue.Ae,Ke.ze,257,286,15),Ue.Me=new Ue(Ue.Be,Ke.Ce,0,30,15),Ue.Ke=new Ue(null,Ke.xe,0,19,7);const We=[new Te(0,0,0,0,0),new Te(4,4,8,4,1),new Te(4,5,16,8,1),new Te(4,6,32,32,1),new Te(4,4,16,16,2),new Te(8,16,32,32,2),new Te(8,16,128,128,2),new Te(8,32,128,256,2),new Te(32,128,258,1024,2),new Te(32,258,258,4096,2)],je=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],He=113,Le=666,Fe=262;function qe(e,t,n,r){const s=e[2*t],i=e[2*n];return i>s||s==i&&r[t]<=r[n]}function Ge(){const e=this;let t,n,s,c,f,a,l,u,w,h,d,p,y,m,b,g,k,v,S,z,C,x,_,A,I,D,V,P,R,B,E,M,K;const U=new Ke,N=new Ke,O=new Ke;let T,W,j,H,L,F;function q(){let t;for(t=0;286>t;t++)E[2*t]=0;for(t=0;30>t;t++)M[2*t]=0;for(t=0;19>t;t++)K[2*t]=0;E[512]=1,e.ue=e.we=0,W=j=0}function G(e,t){let n,r=-1,s=e[1],i=0,o=7,c=4;0===s&&(o=138,c=3),e[2*(t+1)+1]=65535;for(let f=0;t>=f;f++)n=s,s=e[2*(f+1)+1],++i<o&&n==s||(c>i?K[2*n]+=i:0!==n?(n!=r&&K[2*n]++,K[32]++):i>10?K[36]++:K[34]++,i=0,r=n,0===s?(o=138,c=3):n==s?(o=6,c=3):(o=7,c=4))}function J(t){e.Ue[e.pending++]=t}function Q(e){J(255&e),J(e>>>8&255)}function X(e,t){let n;const r=t;F>16-r?(n=e,L|=n<<F&65535,Q(L),L=n>>>16-F,F+=r-16):(L|=e<<F&65535,F+=r)}function Y(e,t){const n=2*e;X(65535&t[n],65535&t[n+1])}function Z(e,t){let n,r,s=-1,i=e[1],o=0,c=7,f=4;for(0===i&&(c=138,f=3),n=0;t>=n;n++)if(r=i,i=e[2*(n+1)+1],++o>=c||r!=i){if(f>o)do{Y(r,K)}while(0!=--o);else 0!==r?(r!=s&&(Y(r,K),o--),Y(16,K),X(o-3,2)):o>10?(Y(18,K),X(o-11,7)):(Y(17,K),X(o-3,3));o=0,s=r,0===i?(c=138,f=3):r==i?(c=6,f=3):(c=7,f=4)}}function $(){16==F?(Q(L),L=0,F=0):8>F||(J(255&L),L>>>=8,F-=8)}function ee(t,n){let s,i,o;if(e.Ne[W]=t,e.Oe[W]=255&n,W++,0===t?E[2*n]++:(j++,t--,E[2*(Ke.ge[n]+256+1)]++,M[2*Ke.Se(t)]++),0==(8191&W)&&V>2){for(s=8*W,i=C-k,o=0;30>o;o++)s+=M[2*o]*(5+Ke.Ce[o]);if(s>>>=3,j<r.floor(W/2)&&s<r.floor(i/2))return!0}return W==T-1}function te(t,n){let r,s,i,o,c=0;if(0!==W)do{r=e.Ne[c],s=e.Oe[c],c++,0===r?Y(s,t):(i=Ke.ge[s],Y(i+256+1,t),o=Ke.ze[i],0!==o&&(s-=Ke.ke[i],X(s,o)),r--,i=Ke.Se(r),Y(i,n),o=Ke.Ce[i],0!==o&&(r-=Ke.ve[i],X(r,o)))}while(W>c);Y(256,t),H=t[513]}function ne(){F>8?Q(L):F>0&&J(255&L),L=0,F=0}function re(t,n,r){X(0+(r?1:0),3),((t,n)=>{ne(),H=8,Q(n),Q(~n),e.Ue.set(u.subarray(t,t+n),e.pending),e.pending+=n})(t,n)}function se(n){((t,n,r)=>{let s,i,o=0;V>0?(U.ne(e),N.ne(e),o=(()=>{let t;for(G(E,U.he),G(M,N.he),O.ne(e),t=18;t>=3&&0===K[2*Ke._e[t]+1];t--);return e.ue+=14+3*(t+1),t})(),s=e.ue+3+7>>>3,i=e.we+3+7>>>3,i>s||(s=i)):s=i=n+5,n+4>s||-1==t?i==s?(X(2+(r?1:0),3),te(Ue.Ae,Ue.Be)):(X(4+(r?1:0),3),((e,t,n)=>{let r;for(X(e-257,5),X(t-1,5),X(n-4,4),r=0;n>r;r++)X(K[2*Ke._e[r]+1],3);Z(E,e-1),Z(M,t-1)})(U.he+1,N.he+1,o+1),te(E,M)):re(t,n,r),q(),r&&ne()})(0>k?-1:k,C-k,n),k=C,t.Te()}function ie(){let e,n,r,s;do{if(s=w-_-C,0===s&&0===C&&0===_)s=f;else if(-1==s)s--;else if(C>=f+f-Fe){u.set(u.subarray(f,f+f),0),x-=f,C-=f,k-=f,e=y,r=e;do{n=65535&d[--r],d[r]=f>n?0:n-f}while(0!=--e);e=f,r=e;do{n=65535&h[--r],h[r]=f>n?0:n-f}while(0!=--e);s+=f}if(0===t.We)return;e=t.je(u,C+_,s),_+=e,3>_||(p=255&u[C],p=(p<<g^255&u[C+1])&b)}while(Fe>_&&0!==t.We)}function oe(e){let t,n,r=I,s=C,i=A;const o=C>f-Fe?C-(f-Fe):0;let c=B;const a=l,w=C+258;let d=u[s+i-1],p=u[s+i];R>A||(r>>=2),c>_&&(c=_);do{if(t=e,u[t+i]==p&&u[t+i-1]==d&&u[t]==u[s]&&u[++t]==u[s+1]){s+=2,t++;do{}while(u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&w>s);if(n=258-(w-s),s=w-258,n>i){if(x=e,i=n,n>=c)break;d=u[s+i-1],p=u[s+i]}}}while((e=65535&h[e&a])>o&&0!=--r);return i>_?_:i}e.le=[],e.be=[],e.ae=[],E=[],M=[],K=[],e.de=(t,n)=>{const r=e.ae,s=r[n];let i=n<<1;for(;i<=e.ce&&(i<e.ce&&qe(t,r[i+1],r[i],e.le)&&i++,!qe(t,s,r[i],e.le));)r[n]=r[i],n=i,i<<=1;r[n]=s},e.He=(t,S,x,W,j,G)=>(W||(W=8),j||(j=8),G||(G=0),t.Le=null,-1==S&&(S=6),1>j||j>9||8!=W||9>x||x>15||0>S||S>9||0>G||G>2?Re:(t.Fe=e,a=x,f=1<<a,l=f-1,m=j+7,y=1<<m,b=y-1,g=r.floor((m+3-1)/3),u=new i(2*f),h=[],d=[],T=1<<j+6,e.Ue=new i(4*T),s=4*T,e.Ne=new o(T),e.Oe=new i(T),V=S,P=G,(t=>(t.qe=t.Ge=0,t.Le=null,e.pending=0,e.Je=0,n=He,c=0,U.re=E,U.ie=Ue.Ee,N.re=M,N.ie=Ue.Me,O.re=K,O.ie=Ue.Ke,L=0,F=0,H=8,q(),(()=>{w=2*f,d[y-1]=0;for(let e=0;y-1>e;e++)d[e]=0;D=We[V].De,R=We[V].Ie,B=We[V].Ve,I=We[V].Pe,C=0,k=0,_=0,v=A=2,z=0,p=0})(),0))(t))),e.Qe=()=>42!=n&&n!=He&&n!=Le?Re:(e.Oe=null,e.Ne=null,e.Ue=null,d=null,h=null,u=null,e.Fe=null,n==He?-3:0),e.Xe=(e,t,n)=>{let r=0;return-1==t&&(t=6),0>t||t>9||0>n||n>2?Re:(We[V].Re!=We[t].Re&&0!==e.qe&&(r=e.Ye(1)),V!=t&&(V=t,D=We[V].De,R=We[V].Ie,B=We[V].Ve,I=We[V].Pe),P=n,r)},e.Ze=(e,t,r)=>{let s,i=r,o=0;if(!t||42!=n)return Re;if(3>i)return 0;for(i>f-Fe&&(i=f-Fe,o=r-i),u.set(t.subarray(o,o+i),0),C=i,k=i,p=255&u[0],p=(p<<g^255&u[1])&b,s=0;i-3>=s;s++)p=(p<<g^255&u[s+2])&b,h[s&l]=d[p],d[p]=s;return 0},e.Ye=(r,i)=>{let o,w,m,I,R;if(i>4||0>i)return Re;if(!r.$e||!r.et&&0!==r.We||n==Le&&4!=i)return r.Le=je[4],Re;if(0===r.tt)return r.Le=je[7],-5;var B;if(t=r,I=c,c=i,42==n&&(w=8+(a-8<<4)<<8,m=(V-1&255)>>1,m>3&&(m=3),w|=m<<6,0!==C&&(w|=32),w+=31-w%31,n=He,J((B=w)>>8&255),J(255&B)),0!==e.pending){if(t.Te(),0===t.tt)return c=-1,0}else if(0===t.We&&I>=i&&4!=i)return t.Le=je[7],-5;if(n==Le&&0!==t.We)return r.Le=je[7],-5;if(0!==t.We||0!==_||0!=i&&n!=Le){switch(R=-1,We[V].Re){case 0:R=(e=>{let n,r=65535;for(r>s-5&&(r=s-5);;){if(1>=_){if(ie(),0===_&&0==e)return 0;if(0===_)break}if(C+=_,_=0,n=k+r,(0===C||C>=n)&&(_=C-n,C=n,se(!1),0===t.tt))return 0;if(C-k>=f-Fe&&(se(!1),0===t.tt))return 0}return se(4==e),0===t.tt?4==e?2:0:4==e?3:1})(i);break;case 1:R=(e=>{let n,r=0;for(;;){if(Fe>_){if(ie(),Fe>_&&0==e)return 0;if(0===_)break}if(3>_||(p=(p<<g^255&u[C+2])&b,r=65535&d[p],h[C&l]=d[p],d[p]=C),0===r||(C-r&65535)>f-Fe||2!=P&&(v=oe(r)),3>v)n=ee(0,255&u[C]),_--,C++;else if(n=ee(C-x,v-3),_-=v,v>D||3>_)C+=v,v=0,p=255&u[C],p=(p<<g^255&u[C+1])&b;else{v--;do{C++,p=(p<<g^255&u[C+2])&b,r=65535&d[p],h[C&l]=d[p],d[p]=C}while(0!=--v);C++}if(n&&(se(!1),0===t.tt))return 0}return se(4==e),0===t.tt?4==e?2:0:4==e?3:1})(i);break;case 2:R=(e=>{let n,r,s=0;for(;;){if(Fe>_){if(ie(),Fe>_&&0==e)return 0;if(0===_)break}if(3>_||(p=(p<<g^255&u[C+2])&b,s=65535&d[p],h[C&l]=d[p],d[p]=C),A=v,S=x,v=2,0!==s&&D>A&&f-Fe>=(C-s&65535)&&(2!=P&&(v=oe(s)),5>=v&&(1==P||3==v&&C-x>4096)&&(v=2)),3>A||v>A)if(0!==z){if(n=ee(0,255&u[C-1]),n&&se(!1),C++,_--,0===t.tt)return 0}else z=1,C++,_--;else{r=C+_-3,n=ee(C-1-S,A-3),_-=A-1,A-=2;do{++C>r||(p=(p<<g^255&u[C+2])&b,s=65535&d[p],h[C&l]=d[p],d[p]=C)}while(0!=--A);if(z=0,v=2,C++,n&&(se(!1),0===t.tt))return 0}}return 0!==z&&(n=ee(0,255&u[C-1]),z=0),se(4==e),0===t.tt?4==e?2:0:4==e?3:1})(i)}if(2!=R&&3!=R||(n=Le),0==R||2==R)return 0===t.tt&&(c=-1),0;if(1==R){if(1==i)X(2,3),Y(256,Ue.Ae),$(),9>1+H+10-F&&(X(2,3),Y(256,Ue.Ae),$()),H=7;else if(re(0,0,!1),3==i)for(o=0;y>o;o++)d[o]=0;if(t.Te(),0===t.tt)return c=-1,0}}return 4!=i?0:1}}function Je(){const e=this;e.nt=0,e.rt=0,e.We=0,e.qe=0,e.tt=0,e.Ge=0}function Qe(e){const t=new Je,n=(o=e&&e.chunkSize?e.chunkSize:65536)+5*(r.floor(o/16383)+1);var o;const c=new i(n);let f=e?e.level:-1;void 0===f&&(f=-1),t.He(f),t.$e=c,this.append=(e,r)=>{let o,f,a=0,l=0,u=0;const w=[];if(e.length){t.nt=0,t.et=e,t.We=e.length;do{if(t.rt=0,t.tt=n,o=t.Ye(0),0!=o)throw new s("deflating: "+t.Le);t.rt&&(t.rt==n?w.push(new i(c)):w.push(c.subarray(0,t.rt))),u+=t.rt,r&&t.nt>0&&t.nt!=a&&(r(t.nt),a=t.nt)}while(t.We>0||0===t.tt);return w.length>1?(f=new i(u),w.forEach((e=>{f.set(e,l),l+=e.length}))):f=w[0]?new i(w[0]):new i,f}},this.flush=()=>{let e,r,o=0,f=0;const a=[];do{if(t.rt=0,t.tt=n,e=t.Ye(4),1!=e&&0!=e)throw new s("deflating: "+t.Le);n-t.tt>0&&a.push(c.slice(0,t.rt)),f+=t.rt}while(t.We>0||0===t.tt);return t.Qe(),r=new i(f),a.forEach((e=>{r.set(e,o),o+=e.length})),r}}Je.prototype={He(e,t){const n=this;return n.Fe=new Ge,t||(t=15),n.Fe.He(n,e,t)},Ye(e){const t=this;return t.Fe?t.Fe.Ye(t,e):Re},Qe(){const e=this;if(!e.Fe)return Re;const t=e.Fe.Qe();return e.Fe=null,t},Xe(e,t){const n=this;return n.Fe?n.Fe.Xe(n,e,t):Re},Ze(e,t){const n=this;return n.Fe?n.Fe.Ze(n,e,t):Re},je(e,t,n){const r=this;let s=r.We;return s>n&&(s=n),0===s?0:(r.We-=s,e.set(r.et.subarray(r.nt,r.nt+s),t),r.nt+=s,r.qe+=s,s)},Te(){const e=this;let t=e.Fe.pending;t>e.tt&&(t=e.tt),0!==t&&(e.$e.set(e.Fe.Ue.subarray(e.Fe.Je,e.Fe.Je+t),e.rt),e.rt+=t,e.Fe.Je+=t,e.Ge+=t,e.tt-=t,e.Fe.pending-=t,0===e.Fe.pending&&(e.Fe.Je=0))}};const Xe=-2,Ye=-3,Ze=-5,$e=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],et=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],tt=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],nt=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],rt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],st=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],it=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];function ot(){let e,t,n,r,s,i;function o(e,t,o,c,f,a,l,u,w,h,d){let p,y,m,b,g,k,v,S,z,C,x,_,A,I,D;C=0,g=o;do{n[e[t+C]]++,C++,g--}while(0!==g);if(n[0]==o)return l[0]=-1,u[0]=0,0;for(S=u[0],k=1;15>=k&&0===n[k];k++);for(v=k,k>S&&(S=k),g=15;0!==g&&0===n[g];g--);for(m=g,S>g&&(S=g),u[0]=S,I=1<<k;g>k;k++,I<<=1)if(0>(I-=n[k]))return Ye;if(0>(I-=n[g]))return Ye;for(n[g]+=I,i[1]=k=0,C=1,A=2;0!=--g;)i[A]=k+=n[C],A++,C++;g=0,C=0;do{0!==(k=e[t+C])&&(d[i[k]++]=g),C++}while(++g<o);for(o=i[m],i[0]=g=0,C=0,b=-1,_=-S,s[0]=0,x=0,D=0;m>=v;v++)for(p=n[v];0!=p--;){for(;v>_+S;){if(b++,_+=S,D=m-_,D=D>S?S:D,(y=1<<(k=v-_))>p+1&&(y-=p+1,A=v,D>k))for(;++k<D&&(y<<=1)>n[++A];)y-=n[A];if(D=1<<k,h[0]+D>1440)return Ye;s[b]=x=h[0],h[0]+=D,0!==b?(i[b]=g,r[0]=k,r[1]=S,k=g>>>_-S,r[2]=x-s[b-1]-k,w.set(r,3*(s[b-1]+k))):l[0]=x}for(r[1]=v-_,o>C?d[C]<c?(r[0]=256>d[C]?0:96,r[2]=d[C++]):(r[0]=a[d[C]-c]+16+64,r[2]=f[d[C++]-c]):r[0]=192,y=1<<v-_,k=g>>>_;D>k;k+=y)w.set(r,3*(x+k));for(k=1<<v-1;0!=(g&k);k>>>=1)g^=k;for(g^=k,z=(1<<_)-1;(g&z)!=i[b];)b--,_-=S,z=(1<<_)-1}return 0!==I&&1!=m?Ze:0}function c(o){let c;for(e||(e=[],t=[],n=new f(16),r=[],s=new f(15),i=new f(16)),t.length<o&&(t=[]),c=0;o>c;c++)t[c]=0;for(c=0;16>c;c++)n[c]=0;for(c=0;3>c;c++)r[c]=0;s.set(n.subarray(0,15),0),i.set(n.subarray(0,16),0)}this.st=(n,r,s,i,f)=>{let a;return c(19),e[0]=0,a=o(n,0,19,19,null,null,s,r,i,e,t),a==Ye?f.Le="oversubscribed dynamic bit lengths tree":a!=Ze&&0!==r[0]||(f.Le="incomplete dynamic bit lengths tree",a=Ye),a},this.it=(n,r,s,i,f,a,l,u,w)=>{let h;return c(288),e[0]=0,h=o(s,0,n,257,nt,rt,a,i,u,e,t),0!=h||0===i[0]?(h==Ye?w.Le="oversubscribed literal/length tree":-4!=h&&(w.Le="incomplete literal/length tree",h=Ye),h):(c(288),h=o(s,n,r,0,st,it,l,f,u,e,t),0!=h||0===f[0]&&n>257?(h==Ye?w.Le="oversubscribed distance tree":h==Ze?(w.Le="incomplete distance tree",h=Ye):-4!=h&&(w.Le="empty distance tree with lengths",h=Ye),h):0)}}function ct(){const e=this;let t,n,r,s,i=0,o=0,c=0,f=0,a=0,l=0,u=0,w=0,h=0,d=0;function p(e,t,n,r,s,i,o,c){let f,a,l,u,w,h,d,p,y,m,b,g,k,v,S,z;d=c.nt,p=c.We,w=o.ot,h=o.ct,y=o.write,m=y<o.read?o.read-y-1:o.end-y,b=$e[e],g=$e[t];do{for(;20>h;)p--,w|=(255&c.ft(d++))<<h,h+=8;if(f=w&b,a=n,l=r,z=3*(l+f),0!==(u=a[z]))for(;;){if(w>>=a[z+1],h-=a[z+1],0!=(16&u)){for(u&=15,k=a[z+2]+(w&$e[u]),w>>=u,h-=u;15>h;)p--,w|=(255&c.ft(d++))<<h,h+=8;for(f=w&g,a=s,l=i,z=3*(l+f),u=a[z];;){if(w>>=a[z+1],h-=a[z+1],0!=(16&u)){for(u&=15;u>h;)p--,w|=(255&c.ft(d++))<<h,h+=8;if(v=a[z+2]+(w&$e[u]),w>>=u,h-=u,m-=k,v>y){S=y-v;do{S+=o.end}while(0>S);if(u=o.end-S,k>u){if(k-=u,y-S>0&&u>y-S)do{o.lt[y++]=o.lt[S++]}while(0!=--u);else o.lt.set(o.lt.subarray(S,S+u),y),y+=u,S+=u,u=0;S=0}}else S=y-v,y-S>0&&2>y-S?(o.lt[y++]=o.lt[S++],o.lt[y++]=o.lt[S++],k-=2):(o.lt.set(o.lt.subarray(S,S+2),y),y+=2,S+=2,k-=2);if(y-S>0&&k>y-S)do{o.lt[y++]=o.lt[S++]}while(0!=--k);else o.lt.set(o.lt.subarray(S,S+k),y),y+=k,S+=k,k=0;break}if(0!=(64&u))return c.Le="invalid distance code",k=c.We-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ot=w,o.ct=h,c.We=p,c.qe+=d-c.nt,c.nt=d,o.write=y,Ye;f+=a[z+2],f+=w&$e[u],z=3*(l+f),u=a[z]}break}if(0!=(64&u))return 0!=(32&u)?(k=c.We-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ot=w,o.ct=h,c.We=p,c.qe+=d-c.nt,c.nt=d,o.write=y,1):(c.Le="invalid literal/length code",k=c.We-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ot=w,o.ct=h,c.We=p,c.qe+=d-c.nt,c.nt=d,o.write=y,Ye);if(f+=a[z+2],f+=w&$e[u],z=3*(l+f),0===(u=a[z])){w>>=a[z+1],h-=a[z+1],o.lt[y++]=a[z+2],m--;break}}else w>>=a[z+1],h-=a[z+1],o.lt[y++]=a[z+2],m--}while(m>=258&&p>=10);return k=c.We-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ot=w,o.ct=h,c.We=p,c.qe+=d-c.nt,c.nt=d,o.write=y,0}e.init=(e,i,o,c,f,a)=>{t=0,u=e,w=i,r=o,h=c,s=f,d=a,n=null},e.ut=(e,y,m)=>{let b,g,k,v,S,z,C,x=0,_=0,A=0;for(A=y.nt,v=y.We,x=e.ot,_=e.ct,S=e.write,z=S<e.read?e.read-S-1:e.end-S;;)switch(t){case 0:if(z>=258&&v>=10&&(e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,m=p(u,w,r,h,s,d,e,y),A=y.nt,v=y.We,x=e.ot,_=e.ct,S=e.write,z=S<e.read?e.read-S-1:e.end-S,0!=m)){t=1==m?7:9;break}c=u,n=r,o=h,t=1;case 1:for(b=c;b>_;){if(0===v)return e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);m=0,v--,x|=(255&y.ft(A++))<<_,_+=8}if(g=3*(o+(x&$e[b])),x>>>=n[g+1],_-=n[g+1],k=n[g],0===k){f=n[g+2],t=6;break}if(0!=(16&k)){a=15&k,i=n[g+2],t=2;break}if(0==(64&k)){c=k,o=g/3+n[g+2];break}if(0!=(32&k)){t=7;break}return t=9,y.Le="invalid literal/length code",m=Ye,e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);case 2:for(b=a;b>_;){if(0===v)return e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);m=0,v--,x|=(255&y.ft(A++))<<_,_+=8}i+=x&$e[b],x>>=b,_-=b,c=w,n=s,o=d,t=3;case 3:for(b=c;b>_;){if(0===v)return e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);m=0,v--,x|=(255&y.ft(A++))<<_,_+=8}if(g=3*(o+(x&$e[b])),x>>=n[g+1],_-=n[g+1],k=n[g],0!=(16&k)){a=15&k,l=n[g+2],t=4;break}if(0==(64&k)){c=k,o=g/3+n[g+2];break}return t=9,y.Le="invalid distance code",m=Ye,e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);case 4:for(b=a;b>_;){if(0===v)return e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);m=0,v--,x|=(255&y.ft(A++))<<_,_+=8}l+=x&$e[b],x>>=b,_-=b,t=5;case 5:for(C=S-l;0>C;)C+=e.end;for(;0!==i;){if(0===z&&(S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z&&(e.write=S,m=e.wt(y,m),S=e.write,z=S<e.read?e.read-S-1:e.end-S,S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z)))return e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);e.lt[S++]=e.lt[C++],z--,C==e.end&&(C=0),i--}t=0;break;case 6:if(0===z&&(S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z&&(e.write=S,m=e.wt(y,m),S=e.write,z=S<e.read?e.read-S-1:e.end-S,S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z)))return e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);m=0,e.lt[S++]=f,z--,t=0;break;case 7:if(_>7&&(_-=8,v++,A--),e.write=S,m=e.wt(y,m),S=e.write,z=S<e.read?e.read-S-1:e.end-S,e.read!=e.write)return e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);t=8;case 8:return m=1,e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);case 9:return m=Ye,e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);default:return m=Xe,e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m)}},e.ht=()=>{}}ot.dt=(e,t,n,r)=>(e[0]=9,t[0]=5,n[0]=et,r[0]=tt,0);const ft=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function at(e,t){const n=this;let r,s=0,o=0,c=0,a=0;const l=[0],u=[0],w=new ct;let h=0,d=new f(4320);const p=new ot;n.ct=0,n.ot=0,n.lt=new i(t),n.end=t,n.read=0,n.write=0,n.reset=(e,t)=>{t&&(t[0]=0),6==s&&w.ht(e),s=0,n.ct=0,n.ot=0,n.read=n.write=0},n.reset(e,null),n.wt=(e,t)=>{let r,s,i;return s=e.rt,i=n.read,r=(i>n.write?n.end:n.write)-i,r>e.tt&&(r=e.tt),0!==r&&t==Ze&&(t=0),e.tt-=r,e.Ge+=r,e.$e.set(n.lt.subarray(i,i+r),s),s+=r,i+=r,i==n.end&&(i=0,n.write==n.end&&(n.write=0),r=n.write-i,r>e.tt&&(r=e.tt),0!==r&&t==Ze&&(t=0),e.tt-=r,e.Ge+=r,e.$e.set(n.lt.subarray(i,i+r),s),s+=r,i+=r),e.rt=s,n.read=i,t},n.ut=(e,t)=>{let i,f,y,m,b,g,k,v;for(m=e.nt,b=e.We,f=n.ot,y=n.ct,g=n.write,k=g<n.read?n.read-g-1:n.end-g;;){let S,z,C,x,_,A,I,D;switch(s){case 0:for(;3>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}switch(i=7&f,h=1&i,i>>>1){case 0:f>>>=3,y-=3,i=7&y,f>>>=i,y-=i,s=1;break;case 1:S=[],z=[],C=[[]],x=[[]],ot.dt(S,z,C,x),w.init(S[0],z[0],C[0],0,x[0],0),f>>>=3,y-=3,s=6;break;case 2:f>>>=3,y-=3,s=3;break;case 3:return f>>>=3,y-=3,s=9,e.Le="invalid block type",t=Ye,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t)}break;case 1:for(;32>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}if((~f>>>16&65535)!=(65535&f))return s=9,e.Le="invalid stored block lengths",t=Ye,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);o=65535&f,f=y=0,s=0!==o?2:0!==h?7:0;break;case 2:if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);if(0===k&&(g==n.end&&0!==n.read&&(g=0,k=g<n.read?n.read-g-1:n.end-g),0===k&&(n.write=g,t=n.wt(e,t),g=n.write,k=g<n.read?n.read-g-1:n.end-g,g==n.end&&0!==n.read&&(g=0,k=g<n.read?n.read-g-1:n.end-g),0===k)))return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);if(t=0,i=o,i>b&&(i=b),i>k&&(i=k),n.lt.set(e.je(m,i),g),m+=i,b-=i,g+=i,k-=i,0!=(o-=i))break;s=0!==h?7:0;break;case 3:for(;14>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}if(c=i=16383&f,(31&i)>29||(i>>5&31)>29)return s=9,e.Le="too many length or distance symbols",t=Ye,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);if(i=258+(31&i)+(i>>5&31),!r||r.length<i)r=[];else for(v=0;i>v;v++)r[v]=0;f>>>=14,y-=14,a=0,s=4;case 4:for(;4+(c>>>10)>a;){for(;3>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}r[ft[a++]]=7&f,f>>>=3,y-=3}for(;19>a;)r[ft[a++]]=0;if(l[0]=7,i=p.st(r,l,u,d,e),0!=i)return(t=i)==Ye&&(r=null,s=9),n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);a=0,s=5;case 5:for(;i=c,258+(31&i)+(i>>5&31)>a;){let o,w;for(i=l[0];i>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}if(i=d[3*(u[0]+(f&$e[i]))+1],w=d[3*(u[0]+(f&$e[i]))+2],16>w)f>>>=i,y-=i,r[a++]=w;else{for(v=18==w?7:w-14,o=18==w?11:3;i+v>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}if(f>>>=i,y-=i,o+=f&$e[v],f>>>=v,y-=v,v=a,i=c,v+o>258+(31&i)+(i>>5&31)||16==w&&1>v)return r=null,s=9,e.Le="invalid bit length repeat",t=Ye,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);w=16==w?r[v-1]:0;do{r[v++]=w}while(0!=--o);a=v}}if(u[0]=-1,_=[],A=[],I=[],D=[],_[0]=9,A[0]=6,i=c,i=p.it(257+(31&i),1+(i>>5&31),r,_,A,I,D,d,e),0!=i)return i==Ye&&(r=null,s=9),t=i,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);w.init(_[0],A[0],d,I[0],d,D[0]),s=6;case 6:if(n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,1!=(t=w.ut(n,e,t)))return n.wt(e,t);if(t=0,w.ht(e),m=e.nt,b=e.We,f=n.ot,y=n.ct,g=n.write,k=g<n.read?n.read-g-1:n.end-g,0===h){s=0;break}s=7;case 7:if(n.write=g,t=n.wt(e,t),g=n.write,k=g<n.read?n.read-g-1:n.end-g,n.read!=n.write)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);s=8;case 8:return t=1,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);case 9:return t=Ye,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);default:return t=Xe,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t)}}},n.ht=e=>{n.reset(e,null),n.lt=null,d=null},n.yt=(e,t,r)=>{n.lt.set(e.subarray(t,t+r),0),n.read=n.write=r},n.bt=()=>1==s?1:0}const lt=13,ut=[0,0,255,255];function wt(){const e=this;function t(e){return e&&e.gt?(e.qe=e.Ge=0,e.Le=null,e.gt.mode=7,e.gt.kt.reset(e,null),0):Xe}e.mode=0,e.method=0,e.vt=[0],e.St=0,e.marker=0,e.zt=0,e.Ct=t=>(e.kt&&e.kt.ht(t),e.kt=null,0),e.xt=(n,r)=>(n.Le=null,e.kt=null,8>r||r>15?(e.Ct(n),Xe):(e.zt=r,n.gt.kt=new at(n,1<<r),t(n),0)),e._t=(e,t)=>{let n,r;if(!e||!e.gt||!e.et)return Xe;const s=e.gt;for(t=4==t?Ze:0,n=Ze;;)switch(s.mode){case 0:if(0===e.We)return n;if(n=t,e.We--,e.qe++,8!=(15&(s.method=e.ft(e.nt++)))){s.mode=lt,e.Le="unknown compression method",s.marker=5;break}if(8+(s.method>>4)>s.zt){s.mode=lt,e.Le="invalid win size",s.marker=5;break}s.mode=1;case 1:if(0===e.We)return n;if(n=t,e.We--,e.qe++,r=255&e.ft(e.nt++),((s.method<<8)+r)%31!=0){s.mode=lt,e.Le="incorrect header check",s.marker=5;break}if(0==(32&r)){s.mode=7;break}s.mode=2;case 2:if(0===e.We)return n;n=t,e.We--,e.qe++,s.St=(255&e.ft(e.nt++))<<24&4278190080,s.mode=3;case 3:if(0===e.We)return n;n=t,e.We--,e.qe++,s.St+=(255&e.ft(e.nt++))<<16&16711680,s.mode=4;case 4:if(0===e.We)return n;n=t,e.We--,e.qe++,s.St+=(255&e.ft(e.nt++))<<8&65280,s.mode=5;case 5:return 0===e.We?n:(n=t,e.We--,e.qe++,s.St+=255&e.ft(e.nt++),s.mode=6,2);case 6:return s.mode=lt,e.Le="need dictionary",s.marker=0,Xe;case 7:if(n=s.kt.ut(e,n),n==Ye){s.mode=lt,s.marker=0;break}if(0==n&&(n=t),1!=n)return n;n=t,s.kt.reset(e,s.vt),s.mode=12;case 12:return e.We=0,1;case lt:return Ye;default:return Xe}},e.At=(e,t,n)=>{let r=0,s=n;if(!e||!e.gt||6!=e.gt.mode)return Xe;const i=e.gt;return s<1<<i.zt||(s=(1<<i.zt)-1,r=n-s),i.kt.yt(t,r,s),i.mode=7,0},e.It=e=>{let n,r,s,i,o;if(!e||!e.gt)return Xe;const c=e.gt;if(c.mode!=lt&&(c.mode=lt,c.marker=0),0===(n=e.We))return Ze;for(r=e.nt,s=c.marker;0!==n&&4>s;)e.ft(r)==ut[s]?s++:s=0!==e.ft(r)?0:4-s,r++,n--;return e.qe+=r-e.nt,e.nt=r,e.We=n,c.marker=s,4!=s?Ye:(i=e.qe,o=e.Ge,t(e),e.qe=i,e.Ge=o,c.mode=7,0)},e.Dt=e=>e&&e.gt&&e.gt.kt?e.gt.kt.bt():Xe}function ht(){}function dt(e){const t=new ht,n=e&&e.chunkSize?r.floor(2*e.chunkSize):131072,o=new i(n);let c=!1;t.xt(),t.$e=o,this.append=(e,r)=>{const f=[];let a,l,u=0,w=0,h=0;if(0!==e.length){t.nt=0,t.et=e,t.We=e.length;do{if(t.rt=0,t.tt=n,0!==t.We||c||(t.nt=0,c=!0),a=t._t(0),c&&a===Ze){if(0!==t.We)throw new s("inflating: bad input")}else if(0!==a&&1!==a)throw new s("inflating: "+t.Le);if((c||1===a)&&t.We===e.length)throw new s("inflating: bad input");t.rt&&(t.rt===n?f.push(new i(o)):f.push(o.subarray(0,t.rt))),h+=t.rt,r&&t.nt>0&&t.nt!=u&&(r(t.nt),u=t.nt)}while(t.We>0||0===t.tt);return f.length>1?(l=new i(h),f.forEach((e=>{l.set(e,w),w+=e.length}))):l=f[0]?new i(f[0]):new i,l}},this.flush=()=>{t.Ct()}}ht.prototype={xt(e){const t=this;return t.gt=new wt,e||(e=15),t.gt.xt(t,e)},_t(e){const t=this;return t.gt?t.gt._t(t,e):Xe},Ct(){const e=this;if(!e.gt)return Xe;const t=e.gt.Ct(e);return e.gt=null,t},It(){const e=this;return e.gt?e.gt.It(e):Xe},At(e,t){const n=this;return n.gt?n.gt.At(n,e,t):Xe},ft(e){return this.et[e]},je(e,t){return this.et.subarray(e,e+t)}},self.initCodec=()=>{self.Deflate=Qe,self.Inflate=dt};
`],{type:"text/javascript"}));t({workerScripts:{inflate:[e],deflate:[e]}})}const fbe="Writer iterator completed too soon",hbe="Content-Type",pbe=64*1024,Ak="writable";class r2{constructor(){this.size=0}init(){this.initialized=!0}}class o2 extends r2{get readable(){const e=this,{chunkSize:n=pbe}=e,s=new ReadableStream({start(){this.chunkOffset=0},async pull(i){const{offset:r=0,size:o,diskNumberStart:a}=s,{chunkOffset:l}=this;i.enqueue(await zn(e,r+l,Math.min(n,o-l),a)),l+n>o?i.close():this.chunkOffset+=n}});return s}}class mbe extends o2{constructor(e){super(),Object.assign(this,{blob:e,size:e.size})}async readUint8Array(e,n){const s=this,i=e+n,r=e||i<s.size?s.blob.slice(e,i):s.blob;return new Uint8Array(await r.arrayBuffer())}}class gbe extends r2{constructor(e){super();const n=this,s=new TransformStream,i=[];e&&i.push([hbe,e]),Object.defineProperty(n,Ak,{get(){return s.writable}}),n.blob=new Response(s.readable,{headers:i}).blob()}getData(){return this.blob}}class _be extends gbe{constructor(e){super(e),Object.assign(this,{encoding:e,utf8:!e||e.toLowerCase()=="utf-8"})}async getData(){const{encoding:e,utf8:n}=this,s=await super.getData();if(s.text&&n)return s.text();{const i=new FileReader;return new Promise((r,o)=>{Object.assign(i,{onload:({target:a})=>r(a.result),onerror:()=>o(i.error)}),i.readAsText(s,e)})}}}class ybe extends o2{constructor(e){super(),Object.assign(this,{array:e,size:e.length})}readUint8Array(e,n){return this.array.slice(e,e+n)}}class bbe extends o2{constructor(e){super(),this.readers=e}async init(){const e=this,{readers:n}=e;e.lastDiskNumber=0,e.lastDiskOffset=0,await Promise.all(n.map(async(s,i)=>{await s.init(),i!=n.length-1&&(e.lastDiskOffset+=s.size),e.size+=s.size})),super.init()}async readUint8Array(e,n,s=0){const i=this,{readers:r}=this;let o,a=s;a==-1&&(a=r.length-1);let l=e;for(;l>=r[a].size;)l-=r[a].size,a++;const c=r[a],u=c.size;if(l+n<=u)o=await zn(c,l,n);else{const d=u-l;o=new Uint8Array(n),o.set(await zn(c,l,d)),o.set(await i.readUint8Array(e+d,n-d,s),d)}return i.lastDiskNumber=Math.max(a,i.lastDiskNumber),o}}class fT extends r2{constructor(e,n=4294967295){super();const s=this;Object.assign(s,{diskNumber:0,diskOffset:0,size:0,maxSize:n,availableSize:n});let i,r,o;const a=new WritableStream({async write(u){const{availableSize:d}=s;if(o)u.length>=d?(await l(u.slice(0,d)),await c(),s.diskOffset+=i.size,s.diskNumber++,o=null,await this.write(u.slice(d))):await l(u);else{const{value:f,done:h}=await e.next();if(h&&!f)throw new Error(fbe);i=f,i.size=0,i.maxSize&&(s.maxSize=i.maxSize),s.availableSize=s.maxSize,await Mm(i),r=f.writable,o=r.getWriter(),await this.write(u)}},async close(){await o.ready,await c()}});Object.defineProperty(s,Ak,{get(){return a}});async function l(u){const d=u.length;d&&(await o.ready,await o.write(u),i.size+=d,s.size+=d,s.availableSize-=d)}async function c(){r.size=i.size,await o.close()}}}async function Mm(t,e){t.init&&!t.initialized&&await t.init(e)}function vbe(t){return Array.isArray(t)&&(t=new bbe(t)),t instanceof ReadableStream&&(t={readable:t}),t}function wbe(t){t.writable===Si&&typeof t.next==ik&&(t=new fT(t)),t instanceof WritableStream&&(t={writable:t});const{writable:e}=t;return e.size===Si&&(e.size=0),t instanceof fT||Object.assign(t,{diskNumber:0,diskOffset:0,availableSize:1/0,maxSize:1/0}),t}function zn(t,e,n,s){return t.readUint8Array(e,n,s)}const kk="\0☺☻♥♦♣♠•◘○◙♂♀♪♫☼►◄↕‼¶§▬↨↑↓→←∟↔▲▼ !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~⌂ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ ".split(""),xbe=kk.length==256;function Sbe(t){if(xbe){let e="";for(let n=0;n<t.length;n++)e+=kk[t[n]];return e}else return new TextDecoder().decode(t)}function Sy(t,e){return e&&e.trim().toLowerCase()=="cp437"?Sbe(t):new TextDecoder(e).decode(t)}const Rk="filename",Ck="rawFilename",Ok="comment",Pk="rawComment",Lk="uncompressedSize",Ik="compressedSize",Dk="offset",Ey="diskNumberStart",Fk="lastModDate",Nk="rawLastModDate",Uk="lastAccessDate",Ebe="rawLastAccessDate",$k="creationDate",Tbe="rawCreationDate",Mbe="internalFileAttribute",Abe="externalFileAttribute",kbe="msDosCompatible",Rbe="zip64",Cbe=[Rk,Ck,Ik,Lk,Fk,Nk,Ok,Pk,Uk,$k,Dk,Ey,Ey,Mbe,Abe,kbe,Rbe,"directory","bitFlag","encrypted","signature","filenameUTF8","commentUTF8","compressionMethod","version","versionMadeBy","extraField","rawExtraField","extraFieldZip64","extraFieldUnicodePath","extraFieldUnicodeComment","extraFieldAES","extraFieldNTFS","extraFieldExtendedTimestamp"];class hT{constructor(e){Cbe.forEach(n=>this[n]=e[n])}}const e1="File format is not recognized",Obe="End of central directory not found",Pbe="End of Zip64 central directory not found",Lbe="End of Zip64 central directory locator not found",Ibe="Central directory header not found",Dbe="Local file header not found",Fbe="Zip64 extra field not found",Nbe="File contains encrypted entry",Ube="Encryption method not supported",pT="Compression method not supported",mT="Split zip file",gT="utf-8",_T="cp437",$be=[[Lk,Ha],[Ik,Ha],[Dk,Ha],[Ey,yo]],Bbe={[yo]:{getValue:pn,bytes:4},[Ha]:{getValue:Lp,bytes:8}};class zbe{constructor(e,n={}){Object.assign(this,{reader:vbe(e),options:n,config:Sye()})}async*getEntriesGenerator(e={}){const n=this;let{reader:s}=n;const{config:i}=n;if(await Mm(s),(s.size===Si||!s.readUint8Array)&&(s=new mbe(await new Response(s.readable).blob()),await Mm(s)),s.size<Jh)throw new Error(e1);s.chunkSize=Eye(i);const r=await qbe(s,uye,s.size,Jh,yo*16);if(!r){const C=await zn(s,0,4),A=Pn(C);throw pn(A)==cye?new Error(mT):new Error(Obe)}const o=Pn(r);let a=pn(o,12),l=pn(o,16);const c=r.offset,u=On(o,20),d=c+Jh+u;let f=On(o,4);const h=s.lastDiskNumber||0;let _=On(o,6),p=On(o,8),m=0,y=0;if(l==Ha||a==Ha||p==yo||_==yo){const C=await zn(s,r.offset-K_,K_),A=Pn(C);if(pn(A,0)!=dye)throw new Error(Pbe);l=Lp(A,8);let R=await zn(s,l,X_,-1),$=Pn(R);const F=r.offset-K_-X_;if(pn($,0)!=KE&&l!=F){const D=l;l=F,m=l-D,R=await zn(s,l,X_,-1),$=Pn(R)}if(pn($,0)!=KE)throw new Error(Lbe);f==yo&&(f=pn($,16)),_==yo&&(_=pn($,20)),p==yo&&(p=Lp($,32)),a==Ha&&(a=Lp($,40)),l-=a}if(h!=f)throw new Error(mT);if(l<0||l>=s.size)throw new Error(e1);let b=0,v=await zn(s,l,a,_),w=Pn(v);if(a){const C=r.offset-a;if(pn(w,b)!=YE&&l!=C){const A=l;l=C,m=l-A,v=await zn(s,l,a,_),w=Pn(v)}}const S=r.offset-l-(s.lastDiskOffset||0);if(a!=S&&S&&(a=S,v=await zn(s,l,a,_),w=Pn(v)),l<0||l>=s.size)throw new Error(e1);const x=Bs(n,e,"filenameEncoding"),T=Bs(n,e,"commentEncoding");for(let C=0;C<p;C++){const A=new Gbe(s,i,n.options);if(pn(w,b)!=YE)throw new Error(Ibe);Bk(A,w,b+6);const R=!!A.bitFlag.languageEncodingFlag,$=b+46,F=$+A.filenameLength,D=F+A.extraFieldLength,I=On(w,b+4),B=(I&0)==0,W=v.subarray($,F),Y=On(w,b+32),j=D+Y,pe=v.subarray(D,j),O=R,G=R,te=B&&(Sc(w,b+38)&QE)==QE,H=pn(w,b+42)+m;Object.assign(A,{versionMadeBy:I,msDosCompatible:B,compressedSize:0,uncompressedSize:0,commentLength:Y,directory:te,offset:H,diskNumberStart:On(w,b+34),internalFileAttribute:On(w,b+36),externalFileAttribute:pn(w,b+38),rawFilename:W,filenameUTF8:O,commentUTF8:G,rawExtraField:v.subarray(F,D)});const[z,ge]=await Promise.all([Sy(W,O?gT:x||_T),Sy(pe,G?gT:T||_T)]);Object.assign(A,{rawComment:pe,filename:z,comment:ge,directory:te||z.endsWith(vye)}),y=Math.max(H,y),await zk(A,A,w,b+6);const ue=new hT(A);ue.getData=(ye,Oe)=>A.getData(ye,ue,Oe),b=j;const{onprogress:ve}=e;if(ve)try{await ve(C+1,p,new hT(A))}catch{}yield ue}const E=Bs(n,e,"extractPrependedData"),M=Bs(n,e,"extractAppendedData");return E&&(n.prependedData=y>0?await zn(s,0,y):new Uint8Array),n.comment=u?await zn(s,c+Jh,u):new Uint8Array,M&&(n.appendedData=d<s.size?await zn(s,d,s.size-d):new Uint8Array),!0}async getEntries(e={}){const n=[];for await(const s of this.getEntriesGenerator(e))n.push(s);return n}async close(){}}class Gbe{constructor(e,n,s){Object.assign(this,{reader:e,config:n,options:s})}async getData(e,n,s={}){const i=this,{reader:r,offset:o,diskNumberStart:a,extraFieldAES:l,compressionMethod:c,config:u,bitFlag:d,signature:f,rawLastModDate:h,uncompressedSize:_,compressedSize:p}=i,m=i.localDirectory={},y=await zn(r,o,30,a),b=Pn(y);let v=Bs(i,s,"password");if(v=v&&v.length&&v,l&&l.originalCompressionMethod!=aye)throw new Error(pT);if(c!=oye&&c!=rye)throw new Error(pT);if(pn(b,0)!=lye)throw new Error(Dbe);Bk(m,b,4),m.rawExtraField=m.extraFieldLength?await zn(r,o+30+m.filenameLength,m.extraFieldLength,a):new Uint8Array,await zk(i,m,b,4),Object.assign(n,{lastAccessDate:m.lastAccessDate,creationDate:m.creationDate});const w=i.encrypted&&m.encrypted,S=w&&!l;if(w){if(!S&&l.strength===Si)throw new Error(Ube);if(!v)throw new Error(Nbe)}const x=o+30+m.filenameLength+m.extraFieldLength,T=p,E=r.readable;Object.assign(E,{diskNumberStart:a,offset:x,size:T});const M=Bs(i,s,"signal"),C=Bs(i,s,"checkPasswordOnly");C&&(e=new WritableStream),e=wbe(e),await Mm(e,_);const{writable:A}=e,{onstart:R,onprogress:$,onend:F}=s,D={options:{codecType:Mk,password:v,zipCrypto:S,encryptionStrength:l&&l.strength,signed:Bs(i,s,"checkSignature"),passwordVerification:S&&(d.dataDescriptor?h>>>8&255:f>>>24&255),signature:f,compressed:c!=0,encrypted:w,useWebWorkers:Bs(i,s,"useWebWorkers"),useCompressionStream:Bs(i,s,"useCompressionStream"),transferStreams:Bs(i,s,"transferStreams"),checkPasswordOnly:C},config:u,streamOptions:{signal:M,size:T,onstart:R,onprogress:$,onend:F}};let I=0;try{({outputSize:I}=await ube({readable:E,writable:A},D))}catch(B){if(!C||B.message!=n2)throw B}finally{const B=Bs(i,s,"preventClose");A.size+=I,!B&&!A.locked&&await A.close()}return C?void 0:e.getData?e.getData():A}}function Bk(t,e,n){const s=t.rawBitFlag=On(e,n+2),i=(s&XE)==XE,r=pn(e,n+6);Object.assign(t,{encrypted:i,version:On(e,n),bitFlag:{level:(s&bye)>>1,dataDescriptor:(s&ZE)==ZE,languageEncodingFlag:(s&JE)==JE},rawLastModDate:r,lastModDate:Ybe(r),filenameLength:On(e,n+22),extraFieldLength:On(e,n+24)})}async function zk(t,e,n,s){const{rawExtraField:i}=e,r=e.extraField=new Map,o=Pn(new Uint8Array(i));let a=0;try{for(;a<i.length;){const p=On(o,a),m=On(o,a+2);r.set(p,{type:p,data:i.slice(a+4,a+4+m)}),a+=4+m}}catch{}const l=On(n,s+4);Object.assign(e,{signature:pn(n,s+10),uncompressedSize:pn(n,s+18),compressedSize:pn(n,s+14)});const c=r.get(fye);c&&(Hbe(c,e),e.extraFieldZip64=c);const u=r.get(_ye);u&&(await yT(u,Rk,Ck,e,t),e.extraFieldUnicodePath=u);const d=r.get(yye);d&&(await yT(d,Ok,Pk,e,t),e.extraFieldUnicodeComment=d);const f=r.get(hye);f?(Vbe(f,e,l),e.extraFieldAES=f):e.compressionMethod=l;const h=r.get(pye);h&&(Wbe(h,e),e.extraFieldNTFS=h);const _=r.get(gye);_&&(jbe(_,e),e.extraFieldExtendedTimestamp=_)}function Hbe(t,e){e.zip64=!0;const n=Pn(t.data),s=$be.filter(([i,r])=>e[i]==r);for(let i=0,r=0;i<s.length;i++){const[o,a]=s[i];if(e[o]==a){const l=Bbe[a];e[o]=t[o]=l.getValue(n,r),r+=l.bytes}else if(t[o])throw new Error(Fbe)}}async function yT(t,e,n,s,i){const r=Pn(t.data),o=new Em;o.append(i[n]);const a=Pn(new Uint8Array(4));a.setUint32(0,o.get(),!0);const l=pn(r,1);Object.assign(t,{version:Sc(r,0),[e]:Sy(t.data.subarray(5)),valid:!i.bitFlag.languageEncodingFlag&&l==pn(a,0)}),t.valid&&(s[e]=t[e],s[e+"UTF8"]=!0)}function Vbe(t,e,n){const s=Pn(t.data),i=Sc(s,4);Object.assign(t,{vendorVersion:Sc(s,0),vendorId:Sc(s,2),strength:i,originalCompressionMethod:n,compressionMethod:On(s,5)}),e.compressionMethod=t.compressionMethod}function Wbe(t,e){const n=Pn(t.data);let s=4,i;try{for(;s<t.data.length&&!i;){const r=On(n,s),o=On(n,s+2);r==mye&&(i=t.data.slice(s+4,s+4+o)),s+=4+o}}catch{}try{if(i&&i.length==24){const r=Pn(i),o=r.getBigUint64(0,!0),a=r.getBigUint64(8,!0),l=r.getBigUint64(16,!0);Object.assign(t,{rawLastModDate:o,rawLastAccessDate:a,rawCreationDate:l});const c=t1(o),u=t1(a),d=t1(l),f={lastModDate:c,lastAccessDate:u,creationDate:d};Object.assign(t,f),Object.assign(e,f)}}catch{}}function jbe(t,e){const n=Pn(t.data),s=Sc(n,0),i=[],r=[];(s&1)==1&&(i.push(Fk),r.push(Nk)),(s&2)==2&&(i.push(Uk),r.push(Ebe)),(s&4)==4&&(i.push($k),r.push(Tbe));let o=1;i.forEach((a,l)=>{if(t.data.length>=o+4){const c=pn(n,o);e[a]=t[a]=new Date(c*1e3);const u=r[l];t[u]=c}o+=4})}async function qbe(t,e,n,s,i){const r=new Uint8Array(4),o=Pn(r);Kbe(o,0,e);const a=s+i;return await l(s)||await l(Math.min(a,n));async function l(c){const u=n-c,d=await zn(t,u,c);for(let f=d.length-s;f>=0;f--)if(d[f]==r[0]&&d[f+1]==r[1]&&d[f+2]==r[2]&&d[f+3]==r[3])return{offset:u+f,buffer:d.slice(f,f+s).buffer}}}function Bs(t,e,n){return e[n]===Si?t.options[n]:e[n]}function Ybe(t){const e=(t&4294901760)>>16,n=t&65535;try{return new Date(1980+((e&65024)>>9),((e&480)>>5)-1,e&31,(n&63488)>>11,(n&2016)>>5,(n&31)*2,0)}catch{}}function t1(t){return new Date(Number(t/BigInt(1e4)-BigInt(116444736e5)))}function Sc(t,e){return t.getUint8(e)}function On(t,e){return t.getUint16(e,!0)}function pn(t,e){return t.getUint32(e,!0)}function Lp(t,e){return Number(t.getBigUint64(e,!0))}function Kbe(t,e,n){t.setUint32(e,n,!0)}function Pn(t){return new DataView(t.buffer)}let Gk;try{Gk=import.meta.url}catch{}t2({baseURL:Gk});dbe(t2);t2({Deflate:N1e,Inflate:iye});const Yu={owner:"BossHobby",repo:"QUICKSILVER"},Xbe={owner:"BossHobby",repo:"Configurator"},Zbe="https://cors.bubblesort.me/?",Jbe=[["Origin","http://localhost"],["X-Requested-With","XMLHttpRequest"]];class Qbe{constructor(){Ke(this,"octokit",new v1e({auth:"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"}))}async fetchReleases(){const n=(await this.octokit.rest.repos.listReleases(Yu)).data.filter(i=>i.assets.length>0),s={};for(const i of n)s[i.tag_name]=i.assets;return s}async fetchBranches(){const n=(await this.octokit.rest.repos.listBranches(Yu)).data.filter(i=>i.name!="master").map(i=>this.octokit.actions.listWorkflowRunsForRepo({...Yu,head_sha:i.commit.sha,per_page:1}).then(r=>r.data.total_count==0?[]:this.octokit.actions.listWorkflowRunArtifacts({...Yu,run_id:r.data.workflow_runs[0].id,per_page:100}).then(o=>o.data.artifacts)).then(r=>({name:i.name,commit:i.commit.sha,artifacts:r}))),s={};for(const i of await Promise.all(n))s[i.name]=i;return s}findNewVersion(e,n){for(const s of e)if($o.gt(s,n))return s;return null}async checkForUpdate(e){const s=(await this.octokit.rest.repos.listReleases(Xbe)).data.filter(o=>o.assets.length>0&&$o.valid(o.tag_name)),i=s.map(o=>o.tag_name),r=this.findNewVersion(i,e);return r?s.find(o=>o.tag_name==r):null}fetchAsset(e){const n=`${Zbe}${e.browser_download_url}`;return fetch(n,{headers:Jbe})}async fetchArtifact(e){const n=await this.octokit.actions.downloadArtifact({...Yu,artifact_id:e.id,archive_format:"zip"}),s=new zbe(new ybe(new Uint8Array(n.data))),i=(await s.getEntries()).shift();if(!i)return;const r=await i.getData(new _be);return await s.close(),r}}const Am=new Qbe,eve=cs("flash",{state:()=>({releases:{},branches:{}}),actions:{fetch(){return Promise.all([Am.fetchReleases().then(t=>this.releases=t),Am.fetchBranches().then(t=>this.branches=t)])}}}),tve=Ye({name:"Flash",setup(){return{root:cn(),flash:eve(),serial:mu()}},data(){return{loading:!1,sourceOptions:[{value:"release",text:"Release"},{value:"branch",text:"Development Branch"},{value:"local",text:"Local"}],progress:{},source:"release",release:void 0,branch:void 0,target:void 0,file:void 0}},computed:{branchOptions(){return Object.keys(this.flash.branches)},releaseOptions(){return Object.keys(this.flash.releases)},targetOptions(){let t=[];return this.source=="release"&&this.release&&(t=this.flash.releases[this.release]||[]),this.source=="branch"&&this.branch&&(t=this.flash.branches[this.branch].artifacts||[]),t.map(e=>({value:e,text:e.name.replace("quicksilver.","")}))},canFlash(){return this.loading?!1:this.source=="local"?!!this.file:!!this.target}},methods:{updateFile(){const t=this.$refs.file;t.files&&t.files.length?this.file=t.files[0]:this.file=void 0},fetchFirmware(){switch(this.source){case"local":return new Promise((t,e)=>{if(!this.file)return e();const n=new FileReader;n.addEventListener("load",s=>{var i;(i=s==null?void 0:s.target)!=null&&i.result?t(s.target.result):e()}),n.readAsText(this.file)});case"release":return Am.fetchAsset(this.target).then(t=>t.text());case"branch":return Am.fetchArtifact(this.target);default:return Promise.resolve(void 0)}},updateProgress(t){const e={...this.progress};e[t.task]=t,this.progress=e},onSubmit(t){t.preventDefault();const e=new c_e;return e.onProgress(n=>this.updateProgress(n)),Promise.all([this.fetchFirmware(),e.connect()]).then(([n])=>{if(!n)throw new Error("firmware not found");return e.flash(n)}).then(()=>this.root.append_alert({type:"success",msg:"Firmware flashed!"})).catch(n=>{ct.error("Flash",n),this.root.append_alert({type:"danger",msg:"Flash failed!"})}).then(()=>this.loading=!1).then(()=>this.progress={})}},created(){this.flash.fetch().then(()=>{this.release=this.releaseOptions.find(t=>!t.endsWith("-dev")),this.branch=this.branchOptions[0]})}}),nve={class:"columns"},sve={class:"card"},ive={class:"card-header"},rve={class:"card-header-title"},ove={class:"card-content field-is-3"},ave={class:"field is-horizontal"},lve={class:"field-label is-normal"},cve={class:"label"},uve={class:"field-body"},dve={class:"field is-narrow"},fve={class:"control"},hve={class:"select is-fullwidth"},pve={key:0,class:"field is-horizontal"},mve={class:"field-label is-medium"},gve={class:"label"},_ve={class:"field-body"},yve={class:"field"},bve={class:"file-label"},vve={class:"file-cta"},wve={class:"file-icon"},xve=g("span",{class:"file-label"}," Choose a file… ",-1),Sve={key:0,class:"file-name"},Eve={key:1,class:"field is-horizontal"},Tve={class:"field-label is-normal"},Mve={class:"label"},Ave={class:"field-body"},kve={class:"field is-narrow"},Rve={class:"control"},Cve={class:"select is-fullwidth"},Ove={key:2,class:"field is-horizontal"},Pve={class:"field-label is-normal"},Lve={class:"label"},Ive={class:"field-body"},Dve={class:"field is-narrow"},Fve={class:"control"},Nve={class:"select is-fullwidth"},Uve={key:3,class:"field is-horizontal"},$ve={class:"field-label is-normal"},Bve={class:"label"},zve={class:"field-body"},Gve={class:"field is-narrow"},Hve={class:"control"},Vve={class:"select is-fullwidth"},Wve={class:"column is-2"},jve={class:"column is-10"},qve=["value","max"],Yve={class:"card-footer"};function Kve(t,e,n,s,i,r){const o=Ae("tooltip"),a=Ae("spinner-btn"),l=Ae("input-select"),c=Ae("font-awesome-icon");return Q(),se("div",nve,[g("form",{class:"column is-12",onSubmit:e[6]||(e[6]=(...u)=>t.onSubmit&&t.onSubmit(...u))},[g("div",sve,[g("div",ive,[g("p",rve,[_e(" Flash "),X(o,{entry:"flash.reset"})]),X(a,{class:"card-header-button is-info",type:"button",onClick:e[0]||(e[0]=u=>t.serial.hard_reboot())},{default:Je(()=>[_e(" Reset to Bootloader ")]),_:1})]),g("div",ove,[g("div",ave,[g("div",lve,[g("label",cve,[_e(" Source "),X(o,{entry:"flash.source"})])]),g("div",uve,[g("div",dve,[g("div",fve,[g("div",hve,[X(l,{modelValue:t.source,"onUpdate:modelValue":e[1]||(e[1]=u=>t.source=u),options:t.sourceOptions},null,8,["modelValue","options"])])])])])]),t.source=="local"?(Q(),se("div",pve,[g("div",mve,[g("label",gve,[_e(" File "),X(o,{entry:"flash.file-local"})])]),g("div",_ve,[g("div",yve,[g("div",{class:Xs(["file is-boxed is-medium",{"has-name":t.file}])},[g("label",bve,[g("input",{class:"file-input",type:"file",onChange:e[2]||(e[2]=u=>t.updateFile()),ref:"file",accept:".hex"},null,544),g("span",vve,[g("span",wve,[X(c,{icon:"fa-solid fa-upload"})]),xve]),t.file?(Q(),se("span",Sve,Fe(t.file.name),1)):We("",!0)])],2)])])])):We("",!0),t.source=="branch"?(Q(),se("div",Eve,[g("div",Tve,[g("label",Mve,[_e(" Branch "),X(o,{entry:"flash.file-branch"})])]),g("div",Ave,[g("div",kve,[g("div",Rve,[g("div",Cve,[X(l,{modelValue:t.branch,"onUpdate:modelValue":e[3]||(e[3]=u=>t.branch=u),options:t.branchOptions},null,8,["modelValue","options"])])])])])])):We("",!0),t.source=="release"?(Q(),se("div",Ove,[g("div",Pve,[g("label",Lve,[_e(" Release "),X(o,{entry:"flash.file-release"})])]),g("div",Ive,[g("div",Dve,[g("div",Fve,[g("div",Nve,[X(l,{modelValue:t.release,"onUpdate:modelValue":e[4]||(e[4]=u=>t.release=u),options:t.releaseOptions},null,8,["modelValue","options"])])])])])])):We("",!0),t.source!="local"?(Q(),se("div",Uve,[g("div",$ve,[g("label",Bve,[_e(" Target "),X(o,{entry:"flash.file-remote"})])]),g("div",zve,[g("div",Gve,[g("div",Hve,[g("div",Vve,[X(l,{modelValue:t.target,"onUpdate:modelValue":e[5]||(e[5]=u=>t.target=u),options:t.targetOptions},null,8,["modelValue","options"])])])])])])):We("",!0),(Q(!0),se(Ze,null,$t(t.progress,(u,d)=>(Q(),se("div",{key:d,class:"columns my-2 mx-2"},[g("div",Wve,Fe(d),1),g("div",jve,[g("progress",{class:"progress is-primary",height:"20px",value:u.current,max:u.total},null,8,qve)])]))),128))]),g("footer",Yve,[X(a,{class:"card-footer-item",disabled:!t.canFlash,type:"submit"},{default:Je(()=>[_e(" Flash ")]),_:1},8,["disabled"])])])],32)])}const Xve=tt(tve,[["render",Kve]]),Zve=Ye({name:"home",components:{Info:O6},methods:{}});function Jve(t,e,n,s,i,r){const o=Ae("Info");return Q(),rn(o)}const Qve=tt(Zve,[["render",Jve]]),e2e=Ye({name:"Log",setup(){return{root:cn()}},computed:{logFilePath(){return ct.filePath()}},methods:{}}),t2e={class:"columns"},n2e={class:"column is-12"},s2e={class:"card"},i2e={class:"card-header"},r2e=g("p",{class:"card-header-title"},"Log",-1),o2e={key:0,class:"card-header-icon"},a2e={class:"card-content"},l2e={class:"content"};function c2e(t,e,n,s,i,r){return Q(),se("div",t2e,[g("div",n2e,[g("div",s2e,[g("header",i2e,[r2e,t.logFilePath?(Q(),se("small",o2e,Fe(t.logFilePath),1)):We("",!0)]),g("div",a2e,[g("div",l2e,[(Q(!0),se(Ze,null,$t(t.root.log,(o,a)=>(Q(),se("div",{key:o+"-"+a},[g("samp",null,">> "+Fe(o),1)]))),128))])])])])])}const u2e=tt(e2e,[["render",c2e]]),Hk="https://raw.githubusercontent.com/BossHobby/Templates/develop-deploy/";function Ty(t){return Hk+t}const d2e=cs("templates",{state:()=>({index:[]}),actions:{fetch_templates(){return fetch(Hk+"index.json").then(e=>e.json()).then(e=>{this.index=e.map(n=>(n.image&&(n.image=Ty(n.image)),n.profile=Ty(n.profile),n))})}}}),f2e=Ye({name:"TemplateModal",props:["template"],setup(){return{info:Yn(),profile:jt()}},data(){return{selected:{},tmpl:void 0}},watch:{template(t){this.updateTemplate(t)}},computed:{formValid(){var t;for(const e of((t=this.tmpl)==null?void 0:t.options)||[])if(!this.selected[e.name])return!1;return!0},selectedValues(){var e,n;const t={};for(const s of Object.keys(this.selected)){const i=(n=(e=this.tmpl)==null?void 0:e.options)==null?void 0:n.find(r=>r.name==s);i&&(t[s]=i.entries.find(r=>r.name==this.selected[s]))}return t}},methods:{updateTemplate(t){if(!t){this.tmpl=void 0;return}const e=JSON.parse(JSON.stringify(t)),n={};for(const s of e.options||[]){for(const i of s.entries)for(const r of Object.keys(i.selector||{}))if(i.selector[r].includes(this.info[r])){i.title+=" (auto-selected)",n[s.name]=i.name;break}if(!n[s.name]){const i=s.entries.find(r=>r.name==s.default);i&&(n[s.name]=s.default,i.title+=" (auto-selected)")}}this.tmpl=e,this.selected=n},async applyTemplate(){var e,n;if(!this.tmpl)return;const t=await fetch((e=this.tmpl)==null?void 0:e.profile).then(s=>s.text()).then(s=>bm.parse(s));for(const s of this.tmpl.options||[]){const i=s.entries.find(o=>o.name==this.selected[s.name]);if(!i)continue;const r=await fetch(Ty(i.file)).then(o=>o.text()).then(o=>bm.parse(o));ct.info("template","applying option",i.name),nm(t,r.profile)}if((n=this.tmpl)!=null&&n.mutations)for(const s of this.tmpl.mutations){const i=s.options.find(r=>Object.entries(r.selector).every(([o,a])=>a.includes(this.selected[o])));i&&(ct.info("template","applying mutation",i.name),nm(t,i.profile))}return this.profile.merge_profile(t)}},created(){this.updateTemplate(this.template)}});const h2e={key:0,class:"card my-5"},p2e={class:"card-content"},m2e={class:"title"},g2e={class:"is-3"},_2e={class:"is-size-5 has-text-weight-normal has-text-grey-lighter is-pulled-right"},y2e={class:"media"},b2e={class:"media-left"},v2e={class:"image",style:{width:"300px"}},w2e=["src"],x2e={class:"media-content"},S2e={class:"m-2"},E2e=g("hr",null,null,-1),T2e={class:"field is-horizontal"},M2e={class:"field-label is-medium is-align-self-flex-start"},A2e={class:"label"},k2e={class:"is-size-5"},R2e={class:"field-body is-flex-grow-2"},C2e={class:"field"},O2e={class:"control mb-2"},P2e={class:"select is-fullwidth"},L2e=["onUpdate:modelValue"],I2e=["value"],D2e={key:0,class:"help is-danger"},F2e={key:1,class:"help has-text-grey-light"},N2e={class:"card-footer"},U2e=g("span",{class:"card-footer-item"},null,-1),$2e=g("span",{class:"card-footer-item"},null,-1),B2e=g("span",{class:"card-footer-item"},null,-1);function z2e(t,e,n,s,i,r){const o=Ae("font-awesome-icon"),a=Ae("tooltip"),l=Ae("spinner-btn");return t.tmpl?(Q(),se("div",h2e,[g("div",p2e,[g("p",m2e,[g("span",g2e,Fe(t.tmpl.name),1),g("span",_2e,[X(o,{icon:"fa-regular fa-pen-to-square","fixed-width":""}),_e(" by "+Fe(t.tmpl.author),1)])]),g("article",y2e,[g("figure",b2e,[g("p",v2e,[g("img",{src:t.tmpl.image},null,8,w2e)])]),g("div",x2e,[g("p",S2e,Fe(t.tmpl.desc),1),E2e,(Q(!0),se(Ze,null,$t(t.tmpl.options,c=>{var u,d;return Q(),se("div",T2e,[g("div",M2e,[g("label",A2e,[g("span",k2e,Fe(c.title),1),X(a,{text:c.desc},null,8,["text"])])]),g("div",R2e,[g("div",C2e,[g("div",O2e,[g("div",P2e,[Ge(g("select",{"onUpdate:modelValue":f=>t.selected[c.name]=f},[(Q(!0),se(Ze,null,$t(c.entries,f=>(Q(),se("option",{value:f.name},Fe(f.title),9,I2e))),256))],8,L2e),[[Xm,t.selected[c.name]]])])]),t.selected[c.name]?We("",!0):(Q(),se("p",D2e," Please select an option! ")),(u=t.selectedValues[c.name])!=null&&u.desc?(Q(),se("p",F2e,Fe((d=t.selectedValues[c.name])==null?void 0:d.desc),1)):We("",!0)])])])}),256))])])]),g("footer",N2e,[U2e,$2e,B2e,X(l,{class:"card-footer-item is-primary",onClick:e[0]||(e[0]=c=>t.applyTemplate()),disabled:!t.formValid},{default:Je(()=>[_e(" Apply ")]),_:1},8,["disabled"])])])):We("",!0)}const G2e=tt(f2e,[["render",z2e]]),H2e=Ye({name:"Templates",components:{TemplateCard:G2e},setup(){return{templates:d2e(),profile:jt()}},created(){this.templates.fetch_templates()}});function V2e(t,e,n,s,i,r){const o=Ae("TemplateCard");return Q(!0),se(Ze,null,$t(t.templates.index,a=>(Q(),rn(o,{key:a.name,template:a},null,8,["template"]))),128)}const W2e=tt(H2e,[["render",V2e],["__scopeId","data-v-696dca69"]]),ci=hL({history:OP("/develop/"),routes:[{path:"/",redirect:()=>mu().is_connected?"/profile":"/home"},{path:"/home",name:"home",component:Qve},{path:"/templates",name:"templates",component:W2e},{path:"/flash",name:"flash",component:Xve},{path:"/profile",name:"profile",component:o_e},{path:"/setup",name:"setup",component:jZ},{path:"/rates",name:"rates",component:Kae},{path:"/receiver",name:"receiver",component:Tue},{path:"/osd",name:"osd",component:Xfe},{path:"/motor",name:"motor",component:cpe},{path:"/blackbox",name:"blackbox",component:Qpe},{path:"/state",name:"state",component:ome},{path:"/perf",name:"perf",component:ume},{path:"/log",name:"log",component:u2e}]});ci.beforeEach((t,e,n)=>{mu().is_connected?t.name==="home"?n({name:"profile"}):n():t.name!=="home"&&t.name!=="flash"&&t.name!=="log"?n({name:"home"}):n()});let My=null,Ay=0;function ky(){clearInterval(My),My=null,Ay=0}function j2e(t){ky(),My=setInterval(async()=>{await t(Ay),Ay++},Qp.serial.updateInterval)}const mu=cs("serial",{state:()=>({is_connected:!1,is_connecting:!1}),actions:{async poll_serial(t){if(!this.is_connected)return;const e=QA(),n=JA(),s=Ps(),i=D1();await s.fetch_state(),t%4&&(ci.currentRoute.value.fullPath=="/receiver"&&await e.fetch_bind_info(),ci.currentRoute.value.fullPath=="/perf"&&await n.fetch_perf_counters(),ci.currentRoute.value.fullPath=="/setup"&&await i.update_vtx_settings())},soft_reboot(){return yt.softReboot()},serial_passthrough({port:t,baudrate:e,half_duplex:n,stop_bits:s}){const i=cn();return yt.command(Vn.Serial,0,t,e,n?1:0,s).then(()=>yt.close()).then(()=>this.toggle_connection()).then(()=>{i.append_alert({type:"success",msg:"Serial passthrough successful!"})}).catch(r=>{ct.error("serial",r),i.append_alert({type:"danger",msg:"Serial passthrough failed"})})},hard_reboot(){const t=cn();return yt.hardReboot().then(()=>{t.append_alert({type:"success",msg:"Reset to bootloader successful!"})}).catch(e=>{ct.error("serial",e),t.append_alert({type:"danger",msg:"Reset to bootloader failed"})})},toggle_connection(){const t=cn(),e=Yn(),n=Pg(),s=N8(),i=D1(),r=Sf(),o=jt();return this.is_connected?(ky(),this.is_connected=!1,this.is_connecting=!1,t.reset_needs_reboot(),ci.currentRoute.value.fullPath!="/home"&&ci.push("/home"),yt.close()):(this.is_connecting=!0,yt.connect(a=>{ct.error("serial",a),yt.close(),ky(),this.is_connected=!1,this.is_connecting=!1,t.reset_needs_reboot(),ci.currentRoute.value.fullPath!="/home"&&ci.push("/home")}).then(a=>{e.$reset(),n.$reset(),i.$reset(),s.$reset(),r.$reset(),o.$reset(),this.is_connected=!0,e.set_info(a),r.fetch_default_profile(),t.fetch_pid_rate_presets(),o.fetch_profile(),i.update_vtx_settings(),j2e(l=>this.poll_serial(l)),ci.currentRoute.value.fullPath!="/profile"&&ci.push("/profile")}).catch(a=>{ct.error("serial",a),this.is_connected=!1,t.reset_needs_reboot(),t.append_alert({type:"danger",msg:"Connection to the board failed"})}).finally(()=>{this.is_connecting=!1}))}}}),q2e={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",width:"512",height:"82"},Y2e=g("g",{class:"tagline"},[g("path",{d:"M136.296 482.246c-3.928-4.12-4.077-8.114-.683-18.244 3.19-9.522 8.952-17.058 13.143-17.193 9.668-.311 18.425 10.55 16.774 20.804-.755 4.687-.449 5.607 2.558 7.673 6.313 4.338 3.485 8.076-3.563 4.708-2.557-1.223-4.29-.844-9.544 2.086-8.256 4.604-14.401 4.659-18.685.166zm15.716-4.63c1.995-2.313 1.83-2.74-2.447-6.32-6.633-5.55-6.138-8.303 1.381-7.676 3.283.274 5.968-.001 5.968-.61 0-2.224-5.394-12.128-6.604-12.128-1.917 0-7.981 7.296-8.782 10.566-.393 1.603-.523 5.354-.29 8.335.325 4.158 1.041 5.523 3.076 5.861 5.595.93 6.82 1.887 3.98 3.112-1.957.844-2.098 1.17-.538 1.242 1.164.054 3.079-1.018 4.256-2.383zm23.435-9.629c-1.804-1.304-4.04-3.338-4.97-4.52-2.498-3.18-8.271-15.06-10.414-21.43-2.197-6.53-1.186-7.814 6.136-7.792 4.606.014 4.676.108 9.11 12.151 4.476 12.157 6.273 15.615 8.117 15.615 1.234 0-1.904-14.511-4.603-21.287-2.441-6.128-2.617-12.966-.356-13.818.912-.343 3.52-.1 5.795.54 4.447 1.25 5.648 4.152 8.488 20.496 1.953 11.242 1.652 13.381-2.546 18.095-4.42 4.963-9.637 5.652-14.757 1.95zm27.697-11.888c-2.765-5.371-17.05-35.946-17.05-36.494 0-1.53 4.494-4.892 6.539-4.892 4.898 0 18.661 26.952 18.661 36.545 0 7.683-5.12 10.725-8.15 4.84zm13.574-7.875c-7.038-7.382-6.52-34.394.808-42.08 5.32-5.58 17.642-6.01 17.642-.614 0 2.81-6.538 5.432-8.747 3.509-1.442-1.256-2.13-.76-3.318 2.393-2.653 7.04-3.055 21.514-.757 27.282 1.827 4.586 2.623 5.213 6.624 5.213 2.509 0 5.32-.977 6.271-2.179 2.28-2.881 8.656-6.287 9.707-5.185 1.814 1.903.505 3.472-7.333 8.785-9.377 6.357-16.627 7.355-20.897 2.876zm32.998-13.046c-4.76-8.202-12.098-29.165-11.33-32.373.852-3.563 7.223-5.934 8.791-3.272.66 1.12 1.658.312 3.015-2.439 3.844-7.796 10.167-12.986 15.824-12.986h5.144l-2.75 4.05c-1.512 2.228-4.19 7.312-5.951 11.3l-3.202 7.25 6.193 5.61c8.412 7.622 14.258 16.055 12.447 17.955-.98 1.027-3.623.131-8.834-2.996l-7.435-4.462.365 6.566c.36 6.46.285 6.595-4.66 8.415-4.969 1.828-5.053 1.8-7.617-2.618zm38.038-15.437c1.54-3.388 1.888-6.477 1.24-11.008l-.9-6.297-6.712-.969c-6.928-.999-11.729-4.478-11.729-8.5 0-5.248 8.236-14.996 14.845-17.573 1.235-.481 4.1-.317 6.367.365 3.658 1.1 4.034.952 3.346-1.32-.91-3.01 2.435-7.024 5.855-7.024 4.932 0 18.662 26.966 18.662 36.652 0 5.01-2.77 8.648-5.69 7.473-.959-.386-4.968-7.673-8.91-16.193-4.987-10.784-7.72-15.268-8.991-14.756-1.005.404-2.661.735-3.68.735-2.211 0-7.676 10.642-6.756 13.156.353.966 3.312 2.462 6.575 3.323 6.661 1.76 7.964 3.896 6.82 11.183-1.684 10.715-4.886 15.463-10.429 15.463-1.839 0-1.83-.495.087-4.71zm37.76-16.656c-1.415-1.789-6.44-15.67-7.435-20.542-.254-1.244-1.73-5.355-3.282-9.136-2.232-5.442-2.538-7.653-1.467-10.607 1.759-4.85 7.422-5.238 8.806-.602.514 1.722 3.308 8.451 6.209 14.955 2.901 6.503 5.804 13.275 6.451 15.048.907 2.486 1.82 3.009 3.993 2.285 2.634-.876 5.065 1 5.119 3.95.028 1.541-10.633 6.471-14.076 6.509-1.552.016-3.495-.82-4.317-1.86zm17.868-16.303c-12.8-14.501-15.169-23.045-7.13-25.72 2.349-.783 3.845.105 7.464 4.426l4.527 5.405-.7-6.911c-.874-8.61.149-15.658 2.402-16.565.944-.38 3.377-.225 5.406.344l3.69 1.035.45 22.35c.448 22.286.44 22.352-2.583 23.201-5.22 1.467-5.88 1.098-13.526-7.565zm29.36-10.13c-5.437-8.588-12.008-26.864-11.354-31.575.325-2.341 2.951-4.634 9.73-8.497 9.392-5.352 17.088-7.242 14.097-3.462-.815 1.03-3.872 3.002-6.795 4.384-5.834 2.76-6.03 3.408-3.745 12.373l1.568 6.148 6.393-3.621c9.344-5.293 10.982-2.385 2.631 4.67l-6.462 5.46 3.296 5.224c1.813 2.873 3.561 5.223 3.885 5.223.324 0 3.76-2.382 7.638-5.294l7.048-5.294-1.866-4.655c-1.026-2.56-2.526-8.844-3.332-13.965-1.272-8.08-1.159-9.987.857-14.443 2.997-6.624 6.157-8.287 14.206-7.476 9.264.933 11.045 3.23 9.377 12.081l-1.33 7.051 5.447 1.52c6.165 1.722 9.868 4.691 11.53 9.249 2.477 6.794-2.384 9.956-6.118 3.979-1.147-1.836-3.966-4.293-6.265-5.46-3.88-1.972-4.448-1.925-7.893.647-3.008 2.247-3.46 3.265-2.386 5.37.729 1.428 1.325 5.155 1.325 8.282 0 4.713-.567 5.957-3.31 7.268-2.671 1.276-3.76 1.157-5.637-.62-2.154-2.037-3.02-1.643-11.611 5.282-12.23 9.856-14.769 9.874-20.925.15zm37.97-48.188c-1.053-2.487-2.791 3.916-2.832 10.433-.022 3.624.22 3.35 1.846-2.087 1.03-3.443 1.473-7.199.987-8.346z",style:{display:"inline",fill:"#000","fill-opacity":".29819","stroke-width":"1.35834"},transform:"matrix(1.43639 .63307 -.61952 1.40565 104.251 -703.335)"}),g("path",{d:"M137.121 482.059c-2.47-2.18-4.08-4.92-4.08-6.941 0-5.546 6.51-20.81 10.647-24.969 3.663-3.68 4.177-3.807 9.12-2.254 7.956 2.5 12.065 8.494 12.065 17.6 0 6.41.491 7.849 3.543 10.366 4.981 4.11 2.376 6.75-3.512 3.556-3.827-2.075-4.477-2.092-6.5-.171-2.887 2.74-11.256 6.414-14.609 6.414-1.426 0-4.43-1.62-6.674-3.601zm14.575-3.403c3.613-2.028 3.228-3.6-2.076-8.485-2.554-2.351-4.643-4.836-4.643-5.522 0-1.744 7.576-1.56 10.824.264 2.425 1.361 2.6 1.19 1.763-1.74-1.603-5.614-5.35-11.569-7.561-12.016-3.63-.733-8.936 8.16-9.198 15.416-.228 6.32 2.002 11.452 4.323 9.947.647-.419 1.882-.304 2.746.256 1.079.7.768 1.347-.995 2.07-2.35.966-2.363 1.062-.156 1.152 1.324.054 3.562-.55 4.973-1.342zm22.096-12.384c-5.114-4.709-13.165-21.055-13.401-27.205-.151-3.936.161-4.207 5.297-4.601 5.067-.389 5.512-.134 6.215 3.552 1.374 7.206 10.065 25.643 11.615 24.64 1.711-1.11 1.15-4.135-3.637-19.582-1.923-6.206-3.121-12.31-2.662-13.563.987-2.698 6.145-3.001 9.202-.541 2.203 1.773 5.4 13.165 7.025 25.024.853 6.23.647 6.86-3.755 11.477-5.766 6.047-9.971 6.258-15.9.8zm30.6-9.478c-2.671-3.238-16.972-34.543-16.972-37.153 0-1.919 3.8-4.931 6.213-4.925 2.73.007 16.018 25.946 17.173 33.522.743 4.874-1.111 10.99-3.332 10.99-.59 0-1.978-1.095-3.082-2.434zm13.153-7.887c-3.39-2.696-4.924-9.601-4.924-22.15 0-11.816 2.253-18.965 7.1-22.525 3.085-2.267 11.094-2.685 14.036-.733 3.16 2.098-.9 6.018-5.502 5.31-2.061-.318-4.364.201-5.116 1.152-1.812 2.29-3.157 19.762-2.014 26.152 1.235 6.901 5.95 10.177 11.303 7.852 2.131-.926 4.906-2.879 6.166-4.339 2.469-2.861 7.731-3.677 6.902-1.07-.277.872-4.314 4.002-8.972 6.956-8.898 5.643-14.822 6.703-18.98 3.395zm32.48-12.847c-.709-1.412-3.795-8.925-6.859-16.696-4.437-11.255-5.286-14.686-4.174-16.867 1.793-3.513 6.696-4.955 7.682-2.26.5 1.367 1.899.074 4.403-4.068 4.373-7.231 10.41-12.06 15.077-12.06h3.387l-5.378 10.85-5.377 10.85 9.412 9.873c5.7 5.978 9.413 11.027 9.413 12.798 0 1.61-.24 2.927-.536 2.927-.294 0-4.174-2.158-8.62-4.794-4.448-2.636-8.06-4.358-8.028-3.825.031.532.55 3.641 1.153 6.91 1.233 6.684 1.247 6.663-5.418 7.975-3.942.775-5.09.474-6.137-1.613zm37.602-14.74c.573-1.72 1.09-6.572 1.15-10.78l.108-7.651-5.305-1.205c-13.561-3.08-15.987-6.1-11.296-14.06 5.709-9.689 13.438-13.849 20.472-11.018 2.952 1.188 2.618 4.72-.447 4.72-2.914 0-8.066 7.863-8.066 12.31 0 2.08 1.065 3.179 3.647 3.758 9.508 2.133 9.981 2.741 9.342 12.01-.492 7.133-1.174 9.04-4.21 11.779-4.643 4.19-6.76 4.244-5.395.138zm24.198-11.824c-2.671-3.238-16.971-34.543-16.971-37.153 0-1.919 3.8-4.931 6.212-4.925 2.73.007 16.018 25.946 17.173 33.522.743 4.874-1.111 10.99-3.331 10.99-.591 0-1.978-1.095-3.083-2.434zm14.426-7.038c-2.73-3.164-12.82-33.08-12.825-38.024-.003-3.344 2.048-5.366 5.444-5.366.688 0 3.226 4.539 5.64 10.086 12.351 28.384 11.803 27.38 14.212 26.028 1.545-.867 2.744-.685 3.736.569 1.835 2.32-1.225 5.362-7.68 7.636-5.831 2.054-5.966 2.04-8.527-.93zm19.382-13.133c-7.945-8.574-14.818-20.125-13.979-23.493.385-1.542 2.205-3.404 4.044-4.138 2.953-1.177 3.826-.72 7.446 3.897l4.1 5.231.663-11.08c.708-11.832 1.635-13.077 8.395-11.286 2.801.742 2.879 1.352 2.879 22.584 0 20.53-.157 21.885-2.653 22.911-4.443 1.827-5.222 1.496-10.895-4.626zm29.094-10.433c-5.288-7.058-7.452-11.757-10.904-23.68-2.427-8.385-2.634-10.488-1.21-12.29 1.815-2.292 18.75-11.676 21.072-11.676 3.34 0 .809 3.028-5.204 6.224l-6.564 3.488 2.058 7.316c1.131 4.024 2.199 7.477 2.371 7.673.173.196 3.042-1.165 6.376-3.024 5.518-3.077 7.628-3.309 7.628-.837 0 .495-2.664 2.994-5.92 5.553l-5.92 4.652 2.273 4.06c4.122 7.366 5.033 7.492 12.92 1.794 3.992-2.883 7.258-5.466 7.258-5.74s-.881-2.858-1.958-5.743c-2.83-7.582-4.345-19.877-3.08-24.995 2.219-8.983 10.753-12.342 20.502-8.07 4.546 1.993 4.73 2.334 3.937 7.304-.457 2.868-1.178 6.534-1.601 8.148-.67 2.555-.058 3.054 4.732 3.857 6.469 1.085 11.952 6.2 11.952 11.148 0 5.168-2.678 5.979-5.643 1.71-1.425-2.051-4.399-4.71-6.61-5.91-3.756-2.037-4.245-1.997-7.488.611-1.908 1.535-3.243 3.629-2.967 4.654.277 1.024.8 4.827 1.162 8.45.596 5.961.359 6.709-2.492 7.85-2.43.973-3.802.636-5.993-1.473-1.563-1.504-3.055-2.183-3.316-1.51-.928 2.398-18.816 15.672-21.119 15.672-1.289 0-4.102-2.347-6.252-5.216zm36.223-45.126c.53-3.287.335-6.159-.475-7.008-1.366-1.433-2.004 1.03-3.288 12.702-.454 4.122-.302 4.42 1.172 2.306.932-1.337 2.098-4.936 2.591-8z",style:{display:"inline",fill:"#000","fill-opacity":".600917","stroke-width":"1.35834"},transform:"matrix(1.43639 .63307 -.61952 1.40565 104.251 -703.335)"}),g("path",{d:"M140.023 484.133c-1.567-.608-3.834-2.682-5.038-4.61-2.039-3.263-2.032-4.007.103-10.855 2.897-9.297 4.858-13.333 8.805-18.126 2.741-3.327 3.67-3.659 7.235-2.587 10.133 3.048 14.54 9.177 13.341 18.552-.602 4.708-.183 5.912 3.133 9.011 4.874 4.555 3.785 6.536-2.16 3.93-4.225-1.85-4.967-1.782-9.237.86-5.932 3.672-12.548 5.235-16.182 3.825zm12.165-5.608 3.59-2.961-4.737-4.096c-5.847-5.054-6.376-8.76-1.09-7.641 2.006.424 4.692 1.195 5.969 1.713 4.62 1.875 1.553-8.396-4.113-13.775-2.68-2.544-2.794-2.51-6.724 2.002-7.053 8.1-6.926 23.397.198 23.656 1.657.06 2.263.427 1.346.815-1.712.724-1.01 3.249.903 3.249.588 0 2.684-1.333 4.658-2.962zm19.956-14.358c-3.78-4.204-12.577-23.114-12.577-27.036 0-1.85 9.176-3.665 10.48-2.073.547.67 1.751 3.749 2.675 6.843 2.603 8.723 8.528 20.63 10.59 21.284 2.463.782 1.412-6.071-3.322-21.664-2.036-6.707-3.044-12.171-2.368-12.834.647-.636 3.092-.842 5.432-.46 4.803.786 5.562 2.462 8.922 19.692 1.499 7.684 1.634 10.994.54 13.215-2.977 6.05-5.43 7.833-10.782 7.833-4.295 0-6.076-.891-9.59-4.8zm23.886-24.544c-4.736-10.018-8.61-19.083-8.61-20.144 0-1.062 1.575-2.345 3.499-2.852 4.338-1.142 6.364 1.346 13.782 16.927 6.675 14.02 7.461 24.284 1.861 24.284-1.144 0-5.413-7.383-10.532-18.215zm21.82 8.692c-2.258-1.918-3.19-4.47-3.683-10.086-1.374-15.658-.86-24.065 1.755-28.693 3.73-6.603 14.366-9.748 17.893-5.291 2.322 2.935-3.734 5.869-7.616 3.69-2.292-1.287-2.884-.961-4.154 2.29-.815 2.086-1.627 8.904-1.805 15.151-.277 9.69.085 11.94 2.461 15.303 3.892 5.51 7.752 5.665 14.498.584 6.543-4.929 10.28-5.785 6.592-1.511-2.85 3.303-17.354 11.13-20.625 11.13-1.261 0-3.654-1.155-5.316-2.567zm29.3-19.975c-7.07-16.514-9.128-24.042-7.293-26.673 1.806-2.592 4.753-2.926 6.806-.773 1.001 1.05 2.418-.314 4.853-4.672 3.9-6.981 9.24-11.253 14.264-11.41l3.422-.108-4.337 7.701c-7.115 12.634-7.073 13.996.65 20.777 6.436 5.651 12.096 13.43 12.096 16.623 0 .852-3.91-.705-8.688-3.46l-8.688-5.009.879 6.944c.945 7.477.7 7.89-5.514 9.286-4.037.907-4.18.752-8.45-9.226zm39.746-4.654c0-.42.927-2.645 2.06-4.943 1.456-2.954 1.803-5.977 1.182-10.318-.925-6.473-1.16-6.657-10.537-8.322-9.626-1.708-11.047-5.914-5.061-14.973 4.597-6.958 9.718-9.752 15.708-8.574 5.204 1.024 6.383 4.77 1.503 4.77-2.041 0-3.632 1.217-4.648 3.556-.85 1.956-1.99 3.268-2.534 2.916-1.357-.88-1.258 6.926.106 8.357.603.632 3.587 1.78 6.632 2.55 4.748 1.202 5.599 1.977 5.976 5.447.719 6.61-1.069 13.434-4.447 16.977-2.927 3.07-5.94 4.367-5.94 2.557zm16.567-31.36c-4.735-10.019-8.61-19.084-8.61-20.146 0-1.061 1.575-2.344 3.5-2.85 4.338-1.143 6.363 1.345 13.781 16.926 6.675 14.02 7.462 24.284 1.861 24.284-1.143 0-5.412-7.383-10.532-18.215zm21.452 7.433c-2.708-5.637-10.349-29.474-10.894-33.987-.33-2.734.276-4.315 2.031-5.3 3.537-1.985 3.383-2.116 6.534 5.565 9.993 24.366 13.094 30.148 16.1 30.022 4.908-.207 4.553 3.214-.567 5.458-7.264 3.183-11.073 2.676-13.204-1.758zm21.208-10.554c-10.82-11.469-15.525-21.196-12.389-25.616 2.16-3.042 5.816-1.887 10.057 3.179l4.116 4.917v-9.672c0-11.708.752-14.08 4.453-14.052 5.681.042 6.023 1.268 6.266 22.469.129 11.176-.133 20.941-.58 21.7-.447.76-2.073 1.726-3.613 2.148-2.074.57-4.227-.745-8.31-5.073zm27.89-11.704c-5.978-9.082-13.192-29.422-11.858-33.436.787-2.37 18.557-11.704 21.242-11.159 1.168.237-.943 1.92-4.758 3.794-3.772 1.853-6.858 4.089-6.858 4.97 0 2.697 4.173 14.62 5.099 14.567.478-.027 2.362-.944 4.185-2.038 1.824-1.093 4.784-2.01 6.579-2.037 2.834-.043 2.444.544-2.971 4.472-3.429 2.486-6.24 5.158-6.247 5.937-.007.779 1.522 3.785 3.398 6.681l3.411 5.265 4.215-2.964c2.319-1.63 5.886-4.01 7.927-5.29 2.665-1.67 3.52-3.11 3.03-5.108-5.395-22.04-5.755-27.471-2.22-33.55 3.01-5.18 7.676-6.692 14.606-4.735 7.18 2.027 8.559 4.19 6.831 10.715-2.066 7.806-1.949 8.065 4.472 9.866 6.642 1.863 11.35 6.334 11.35 10.779 0 4.995-1.545 5.03-6.078.134-5.49-5.928-10.084-7.232-14.585-4.139-2.566 1.764-3.186 3.06-2.508 5.245.494 1.597 1.202 4.946 1.571 7.443 1.1 7.428-4.005 11.241-8.868 6.625-1.932-1.833-2.85-1.453-8.67 3.592-12.852 11.138-17.27 12.004-22.295 4.37zm35.636-37.168c2.177-5.464 2.535-12.7.688-13.897-1.847-1.196-2.455.565-3.481 10.075-1.045 9.686-.073 11.016 2.793 3.822z",style:{display:"inline",fill:"#000200","stroke-width":"1.35834"},transform:"matrix(1.43639 .63307 -.61952 1.40565 104.251 -703.335)"})],-1),K2e=[Y2e];function X2e(t,e){return Q(),se("svg",q2e,K2e)}const Z2e={render:X2e},J2e={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",width:"512",height:"130"},Q2e=jo('<defs><path id="a" d="M294.586 39.377h163.708v50.887H294.586z"></path></defs><g class="tagline"><path d="M136.296 482.246c-3.928-4.12-4.077-8.114-.683-18.244 3.19-9.522 8.952-17.058 13.143-17.193 9.668-.311 18.425 10.55 16.774 20.804-.755 4.687-.449 5.607 2.558 7.673 6.313 4.338 3.485 8.076-3.563 4.708-2.557-1.223-4.29-.844-9.544 2.086-8.256 4.604-14.401 4.659-18.685.166zm15.716-4.63c1.995-2.313 1.83-2.74-2.447-6.32-6.633-5.55-6.138-8.303 1.381-7.676 3.283.274 5.968-.001 5.968-.61 0-2.224-5.394-12.128-6.604-12.128-1.917 0-7.981 7.296-8.782 10.566-.393 1.603-.523 5.354-.29 8.335.325 4.158 1.041 5.523 3.076 5.861 5.595.93 6.82 1.887 3.98 3.112-1.957.844-2.098 1.17-.538 1.242 1.164.054 3.079-1.018 4.256-2.383zm23.435-9.629c-1.804-1.304-4.04-3.338-4.97-4.52-2.498-3.18-8.271-15.06-10.414-21.43-2.197-6.53-1.186-7.814 6.136-7.792 4.606.014 4.676.108 9.11 12.151 4.476 12.157 6.273 15.615 8.117 15.615 1.234 0-1.904-14.511-4.603-21.287-2.441-6.128-2.617-12.966-.356-13.818.912-.343 3.52-.1 5.795.54 4.447 1.25 5.648 4.152 8.488 20.496 1.953 11.242 1.652 13.381-2.546 18.095-4.42 4.963-9.637 5.652-14.757 1.95zm27.697-11.888c-2.765-5.371-17.05-35.946-17.05-36.494 0-1.53 4.494-4.892 6.539-4.892 4.898 0 18.661 26.952 18.661 36.545 0 7.683-5.12 10.725-8.15 4.84zm13.574-7.875c-7.038-7.382-6.52-34.394.808-42.08 5.32-5.58 17.642-6.01 17.642-.614 0 2.81-6.538 5.432-8.747 3.509-1.442-1.256-2.13-.76-3.318 2.393-2.653 7.04-3.055 21.514-.757 27.282 1.827 4.586 2.623 5.213 6.624 5.213 2.509 0 5.32-.977 6.271-2.179 2.28-2.881 8.656-6.287 9.707-5.185 1.814 1.903.505 3.472-7.333 8.785-9.377 6.357-16.627 7.355-20.897 2.876zm32.998-13.046c-4.76-8.202-12.098-29.165-11.33-32.373.852-3.563 7.223-5.934 8.791-3.272.66 1.12 1.658.312 3.015-2.439 3.844-7.796 10.167-12.986 15.824-12.986h5.144l-2.75 4.05c-1.512 2.228-4.19 7.312-5.951 11.3l-3.202 7.25 6.193 5.61c8.412 7.622 14.258 16.055 12.447 17.955-.98 1.027-3.623.131-8.834-2.996l-7.435-4.462.365 6.566c.36 6.46.285 6.595-4.66 8.415-4.969 1.828-5.053 1.8-7.617-2.618zm38.038-15.437c1.54-3.388 1.888-6.477 1.24-11.008l-.9-6.297-6.712-.969c-6.928-.999-11.729-4.478-11.729-8.5 0-5.248 8.236-14.996 14.845-17.573 1.235-.481 4.1-.317 6.367.365 3.658 1.1 4.034.952 3.346-1.32-.91-3.01 2.435-7.024 5.855-7.024 4.932 0 18.662 26.966 18.662 36.652 0 5.01-2.77 8.648-5.69 7.473-.959-.386-4.968-7.673-8.91-16.193-4.987-10.784-7.72-15.268-8.991-14.756-1.005.404-2.661.735-3.68.735-2.211 0-7.676 10.642-6.756 13.156.353.966 3.312 2.462 6.575 3.323 6.661 1.76 7.964 3.896 6.82 11.183-1.684 10.715-4.886 15.463-10.429 15.463-1.839 0-1.83-.495.087-4.71zm37.76-16.656c-1.415-1.789-6.44-15.67-7.435-20.542-.254-1.244-1.73-5.355-3.282-9.136-2.232-5.442-2.538-7.653-1.467-10.607 1.759-4.85 7.422-5.238 8.806-.602.514 1.722 3.308 8.451 6.209 14.955 2.901 6.503 5.804 13.275 6.451 15.048.907 2.486 1.82 3.009 3.993 2.285 2.634-.876 5.065 1 5.119 3.95.028 1.541-10.633 6.471-14.076 6.509-1.552.016-3.495-.82-4.317-1.86zm17.868-16.303c-12.8-14.501-15.169-23.045-7.13-25.72 2.349-.783 3.845.105 7.464 4.426l4.527 5.405-.7-6.911c-.874-8.61.149-15.658 2.402-16.565.944-.38 3.377-.225 5.406.344l3.69 1.035.45 22.35c.448 22.286.44 22.352-2.583 23.201-5.22 1.467-5.88 1.098-13.526-7.565zm29.36-10.13c-5.437-8.588-12.008-26.864-11.354-31.575.325-2.341 2.951-4.634 9.73-8.497 9.392-5.352 17.088-7.242 14.097-3.462-.815 1.03-3.872 3.002-6.795 4.384-5.834 2.76-6.03 3.408-3.745 12.373l1.568 6.148 6.393-3.621c9.344-5.293 10.982-2.385 2.631 4.67l-6.462 5.46 3.296 5.224c1.813 2.873 3.561 5.223 3.885 5.223.324 0 3.76-2.382 7.638-5.294l7.048-5.294-1.866-4.655c-1.026-2.56-2.526-8.844-3.332-13.965-1.272-8.08-1.159-9.987.857-14.443 2.997-6.624 6.157-8.287 14.206-7.476 9.264.933 11.045 3.23 9.377 12.081l-1.33 7.051 5.447 1.52c6.165 1.722 9.868 4.691 11.53 9.249 2.477 6.794-2.384 9.956-6.118 3.979-1.147-1.836-3.966-4.293-6.265-5.46-3.88-1.972-4.448-1.925-7.893.647-3.008 2.247-3.46 3.265-2.386 5.37.729 1.428 1.325 5.155 1.325 8.282 0 4.713-.567 5.957-3.31 7.268-2.671 1.276-3.76 1.157-5.637-.62-2.154-2.037-3.02-1.643-11.611 5.282-12.23 9.856-14.769 9.874-20.925.15zm37.97-48.188c-1.053-2.487-2.791 3.916-2.832 10.433-.022 3.624.22 3.35 1.846-2.087 1.03-3.443 1.473-7.199.987-8.346z" style="display:inline;fill:#000;fill-opacity:.29819;stroke-width:1.35834;" transform="matrix(1.49956 .46402 -.45409 1.46747 17.408 -657.928)"></path><path d="M137.121 482.059c-2.47-2.18-4.08-4.92-4.08-6.941 0-5.546 6.51-20.81 10.647-24.969 3.663-3.68 4.177-3.807 9.12-2.254 7.956 2.5 12.065 8.494 12.065 17.6 0 6.41.491 7.849 3.543 10.366 4.981 4.11 2.376 6.75-3.512 3.556-3.827-2.075-4.477-2.092-6.5-.171-2.887 2.74-11.256 6.414-14.609 6.414-1.426 0-4.43-1.62-6.674-3.601zm14.575-3.403c3.613-2.028 3.228-3.6-2.076-8.485-2.554-2.351-4.643-4.836-4.643-5.522 0-1.744 7.576-1.56 10.824.264 2.425 1.361 2.6 1.19 1.763-1.74-1.603-5.614-5.35-11.569-7.561-12.016-3.63-.733-8.936 8.16-9.198 15.416-.228 6.32 2.002 11.452 4.323 9.947.647-.419 1.882-.304 2.746.256 1.079.7.768 1.347-.995 2.07-2.35.966-2.363 1.062-.156 1.152 1.324.054 3.562-.55 4.973-1.342zm22.096-12.384c-5.114-4.709-13.165-21.055-13.401-27.205-.151-3.936.161-4.207 5.297-4.601 5.067-.389 5.512-.134 6.215 3.552 1.374 7.206 10.065 25.643 11.615 24.64 1.711-1.11 1.15-4.135-3.637-19.582-1.923-6.206-3.121-12.31-2.662-13.563.987-2.698 6.145-3.001 9.202-.541 2.203 1.773 5.4 13.165 7.025 25.024.853 6.23.647 6.86-3.755 11.477-5.766 6.047-9.971 6.258-15.9.8zm30.6-9.478c-2.671-3.238-16.972-34.543-16.972-37.153 0-1.919 3.8-4.931 6.213-4.925 2.73.007 16.018 25.946 17.173 33.522.743 4.874-1.111 10.99-3.332 10.99-.59 0-1.978-1.095-3.082-2.434zm13.153-7.887c-3.39-2.696-4.924-9.601-4.924-22.15 0-11.816 2.253-18.965 7.1-22.525 3.085-2.267 11.094-2.685 14.036-.733 3.16 2.098-.9 6.018-5.502 5.31-2.061-.318-4.364.201-5.116 1.152-1.812 2.29-3.157 19.762-2.014 26.152 1.235 6.901 5.95 10.177 11.303 7.852 2.131-.926 4.906-2.879 6.166-4.339 2.469-2.861 7.731-3.677 6.902-1.07-.277.872-4.314 4.002-8.972 6.956-8.898 5.643-14.822 6.703-18.98 3.395zm32.48-12.847c-.709-1.412-3.795-8.925-6.859-16.696-4.437-11.255-5.286-14.686-4.174-16.867 1.793-3.513 6.696-4.955 7.682-2.26.5 1.367 1.899.074 4.403-4.068 4.373-7.231 10.41-12.06 15.077-12.06h3.387l-5.378 10.85-5.377 10.85 9.412 9.873c5.7 5.978 9.413 11.027 9.413 12.798 0 1.61-.24 2.927-.536 2.927-.294 0-4.174-2.158-8.62-4.794-4.448-2.636-8.06-4.358-8.028-3.825.031.532.55 3.641 1.153 6.91 1.233 6.684 1.247 6.663-5.418 7.975-3.942.775-5.09.474-6.137-1.613zm37.602-14.74c.573-1.72 1.09-6.572 1.15-10.78l.108-7.651-5.305-1.205c-13.561-3.08-15.987-6.1-11.296-14.06 5.709-9.689 13.438-13.849 20.472-11.018 2.952 1.188 2.618 4.72-.447 4.72-2.914 0-8.066 7.863-8.066 12.31 0 2.08 1.065 3.179 3.647 3.758 9.508 2.133 9.981 2.741 9.342 12.01-.492 7.133-1.174 9.04-4.21 11.779-4.643 4.19-6.76 4.244-5.395.138zm24.198-11.824c-2.671-3.238-16.971-34.543-16.971-37.153 0-1.919 3.8-4.931 6.212-4.925 2.73.007 16.018 25.946 17.173 33.522.743 4.874-1.111 10.99-3.331 10.99-.591 0-1.978-1.095-3.083-2.434zm14.426-7.038c-2.73-3.164-12.82-33.08-12.825-38.024-.003-3.344 2.048-5.366 5.444-5.366.688 0 3.226 4.539 5.64 10.086 12.351 28.384 11.803 27.38 14.212 26.028 1.545-.867 2.744-.685 3.736.569 1.835 2.32-1.225 5.362-7.68 7.636-5.831 2.054-5.966 2.04-8.527-.93zm19.382-13.133c-7.945-8.574-14.818-20.125-13.979-23.493.385-1.542 2.205-3.404 4.044-4.138 2.953-1.177 3.826-.72 7.446 3.897l4.1 5.231.663-11.08c.708-11.832 1.635-13.077 8.395-11.286 2.801.742 2.879 1.352 2.879 22.584 0 20.53-.157 21.885-2.653 22.911-4.443 1.827-5.222 1.496-10.895-4.626zm29.094-10.433c-5.288-7.058-7.452-11.757-10.904-23.68-2.427-8.385-2.634-10.488-1.21-12.29 1.815-2.292 18.75-11.676 21.072-11.676 3.34 0 .809 3.028-5.204 6.224l-6.564 3.488 2.058 7.316c1.131 4.024 2.199 7.477 2.371 7.673.173.196 3.042-1.165 6.376-3.024 5.518-3.077 7.628-3.309 7.628-.837 0 .495-2.664 2.994-5.92 5.553l-5.92 4.652 2.273 4.06c4.122 7.366 5.033 7.492 12.92 1.794 3.992-2.883 7.258-5.466 7.258-5.74s-.881-2.858-1.958-5.743c-2.83-7.582-4.345-19.877-3.08-24.995 2.219-8.983 10.753-12.342 20.502-8.07 4.546 1.993 4.73 2.334 3.937 7.304-.457 2.868-1.178 6.534-1.601 8.148-.67 2.555-.058 3.054 4.732 3.857 6.469 1.085 11.952 6.2 11.952 11.148 0 5.168-2.678 5.979-5.643 1.71-1.425-2.051-4.399-4.71-6.61-5.91-3.756-2.037-4.245-1.997-7.488.611-1.908 1.535-3.243 3.629-2.967 4.654.277 1.024.8 4.827 1.162 8.45.596 5.961.359 6.709-2.492 7.85-2.43.973-3.802.636-5.993-1.473-1.563-1.504-3.055-2.183-3.316-1.51-.928 2.398-18.816 15.672-21.119 15.672-1.289 0-4.102-2.347-6.252-5.216zm36.223-45.126c.53-3.287.335-6.159-.475-7.008-1.366-1.433-2.004 1.03-3.288 12.702-.454 4.122-.302 4.42 1.172 2.306.932-1.337 2.098-4.936 2.591-8z" style="display:inline;fill:#000;fill-opacity:.600917;stroke-width:1.35834;" transform="matrix(1.49956 .46402 -.45409 1.46747 17.408 -657.928)"></path><path d="M140.023 484.133c-1.567-.608-3.834-2.682-5.038-4.61-2.039-3.263-2.032-4.007.103-10.855 2.897-9.297 4.858-13.333 8.805-18.126 2.741-3.327 3.67-3.659 7.235-2.587 10.133 3.048 14.54 9.177 13.341 18.552-.602 4.708-.183 5.912 3.133 9.011 4.874 4.555 3.785 6.536-2.16 3.93-4.225-1.85-4.967-1.782-9.237.86-5.932 3.672-12.548 5.235-16.182 3.825zm12.165-5.608 3.59-2.961-4.737-4.096c-5.847-5.054-6.376-8.76-1.09-7.641 2.006.424 4.692 1.195 5.969 1.713 4.62 1.875 1.553-8.396-4.113-13.775-2.68-2.544-2.794-2.51-6.724 2.002-7.053 8.1-6.926 23.397.198 23.656 1.657.06 2.263.427 1.346.815-1.712.724-1.01 3.249.903 3.249.588 0 2.684-1.333 4.658-2.962zm19.956-14.358c-3.78-4.204-12.577-23.114-12.577-27.036 0-1.85 9.176-3.665 10.48-2.073.547.67 1.751 3.749 2.675 6.843 2.603 8.723 8.528 20.63 10.59 21.284 2.463.782 1.412-6.071-3.322-21.664-2.036-6.707-3.044-12.171-2.368-12.834.647-.636 3.092-.842 5.432-.46 4.803.786 5.562 2.462 8.922 19.692 1.499 7.684 1.634 10.994.54 13.215-2.977 6.05-5.43 7.833-10.782 7.833-4.295 0-6.076-.891-9.59-4.8zm23.886-24.544c-4.736-10.018-8.61-19.083-8.61-20.144 0-1.062 1.575-2.345 3.499-2.852 4.338-1.142 6.364 1.346 13.782 16.927 6.675 14.02 7.461 24.284 1.861 24.284-1.144 0-5.413-7.383-10.532-18.215zm21.82 8.692c-2.258-1.918-3.19-4.47-3.683-10.086-1.374-15.658-.86-24.065 1.755-28.693 3.73-6.603 14.366-9.748 17.893-5.291 2.322 2.935-3.734 5.869-7.616 3.69-2.292-1.287-2.884-.961-4.154 2.29-.815 2.086-1.627 8.904-1.805 15.151-.277 9.69.085 11.94 2.461 15.303 3.892 5.51 7.752 5.665 14.498.584 6.543-4.929 10.28-5.785 6.592-1.511-2.85 3.303-17.354 11.13-20.625 11.13-1.261 0-3.654-1.155-5.316-2.567zm29.3-19.975c-7.07-16.514-9.128-24.042-7.293-26.673 1.806-2.592 4.753-2.926 6.806-.773 1.001 1.05 2.418-.314 4.853-4.672 3.9-6.981 9.24-11.253 14.264-11.41l3.422-.108-4.337 7.701c-7.115 12.634-7.073 13.996.65 20.777 6.436 5.651 12.096 13.43 12.096 16.623 0 .852-3.91-.705-8.688-3.46l-8.688-5.009.879 6.944c.945 7.477.7 7.89-5.514 9.286-4.037.907-4.18.752-8.45-9.226zm39.746-4.654c0-.42.927-2.645 2.06-4.943 1.456-2.954 1.803-5.977 1.182-10.318-.925-6.473-1.16-6.657-10.537-8.322-9.626-1.708-11.047-5.914-5.061-14.973 4.597-6.958 9.718-9.752 15.708-8.574 5.204 1.024 6.383 4.77 1.503 4.77-2.041 0-3.632 1.217-4.648 3.556-.85 1.956-1.99 3.268-2.534 2.916-1.357-.88-1.258 6.926.106 8.357.603.632 3.587 1.78 6.632 2.55 4.748 1.202 5.599 1.977 5.976 5.447.719 6.61-1.069 13.434-4.447 16.977-2.927 3.07-5.94 4.367-5.94 2.557zm16.567-31.36c-4.735-10.019-8.61-19.084-8.61-20.146 0-1.061 1.575-2.344 3.5-2.85 4.338-1.143 6.363 1.345 13.781 16.926 6.675 14.02 7.462 24.284 1.861 24.284-1.143 0-5.412-7.383-10.532-18.215zm21.452 7.433c-2.708-5.637-10.349-29.474-10.894-33.987-.33-2.734.276-4.315 2.031-5.3 3.537-1.985 3.383-2.116 6.534 5.565 9.993 24.366 13.094 30.148 16.1 30.022 4.908-.207 4.553 3.214-.567 5.458-7.264 3.183-11.073 2.676-13.204-1.758zm21.208-10.554c-10.82-11.469-15.525-21.196-12.389-25.616 2.16-3.042 5.816-1.887 10.057 3.179l4.116 4.917v-9.672c0-11.708.752-14.08 4.453-14.052 5.681.042 6.023 1.268 6.266 22.469.129 11.176-.133 20.941-.58 21.7-.447.76-2.073 1.726-3.613 2.148-2.074.57-4.227-.745-8.31-5.073zm27.89-11.704c-5.978-9.082-13.192-29.422-11.858-33.436.787-2.37 18.557-11.704 21.242-11.159 1.168.237-.943 1.92-4.758 3.794-3.772 1.853-6.858 4.089-6.858 4.97 0 2.697 4.173 14.62 5.099 14.567.478-.027 2.362-.944 4.185-2.038 1.824-1.093 4.784-2.01 6.579-2.037 2.834-.043 2.444.544-2.971 4.472-3.429 2.486-6.24 5.158-6.247 5.937-.007.779 1.522 3.785 3.398 6.681l3.411 5.265 4.215-2.964c2.319-1.63 5.886-4.01 7.927-5.29 2.665-1.67 3.52-3.11 3.03-5.108-5.395-22.04-5.755-27.471-2.22-33.55 3.01-5.18 7.676-6.692 14.606-4.735 7.18 2.027 8.559 4.19 6.831 10.715-2.066 7.806-1.949 8.065 4.472 9.866 6.642 1.863 11.35 6.334 11.35 10.779 0 4.995-1.545 5.03-6.078.134-5.49-5.928-10.084-7.232-14.585-4.139-2.566 1.764-3.186 3.06-2.508 5.245.494 1.597 1.202 4.946 1.571 7.443 1.1 7.428-4.005 11.241-8.868 6.625-1.932-1.833-2.85-1.453-8.67 3.592-12.852 11.138-17.27 12.004-22.295 4.37zm35.636-37.168c2.177-5.464 2.535-12.7.688-13.897-1.847-1.196-2.455.565-3.481 10.075-1.045 9.686-.073 11.016 2.793 3.822z" style="display:inline;fill:#000200;stroke-width:1.35834;" transform="matrix(1.49956 .46402 -.45409 1.46747 17.408 -657.928)"></path><text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:40px;line-height:1.25;font-family:&quot;Hack Nerd Font&quot;;-inkscape-font-specification:&quot;Hack Nerd Font&quot;;letter-spacing:-1.64499px;white-space:pre;shape-inside:url(#a);shape-padding:.0279914;display:inline;fill:#000;fill-opacity:1;stroke:none;" transform="matrix(1.5759 0 0 1.56484 -203.708 5.869)"><tspan x="294.613" y="75.604"><tspan style="font-weight:600;font-family:&quot;BlexMono Nerd Font Mono&quot;;-inkscape-font-specification:&quot;BlexMono Nerd Font Mono Semi-Bold&quot;;fill:red;">DEVELOP</tspan></tspan></text></g>',2),ewe=[Q2e];function twe(t,e){return Q(),se("svg",J2e,ewe)}const nwe={render:twe},swe=Ye({name:"app",components:{LogoClean:C6,LogoText:Z2e,LogoTextDevelop:nwe,RouterLink:c4,RouterView:u4,AlertPortal:eB,ModalPortal:oB},setup(){const t=ll();return{info:Yn(),profile:jt(),state:Ps(),serial:mu(),root:cn(),Features:zt(()=>t.Features)}},data(){return{darkMode:!0,branch:"develop"}},watch:{darkMode(t,e){t!=e&&document.firstElementChild&&(t?document.firstElementChild.className="theme-dark":document.firstElementChild.className="")}},computed:{availablePortOptions(){return this.serial.available.map(t=>({value:t,text:t.name}))},date(){return new Date(this.profile.meta.datetime*1e3)},connectButtonText(){return this.serial.is_connecting?"Connecting...":this.serial.is_connected?"Disconnect":"Connect"},canConnect(){return!this.serial.is_connecting&&this.$route.name!="flash"},updateProcessing(){return xa.updatePreparing()||xa.updatePending()}},methods:{timeAgo:nA,getDarkMode(){return localStorage.getItem("dark-mode")?localStorage.getItem("dark-mode")=="true":!window.matchMedia("(prefers-color-scheme: light)").matches},setDarkMode(t){localStorage.setItem("dark-mode",t?"true":"false"),this.darkMode=t},selectSerial(t,e){this.$modal.show(ox,{title:"Serial",options:e.map(n=>({text:n.displayName+" "+n.portName,value:n.portId}))}).then(n=>t.sender.send("serial",n))},selectUSBDevice(t,e){this.$modal.show(ox,{title:"USB Device",options:e.map(n=>({text:n.productName,value:n.deviceId}))}).then(n=>t.sender.send("usb-device",n))}},created(){var t,e;this.darkMode=this.getDarkMode(),xa.updatePending()&&xa.finishUpdate(),(t=window.electron)==null||t.ipcRenderer.on("select-serial",this.selectSerial),(e=window.electron)==null||e.ipcRenderer.on("select-usb-device",this.selectUSBDevice)},unmounted(){var t,e;clearInterval(this.interval),(t=window.electron)==null||t.ipcRenderer.removeAllListeners("select-serial"),(e=window.electron)==null||e.ipcRenderer.removeAllListeners("select-usb-device")}});const Vk=t=>(Gm("data-v-e315f1f0"),t=t(),Hm(),t),iwe={key:0,class:"overlay","no-wrap":"","z-index":"9999"},rwe=Vk(()=>g("div",{class:"text-center"},[g("span",{class:"icon"},[g("i",{class:"fas fa-spinner fa-pulse"})]),g("h1",null,"Updating...")],-1)),owe=[rwe],awe={class:"navbar is-fixed-top is-primary",role:"navigation","aria-label":"main navigation"},lwe={class:"navbar-brand"},cwe=Vk(()=>g("a",{role:"button",class:"navbar-burger","aria-label":"menu","aria-expanded":"false","data-target":"mainMavbar"},[g("span",{"aria-hidden":"true"}),g("span",{"aria-hidden":"true"}),g("span",{"aria-hidden":"true"})],-1)),uwe={id:"mainMavbar",class:"navbar-menu"},dwe={key:0,class:"navbar-start"},fwe={key:1,class:"navbar-start"},hwe={class:"navbar-end"},pwe={class:"navbar-item"},mwe={class:"buttons"},gwe={class:"container router-outlet-container"},_we={key:1,class:"navbar is-fixed-bottom has-shadow"},ywe={class:"navbar-brand"},bwe={class:"navbar-item is-size-4"},vwe={class:"navbar-item"},wwe={class:"navbar-item",style:{"font-size":"70%"}},xwe={class:"navbar-item",style:{"font-size":"60%"}},Swe={class:"navbar-end"},Ewe={class:"navbar-item"},Twe={class:"notification is-warning"},Mwe={class:"notification is-warning"};function Awe(t,e,n,s,i,r){const o=Ae("LogoTextDevelop"),a=Ae("LogoText"),l=Ae("router-link"),c=Ae("font-awesome-icon"),u=Ae("spinner-btn"),d=Ae("AlertPortal"),f=Ae("ModalPortal"),h=Ae("router-view");return Q(),se(Ze,null,[t.updateProcessing?(Q(),se("div",iwe,owe)):We("",!0),g("nav",awe,[g("div",lwe,[X(l,{class:"navbar-item py-1",to:"/profile"},{default:Je(()=>[t.branch=="develop"?(Q(),rn(o,{key:0,viewBox:"0 0 512 130",class:"text"})):(Q(),rn(a,{key:1,viewBox:"0 0 512 82",class:"text"}))]),_:1}),cwe]),g("div",uwe,[t.serial.is_connected?(Q(),se("div",dwe,[X(l,{"active-class":"is-active",class:"navbar-item",to:"/profile"},{default:Je(()=>[_e("Profile")]),_:1}),X(l,{"active-class":"is-active",class:"navbar-item",to:"/templates"},{default:Je(()=>[_e("Templates")]),_:1}),X(l,{"active-class":"is-active",class:"navbar-item",to:"/setup"},{default:Je(()=>[_e("Setup")]),_:1}),X(l,{"active-class":"is-active",class:"navbar-item",to:"/rates"},{default:Je(()=>[_e("Rates")]),_:1}),X(l,{"active-class":"is-active",class:"navbar-item",to:"/receiver"},{default:Je(()=>[_e("Receiver")]),_:1}),t.info.has_feature(t.Features.OSD)?(Q(),rn(l,{key:0,"active-class":"is-active",class:"navbar-item",to:"/osd"},{default:Je(()=>[_e("OSD")]),_:1})):We("",!0),X(l,{"active-class":"is-active",class:"navbar-item",to:"/motor"},{default:Je(()=>[_e("Motor")]),_:1}),t.info.has_feature(t.Features.BLACKBOX)&&t.info.quic_protocol_version>1?(Q(),rn(l,{key:1,"active-class":"is-active",class:"navbar-item",to:"/blackbox"},{default:Je(()=>[_e("Blackbox")]),_:1})):We("",!0),X(l,{"active-class":"is-active",class:"navbar-item",to:"/state"},{default:Je(()=>[_e("State")]),_:1}),t.info.has_feature(t.Features.DEBUG)&&t.info.quic_protocol_version>1?(Q(),rn(l,{key:2,"active-class":"is-active",class:"navbar-item",to:"/perf"},{default:Je(()=>[_e("Perf")]),_:1})):We("",!0),X(l,{"active-class":"is-active",class:"navbar-item",to:"/log"},{default:Je(()=>[_e("Log")]),_:1})])):(Q(),se("div",fwe,[X(l,{"active-class":"is-active",class:"navbar-item",to:"/"},{default:Je(()=>[_e("Home")]),_:1}),X(l,{"active-class":"is-active",class:"navbar-item",to:"/flash"},{default:Je(()=>[_e("Flash")]),_:1}),X(l,{"active-class":"is-active",class:"navbar-item",to:"/log"},{default:Je(()=>[_e("Log")]),_:1})])),g("div",hwe,[g("div",pwe,[g("div",mwe,[g("button",{class:"button is-primary",onClick:e[0]||(e[0]=_=>t.setDarkMode(!t.darkMode))},[t.darkMode?(Q(),rn(c,{key:1,icon:"fa-solid fa-cloud-sun",size:"lg","fixed-width":""})):(Q(),rn(c,{key:0,icon:"fa-solid fa-cloud-moon",size:"lg","fixed-width":""}))]),X(u,{class:"button is-primary",onClick:t.serial.toggle_connection,disabled:!t.canConnect},{default:Je(()=>[_e(Fe(t.connectButtonText),1)]),_:1},8,["onClick","disabled"])])])])])]),X(d),X(f),g("div",gwe,[X(h)]),t.serial.is_connected?(Q(),se("div",_we,[g("div",ywe,[g("span",bwe,Fe(t.profile.meta.name),1),g("span",vwe,"Modified "+Fe(t.timeAgo(t.date)),1),g("span",wwe," Looptime "+Fe(t.state.looptime_autodetect)+" CPU Load "+Fe(t.state.cpu_load),1),g("span",xwe," CPU Temp "+Fe(t.state.cpu_temp.toFixed(2))+"°C ",1)]),g("div",Swe,[g("span",Ewe,[Ge(g("div",Twe,[X(c,{icon:"fa-solid fa-triangle-exclamation"}),_e(" Unsaved changes ")],512),[[Hp,t.root.needs_apply]]),Ge(g("div",Mwe,[X(c,{icon:"fa-solid fa-triangle-exclamation"}),_e(" Reboot required ")],512),[[Hp,!t.root.needs_apply&&t.root.needs_reboot]])]),X(u,{class:"navbar-item is-warning my-auto mx-2",onClick:e[1]||(e[1]=_=>t.serial.soft_reboot())},{default:Je(()=>[_e(" Reboot ")]),_:1}),X(u,{class:"navbar-item is-primary my-auto mx-2",onClick:e[2]||(e[2]=_=>t.profile.apply_profile(t.profile.$state)),disabled:t.info.is_read_only},{default:Je(()=>[_e(" Apply ")]),_:1},8,["disabled"])])])):We("",!0)],64)}const kwe=tt(swe,[["render",Awe],["__scopeId","data-v-e315f1f0"]]),Wk=_9(),Rwe=["profile"];Wk.use(({store:t})=>{Rwe.includes(t.$id)&&t.$subscribe(e=>{if(e.type!="direct")return;cn().set_needs_apply()})});const Cwe=Ye({inheritAttrs:!1,data(){return{loading:!1}},computed:{filteredAttrs(){const t=/^on[^a-z]/,e={},{$attrs:n}=this;for(const s in n)t.test(s)||(e[s]=n[s]);return e}},methods:{clickHandler(t){const e=this.$attrs.onClick;this.loading=!0,Promise.resolve().then(()=>e?e(t):null).finally(()=>this.loading=!1)}}});function Owe(t,e,n,s,i,r){return Q(),se("button",Ym({class:["button",{"is-loading":t.loading}]},t.filteredAttrs,{onClick:e[0]||(e[0]=(...o)=>t.clickHandler&&t.clickHandler(...o))}),[QC(t.$slots,"default")],16)}const Pwe=tt(Cwe,[["render",Owe]]),Lwe={text:"Use this section to change motor positions, useful when using an fc in non standard configuration"},Iwe={text:"Connect a lipo to access esc settings. Change direction of rotation. Not all esc are supported, Blheli-32 does not work"},Dwe={text:"Can be used to flash serial receivers via passthrough, set correct uart and Start"},Fwe={"channel.aux_arming":{text:"Arm the craft, default is to also activate Idle-up"},"channel.aux_blackbox":{text:"Start/stop blackbox recording"},"channel.aux_buzzer_enable":{disabled:!0},"channel.aux_fpv_switch":{text:"Vtx Pit mode on a switch"},"channel.aux_horizon":{text:"Self levelling up to a specific angle then Acro on both Roll and Pitch, requires Level mode active"},"channel.aux_idle_up":{text:"Ensures props never stop spinning, similar to airmode, default is to use the same channel as ARM"},"channel.aux_levelmode":{text:"Accelerometer data is used to self level, needed for Racemode and Horizon"},"channel.aux_motor_test":{text:"Activate the motor test function, useful to check individual motors in the field"},"channel.aux_racemode":{text:"Uses self levelling only on the roll axis, acro on pitch, requires Level mode active"},"channel.aux_rate_profile":{disabled:!0},"channel.aux_rssi":{text:"For fcs that can send rssi on a channel"},"channel.aux_stick_boost_profile":{disabled:!0},"channel.aux_turtle":{text:"Set this to ON and the fc will detect when landed inverted and activate Turtle when ARM is active, optional to set to an Aux switch",link:"https://docs.bosshobby.com/Features/#turtle-mode"},"channel.aux_prearm":{text:"Allows for a separate AUX channel to be set as a safety for arming, the set AUX should be ON before the ARM switch is activated. If not used leave this as ON"},"filter.settings":{text:"The default filter setting are designed to be safe, before making adjustments refer to the wiki",link:"https://docs.bosshobby.com/Features/#filters"},"filter.dterm_1_freq":{disabled:!0},"filter.dterm_1_type":{disabled:!0},"filter.dterm_2_freq":{disabled:!0},"filter.dterm_2_type":{disabled:!0},"filter.dterm_dynamic_enable":{text:"Enable a dynamic D-term filtercut, you almost always want to leave this ON",link:"https://docs.bosshobby.com/Features/#dynamic-d-term"},"filter.dterm_dynamic_max":{disabled:!0},"filter.dterm_dynamic_min":{disabled:!0},"filter.gyro_1_freq":{disabled:!0},"filter.gyro_1_type":{disabled:!0},"filter.gyro_2_freq":{disabled:!0},"filter.gyro_2_type":{disabled:!0},"flash.file-local":{text:"Choose either a self built hex or a downloaded nightly hex"},"flash.file-release":{text:"The default selection is the latest `stable` release, dev versions are available as testers"},"flash.file-remote":{text:"Targets are named `board_name.motor_type.rx_type` choose serial if your rx is separate and attatched to a uart. If you don't see your fc listed exactly then don't flash, please ask for a target in our Discord server",link:"https://discord.gg/qzyvewaCnP"},"flash.reset":{text:"Pressing the `Reset To Bootloader` button should force the fc into DFU mode for flashing, if it doesn't work use the button on the fc while connecting USB"},"flash.source":{text:"If you compile your own hex or downloaded a `nightly build` select `local` and choose it in the next box"},"motor.digital_idle":{text:"Adjust in small ammounts if needed to achieve smooth idle"},"motor.dshot_time":{text:"On some fcs this might need set to 300 to avoid failloops, Default 600"},"motor.flip_gyro":{disabled:!0},"motor.gyro_orientation":{text:"Change this if the fc is mounted in a non standard way, use with the flip-gyro option until the preview model moves correctly"},"motor.invert_yaw":{text:"Default is props out"},"motor.test":{text:"Connect a lipo, PROPS OFF, use sliders to confirm motor operation and direction"},"motor.throttle_boost":{text:"Experimental, use with caution, can rob motors of power if set too high"},"motor.torque_boost":{text:"A very experimental feature for more advanced use",link:"https://docs.bosshobby.com/Features/#torque-boost"},"motor.turtle_throttle_percent":{text:"For whoops set to 100% larger craft start at 10% and increase by 10 to suit needs",link:"https://docs.bosshobby.com/Features/#turtle-mode"},motor_pins:Lwe,motor_settings:Iwe,"motor.motor_limit":{text:"Set a cap on the maximum throttle"},"osd.elements":{text:"Select and position OSD elements, callsign must use upper case",link:"https://docs.bosshobby.com/Features/#osd"},"osd.font":{text:"A choice of fonts are available, select and upload. You can also upload your own custom boot logo as long as it a 288x72 Black/White/Transparent PNG"},"pid.angle_strength":{text:"Angle Strength adjusts how your craft responds to external forces from bumps to stick inputs",link:"https://docs.bosshobby.com/Features/#angle-strength"},"pid.preset":{text:"Select by thrust to weight ratio or props size, these presets give a safe starting point to further tune if needed"},"pid.profile":{text:"You can have 2 different sets of pids loaded in 2 profiles"},"pid.stick_profile":{text:"Allows for adjustment to stick feel",link:"https://docs.bosshobby.com/Features/#stick-boost"},"pid.tda_active":{text:"As higher throttle levels are reached D-term gain is reduced allowing the D-term notch filter to work safely",link:"https://docs.bosshobby.com/Features/#throttle-d-term-attenuation-tda"},"pid.tda_breakpoint":{text:"Throttle percentage before TDA starts to act"},"pid.tda_percent":{text:"Percentage reduction of D-term at max throttle"},"rate.level_max_angle":{text:"Increase to give a higher velocity for racing, combined with high camera angle, to a max of 90"},"rate.low_rate_mulitplier":{disabled:!0},"rate.mode":{text:"Silverware, Betaflight and Actual rates option"},"rate.profile":{text:"2 slots available for different profiles"},"rate.sticks_deadband":{text:"If your radio has `jitter` on Pitch/Roll stick center raising this a little can help"},"rate.throttle_mid":{text:"Can be set to about where your `hover point` is giving improved resolution on the stick"},"rate.throttle_expo":{text:"Adding some expo will soften the stick feel around the set `Throttle Mid`"},"receiver.bind_saved":{text:"Once you have bind and issued stick gesture up,up,up followed by down,down,down on Pitch this will show YES"},"receiver.lqi_source":{text:"Select the source for your rssi/lqi OSD display. Direct is best for ELRS, others can use Packet-Rate"},"receiver.protocol":{text:"Serial or spi connected rx will be detected automatically here"},"receiver.channel_mapping":{text:"Quicksilver default is AETR the other option is TAER"},"serial.rx":{text:"Enter the UART number the serial RX is connected to (for spi RX leave as NONE)"},"serial.smart_audio":{text:"Enter the UART the VTX TX line is connected to"},serial_passthrough:Dwe,"serial.digital_vtx":{text:"MSP serial port for digital systems like HDZero, DJI WTF and Walksnail. HDZero requires TX and RX connected to use msp, define the UART here"},"voltage.actual_battery_voltage":{text:"Default is 4.2V, set to whatever value you get from a multimeter or lipo tester for a full lipo."},"voltage.ibat_scale":{text:"Use the value provided by the FC manufacturer"},"voltage.lipo_cell_count":{text:"Enter the number of cells, leave at 0 to use autodetect"},"voltage.pid_voltage_compensation":{text:"Adjusts the pids to compensate for lipo voltage drop, default ON"},"voltage.reported_telemetry_voltage":{text:"Set to the value received by your tx or in the OSD view with a full lipo"},"voltage.vbattlow":{text:"Set the desired voltage to trigger a warning, single cell voltage is used Default 3.3V (uses Fuel gauge volts)",link:"https://docs.bosshobby.com/Features/#voltage"}},Nwe={updated(t,{value:e,oldValue:n},{transition:s}){e!==n&&(e?(s.beforeEnter(t),t.style.visibility="visible",s.enter(t)):s.leave(t,()=>{t.style.visibility="hidden"}))}},Uwe=Ye({props:{text:String,entry:String,size:String},directives:{visible:Nwe},setup(){return{}},data(){return{placmentClass:{},visbleClick:!1,visbleHover:!1}},computed:{tooltip(){return this.text?{text:this.text}:Fwe[this.entry]},danger(){return!this.tooltip||!this.tooltip.text},visible(){return this.visbleClick||this.visbleHover},active(){return(this.text||this.entry)&&(!this.tooltip||!this.tooltip.disabled)}},mounted(){var s,i;const t=(s=this.$refs.tooltipContainer)==null?void 0:s.offsetTop,e=(i=this.$refs.tooltipContent)==null?void 0:i.clientHeight,n=t>=e;this.placmentClass={"tooltip-bottom":!n,"tooltip-top":n}}});const $we=["id"],Bwe={ref:"tooltipContent",class:"tooltip-text has-text-centered has-text-light has-background-dark"},zwe={key:0},Gwe={key:0},Hwe=["href"],Vwe={key:1};function Wwe(t,e,n,s,i,r){const o=Ae("font-awesome-icon"),a=JC("visible");return t.active?(Q(),se("span",{key:0,ref:"tooltipContainer",class:Xs(["tooltip",t.placmentClass]),onMouseenter:e[0]||(e[0]=l=>t.visbleHover=!0),onMouseleave:e[1]||(e[1]=l=>t.visbleHover=!1),onClick:e[2]||(e[2]=l=>t.visbleClick=!t.visbleClick)},[g("span",{class:Xs(["tooltip-icon",{"has-text-danger":t.danger,"has-text-grey":!t.danger}]),id:"tooltip-"+t.entry},[X(o,{icon:"fa-solid fa-circle-question",size:t.size,"fixed-width":""},null,8,["size"])],10,$we),X(hb,{name:"tooltip"},{default:Je(()=>[Ge((Q(),se("span",Bwe,[t.danger?(Q(),se("span",Vwe," Missing tooltip entry "+Fe(t.entry),1)):(Q(),se("span",zwe,[_e(Fe(t.tooltip.text)+" ",1),t.tooltip.link?(Q(),se("div",Gwe,[g("a",{target:"_blank",href:t.tooltip.link},"read more",8,Hwe)])):We("",!0)]))])),[[a,t.visible]])]),_:1})],34)):We("",!0)}const jwe=tt(Uwe,[["render",Wwe]]),qwe=Ye({props:["modelValue","options"],emits:["update:modelValue"],computed:{inputVal:{get(){return this.modelValue},set(t){this.$emit("update:modelValue",t)}},optionMap(){return(this.options||[]).map(t=>typeof t=="string"?{text:t,value:t}:t)}}}),Ywe=["value"];function Kwe(t,e,n,s,i,r){return Q(),se("div",Ym({class:"select"},t.$attrs),[Ge(g("select",{"onUpdate:modelValue":e[0]||(e[0]=o=>t.inputVal=o)},[(Q(!0),se(Ze,null,$t(t.optionMap,o=>(Q(),se("option",{key:o.value,value:o.value},Fe(o.text),9,Ywe))),128))],512),[[Xm,t.inputVal]])],16)}const Xwe=tt(qwe,[["render",Kwe]]);function bT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function Be(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bT(Object(n),!0).forEach(function(s){kn(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bT(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function km(t){return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},km(t)}function Zwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vT(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function Jwe(t,e,n){return e&&vT(t.prototype,e),n&&vT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a2(t,e){return exe(t)||nxe(t,e)||jk(t,e)||ixe()}function Bf(t){return Qwe(t)||txe(t)||jk(t)||sxe()}function Qwe(t){if(Array.isArray(t))return Ry(t)}function exe(t){if(Array.isArray(t))return t}function txe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s=[],i=!0,r=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(s.push(o.value),!(e&&s.length===e));i=!0);}catch(l){r=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(r)throw a}}return s}}function jk(t,e){if(t){if(typeof t=="string")return Ry(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ry(t,e)}}function Ry(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s}function sxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ixe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var wT=function(){},l2={},qk={},Yk=null,Kk={mark:wT,measure:wT};try{typeof window<"u"&&(l2=window),typeof document<"u"&&(qk=document),typeof MutationObserver<"u"&&(Yk=MutationObserver),typeof performance<"u"&&(Kk=performance)}catch{}var rxe=l2.navigator||{},xT=rxe.userAgent,ST=xT===void 0?"":xT,Ho=l2,Jt=qk,ET=Yk,Qh=Kk;Ho.document;var qr=!!Jt.documentElement&&!!Jt.head&&typeof Jt.addEventListener=="function"&&typeof Jt.createElement=="function",Xk=~ST.indexOf("MSIE")||~ST.indexOf("Trident/"),ep,tp,np,sp,ip,zr="___FONT_AWESOME___",Cy=16,Zk="fa",Jk="svg-inline--fa",il="data-fa-i2svg",Oy="data-fa-pseudo-element",oxe="data-fa-pseudo-element-pending",c2="data-prefix",u2="data-icon",TT="fontawesome-i2svg",axe="async",lxe=["HTML","HEAD","STYLE","SCRIPT"],Qk=function(){try{return!0}catch{return!1}}(),Xt="classic",dn="sharp",d2=[Xt,dn];function zf(t){return new Proxy(t,{get:function(n,s){return s in n?n[s]:n[Xt]}})}var df=zf((ep={},kn(ep,Xt,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),kn(ep,dn,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular"}),ep)),ff=zf((tp={},kn(tp,Xt,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),kn(tp,dn,{solid:"fass",regular:"fasr"}),tp)),hf=zf((np={},kn(np,Xt,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),kn(np,dn,{fass:"fa-solid",fasr:"fa-regular"}),np)),cxe=zf((sp={},kn(sp,Xt,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),kn(sp,dn,{"fa-solid":"fass","fa-regular":"fasr"}),sp)),uxe=/fa(s|r|l|t|d|b|k|ss|sr)?[\-\ ]/,eR="fa-layers-text",dxe=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,fxe=zf((ip={},kn(ip,Xt,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),kn(ip,dn,{900:"fass",400:"fasr"}),ip)),tR=[1,2,3,4,5,6,7,8,9,10],hxe=tR.concat([11,12,13,14,15,16,17,18,19,20]),pxe=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Oa={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},pf=new Set;Object.keys(ff[Xt]).map(pf.add.bind(pf));Object.keys(ff[dn]).map(pf.add.bind(pf));var mxe=[].concat(d2,Bf(pf),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Oa.GROUP,Oa.SWAP_OPACITY,Oa.PRIMARY,Oa.SECONDARY]).concat(tR.map(function(t){return"".concat(t,"x")})).concat(hxe.map(function(t){return"w-".concat(t)})),Sd=Ho.FontAwesomeConfig||{};function gxe(t){var e=Jt.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function _xe(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(Jt&&typeof Jt.querySelector=="function"){var yxe=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];yxe.forEach(function(t){var e=a2(t,2),n=e[0],s=e[1],i=_xe(gxe(n));i!=null&&(Sd[s]=i)})}var nR={styleDefault:"solid",familyDefault:"classic",cssPrefix:Zk,replacementClass:Jk,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Sd.familyPrefix&&(Sd.cssPrefix=Sd.familyPrefix);var qc=Be(Be({},nR),Sd);qc.autoReplaceSvg||(qc.observeMutations=!1);var He={};Object.keys(nR).forEach(function(t){Object.defineProperty(He,t,{enumerable:!0,set:function(n){qc[t]=n,Ed.forEach(function(s){return s(He)})},get:function(){return qc[t]}})});Object.defineProperty(He,"familyPrefix",{enumerable:!0,set:function(e){qc.cssPrefix=e,Ed.forEach(function(n){return n(He)})},get:function(){return qc.cssPrefix}});Ho.FontAwesomeConfig=He;var Ed=[];function bxe(t){return Ed.push(t),function(){Ed.splice(Ed.indexOf(t),1)}}var uo=Cy,ji={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function vxe(t){if(!(!t||!qr)){var e=Jt.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Jt.head.childNodes,s=null,i=n.length-1;i>-1;i--){var r=n[i],o=(r.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(s=r)}return Jt.head.insertBefore(e,s),t}}var wxe="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function mf(){for(var t=12,e="";t-- >0;)e+=wxe[Math.random()*62|0];return e}function gu(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function f2(t){return t.classList?gu(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function sR(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function xxe(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(sR(t[n]),'" ')},"").trim()}function Jg(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function h2(t){return t.size!==ji.size||t.x!==ji.x||t.y!==ji.y||t.rotate!==ji.rotate||t.flipX||t.flipY}function Sxe(t){var e=t.transform,n=t.containerWidth,s=t.iconWidth,i={transform:"translate(".concat(n/2," 256)")},r="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(r," ").concat(o," ").concat(a)},c={transform:"translate(".concat(s/2*-1," -256)")};return{outer:i,inner:l,path:c}}function Exe(t){var e=t.transform,n=t.width,s=n===void 0?Cy:n,i=t.height,r=i===void 0?Cy:i,o=t.startCentered,a=o===void 0?!1:o,l="";return a&&Xk?l+="translate(".concat(e.x/uo-s/2,"em, ").concat(e.y/uo-r/2,"em) "):a?l+="translate(calc(-50% + ".concat(e.x/uo,"em), calc(-50% + ").concat(e.y/uo,"em)) "):l+="translate(".concat(e.x/uo,"em, ").concat(e.y/uo,"em) "),l+="scale(".concat(e.size/uo*(e.flipX?-1:1),", ").concat(e.size/uo*(e.flipY?-1:1),") "),l+="rotate(".concat(e.rotate,"deg) "),l}var Txe=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function iR(){var t=Zk,e=Jk,n=He.cssPrefix,s=He.replacementClass,i=Txe;if(n!==t||s!==e){var r=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(r,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(s))}return i}var MT=!1;function n1(){He.autoAddCss&&!MT&&(vxe(iR()),MT=!0)}var Mxe={mixout:function(){return{dom:{css:iR,insertCss:n1}}},hooks:function(){return{beforeDOMElementCreation:function(){n1()},beforeI2svg:function(){n1()}}}},Gr=Ho||{};Gr[zr]||(Gr[zr]={});Gr[zr].styles||(Gr[zr].styles={});Gr[zr].hooks||(Gr[zr].hooks={});Gr[zr].shims||(Gr[zr].shims=[]);var bi=Gr[zr],rR=[],Axe=function t(){Jt.removeEventListener("DOMContentLoaded",t),Rm=1,rR.map(function(e){return e()})},Rm=!1;qr&&(Rm=(Jt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Jt.readyState),Rm||Jt.addEventListener("DOMContentLoaded",Axe));function kxe(t){qr&&(Rm?setTimeout(t,0):rR.push(t))}function Gf(t){var e=t.tag,n=t.attributes,s=n===void 0?{}:n,i=t.children,r=i===void 0?[]:i;return typeof t=="string"?sR(t):"<".concat(e," ").concat(xxe(s),">").concat(r.map(Gf).join(""),"</").concat(e,">")}function AT(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var Rxe=function(e,n){return function(s,i,r,o){return e.call(n,s,i,r,o)}},s1=function(e,n,s,i){var r=Object.keys(e),o=r.length,a=i!==void 0?Rxe(n,i):n,l,c,u;for(s===void 0?(l=1,u=e[r[0]]):(l=0,u=s);l<o;l++)c=r[l],u=a(u,e[c],c,e);return u};function Cxe(t){for(var e=[],n=0,s=t.length;n<s;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<s){var r=t.charCodeAt(n++);(r&64512)==56320?e.push(((i&1023)<<10)+(r&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function Py(t){var e=Cxe(t);return e.length===1?e[0].toString(16):null}function Oxe(t,e){var n=t.length,s=t.charCodeAt(e),i;return s>=55296&&s<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(s-55296)*1024+i-56320+65536:s}function kT(t){return Object.keys(t).reduce(function(e,n){var s=t[n],i=!!s.icon;return i?e[s.iconName]=s.icon:e[n]=s,e},{})}function Ly(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.skipHooks,i=s===void 0?!1:s,r=kT(e);typeof bi.hooks.addPack=="function"&&!i?bi.hooks.addPack(t,kT(e)):bi.styles[t]=Be(Be({},bi.styles[t]||{}),r),t==="fas"&&Ly("fa",e)}var rp,op,ap,oc=bi.styles,Pxe=bi.shims,Lxe=(rp={},kn(rp,Xt,Object.values(hf[Xt])),kn(rp,dn,Object.values(hf[dn])),rp),p2=null,oR={},aR={},lR={},cR={},uR={},Ixe=(op={},kn(op,Xt,Object.keys(df[Xt])),kn(op,dn,Object.keys(df[dn])),op);function Dxe(t){return~mxe.indexOf(t)}function Fxe(t,e){var n=e.split("-"),s=n[0],i=n.slice(1).join("-");return s===t&&i!==""&&!Dxe(i)?i:null}var dR=function(){var e=function(r){return s1(oc,function(o,a,l){return o[l]=s1(a,r,{}),o},{})};oR=e(function(i,r,o){if(r[3]&&(i[r[3]]=o),r[2]){var a=r[2].filter(function(l){return typeof l=="number"});a.forEach(function(l){i[l.toString(16)]=o})}return i}),aR=e(function(i,r,o){if(i[o]=o,r[2]){var a=r[2].filter(function(l){return typeof l=="string"});a.forEach(function(l){i[l]=o})}return i}),uR=e(function(i,r,o){var a=r[2];return i[o]=o,a.forEach(function(l){i[l]=o}),i});var n="far"in oc||He.autoFetchSvg,s=s1(Pxe,function(i,r){var o=r[0],a=r[1],l=r[2];return a==="far"&&!n&&(a="fas"),typeof o=="string"&&(i.names[o]={prefix:a,iconName:l}),typeof o=="number"&&(i.unicodes[o.toString(16)]={prefix:a,iconName:l}),i},{names:{},unicodes:{}});lR=s.names,cR=s.unicodes,p2=Qg(He.styleDefault,{family:He.familyDefault})};bxe(function(t){p2=Qg(t.styleDefault,{family:He.familyDefault})});dR();function m2(t,e){return(oR[t]||{})[e]}function Nxe(t,e){return(aR[t]||{})[e]}function Pa(t,e){return(uR[t]||{})[e]}function fR(t){return lR[t]||{prefix:null,iconName:null}}function Uxe(t){var e=cR[t],n=m2("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Vo(){return p2}var g2=function(){return{prefix:null,iconName:null,rest:[]}};function Qg(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.family,s=n===void 0?Xt:n,i=df[s][t],r=ff[s][t]||ff[s][i],o=t in bi.styles?t:null;return r||o||null}var RT=(ap={},kn(ap,Xt,Object.keys(hf[Xt])),kn(ap,dn,Object.keys(hf[dn])),ap);function e0(t){var e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.skipLookups,i=s===void 0?!1:s,r=(e={},kn(e,Xt,"".concat(He.cssPrefix,"-").concat(Xt)),kn(e,dn,"".concat(He.cssPrefix,"-").concat(dn)),e),o=null,a=Xt;(t.includes(r[Xt])||t.some(function(c){return RT[Xt].includes(c)}))&&(a=Xt),(t.includes(r[dn])||t.some(function(c){return RT[dn].includes(c)}))&&(a=dn);var l=t.reduce(function(c,u){var d=Fxe(He.cssPrefix,u);if(oc[u]?(u=Lxe[a].includes(u)?cxe[a][u]:u,o=u,c.prefix=u):Ixe[a].indexOf(u)>-1?(o=u,c.prefix=Qg(u,{family:a})):d?c.iconName=d:u!==He.replacementClass&&u!==r[Xt]&&u!==r[dn]&&c.rest.push(u),!i&&c.prefix&&c.iconName){var f=o==="fa"?fR(c.iconName):{},h=Pa(c.prefix,c.iconName);f.prefix&&(o=null),c.iconName=f.iconName||h||c.iconName,c.prefix=f.prefix||c.prefix,c.prefix==="far"&&!oc.far&&oc.fas&&!He.autoFetchSvg&&(c.prefix="fas")}return c},g2());return(t.includes("fa-brands")||t.includes("fab"))&&(l.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(l.prefix="fad"),!l.prefix&&a===dn&&(oc.fass||He.autoFetchSvg)&&(l.prefix="fass",l.iconName=Pa(l.prefix,l.iconName)||l.iconName),(l.prefix==="fa"||o==="fa")&&(l.prefix=Vo()||"fas"),l}var $xe=function(){function t(){Zwe(this,t),this.definitions={}}return Jwe(t,[{key:"add",value:function(){for(var n=this,s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=Be(Be({},n.definitions[a]||{}),o[a]),Ly(a,o[a]);var l=hf[Xt][a];l&&Ly(l,o[a]),dR()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,s){var i=s.prefix&&s.iconName&&s.icon?{0:s}:s;return Object.keys(i).map(function(r){var o=i[r],a=o.prefix,l=o.iconName,c=o.icon,u=c[2];n[a]||(n[a]={}),u.length>0&&u.forEach(function(d){typeof d=="string"&&(n[a][d]=c)}),n[a][l]=c}),n}}]),t}(),CT=[],ac={},Ec={},Bxe=Object.keys(Ec);function zxe(t,e){var n=e.mixoutsTo;return CT=t,ac={},Object.keys(Ec).forEach(function(s){Bxe.indexOf(s)===-1&&delete Ec[s]}),CT.forEach(function(s){var i=s.mixout?s.mixout():{};if(Object.keys(i).forEach(function(o){typeof i[o]=="function"&&(n[o]=i[o]),km(i[o])==="object"&&Object.keys(i[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=i[o][a]})}),s.hooks){var r=s.hooks();Object.keys(r).forEach(function(o){ac[o]||(ac[o]=[]),ac[o].push(r[o])})}s.provides&&s.provides(Ec)}),n}function Iy(t,e){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i];var r=ac[t]||[];return r.forEach(function(o){e=o.apply(null,[e].concat(s))}),e}function rl(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];var i=ac[t]||[];i.forEach(function(r){r.apply(null,n)})}function Hr(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Ec[t]?Ec[t].apply(null,e):void 0}function Dy(t){t.prefix==="fa"&&(t.prefix="fas");var e=t.iconName,n=t.prefix||Vo();if(e)return e=Pa(n,e)||e,AT(hR.definitions,n,e)||AT(bi.styles,n,e)}var hR=new $xe,Gxe=function(){He.autoReplaceSvg=!1,He.observeMutations=!1,rl("noAuto")},Hxe={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return qr?(rl("beforeI2svg",e),Hr("pseudoElements2svg",e),Hr("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot;He.autoReplaceSvg===!1&&(He.autoReplaceSvg=!0),He.observeMutations=!0,kxe(function(){Wxe({autoReplaceSvgRoot:n}),rl("watch",e)})}},Vxe={icon:function(e){if(e===null)return null;if(km(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Pa(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var n=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],s=Qg(e[0]);return{prefix:s,iconName:Pa(s,n)||n}}if(typeof e=="string"&&(e.indexOf("".concat(He.cssPrefix,"-"))>-1||e.match(uxe))){var i=e0(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||Vo(),iconName:Pa(i.prefix,i.iconName)||i.iconName}}if(typeof e=="string"){var r=Vo();return{prefix:r,iconName:Pa(r,e)||e}}}},Ls={noAuto:Gxe,config:He,dom:Hxe,parse:Vxe,library:hR,findIconDefinition:Dy,toHtml:Gf},Wxe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot,s=n===void 0?Jt:n;(Object.keys(bi.styles).length>0||He.autoFetchSvg)&&qr&&He.autoReplaceSvg&&Ls.dom.i2svg({node:s})};function t0(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(s){return Gf(s)})}}),Object.defineProperty(t,"node",{get:function(){if(qr){var s=Jt.createElement("div");return s.innerHTML=t.html,s.children}}}),t}function jxe(t){var e=t.children,n=t.main,s=t.mask,i=t.attributes,r=t.styles,o=t.transform;if(h2(o)&&n.found&&!s.found){var a=n.width,l=n.height,c={x:a/l/2,y:.5};i.style=Jg(Be(Be({},r),{},{"transform-origin":"".concat(c.x+o.x/16,"em ").concat(c.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function qxe(t){var e=t.prefix,n=t.iconName,s=t.children,i=t.attributes,r=t.symbol,o=r===!0?"".concat(e,"-").concat(He.cssPrefix,"-").concat(n):r;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Be(Be({},i),{},{id:o}),children:s}]}]}function _2(t){var e=t.icons,n=e.main,s=e.mask,i=t.prefix,r=t.iconName,o=t.transform,a=t.symbol,l=t.title,c=t.maskId,u=t.titleId,d=t.extra,f=t.watchable,h=f===void 0?!1:f,_=s.found?s:n,p=_.width,m=_.height,y=i==="fak",b=[He.replacementClass,r?"".concat(He.cssPrefix,"-").concat(r):""].filter(function(M){return d.classes.indexOf(M)===-1}).filter(function(M){return M!==""||!!M}).concat(d.classes).join(" "),v={children:[],attributes:Be(Be({},d.attributes),{},{"data-prefix":i,"data-icon":r,class:b,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(p," ").concat(m)})},w=y&&!~d.classes.indexOf("fa-fw")?{width:"".concat(p/m*16*.0625,"em")}:{};h&&(v.attributes[il]=""),l&&(v.children.push({tag:"title",attributes:{id:v.attributes["aria-labelledby"]||"title-".concat(u||mf())},children:[l]}),delete v.attributes.title);var S=Be(Be({},v),{},{prefix:i,iconName:r,main:n,mask:s,maskId:c,transform:o,symbol:a,styles:Be(Be({},w),d.styles)}),x=s.found&&n.found?Hr("generateAbstractMask",S)||{children:[],attributes:{}}:Hr("generateAbstractIcon",S)||{children:[],attributes:{}},T=x.children,E=x.attributes;return S.children=T,S.attributes=E,a?qxe(S):jxe(S)}function OT(t){var e=t.content,n=t.width,s=t.height,i=t.transform,r=t.title,o=t.extra,a=t.watchable,l=a===void 0?!1:a,c=Be(Be(Be({},o.attributes),r?{title:r}:{}),{},{class:o.classes.join(" ")});l&&(c[il]="");var u=Be({},o.styles);h2(i)&&(u.transform=Exe({transform:i,startCentered:!0,width:n,height:s}),u["-webkit-transform"]=u.transform);var d=Jg(u);d.length>0&&(c.style=d);var f=[];return f.push({tag:"span",attributes:c,children:[e]}),r&&f.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),f}function Yxe(t){var e=t.content,n=t.title,s=t.extra,i=Be(Be(Be({},s.attributes),n?{title:n}:{}),{},{class:s.classes.join(" ")}),r=Jg(s.styles);r.length>0&&(i.style=r);var o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var i1=bi.styles;function Fy(t){var e=t[0],n=t[1],s=t.slice(4),i=a2(s,1),r=i[0],o=null;return Array.isArray(r)?o={tag:"g",attributes:{class:"".concat(He.cssPrefix,"-").concat(Oa.GROUP)},children:[{tag:"path",attributes:{class:"".concat(He.cssPrefix,"-").concat(Oa.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(He.cssPrefix,"-").concat(Oa.PRIMARY),fill:"currentColor",d:r[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:o}}var Kxe={found:!1,width:512,height:512};function Xxe(t,e){!Qk&&!He.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function Ny(t,e){var n=e;return e==="fa"&&He.styleDefault!==null&&(e=Vo()),new Promise(function(s,i){if(Hr("missingIconAbstract"),n==="fa"){var r=fR(t)||{};t=r.iconName||t,e=r.prefix||e}if(t&&e&&i1[e]&&i1[e][t]){var o=i1[e][t];return s(Fy(o))}Xxe(t,e),s(Be(Be({},Kxe),{},{icon:He.showMissingIcons&&t?Hr("missingIconAbstract")||{}:{}}))})}var PT=function(){},Uy=He.measurePerformance&&Qh&&Qh.mark&&Qh.measure?Qh:{mark:PT,measure:PT},id='FA "6.3.0"',Zxe=function(e){return Uy.mark("".concat(id," ").concat(e," begins")),function(){return pR(e)}},pR=function(e){Uy.mark("".concat(id," ").concat(e," ends")),Uy.measure("".concat(id," ").concat(e),"".concat(id," ").concat(e," begins"),"".concat(id," ").concat(e," ends"))},y2={begin:Zxe,end:pR},Ip=function(){};function LT(t){var e=t.getAttribute?t.getAttribute(il):null;return typeof e=="string"}function Jxe(t){var e=t.getAttribute?t.getAttribute(c2):null,n=t.getAttribute?t.getAttribute(u2):null;return e&&n}function Qxe(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(He.replacementClass)}function eSe(){if(He.autoReplaceSvg===!0)return Dp.replace;var t=Dp[He.autoReplaceSvg];return t||Dp.replace}function tSe(t){return Jt.createElementNS("http://www.w3.org/2000/svg",t)}function nSe(t){return Jt.createElement(t)}function mR(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.ceFn,s=n===void 0?t.tag==="svg"?tSe:nSe:n;if(typeof t=="string")return Jt.createTextNode(t);var i=s(t.tag);Object.keys(t.attributes||[]).forEach(function(o){i.setAttribute(o,t.attributes[o])});var r=t.children||[];return r.forEach(function(o){i.appendChild(mR(o,{ceFn:s}))}),i}function sSe(t){var e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var Dp={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(mR(i),n)}),n.getAttribute(il)===null&&He.keepOriginalSource){var s=Jt.createComment(sSe(n));n.parentNode.replaceChild(s,n)}else n.remove()},nest:function(e){var n=e[0],s=e[1];if(~f2(n).indexOf(He.replacementClass))return Dp.replace(e);var i=new RegExp("".concat(He.cssPrefix,"-.*"));if(delete s[0].attributes.id,s[0].attributes.class){var r=s[0].attributes.class.split(" ").reduce(function(a,l){return l===He.replacementClass||l.match(i)?a.toSvg.push(l):a.toNode.push(l),a},{toNode:[],toSvg:[]});s[0].attributes.class=r.toSvg.join(" "),r.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",r.toNode.join(" "))}var o=s.map(function(a){return Gf(a)}).join(`
`);n.setAttribute(il,""),n.innerHTML=o}};function IT(t){t()}function gR(t,e){var n=typeof e=="function"?e:Ip;if(t.length===0)n();else{var s=IT;He.mutateApproach===axe&&(s=Ho.requestAnimationFrame||IT),s(function(){var i=eSe(),r=y2.begin("mutate");t.map(i),r(),n()})}}var b2=!1;function _R(){b2=!0}function $y(){b2=!1}var Cm=null;function DT(t){if(ET&&He.observeMutations){var e=t.treeCallback,n=e===void 0?Ip:e,s=t.nodeCallback,i=s===void 0?Ip:s,r=t.pseudoElementsCallback,o=r===void 0?Ip:r,a=t.observeMutationsRoot,l=a===void 0?Jt:a;Cm=new ET(function(c){if(!b2){var u=Vo();gu(c).forEach(function(d){if(d.type==="childList"&&d.addedNodes.length>0&&!LT(d.addedNodes[0])&&(He.searchPseudoElements&&o(d.target),n(d.target)),d.type==="attributes"&&d.target.parentNode&&He.searchPseudoElements&&o(d.target.parentNode),d.type==="attributes"&&LT(d.target)&&~pxe.indexOf(d.attributeName))if(d.attributeName==="class"&&Jxe(d.target)){var f=e0(f2(d.target)),h=f.prefix,_=f.iconName;d.target.setAttribute(c2,h||u),_&&d.target.setAttribute(u2,_)}else Qxe(d.target)&&i(d.target)})}}),qr&&Cm.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function iSe(){Cm&&Cm.disconnect()}function rSe(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(s,i){var r=i.split(":"),o=r[0],a=r.slice(1);return o&&a.length>0&&(s[o]=a.join(":").trim()),s},{})),n}function oSe(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),s=t.innerText!==void 0?t.innerText.trim():"",i=e0(f2(t));return i.prefix||(i.prefix=Vo()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&s.length>0&&(i.iconName=Nxe(i.prefix,t.innerText)||m2(i.prefix,Py(t.innerText))),!i.iconName&&He.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function aSe(t){var e=gu(t.attributes).reduce(function(i,r){return i.name!=="class"&&i.name!=="style"&&(i[r.name]=r.value),i},{}),n=t.getAttribute("title"),s=t.getAttribute("data-fa-title-id");return He.autoA11y&&(n?e["aria-labelledby"]="".concat(He.replacementClass,"-title-").concat(s||mf()):(e["aria-hidden"]="true",e.focusable="false")),e}function lSe(){return{iconName:null,title:null,titleId:null,prefix:null,transform:ji,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function FT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=oSe(t),s=n.iconName,i=n.prefix,r=n.rest,o=aSe(t),a=Iy("parseNodeAttributes",{},t),l=e.styleParser?rSe(t):[];return Be({iconName:s,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:ji,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:r,styles:l,attributes:o}},a)}var cSe=bi.styles;function yR(t){var e=He.autoReplaceSvg==="nest"?FT(t,{styleParser:!1}):FT(t);return~e.extra.classes.indexOf(eR)?Hr("generateLayersText",t,e):Hr("generateSvgReplacementMutation",t,e)}var Wo=new Set;d2.map(function(t){Wo.add("fa-".concat(t))});Object.keys(df[Xt]).map(Wo.add.bind(Wo));Object.keys(df[dn]).map(Wo.add.bind(Wo));Wo=Bf(Wo);function NT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!qr)return Promise.resolve();var n=Jt.documentElement.classList,s=function(d){return n.add("".concat(TT,"-").concat(d))},i=function(d){return n.remove("".concat(TT,"-").concat(d))},r=He.autoFetchSvg?Wo:d2.map(function(u){return"fa-".concat(u)}).concat(Object.keys(cSe));r.includes("fa")||r.push("fa");var o=[".".concat(eR,":not([").concat(il,"])")].concat(r.map(function(u){return".".concat(u,":not([").concat(il,"])")})).join(", ");if(o.length===0)return Promise.resolve();var a=[];try{a=gu(t.querySelectorAll(o))}catch{}if(a.length>0)s("pending"),i("complete");else return Promise.resolve();var l=y2.begin("onTree"),c=a.reduce(function(u,d){try{var f=yR(d);f&&u.push(f)}catch(h){Qk||h.name==="MissingIcon"&&console.error(h)}return u},[]);return new Promise(function(u,d){Promise.all(c).then(function(f){gR(f,function(){s("active"),s("complete"),i("pending"),typeof e=="function"&&e(),l(),u()})}).catch(function(f){l(),d(f)})})}function uSe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;yR(t).then(function(n){n&&gR([n],e)})}function dSe(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=(e||{}).icon?e:Dy(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:Dy(i||{})),t(s,Be(Be({},n),{},{mask:i}))}}var fSe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.transform,i=s===void 0?ji:s,r=n.symbol,o=r===void 0?!1:r,a=n.mask,l=a===void 0?null:a,c=n.maskId,u=c===void 0?null:c,d=n.title,f=d===void 0?null:d,h=n.titleId,_=h===void 0?null:h,p=n.classes,m=p===void 0?[]:p,y=n.attributes,b=y===void 0?{}:y,v=n.styles,w=v===void 0?{}:v;if(e){var S=e.prefix,x=e.iconName,T=e.icon;return t0(Be({type:"icon"},e),function(){return rl("beforeDOMElementCreation",{iconDefinition:e,params:n}),He.autoA11y&&(f?b["aria-labelledby"]="".concat(He.replacementClass,"-title-").concat(_||mf()):(b["aria-hidden"]="true",b.focusable="false")),_2({icons:{main:Fy(T),mask:l?Fy(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:S,iconName:x,transform:Be(Be({},ji),i),symbol:o,title:f,maskId:u,titleId:_,extra:{attributes:b,styles:w,classes:m}})})}},hSe={mixout:function(){return{icon:dSe(fSe)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=NT,n.nodeCallback=uSe,n}}},provides:function(e){e.i2svg=function(n){var s=n.node,i=s===void 0?Jt:s,r=n.callback,o=r===void 0?function(){}:r;return NT(i,o)},e.generateSvgReplacementMutation=function(n,s){var i=s.iconName,r=s.title,o=s.titleId,a=s.prefix,l=s.transform,c=s.symbol,u=s.mask,d=s.maskId,f=s.extra;return new Promise(function(h,_){Promise.all([Ny(i,a),u.iconName?Ny(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(p){var m=a2(p,2),y=m[0],b=m[1];h([n,_2({icons:{main:y,mask:b},prefix:a,iconName:i,transform:l,symbol:c,maskId:d,title:r,titleId:o,extra:f,watchable:!0})])}).catch(_)})},e.generateAbstractIcon=function(n){var s=n.children,i=n.attributes,r=n.main,o=n.transform,a=n.styles,l=Jg(a);l.length>0&&(i.style=l);var c;return h2(o)&&(c=Hr("generateAbstractTransformGrouping",{main:r,transform:o,containerWidth:r.width,iconWidth:r.width})),s.push(c||r.icon),{children:s,attributes:i}}}},pSe={mixout:function(){return{layer:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.classes,r=i===void 0?[]:i;return t0({type:"layer"},function(){rl("beforeDOMElementCreation",{assembler:n,params:s});var o=[];return n(function(a){Array.isArray(a)?a.map(function(l){o=o.concat(l.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(He.cssPrefix,"-layers")].concat(Bf(r)).join(" ")},children:o}]})}}}},mSe={mixout:function(){return{counter:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.title,r=i===void 0?null:i,o=s.classes,a=o===void 0?[]:o,l=s.attributes,c=l===void 0?{}:l,u=s.styles,d=u===void 0?{}:u;return t0({type:"counter",content:n},function(){return rl("beforeDOMElementCreation",{content:n,params:s}),Yxe({content:n.toString(),title:r,extra:{attributes:c,styles:d,classes:["".concat(He.cssPrefix,"-layers-counter")].concat(Bf(a))}})})}}}},gSe={mixout:function(){return{text:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.transform,r=i===void 0?ji:i,o=s.title,a=o===void 0?null:o,l=s.classes,c=l===void 0?[]:l,u=s.attributes,d=u===void 0?{}:u,f=s.styles,h=f===void 0?{}:f;return t0({type:"text",content:n},function(){return rl("beforeDOMElementCreation",{content:n,params:s}),OT({content:n,transform:Be(Be({},ji),r),title:a,extra:{attributes:d,styles:h,classes:["".concat(He.cssPrefix,"-layers-text")].concat(Bf(c))}})})}}},provides:function(e){e.generateLayersText=function(n,s){var i=s.title,r=s.transform,o=s.extra,a=null,l=null;if(Xk){var c=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();a=u.width/c,l=u.height/c}return He.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([n,OT({content:n.innerHTML,width:a,height:l,transform:r,title:i,extra:o,watchable:!0})])}}},_Se=new RegExp('"',"ug"),UT=[1105920,1112319];function ySe(t){var e=t.replace(_Se,""),n=Oxe(e,0),s=n>=UT[0]&&n<=UT[1],i=e.length===2?e[0]===e[1]:!1;return{value:Py(i?e[0]:e),isSecondary:s||i}}function $T(t,e){var n="".concat(oxe).concat(e.replace(":","-"));return new Promise(function(s,i){if(t.getAttribute(n)!==null)return s();var r=gu(t.children),o=r.filter(function(T){return T.getAttribute(Oy)===e})[0],a=Ho.getComputedStyle(t,e),l=a.getPropertyValue("font-family").match(dxe),c=a.getPropertyValue("font-weight"),u=a.getPropertyValue("content");if(o&&!l)return t.removeChild(o),s();if(l&&u!=="none"&&u!==""){var d=a.getPropertyValue("content"),f=~["Sharp"].indexOf(l[2])?dn:Xt,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(l[2])?ff[f][l[2].toLowerCase()]:fxe[f][c],_=ySe(d),p=_.value,m=_.isSecondary,y=l[0].startsWith("FontAwesome"),b=m2(h,p),v=b;if(y){var w=Uxe(p);w.iconName&&w.prefix&&(b=w.iconName,h=w.prefix)}if(b&&!m&&(!o||o.getAttribute(c2)!==h||o.getAttribute(u2)!==v)){t.setAttribute(n,v),o&&t.removeChild(o);var S=lSe(),x=S.extra;x.attributes[Oy]=e,Ny(b,h).then(function(T){var E=_2(Be(Be({},S),{},{icons:{main:T,mask:g2()},prefix:h,iconName:v,extra:x,watchable:!0})),M=Jt.createElement("svg");e==="::before"?t.insertBefore(M,t.firstChild):t.appendChild(M),M.outerHTML=E.map(function(C){return Gf(C)}).join(`
`),t.removeAttribute(n),s()}).catch(i)}else s()}else s()})}function bSe(t){return Promise.all([$T(t,"::before"),$T(t,"::after")])}function vSe(t){return t.parentNode!==document.head&&!~lxe.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(Oy)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function BT(t){if(qr)return new Promise(function(e,n){var s=gu(t.querySelectorAll("*")).filter(vSe).map(bSe),i=y2.begin("searchPseudoElements");_R(),Promise.all(s).then(function(){i(),$y(),e()}).catch(function(){i(),$y(),n()})})}var wSe={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=BT,n}}},provides:function(e){e.pseudoElements2svg=function(n){var s=n.node,i=s===void 0?Jt:s;He.searchPseudoElements&&BT(i)}}},zT=!1,xSe={mixout:function(){return{dom:{unwatch:function(){_R(),zT=!0}}}},hooks:function(){return{bootstrap:function(){DT(Iy("mutationObserverCallbacks",{}))},noAuto:function(){iSe()},watch:function(n){var s=n.observeMutationsRoot;zT?$y():DT(Iy("mutationObserverCallbacks",{observeMutationsRoot:s}))}}}},GT=function(e){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(s,i){var r=i.toLowerCase().split("-"),o=r[0],a=r.slice(1).join("-");if(o&&a==="h")return s.flipX=!0,s;if(o&&a==="v")return s.flipY=!0,s;if(a=parseFloat(a),isNaN(a))return s;switch(o){case"grow":s.size=s.size+a;break;case"shrink":s.size=s.size-a;break;case"left":s.x=s.x-a;break;case"right":s.x=s.x+a;break;case"up":s.y=s.y-a;break;case"down":s.y=s.y+a;break;case"rotate":s.rotate=s.rotate+a;break}return s},n)},SSe={mixout:function(){return{parse:{transform:function(n){return GT(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,s){var i=s.getAttribute("data-fa-transform");return i&&(n.transform=GT(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var s=n.main,i=n.transform,r=n.containerWidth,o=n.iconWidth,a={transform:"translate(".concat(r/2," 256)")},l="translate(".concat(i.x*32,", ").concat(i.y*32,") "),c="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),u="rotate(".concat(i.rotate," 0 0)"),d={transform:"".concat(l," ").concat(c," ").concat(u)},f={transform:"translate(".concat(o/2*-1," -256)")},h={outer:a,inner:d,path:f};return{tag:"g",attributes:Be({},h.outer),children:[{tag:"g",attributes:Be({},h.inner),children:[{tag:s.icon.tag,children:s.icon.children,attributes:Be(Be({},s.icon.attributes),h.path)}]}]}}}},r1={x:0,y:0,width:"100%",height:"100%"};function HT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function ESe(t){return t.tag==="g"?t.children:[t]}var TSe={hooks:function(){return{parseNodeAttributes:function(n,s){var i=s.getAttribute("data-fa-mask"),r=i?e0(i.split(" ").map(function(o){return o.trim()})):g2();return r.prefix||(r.prefix=Vo()),n.mask=r,n.maskId=s.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var s=n.children,i=n.attributes,r=n.main,o=n.mask,a=n.maskId,l=n.transform,c=r.width,u=r.icon,d=o.width,f=o.icon,h=Sxe({transform:l,containerWidth:d,iconWidth:c}),_={tag:"rect",attributes:Be(Be({},r1),{},{fill:"white"})},p=u.children?{children:u.children.map(HT)}:{},m={tag:"g",attributes:Be({},h.inner),children:[HT(Be({tag:u.tag,attributes:Be(Be({},u.attributes),h.path)},p))]},y={tag:"g",attributes:Be({},h.outer),children:[m]},b="mask-".concat(a||mf()),v="clip-".concat(a||mf()),w={tag:"mask",attributes:Be(Be({},r1),{},{id:b,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[_,y]},S={tag:"defs",children:[{tag:"clipPath",attributes:{id:v},children:ESe(f)},w]};return s.push(S,{tag:"rect",attributes:Be({fill:"currentColor","clip-path":"url(#".concat(v,")"),mask:"url(#".concat(b,")")},r1)}),{children:s,attributes:i}}}},MSe={provides:function(e){var n=!1;Ho.matchMedia&&(n=Ho.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var s=[],i={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};s.push({tag:"path",attributes:Be(Be({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=Be(Be({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:Be(Be({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:Be(Be({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Be(Be({},o),{},{values:"1;0;1;1;0;1;"})}),s.push(a),s.push({tag:"path",attributes:Be(Be({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:Be(Be({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||s.push({tag:"path",attributes:Be(Be({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Be(Be({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:s}}}},ASe={hooks:function(){return{parseNodeAttributes:function(n,s){var i=s.getAttribute("data-fa-symbol"),r=i===null?!1:i===""?!0:i;return n.symbol=r,n}}}},kSe=[Mxe,hSe,pSe,mSe,gSe,wSe,xSe,SSe,TSe,MSe,ASe];zxe(kSe,{mixoutsTo:Ls});Ls.noAuto;var bR=Ls.config,RSe=Ls.library;Ls.dom;var Om=Ls.parse;Ls.findIconDefinition;Ls.toHtml;var CSe=Ls.icon;Ls.layer;var OSe=Ls.text;Ls.counter;function VT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function hi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VT(Object(n),!0).forEach(function(s){fs(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VT(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Pm(t){return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm(t)}function fs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PSe(t,e){if(t==null)return{};var n={},s=Object.keys(t),i,r;for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function LSe(t,e){if(t==null)return{};var n=PSe(t,e),s,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function By(t){return ISe(t)||DSe(t)||FSe(t)||NSe()}function ISe(t){if(Array.isArray(t))return zy(t)}function DSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FSe(t,e){if(t){if(typeof t=="string")return zy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zy(t,e)}}function zy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s}function NSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var USe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vR={exports:{}};(function(t){(function(e){var n=function(y,b,v){if(!c(b)||d(b)||f(b)||h(b)||l(b))return b;var w,S=0,x=0;if(u(b))for(w=[],x=b.length;S<x;S++)w.push(n(y,b[S],v));else{w={};for(var T in b)Object.prototype.hasOwnProperty.call(b,T)&&(w[y(T,v)]=n(y,b[T],v))}return w},s=function(y,b){b=b||{};var v=b.separator||"_",w=b.split||/(?=[A-Z])/;return y.split(w).join(v)},i=function(y){return _(y)?y:(y=y.replace(/[\-_\s]+(.)?/g,function(b,v){return v?v.toUpperCase():""}),y.substr(0,1).toLowerCase()+y.substr(1))},r=function(y){var b=i(y);return b.substr(0,1).toUpperCase()+b.substr(1)},o=function(y,b){return s(y,b).toLowerCase()},a=Object.prototype.toString,l=function(y){return typeof y=="function"},c=function(y){return y===Object(y)},u=function(y){return a.call(y)=="[object Array]"},d=function(y){return a.call(y)=="[object Date]"},f=function(y){return a.call(y)=="[object RegExp]"},h=function(y){return a.call(y)=="[object Boolean]"},_=function(y){return y=y-0,y===y},p=function(y,b){var v=b&&"process"in b?b.process:b;return typeof v!="function"?y:function(w,S){return v(w,y,S)}},m={camelize:i,decamelize:o,pascalize:r,depascalize:o,camelizeKeys:function(y,b){return n(p(i,b),y)},decamelizeKeys:function(y,b){return n(p(o,b),y,b)},pascalizeKeys:function(y,b){return n(p(r,b),y)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};t.exports?t.exports=m:e.humps=m})(USe)})(vR);var $Se=vR.exports,BSe=["class","style"];function zSe(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var s=n.indexOf(":"),i=$Se.camelize(n.slice(0,s)),r=n.slice(s+1).trim();return e[i]=r,e},{})}function GSe(t){return t.split(/\s+/).reduce(function(e,n){return e[n]=!0,e},{})}function v2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var s=(t.children||[]).map(function(l){return v2(l)}),i=Object.keys(t.attributes||{}).reduce(function(l,c){var u=t.attributes[c];switch(c){case"class":l.class=GSe(u);break;case"style":l.style=zSe(u);break;default:l.attrs[c]=u}return l},{attrs:{},class:{},style:{}});n.class;var r=n.style,o=r===void 0?{}:r,a=LSe(n,BSe);return Va(t.tag,hi(hi(hi({},e),{},{class:i.class,style:hi(hi({},i.style),o)},i.attrs),a),s)}var wR=!1;try{wR=!0}catch{}function HSe(){if(!wR&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function Td(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?fs({},t,e):{}}function VSe(t){var e,n=(e={"fa-spin":t.spin,"fa-pulse":t.pulse,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-li":t.listItem,"fa-inverse":t.inverse,"fa-flip":t.flip===!0,"fa-flip-horizontal":t.flip==="horizontal"||t.flip==="both","fa-flip-vertical":t.flip==="vertical"||t.flip==="both"},fs(e,"fa-".concat(t.size),t.size!==null),fs(e,"fa-rotate-".concat(t.rotation),t.rotation!==null),fs(e,"fa-pull-".concat(t.pull),t.pull!==null),fs(e,"fa-swap-opacity",t.swapOpacity),fs(e,"fa-bounce",t.bounce),fs(e,"fa-shake",t.shake),fs(e,"fa-beat",t.beat),fs(e,"fa-fade",t.fade),fs(e,"fa-beat-fade",t.beatFade),fs(e,"fa-flash",t.flash),fs(e,"fa-spin-pulse",t.spinPulse),fs(e,"fa-spin-reverse",t.spinReverse),e);return Object.keys(n).map(function(s){return n[s]?s:null}).filter(function(s){return s})}function WT(t){if(t&&Pm(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(Om.icon)return Om.icon(t);if(t===null)return null;if(Pm(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}var WSe=Ye({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function(e){return[!0,!1,"horizontal","vertical","both"].indexOf(e)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(e){return["right","left"].indexOf(e)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(e){return[90,180,270].indexOf(Number.parseInt(e,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(e){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(e)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1}},setup:function(e,n){var s=n.attrs,i=zt(function(){return WT(e.icon)}),r=zt(function(){return Td("classes",VSe(e))}),o=zt(function(){return Td("transform",typeof e.transform=="string"?Om.transform(e.transform):e.transform)}),a=zt(function(){return Td("mask",WT(e.mask))}),l=zt(function(){return CSe(i.value,hi(hi(hi(hi({},r.value),o.value),a.value),{},{symbol:e.symbol,title:e.title}))});Po(l,function(u){if(!u)return HSe("Could not find one or more icon(s)",i.value,a.value)},{immediate:!0});var c=zt(function(){return l.value?v2(l.value.abstract[0],{},s):null});return function(){return c.value}}});Ye({name:"FontAwesomeLayers",props:{fixedWidth:{type:Boolean,default:!1}},setup:function(e,n){var s=n.slots,i=bR.familyPrefix,r=zt(function(){return["".concat(i,"-layers")].concat(By(e.fixedWidth?["".concat(i,"-fw")]:[]))});return function(){return Va("div",{class:r.value},s.default?s.default():[])}}});Ye({name:"FontAwesomeLayersText",props:{value:{type:[String,Number],default:""},transform:{type:[String,Object],default:null},counter:{type:Boolean,default:!1},position:{type:String,default:null,validator:function(e){return["bottom-left","bottom-right","top-left","top-right"].indexOf(e)>-1}}},setup:function(e,n){var s=n.attrs,i=bR.familyPrefix,r=zt(function(){return Td("classes",[].concat(By(e.counter?["".concat(i,"-layers-counter")]:[]),By(e.position?["".concat(i,"-layers-").concat(e.position)]:[])))}),o=zt(function(){return Td("transform",typeof e.transform=="string"?Om.transform(e.transform):e.transform)}),a=zt(function(){var c=OSe(e.value.toString(),hi(hi({},o.value),r.value)),u=c.abstract;return e.counter&&(u[0].attributes.class=u[0].attributes.class.replace("fa-layers-text","")),u[0]}),l=zt(function(){return v2(a.value,{},s)});return function(){return l.value}}});var jSe={prefix:"fas",iconName:"circle-question",icon:[512,512,[62108,"question-circle"],"f059","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3h58.3c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24V250.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1H222.6c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"]},qSe={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32V274.7l-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7V32zM64 352c-35.3 0-64 28.7-64 64v32c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V416c0-35.3-28.7-64-64-64H346.5l-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352H64zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},YSe={prefix:"fas",iconName:"upload",icon:[512,512,[],"f093","M288 109.3V352c0 17.7-14.3 32-32 32s-32-14.3-32-32V109.3l-73.4 73.4c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l128-128c12.5-12.5 32.8-12.5 45.3 0l128 128c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L288 109.3zM64 352H192c0 35.3 28.7 64 64 64s64-28.7 64-64H448c35.3 0 64 28.7 64 64v32c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V416c0-35.3 28.7-64 64-64zM432 456a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"]},KSe={prefix:"fas",iconName:"cloud-moon",icon:[640,512,[],"f6c3","M495.8 0c5.5 0 10.9 .2 16.3 .7c7 .6 12.8 5.7 14.3 12.5s-1.6 13.9-7.7 17.3c-44.4 25.2-74.4 73-74.4 127.8c0 81 65.5 146.6 146.2 146.6c8.6 0 17-.7 25.1-2.1c6.9-1.2 13.8 2.2 17 8.5s1.9 13.8-3.1 18.7c-34.5 33.6-81.7 54.4-133.6 54.4c-9.3 0-18.4-.7-27.4-1.9c-11.2-22.6-29.8-40.9-52.6-51.7c-2.7-58.5-50.3-105.3-109.2-106.7c-1.7-10.4-2.6-21-2.6-31.8C304 86.1 389.8 0 495.8 0zM447.9 431.9c0 44.2-35.8 80-80 80H96c-53 0-96-43-96-96c0-47.6 34.6-87 80-94.6l0-1.3c0-53 43-96 96-96c34.9 0 65.4 18.6 82.2 46.4c13-9.1 28.8-14.4 45.8-14.4c44.2 0 80 35.8 80 80c0 5.9-.6 11.7-1.9 17.2c37.4 6.7 65.8 39.4 65.8 78.7z"]},XSe={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},ZSe={prefix:"fas",iconName:"cloud-sun",icon:[640,512,[9925],"f6c4","M294.2 1.2c5.1 2.1 8.7 6.7 9.6 12.1l14.1 84.7 84.7 14.1c5.4 .9 10 4.5 12.1 9.6s1.5 10.9-1.6 15.4l-38.5 55c-2.2-.1-4.4-.2-6.7-.2c-23.3 0-45.1 6.2-64 17.1l0-1.1c0-53-43-96-96-96s-96 43-96 96s43 96 96 96c8.1 0 15.9-1 23.4-2.9c-36.6 18.1-63.3 53.1-69.8 94.9l-24.4 17c-4.5 3.2-10.3 3.8-15.4 1.6s-8.7-6.7-9.6-12.1L98.1 317.9 13.4 303.8c-5.4-.9-10-4.5-12.1-9.6s-1.5-10.9 1.6-15.4L52.5 208 2.9 137.2c-3.2-4.5-3.8-10.3-1.6-15.4s6.7-8.7 12.1-9.6L98.1 98.1l14.1-84.7c.9-5.4 4.5-10 9.6-12.1s10.9-1.5 15.4 1.6L208 52.5 278.8 2.9c4.5-3.2 10.3-3.8 15.4-1.6zM144 208a64 64 0 1 1 128 0 64 64 0 1 1 -128 0zM639.9 431.9c0 44.2-35.8 80-80 80H288c-53 0-96-43-96-96c0-47.6 34.6-87 80-94.6l0-1.3c0-53 43-96 96-96c34.9 0 65.4 18.6 82.2 46.4c13-9.1 28.8-14.4 45.8-14.4c44.2 0 80 35.8 80 80c0 5.9-.6 11.7-1.9 17.2c37.4 6.7 65.8 39.4 65.8 78.7z"]},JSe={prefix:"far",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M441 58.9L453.1 71c9.4 9.4 9.4 24.6 0 33.9L424 134.1 377.9 88 407 58.9c9.4-9.4 24.6-9.4 33.9 0zM209.8 256.2L344 121.9 390.1 168 255.8 302.2c-2.9 2.9-6.5 5-10.4 6.1l-58.5 16.7 16.7-58.5c1.1-3.9 3.2-7.5 6.1-10.4zM373.1 25L175.8 222.2c-8.7 8.7-15 19.4-18.3 31.1l-28.6 100c-2.4 8.4-.1 17.4 6.1 23.6s15.2 8.5 23.6 6.1l100-28.6c11.8-3.4 22.5-9.7 31.1-18.3L487 138.9c28.1-28.1 28.1-73.7 0-101.8L474.9 25C446.8-3.1 401.2-3.1 373.1 25zM88 64C39.4 64 0 103.4 0 152V424c0 48.6 39.4 88 88 88H360c48.6 0 88-39.4 88-88V312c0-13.3-10.7-24-24-24s-24 10.7-24 24V424c0 22.1-17.9 40-40 40H88c-22.1 0-40-17.9-40-40V152c0-22.1 17.9-40 40-40H200c13.3 0 24-10.7 24-24s-10.7-24-24-24H88z"]};RSe.add(jSe,XSe,YSe,KSe,ZSe,qSe,JSe);class QSe{constructor(){Ke(this,"state",ol({isShown:!1,resolve:void 0,component:void 0,props:{}}))}get isShown(){return this.state.isShown}get component(){return this.state.component}get props(){return this.state.props}show(e,n){return this.state.props=n||{},this.state.component=eb(e),this.state.isShown=!0,new Promise(s=>{this.state.resolve=s})}close(e){this.state.resolve&&this.state.resolve(e),this.state.isShown=!1,this.state.component=void 0,this.state.resolve=void 0,this.state.props={}}}const e3e={install(t){t.config.globalProperties.$modal=new QSe}};/*!
  * chartjs-adapter-moment v1.0.1
  * https://www.chartjs.org
  * (c) 2022 chartjs-adapter-moment Contributors
  * Released under the MIT license
  */const t3e={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};p8._date.override(typeof Pe=="function"?{_id:"moment",formats:function(){return t3e},parse:function(t,e){return typeof t=="string"&&typeof e=="string"?t=Pe(t,e):t instanceof Pe||(t=Pe(t)),t.isValid()?t.valueOf():null},format:function(t,e){return Pe(t).format(e)},add:function(t,e,n){return Pe(t).add(e,n).valueOf()},diff:function(t,e,n){return Pe(t).diff(Pe(e),n)},startOf:function(t,e,n){return t=Pe(t),e==="isoWeek"?(n=Math.trunc(Math.min(Math.max(0,n),6)),t.isoWeekday(n).startOf("day").valueOf()):t.startOf(e).valueOf()},endOf:function(t,e){return Pe(t).endOf(e).valueOf()}}:{});ef.register(Pte,Cte,Bte,kg,Of,Pf,Cv,hm);const Yo=oP(kwe);Yo.component("spinner-btn",Pwe);Yo.component("tooltip",jwe);Yo.component("input-select",Xwe);Yo.component("FontAwesomeIcon",WSe);Yo.use(Wk);Yo.use(ci);Yo.use(e3e);Yo.mount("#app");export{uP as _};
