var RP=Object.defineProperty;var PP=(t,e,n)=>e in t?RP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var kP=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var it=(t,e,n)=>(PP(t,typeof e!="symbol"?e+"":e,n),n);var jbe=kP((qbe,uh)=>{const OP=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}};OP();function Ny(t,e){const n=Object.create(null),s=t.split(",");for(let i=0;i<s.length;i++)n[s[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const LP="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",IP=Ny(LP);function DE(t){return!!t||t===""}function np(t){if(ze(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=wn(s)?FP(s):np(s);if(i)for(const r in i)e[r]=i[r]}return e}else{if(wn(t))return t;if(sn(t))return t}}const DP=/;(?![^(]*\))/g,NP=/:(.+)/;function FP(t){const e={};return t.split(DP).forEach(n=>{if(n){const s=n.split(NP);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Rs(t){let e="";if(wn(t))e=t;else if(ze(t))for(let n=0;n<t.length;n++){const s=Rs(t[n]);s&&(e+=s+" ")}else if(sn(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function $P(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=dd(t[s],e[s]);return n}function dd(t,e){if(t===e)return!0;let n=c0(t),s=c0(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=Pu(t),s=Pu(e),n||s)return t===e;if(n=ze(t),s=ze(e),n||s)return n&&s?$P(t,e):!1;if(n=sn(t),s=sn(e),n||s){if(!n||!s)return!1;const i=Object.keys(t).length,r=Object.keys(e).length;if(i!==r)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!dd(t[o],e[o]))return!1}}return String(t)===String(e)}function Fy(t,e){return t.findIndex(n=>dd(n,e))}const Fe=t=>wn(t)?t:t==null?"":ze(t)||sn(t)&&(t.toString===$E||!st(t.toString))?JSON.stringify(t,NE,2):String(t),NE=(t,e)=>e&&e.__v_isRef?NE(t,e.value):yl(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i])=>(n[`${s} =>`]=i,n),{})}:Jl(e)?{[`Set(${e.size})`]:[...e.values()]}:sn(e)&&!ze(e)&&!UE(e)?String(e):e,Nt={},_l=[],Qs=()=>{},UP=()=>!1,BP=/^on[^a-z]/,sp=t=>BP.test(t),$y=t=>t.startsWith("onUpdate:"),vn=Object.assign,Uy=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},zP=Object.prototype.hasOwnProperty,pt=(t,e)=>zP.call(t,e),ze=Array.isArray,yl=t=>fd(t)==="[object Map]",Jl=t=>fd(t)==="[object Set]",c0=t=>fd(t)==="[object Date]",st=t=>typeof t=="function",wn=t=>typeof t=="string",Pu=t=>typeof t=="symbol",sn=t=>t!==null&&typeof t=="object",FE=t=>sn(t)&&st(t.then)&&st(t.catch),$E=Object.prototype.toString,fd=t=>$E.call(t),GP=t=>fd(t).slice(8,-1),UE=t=>fd(t)==="[object Object]",By=t=>wn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ff=Ny(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ip=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},VP=/-(\w)/g,Ti=ip(t=>t.replace(VP,(e,n)=>n?n.toUpperCase():"")),HP=/\B([A-Z])/g,Ql=ip(t=>t.replace(HP,"-$1").toLowerCase()),rp=ip(t=>t.charAt(0).toUpperCase()+t.slice(1)),Em=ip(t=>t?`on${rp(t)}`:""),ku=(t,e)=>!Object.is(t,e),$f=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},dh=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Ou=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let u0;const WP=()=>u0||(u0=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let mi;class BE{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&mi&&(this.parent=mi,this.index=(mi.scopes||(mi.scopes=[])).push(this)-1)}run(e){if(this.active){const n=mi;try{return mi=this,e()}finally{mi=n}}}on(){mi=this}off(){mi=this.parent}stop(e){if(this.active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.active=!1}}}function zE(t){return new BE(t)}function jP(t,e=mi){e&&e.active&&e.effects.push(t)}const zy=t=>{const e=new Set(t);return e.w=0,e.n=0,e},GE=t=>(t.w&io)>0,VE=t=>(t.n&io)>0,YP=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=io},qP=t=>{const{deps:e}=t;if(e.length){let n=0;for(let s=0;s<e.length;s++){const i=e[s];GE(i)&&!VE(i)?i.delete(t):e[n++]=i,i.w&=~io,i.n&=~io}e.length=n}},l_=new WeakMap;let Kc=0,io=1;const c_=30;let Ws;const qo=Symbol(""),u_=Symbol("");class Gy{constructor(e,n=null,s){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,jP(this,s)}run(){if(!this.active)return this.fn();let e=Ws,n=Xr;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Ws,Ws=this,Xr=!0,io=1<<++Kc,Kc<=c_?YP(this):d0(this),this.fn()}finally{Kc<=c_&&qP(this),io=1<<--Kc,Ws=this.parent,Xr=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ws===this?this.deferStop=!0:this.active&&(d0(this),this.onStop&&this.onStop(),this.active=!1)}}function d0(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Xr=!0;const HE=[];function ec(){HE.push(Xr),Xr=!1}function tc(){const t=HE.pop();Xr=t===void 0?!0:t}function ds(t,e,n){if(Xr&&Ws){let s=l_.get(t);s||l_.set(t,s=new Map);let i=s.get(n);i||s.set(n,i=zy()),WE(i)}}function WE(t,e){let n=!1;Kc<=c_?VE(t)||(t.n|=io,n=!GE(t)):n=!t.has(Ws),n&&(t.add(Ws),Ws.deps.push(t))}function cr(t,e,n,s,i,r){const o=l_.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&ze(t))o.forEach((l,c)=>{(c==="length"||c>=s)&&a.push(l)});else switch(n!==void 0&&a.push(o.get(n)),e){case"add":ze(t)?By(n)&&a.push(o.get("length")):(a.push(o.get(qo)),yl(t)&&a.push(o.get(u_)));break;case"delete":ze(t)||(a.push(o.get(qo)),yl(t)&&a.push(o.get(u_)));break;case"set":yl(t)&&a.push(o.get(qo));break}if(a.length===1)a[0]&&d_(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);d_(zy(l))}}function d_(t,e){const n=ze(t)?t:[...t];for(const s of n)s.computed&&f0(s);for(const s of n)s.computed||f0(s)}function f0(t,e){(t!==Ws||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const KP=Ny("__proto__,__v_isRef,__isVue"),jE=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Pu)),XP=Vy(),ZP=Vy(!1,!0),JP=Vy(!0),h0=QP();function QP(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=nt(this);for(let r=0,o=this.length;r<o;r++)ds(s,"get",r+"");const i=s[e](...n);return i===-1||i===!1?s[e](...n.map(nt)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){ec();const s=nt(this)[e].apply(this,n);return tc(),s}}),t}function Vy(t=!1,e=!1){return function(s,i,r){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&r===(t?e?mk:ZE:e?XE:KE).get(s))return s;const o=ze(s);if(!t&&o&&pt(h0,i))return Reflect.get(h0,i,r);const a=Reflect.get(s,i,r);return(Pu(i)?jE.has(i):KP(i))||(t||ds(s,"get",i),e)?a:on(a)?o&&By(i)?a:a.value:sn(a)?t?JE(a):nc(a):a}}const ek=YE(),tk=YE(!0);function YE(t=!1){return function(n,s,i,r){let o=n[s];if(Lu(o)&&on(o)&&!on(i))return!1;if(!t&&!Lu(i)&&(f_(i)||(i=nt(i),o=nt(o)),!ze(n)&&on(o)&&!on(i)))return o.value=i,!0;const a=ze(n)&&By(s)?Number(s)<n.length:pt(n,s),l=Reflect.set(n,s,i,r);return n===nt(r)&&(a?ku(i,o)&&cr(n,"set",s,i):cr(n,"add",s,i)),l}}function nk(t,e){const n=pt(t,e);t[e];const s=Reflect.deleteProperty(t,e);return s&&n&&cr(t,"delete",e,void 0),s}function sk(t,e){const n=Reflect.has(t,e);return(!Pu(e)||!jE.has(e))&&ds(t,"has",e),n}function ik(t){return ds(t,"iterate",ze(t)?"length":qo),Reflect.ownKeys(t)}const qE={get:XP,set:ek,deleteProperty:nk,has:sk,ownKeys:ik},rk={get:JP,set(t,e){return!0},deleteProperty(t,e){return!0}},ok=vn({},qE,{get:ZP,set:tk}),Hy=t=>t,op=t=>Reflect.getPrototypeOf(t);function Fd(t,e,n=!1,s=!1){t=t.__v_raw;const i=nt(t),r=nt(e);n||(e!==r&&ds(i,"get",e),ds(i,"get",r));const{has:o}=op(i),a=s?Hy:n?Yy:Iu;if(o.call(i,e))return a(t.get(e));if(o.call(i,r))return a(t.get(r));t!==i&&t.get(e)}function $d(t,e=!1){const n=this.__v_raw,s=nt(n),i=nt(t);return e||(t!==i&&ds(s,"has",t),ds(s,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Ud(t,e=!1){return t=t.__v_raw,!e&&ds(nt(t),"iterate",qo),Reflect.get(t,"size",t)}function p0(t){t=nt(t);const e=nt(this);return op(e).has.call(e,t)||(e.add(t),cr(e,"add",t,t)),this}function m0(t,e){e=nt(e);const n=nt(this),{has:s,get:i}=op(n);let r=s.call(n,t);r||(t=nt(t),r=s.call(n,t));const o=i.call(n,t);return n.set(t,e),r?ku(e,o)&&cr(n,"set",t,e):cr(n,"add",t,e),this}function g0(t){const e=nt(this),{has:n,get:s}=op(e);let i=n.call(e,t);i||(t=nt(t),i=n.call(e,t)),s&&s.call(e,t);const r=e.delete(t);return i&&cr(e,"delete",t,void 0),r}function _0(){const t=nt(this),e=t.size!==0,n=t.clear();return e&&cr(t,"clear",void 0,void 0),n}function Bd(t,e){return function(s,i){const r=this,o=r.__v_raw,a=nt(o),l=e?Hy:t?Yy:Iu;return!t&&ds(a,"iterate",qo),o.forEach((c,u)=>s.call(i,l(c),l(u),r))}}function zd(t,e,n){return function(...s){const i=this.__v_raw,r=nt(i),o=yl(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=i[t](...s),u=n?Hy:e?Yy:Iu;return!e&&ds(r,"iterate",l?u_:qo),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function wr(t){return function(...e){return t==="delete"?!1:this}}function ak(){const t={get(r){return Fd(this,r)},get size(){return Ud(this)},has:$d,add:p0,set:m0,delete:g0,clear:_0,forEach:Bd(!1,!1)},e={get(r){return Fd(this,r,!1,!0)},get size(){return Ud(this)},has:$d,add:p0,set:m0,delete:g0,clear:_0,forEach:Bd(!1,!0)},n={get(r){return Fd(this,r,!0)},get size(){return Ud(this,!0)},has(r){return $d.call(this,r,!0)},add:wr("add"),set:wr("set"),delete:wr("delete"),clear:wr("clear"),forEach:Bd(!0,!1)},s={get(r){return Fd(this,r,!0,!0)},get size(){return Ud(this,!0)},has(r){return $d.call(this,r,!0)},add:wr("add"),set:wr("set"),delete:wr("delete"),clear:wr("clear"),forEach:Bd(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=zd(r,!1,!1),n[r]=zd(r,!0,!1),e[r]=zd(r,!1,!0),s[r]=zd(r,!0,!0)}),[t,n,e,s]}const[lk,ck,uk,dk]=ak();function Wy(t,e){const n=e?t?dk:uk:t?ck:lk;return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(pt(n,i)&&i in s?n:s,i,r)}const fk={get:Wy(!1,!1)},hk={get:Wy(!1,!0)},pk={get:Wy(!0,!1)},KE=new WeakMap,XE=new WeakMap,ZE=new WeakMap,mk=new WeakMap;function gk(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function _k(t){return t.__v_skip||!Object.isExtensible(t)?0:gk(GP(t))}function nc(t){return Lu(t)?t:jy(t,!1,qE,fk,KE)}function yk(t){return jy(t,!1,ok,hk,XE)}function JE(t){return jy(t,!0,rk,pk,ZE)}function jy(t,e,n,s,i){if(!sn(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=i.get(t);if(r)return r;const o=_k(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return i.set(t,a),a}function Zr(t){return Lu(t)?Zr(t.__v_raw):!!(t&&t.__v_isReactive)}function Lu(t){return!!(t&&t.__v_isReadonly)}function f_(t){return!!(t&&t.__v_isShallow)}function ou(t){return Zr(t)||Lu(t)}function nt(t){const e=t&&t.__v_raw;return e?nt(e):t}function Ol(t){return dh(t,"__v_skip",!0),t}const Iu=t=>sn(t)?nc(t):t,Yy=t=>sn(t)?JE(t):t;function QE(t){Xr&&Ws&&(t=nt(t),WE(t.dep||(t.dep=zy())))}function eT(t,e){t=nt(t),t.dep&&d_(t.dep)}function on(t){return!!(t&&t.__v_isRef===!0)}function ap(t){return nT(t,!1)}function tT(t){return nT(t,!0)}function nT(t,e){return on(t)?t:new bk(t,e)}class bk{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:nt(e),this._value=n?e:Iu(e)}get value(){return QE(this),this._value}set value(e){e=this.__v_isShallow?e:nt(e),ku(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:Iu(e),eT(this))}}function bl(t){return on(t)?t.value:t}const vk={get:(t,e,n)=>bl(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return on(i)&&!on(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function sT(t){return Zr(t)?t:new Proxy(t,vk)}function wk(t){const e=ze(t)?new Array(t.length):{};for(const n in t)e[n]=Sk(t,n);return e}class xk{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function Sk(t,e,n){const s=t[e];return on(s)?s:new xk(t,e,n)}class Ek{constructor(e,n,s,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new Gy(e,()=>{this._dirty||(this._dirty=!0,eT(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=s}get value(){const e=nt(this);return QE(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Tk(t,e,n=!1){let s,i;const r=st(t);return r?(s=t,i=Qs):(s=t.get,i=t.set),new Ek(s,i,r||!i,n)}function Jr(t,e,n,s){let i;try{i=s?t(...s):t()}catch(r){lp(r,e,n)}return i}function As(t,e,n,s){if(st(t)){const r=Jr(t,e,n,s);return r&&FE(r)&&r.catch(o=>{lp(o,e,n)}),r}const i=[];for(let r=0;r<t.length;r++)i.push(As(t[r],e,n,s));return i}function lp(t,e,n,s=!0){const i=e?e.vnode:null;if(e){let r=e.parent;const o=e.proxy,a=n;for(;r;){const c=r.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,a)===!1)return}r=r.parent}const l=e.appContext.config.errorHandler;if(l){Jr(l,null,10,[t,o,a]);return}}Mk(t,n,i,s)}function Mk(t,e,n,s=!0){console.error(t)}let fh=!1,h_=!1;const cs=[];let Qi=0;const au=[];let Xc=null,nl=0;const lu=[];let Dr=null,sl=0;const iT=Promise.resolve();let qy=null,p_=null;function Ky(t){const e=qy||iT;return t?e.then(this?t.bind(this):t):e}function Ak(t){let e=Qi+1,n=cs.length;for(;e<n;){const s=e+n>>>1;Du(cs[s])<t?e=s+1:n=s}return e}function rT(t){(!cs.length||!cs.includes(t,fh&&t.allowRecurse?Qi+1:Qi))&&t!==p_&&(t.id==null?cs.push(t):cs.splice(Ak(t.id),0,t),oT())}function oT(){!fh&&!h_&&(h_=!0,qy=iT.then(cT))}function Ck(t){const e=cs.indexOf(t);e>Qi&&cs.splice(e,1)}function aT(t,e,n,s){ze(t)?n.push(...t):(!e||!e.includes(t,t.allowRecurse?s+1:s))&&n.push(t),oT()}function Rk(t){aT(t,Xc,au,nl)}function Pk(t){aT(t,Dr,lu,sl)}function cp(t,e=null){if(au.length){for(p_=e,Xc=[...new Set(au)],au.length=0,nl=0;nl<Xc.length;nl++)Xc[nl]();Xc=null,nl=0,p_=null,cp(t,e)}}function lT(t){if(cp(),lu.length){const e=[...new Set(lu)];if(lu.length=0,Dr){Dr.push(...e);return}for(Dr=e,Dr.sort((n,s)=>Du(n)-Du(s)),sl=0;sl<Dr.length;sl++)Dr[sl]();Dr=null,sl=0}}const Du=t=>t.id==null?1/0:t.id;function cT(t){h_=!1,fh=!0,cp(t),cs.sort((n,s)=>Du(n)-Du(s));const e=Qs;try{for(Qi=0;Qi<cs.length;Qi++){const n=cs[Qi];n&&n.active!==!1&&Jr(n,null,14)}}finally{Qi=0,cs.length=0,lT(),fh=!1,qy=null,(cs.length||au.length||lu.length)&&cT(t)}}function kk(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Nt;let i=n;const r=e.startsWith("update:"),o=r&&e.slice(7);if(o&&o in s){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:f}=s[u]||Nt;f&&(i=n.map(h=>h.trim())),d&&(i=n.map(Ou))}let a,l=s[a=Em(e)]||s[a=Em(Ti(e))];!l&&r&&(l=s[a=Em(Ql(e))]),l&&As(l,t,6,i);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,As(c,t,6,i)}}function uT(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const r=t.emits;let o={},a=!1;if(!st(t)){const l=c=>{const u=uT(c,e,!0);u&&(a=!0,vn(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(s.set(t,null),null):(ze(r)?r.forEach(l=>o[l]=null):vn(o,r),s.set(t,o),o)}function up(t,e){return!t||!sp(e)?!1:(e=e.slice(2).replace(/Once$/,""),pt(t,e[0].toLowerCase()+e.slice(1))||pt(t,Ql(e))||pt(t,e))}let Rn=null,dp=null;function hh(t){const e=Rn;return Rn=t,dp=t&&t.type.__scopeId||null,e}function fp(t){dp=t}function hp(){dp=null}function Xe(t,e=Rn,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&C0(-1);const r=hh(e),o=t(...i);return hh(r),s._d&&C0(1),o};return s._n=!0,s._c=!0,s._d=!0,s}function Tm(t){const{type:e,vnode:n,proxy:s,withProxy:i,props:r,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:d,data:f,setupState:h,ctx:_,inheritAttrs:g}=t;let m,y;const b=hh(t);try{if(n.shapeFlag&4){const x=i||s;m=_i(u.call(x,x,d,r,h,f,_)),y=l}else{const x=e;m=_i(x.length>1?x(r,{attrs:l,slots:a,emit:c}):x(r,null)),y=e.props?l:Ok(l)}}catch(x){uu.length=0,lp(x,t,1),m=j(Cs)}let S=m;if(y&&g!==!1){const x=Object.keys(y),{shapeFlag:v}=S;x.length&&v&7&&(o&&x.some($y)&&(y=Lk(y,o)),S=ro(S,y))}return n.dirs&&(S=ro(S),S.dirs=S.dirs?S.dirs.concat(n.dirs):n.dirs),n.transition&&(S.transition=n.transition),m=S,hh(b),m}const Ok=t=>{let e;for(const n in t)(n==="class"||n==="style"||sp(n))&&((e||(e={}))[n]=t[n]);return e},Lk=(t,e)=>{const n={};for(const s in t)(!$y(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function Ik(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?y0(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==s[f]&&!up(c,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?y0(s,o,c):!0:!!o;return!1}function y0(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!up(n,r))return!0}return!1}function Dk({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const Nk=t=>t.__isSuspense;function Fk(t,e){e&&e.pendingBranch?ze(t)?e.effects.push(...t):e.effects.push(t):Pk(t)}function Uf(t,e){if(yn){let n=yn.provides;const s=yn.parent&&yn.parent.provides;s===n&&(n=yn.provides=Object.create(s)),n[t]=e}}function rr(t,e,n=!1){const s=yn||Rn;if(s){const i=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&st(e)?e.call(s.proxy):e}}const b0={};function Qr(t,e,n){return dT(t,e,n)}function dT(t,e,{immediate:n,deep:s,flush:i,onTrack:r,onTrigger:o}=Nt){const a=yn;let l,c=!1,u=!1;if(on(t)?(l=()=>t.value,c=f_(t)):Zr(t)?(l=()=>t,s=!0):ze(t)?(u=!0,c=t.some(y=>Zr(y)||f_(y)),l=()=>t.map(y=>{if(on(y))return y.value;if(Zr(y))return Fo(y);if(st(y))return Jr(y,a,2)})):st(t)?e?l=()=>Jr(t,a,2):l=()=>{if(!(a&&a.isUnmounted))return d&&d(),As(t,a,3,[f])}:l=Qs,e&&s){const y=l;l=()=>Fo(y())}let d,f=y=>{d=m.onStop=()=>{Jr(y,a,4)}};if(Uu)return f=Qs,e?n&&As(e,a,3,[l(),u?[]:void 0,f]):l(),Qs;let h=u?[]:b0;const _=()=>{if(!!m.active)if(e){const y=m.run();(s||c||(u?y.some((b,S)=>ku(b,h[S])):ku(y,h)))&&(d&&d(),As(e,a,3,[y,h===b0?void 0:h,f]),h=y)}else m.run()};_.allowRecurse=!!e;let g;i==="sync"?g=_:i==="post"?g=()=>Xn(_,a&&a.suspense):g=()=>Rk(_);const m=new Gy(l,g);return e?n?_():h=m.run():i==="post"?Xn(m.run.bind(m),a&&a.suspense):m.run(),()=>{m.stop(),a&&a.scope&&Uy(a.scope.effects,m)}}function $k(t,e,n){const s=this.proxy,i=wn(t)?t.includes(".")?fT(s,t):()=>s[t]:t.bind(s,s);let r;st(e)?r=e:(r=e.handler,n=e);const o=yn;Ll(this);const a=dT(i,r.bind(s),n);return o?Ll(o):Ko(),a}function fT(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}function Fo(t,e){if(!sn(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),on(t))Fo(t.value,e);else if(ze(t))for(let n=0;n<t.length;n++)Fo(t[n],e);else if(Jl(t)||yl(t))t.forEach(n=>{Fo(n,e)});else if(UE(t))for(const n in t)Fo(t[n],e);return t}function hT(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Zy(()=>{t.isMounted=!0}),Jy(()=>{t.isUnmounting=!0}),t}const ms=[Function,Array],Uk={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ms,onEnter:ms,onAfterEnter:ms,onEnterCancelled:ms,onBeforeLeave:ms,onLeave:ms,onAfterLeave:ms,onLeaveCancelled:ms,onBeforeAppear:ms,onAppear:ms,onAfterAppear:ms,onAppearCancelled:ms},setup(t,{slots:e}){const n=_p(),s=hT();let i;return()=>{const r=e.default&&Xy(e.default(),!0);if(!r||!r.length)return;let o=r[0];if(r.length>1){for(const g of r)if(g.type!==Cs){o=g;break}}const a=nt(t),{mode:l}=a;if(s.isLeaving)return Mm(o);const c=v0(o);if(!c)return Mm(o);const u=Nu(c,a,s,n);Fu(c,u);const d=n.subTree,f=d&&v0(d);let h=!1;const{getTransitionKey:_}=c.type;if(_){const g=_();i===void 0?i=g:g!==i&&(i=g,h=!0)}if(f&&f.type!==Cs&&(!Oo(c,f)||h)){const g=Nu(f,a,s,n);if(Fu(f,g),l==="out-in")return s.isLeaving=!0,g.afterLeave=()=>{s.isLeaving=!1,n.update()},Mm(o);l==="in-out"&&c.type!==Cs&&(g.delayLeave=(m,y,b)=>{const S=mT(s,f);S[String(f.key)]=f,m._leaveCb=()=>{y(),m._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=b})}return o}}},pT=Uk;function mT(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function Nu(t,e,n,s){const{appear:i,mode:r,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:d,onLeave:f,onAfterLeave:h,onLeaveCancelled:_,onBeforeAppear:g,onAppear:m,onAfterAppear:y,onAppearCancelled:b}=e,S=String(t.key),x=mT(n,t),v=(w,C)=>{w&&As(w,s,9,C)},E=(w,C)=>{const N=C[1];v(w,C),ze(w)?w.every(O=>O.length<=1)&&N():w.length<=1&&N()},A={mode:r,persisted:o,beforeEnter(w){let C=a;if(!n.isMounted)if(i)C=g||a;else return;w._leaveCb&&w._leaveCb(!0);const N=x[S];N&&Oo(t,N)&&N.el._leaveCb&&N.el._leaveCb(),v(C,[w])},enter(w){let C=l,N=c,O=u;if(!n.isMounted)if(i)C=m||l,N=y||c,O=b||u;else return;let z=!1;const ee=w._enterCb=B=>{z||(z=!0,B?v(O,[w]):v(N,[w]),A.delayedLeave&&A.delayedLeave(),w._enterCb=void 0)};C?E(C,[w,ee]):ee()},leave(w,C){const N=String(t.key);if(w._enterCb&&w._enterCb(!0),n.isUnmounting)return C();v(d,[w]);let O=!1;const z=w._leaveCb=ee=>{O||(O=!0,C(),ee?v(_,[w]):v(h,[w]),w._leaveCb=void 0,x[N]===t&&delete x[N])};x[N]=t,f?E(f,[w,z]):z()},clone(w){return Nu(w,e,n,s)}};return A}function Mm(t){if(pp(t))return t=ro(t),t.children=null,t}function v0(t){return pp(t)?t.children?t.children[0]:void 0:t}function Fu(t,e){t.shapeFlag&6&&t.component?Fu(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Xy(t,e=!1,n){let s=[],i=0;for(let r=0;r<t.length;r++){let o=t[r];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===Ze?(o.patchFlag&128&&i++,s=s.concat(Xy(o.children,e,a))):(e||o.type!==Cs)&&s.push(a!=null?ro(o,{key:a}):o)}if(i>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}function Ve(t){return st(t)?{setup:t,name:t.name}:t}const cu=t=>!!t.type.__asyncLoader,pp=t=>t.type.__isKeepAlive;function Bk(t,e){gT(t,"a",e)}function zk(t,e){gT(t,"da",e)}function gT(t,e,n=yn){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(mp(e,s,n),n){let i=n.parent;for(;i&&i.parent;)pp(i.parent.vnode)&&Gk(s,e,n,i),i=i.parent}}function Gk(t,e,n,s){const i=mp(e,t,s,!0);Qy(()=>{Uy(s[e],i)},n)}function mp(t,e,n=yn,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;ec(),Ll(n);const a=As(e,n,t,o);return Ko(),tc(),a});return s?i.unshift(r):i.push(r),r}}const gr=t=>(e,n=yn)=>(!Uu||t==="sp")&&mp(t,e,n),Vk=gr("bm"),Zy=gr("m"),Hk=gr("bu"),_T=gr("u"),Jy=gr("bum"),Qy=gr("um"),Wk=gr("sp"),jk=gr("rtg"),Yk=gr("rtc");function qk(t,e=yn){mp("ec",t,e)}function Ue(t,e){const n=Rn;if(n===null)return t;const s=yp(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[o,a,l,c=Nt]=e[r];st(o)&&(o={mounted:o,updated:o}),o.deep&&Fo(a),i.push({dir:o,instance:s,value:a,oldValue:void 0,arg:l,modifiers:c})}return t}function mo(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[s];l&&(ec(),As(l,n,8,[t.el,a,t,e]),tc())}}const yT="components",Kk="directives";function xe(t,e){return bT(yT,t,!0,e)||t}const Xk=Symbol();function Zk(t){return bT(Kk,t)}function bT(t,e,n=!0,s=!1){const i=Rn||yn;if(i){const r=i.type;if(t===yT){const a=MO(r,!1);if(a&&(a===e||a===Ti(e)||a===rp(Ti(e))))return r}const o=w0(i[t]||r[t],e)||w0(i.appContext[t],e);return!o&&s?r:o}}function w0(t,e){return t&&(t[e]||t[Ti(e)]||t[rp(Ti(e))])}function Ht(t,e,n,s){let i;const r=n&&n[s];if(ze(t)||wn(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,r&&r[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,r&&r[o])}else if(sn(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,r&&r[a]));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];i[a]=e(t[c],c,a,r&&r[a])}}else i=[];return n&&(n[s]=i),i}function Jk(t,e,n={},s,i){if(Rn.isCE||Rn.parent&&cu(Rn.parent)&&Rn.parent.isCE)return j("slot",e==="default"?null:{name:e},s&&s());let r=t[e];r&&r._c&&(r._d=!1),Y();const o=r&&vT(r(n)),a=bn(Ze,{key:n.key||`_${e}`},o||(s?s():[]),o&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function vT(t){return t.some(e=>gh(e)?!(e.type===Cs||e.type===Ze&&!vT(e.children)):!0)?t:null}const m_=t=>t?OT(t)?yp(t)||t.proxy:m_(t.parent):null,ph=vn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>m_(t.parent),$root:t=>m_(t.root),$emit:t=>t.emit,$options:t=>xT(t),$forceUpdate:t=>t.f||(t.f=()=>rT(t.update)),$nextTick:t=>t.n||(t.n=Ky.bind(t.proxy)),$watch:t=>$k.bind(t)}),Qk={get({_:t},e){const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(s!==Nt&&pt(s,e))return o[e]=1,s[e];if(i!==Nt&&pt(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&pt(c,e))return o[e]=3,r[e];if(n!==Nt&&pt(n,e))return o[e]=4,n[e];g_&&(o[e]=0)}}const u=ph[e];let d,f;if(u)return e==="$attrs"&&ds(t,"get",e),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Nt&&pt(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,pt(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:r}=t;return i!==Nt&&pt(i,e)?(i[e]=n,!0):s!==Nt&&pt(s,e)?(s[e]=n,!0):pt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let a;return!!n[o]||t!==Nt&&pt(t,o)||e!==Nt&&pt(e,o)||(a=r[0])&&pt(a,o)||pt(s,o)||pt(ph,o)||pt(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:pt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let g_=!0;function eO(t){const e=xT(t),n=t.proxy,s=t.ctx;g_=!1,e.beforeCreate&&x0(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:_,activated:g,deactivated:m,beforeDestroy:y,beforeUnmount:b,destroyed:S,unmounted:x,render:v,renderTracked:E,renderTriggered:A,errorCaptured:w,serverPrefetch:C,expose:N,inheritAttrs:O,components:z,directives:ee,filters:B}=e;if(c&&tO(c,s,null,t.appContext.config.unwrapInjectedRef),o)for(const te in o){const J=o[te];st(J)&&(s[te]=J.bind(n))}if(i){const te=i.call(n,n);sn(te)&&(t.data=nc(te))}if(g_=!0,r)for(const te in r){const J=r[te],X=st(J)?J.bind(n,n):st(J.get)?J.get.bind(n,n):Qs,oe=!st(J)&&st(J.set)?J.set.bind(n):Qs,me=Ft({get:X,set:oe});Object.defineProperty(s,te,{enumerable:!0,configurable:!0,get:()=>me.value,set:k=>me.value=k})}if(a)for(const te in a)wT(a[te],s,n,te);if(l){const te=st(l)?l.call(n):l;Reflect.ownKeys(te).forEach(J=>{Uf(J,te[J])})}u&&x0(u,t,"c");function H(te,J){ze(J)?J.forEach(X=>te(X.bind(n))):J&&te(J.bind(n))}if(H(Vk,d),H(Zy,f),H(Hk,h),H(_T,_),H(Bk,g),H(zk,m),H(qk,w),H(Yk,E),H(jk,A),H(Jy,b),H(Qy,x),H(Wk,C),ze(N))if(N.length){const te=t.exposed||(t.exposed={});N.forEach(J=>{Object.defineProperty(te,J,{get:()=>n[J],set:X=>n[J]=X})})}else t.exposed||(t.exposed={});v&&t.render===Qs&&(t.render=v),O!=null&&(t.inheritAttrs=O),z&&(t.components=z),ee&&(t.directives=ee)}function tO(t,e,n=Qs,s=!1){ze(t)&&(t=__(t));for(const i in t){const r=t[i];let o;sn(r)?"default"in r?o=rr(r.from||i,r.default,!0):o=rr(r.from||i):o=rr(r),on(o)&&s?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[i]=o}}function x0(t,e,n){As(ze(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function wT(t,e,n,s){const i=s.includes(".")?fT(n,s):()=>n[s];if(wn(t)){const r=e[t];st(r)&&Qr(i,r)}else if(st(t))Qr(i,t.bind(n));else if(sn(t))if(ze(t))t.forEach(r=>wT(r,e,n,s));else{const r=st(t.handler)?t.handler.bind(n):e[t.handler];st(r)&&Qr(i,r,t)}}function xT(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!i.length&&!n&&!s?l=e:(l={},i.length&&i.forEach(c=>mh(l,c,o,!0)),mh(l,e,o)),r.set(e,l),l}function mh(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&mh(t,r,n,!0),i&&i.forEach(o=>mh(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=nO[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const nO={data:S0,props:To,emits:To,methods:To,computed:To,beforeCreate:Un,created:Un,beforeMount:Un,mounted:Un,beforeUpdate:Un,updated:Un,beforeDestroy:Un,beforeUnmount:Un,destroyed:Un,unmounted:Un,activated:Un,deactivated:Un,errorCaptured:Un,serverPrefetch:Un,components:To,directives:To,watch:iO,provide:S0,inject:sO};function S0(t,e){return e?t?function(){return vn(st(t)?t.call(this,this):t,st(e)?e.call(this,this):e)}:e:t}function sO(t,e){return To(__(t),__(e))}function __(t){if(ze(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Un(t,e){return t?[...new Set([].concat(t,e))]:e}function To(t,e){return t?vn(vn(Object.create(null),t),e):e}function iO(t,e){if(!t)return e;if(!e)return t;const n=vn(Object.create(null),t);for(const s in e)n[s]=Un(t[s],e[s]);return n}function rO(t,e,n,s=!1){const i={},r={};dh(r,gp,1),t.propsDefaults=Object.create(null),ST(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=s?i:yk(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function oO(t,e,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,a=nt(i),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(up(t.emitsOptions,f))continue;const h=e[f];if(l)if(pt(r,f))h!==r[f]&&(r[f]=h,c=!0);else{const _=Ti(f);i[_]=y_(l,a,_,h,t,!1)}else h!==r[f]&&(r[f]=h,c=!0)}}}else{ST(t,e,i,r)&&(c=!0);let u;for(const d in a)(!e||!pt(e,d)&&((u=Ql(d))===d||!pt(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(i[d]=y_(l,a,d,void 0,t,!0)):delete i[d]);if(r!==a)for(const d in r)(!e||!pt(e,d)&&!0)&&(delete r[d],c=!0)}c&&cr(t,"set","$attrs")}function ST(t,e,n,s){const[i,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Ff(l))continue;const c=e[l];let u;i&&pt(i,u=Ti(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:up(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(r){const l=nt(n),c=a||Nt;for(let u=0;u<r.length;u++){const d=r[u];n[d]=y_(i,l,d,c[d],t,!pt(c,d))}}return o}function y_(t,e,n,s,i,r){const o=t[n];if(o!=null){const a=pt(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&st(l)){const{propsDefaults:c}=i;n in c?s=c[n]:(Ll(i),s=c[n]=l.call(null,e),Ko())}else s=l}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===Ql(n))&&(s=!0))}return s}function ET(t,e,n=!1){const s=e.propsCache,i=s.get(t);if(i)return i;const r=t.props,o={},a=[];let l=!1;if(!st(t)){const u=d=>{l=!0;const[f,h]=ET(d,e,!0);vn(o,f),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!l)return s.set(t,_l),_l;if(ze(r))for(let u=0;u<r.length;u++){const d=Ti(r[u]);E0(d)&&(o[d]=Nt)}else if(r)for(const u in r){const d=Ti(u);if(E0(d)){const f=r[u],h=o[d]=ze(f)||st(f)?{type:f}:f;if(h){const _=A0(Boolean,h.type),g=A0(String,h.type);h[0]=_>-1,h[1]=g<0||_<g,(_>-1||pt(h,"default"))&&a.push(d)}}}const c=[o,a];return s.set(t,c),c}function E0(t){return t[0]!=="$"}function T0(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function M0(t,e){return T0(t)===T0(e)}function A0(t,e){return ze(e)?e.findIndex(n=>M0(n,t)):st(e)&&M0(e,t)?0:-1}const TT=t=>t[0]==="_"||t==="$stable",eb=t=>ze(t)?t.map(_i):[_i(t)],aO=(t,e,n)=>{if(e._n)return e;const s=Xe((...i)=>eb(e(...i)),n);return s._c=!1,s},MT=(t,e,n)=>{const s=t._ctx;for(const i in t){if(TT(i))continue;const r=t[i];if(st(r))e[i]=aO(i,r,s);else if(r!=null){const o=eb(r);e[i]=()=>o}}},AT=(t,e)=>{const n=eb(e);t.slots.default=()=>n},lO=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=nt(e),dh(e,"_",n)):MT(e,t.slots={})}else t.slots={},e&&AT(t,e);dh(t.slots,gp,1)},cO=(t,e,n)=>{const{vnode:s,slots:i}=t;let r=!0,o=Nt;if(s.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:(vn(i,e),!n&&a===1&&delete i._):(r=!e.$stable,MT(e,i)),o=e}else e&&(AT(t,e),o={default:1});if(r)for(const a in i)!TT(a)&&!(a in o)&&delete i[a]};function CT(){return{app:null,config:{isNativeTag:UP,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uO=0;function dO(t,e){return function(s,i=null){st(s)||(s=Object.assign({},s)),i!=null&&!sn(i)&&(i=null);const r=CT(),o=new Set;let a=!1;const l=r.app={_uid:uO++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:CO,get config(){return r.config},set config(c){},use(c,...u){return o.has(c)||(c&&st(c.install)?(o.add(c),c.install(l,...u)):st(c)&&(o.add(c),c(l,...u))),l},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),l},component(c,u){return u?(r.components[c]=u,l):r.components[c]},directive(c,u){return u?(r.directives[c]=u,l):r.directives[c]},mount(c,u,d){if(!a){const f=j(s,i);return f.appContext=r,u&&e?e(f,c):t(f,c,d),a=!0,l._container=c,c.__vue_app__=l,yp(f.component)||f.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return r.provides[c]=u,l}};return l}}function b_(t,e,n,s,i=!1){if(ze(t)){t.forEach((f,h)=>b_(f,e&&(ze(e)?e[h]:e),n,s,i));return}if(cu(s)&&!i)return;const r=s.shapeFlag&4?yp(s.component)||s.component.proxy:s.el,o=i?null:r,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Nt?a.refs={}:a.refs,d=a.setupState;if(c!=null&&c!==l&&(wn(c)?(u[c]=null,pt(d,c)&&(d[c]=null)):on(c)&&(c.value=null)),st(l))Jr(l,a,12,[o,u]);else{const f=wn(l),h=on(l);if(f||h){const _=()=>{if(t.f){const g=f?u[l]:l.value;i?ze(g)&&Uy(g,r):ze(g)?g.includes(r)||g.push(r):f?(u[l]=[r],pt(d,l)&&(d[l]=u[l])):(l.value=[r],t.k&&(u[t.k]=l.value))}else f?(u[l]=o,pt(d,l)&&(d[l]=o)):h&&(l.value=o,t.k&&(u[t.k]=o))};o?(_.id=-1,Xn(_,n)):_()}}}const Xn=Fk;function fO(t){return hO(t)}function hO(t,e){const n=WP();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=Qs,cloneNode:_,insertStaticContent:g}=t,m=(R,D,K,fe=null,he=null,_e=null,$=!1,be=null,we=!!D.dynamicChildren)=>{if(R===D)return;R&&!Oo(R,D)&&(fe=re(R),L(R,he,_e,!0),R=null),D.patchFlag===-2&&(we=!1,D.dynamicChildren=null);const{type:M,ref:T,shapeFlag:W}=D;switch(M){case tb:y(R,D,K,fe);break;case Cs:b(R,D,K,fe);break;case Bf:R==null&&S(D,K,fe,$);break;case Ze:ee(R,D,K,fe,he,_e,$,be,we);break;default:W&1?E(R,D,K,fe,he,_e,$,be,we):W&6?B(R,D,K,fe,he,_e,$,be,we):(W&64||W&128)&&M.process(R,D,K,fe,he,_e,$,be,we,ue)}T!=null&&he&&b_(T,R&&R.ref,_e,D||R,!D)},y=(R,D,K,fe)=>{if(R==null)s(D.el=a(D.children),K,fe);else{const he=D.el=R.el;D.children!==R.children&&c(he,D.children)}},b=(R,D,K,fe)=>{R==null?s(D.el=l(D.children||""),K,fe):D.el=R.el},S=(R,D,K,fe)=>{[R.el,R.anchor]=g(R.children,D,K,fe,R.el,R.anchor)},x=({el:R,anchor:D},K,fe)=>{let he;for(;R&&R!==D;)he=f(R),s(R,K,fe),R=he;s(D,K,fe)},v=({el:R,anchor:D})=>{let K;for(;R&&R!==D;)K=f(R),i(R),R=K;i(D)},E=(R,D,K,fe,he,_e,$,be,we)=>{$=$||D.type==="svg",R==null?A(D,K,fe,he,_e,$,be,we):N(R,D,he,_e,$,be,we)},A=(R,D,K,fe,he,_e,$,be)=>{let we,M;const{type:T,props:W,shapeFlag:ne,transition:ce,patchFlag:ye,dirs:Ie}=R;if(R.el&&_!==void 0&&ye===-1)we=R.el=_(R.el);else{if(we=R.el=o(R.type,_e,W&&W.is,W),ne&8?u(we,R.children):ne&16&&C(R.children,we,null,fe,he,_e&&T!=="foreignObject",$,be),Ie&&mo(R,null,fe,"created"),W){for(const Re in W)Re!=="value"&&!Ff(Re)&&r(we,Re,null,W[Re],_e,R.children,fe,he,le);"value"in W&&r(we,"value",null,W.value),(M=W.onVnodeBeforeMount)&&pi(M,fe,R)}w(we,R,R.scopeId,$,fe)}Ie&&mo(R,null,fe,"beforeMount");const Z=(!he||he&&!he.pendingBranch)&&ce&&!ce.persisted;Z&&ce.beforeEnter(we),s(we,D,K),((M=W&&W.onVnodeMounted)||Z||Ie)&&Xn(()=>{M&&pi(M,fe,R),Z&&ce.enter(we),Ie&&mo(R,null,fe,"mounted")},he)},w=(R,D,K,fe,he)=>{if(K&&h(R,K),fe)for(let _e=0;_e<fe.length;_e++)h(R,fe[_e]);if(he){let _e=he.subTree;if(D===_e){const $=he.vnode;w(R,$,$.scopeId,$.slotScopeIds,he.parent)}}},C=(R,D,K,fe,he,_e,$,be,we=0)=>{for(let M=we;M<R.length;M++){const T=R[M]=be?$r(R[M]):_i(R[M]);m(null,T,D,K,fe,he,_e,$,be)}},N=(R,D,K,fe,he,_e,$)=>{const be=D.el=R.el;let{patchFlag:we,dynamicChildren:M,dirs:T}=D;we|=R.patchFlag&16;const W=R.props||Nt,ne=D.props||Nt;let ce;K&&go(K,!1),(ce=ne.onVnodeBeforeUpdate)&&pi(ce,K,D,R),T&&mo(D,R,K,"beforeUpdate"),K&&go(K,!0);const ye=he&&D.type!=="foreignObject";if(M?O(R.dynamicChildren,M,be,K,fe,ye,_e):$||X(R,D,be,null,K,fe,ye,_e,!1),we>0){if(we&16)z(be,D,W,ne,K,fe,he);else if(we&2&&W.class!==ne.class&&r(be,"class",null,ne.class,he),we&4&&r(be,"style",W.style,ne.style,he),we&8){const Ie=D.dynamicProps;for(let Z=0;Z<Ie.length;Z++){const Re=Ie[Z],Oe=W[Re],Le=ne[Re];(Le!==Oe||Re==="value")&&r(be,Re,Oe,Le,he,R.children,K,fe,le)}}we&1&&R.children!==D.children&&u(be,D.children)}else!$&&M==null&&z(be,D,W,ne,K,fe,he);((ce=ne.onVnodeUpdated)||T)&&Xn(()=>{ce&&pi(ce,K,D,R),T&&mo(D,R,K,"updated")},fe)},O=(R,D,K,fe,he,_e,$)=>{for(let be=0;be<D.length;be++){const we=R[be],M=D[be],T=we.el&&(we.type===Ze||!Oo(we,M)||we.shapeFlag&70)?d(we.el):K;m(we,M,T,null,fe,he,_e,$,!0)}},z=(R,D,K,fe,he,_e,$)=>{if(K!==fe){for(const be in fe){if(Ff(be))continue;const we=fe[be],M=K[be];we!==M&&be!=="value"&&r(R,be,M,we,$,D.children,he,_e,le)}if(K!==Nt)for(const be in K)!Ff(be)&&!(be in fe)&&r(R,be,K[be],null,$,D.children,he,_e,le);"value"in fe&&r(R,"value",K.value,fe.value)}},ee=(R,D,K,fe,he,_e,$,be,we)=>{const M=D.el=R?R.el:a(""),T=D.anchor=R?R.anchor:a("");let{patchFlag:W,dynamicChildren:ne,slotScopeIds:ce}=D;ce&&(be=be?be.concat(ce):ce),R==null?(s(M,K,fe),s(T,K,fe),C(D.children,K,T,he,_e,$,be,we)):W>0&&W&64&&ne&&R.dynamicChildren?(O(R.dynamicChildren,ne,K,he,_e,$,be),(D.key!=null||he&&D===he.subTree)&&RT(R,D,!0)):X(R,D,K,T,he,_e,$,be,we)},B=(R,D,K,fe,he,_e,$,be,we)=>{D.slotScopeIds=be,R==null?D.shapeFlag&512?he.ctx.activate(D,K,fe,$,we):V(D,K,fe,he,_e,$,we):H(R,D,we)},V=(R,D,K,fe,he,_e,$)=>{const be=R.component=wO(R,fe,he);if(pp(R)&&(be.ctx.renderer=ue),xO(be),be.asyncDep){if(he&&he.registerDep(be,te),!R.el){const we=be.subTree=j(Cs);b(null,we,D,K)}return}te(be,R,D,K,he,_e,$)},H=(R,D,K)=>{const fe=D.component=R.component;if(Ik(R,D,K))if(fe.asyncDep&&!fe.asyncResolved){J(fe,D,K);return}else fe.next=D,Ck(fe.update),fe.update();else D.el=R.el,fe.vnode=D},te=(R,D,K,fe,he,_e,$)=>{const be=()=>{if(R.isMounted){let{next:T,bu:W,u:ne,parent:ce,vnode:ye}=R,Ie=T,Z;go(R,!1),T?(T.el=ye.el,J(R,T,$)):T=ye,W&&$f(W),(Z=T.props&&T.props.onVnodeBeforeUpdate)&&pi(Z,ce,T,ye),go(R,!0);const Re=Tm(R),Oe=R.subTree;R.subTree=Re,m(Oe,Re,d(Oe.el),re(Oe),R,he,_e),T.el=Re.el,Ie===null&&Dk(R,Re.el),ne&&Xn(ne,he),(Z=T.props&&T.props.onVnodeUpdated)&&Xn(()=>pi(Z,ce,T,ye),he)}else{let T;const{el:W,props:ne}=D,{bm:ce,m:ye,parent:Ie}=R,Z=cu(D);if(go(R,!1),ce&&$f(ce),!Z&&(T=ne&&ne.onVnodeBeforeMount)&&pi(T,Ie,D),go(R,!0),W&&Se){const Re=()=>{R.subTree=Tm(R),Se(W,R.subTree,R,he,null)};Z?D.type.__asyncLoader().then(()=>!R.isUnmounted&&Re()):Re()}else{const Re=R.subTree=Tm(R);m(null,Re,K,fe,R,he,_e),D.el=Re.el}if(ye&&Xn(ye,he),!Z&&(T=ne&&ne.onVnodeMounted)){const Re=D;Xn(()=>pi(T,Ie,Re),he)}(D.shapeFlag&256||Ie&&cu(Ie.vnode)&&Ie.vnode.shapeFlag&256)&&R.a&&Xn(R.a,he),R.isMounted=!0,D=K=fe=null}},we=R.effect=new Gy(be,()=>rT(M),R.scope),M=R.update=()=>we.run();M.id=R.uid,go(R,!0),M()},J=(R,D,K)=>{D.component=R;const fe=R.vnode.props;R.vnode=D,R.next=null,oO(R,D.props,fe,K),cO(R,D.children,K),ec(),cp(void 0,R.update),tc()},X=(R,D,K,fe,he,_e,$,be,we=!1)=>{const M=R&&R.children,T=R?R.shapeFlag:0,W=D.children,{patchFlag:ne,shapeFlag:ce}=D;if(ne>0){if(ne&128){me(M,W,K,fe,he,_e,$,be,we);return}else if(ne&256){oe(M,W,K,fe,he,_e,$,be,we);return}}ce&8?(T&16&&le(M,he,_e),W!==M&&u(K,W)):T&16?ce&16?me(M,W,K,fe,he,_e,$,be,we):le(M,he,_e,!0):(T&8&&u(K,""),ce&16&&C(W,K,fe,he,_e,$,be,we))},oe=(R,D,K,fe,he,_e,$,be,we)=>{R=R||_l,D=D||_l;const M=R.length,T=D.length,W=Math.min(M,T);let ne;for(ne=0;ne<W;ne++){const ce=D[ne]=we?$r(D[ne]):_i(D[ne]);m(R[ne],ce,K,null,he,_e,$,be,we)}M>T?le(R,he,_e,!0,!1,W):C(D,K,fe,he,_e,$,be,we,W)},me=(R,D,K,fe,he,_e,$,be,we)=>{let M=0;const T=D.length;let W=R.length-1,ne=T-1;for(;M<=W&&M<=ne;){const ce=R[M],ye=D[M]=we?$r(D[M]):_i(D[M]);if(Oo(ce,ye))m(ce,ye,K,null,he,_e,$,be,we);else break;M++}for(;M<=W&&M<=ne;){const ce=R[W],ye=D[ne]=we?$r(D[ne]):_i(D[ne]);if(Oo(ce,ye))m(ce,ye,K,null,he,_e,$,be,we);else break;W--,ne--}if(M>W){if(M<=ne){const ce=ne+1,ye=ce<T?D[ce].el:fe;for(;M<=ne;)m(null,D[M]=we?$r(D[M]):_i(D[M]),K,ye,he,_e,$,be,we),M++}}else if(M>ne)for(;M<=W;)L(R[M],he,_e,!0),M++;else{const ce=M,ye=M,Ie=new Map;for(M=ye;M<=ne;M++){const $e=D[M]=we?$r(D[M]):_i(D[M]);$e.key!=null&&Ie.set($e.key,M)}let Z,Re=0;const Oe=ne-ye+1;let Le=!1,U=0;const Ae=new Array(Oe);for(M=0;M<Oe;M++)Ae[M]=0;for(M=ce;M<=W;M++){const $e=R[M];if(Re>=Oe){L($e,he,_e,!0);continue}let ke;if($e.key!=null)ke=Ie.get($e.key);else for(Z=ye;Z<=ne;Z++)if(Ae[Z-ye]===0&&Oo($e,D[Z])){ke=Z;break}ke===void 0?L($e,he,_e,!0):(Ae[ke-ye]=M+1,ke>=U?U=ke:Le=!0,m($e,D[ke],K,null,he,_e,$,be,we),Re++)}const Ce=Le?pO(Ae):_l;for(Z=Ce.length-1,M=Oe-1;M>=0;M--){const $e=ye+M,ke=D[$e],He=$e+1<T?D[$e+1].el:fe;Ae[M]===0?m(null,ke,K,He,he,_e,$,be,we):Le&&(Z<0||M!==Ce[Z]?k(ke,K,He,2):Z--)}}},k=(R,D,K,fe,he=null)=>{const{el:_e,type:$,transition:be,children:we,shapeFlag:M}=R;if(M&6){k(R.component.subTree,D,K,fe);return}if(M&128){R.suspense.move(D,K,fe);return}if(M&64){$.move(R,D,K,ue);return}if($===Ze){s(_e,D,K);for(let W=0;W<we.length;W++)k(we[W],D,K,fe);s(R.anchor,D,K);return}if($===Bf){x(R,D,K);return}if(fe!==2&&M&1&&be)if(fe===0)be.beforeEnter(_e),s(_e,D,K),Xn(()=>be.enter(_e),he);else{const{leave:W,delayLeave:ne,afterLeave:ce}=be,ye=()=>s(_e,D,K),Ie=()=>{W(_e,()=>{ye(),ce&&ce()})};ne?ne(_e,ye,Ie):Ie()}else s(_e,D,K)},L=(R,D,K,fe=!1,he=!1)=>{const{type:_e,props:$,ref:be,children:we,dynamicChildren:M,shapeFlag:T,patchFlag:W,dirs:ne}=R;if(be!=null&&b_(be,null,K,R,!0),T&256){D.ctx.deactivate(R);return}const ce=T&1&&ne,ye=!cu(R);let Ie;if(ye&&(Ie=$&&$.onVnodeBeforeUnmount)&&pi(Ie,D,R),T&6)I(R.component,K,fe);else{if(T&128){R.suspense.unmount(K,fe);return}ce&&mo(R,null,D,"beforeUnmount"),T&64?R.type.remove(R,D,K,he,ue,fe):M&&(_e!==Ze||W>0&&W&64)?le(M,D,K,!1,!0):(_e===Ze&&W&384||!he&&T&16)&&le(we,D,K),fe&&q(R)}(ye&&(Ie=$&&$.onVnodeUnmounted)||ce)&&Xn(()=>{Ie&&pi(Ie,D,R),ce&&mo(R,null,D,"unmounted")},K)},q=R=>{const{type:D,el:K,anchor:fe,transition:he}=R;if(D===Ze){F(K,fe);return}if(D===Bf){v(R);return}const _e=()=>{i(K),he&&!he.persisted&&he.afterLeave&&he.afterLeave()};if(R.shapeFlag&1&&he&&!he.persisted){const{leave:$,delayLeave:be}=he,we=()=>$(K,_e);be?be(R.el,_e,we):we()}else _e()},F=(R,D)=>{let K;for(;R!==D;)K=f(R),i(R),R=K;i(D)},I=(R,D,K)=>{const{bum:fe,scope:he,update:_e,subTree:$,um:be}=R;fe&&$f(fe),he.stop(),_e&&(_e.active=!1,L($,R,D,K)),be&&Xn(be,D),Xn(()=>{R.isUnmounted=!0},D),D&&D.pendingBranch&&!D.isUnmounted&&R.asyncDep&&!R.asyncResolved&&R.suspenseId===D.pendingId&&(D.deps--,D.deps===0&&D.resolve())},le=(R,D,K,fe=!1,he=!1,_e=0)=>{for(let $=_e;$<R.length;$++)L(R[$],D,K,fe,he)},re=R=>R.shapeFlag&6?re(R.component.subTree):R.shapeFlag&128?R.suspense.next():f(R.anchor||R.el),ge=(R,D,K)=>{R==null?D._vnode&&L(D._vnode,null,null,!0):m(D._vnode||null,R,D,null,null,null,K),lT(),D._vnode=R},ue={p:m,um:L,m:k,r:q,mt:V,mc:C,pc:X,pbc:O,n:re,o:t};let Me,Se;return e&&([Me,Se]=e(ue)),{render:ge,hydrate:Me,createApp:dO(ge,Me)}}function go({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function RT(t,e,n=!1){const s=t.children,i=e.children;if(ze(s)&&ze(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=$r(i[r]),a.el=o.el),n||RT(o,a))}}function pO(t){const e=t.slice(),n=[0];let s,i,r,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(i=n[n.length-1],t[i]<c){e[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,t[n[a]]<c?r=a+1:o=a;c<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}const mO=t=>t.__isTeleport,Ze=Symbol(void 0),tb=Symbol(void 0),Cs=Symbol(void 0),Bf=Symbol(void 0),uu=[];let Ys=null;function Y(t=!1){uu.push(Ys=t?null:[])}function gO(){uu.pop(),Ys=uu[uu.length-1]||null}let $u=1;function C0(t){$u+=t}function PT(t){return t.dynamicChildren=$u>0?Ys||_l:null,gO(),$u>0&&Ys&&Ys.push(t),t}function se(t,e,n,s,i,r){return PT(p(t,e,n,s,i,r,!0))}function bn(t,e,n,s,i){return PT(j(t,e,n,s,i,!0))}function gh(t){return t?t.__v_isVNode===!0:!1}function Oo(t,e){return t.type===e.type&&t.key===e.key}const gp="__vInternal",kT=({key:t})=>t!=null?t:null,zf=({ref:t,ref_key:e,ref_for:n})=>t!=null?wn(t)||on(t)||st(t)?{i:Rn,r:t,k:e,f:!!n}:t:null;function p(t,e=null,n=null,s=0,i=null,r=t===Ze?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&kT(e),ref:e&&zf(e),scopeId:dp,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null};return a?(nb(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=wn(n)?8:16),$u>0&&!o&&Ys&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Ys.push(l),l}const j=_O;function _O(t,e=null,n=null,s=0,i=null,r=!1){if((!t||t===Xk)&&(t=Cs),gh(t)){const a=ro(t,e,!0);return n&&nb(a,n),$u>0&&!r&&Ys&&(a.shapeFlag&6?Ys[Ys.indexOf(t)]=a:Ys.push(a)),a.patchFlag|=-2,a}if(AO(t)&&(t=t.__vccOpts),e){e=yO(e);let{class:a,style:l}=e;a&&!wn(a)&&(e.class=Rs(a)),sn(l)&&(ou(l)&&!ze(l)&&(l=vn({},l)),e.style=np(l))}const o=wn(t)?1:Nk(t)?128:mO(t)?64:sn(t)?4:st(t)?2:0;return p(t,e,n,s,i,o,r,!0)}function yO(t){return t?ou(t)||gp in t?vn({},t):t:null}function ro(t,e,n=!1){const{props:s,ref:i,patchFlag:r,children:o}=t,a=e?sb(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&kT(a),ref:e&&e.ref?n&&i?ze(i)?i.concat(zf(e)):[i,zf(e)]:zf(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ze?r===-1?16:r|16:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ro(t.ssContent),ssFallback:t.ssFallback&&ro(t.ssFallback),el:t.el,anchor:t.anchor}}function de(t=" ",e=0){return j(tb,null,t,e)}function sc(t,e){const n=j(Bf,null,t);return n.staticCount=e,n}function je(t="",e=!1){return e?(Y(),bn(Cs,null,t)):j(Cs,null,t)}function _i(t){return t==null||typeof t=="boolean"?j(Cs):ze(t)?j(Ze,null,t.slice()):typeof t=="object"?$r(t):j(tb,null,String(t))}function $r(t){return t.el===null||t.memo?t:ro(t)}function nb(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(ze(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),nb(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(gp in e)?e._ctx=Rn:i===3&&Rn&&(Rn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else st(e)?(e={default:e,_ctx:Rn},n=32):(e=String(e),s&64?(n=16,e=[de(e)]):n=8);t.children=e,t.shapeFlag|=n}function sb(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=Rs([e.class,s.class]));else if(i==="style")e.style=np([e.style,s.style]);else if(sp(i)){const r=e[i],o=s[i];o&&r!==o&&!(ze(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function pi(t,e,n,s=null){As(t,e,7,[n,s])}const bO=CT();let vO=0;function wO(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||bO,r={uid:vO++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new BE(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ET(s,i),emitsOptions:uT(s,i),emit:null,emitted:null,propsDefaults:Nt,inheritAttrs:s.inheritAttrs,ctx:Nt,data:Nt,props:Nt,attrs:Nt,slots:Nt,refs:Nt,setupState:Nt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=kk.bind(null,r),t.ce&&t.ce(r),r}let yn=null;const _p=()=>yn||Rn,Ll=t=>{yn=t,t.scope.on()},Ko=()=>{yn&&yn.scope.off(),yn=null};function OT(t){return t.vnode.shapeFlag&4}let Uu=!1;function xO(t,e=!1){Uu=e;const{props:n,children:s}=t.vnode,i=OT(t);rO(t,n,i,e),lO(t,s);const r=i?SO(t,e):void 0;return Uu=!1,r}function SO(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Ol(new Proxy(t.ctx,Qk));const{setup:s}=n;if(s){const i=t.setupContext=s.length>1?TO(t):null;Ll(t),ec();const r=Jr(s,t,0,[t.props,i]);if(tc(),Ko(),FE(r)){if(r.then(Ko,Ko),e)return r.then(o=>{R0(t,o,e)}).catch(o=>{lp(o,t,0)});t.asyncDep=r}else R0(t,r,e)}else LT(t,e)}function R0(t,e,n){st(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:sn(e)&&(t.setupState=sT(e)),LT(t,n)}let P0;function LT(t,e,n){const s=t.type;if(!t.render){if(!e&&P0&&!s.render){const i=s.template;if(i){const{isCustomElement:r,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=s,c=vn(vn({isCustomElement:r,delimiters:a},o),l);s.render=P0(i,c)}}t.render=s.render||Qs}Ll(t),ec(),eO(t),tc(),Ko()}function EO(t){return new Proxy(t.attrs,{get(e,n){return ds(t,"get","$attrs"),e[n]}})}function TO(t){const e=s=>{t.exposed=s||{}};let n;return{get attrs(){return n||(n=EO(t))},slots:t.slots,emit:t.emit,expose:e}}function yp(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(sT(Ol(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ph)return ph[n](t)}}))}function MO(t,e=!0){return st(t)?t.displayName||t.name:t.name||e&&t.__name}function AO(t){return st(t)&&"__vccOpts"in t}const Ft=(t,e)=>Tk(t,e,Uu);function sa(t,e,n){const s=arguments.length;return s===2?sn(e)&&!ze(e)?gh(e)?j(t,null,[e]):j(t,e):j(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&gh(n)&&(n=[n]),j(t,e,n))}const CO="3.2.37",RO="http://www.w3.org/2000/svg",Lo=typeof document!="undefined"?document:null,k0=Lo&&Lo.createElement("template"),PO={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e?Lo.createElementNS(RO,t):Lo.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>Lo.createTextNode(t),createComment:t=>Lo.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Lo.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{k0.innerHTML=s?`<svg>${t}</svg>`:t;const a=k0.content;if(s){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function kO(t,e,n){const s=t._vtc;s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function OO(t,e,n){const s=t.style,i=wn(n);if(n&&!i){for(const r in n)v_(s,r,n[r]);if(e&&!wn(e))for(const r in e)n[r]==null&&v_(s,r,"")}else{const r=s.display;i?e!==n&&(s.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(s.display=r)}}const O0=/\s*!important$/;function v_(t,e,n){if(ze(n))n.forEach(s=>v_(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=LO(t,e);O0.test(n)?t.setProperty(Ql(s),n.replace(O0,""),"important"):t[s]=n}}const L0=["Webkit","Moz","ms"],Am={};function LO(t,e){const n=Am[e];if(n)return n;let s=Ti(e);if(s!=="filter"&&s in t)return Am[e]=s;s=rp(s);for(let i=0;i<L0.length;i++){const r=L0[i]+s;if(r in t)return Am[e]=r}return e}const I0="http://www.w3.org/1999/xlink";function IO(t,e,n,s,i){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(I0,e.slice(6,e.length)):t.setAttributeNS(I0,e,n);else{const r=IP(e);n==null||r&&!DE(n)?t.removeAttribute(e):t.setAttribute(e,r?"":n)}}function DO(t,e,n,s,i,r,o){if(e==="innerHTML"||e==="textContent"){s&&o(s,i,r),t[e]=n==null?"":n;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const l=n==null?"":n;(t.value!==l||t.tagName==="OPTION")&&(t.value=l),n==null&&t.removeAttribute(e);return}let a=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=DE(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(e)}const[IT,NO]=(()=>{let t=Date.now,e=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(t=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(n&&Number(n[1])<=53)}return[t,e]})();let w_=0;const FO=Promise.resolve(),$O=()=>{w_=0},UO=()=>w_||(FO.then($O),w_=IT());function zr(t,e,n,s){t.addEventListener(e,n,s)}function BO(t,e,n,s){t.removeEventListener(e,n,s)}function zO(t,e,n,s,i=null){const r=t._vei||(t._vei={}),o=r[e];if(s&&o)o.value=s;else{const[a,l]=GO(e);if(s){const c=r[e]=VO(s,i);zr(t,a,c,l)}else o&&(BO(t,a,o,l),r[e]=void 0)}}const D0=/(?:Once|Passive|Capture)$/;function GO(t){let e;if(D0.test(t)){e={};let n;for(;n=t.match(D0);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[Ql(t.slice(2)),e]}function VO(t,e){const n=s=>{const i=s.timeStamp||IT();(NO||i>=n.attached-1)&&As(HO(s,n.value),e,5,[s])};return n.value=t,n.attached=UO(),n}function HO(t,e){if(ze(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const N0=/^on[a-z]/,WO=(t,e,n,s,i=!1,r,o,a,l)=>{e==="class"?kO(t,s,i):e==="style"?OO(t,n,s):sp(e)?$y(e)||zO(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):jO(t,e,s,i))?DO(t,e,s,r,o,a,l):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),IO(t,e,s,i))};function jO(t,e,n,s){return s?!!(e==="innerHTML"||e==="textContent"||e in t&&N0.test(e)&&st(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||N0.test(e)&&wn(n)?!1:e in t}const xr="transition",Mc="animation",ib=(t,{slots:e})=>sa(pT,NT(t),e);ib.displayName="Transition";const DT={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},YO=ib.props=vn({},pT.props,DT),_o=(t,e=[])=>{ze(t)?t.forEach(n=>n(...e)):t&&t(...e)},F0=t=>t?ze(t)?t.some(e=>e.length>1):t.length>1:!1;function NT(t){const e={};for(const z in t)z in DT||(e[z]=t[z]);if(t.css===!1)return e;const{name:n="v",type:s,duration:i,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,_=qO(i),g=_&&_[0],m=_&&_[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:S,onLeave:x,onLeaveCancelled:v,onBeforeAppear:E=y,onAppear:A=b,onAppearCancelled:w=S}=e,C=(z,ee,B)=>{Nr(z,ee?u:a),Nr(z,ee?c:o),B&&B()},N=(z,ee)=>{z._isLeaving=!1,Nr(z,d),Nr(z,h),Nr(z,f),ee&&ee()},O=z=>(ee,B)=>{const V=z?A:b,H=()=>C(ee,z,B);_o(V,[ee,H]),$0(()=>{Nr(ee,z?l:r),Vi(ee,z?u:a),F0(V)||U0(ee,s,g,H)})};return vn(e,{onBeforeEnter(z){_o(y,[z]),Vi(z,r),Vi(z,o)},onBeforeAppear(z){_o(E,[z]),Vi(z,l),Vi(z,c)},onEnter:O(!1),onAppear:O(!0),onLeave(z,ee){z._isLeaving=!0;const B=()=>N(z,ee);Vi(z,d),$T(),Vi(z,f),$0(()=>{!z._isLeaving||(Nr(z,d),Vi(z,h),F0(x)||U0(z,s,m,B))}),_o(x,[z,B])},onEnterCancelled(z){C(z,!1),_o(S,[z])},onAppearCancelled(z){C(z,!0),_o(w,[z])},onLeaveCancelled(z){N(z),_o(v,[z])}})}function qO(t){if(t==null)return null;if(sn(t))return[Cm(t.enter),Cm(t.leave)];{const e=Cm(t);return[e,e]}}function Cm(t){return Ou(t)}function Vi(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function Nr(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function $0(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let KO=0;function U0(t,e,n,s){const i=t._endId=++KO,r=()=>{i===t._endId&&s()};if(n)return setTimeout(r,n);const{type:o,timeout:a,propCount:l}=FT(t,e);if(!o)return s();const c=o+"end";let u=0;const d=()=>{t.removeEventListener(c,f),r()},f=h=>{h.target===t&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),t.addEventListener(c,f)}function FT(t,e){const n=window.getComputedStyle(t),s=_=>(n[_]||"").split(", "),i=s(xr+"Delay"),r=s(xr+"Duration"),o=B0(i,r),a=s(Mc+"Delay"),l=s(Mc+"Duration"),c=B0(a,l);let u=null,d=0,f=0;e===xr?o>0&&(u=xr,d=o,f=r.length):e===Mc?c>0&&(u=Mc,d=c,f=l.length):(d=Math.max(o,c),u=d>0?o>c?xr:Mc:null,f=u?u===xr?r.length:l.length:0);const h=u===xr&&/\b(transform|all)(,|$)/.test(n[xr+"Property"]);return{type:u,timeout:d,propCount:f,hasTransform:h}}function B0(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>z0(n)+z0(t[s])))}function z0(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function $T(){return document.body.offsetHeight}const UT=new WeakMap,BT=new WeakMap,XO={name:"TransitionGroup",props:vn({},YO,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=_p(),s=hT();let i,r;return _T(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!tL(i[0].el,n.vnode.el,o))return;i.forEach(JO),i.forEach(QO);const a=i.filter(eL);$T(),a.forEach(l=>{const c=l.el,u=c.style;Vi(c,o),u.transform=u.webkitTransform=u.transitionDuration="";const d=c._moveCb=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",d),c._moveCb=null,Nr(c,o))};c.addEventListener("transitionend",d)})}),()=>{const o=nt(t),a=NT(o);let l=o.tag||Ze;i=r,r=e.default?Xy(e.default()):[];for(let c=0;c<r.length;c++){const u=r[c];u.key!=null&&Fu(u,Nu(u,a,s,n))}if(i)for(let c=0;c<i.length;c++){const u=i[c];Fu(u,Nu(u,a,s,n)),UT.set(u,u.el.getBoundingClientRect())}return j(l,null,r)}}},ZO=XO;function JO(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function QO(t){BT.set(t,t.el.getBoundingClientRect())}function eL(t){const e=UT.get(t),n=BT.get(t),s=e.left-n.left,i=e.top-n.top;if(s||i){const r=t.el.style;return r.transform=r.webkitTransform=`translate(${s}px,${i}px)`,r.transitionDuration="0s",t}}function tL(t,e,n){const s=t.cloneNode();t._vtc&&t._vtc.forEach(o=>{o.split(/\s+/).forEach(a=>a&&s.classList.remove(a))}),n.split(/\s+/).forEach(o=>o&&s.classList.add(o)),s.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(s);const{hasTransform:r}=FT(s);return i.removeChild(s),r}const Il=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ze(e)?n=>$f(e,n):e};function nL(t){t.target.composing=!0}function G0(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const We={created(t,{modifiers:{lazy:e,trim:n,number:s}},i){t._assign=Il(i);const r=s||i.props&&i.props.type==="number";zr(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),r&&(a=Ou(a)),t._assign(a)}),n&&zr(t,"change",()=>{t.value=t.value.trim()}),e||(zr(t,"compositionstart",nL),zr(t,"compositionend",G0),zr(t,"change",G0))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:s,number:i}},r){if(t._assign=Il(r),t.composing||document.activeElement===t&&t.type!=="range"&&(n||s&&t.value.trim()===e||(i||t.type==="number")&&Ou(t.value)===e))return;const o=e==null?"":e;t.value!==o&&(t.value=o)}},zT={deep:!0,created(t,e,n){t._assign=Il(n),zr(t,"change",()=>{const s=t._modelValue,i=Bu(t),r=t.checked,o=t._assign;if(ze(s)){const a=Fy(s,i),l=a!==-1;if(r&&!l)o(s.concat(i));else if(!r&&l){const c=[...s];c.splice(a,1),o(c)}}else if(Jl(s)){const a=new Set(s);r?a.add(i):a.delete(i),o(a)}else o(GT(t,r))})},mounted:V0,beforeUpdate(t,e,n){t._assign=Il(n),V0(t,e,n)}};function V0(t,{value:e,oldValue:n},s){t._modelValue=e,ze(e)?t.checked=Fy(e,s.props.value)>-1:Jl(e)?t.checked=e.has(s.props.value):e!==n&&(t.checked=dd(e,GT(t,!0)))}const sL={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const i=Jl(e);zr(t,"change",()=>{const r=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Ou(Bu(o)):Bu(o));t._assign(t.multiple?i?new Set(r):r:r[0])}),t._assign=Il(s)},mounted(t,{value:e}){H0(t,e)},beforeUpdate(t,e,n){t._assign=Il(n)},updated(t,{value:e}){H0(t,e)}};function H0(t,e){const n=t.multiple;if(!(n&&!ze(e)&&!Jl(e))){for(let s=0,i=t.options.length;s<i;s++){const r=t.options[s],o=Bu(r);if(n)ze(e)?r.selected=Fy(e,o)>-1:r.selected=e.has(o);else if(dd(Bu(r),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Bu(t){return"_value"in t?t._value:t.value}function GT(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const _h={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Ac(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),Ac(t,!0),s.enter(t)):s.leave(t,()=>{Ac(t,!1)}):Ac(t,e))},beforeUnmount(t,{value:e}){Ac(t,e)}};function Ac(t,e){t.style.display=e?t._vod:"none"}const iL=vn({patchProp:WO},PO);let W0;function rL(){return W0||(W0=fO(iL))}const oL=(...t)=>{const e=rL().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=aL(s);if(!i)return;const r=e._component;!st(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function aL(t){return wn(t)?document.querySelector(t):t}const lL="modulepreload",j0={},cL="/develop/",uL=function(e,n){return!n||n.length===0?e():Promise.all(n.map(s=>{if(s=`${cL}${s}`,s in j0)return;j0[s]=!0;const i=s.endsWith(".css"),r=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${r}`))return;const o=document.createElement("link");if(o.rel=i?"stylesheet":lL,i||(o.as="script",o.crossOrigin=""),o.href=s,document.head.appendChild(o),i)return new Promise((a,l)=>{o.addEventListener("load",a),o.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e())};function bp(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof process=="object"&&"version"in process?`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`:"<environment undetectable>"}var rb=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},vp={exports:{}},dL=VT;function VT(t,e,n,s){if(typeof n!="function")throw new Error("method for before hook must be a function");return s||(s={}),Array.isArray(e)?e.reverse().reduce(function(i,r){return VT.bind(null,t,r,i,s)},n)():Promise.resolve().then(function(){return t.registry[e]?t.registry[e].reduce(function(i,r){return r.hook.bind(null,i,s)},n)():n(s)})}var fL=hL;function hL(t,e,n,s){var i=s;t.registry[n]||(t.registry[n]=[]),e==="before"&&(s=function(r,o){return Promise.resolve().then(i.bind(null,o)).then(r.bind(null,o))}),e==="after"&&(s=function(r,o){var a;return Promise.resolve().then(r.bind(null,o)).then(function(l){return a=l,i(a,o)}).then(function(){return a})}),e==="error"&&(s=function(r,o){return Promise.resolve().then(r.bind(null,o)).catch(function(a){return i(a,o)})}),t.registry[n].push({hook:s,orig:i})}var pL=mL;function mL(t,e,n){if(!!t.registry[e]){var s=t.registry[e].map(function(i){return i.orig}).indexOf(n);s!==-1&&t.registry[e].splice(s,1)}}var HT=dL,gL=fL,_L=pL,Y0=Function.bind,q0=Y0.bind(Y0);function WT(t,e,n){var s=q0(_L,null).apply(null,n?[e,n]:[e]);t.api={remove:s},t.remove=s,["before","error","after","wrap"].forEach(function(i){var r=n?[e,i,n]:[e,i];t[i]=t.api[i]=q0(gL,null).apply(null,r)})}function yL(){var t="h",e={registry:{}},n=HT.bind(null,e,t);return WT(n,e,t),n}function jT(){var t={registry:{}},e=HT.bind(null,t);return WT(e,t),e}var K0=!1;function ic(){return K0||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),K0=!0),jT()}ic.Singular=yL.bind();ic.Collection=jT.bind();vp.exports=ic;vp.exports.Hook=ic;vp.exports.Singular=ic.Singular;var bL=vp.exports.Collection=ic.Collection;/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function X0(t){return Object.prototype.toString.call(t)==="[object Object]"}function YT(t){var e,n;return X0(t)===!1?!1:(e=t.constructor,e===void 0?!0:(n=e.prototype,!(X0(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}function vL(t){return t?Object.keys(t).reduce((e,n)=>(e[n.toLowerCase()]=t[n],e),{}):{}}function qT(t,e){const n=Object.assign({},t);return Object.keys(e).forEach(s=>{YT(e[s])?s in t?n[s]=qT(t[s],e[s]):Object.assign(n,{[s]:e[s]}):Object.assign(n,{[s]:e[s]})}),n}function Z0(t){for(const e in t)t[e]===void 0&&delete t[e];return t}function x_(t,e,n){if(typeof e=="string"){let[i,r]=e.split(" ");n=Object.assign(r?{method:i,url:r}:{url:i},n)}else n=Object.assign({},e);n.headers=vL(n.headers),Z0(n),Z0(n.headers);const s=qT(t||{},n);return t&&t.mediaType.previews.length&&(s.mediaType.previews=t.mediaType.previews.filter(i=>!s.mediaType.previews.includes(i)).concat(s.mediaType.previews)),s.mediaType.previews=s.mediaType.previews.map(i=>i.replace(/-preview/,"")),s}function wL(t,e){const n=/\?/.test(t)?"&":"?",s=Object.keys(e);return s.length===0?t:t+n+s.map(i=>i==="q"?"q="+e.q.split("+").map(encodeURIComponent).join("+"):`${i}=${encodeURIComponent(e[i])}`).join("&")}const xL=/\{[^}]+\}/g;function SL(t){return t.replace(/^\W+|\W+$/g,"").split(/,/)}function EL(t){const e=t.match(xL);return e?e.map(SL).reduce((n,s)=>n.concat(s),[]):[]}function J0(t,e){return Object.keys(t).filter(n=>!e.includes(n)).reduce((n,s)=>(n[s]=t[s],n),{})}function KT(t){return t.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e}).join("")}function ll(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function Cc(t,e,n){return e=t==="+"||t==="#"?KT(e):ll(e),n?ll(n)+"="+e:e}function Ca(t){return t!=null}function Rm(t){return t===";"||t==="&"||t==="?"}function TL(t,e,n,s){var i=t[n],r=[];if(Ca(i)&&i!=="")if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")i=i.toString(),s&&s!=="*"&&(i=i.substring(0,parseInt(s,10))),r.push(Cc(e,i,Rm(e)?n:""));else if(s==="*")Array.isArray(i)?i.filter(Ca).forEach(function(o){r.push(Cc(e,o,Rm(e)?n:""))}):Object.keys(i).forEach(function(o){Ca(i[o])&&r.push(Cc(e,i[o],o))});else{const o=[];Array.isArray(i)?i.filter(Ca).forEach(function(a){o.push(Cc(e,a))}):Object.keys(i).forEach(function(a){Ca(i[a])&&(o.push(ll(a)),o.push(Cc(e,i[a].toString())))}),Rm(e)?r.push(ll(n)+"="+o.join(",")):o.length!==0&&r.push(o.join(","))}else e===";"?Ca(i)&&r.push(ll(n)):i===""&&(e==="&"||e==="?")?r.push(ll(n)+"="):i===""&&r.push("");return r}function ML(t){return{expand:AL.bind(null,t)}}function AL(t,e){var n=["+","#",".","/",";","?","&"];return t.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(s,i,r){if(i){let a="";const l=[];if(n.indexOf(i.charAt(0))!==-1&&(a=i.charAt(0),i=i.substr(1)),i.split(/,/g).forEach(function(c){var u=/([^:\*]*)(?::(\d+)|(\*))?/.exec(c);l.push(TL(e,a,u[1],u[2]||u[3]))}),a&&a!=="+"){var o=",";return a==="?"?o="&":a!=="#"&&(o=a),(l.length!==0?a:"")+l.join(o)}else return l.join(",")}else return KT(r)})}function XT(t){let e=t.method.toUpperCase(),n=(t.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),s=Object.assign({},t.headers),i,r=J0(t,["method","baseUrl","url","headers","request","mediaType"]);const o=EL(n);n=ML(n).expand(r),/^http/.test(n)||(n=t.baseUrl+n);const a=Object.keys(t).filter(u=>o.includes(u)).concat("baseUrl"),l=J0(r,a);if(!/application\/octet-stream/i.test(s.accept)&&(t.mediaType.format&&(s.accept=s.accept.split(/,/).map(u=>u.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${t.mediaType.format}`)).join(",")),t.mediaType.previews.length)){const u=s.accept.match(/[\w-]+(?=-preview)/g)||[];s.accept=u.concat(t.mediaType.previews).map(d=>{const f=t.mediaType.format?`.${t.mediaType.format}`:"+json";return`application/vnd.github.${d}-preview${f}`}).join(",")}return["GET","HEAD"].includes(e)?n=wL(n,l):"data"in l?i=l.data:Object.keys(l).length?i=l:s["content-length"]=0,!s["content-type"]&&typeof i!="undefined"&&(s["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(e)&&typeof i=="undefined"&&(i=""),Object.assign({method:e,url:n,headers:s},typeof i!="undefined"?{body:i}:null,t.request?{request:t.request}:null)}function CL(t,e,n){return XT(x_(t,e,n))}function ZT(t,e){const n=x_(t,e),s=CL.bind(null,n);return Object.assign(s,{DEFAULTS:n,defaults:ZT.bind(null,n),merge:x_.bind(null,n),parse:XT})}const RL="7.0.0",PL=`octokit-endpoint.js/${RL} ${bp()}`,kL={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":PL},mediaType:{format:"",previews:[]}},OL=ZT(null,kL);var An=typeof globalThis!="undefined"&&globalThis||typeof self!="undefined"&&self||typeof An!="undefined"&&An,Qn={searchParams:"URLSearchParams"in An,iterable:"Symbol"in An&&"iterator"in Symbol,blob:"FileReader"in An&&"Blob"in An&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in An,arrayBuffer:"ArrayBuffer"in An};function LL(t){return t&&DataView.prototype.isPrototypeOf(t)}if(Qn.arrayBuffer)var IL=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],DL=ArrayBuffer.isView||function(t){return t&&IL.indexOf(Object.prototype.toString.call(t))>-1};function hd(t){if(typeof t!="string"&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||t==="")throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function ob(t){return typeof t!="string"&&(t=String(t)),t}function ab(t){var e={next:function(){var n=t.shift();return{done:n===void 0,value:n}}};return Qn.iterable&&(e[Symbol.iterator]=function(){return e}),e}function mn(t){this.map={},t instanceof mn?t.forEach(function(e,n){this.append(n,e)},this):Array.isArray(t)?t.forEach(function(e){this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}mn.prototype.append=function(t,e){t=hd(t),e=ob(e);var n=this.map[t];this.map[t]=n?n+", "+e:e};mn.prototype.delete=function(t){delete this.map[hd(t)]};mn.prototype.get=function(t){return t=hd(t),this.has(t)?this.map[t]:null};mn.prototype.has=function(t){return this.map.hasOwnProperty(hd(t))};mn.prototype.set=function(t,e){this.map[hd(t)]=ob(e)};mn.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)};mn.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),ab(t)};mn.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),ab(t)};mn.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),ab(t)};Qn.iterable&&(mn.prototype[Symbol.iterator]=mn.prototype.entries);function Pm(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function JT(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function NL(t){var e=new FileReader,n=JT(e);return e.readAsArrayBuffer(t),n}function FL(t){var e=new FileReader,n=JT(e);return e.readAsText(t),n}function $L(t){for(var e=new Uint8Array(t),n=new Array(e.length),s=0;s<e.length;s++)n[s]=String.fromCharCode(e[s]);return n.join("")}function Q0(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function QT(){return this.bodyUsed=!1,this._initBody=function(t){this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?typeof t=="string"?this._bodyText=t:Qn.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:Qn.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:Qn.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():Qn.arrayBuffer&&Qn.blob&&LL(t)?(this._bodyArrayBuffer=Q0(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Qn.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||DL(t))?this._bodyArrayBuffer=Q0(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||(typeof t=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Qn.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Qn.blob&&(this.blob=function(){var t=Pm(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=Pm(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(NL)}),this.text=function(){var t=Pm(this);if(t)return t;if(this._bodyBlob)return FL(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve($L(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Qn.formData&&(this.formData=function(){return this.text().then(zL)}),this.json=function(){return this.text().then(JSON.parse)},this}var UL=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function BL(t){var e=t.toUpperCase();return UL.indexOf(e)>-1?e:t}function ia(t,e){if(!(this instanceof ia))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e=e||{};var n=e.body;if(t instanceof ia){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new mn(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,!n&&t._bodyInit!=null&&(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",(e.headers||!this.headers)&&(this.headers=new mn(e.headers)),this.method=BL(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),(this.method==="GET"||this.method==="HEAD")&&(e.cache==="no-store"||e.cache==="no-cache")){var s=/([?&])_=[^&]*/;if(s.test(this.url))this.url=this.url.replace(s,"$1_="+new Date().getTime());else{var i=/\?/;this.url+=(i.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}ia.prototype.clone=function(){return new ia(this,{body:this._bodyInit})};function zL(t){var e=new FormData;return t.trim().split("&").forEach(function(n){if(n){var s=n.split("="),i=s.shift().replace(/\+/g," "),r=s.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(r))}}),e}function GL(t){var e=new mn,n=t.replace(/\r?\n[\t ]+/g," ");return n.split("\r").map(function(s){return s.indexOf(`
`)===0?s.substr(1,s.length):s}).forEach(function(s){var i=s.split(":"),r=i.shift().trim();if(r){var o=i.join(":").trim();e.append(r,o)}}),e}QT.call(ia.prototype);function Mi(t,e){if(!(this instanceof Mi))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e||(e={}),this.type="default",this.status=e.status===void 0?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText===void 0?"":""+e.statusText,this.headers=new mn(e.headers),this.url=e.url||"",this._initBody(t)}QT.call(Mi.prototype);Mi.prototype.clone=function(){return new Mi(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new mn(this.headers),url:this.url})};Mi.error=function(){var t=new Mi(null,{status:0,statusText:""});return t.type="error",t};var VL=[301,302,303,307,308];Mi.redirect=function(t,e){if(VL.indexOf(e)===-1)throw new RangeError("Invalid status code");return new Mi(null,{status:e,headers:{location:t}})};var Io=An.DOMException;try{new Io}catch{Io=function(e,n){this.message=e,this.name=n;var s=Error(e);this.stack=s.stack},Io.prototype=Object.create(Error.prototype),Io.prototype.constructor=Io}function eM(t,e){return new Promise(function(n,s){var i=new ia(t,e);if(i.signal&&i.signal.aborted)return s(new Io("Aborted","AbortError"));var r=new XMLHttpRequest;function o(){r.abort()}r.onload=function(){var l={status:r.status,statusText:r.statusText,headers:GL(r.getAllResponseHeaders()||"")};l.url="responseURL"in r?r.responseURL:l.headers.get("X-Request-URL");var c="response"in r?r.response:r.responseText;setTimeout(function(){n(new Mi(c,l))},0)},r.onerror=function(){setTimeout(function(){s(new TypeError("Network request failed"))},0)},r.ontimeout=function(){setTimeout(function(){s(new TypeError("Network request failed"))},0)},r.onabort=function(){setTimeout(function(){s(new Io("Aborted","AbortError"))},0)};function a(l){try{return l===""&&An.location.href?An.location.href:l}catch{return l}}r.open(i.method,a(i.url),!0),i.credentials==="include"?r.withCredentials=!0:i.credentials==="omit"&&(r.withCredentials=!1),"responseType"in r&&(Qn.blob?r.responseType="blob":Qn.arrayBuffer&&i.headers.get("Content-Type")&&i.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(r.responseType="arraybuffer")),e&&typeof e.headers=="object"&&!(e.headers instanceof mn)?Object.getOwnPropertyNames(e.headers).forEach(function(l){r.setRequestHeader(l,ob(e.headers[l]))}):i.headers.forEach(function(l,c){r.setRequestHeader(c,l)}),i.signal&&(i.signal.addEventListener("abort",o),r.onreadystatechange=function(){r.readyState===4&&i.signal.removeEventListener("abort",o)}),r.send(typeof i._bodyInit=="undefined"?null:i._bodyInit)})}eM.polyfill=!0;An.fetch||(An.fetch=eM,An.Headers=mn,An.Request=ia,An.Response=Mi);var HL=self.fetch.bind(self);class ew extends Error{constructor(e){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}}var lb={exports:{}},WL=tM;function tM(t,e){if(t&&e)return tM(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(s){n[s]=t[s]}),n;function n(){for(var s=new Array(arguments.length),i=0;i<s.length;i++)s[i]=arguments[i];var r=t.apply(this,s),o=s[s.length-1];return typeof r=="function"&&r!==o&&Object.keys(o).forEach(function(a){r[a]=o[a]}),r}}var nM=WL;lb.exports=nM(Gf);lb.exports.strict=nM(sM);Gf.proto=Gf(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Gf(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return sM(this)},configurable:!0})});function Gf(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function sM(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},n=t.name||"Function wrapped with `once`";return e.onceError=n+" shouldn't be called more than once",e.called=!1,e}var iM=lb.exports;const jL=iM(t=>console.warn(t)),YL=iM(t=>console.warn(t));class Rc extends Error{constructor(e,n,s){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=n;let i;"headers"in s&&typeof s.headers!="undefined"&&(i=s.headers),"response"in s&&(this.response=s.response,i=s.response.headers);const r=Object.assign({},s.request);s.request.headers.authorization&&(r.headers=Object.assign({},s.request.headers,{authorization:s.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),r.url=r.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=r,Object.defineProperty(this,"code",{get(){return jL(new ew("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),n}}),Object.defineProperty(this,"headers",{get(){return YL(new ew("[@octokit/request-error] `error.headers` is deprecated, use `error.response.headers`.")),i||{}}})}}const qL="6.1.0";function KL(t){return t.arrayBuffer()}function tw(t){const e=t.request&&t.request.log?t.request.log:console;(YT(t.body)||Array.isArray(t.body))&&(t.body=JSON.stringify(t.body));let n={},s,i;return(t.request&&t.request.fetch||globalThis.fetch||HL)(t.url,Object.assign({method:t.method,body:t.body,headers:t.headers,redirect:t.redirect},t.request)).then(async o=>{i=o.url,s=o.status;for(const a of o.headers)n[a[0]]=a[1];if("deprecation"in n){const a=n.link&&n.link.match(/<([^>]+)>; rel="deprecation"/),l=a&&a.pop();e.warn(`[@octokit/request] "${t.method} ${t.url}" is deprecated. It is scheduled to be removed on ${n.sunset}${l?`. See ${l}`:""}`)}if(!(s===204||s===205)){if(t.method==="HEAD"){if(s<400)return;throw new Rc(o.statusText,s,{response:{url:i,status:s,headers:n,data:void 0},request:t})}if(s===304)throw new Rc("Not modified",s,{response:{url:i,status:s,headers:n,data:await km(o)},request:t});if(s>=400){const a=await km(o);throw new Rc(XL(a),s,{response:{url:i,status:s,headers:n,data:a},request:t})}return km(o)}}).then(o=>({status:s,url:i,headers:n,data:o})).catch(o=>{throw o instanceof Rc?o:new Rc(o.message,500,{request:t})})}async function km(t){const e=t.headers.get("content-type");return/application\/json/.test(e)?t.json():!e||/^text\/|charset=utf-8$/.test(e)?t.text():KL(t)}function XL(t){return typeof t=="string"?t:"message"in t?Array.isArray(t.errors)?`${t.message}: ${t.errors.map(JSON.stringify).join(", ")}`:t.message:`Unknown error: ${JSON.stringify(t)}`}function S_(t,e){const n=t.defaults(e);return Object.assign(function(i,r){const o=n.merge(i,r);if(!o.request||!o.request.hook)return tw(n.parse(o));const a=(l,c)=>tw(n.parse(n.merge(l,c)));return Object.assign(a,{endpoint:n,defaults:S_.bind(null,n)}),o.request.hook(a,o)},{endpoint:n,defaults:S_.bind(null,n)})}const yh=S_(OL,{headers:{"user-agent":`octokit-request.js/${qL} ${bp()}`}}),ZL="5.0.0";function JL(t){return`Request failed due to following response errors:
`+t.errors.map(e=>` - ${e.message}`).join(`
`)}class QL extends Error{constructor(e,n,s){super(JL(s)),this.request=e,this.headers=n,this.response=s,this.name="GraphqlResponseError",this.errors=s.errors,this.data=s.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}const eI=["method","baseUrl","url","headers","request","query","mediaType"],tI=["query","method","url"],sw=/\/api\/v3\/?$/;function nI(t,e,n){if(n){if(typeof e=="string"&&"query"in n)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const o in n)if(!!tI.includes(o))return Promise.reject(new Error(`[@octokit/graphql] "${o}" cannot be used as variable name`))}const s=typeof e=="string"?Object.assign({query:e},n):e,i=Object.keys(s).reduce((o,a)=>eI.includes(a)?(o[a]=s[a],o):(o.variables||(o.variables={}),o.variables[a]=s[a],o),{}),r=s.baseUrl||t.endpoint.DEFAULTS.baseUrl;return sw.test(r)&&(i.url=r.replace(sw,"/api/graphql")),t(i).then(o=>{if(o.data.errors){const a={};for(const l of Object.keys(o.headers))a[l]=o.headers[l];throw new QL(i,a,o.data)}return o.data.data})}function cb(t,e){const n=t.defaults(e);return Object.assign((i,r)=>nI(n,i,r),{defaults:cb.bind(null,n),endpoint:yh.endpoint})}cb(yh,{headers:{"user-agent":`octokit-graphql.js/${ZL} ${bp()}`},method:"POST",url:"/graphql"});function sI(t){return cb(t,{method:"POST",url:"/graphql"})}const iI=/^v1\./,rI=/^ghs_/,oI=/^ghu_/;async function aI(t){const e=t.split(/\./).length===3,n=iI.test(t)||rI.test(t),s=oI.test(t);return{type:"token",token:t,tokenType:e?"app":n?"installation":s?"user-to-server":"oauth"}}function lI(t){return t.split(/\./).length===3?`bearer ${t}`:`token ${t}`}async function cI(t,e,n,s){const i=e.endpoint.merge(n,s);return i.headers.authorization=lI(t),e(i)}const uI=function(e){if(!e)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof e!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return e=e.replace(/^(token|bearer) +/i,""),Object.assign(aI.bind(null,e),{hook:cI.bind(null,e)})},rM="4.0.4";class ub{constructor(e={}){const n=new bL,s={baseUrl:yh.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},e.request,{hook:n.bind(null,"request")}),mediaType:{previews:[],format:""}};if(s.headers["user-agent"]=[e.userAgent,`octokit-core.js/${rM} ${bp()}`].filter(Boolean).join(" "),e.baseUrl&&(s.baseUrl=e.baseUrl),e.previews&&(s.mediaType.previews=e.previews),e.timeZone&&(s.headers["time-zone"]=e.timeZone),this.request=yh.defaults(s),this.graphql=sI(this.request).defaults(s),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},e.log),this.hook=n,e.authStrategy){const{authStrategy:r,...o}=e,a=r(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:o},e.auth));n.wrap("request",a.hook),this.auth=a}else if(!e.auth)this.auth=async()=>({type:"unauthenticated"});else{const r=uI(e.auth);n.wrap("request",r.hook),this.auth=r}this.constructor.plugins.forEach(r=>{Object.assign(this,r(this,e))})}static defaults(e){return class extends this{constructor(...s){const i=s[0]||{};if(typeof e=="function"){super(e(i));return}super(Object.assign({},e,i,i.userAgent&&e.userAgent?{userAgent:`${i.userAgent} ${e.userAgent}`}:null))}}}static plugin(...e){var n;const s=this.plugins;return n=class extends this{},n.plugins=s.concat(e.filter(r=>!s.includes(r))),n}}ub.VERSION=rM;ub.plugins=[];const dI="1.0.4";function oM(t){t.hook.wrap("request",(e,n)=>{t.log.debug("request",n);const s=Date.now(),i=t.request.endpoint.parse(n),r=i.url.replace(n.baseUrl,"");return e(n).then(o=>(t.log.info(`${i.method} ${r} - ${o.status} in ${Date.now()-s}ms`),o)).catch(o=>{throw t.log.info(`${i.method} ${r} - ${o.status} in ${Date.now()-s}ms`),o})})}oM.VERSION=dI;const fI="3.0.0";function hI(t){if(!t.data)return{...t,data:[]};if(!("total_count"in t.data&&!("url"in t.data)))return t;const n=t.data.incomplete_results,s=t.data.repository_selection,i=t.data.total_count;delete t.data.incomplete_results,delete t.data.repository_selection,delete t.data.total_count;const r=Object.keys(t.data)[0],o=t.data[r];return t.data=o,typeof n!="undefined"&&(t.data.incomplete_results=n),typeof s!="undefined"&&(t.data.repository_selection=s),t.data.total_count=i,t}function db(t,e,n){const s=typeof e=="function"?e.endpoint(n):t.request.endpoint(e,n),i=typeof e=="function"?e:t.request,r=s.method,o=s.headers;let a=s.url;return{[Symbol.asyncIterator]:()=>({async next(){if(!a)return{done:!0};try{const l=await i({method:r,url:a,headers:o}),c=hI(l);return a=((c.headers.link||"").match(/<([^>]+)>;\s*rel="next"/)||[])[1],{value:c}}catch(l){if(l.status!==409)throw l;return a="",{value:{status:200,headers:{},data:[]}}}}})}}function aM(t,e,n,s){return typeof n=="function"&&(s=n,n=void 0),lM(t,[],db(t,e,n)[Symbol.asyncIterator](),s)}function lM(t,e,n,s){return n.next().then(i=>{if(i.done)return e;let r=!1;function o(){r=!0}return e=e.concat(s?s(i.value,o):i.value.data),r?e:lM(t,e,n,s)})}Object.assign(aM,{iterator:db});function cM(t){return{paginate:Object.assign(aM.bind(null,t),{iterator:db.bind(null,t)})}}cM.VERSION=fI;const pI={actions:{addCustomLabelsToSelfHostedRunnerForOrg:["POST /orgs/{org}/actions/runners/{runner_id}/labels"],addCustomLabelsToSelfHostedRunnerForRepo:["POST /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],addSelectedRepoToOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],approveWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/approve"],cancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/cancel"],createOrUpdateEnvironmentSecret:["PUT /repositories/{repository_id}/environments/{environment_name}/secrets/{secret_name}"],createOrUpdateOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/actions/secrets/{secret_name}"],createRegistrationTokenForOrg:["POST /orgs/{org}/actions/runners/registration-token"],createRegistrationTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/registration-token"],createRemoveTokenForOrg:["POST /orgs/{org}/actions/runners/remove-token"],createRemoveTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/remove-token"],createWorkflowDispatch:["POST /repos/{owner}/{repo}/actions/workflows/{workflow_id}/dispatches"],deleteActionsCacheById:["DELETE /repos/{owner}/{repo}/actions/caches/{cache_id}"],deleteActionsCacheByKey:["DELETE /repos/{owner}/{repo}/actions/caches{?key,ref}"],deleteArtifact:["DELETE /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],deleteEnvironmentSecret:["DELETE /repositories/{repository_id}/environments/{environment_name}/secrets/{secret_name}"],deleteOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/actions/secrets/{secret_name}"],deleteSelfHostedRunnerFromOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}"],deleteSelfHostedRunnerFromRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}"],deleteWorkflowRun:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}"],deleteWorkflowRunLogs:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],disableSelectedRepositoryGithubActionsOrganization:["DELETE /orgs/{org}/actions/permissions/repositories/{repository_id}"],disableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/disable"],downloadArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}/{archive_format}"],downloadJobLogsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}/logs"],downloadWorkflowRunAttemptLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/logs"],downloadWorkflowRunLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],enableSelectedRepositoryGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories/{repository_id}"],enableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/enable"],getActionsCacheList:["GET /repos/{owner}/{repo}/actions/caches"],getActionsCacheUsage:["GET /repos/{owner}/{repo}/actions/cache/usage"],getActionsCacheUsageByRepoForOrg:["GET /orgs/{org}/actions/cache/usage-by-repository"],getActionsCacheUsageForEnterprise:["GET /enterprises/{enterprise}/actions/cache/usage"],getActionsCacheUsageForOrg:["GET /orgs/{org}/actions/cache/usage"],getAllowedActionsOrganization:["GET /orgs/{org}/actions/permissions/selected-actions"],getAllowedActionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/selected-actions"],getArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],getEnvironmentPublicKey:["GET /repositories/{repository_id}/environments/{environment_name}/secrets/public-key"],getEnvironmentSecret:["GET /repositories/{repository_id}/environments/{environment_name}/secrets/{secret_name}"],getGithubActionsDefaultWorkflowPermissionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/workflow"],getGithubActionsDefaultWorkflowPermissionsOrganization:["GET /orgs/{org}/actions/permissions/workflow"],getGithubActionsDefaultWorkflowPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/workflow"],getGithubActionsPermissionsOrganization:["GET /orgs/{org}/actions/permissions"],getGithubActionsPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions"],getJobForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}"],getOrgPublicKey:["GET /orgs/{org}/actions/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}"],getPendingDeploymentsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],getRepoPermissions:["GET /repos/{owner}/{repo}/actions/permissions",{},{renamed:["actions","getGithubActionsPermissionsRepository"]}],getRepoPublicKey:["GET /repos/{owner}/{repo}/actions/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/actions/secrets/{secret_name}"],getReviewsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/approvals"],getSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}"],getSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}"],getWorkflow:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}"],getWorkflowAccessToRepository:["GET /repos/{owner}/{repo}/actions/permissions/access"],getWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}"],getWorkflowRunAttempt:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}"],getWorkflowRunUsage:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/timing"],getWorkflowUsage:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/timing"],listArtifactsForRepo:["GET /repos/{owner}/{repo}/actions/artifacts"],listEnvironmentSecrets:["GET /repositories/{repository_id}/environments/{environment_name}/secrets"],listJobsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs"],listJobsForWorkflowRunAttempt:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/jobs"],listLabelsForSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}/labels"],listLabelsForSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],listOrgSecrets:["GET /orgs/{org}/actions/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/actions/secrets"],listRepoWorkflows:["GET /repos/{owner}/{repo}/actions/workflows"],listRunnerApplicationsForOrg:["GET /orgs/{org}/actions/runners/downloads"],listRunnerApplicationsForRepo:["GET /repos/{owner}/{repo}/actions/runners/downloads"],listSelectedReposForOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}/repositories"],listSelectedRepositoriesEnabledGithubActionsOrganization:["GET /orgs/{org}/actions/permissions/repositories"],listSelfHostedRunnersForOrg:["GET /orgs/{org}/actions/runners"],listSelfHostedRunnersForRepo:["GET /repos/{owner}/{repo}/actions/runners"],listWorkflowRunArtifacts:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts"],listWorkflowRuns:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs"],listWorkflowRunsForRepo:["GET /repos/{owner}/{repo}/actions/runs"],reRunJobForWorkflowRun:["POST /repos/{owner}/{repo}/actions/jobs/{job_id}/rerun"],reRunWorkflow:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun"],reRunWorkflowFailedJobs:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun-failed-jobs"],removeAllCustomLabelsFromSelfHostedRunnerForOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}/labels"],removeAllCustomLabelsFromSelfHostedRunnerForRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],removeCustomLabelFromSelfHostedRunnerForOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}/labels/{name}"],removeCustomLabelFromSelfHostedRunnerForRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}/labels/{name}"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],reviewPendingDeploymentsForRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],setAllowedActionsOrganization:["PUT /orgs/{org}/actions/permissions/selected-actions"],setAllowedActionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/selected-actions"],setCustomLabelsForSelfHostedRunnerForOrg:["PUT /orgs/{org}/actions/runners/{runner_id}/labels"],setCustomLabelsForSelfHostedRunnerForRepo:["PUT /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],setGithubActionsDefaultWorkflowPermissionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/workflow"],setGithubActionsDefaultWorkflowPermissionsOrganization:["PUT /orgs/{org}/actions/permissions/workflow"],setGithubActionsDefaultWorkflowPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/workflow"],setGithubActionsPermissionsOrganization:["PUT /orgs/{org}/actions/permissions"],setGithubActionsPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories"],setSelectedRepositoriesEnabledGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories"],setWorkflowAccessToRepository:["PUT /repos/{owner}/{repo}/actions/permissions/access"]},activity:{checkRepoIsStarredByAuthenticatedUser:["GET /user/starred/{owner}/{repo}"],deleteRepoSubscription:["DELETE /repos/{owner}/{repo}/subscription"],deleteThreadSubscription:["DELETE /notifications/threads/{thread_id}/subscription"],getFeeds:["GET /feeds"],getRepoSubscription:["GET /repos/{owner}/{repo}/subscription"],getThread:["GET /notifications/threads/{thread_id}"],getThreadSubscriptionForAuthenticatedUser:["GET /notifications/threads/{thread_id}/subscription"],listEventsForAuthenticatedUser:["GET /users/{username}/events"],listNotificationsForAuthenticatedUser:["GET /notifications"],listOrgEventsForAuthenticatedUser:["GET /users/{username}/events/orgs/{org}"],listPublicEvents:["GET /events"],listPublicEventsForRepoNetwork:["GET /networks/{owner}/{repo}/events"],listPublicEventsForUser:["GET /users/{username}/events/public"],listPublicOrgEvents:["GET /orgs/{org}/events"],listReceivedEventsForUser:["GET /users/{username}/received_events"],listReceivedPublicEventsForUser:["GET /users/{username}/received_events/public"],listRepoEvents:["GET /repos/{owner}/{repo}/events"],listRepoNotificationsForAuthenticatedUser:["GET /repos/{owner}/{repo}/notifications"],listReposStarredByAuthenticatedUser:["GET /user/starred"],listReposStarredByUser:["GET /users/{username}/starred"],listReposWatchedByUser:["GET /users/{username}/subscriptions"],listStargazersForRepo:["GET /repos/{owner}/{repo}/stargazers"],listWatchedReposForAuthenticatedUser:["GET /user/subscriptions"],listWatchersForRepo:["GET /repos/{owner}/{repo}/subscribers"],markNotificationsAsRead:["PUT /notifications"],markRepoNotificationsAsRead:["PUT /repos/{owner}/{repo}/notifications"],markThreadAsRead:["PATCH /notifications/threads/{thread_id}"],setRepoSubscription:["PUT /repos/{owner}/{repo}/subscription"],setThreadSubscription:["PUT /notifications/threads/{thread_id}/subscription"],starRepoForAuthenticatedUser:["PUT /user/starred/{owner}/{repo}"],unstarRepoForAuthenticatedUser:["DELETE /user/starred/{owner}/{repo}"]},apps:{addRepoToInstallation:["PUT /user/installations/{installation_id}/repositories/{repository_id}",{},{renamed:["apps","addRepoToInstallationForAuthenticatedUser"]}],addRepoToInstallationForAuthenticatedUser:["PUT /user/installations/{installation_id}/repositories/{repository_id}"],checkToken:["POST /applications/{client_id}/token"],createFromManifest:["POST /app-manifests/{code}/conversions"],createInstallationAccessToken:["POST /app/installations/{installation_id}/access_tokens"],deleteAuthorization:["DELETE /applications/{client_id}/grant"],deleteInstallation:["DELETE /app/installations/{installation_id}"],deleteToken:["DELETE /applications/{client_id}/token"],getAuthenticated:["GET /app"],getBySlug:["GET /apps/{app_slug}"],getInstallation:["GET /app/installations/{installation_id}"],getOrgInstallation:["GET /orgs/{org}/installation"],getRepoInstallation:["GET /repos/{owner}/{repo}/installation"],getSubscriptionPlanForAccount:["GET /marketplace_listing/accounts/{account_id}"],getSubscriptionPlanForAccountStubbed:["GET /marketplace_listing/stubbed/accounts/{account_id}"],getUserInstallation:["GET /users/{username}/installation"],getWebhookConfigForApp:["GET /app/hook/config"],getWebhookDelivery:["GET /app/hook/deliveries/{delivery_id}"],listAccountsForPlan:["GET /marketplace_listing/plans/{plan_id}/accounts"],listAccountsForPlanStubbed:["GET /marketplace_listing/stubbed/plans/{plan_id}/accounts"],listInstallationReposForAuthenticatedUser:["GET /user/installations/{installation_id}/repositories"],listInstallations:["GET /app/installations"],listInstallationsForAuthenticatedUser:["GET /user/installations"],listPlans:["GET /marketplace_listing/plans"],listPlansStubbed:["GET /marketplace_listing/stubbed/plans"],listReposAccessibleToInstallation:["GET /installation/repositories"],listSubscriptionsForAuthenticatedUser:["GET /user/marketplace_purchases"],listSubscriptionsForAuthenticatedUserStubbed:["GET /user/marketplace_purchases/stubbed"],listWebhookDeliveries:["GET /app/hook/deliveries"],redeliverWebhookDelivery:["POST /app/hook/deliveries/{delivery_id}/attempts"],removeRepoFromInstallation:["DELETE /user/installations/{installation_id}/repositories/{repository_id}",{},{renamed:["apps","removeRepoFromInstallationForAuthenticatedUser"]}],removeRepoFromInstallationForAuthenticatedUser:["DELETE /user/installations/{installation_id}/repositories/{repository_id}"],resetToken:["PATCH /applications/{client_id}/token"],revokeInstallationAccessToken:["DELETE /installation/token"],scopeToken:["POST /applications/{client_id}/token/scoped"],suspendInstallation:["PUT /app/installations/{installation_id}/suspended"],unsuspendInstallation:["DELETE /app/installations/{installation_id}/suspended"],updateWebhookConfigForApp:["PATCH /app/hook/config"]},billing:{getGithubActionsBillingOrg:["GET /orgs/{org}/settings/billing/actions"],getGithubActionsBillingUser:["GET /users/{username}/settings/billing/actions"],getGithubAdvancedSecurityBillingGhe:["GET /enterprises/{enterprise}/settings/billing/advanced-security"],getGithubAdvancedSecurityBillingOrg:["GET /orgs/{org}/settings/billing/advanced-security"],getGithubPackagesBillingOrg:["GET /orgs/{org}/settings/billing/packages"],getGithubPackagesBillingUser:["GET /users/{username}/settings/billing/packages"],getSharedStorageBillingOrg:["GET /orgs/{org}/settings/billing/shared-storage"],getSharedStorageBillingUser:["GET /users/{username}/settings/billing/shared-storage"]},checks:{create:["POST /repos/{owner}/{repo}/check-runs"],createSuite:["POST /repos/{owner}/{repo}/check-suites"],get:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}"],getSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}"],listAnnotations:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations"],listForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-runs"],listForSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs"],listSuitesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-suites"],rerequestRun:["POST /repos/{owner}/{repo}/check-runs/{check_run_id}/rerequest"],rerequestSuite:["POST /repos/{owner}/{repo}/check-suites/{check_suite_id}/rerequest"],setSuitesPreferences:["PATCH /repos/{owner}/{repo}/check-suites/preferences"],update:["PATCH /repos/{owner}/{repo}/check-runs/{check_run_id}"]},codeScanning:{deleteAnalysis:["DELETE /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}{?confirm_delete}"],getAlert:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}",{},{renamedParameters:{alert_id:"alert_number"}}],getAnalysis:["GET /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}"],getSarif:["GET /repos/{owner}/{repo}/code-scanning/sarifs/{sarif_id}"],listAlertInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances"],listAlertsForOrg:["GET /orgs/{org}/code-scanning/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/code-scanning/alerts"],listAlertsInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances",{},{renamed:["codeScanning","listAlertInstances"]}],listRecentAnalyses:["GET /repos/{owner}/{repo}/code-scanning/analyses"],updateAlert:["PATCH /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}"],uploadSarif:["POST /repos/{owner}/{repo}/code-scanning/sarifs"]},codesOfConduct:{getAllCodesOfConduct:["GET /codes_of_conduct"],getConductCode:["GET /codes_of_conduct/{key}"]},codespaces:{addRepositoryForSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}/repositories/{repository_id}"],codespaceMachinesForAuthenticatedUser:["GET /user/codespaces/{codespace_name}/machines"],createForAuthenticatedUser:["POST /user/codespaces"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],createOrUpdateSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}"],createWithPrForAuthenticatedUser:["POST /repos/{owner}/{repo}/pulls/{pull_number}/codespaces"],createWithRepoForAuthenticatedUser:["POST /repos/{owner}/{repo}/codespaces"],deleteForAuthenticatedUser:["DELETE /user/codespaces/{codespace_name}"],deleteFromOrganization:["DELETE /orgs/{org}/members/{username}/codespaces/{codespace_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],deleteSecretForAuthenticatedUser:["DELETE /user/codespaces/secrets/{secret_name}"],exportForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/exports"],getExportDetailsForAuthenticatedUser:["GET /user/codespaces/{codespace_name}/exports/{export_id}"],getForAuthenticatedUser:["GET /user/codespaces/{codespace_name}"],getPublicKeyForAuthenticatedUser:["GET /user/codespaces/secrets/public-key"],getRepoPublicKey:["GET /repos/{owner}/{repo}/codespaces/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],getSecretForAuthenticatedUser:["GET /user/codespaces/secrets/{secret_name}"],listDevcontainersInRepositoryForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/devcontainers"],listForAuthenticatedUser:["GET /user/codespaces"],listInOrganization:["GET /orgs/{org}/codespaces",{},{renamedParameters:{org_id:"org"}}],listInRepositoryForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces"],listRepoSecrets:["GET /repos/{owner}/{repo}/codespaces/secrets"],listRepositoriesForSecretForAuthenticatedUser:["GET /user/codespaces/secrets/{secret_name}/repositories"],listSecretsForAuthenticatedUser:["GET /user/codespaces/secrets"],removeRepositoryForSecretForAuthenticatedUser:["DELETE /user/codespaces/secrets/{secret_name}/repositories/{repository_id}"],repoMachinesForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/machines"],setRepositoriesForSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}/repositories"],startForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/start"],stopForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/stop"],stopInOrganization:["POST /orgs/{org}/members/{username}/codespaces/{codespace_name}/stop"],updateForAuthenticatedUser:["PATCH /user/codespaces/{codespace_name}"]},dependabot:{addSelectedRepoToOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}/repositories/{repository_id}"],createOrUpdateOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],deleteOrgSecret:["DELETE /orgs/{org}/dependabot/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],getOrgPublicKey:["GET /orgs/{org}/dependabot/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/dependabot/secrets/{secret_name}"],getRepoPublicKey:["GET /repos/{owner}/{repo}/dependabot/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],listOrgSecrets:["GET /orgs/{org}/dependabot/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/dependabot/secrets"],listSelectedReposForOrgSecret:["GET /orgs/{org}/dependabot/secrets/{secret_name}/repositories"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/dependabot/secrets/{secret_name}/repositories/{repository_id}"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}/repositories"]},dependencyGraph:{createRepositorySnapshot:["POST /repos/{owner}/{repo}/dependency-graph/snapshots"],diffRange:["GET /repos/{owner}/{repo}/dependency-graph/compare/{basehead}"]},emojis:{get:["GET /emojis"]},enterpriseAdmin:{addCustomLabelsToSelfHostedRunnerForEnterprise:["POST /enterprises/{enterprise}/actions/runners/{runner_id}/labels"],disableSelectedOrganizationGithubActionsEnterprise:["DELETE /enterprises/{enterprise}/actions/permissions/organizations/{org_id}"],enableSelectedOrganizationGithubActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/organizations/{org_id}"],getAllowedActionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/selected-actions"],getGithubActionsPermissionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions"],getServerStatistics:["GET /enterprise-installation/{enterprise_or_org}/server-statistics"],listLabelsForSelfHostedRunnerForEnterprise:["GET /enterprises/{enterprise}/actions/runners/{runner_id}/labels"],listSelectedOrganizationsEnabledGithubActionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/organizations"],removeAllCustomLabelsFromSelfHostedRunnerForEnterprise:["DELETE /enterprises/{enterprise}/actions/runners/{runner_id}/labels"],removeCustomLabelFromSelfHostedRunnerForEnterprise:["DELETE /enterprises/{enterprise}/actions/runners/{runner_id}/labels/{name}"],setAllowedActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/selected-actions"],setCustomLabelsForSelfHostedRunnerForEnterprise:["PUT /enterprises/{enterprise}/actions/runners/{runner_id}/labels"],setGithubActionsPermissionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions"],setSelectedOrganizationsEnabledGithubActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/organizations"]},gists:{checkIsStarred:["GET /gists/{gist_id}/star"],create:["POST /gists"],createComment:["POST /gists/{gist_id}/comments"],delete:["DELETE /gists/{gist_id}"],deleteComment:["DELETE /gists/{gist_id}/comments/{comment_id}"],fork:["POST /gists/{gist_id}/forks"],get:["GET /gists/{gist_id}"],getComment:["GET /gists/{gist_id}/comments/{comment_id}"],getRevision:["GET /gists/{gist_id}/{sha}"],list:["GET /gists"],listComments:["GET /gists/{gist_id}/comments"],listCommits:["GET /gists/{gist_id}/commits"],listForUser:["GET /users/{username}/gists"],listForks:["GET /gists/{gist_id}/forks"],listPublic:["GET /gists/public"],listStarred:["GET /gists/starred"],star:["PUT /gists/{gist_id}/star"],unstar:["DELETE /gists/{gist_id}/star"],update:["PATCH /gists/{gist_id}"],updateComment:["PATCH /gists/{gist_id}/comments/{comment_id}"]},git:{createBlob:["POST /repos/{owner}/{repo}/git/blobs"],createCommit:["POST /repos/{owner}/{repo}/git/commits"],createRef:["POST /repos/{owner}/{repo}/git/refs"],createTag:["POST /repos/{owner}/{repo}/git/tags"],createTree:["POST /repos/{owner}/{repo}/git/trees"],deleteRef:["DELETE /repos/{owner}/{repo}/git/refs/{ref}"],getBlob:["GET /repos/{owner}/{repo}/git/blobs/{file_sha}"],getCommit:["GET /repos/{owner}/{repo}/git/commits/{commit_sha}"],getRef:["GET /repos/{owner}/{repo}/git/ref/{ref}"],getTag:["GET /repos/{owner}/{repo}/git/tags/{tag_sha}"],getTree:["GET /repos/{owner}/{repo}/git/trees/{tree_sha}"],listMatchingRefs:["GET /repos/{owner}/{repo}/git/matching-refs/{ref}"],updateRef:["PATCH /repos/{owner}/{repo}/git/refs/{ref}"]},gitignore:{getAllTemplates:["GET /gitignore/templates"],getTemplate:["GET /gitignore/templates/{name}"]},interactions:{getRestrictionsForAuthenticatedUser:["GET /user/interaction-limits"],getRestrictionsForOrg:["GET /orgs/{org}/interaction-limits"],getRestrictionsForRepo:["GET /repos/{owner}/{repo}/interaction-limits"],getRestrictionsForYourPublicRepos:["GET /user/interaction-limits",{},{renamed:["interactions","getRestrictionsForAuthenticatedUser"]}],removeRestrictionsForAuthenticatedUser:["DELETE /user/interaction-limits"],removeRestrictionsForOrg:["DELETE /orgs/{org}/interaction-limits"],removeRestrictionsForRepo:["DELETE /repos/{owner}/{repo}/interaction-limits"],removeRestrictionsForYourPublicRepos:["DELETE /user/interaction-limits",{},{renamed:["interactions","removeRestrictionsForAuthenticatedUser"]}],setRestrictionsForAuthenticatedUser:["PUT /user/interaction-limits"],setRestrictionsForOrg:["PUT /orgs/{org}/interaction-limits"],setRestrictionsForRepo:["PUT /repos/{owner}/{repo}/interaction-limits"],setRestrictionsForYourPublicRepos:["PUT /user/interaction-limits",{},{renamed:["interactions","setRestrictionsForAuthenticatedUser"]}]},issues:{addAssignees:["POST /repos/{owner}/{repo}/issues/{issue_number}/assignees"],addLabels:["POST /repos/{owner}/{repo}/issues/{issue_number}/labels"],checkUserCanBeAssigned:["GET /repos/{owner}/{repo}/assignees/{assignee}"],create:["POST /repos/{owner}/{repo}/issues"],createComment:["POST /repos/{owner}/{repo}/issues/{issue_number}/comments"],createLabel:["POST /repos/{owner}/{repo}/labels"],createMilestone:["POST /repos/{owner}/{repo}/milestones"],deleteComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}"],deleteLabel:["DELETE /repos/{owner}/{repo}/labels/{name}"],deleteMilestone:["DELETE /repos/{owner}/{repo}/milestones/{milestone_number}"],get:["GET /repos/{owner}/{repo}/issues/{issue_number}"],getComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}"],getEvent:["GET /repos/{owner}/{repo}/issues/events/{event_id}"],getLabel:["GET /repos/{owner}/{repo}/labels/{name}"],getMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}"],list:["GET /issues"],listAssignees:["GET /repos/{owner}/{repo}/assignees"],listComments:["GET /repos/{owner}/{repo}/issues/{issue_number}/comments"],listCommentsForRepo:["GET /repos/{owner}/{repo}/issues/comments"],listEvents:["GET /repos/{owner}/{repo}/issues/{issue_number}/events"],listEventsForRepo:["GET /repos/{owner}/{repo}/issues/events"],listEventsForTimeline:["GET /repos/{owner}/{repo}/issues/{issue_number}/timeline"],listForAuthenticatedUser:["GET /user/issues"],listForOrg:["GET /orgs/{org}/issues"],listForRepo:["GET /repos/{owner}/{repo}/issues"],listLabelsForMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels"],listLabelsForRepo:["GET /repos/{owner}/{repo}/labels"],listLabelsOnIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/labels"],listMilestones:["GET /repos/{owner}/{repo}/milestones"],lock:["PUT /repos/{owner}/{repo}/issues/{issue_number}/lock"],removeAllLabels:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels"],removeAssignees:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/assignees"],removeLabel:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels/{name}"],setLabels:["PUT /repos/{owner}/{repo}/issues/{issue_number}/labels"],unlock:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/lock"],update:["PATCH /repos/{owner}/{repo}/issues/{issue_number}"],updateComment:["PATCH /repos/{owner}/{repo}/issues/comments/{comment_id}"],updateLabel:["PATCH /repos/{owner}/{repo}/labels/{name}"],updateMilestone:["PATCH /repos/{owner}/{repo}/milestones/{milestone_number}"]},licenses:{get:["GET /licenses/{license}"],getAllCommonlyUsed:["GET /licenses"],getForRepo:["GET /repos/{owner}/{repo}/license"]},markdown:{render:["POST /markdown"],renderRaw:["POST /markdown/raw",{headers:{"content-type":"text/plain; charset=utf-8"}}]},meta:{get:["GET /meta"],getOctocat:["GET /octocat"],getZen:["GET /zen"],root:["GET /"]},migrations:{cancelImport:["DELETE /repos/{owner}/{repo}/import"],deleteArchiveForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/archive"],deleteArchiveForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/archive"],downloadArchiveForOrg:["GET /orgs/{org}/migrations/{migration_id}/archive"],getArchiveForAuthenticatedUser:["GET /user/migrations/{migration_id}/archive"],getCommitAuthors:["GET /repos/{owner}/{repo}/import/authors"],getImportStatus:["GET /repos/{owner}/{repo}/import"],getLargeFiles:["GET /repos/{owner}/{repo}/import/large_files"],getStatusForAuthenticatedUser:["GET /user/migrations/{migration_id}"],getStatusForOrg:["GET /orgs/{org}/migrations/{migration_id}"],listForAuthenticatedUser:["GET /user/migrations"],listForOrg:["GET /orgs/{org}/migrations"],listReposForAuthenticatedUser:["GET /user/migrations/{migration_id}/repositories"],listReposForOrg:["GET /orgs/{org}/migrations/{migration_id}/repositories"],listReposForUser:["GET /user/migrations/{migration_id}/repositories",{},{renamed:["migrations","listReposForAuthenticatedUser"]}],mapCommitAuthor:["PATCH /repos/{owner}/{repo}/import/authors/{author_id}"],setLfsPreference:["PATCH /repos/{owner}/{repo}/import/lfs"],startForAuthenticatedUser:["POST /user/migrations"],startForOrg:["POST /orgs/{org}/migrations"],startImport:["PUT /repos/{owner}/{repo}/import"],unlockRepoForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/repos/{repo_name}/lock"],unlockRepoForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/repos/{repo_name}/lock"],updateImport:["PATCH /repos/{owner}/{repo}/import"]},orgs:{blockUser:["PUT /orgs/{org}/blocks/{username}"],cancelInvitation:["DELETE /orgs/{org}/invitations/{invitation_id}"],checkBlockedUser:["GET /orgs/{org}/blocks/{username}"],checkMembershipForUser:["GET /orgs/{org}/members/{username}"],checkPublicMembershipForUser:["GET /orgs/{org}/public_members/{username}"],convertMemberToOutsideCollaborator:["PUT /orgs/{org}/outside_collaborators/{username}"],createInvitation:["POST /orgs/{org}/invitations"],createWebhook:["POST /orgs/{org}/hooks"],deleteWebhook:["DELETE /orgs/{org}/hooks/{hook_id}"],get:["GET /orgs/{org}"],getMembershipForAuthenticatedUser:["GET /user/memberships/orgs/{org}"],getMembershipForUser:["GET /orgs/{org}/memberships/{username}"],getWebhook:["GET /orgs/{org}/hooks/{hook_id}"],getWebhookConfigForOrg:["GET /orgs/{org}/hooks/{hook_id}/config"],getWebhookDelivery:["GET /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}"],list:["GET /organizations"],listAppInstallations:["GET /orgs/{org}/installations"],listBlockedUsers:["GET /orgs/{org}/blocks"],listCustomRoles:["GET /organizations/{organization_id}/custom_roles"],listFailedInvitations:["GET /orgs/{org}/failed_invitations"],listForAuthenticatedUser:["GET /user/orgs"],listForUser:["GET /users/{username}/orgs"],listInvitationTeams:["GET /orgs/{org}/invitations/{invitation_id}/teams"],listMembers:["GET /orgs/{org}/members"],listMembershipsForAuthenticatedUser:["GET /user/memberships/orgs"],listOutsideCollaborators:["GET /orgs/{org}/outside_collaborators"],listPendingInvitations:["GET /orgs/{org}/invitations"],listPublicMembers:["GET /orgs/{org}/public_members"],listWebhookDeliveries:["GET /orgs/{org}/hooks/{hook_id}/deliveries"],listWebhooks:["GET /orgs/{org}/hooks"],pingWebhook:["POST /orgs/{org}/hooks/{hook_id}/pings"],redeliverWebhookDelivery:["POST /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}/attempts"],removeMember:["DELETE /orgs/{org}/members/{username}"],removeMembershipForUser:["DELETE /orgs/{org}/memberships/{username}"],removeOutsideCollaborator:["DELETE /orgs/{org}/outside_collaborators/{username}"],removePublicMembershipForAuthenticatedUser:["DELETE /orgs/{org}/public_members/{username}"],setMembershipForUser:["PUT /orgs/{org}/memberships/{username}"],setPublicMembershipForAuthenticatedUser:["PUT /orgs/{org}/public_members/{username}"],unblockUser:["DELETE /orgs/{org}/blocks/{username}"],update:["PATCH /orgs/{org}"],updateMembershipForAuthenticatedUser:["PATCH /user/memberships/orgs/{org}"],updateWebhook:["PATCH /orgs/{org}/hooks/{hook_id}"],updateWebhookConfigForOrg:["PATCH /orgs/{org}/hooks/{hook_id}/config"]},packages:{deletePackageForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}"],deletePackageForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}"],deletePackageForUser:["DELETE /users/{username}/packages/{package_type}/{package_name}"],deletePackageVersionForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForUser:["DELETE /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getAllPackageVersionsForAPackageOwnedByAnOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByOrg"]}],getAllPackageVersionsForAPackageOwnedByTheAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByAuthenticatedUser"]}],getAllPackageVersionsForPackageOwnedByAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions"],getPackageForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}"],getPackageForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}"],getPackageForUser:["GET /users/{username}/packages/{package_type}/{package_name}"],getPackageVersionForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],listPackagesForAuthenticatedUser:["GET /user/packages"],listPackagesForOrganization:["GET /orgs/{org}/packages"],listPackagesForUser:["GET /users/{username}/packages"],restorePackageForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForUser:["POST /users/{username}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageVersionForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForUser:["POST /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"]},projects:{addCollaborator:["PUT /projects/{project_id}/collaborators/{username}"],createCard:["POST /projects/columns/{column_id}/cards"],createColumn:["POST /projects/{project_id}/columns"],createForAuthenticatedUser:["POST /user/projects"],createForOrg:["POST /orgs/{org}/projects"],createForRepo:["POST /repos/{owner}/{repo}/projects"],delete:["DELETE /projects/{project_id}"],deleteCard:["DELETE /projects/columns/cards/{card_id}"],deleteColumn:["DELETE /projects/columns/{column_id}"],get:["GET /projects/{project_id}"],getCard:["GET /projects/columns/cards/{card_id}"],getColumn:["GET /projects/columns/{column_id}"],getPermissionForUser:["GET /projects/{project_id}/collaborators/{username}/permission"],listCards:["GET /projects/columns/{column_id}/cards"],listCollaborators:["GET /projects/{project_id}/collaborators"],listColumns:["GET /projects/{project_id}/columns"],listForOrg:["GET /orgs/{org}/projects"],listForRepo:["GET /repos/{owner}/{repo}/projects"],listForUser:["GET /users/{username}/projects"],moveCard:["POST /projects/columns/cards/{card_id}/moves"],moveColumn:["POST /projects/columns/{column_id}/moves"],removeCollaborator:["DELETE /projects/{project_id}/collaborators/{username}"],update:["PATCH /projects/{project_id}"],updateCard:["PATCH /projects/columns/cards/{card_id}"],updateColumn:["PATCH /projects/columns/{column_id}"]},pulls:{checkIfMerged:["GET /repos/{owner}/{repo}/pulls/{pull_number}/merge"],create:["POST /repos/{owner}/{repo}/pulls"],createReplyForReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments/{comment_id}/replies"],createReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],createReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments"],deletePendingReview:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],deleteReviewComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}"],dismissReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/dismissals"],get:["GET /repos/{owner}/{repo}/pulls/{pull_number}"],getReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],getReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}"],list:["GET /repos/{owner}/{repo}/pulls"],listCommentsForReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments"],listCommits:["GET /repos/{owner}/{repo}/pulls/{pull_number}/commits"],listFiles:["GET /repos/{owner}/{repo}/pulls/{pull_number}/files"],listRequestedReviewers:["GET /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],listReviewComments:["GET /repos/{owner}/{repo}/pulls/{pull_number}/comments"],listReviewCommentsForRepo:["GET /repos/{owner}/{repo}/pulls/comments"],listReviews:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],merge:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/merge"],removeRequestedReviewers:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],requestReviewers:["POST /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],submitReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/events"],update:["PATCH /repos/{owner}/{repo}/pulls/{pull_number}"],updateBranch:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/update-branch"],updateReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],updateReviewComment:["PATCH /repos/{owner}/{repo}/pulls/comments/{comment_id}"]},rateLimit:{get:["GET /rate_limit"]},reactions:{createForCommitComment:["POST /repos/{owner}/{repo}/comments/{comment_id}/reactions"],createForIssue:["POST /repos/{owner}/{repo}/issues/{issue_number}/reactions"],createForIssueComment:["POST /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions"],createForPullRequestReviewComment:["POST /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions"],createForRelease:["POST /repos/{owner}/{repo}/releases/{release_id}/reactions"],createForTeamDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions"],createForTeamDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions"],deleteForCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}/reactions/{reaction_id}"],deleteForIssue:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/reactions/{reaction_id}"],deleteForIssueComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions/{reaction_id}"],deleteForPullRequestComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions/{reaction_id}"],deleteForRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}/reactions/{reaction_id}"],deleteForTeamDiscussion:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions/{reaction_id}"],deleteForTeamDiscussionComment:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions/{reaction_id}"],listForCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}/reactions"],listForIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/reactions"],listForIssueComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions"],listForPullRequestReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions"],listForRelease:["GET /repos/{owner}/{repo}/releases/{release_id}/reactions"],listForTeamDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions"],listForTeamDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions"]},repos:{acceptInvitation:["PATCH /user/repository_invitations/{invitation_id}",{},{renamed:["repos","acceptInvitationForAuthenticatedUser"]}],acceptInvitationForAuthenticatedUser:["PATCH /user/repository_invitations/{invitation_id}"],addAppAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],addCollaborator:["PUT /repos/{owner}/{repo}/collaborators/{username}"],addStatusCheckContexts:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],addTeamAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],addUserAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],checkCollaborator:["GET /repos/{owner}/{repo}/collaborators/{username}"],checkVulnerabilityAlerts:["GET /repos/{owner}/{repo}/vulnerability-alerts"],codeownersErrors:["GET /repos/{owner}/{repo}/codeowners/errors"],compareCommits:["GET /repos/{owner}/{repo}/compare/{base}...{head}"],compareCommitsWithBasehead:["GET /repos/{owner}/{repo}/compare/{basehead}"],createAutolink:["POST /repos/{owner}/{repo}/autolinks"],createCommitComment:["POST /repos/{owner}/{repo}/commits/{commit_sha}/comments"],createCommitSignatureProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],createCommitStatus:["POST /repos/{owner}/{repo}/statuses/{sha}"],createDeployKey:["POST /repos/{owner}/{repo}/keys"],createDeployment:["POST /repos/{owner}/{repo}/deployments"],createDeploymentStatus:["POST /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],createDispatchEvent:["POST /repos/{owner}/{repo}/dispatches"],createForAuthenticatedUser:["POST /user/repos"],createFork:["POST /repos/{owner}/{repo}/forks"],createInOrg:["POST /orgs/{org}/repos"],createOrUpdateEnvironment:["PUT /repos/{owner}/{repo}/environments/{environment_name}"],createOrUpdateFileContents:["PUT /repos/{owner}/{repo}/contents/{path}"],createPagesSite:["POST /repos/{owner}/{repo}/pages"],createRelease:["POST /repos/{owner}/{repo}/releases"],createTagProtection:["POST /repos/{owner}/{repo}/tags/protection"],createUsingTemplate:["POST /repos/{template_owner}/{template_repo}/generate"],createWebhook:["POST /repos/{owner}/{repo}/hooks"],declineInvitation:["DELETE /user/repository_invitations/{invitation_id}",{},{renamed:["repos","declineInvitationForAuthenticatedUser"]}],declineInvitationForAuthenticatedUser:["DELETE /user/repository_invitations/{invitation_id}"],delete:["DELETE /repos/{owner}/{repo}"],deleteAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],deleteAdminBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],deleteAnEnvironment:["DELETE /repos/{owner}/{repo}/environments/{environment_name}"],deleteAutolink:["DELETE /repos/{owner}/{repo}/autolinks/{autolink_id}"],deleteBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection"],deleteCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}"],deleteCommitSignatureProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],deleteDeployKey:["DELETE /repos/{owner}/{repo}/keys/{key_id}"],deleteDeployment:["DELETE /repos/{owner}/{repo}/deployments/{deployment_id}"],deleteFile:["DELETE /repos/{owner}/{repo}/contents/{path}"],deleteInvitation:["DELETE /repos/{owner}/{repo}/invitations/{invitation_id}"],deletePagesSite:["DELETE /repos/{owner}/{repo}/pages"],deletePullRequestReviewProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],deleteRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}"],deleteReleaseAsset:["DELETE /repos/{owner}/{repo}/releases/assets/{asset_id}"],deleteTagProtection:["DELETE /repos/{owner}/{repo}/tags/protection/{tag_protection_id}"],deleteWebhook:["DELETE /repos/{owner}/{repo}/hooks/{hook_id}"],disableAutomatedSecurityFixes:["DELETE /repos/{owner}/{repo}/automated-security-fixes"],disableLfsForRepo:["DELETE /repos/{owner}/{repo}/lfs"],disableVulnerabilityAlerts:["DELETE /repos/{owner}/{repo}/vulnerability-alerts"],downloadArchive:["GET /repos/{owner}/{repo}/zipball/{ref}",{},{renamed:["repos","downloadZipballArchive"]}],downloadTarballArchive:["GET /repos/{owner}/{repo}/tarball/{ref}"],downloadZipballArchive:["GET /repos/{owner}/{repo}/zipball/{ref}"],enableAutomatedSecurityFixes:["PUT /repos/{owner}/{repo}/automated-security-fixes"],enableLfsForRepo:["PUT /repos/{owner}/{repo}/lfs"],enableVulnerabilityAlerts:["PUT /repos/{owner}/{repo}/vulnerability-alerts"],generateReleaseNotes:["POST /repos/{owner}/{repo}/releases/generate-notes"],get:["GET /repos/{owner}/{repo}"],getAccessRestrictions:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],getAdminBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],getAllEnvironments:["GET /repos/{owner}/{repo}/environments"],getAllStatusCheckContexts:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts"],getAllTopics:["GET /repos/{owner}/{repo}/topics"],getAppsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps"],getAutolink:["GET /repos/{owner}/{repo}/autolinks/{autolink_id}"],getBranch:["GET /repos/{owner}/{repo}/branches/{branch}"],getBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection"],getClones:["GET /repos/{owner}/{repo}/traffic/clones"],getCodeFrequencyStats:["GET /repos/{owner}/{repo}/stats/code_frequency"],getCollaboratorPermissionLevel:["GET /repos/{owner}/{repo}/collaborators/{username}/permission"],getCombinedStatusForRef:["GET /repos/{owner}/{repo}/commits/{ref}/status"],getCommit:["GET /repos/{owner}/{repo}/commits/{ref}"],getCommitActivityStats:["GET /repos/{owner}/{repo}/stats/commit_activity"],getCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}"],getCommitSignatureProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],getCommunityProfileMetrics:["GET /repos/{owner}/{repo}/community/profile"],getContent:["GET /repos/{owner}/{repo}/contents/{path}"],getContributorsStats:["GET /repos/{owner}/{repo}/stats/contributors"],getDeployKey:["GET /repos/{owner}/{repo}/keys/{key_id}"],getDeployment:["GET /repos/{owner}/{repo}/deployments/{deployment_id}"],getDeploymentStatus:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses/{status_id}"],getEnvironment:["GET /repos/{owner}/{repo}/environments/{environment_name}"],getLatestPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/latest"],getLatestRelease:["GET /repos/{owner}/{repo}/releases/latest"],getPages:["GET /repos/{owner}/{repo}/pages"],getPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/{build_id}"],getPagesHealthCheck:["GET /repos/{owner}/{repo}/pages/health"],getParticipationStats:["GET /repos/{owner}/{repo}/stats/participation"],getPullRequestReviewProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],getPunchCardStats:["GET /repos/{owner}/{repo}/stats/punch_card"],getReadme:["GET /repos/{owner}/{repo}/readme"],getReadmeInDirectory:["GET /repos/{owner}/{repo}/readme/{dir}"],getRelease:["GET /repos/{owner}/{repo}/releases/{release_id}"],getReleaseAsset:["GET /repos/{owner}/{repo}/releases/assets/{asset_id}"],getReleaseByTag:["GET /repos/{owner}/{repo}/releases/tags/{tag}"],getStatusChecksProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],getTeamsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams"],getTopPaths:["GET /repos/{owner}/{repo}/traffic/popular/paths"],getTopReferrers:["GET /repos/{owner}/{repo}/traffic/popular/referrers"],getUsersWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users"],getViews:["GET /repos/{owner}/{repo}/traffic/views"],getWebhook:["GET /repos/{owner}/{repo}/hooks/{hook_id}"],getWebhookConfigForRepo:["GET /repos/{owner}/{repo}/hooks/{hook_id}/config"],getWebhookDelivery:["GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}"],listAutolinks:["GET /repos/{owner}/{repo}/autolinks"],listBranches:["GET /repos/{owner}/{repo}/branches"],listBranchesForHeadCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/branches-where-head"],listCollaborators:["GET /repos/{owner}/{repo}/collaborators"],listCommentsForCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/comments"],listCommitCommentsForRepo:["GET /repos/{owner}/{repo}/comments"],listCommitStatusesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/statuses"],listCommits:["GET /repos/{owner}/{repo}/commits"],listContributors:["GET /repos/{owner}/{repo}/contributors"],listDeployKeys:["GET /repos/{owner}/{repo}/keys"],listDeploymentStatuses:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],listDeployments:["GET /repos/{owner}/{repo}/deployments"],listForAuthenticatedUser:["GET /user/repos"],listForOrg:["GET /orgs/{org}/repos"],listForUser:["GET /users/{username}/repos"],listForks:["GET /repos/{owner}/{repo}/forks"],listInvitations:["GET /repos/{owner}/{repo}/invitations"],listInvitationsForAuthenticatedUser:["GET /user/repository_invitations"],listLanguages:["GET /repos/{owner}/{repo}/languages"],listPagesBuilds:["GET /repos/{owner}/{repo}/pages/builds"],listPublic:["GET /repositories"],listPullRequestsAssociatedWithCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls"],listReleaseAssets:["GET /repos/{owner}/{repo}/releases/{release_id}/assets"],listReleases:["GET /repos/{owner}/{repo}/releases"],listTagProtection:["GET /repos/{owner}/{repo}/tags/protection"],listTags:["GET /repos/{owner}/{repo}/tags"],listTeams:["GET /repos/{owner}/{repo}/teams"],listWebhookDeliveries:["GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries"],listWebhooks:["GET /repos/{owner}/{repo}/hooks"],merge:["POST /repos/{owner}/{repo}/merges"],mergeUpstream:["POST /repos/{owner}/{repo}/merge-upstream"],pingWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/pings"],redeliverWebhookDelivery:["POST /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}/attempts"],removeAppAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],removeCollaborator:["DELETE /repos/{owner}/{repo}/collaborators/{username}"],removeStatusCheckContexts:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],removeStatusCheckProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],removeTeamAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],removeUserAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],renameBranch:["POST /repos/{owner}/{repo}/branches/{branch}/rename"],replaceAllTopics:["PUT /repos/{owner}/{repo}/topics"],requestPagesBuild:["POST /repos/{owner}/{repo}/pages/builds"],setAdminBranchProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],setAppAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],setStatusCheckContexts:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],setTeamAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],setUserAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],testPushWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/tests"],transfer:["POST /repos/{owner}/{repo}/transfer"],update:["PATCH /repos/{owner}/{repo}"],updateBranchProtection:["PUT /repos/{owner}/{repo}/branches/{branch}/protection"],updateCommitComment:["PATCH /repos/{owner}/{repo}/comments/{comment_id}"],updateInformationAboutPagesSite:["PUT /repos/{owner}/{repo}/pages"],updateInvitation:["PATCH /repos/{owner}/{repo}/invitations/{invitation_id}"],updatePullRequestReviewProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],updateRelease:["PATCH /repos/{owner}/{repo}/releases/{release_id}"],updateReleaseAsset:["PATCH /repos/{owner}/{repo}/releases/assets/{asset_id}"],updateStatusCheckPotection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks",{},{renamed:["repos","updateStatusCheckProtection"]}],updateStatusCheckProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],updateWebhook:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}"],updateWebhookConfigForRepo:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}/config"],uploadReleaseAsset:["POST /repos/{owner}/{repo}/releases/{release_id}/assets{?name,label}",{baseUrl:"https://uploads.github.com"}]},search:{code:["GET /search/code"],commits:["GET /search/commits"],issuesAndPullRequests:["GET /search/issues"],labels:["GET /search/labels"],repos:["GET /search/repositories"],topics:["GET /search/topics"],users:["GET /search/users"]},secretScanning:{getAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"],listAlertsForEnterprise:["GET /enterprises/{enterprise}/secret-scanning/alerts"],listAlertsForOrg:["GET /orgs/{org}/secret-scanning/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/secret-scanning/alerts"],listLocationsForAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}/locations"],updateAlert:["PATCH /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"]},teams:{addOrUpdateMembershipForUserInOrg:["PUT /orgs/{org}/teams/{team_slug}/memberships/{username}"],addOrUpdateProjectPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/projects/{project_id}"],addOrUpdateRepoPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],checkPermissionsForProjectInOrg:["GET /orgs/{org}/teams/{team_slug}/projects/{project_id}"],checkPermissionsForRepoInOrg:["GET /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],create:["POST /orgs/{org}/teams"],createDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],createDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions"],deleteDiscussionCommentInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],deleteDiscussionInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],deleteInOrg:["DELETE /orgs/{org}/teams/{team_slug}"],getByName:["GET /orgs/{org}/teams/{team_slug}"],getDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],getDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],getMembershipForUserInOrg:["GET /orgs/{org}/teams/{team_slug}/memberships/{username}"],list:["GET /orgs/{org}/teams"],listChildInOrg:["GET /orgs/{org}/teams/{team_slug}/teams"],listDiscussionCommentsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],listDiscussionsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions"],listForAuthenticatedUser:["GET /user/teams"],listMembersInOrg:["GET /orgs/{org}/teams/{team_slug}/members"],listPendingInvitationsInOrg:["GET /orgs/{org}/teams/{team_slug}/invitations"],listProjectsInOrg:["GET /orgs/{org}/teams/{team_slug}/projects"],listReposInOrg:["GET /orgs/{org}/teams/{team_slug}/repos"],removeMembershipForUserInOrg:["DELETE /orgs/{org}/teams/{team_slug}/memberships/{username}"],removeProjectInOrg:["DELETE /orgs/{org}/teams/{team_slug}/projects/{project_id}"],removeRepoInOrg:["DELETE /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],updateDiscussionCommentInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],updateDiscussionInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],updateInOrg:["PATCH /orgs/{org}/teams/{team_slug}"]},users:{addEmailForAuthenticated:["POST /user/emails",{},{renamed:["users","addEmailForAuthenticatedUser"]}],addEmailForAuthenticatedUser:["POST /user/emails"],block:["PUT /user/blocks/{username}"],checkBlocked:["GET /user/blocks/{username}"],checkFollowingForUser:["GET /users/{username}/following/{target_user}"],checkPersonIsFollowedByAuthenticated:["GET /user/following/{username}"],createGpgKeyForAuthenticated:["POST /user/gpg_keys",{},{renamed:["users","createGpgKeyForAuthenticatedUser"]}],createGpgKeyForAuthenticatedUser:["POST /user/gpg_keys"],createPublicSshKeyForAuthenticated:["POST /user/keys",{},{renamed:["users","createPublicSshKeyForAuthenticatedUser"]}],createPublicSshKeyForAuthenticatedUser:["POST /user/keys"],deleteEmailForAuthenticated:["DELETE /user/emails",{},{renamed:["users","deleteEmailForAuthenticatedUser"]}],deleteEmailForAuthenticatedUser:["DELETE /user/emails"],deleteGpgKeyForAuthenticated:["DELETE /user/gpg_keys/{gpg_key_id}",{},{renamed:["users","deleteGpgKeyForAuthenticatedUser"]}],deleteGpgKeyForAuthenticatedUser:["DELETE /user/gpg_keys/{gpg_key_id}"],deletePublicSshKeyForAuthenticated:["DELETE /user/keys/{key_id}",{},{renamed:["users","deletePublicSshKeyForAuthenticatedUser"]}],deletePublicSshKeyForAuthenticatedUser:["DELETE /user/keys/{key_id}"],follow:["PUT /user/following/{username}"],getAuthenticated:["GET /user"],getByUsername:["GET /users/{username}"],getContextForUser:["GET /users/{username}/hovercard"],getGpgKeyForAuthenticated:["GET /user/gpg_keys/{gpg_key_id}",{},{renamed:["users","getGpgKeyForAuthenticatedUser"]}],getGpgKeyForAuthenticatedUser:["GET /user/gpg_keys/{gpg_key_id}"],getPublicSshKeyForAuthenticated:["GET /user/keys/{key_id}",{},{renamed:["users","getPublicSshKeyForAuthenticatedUser"]}],getPublicSshKeyForAuthenticatedUser:["GET /user/keys/{key_id}"],list:["GET /users"],listBlockedByAuthenticated:["GET /user/blocks",{},{renamed:["users","listBlockedByAuthenticatedUser"]}],listBlockedByAuthenticatedUser:["GET /user/blocks"],listEmailsForAuthenticated:["GET /user/emails",{},{renamed:["users","listEmailsForAuthenticatedUser"]}],listEmailsForAuthenticatedUser:["GET /user/emails"],listFollowedByAuthenticated:["GET /user/following",{},{renamed:["users","listFollowedByAuthenticatedUser"]}],listFollowedByAuthenticatedUser:["GET /user/following"],listFollowersForAuthenticatedUser:["GET /user/followers"],listFollowersForUser:["GET /users/{username}/followers"],listFollowingForUser:["GET /users/{username}/following"],listGpgKeysForAuthenticated:["GET /user/gpg_keys",{},{renamed:["users","listGpgKeysForAuthenticatedUser"]}],listGpgKeysForAuthenticatedUser:["GET /user/gpg_keys"],listGpgKeysForUser:["GET /users/{username}/gpg_keys"],listPublicEmailsForAuthenticated:["GET /user/public_emails",{},{renamed:["users","listPublicEmailsForAuthenticatedUser"]}],listPublicEmailsForAuthenticatedUser:["GET /user/public_emails"],listPublicKeysForUser:["GET /users/{username}/keys"],listPublicSshKeysForAuthenticated:["GET /user/keys",{},{renamed:["users","listPublicSshKeysForAuthenticatedUser"]}],listPublicSshKeysForAuthenticatedUser:["GET /user/keys"],setPrimaryEmailVisibilityForAuthenticated:["PATCH /user/email/visibility",{},{renamed:["users","setPrimaryEmailVisibilityForAuthenticatedUser"]}],setPrimaryEmailVisibilityForAuthenticatedUser:["PATCH /user/email/visibility"],unblock:["DELETE /user/blocks/{username}"],unfollow:["DELETE /user/following/{username}"],updateAuthenticated:["PATCH /user"]}},mI="6.0.0";function gI(t,e){const n={};for(const[s,i]of Object.entries(e))for(const[r,o]of Object.entries(i)){const[a,l,c]=o,[u,d]=a.split(/ /),f=Object.assign({method:u,url:d},l);n[s]||(n[s]={});const h=n[s];if(c){h[r]=_I(t,s,r,f,c);continue}h[r]=t.request.defaults(f)}return n}function _I(t,e,n,s,i){const r=t.request.defaults(s);function o(...a){let l=r.endpoint.merge(...a);if(i.mapToData)return l=Object.assign({},l,{data:l[i.mapToData],[i.mapToData]:void 0}),r(l);if(i.renamed){const[c,u]=i.renamed;t.log.warn(`octokit.${e}.${n}() has been renamed to octokit.${c}.${u}()`)}if(i.deprecated&&t.log.warn(i.deprecated),i.renamedParameters){const c=r.endpoint.merge(...a);for(const[u,d]of Object.entries(i.renamedParameters))u in c&&(t.log.warn(`"${u}" parameter is deprecated for "octokit.${e}.${n}()". Use "${d}" instead`),d in c||(c[d]=c[u]),delete c[u]);return r(c)}return r(...a)}return Object.assign(o,r)}function uM(t){const e=gI(t,pI);return{...e,rest:e}}uM.VERSION=mI;const yI="19.0.3",bI=ub.plugin(oM,uM,cM).defaults({userAgent:`octokit-rest.js/${yI}`});var oo={exports:{}};const vI="2.0.0",wI=256,xI=Number.MAX_SAFE_INTEGER||9007199254740991,SI=16;var wp={SEMVER_SPEC_VERSION:vI,MAX_LENGTH:wI,MAX_SAFE_INTEGER:xI,MAX_SAFE_COMPONENT_LENGTH:SI};const EI=typeof process=="object"&&{}&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var xp=EI;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n}=wp,s=xp;e=t.exports={};const i=e.re=[],r=e.src=[],o=e.t={};let a=0;const l=(c,u,d)=>{const f=a++;s(c,f,u),o[c]=f,r[f]=u,i[f]=new RegExp(u,d?"g":void 0)};l("NUMERICIDENTIFIER","0|[1-9]\\d*"),l("NUMERICIDENTIFIERLOOSE","[0-9]+"),l("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),l("MAINVERSION",`(${r[o.NUMERICIDENTIFIER]})\\.(${r[o.NUMERICIDENTIFIER]})\\.(${r[o.NUMERICIDENTIFIER]})`),l("MAINVERSIONLOOSE",`(${r[o.NUMERICIDENTIFIERLOOSE]})\\.(${r[o.NUMERICIDENTIFIERLOOSE]})\\.(${r[o.NUMERICIDENTIFIERLOOSE]})`),l("PRERELEASEIDENTIFIER",`(?:${r[o.NUMERICIDENTIFIER]}|${r[o.NONNUMERICIDENTIFIER]})`),l("PRERELEASEIDENTIFIERLOOSE",`(?:${r[o.NUMERICIDENTIFIERLOOSE]}|${r[o.NONNUMERICIDENTIFIER]})`),l("PRERELEASE",`(?:-(${r[o.PRERELEASEIDENTIFIER]}(?:\\.${r[o.PRERELEASEIDENTIFIER]})*))`),l("PRERELEASELOOSE",`(?:-?(${r[o.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${r[o.PRERELEASEIDENTIFIERLOOSE]})*))`),l("BUILDIDENTIFIER","[0-9A-Za-z-]+"),l("BUILD",`(?:\\+(${r[o.BUILDIDENTIFIER]}(?:\\.${r[o.BUILDIDENTIFIER]})*))`),l("FULLPLAIN",`v?${r[o.MAINVERSION]}${r[o.PRERELEASE]}?${r[o.BUILD]}?`),l("FULL",`^${r[o.FULLPLAIN]}$`),l("LOOSEPLAIN",`[v=\\s]*${r[o.MAINVERSIONLOOSE]}${r[o.PRERELEASELOOSE]}?${r[o.BUILD]}?`),l("LOOSE",`^${r[o.LOOSEPLAIN]}$`),l("GTLT","((?:<|>)?=?)"),l("XRANGEIDENTIFIERLOOSE",`${r[o.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),l("XRANGEIDENTIFIER",`${r[o.NUMERICIDENTIFIER]}|x|X|\\*`),l("XRANGEPLAIN",`[v=\\s]*(${r[o.XRANGEIDENTIFIER]})(?:\\.(${r[o.XRANGEIDENTIFIER]})(?:\\.(${r[o.XRANGEIDENTIFIER]})(?:${r[o.PRERELEASE]})?${r[o.BUILD]}?)?)?`),l("XRANGEPLAINLOOSE",`[v=\\s]*(${r[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${r[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${r[o.XRANGEIDENTIFIERLOOSE]})(?:${r[o.PRERELEASELOOSE]})?${r[o.BUILD]}?)?)?`),l("XRANGE",`^${r[o.GTLT]}\\s*${r[o.XRANGEPLAIN]}$`),l("XRANGELOOSE",`^${r[o.GTLT]}\\s*${r[o.XRANGEPLAINLOOSE]}$`),l("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),l("COERCERTL",r[o.COERCE],!0),l("LONETILDE","(?:~>?)"),l("TILDETRIM",`(\\s*)${r[o.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",l("TILDE",`^${r[o.LONETILDE]}${r[o.XRANGEPLAIN]}$`),l("TILDELOOSE",`^${r[o.LONETILDE]}${r[o.XRANGEPLAINLOOSE]}$`),l("LONECARET","(?:\\^)"),l("CARETTRIM",`(\\s*)${r[o.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",l("CARET",`^${r[o.LONECARET]}${r[o.XRANGEPLAIN]}$`),l("CARETLOOSE",`^${r[o.LONECARET]}${r[o.XRANGEPLAINLOOSE]}$`),l("COMPARATORLOOSE",`^${r[o.GTLT]}\\s*(${r[o.LOOSEPLAIN]})$|^$`),l("COMPARATOR",`^${r[o.GTLT]}\\s*(${r[o.FULLPLAIN]})$|^$`),l("COMPARATORTRIM",`(\\s*)${r[o.GTLT]}\\s*(${r[o.LOOSEPLAIN]}|${r[o.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",l("HYPHENRANGE",`^\\s*(${r[o.XRANGEPLAIN]})\\s+-\\s+(${r[o.XRANGEPLAIN]})\\s*$`),l("HYPHENRANGELOOSE",`^\\s*(${r[o.XRANGEPLAINLOOSE]})\\s+-\\s+(${r[o.XRANGEPLAINLOOSE]})\\s*$`),l("STAR","(<|>)?=?\\s*\\*"),l("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),l("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(oo,oo.exports);const TI=["includePrerelease","loose","rtl"],MI=t=>t?typeof t!="object"?{loose:!0}:TI.filter(e=>t[e]).reduce((e,n)=>(e[n]=!0,e),{}):{};var Sp=MI;const iw=/^[0-9]+$/,dM=(t,e)=>{const n=iw.test(t),s=iw.test(e);return n&&s&&(t=+t,e=+e),t===e?0:n&&!s?-1:s&&!n?1:t<e?-1:1},AI=(t,e)=>dM(e,t);var E_={compareIdentifiers:dM,rcompareIdentifiers:AI};const Gd=xp,{MAX_LENGTH:rw,MAX_SAFE_INTEGER:Vd}=wp,{re:ow,t:aw}=oo.exports,CI=Sp,{compareIdentifiers:Ra}=E_;class Bs{constructor(e,n){if(n=CI(n),e instanceof Bs){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>rw)throw new TypeError(`version is longer than ${rw} characters`);Gd("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const s=e.trim().match(n.loose?ow[aw.LOOSE]:ow[aw.FULL]);if(!s)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>Vd||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Vd||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Vd||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const r=+i;if(r>=0&&r<Vd)return r}return i}):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Gd("SemVer.compare",this.version,this.options,e),!(e instanceof Bs)){if(typeof e=="string"&&e===this.version)return 0;e=new Bs(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Bs||(e=new Bs(e,this.options)),Ra(this.major,e.major)||Ra(this.minor,e.minor)||Ra(this.patch,e.patch)}comparePre(e){if(e instanceof Bs||(e=new Bs(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{const s=this.prerelease[n],i=e.prerelease[n];if(Gd("prerelease compare",n,s,i),s===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(s===void 0)return-1;if(s===i)continue;return Ra(s,i)}while(++n)}compareBuild(e){e instanceof Bs||(e=new Bs(e,this.options));let n=0;do{const s=this.build[n],i=e.build[n];if(Gd("prerelease compare",n,s,i),s===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(s===void 0)return-1;if(s===i)continue;return Ra(s,i)}while(++n)}inc(e,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n),this.inc("pre",n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n),this.inc("pre",n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);s===-1&&this.prerelease.push(0)}n&&(Ra(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=[n,0]):this.prerelease=[n,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}var qn=Bs;const{MAX_LENGTH:RI}=wp,{re:lw,t:cw}=oo.exports,uw=qn,PI=Sp,kI=(t,e)=>{if(e=PI(e),t instanceof uw)return t;if(typeof t!="string"||t.length>RI||!(e.loose?lw[cw.LOOSE]:lw[cw.FULL]).test(t))return null;try{return new uw(t,e)}catch{return null}};var rc=kI;const OI=rc,LI=(t,e)=>{const n=OI(t,e);return n?n.version:null};var II=LI;const DI=rc,NI=(t,e)=>{const n=DI(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null};var FI=NI;const dw=qn,$I=(t,e,n,s)=>{typeof n=="string"&&(s=n,n=void 0);try{return new dw(t instanceof dw?t.version:t,n).inc(e,s).version}catch{return null}};var UI=$I;const fw=qn,BI=(t,e,n)=>new fw(t,n).compare(new fw(e,n));var ri=BI;const zI=ri,GI=(t,e,n)=>zI(t,e,n)===0;var fb=GI;const hw=rc,VI=fb,HI=(t,e)=>{if(VI(t,e))return null;{const n=hw(t),s=hw(e),i=n.prerelease.length||s.prerelease.length,r=i?"pre":"",o=i?"prerelease":"";for(const a in n)if((a==="major"||a==="minor"||a==="patch")&&n[a]!==s[a])return r+a;return o}};var WI=HI;const jI=qn,YI=(t,e)=>new jI(t,e).major;var qI=YI;const KI=qn,XI=(t,e)=>new KI(t,e).minor;var ZI=XI;const JI=qn,QI=(t,e)=>new JI(t,e).patch;var eD=QI;const tD=rc,nD=(t,e)=>{const n=tD(t,e);return n&&n.prerelease.length?n.prerelease:null};var sD=nD;const iD=ri,rD=(t,e,n)=>iD(e,t,n);var oD=rD;const aD=ri,lD=(t,e)=>aD(t,e,!0);var cD=lD;const pw=qn,uD=(t,e,n)=>{const s=new pw(t,n),i=new pw(e,n);return s.compare(i)||s.compareBuild(i)};var hb=uD;const dD=hb,fD=(t,e)=>t.sort((n,s)=>dD(n,s,e));var hD=fD;const pD=hb,mD=(t,e)=>t.sort((n,s)=>pD(s,n,e));var gD=mD;const _D=ri,yD=(t,e,n)=>_D(t,e,n)>0;var Ep=yD;const bD=ri,vD=(t,e,n)=>bD(t,e,n)<0;var pb=vD;const wD=ri,xD=(t,e,n)=>wD(t,e,n)!==0;var fM=xD;const SD=ri,ED=(t,e,n)=>SD(t,e,n)>=0;var mb=ED;const TD=ri,MD=(t,e,n)=>TD(t,e,n)<=0;var gb=MD;const AD=fb,CD=fM,RD=Ep,PD=mb,kD=pb,OD=gb,LD=(t,e,n,s)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return AD(t,n,s);case"!=":return CD(t,n,s);case">":return RD(t,n,s);case">=":return PD(t,n,s);case"<":return kD(t,n,s);case"<=":return OD(t,n,s);default:throw new TypeError(`Invalid operator: ${e}`)}};var hM=LD;const ID=qn,DD=rc,{re:Hd,t:Wd}=oo.exports,ND=(t,e)=>{if(t instanceof ID)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(Hd[Wd.COERCE]);else{let s;for(;(s=Hd[Wd.COERCERTL].exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||s.index+s[0].length!==n.index+n[0].length)&&(n=s),Hd[Wd.COERCERTL].lastIndex=s.index+s[1].length+s[2].length;Hd[Wd.COERCERTL].lastIndex=-1}return n===null?null:DD(`${n[2]}.${n[3]||"0"}.${n[4]||"0"}`,e)};var FD=ND,$D=St;St.Node=ra;St.create=St;function St(t){var e=this;if(e instanceof St||(e=new St),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var n=0,s=arguments.length;n<s;n++)e.push(arguments[n]);return e}St.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,n=t.prev;return e&&(e.prev=n),n&&(n.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=n),t.list.length--,t.next=null,t.prev=null,t.list=null,e};St.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};St.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};St.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)BD(this,arguments[t]);return this.length};St.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)zD(this,arguments[t]);return this.length};St.prototype.pop=function(){if(!!this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};St.prototype.shift=function(){if(!!this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};St.prototype.forEach=function(t,e){e=e||this;for(var n=this.head,s=0;n!==null;s++)t.call(e,n.value,s,this),n=n.next};St.prototype.forEachReverse=function(t,e){e=e||this;for(var n=this.tail,s=this.length-1;n!==null;s--)t.call(e,n.value,s,this),n=n.prev};St.prototype.get=function(t){for(var e=0,n=this.head;n!==null&&e<t;e++)n=n.next;if(e===t&&n!==null)return n.value};St.prototype.getReverse=function(t){for(var e=0,n=this.tail;n!==null&&e<t;e++)n=n.prev;if(e===t&&n!==null)return n.value};St.prototype.map=function(t,e){e=e||this;for(var n=new St,s=this.head;s!==null;)n.push(t.call(e,s.value,this)),s=s.next;return n};St.prototype.mapReverse=function(t,e){e=e||this;for(var n=new St,s=this.tail;s!==null;)n.push(t.call(e,s.value,this)),s=s.prev;return n};St.prototype.reduce=function(t,e){var n,s=this.head;if(arguments.length>1)n=e;else if(this.head)s=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;s!==null;i++)n=t(n,s.value,i),s=s.next;return n};St.prototype.reduceReverse=function(t,e){var n,s=this.tail;if(arguments.length>1)n=e;else if(this.tail)s=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;s!==null;i--)n=t(n,s.value,i),s=s.prev;return n};St.prototype.toArray=function(){for(var t=new Array(this.length),e=0,n=this.head;n!==null;e++)t[e]=n.value,n=n.next;return t};St.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,n=this.tail;n!==null;e++)t[e]=n.value,n=n.prev;return t};St.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var n=new St;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var s=0,i=this.head;i!==null&&s<t;s++)i=i.next;for(;i!==null&&s<e;s++,i=i.next)n.push(i.value);return n};St.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var n=new St;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var s=this.length,i=this.tail;i!==null&&s>e;s--)i=i.prev;for(;i!==null&&s>t;s--,i=i.prev)n.push(i.value);return n};St.prototype.splice=function(t,e,...n){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var s=0,i=this.head;i!==null&&s<t;s++)i=i.next;for(var r=[],s=0;i&&s<e;s++)r.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var s=0;s<n.length;s++)i=UD(this,i,n[s]);return r};St.prototype.reverse=function(){for(var t=this.head,e=this.tail,n=t;n!==null;n=n.prev){var s=n.prev;n.prev=n.next,n.next=s}return this.head=e,this.tail=t,this};function UD(t,e,n){var s=e===t.head?new ra(n,null,e,t):new ra(n,e,e.next,t);return s.next===null&&(t.tail=s),s.prev===null&&(t.head=s),t.length++,s}function BD(t,e){t.tail=new ra(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function zD(t,e){t.head=new ra(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function ra(t,e,n,s){if(!(this instanceof ra))return new ra(t,e,n,s);this.list=s,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{require("./iterator.js")(St)}catch{}const GD=$D,Do=Symbol("max"),Zi=Symbol("length"),Pa=Symbol("lengthCalculator"),du=Symbol("allowStale"),$o=Symbol("maxAge"),ji=Symbol("dispose"),mw=Symbol("noDisposeOnSet"),_n=Symbol("lruList"),zs=Symbol("cache"),pM=Symbol("updateAgeOnGet"),Om=()=>1;class VD{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[Do]=e.max||1/0;const n=e.length||Om;if(this[Pa]=typeof n!="function"?Om:n,this[du]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[$o]=e.maxAge||0,this[ji]=e.dispose,this[mw]=e.noDisposeOnSet||!1,this[pM]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Do]=e||1/0,Pc(this)}get max(){return this[Do]}set allowStale(e){this[du]=!!e}get allowStale(){return this[du]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[$o]=e,Pc(this)}get maxAge(){return this[$o]}set lengthCalculator(e){typeof e!="function"&&(e=Om),e!==this[Pa]&&(this[Pa]=e,this[Zi]=0,this[_n].forEach(n=>{n.length=this[Pa](n.value,n.key),this[Zi]+=n.length})),Pc(this)}get lengthCalculator(){return this[Pa]}get length(){return this[Zi]}get itemCount(){return this[_n].length}rforEach(e,n){n=n||this;for(let s=this[_n].tail;s!==null;){const i=s.prev;gw(this,e,s,n),s=i}}forEach(e,n){n=n||this;for(let s=this[_n].head;s!==null;){const i=s.next;gw(this,e,s,n),s=i}}keys(){return this[_n].toArray().map(e=>e.key)}values(){return this[_n].toArray().map(e=>e.value)}reset(){this[ji]&&this[_n]&&this[_n].length&&this[_n].forEach(e=>this[ji](e.key,e.value)),this[zs]=new Map,this[_n]=new GD,this[Zi]=0}dump(){return this[_n].map(e=>bh(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[_n]}set(e,n,s){if(s=s||this[$o],s&&typeof s!="number")throw new TypeError("maxAge must be a number");const i=s?Date.now():0,r=this[Pa](n,e);if(this[zs].has(e)){if(r>this[Do])return vl(this,this[zs].get(e)),!1;const l=this[zs].get(e).value;return this[ji]&&(this[mw]||this[ji](e,l.value)),l.now=i,l.maxAge=s,l.value=n,this[Zi]+=r-l.length,l.length=r,this.get(e),Pc(this),!0}const o=new HD(e,n,r,i,s);return o.length>this[Do]?(this[ji]&&this[ji](e,n),!1):(this[Zi]+=o.length,this[_n].unshift(o),this[zs].set(e,this[_n].head),Pc(this),!0)}has(e){if(!this[zs].has(e))return!1;const n=this[zs].get(e).value;return!bh(this,n)}get(e){return Lm(this,e,!0)}peek(e){return Lm(this,e,!1)}pop(){const e=this[_n].tail;return e?(vl(this,e),e.value):null}del(e){vl(this,this[zs].get(e))}load(e){this.reset();const n=Date.now();for(let s=e.length-1;s>=0;s--){const i=e[s],r=i.e||0;if(r===0)this.set(i.k,i.v);else{const o=r-n;o>0&&this.set(i.k,i.v,o)}}}prune(){this[zs].forEach((e,n)=>Lm(this,n,!1))}}const Lm=(t,e,n)=>{const s=t[zs].get(e);if(s){const i=s.value;if(bh(t,i)){if(vl(t,s),!t[du])return}else n&&(t[pM]&&(s.value.now=Date.now()),t[_n].unshiftNode(s));return i.value}},bh=(t,e)=>{if(!e||!e.maxAge&&!t[$o])return!1;const n=Date.now()-e.now;return e.maxAge?n>e.maxAge:t[$o]&&n>t[$o]},Pc=t=>{if(t[Zi]>t[Do])for(let e=t[_n].tail;t[Zi]>t[Do]&&e!==null;){const n=e.prev;vl(t,e),e=n}},vl=(t,e)=>{if(e){const n=e.value;t[ji]&&t[ji](n.key,n.value),t[Zi]-=n.length,t[zs].delete(n.key),t[_n].removeNode(e)}};class HD{constructor(e,n,s,i,r){this.key=e,this.value=n,this.length=s,this.now=i,this.maxAge=r||0}}const gw=(t,e,n,s)=>{let i=n.value;bh(t,i)&&(vl(t,n),t[du]||(i=void 0)),i&&e.call(s,i.value,i.key,t)};var WD=VD;class fu{constructor(e,n){if(n=YD(n),e instanceof fu)return e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease?e:new fu(e.raw,n);if(e instanceof T_)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=e,this.set=e.split("||").map(s=>this.parseRange(s.trim())).filter(s=>s.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){const s=this.set[0];if(this.set=this.set.filter(i=>!yw(i[0])),this.set.length===0)this.set=[s];else if(this.set.length>1){for(const i of this.set)if(i.length===1&&JD(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();const s=`parseRange:${Object.keys(this.options).join(",")}:${e}`,i=_w.get(s);if(i)return i;const r=this.options.loose,o=r?es[zn.HYPHENRANGELOOSE]:es[zn.HYPHENRANGE];e=e.replace(o,l3(this.options.includePrerelease)),Jt("hyphen replace",e),e=e.replace(es[zn.COMPARATORTRIM],KD),Jt("comparator trim",e),e=e.replace(es[zn.TILDETRIM],XD),e=e.replace(es[zn.CARETTRIM],ZD),e=e.split(/\s+/).join(" ");let a=e.split(" ").map(d=>QD(d,this.options)).join(" ").split(/\s+/).map(d=>a3(d,this.options));r&&(a=a.filter(d=>(Jt("loose invalid filter",d,this.options),!!d.match(es[zn.COMPARATORLOOSE])))),Jt("range list",a);const l=new Map,c=a.map(d=>new T_(d,this.options));for(const d of c){if(yw(d))return[d];l.set(d.value,d)}l.size>1&&l.has("")&&l.delete("");const u=[...l.values()];return _w.set(s,u),u}intersects(e,n){if(!(e instanceof fu))throw new TypeError("a Range is required");return this.set.some(s=>bw(s,n)&&e.set.some(i=>bw(i,n)&&s.every(r=>i.every(o=>r.intersects(o,n)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new qD(e,this.options)}catch{return!1}for(let n=0;n<this.set.length;n++)if(c3(this.set[n],e,this.options))return!0;return!1}}var oi=fu;const jD=WD,_w=new jD({max:1e3}),YD=Sp,T_=Tp,Jt=xp,qD=qn,{re:es,t:zn,comparatorTrimReplace:KD,tildeTrimReplace:XD,caretTrimReplace:ZD}=oo.exports,yw=t=>t.value==="<0.0.0-0",JD=t=>t.value==="",bw=(t,e)=>{let n=!0;const s=t.slice();let i=s.pop();for(;n&&s.length;)n=s.every(r=>i.intersects(r,e)),i=s.pop();return n},QD=(t,e)=>(Jt("comp",t,e),t=n3(t,e),Jt("caret",t),t=e3(t,e),Jt("tildes",t),t=i3(t,e),Jt("xrange",t),t=o3(t,e),Jt("stars",t),t),Gn=t=>!t||t.toLowerCase()==="x"||t==="*",e3=(t,e)=>t.trim().split(/\s+/).map(n=>t3(n,e)).join(" "),t3=(t,e)=>{const n=e.loose?es[zn.TILDELOOSE]:es[zn.TILDE];return t.replace(n,(s,i,r,o,a)=>{Jt("tilde",t,s,i,r,o,a);let l;return Gn(i)?l="":Gn(r)?l=`>=${i}.0.0 <${+i+1}.0.0-0`:Gn(o)?l=`>=${i}.${r}.0 <${i}.${+r+1}.0-0`:a?(Jt("replaceTilde pr",a),l=`>=${i}.${r}.${o}-${a} <${i}.${+r+1}.0-0`):l=`>=${i}.${r}.${o} <${i}.${+r+1}.0-0`,Jt("tilde return",l),l})},n3=(t,e)=>t.trim().split(/\s+/).map(n=>s3(n,e)).join(" "),s3=(t,e)=>{Jt("caret",t,e);const n=e.loose?es[zn.CARETLOOSE]:es[zn.CARET],s=e.includePrerelease?"-0":"";return t.replace(n,(i,r,o,a,l)=>{Jt("caret",t,i,r,o,a,l);let c;return Gn(r)?c="":Gn(o)?c=`>=${r}.0.0${s} <${+r+1}.0.0-0`:Gn(a)?r==="0"?c=`>=${r}.${o}.0${s} <${r}.${+o+1}.0-0`:c=`>=${r}.${o}.0${s} <${+r+1}.0.0-0`:l?(Jt("replaceCaret pr",l),r==="0"?o==="0"?c=`>=${r}.${o}.${a}-${l} <${r}.${o}.${+a+1}-0`:c=`>=${r}.${o}.${a}-${l} <${r}.${+o+1}.0-0`:c=`>=${r}.${o}.${a}-${l} <${+r+1}.0.0-0`):(Jt("no pr"),r==="0"?o==="0"?c=`>=${r}.${o}.${a}${s} <${r}.${o}.${+a+1}-0`:c=`>=${r}.${o}.${a}${s} <${r}.${+o+1}.0-0`:c=`>=${r}.${o}.${a} <${+r+1}.0.0-0`),Jt("caret return",c),c})},i3=(t,e)=>(Jt("replaceXRanges",t,e),t.split(/\s+/).map(n=>r3(n,e)).join(" ")),r3=(t,e)=>{t=t.trim();const n=e.loose?es[zn.XRANGELOOSE]:es[zn.XRANGE];return t.replace(n,(s,i,r,o,a,l)=>{Jt("xRange",t,s,i,r,o,a,l);const c=Gn(r),u=c||Gn(o),d=u||Gn(a),f=d;return i==="="&&f&&(i=""),l=e.includePrerelease?"-0":"",c?i===">"||i==="<"?s="<0.0.0-0":s="*":i&&f?(u&&(o=0),a=0,i===">"?(i=">=",u?(r=+r+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",u?r=+r+1:o=+o+1),i==="<"&&(l="-0"),s=`${i+r}.${o}.${a}${l}`):u?s=`>=${r}.0.0${l} <${+r+1}.0.0-0`:d&&(s=`>=${r}.${o}.0${l} <${r}.${+o+1}.0-0`),Jt("xRange return",s),s})},o3=(t,e)=>(Jt("replaceStars",t,e),t.trim().replace(es[zn.STAR],"")),a3=(t,e)=>(Jt("replaceGTE0",t,e),t.trim().replace(es[e.includePrerelease?zn.GTE0PRE:zn.GTE0],"")),l3=t=>(e,n,s,i,r,o,a,l,c,u,d,f,h)=>(Gn(s)?n="":Gn(i)?n=`>=${s}.0.0${t?"-0":""}`:Gn(r)?n=`>=${s}.${i}.0${t?"-0":""}`:o?n=`>=${n}`:n=`>=${n}${t?"-0":""}`,Gn(c)?l="":Gn(u)?l=`<${+c+1}.0.0-0`:Gn(d)?l=`<${c}.${+u+1}.0-0`:f?l=`<=${c}.${u}.${d}-${f}`:t?l=`<${c}.${u}.${+d+1}-0`:l=`<=${l}`,`${n} ${l}`.trim()),c3=(t,e,n)=>{for(let s=0;s<t.length;s++)if(!t[s].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(let s=0;s<t.length;s++)if(Jt(t[s].semver),t[s].semver!==T_.ANY&&t[s].semver.prerelease.length>0){const i=t[s].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0},kc=Symbol("SemVer ANY");class vh{static get ANY(){return kc}constructor(e,n){if(n=u3(n),e instanceof vh){if(e.loose===!!n.loose)return e;e=e.value}Dm("comparator",e,n),this.options=n,this.loose=!!n.loose,this.parse(e),this.semver===kc?this.value="":this.value=this.operator+this.semver.version,Dm("comp",this)}parse(e){const n=this.options.loose?vw[ww.COMPARATORLOOSE]:vw[ww.COMPARATOR],s=e.match(n);if(!s)throw new TypeError(`Invalid comparator: ${e}`);this.operator=s[1]!==void 0?s[1]:"",this.operator==="="&&(this.operator=""),s[2]?this.semver=new xw(s[2],this.options.loose):this.semver=kc}toString(){return this.value}test(e){if(Dm("Comparator.test",e,this.options.loose),this.semver===kc||e===kc)return!0;if(typeof e=="string")try{e=new xw(e,this.options)}catch{return!1}return Im(e,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof vh))throw new TypeError("a Comparator is required");if((!n||typeof n!="object")&&(n={loose:!!n,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new Sw(e.value,n).test(this.value);if(e.operator==="")return e.value===""?!0:new Sw(this.value,n).test(e.semver);const s=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),r=this.semver.version===e.semver.version,o=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),a=Im(this.semver,"<",e.semver,n)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),l=Im(this.semver,">",e.semver,n)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return s||i||r&&o||a||l}}var Tp=vh;const u3=Sp,{re:vw,t:ww}=oo.exports,Im=hM,Dm=xp,xw=qn,Sw=oi,d3=oi,f3=(t,e,n)=>{try{e=new d3(e,n)}catch{return!1}return e.test(t)};var Mp=f3;const h3=oi,p3=(t,e)=>new h3(t,e).set.map(n=>n.map(s=>s.value).join(" ").trim().split(" "));var m3=p3;const g3=qn,_3=oi,y3=(t,e,n)=>{let s=null,i=null,r=null;try{r=new _3(e,n)}catch{return null}return t.forEach(o=>{r.test(o)&&(!s||i.compare(o)===-1)&&(s=o,i=new g3(s,n))}),s};var b3=y3;const v3=qn,w3=oi,x3=(t,e,n)=>{let s=null,i=null,r=null;try{r=new w3(e,n)}catch{return null}return t.forEach(o=>{r.test(o)&&(!s||i.compare(o)===1)&&(s=o,i=new v3(s,n))}),s};var S3=x3;const Nm=qn,E3=oi,Ew=Ep,T3=(t,e)=>{t=new E3(t,e);let n=new Nm("0.0.0");if(t.test(n)||(n=new Nm("0.0.0-0"),t.test(n)))return n;n=null;for(let s=0;s<t.set.length;++s){const i=t.set[s];let r=null;i.forEach(o=>{const a=new Nm(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!r||Ew(a,r))&&(r=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),r&&(!n||Ew(n,r))&&(n=r)}return n&&t.test(n)?n:null};var M3=T3;const A3=oi,C3=(t,e)=>{try{return new A3(t,e).range||"*"}catch{return null}};var R3=C3;const P3=qn,mM=Tp,{ANY:k3}=mM,O3=oi,L3=Mp,Tw=Ep,Mw=pb,I3=gb,D3=mb,N3=(t,e,n,s)=>{t=new P3(t,s),e=new O3(e,s);let i,r,o,a,l;switch(n){case">":i=Tw,r=I3,o=Mw,a=">",l=">=";break;case"<":i=Mw,r=D3,o=Tw,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(L3(t,e,s))return!1;for(let c=0;c<e.set.length;++c){const u=e.set[c];let d=null,f=null;if(u.forEach(h=>{h.semver===k3&&(h=new mM(">=0.0.0")),d=d||h,f=f||h,i(h.semver,d.semver,s)?d=h:o(h.semver,f.semver,s)&&(f=h)}),d.operator===a||d.operator===l||(!f.operator||f.operator===a)&&r(t,f.semver))return!1;if(f.operator===l&&o(t,f.semver))return!1}return!0};var _b=N3;const F3=_b,$3=(t,e,n)=>F3(t,e,">",n);var U3=$3;const B3=_b,z3=(t,e,n)=>B3(t,e,"<",n);var G3=z3;const Aw=oi,V3=(t,e,n)=>(t=new Aw(t,n),e=new Aw(e,n),t.intersects(e));var H3=V3;const W3=Mp,j3=ri;var Y3=(t,e,n)=>{const s=[];let i=null,r=null;const o=t.sort((u,d)=>j3(u,d,n));for(const u of o)W3(u,e,n)?(r=u,i||(i=u)):(r&&s.push([i,r]),r=null,i=null);i&&s.push([i,null]);const a=[];for(const[u,d]of s)u===d?a.push(u):!d&&u===o[0]?a.push("*"):d?u===o[0]?a.push(`<=${d}`):a.push(`${u} - ${d}`):a.push(`>=${u}`);const l=a.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return l.length<c.length?l:e};const Cw=oi,Vf=Tp,{ANY:Fm}=Vf,Oc=Mp,yb=ri,q3=(t,e,n={})=>{if(t===e)return!0;t=new Cw(t,n),e=new Cw(e,n);let s=!1;e:for(const i of t.set){for(const r of e.set){const o=K3(i,r,n);if(s=s||o!==null,o)continue e}if(s)return!1}return!0},K3=(t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Fm){if(e.length===1&&e[0].semver===Fm)return!0;n.includePrerelease?t=[new Vf(">=0.0.0-0")]:t=[new Vf(">=0.0.0")]}if(e.length===1&&e[0].semver===Fm){if(n.includePrerelease)return!0;e=[new Vf(">=0.0.0")]}const s=new Set;let i,r;for(const h of t)h.operator===">"||h.operator===">="?i=Rw(i,h,n):h.operator==="<"||h.operator==="<="?r=Pw(r,h,n):s.add(h.semver);if(s.size>1)return null;let o;if(i&&r){if(o=yb(i.semver,r.semver,n),o>0)return null;if(o===0&&(i.operator!==">="||r.operator!=="<="))return null}for(const h of s){if(i&&!Oc(h,String(i),n)||r&&!Oc(h,String(r),n))return null;for(const _ of e)if(!Oc(h,String(_),n))return!1;return!0}let a,l,c,u,d=r&&!n.includePrerelease&&r.semver.prerelease.length?r.semver:!1,f=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&r.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(const h of e){if(u=u||h.operator===">"||h.operator===">=",c=c||h.operator==="<"||h.operator==="<=",i){if(f&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===f.major&&h.semver.minor===f.minor&&h.semver.patch===f.patch&&(f=!1),h.operator===">"||h.operator===">="){if(a=Rw(i,h,n),a===h&&a!==i)return!1}else if(i.operator===">="&&!Oc(i.semver,String(h),n))return!1}if(r){if(d&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===d.major&&h.semver.minor===d.minor&&h.semver.patch===d.patch&&(d=!1),h.operator==="<"||h.operator==="<="){if(l=Pw(r,h,n),l===h&&l!==r)return!1}else if(r.operator==="<="&&!Oc(r.semver,String(h),n))return!1}if(!h.operator&&(r||i)&&o!==0)return!1}return!(i&&c&&!r&&o!==0||r&&u&&!i&&o!==0||f||d)},Rw=(t,e,n)=>{if(!t)return e;const s=yb(t.semver,e.semver,n);return s>0?t:s<0||e.operator===">"&&t.operator===">="?e:t},Pw=(t,e,n)=>{if(!t)return e;const s=yb(t.semver,e.semver,n);return s<0?t:s>0||e.operator==="<"&&t.operator==="<="?e:t};var X3=q3;const $m=oo.exports;var ur={re:$m.re,src:$m.src,tokens:$m.t,SEMVER_SPEC_VERSION:wp.SEMVER_SPEC_VERSION,SemVer:qn,compareIdentifiers:E_.compareIdentifiers,rcompareIdentifiers:E_.rcompareIdentifiers,parse:rc,valid:II,clean:FI,inc:UI,diff:WI,major:qI,minor:ZI,patch:eD,prerelease:sD,compare:ri,rcompare:oD,compareLoose:cD,compareBuild:hb,sort:hD,rsort:gD,gt:Ep,lt:pb,eq:fb,neq:fM,gte:mb,lte:gb,cmp:hM,coerce:FD,Comparator:Tp,Range:oi,satisfies:Mp,toComparators:m3,maxSatisfying:b3,minSatisfying:S3,minVersion:M3,validRange:R3,outside:_b,gtr:U3,ltr:G3,intersects:H3,simplifyRange:Y3,subset:X3};const Z3={owner:"BossHobby",repo:"QUICKSILVER"},J3={owner:"BossHobby",repo:"Configurator"},Q3="https://cors.bubblesort.me/?";class eN{constructor(){it(this,"octokit",new bI)}async fetchReleases(){const n=(await this.octokit.rest.repos.listReleases(Z3)).data.filter(i=>i.assets.length>0),s={};for(const i of n)s[i.tag_name]=i.assets;return s}findNewVersion(e,n){for(const s of e)if(ur.gt(s,n))return s;return null}async checkForUpdate(e){const s=(await this.octokit.rest.repos.listReleases(J3)).data.filter(o=>o.assets.length>0&&ur.valid(o.tag_name)),i=s.map(o=>o.tag_name),r=this.findNewVersion(i,e);return r?s.find(o=>o.tag_name==r):null}fetchAsset(e){const n=[["Origin","http://localhost"],["X-Requested-With","XMLHttpRequest"]],s=`${Q3}${e.browser_download_url}`;return fetch(s,{headers:n})}}const bb=new eN;function tN(){const t=nw.require("fs"),e=nw.require("os"),n=nw.require("path"),s=nw.require("child_process").spawn,{https:i}=nw.require("follow-redirects"),r=nw.require("extract-zip");class o{constructor(){it(this,"preparing",!1)}updatePreparing(){return this.preparing}updatePending(){return nw==null?void 0:nw.App.argv.includes("--finish-update")}async checkForUpdate(l,c){if((nw==null?void 0:nw.App)===void 0)return!1;c(await bb.checkForUpdate(l))}async update(l){if((nw==null?void 0:nw.App)===void 0)return;this.preparing=!0;const u=`quic-config-${ur.clean(l.tag_name)}-${e.platform()}-x64.zip`,d=l.assets.find(y=>y.name=u),f=n.join(e.tmpdir(),u);await this.download(d.browser_download_url,f);const h=await t.promises.mkdtemp(n.join(e.tmpdir(),"quic-config-"));await r(f,{dir:h});const _=n.join(h,"quic-config"),g=await t.promises.mkdtemp(n.join(e.tmpdir(),"quic-config-user-data-")),m=n.resolve(n.dirname(process.execPath));await t.promises.chmod(_,493),this.spawnConfig(_,["--user-data-dir="+g,"--finish-update",f,m]),nw.App.quit()}async finishUpdate(){if(!this.updatePending())return;const l=nw==null?void 0:nw.App.argv.indexOf("--finish-update"),c=nw==null?void 0:nw.App.argv[l+1],u=nw==null?void 0:nw.App.argv[l+2];await r(c,{dir:u});const d=n.join(u,"quic-config");await t.promises.chmod(d,493),this.spawnConfig(d,[]),nw.App.quit()}download(l,c){return new Promise((u,d)=>{const f=t.createWriteStream(c);i.get(l,{},h=>{const{statusCode:_}=h;if(_!==200){h.resume(),d(new Error("status != 200"));return}h.pipe(f).on("finish",()=>u())}).on("error",h=>d(h))})}spawnConfig(l,c){const u=s(l,c,{detached:!0,stdio:["ignore"]});u.on("error",d=>{console.error("Failed to start subprocess.",d)}),u.unref()}}return new o}function nN(){class t{constructor(){it(this,"hasUpdate",!1);it(this,"updateSW");it(this,"updateCallback")}updatePreparing(){return!1}updatePending(){return!1}async checkForUpdate(n,s){if(this.updateCallback=s,!this.updateSW)try{const i=this,{registerSW:r}=await uL(()=>import("./virtual_pwa-register.e0f3f6de.js"),[]);this.updateSW=r({immediate:!0,onOfflineReady(){console.log("PWA offline ready")},onNeedRefresh(){i.hasUpdate=!0,i.updateCallback&&i.updateCallback(i.hasUpdate)},onRegistered(o){},onRegisterError(o){}})}catch{console.log("PWA disabled")}}async update(n){this.hasUpdate&&(this.hasUpdate=!1,this.updateSW&&this.updateSW(!0))}async finishUpdate(){}}return new t}function sN(){try{if(nw!=null&&nw.App)throw new Error("new.App undefined");return console.log("Registering NW updater"),tN()}catch{return console.log("Registering PWA updater"),nN()}}const Uo=sN();/*!
  * vue-router v4.1.2
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const il=typeof window!="undefined";function iN(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Dt=Object.assign;function Um(t,e){const n={};for(const s in e){const i=e[s];n[s]=ni(i)?i.map(t):t(i)}return n}const hu=()=>{},ni=Array.isArray,rN=/\/$/,oN=t=>t.replace(rN,"");function Bm(t,e,n="/"){let s,i={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),i=t(r)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=uN(s!=null?s:e,n),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:o}}function aN(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function kw(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function lN(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&Dl(e.matched[s],n.matched[i])&&gM(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Dl(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function gM(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!cN(t[n],e[n]))return!1;return!0}function cN(t,e){return ni(t)?Ow(t,e):ni(e)?Ow(e,t):t===e}function Ow(t,e){return ni(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function uN(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/");let i=n.length-1,r,o;for(r=0;r<s.length;r++)if(o=s[r],o!==".")if(o==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(r-(r===s.length?1:0)).join("/")}var zu;(function(t){t.pop="pop",t.push="push"})(zu||(zu={}));var pu;(function(t){t.back="back",t.forward="forward",t.unknown=""})(pu||(pu={}));function dN(t){if(!t)if(il){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),oN(t)}const fN=/^[^#]+#/;function hN(t,e){return t.replace(fN,"#")+e}function pN(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Ap=()=>({left:window.pageXOffset,top:window.pageYOffset});function mN(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=pN(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Lw(t,e){return(history.state?history.state.position-e:-1)+t}const M_=new Map;function gN(t,e){M_.set(t,e)}function _N(t){const e=M_.get(t);return M_.delete(t),e}let yN=()=>location.protocol+"//"+location.host;function _M(t,e){const{pathname:n,search:s,hash:i}=e,r=t.indexOf("#");if(r>-1){let a=i.includes(t.slice(r))?t.slice(r).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),kw(l,"")}return kw(n,t)+s+i}function bN(t,e,n,s){let i=[],r=[],o=null;const a=({state:f})=>{const h=_M(t,location),_=n.value,g=e.value;let m=0;if(f){if(n.value=h,e.value=f,o&&o===_){o=null;return}m=g?f.position-g.position:0}else s(h);i.forEach(y=>{y(n.value,_,{delta:m,type:zu.pop,direction:m?m>0?pu.forward:pu.back:pu.unknown})})};function l(){o=n.value}function c(f){i.push(f);const h=()=>{const _=i.indexOf(f);_>-1&&i.splice(_,1)};return r.push(h),h}function u(){const{history:f}=window;!f.state||f.replaceState(Dt({},f.state,{scroll:Ap()}),"")}function d(){for(const f of r)f();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:l,listen:c,destroy:d}}function Iw(t,e,n,s=!1,i=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:i?Ap():null}}function vN(t){const{history:e,location:n}=window,s={value:_M(t,n)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:yN()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),i.value=c}catch(h){console.error(h),n[u?"replace":"assign"](f)}}function o(l,c){const u=Dt({},e.state,Iw(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});r(l,u,!0),s.value=l}function a(l,c){const u=Dt({},i.value,e.state,{forward:l,scroll:Ap()});r(u.current,u,!0);const d=Dt({},Iw(s.value,l,null),{position:u.position+1},c);r(l,d,!1),s.value=l}return{location:s,state:i,push:a,replace:o}}function wN(t){t=dN(t);const e=vN(t),n=bN(t,e.state,e.location,e.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=Dt({location:"",base:t,go:s,createHref:hN.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function xN(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),wN(t)}function SN(t){return typeof t=="string"||t&&typeof t=="object"}function yM(t){return typeof t=="string"||typeof t=="symbol"}const Sr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},bM=Symbol("");var Dw;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Dw||(Dw={}));function Nl(t,e){return Dt(new Error,{type:t,[bM]:!0},e)}function Er(t,e){return t instanceof Error&&bM in t&&(e==null||!!(t.type&e))}const Nw="[^/]+?",EN={sensitive:!1,strict:!1,start:!0,end:!0},TN=/[.+*?^${}()[\]/\\]/g;function MN(t,e){const n=Dt({},EN,e),s=[];let i=n.start?"^":"";const r=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let d=0;d<c.length;d++){const f=c[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(i+="/"),i+=f.value.replace(TN,"\\$&"),h+=40;else if(f.type===1){const{value:_,repeatable:g,optional:m,regexp:y}=f;r.push({name:_,repeatable:g,optional:m});const b=y||Nw;if(b!==Nw){h+=10;try{new RegExp(`(${b})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${_}" (${b}): `+x.message)}}let S=g?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;d||(S=m&&c.length<2?`(?:/${S})`:"/"+S),m&&(S+="?"),i+=S,h+=20,m&&(h+=-8),g&&(h+=-20),b===".*"&&(h+=-50)}u.push(h)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let f=1;f<u.length;f++){const h=u[f]||"",_=r[f-1];d[_.name]=h&&_.repeatable?h.split("/"):h}return d}function l(c){let u="",d=!1;for(const f of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const h of f)if(h.type===0)u+=h.value;else if(h.type===1){const{value:_,repeatable:g,optional:m}=h,y=_ in c?c[_]:"";if(ni(y)&&!g)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const b=ni(y)?y.join("/"):y;if(!b)if(m)f.length<2&&t.length>1&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${_}"`);u+=b}}return u}return{re:o,score:s,keys:r,parse:a,stringify:l}}function AN(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function CN(t,e){let n=0;const s=t.score,i=e.score;for(;n<s.length&&n<i.length;){const r=AN(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(Fw(s))return 1;if(Fw(i))return-1}return i.length-s.length}function Fw(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const RN={type:0,value:""},PN=/[a-zA-Z0-9_]/;function kN(t){if(!t)return[[]];if(t==="/")return[[RN]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,l,c="",u="";function d(){!c||(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),n=1):f();break;case 4:f(),n=s;break;case 1:l==="("?n=2:PN.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),i}function ON(t,e,n){const s=MN(kN(t.path),n),i=Dt(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function LN(t,e){const n=[],s=new Map;e=Uw({strict:!1,end:!0,sensitive:!1},e);function i(u){return s.get(u)}function r(u,d,f){const h=!f,_=DN(u);_.aliasOf=f&&f.record;const g=Uw(e,u),m=[_];if("alias"in u){const S=typeof u.alias=="string"?[u.alias]:u.alias;for(const x of S)m.push(Dt({},_,{components:f?f.record.components:_.components,path:x,aliasOf:f?f.record:_}))}let y,b;for(const S of m){const{path:x}=S;if(d&&x[0]!=="/"){const v=d.record.path,E=v[v.length-1]==="/"?"":"/";S.path=d.record.path+(x&&E+x)}if(y=ON(S,d,g),f?f.alias.push(y):(b=b||y,b!==y&&b.alias.push(y),h&&u.name&&!$w(y)&&o(u.name)),_.children){const v=_.children;for(let E=0;E<v.length;E++)r(v[E],y,f&&f.children[E])}f=f||y,l(y)}return b?()=>{o(b)}:hu}function o(u){if(yM(u)){const d=s.get(u);d&&(s.delete(u),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(u);d>-1&&(n.splice(d,1),u.record.name&&s.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let d=0;for(;d<n.length&&CN(u,n[d])>=0&&(u.record.path!==n[d].record.path||!vM(u,n[d]));)d++;n.splice(d,0,u),u.record.name&&!$w(u)&&s.set(u.record.name,u)}function c(u,d){let f,h={},_,g;if("name"in u&&u.name){if(f=s.get(u.name),!f)throw Nl(1,{location:u});g=f.record.name,h=Dt(IN(d.params,f.keys.filter(b=>!b.optional).map(b=>b.name)),u.params),_=f.stringify(h)}else if("path"in u)_=u.path,f=n.find(b=>b.re.test(_)),f&&(h=f.parse(_),g=f.record.name);else{if(f=d.name?s.get(d.name):n.find(b=>b.re.test(d.path)),!f)throw Nl(1,{location:u,currentLocation:d});g=f.record.name,h=Dt({},d.params,u.params),_=f.stringify(h)}const m=[];let y=f;for(;y;)m.unshift(y.record),y=y.parent;return{name:g,path:_,params:h,matched:m,meta:FN(m)}}return t.forEach(u=>r(u)),{addRoute:r,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function IN(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function DN(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:NN(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function NN(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="boolean"?n:n[s];return e}function $w(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function FN(t){return t.reduce((e,n)=>Dt(e,n.meta),{})}function Uw(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function vM(t,e){return e.children.some(n=>n===t||vM(t,n))}const wM=/#/g,$N=/&/g,UN=/\//g,BN=/=/g,zN=/\?/g,xM=/\+/g,GN=/%5B/g,VN=/%5D/g,SM=/%5E/g,HN=/%60/g,EM=/%7B/g,WN=/%7C/g,TM=/%7D/g,jN=/%20/g;function vb(t){return encodeURI(""+t).replace(WN,"|").replace(GN,"[").replace(VN,"]")}function YN(t){return vb(t).replace(EM,"{").replace(TM,"}").replace(SM,"^")}function A_(t){return vb(t).replace(xM,"%2B").replace(jN,"+").replace(wM,"%23").replace($N,"%26").replace(HN,"`").replace(EM,"{").replace(TM,"}").replace(SM,"^")}function qN(t){return A_(t).replace(BN,"%3D")}function KN(t){return vb(t).replace(wM,"%23").replace(zN,"%3F")}function XN(t){return t==null?"":KN(t).replace(UN,"%2F")}function wh(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function ZN(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(xM," "),o=r.indexOf("="),a=wh(o<0?r:r.slice(0,o)),l=o<0?null:wh(r.slice(o+1));if(a in e){let c=e[a];ni(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function Bw(t){let e="";for(let n in t){const s=t[n];if(n=qN(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(ni(s)?s.map(r=>r&&A_(r)):[s&&A_(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function JN(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=ni(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const QN=Symbol(""),zw=Symbol(""),wb=Symbol(""),MM=Symbol(""),C_=Symbol("");function Lc(){let t=[];function e(s){return t.push(s),()=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function Ur(t,e,n,s,i){const r=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((o,a)=>{const l=d=>{d===!1?a(Nl(4,{from:n,to:e})):d instanceof Error?a(d):SN(d)?a(Nl(2,{from:e,to:d})):(r&&s.enterCallbacks[i]===r&&typeof d=="function"&&r.push(d),o())},c=t.call(s&&s.instances[i],e,n,l);let u=Promise.resolve(c);t.length<3&&(u=u.then(l)),u.catch(d=>a(d))})}function zm(t,e,n,s){const i=[];for(const r of t)for(const o in r.components){let a=r.components[o];if(!(e!=="beforeRouteEnter"&&!r.instances[o]))if(eF(a)){const c=(a.__vccOpts||a)[e];c&&i.push(Ur(c,n,s,r,o))}else{let l=a();i.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${r.path}"`));const u=iN(c)?c.default:c;r.components[o]=u;const f=(u.__vccOpts||u)[e];return f&&Ur(f,n,s,r,o)()}))}}return i}function eF(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Gw(t){const e=rr(wb),n=rr(MM),s=Ft(()=>e.resolve(bl(t.to))),i=Ft(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const f=d.findIndex(Dl.bind(null,u));if(f>-1)return f;const h=Vw(l[c-2]);return c>1&&Vw(u)===h&&d[d.length-1].path!==h?d.findIndex(Dl.bind(null,l[c-2])):f}),r=Ft(()=>i.value>-1&&sF(n.params,s.value.params)),o=Ft(()=>i.value>-1&&i.value===n.matched.length-1&&gM(n.params,s.value.params));function a(l={}){return nF(l)?e[bl(t.replace)?"replace":"push"](bl(t.to)).catch(hu):Promise.resolve()}return{route:s,href:Ft(()=>s.value.href),isActive:r,isExactActive:o,navigate:a}}const tF=Ve({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Gw,setup(t,{slots:e}){const n=nc(Gw(t)),{options:s}=rr(wb),i=Ft(()=>({[Hw(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Hw(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&e.default(n);return t.custom?r:sa("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),AM=tF;function nF(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function sF(t,e){for(const n in e){const s=e[n],i=t[n];if(typeof s=="string"){if(s!==i)return!1}else if(!ni(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function Vw(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Hw=(t,e,n)=>t!=null?t:e!=null?e:n,iF=Ve({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=rr(C_),i=Ft(()=>t.route||s.value),r=rr(zw,0),o=Ft(()=>{let c=bl(r);const{matched:u}=i.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=Ft(()=>i.value.matched[o.value]);Uf(zw,Ft(()=>o.value+1)),Uf(QN,a),Uf(C_,i);const l=ap();return Qr(()=>[l.value,a.value,t.name],([c,u,d],[f,h,_])=>{u&&(u.instances[d]=c,h&&h!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!Dl(u,h)||!f)&&(u.enterCallbacks[d]||[]).forEach(g=>g(c))},{flush:"post"}),()=>{const c=i.value,u=a.value,d=u&&u.components[t.name],f=t.name;if(!d)return Ww(n.default,{Component:d,route:c});const h=u.props[t.name],_=h?h===!0?c.params:typeof h=="function"?h(c):h:null,m=sa(d,Dt({},_,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(u.instances[f]=null)},ref:l}));return Ww(n.default,{Component:m,route:c})||m}}});function Ww(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const CM=iF;function rF(t){const e=LN(t.routes,t),n=t.parseQuery||ZN,s=t.stringifyQuery||Bw,i=t.history,r=Lc(),o=Lc(),a=Lc(),l=tT(Sr);let c=Sr;il&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Um.bind(null,F=>""+F),d=Um.bind(null,XN),f=Um.bind(null,wh);function h(F,I){let le,re;return yM(F)?(le=e.getRecordMatcher(F),re=I):re=F,e.addRoute(re,le)}function _(F){const I=e.getRecordMatcher(F);I&&e.removeRoute(I)}function g(){return e.getRoutes().map(F=>F.record)}function m(F){return!!e.getRecordMatcher(F)}function y(F,I){if(I=Dt({},I||l.value),typeof F=="string"){const Se=Bm(n,F,I.path),R=e.resolve({path:Se.path},I),D=i.createHref(Se.fullPath);return Dt(Se,R,{params:f(R.params),hash:wh(Se.hash),redirectedFrom:void 0,href:D})}let le;if("path"in F)le=Dt({},F,{path:Bm(n,F.path,I.path).path});else{const Se=Dt({},F.params);for(const R in Se)Se[R]==null&&delete Se[R];le=Dt({},F,{params:d(F.params)}),I.params=d(I.params)}const re=e.resolve(le,I),ge=F.hash||"";re.params=u(f(re.params));const ue=aN(s,Dt({},F,{hash:YN(ge),path:re.path})),Me=i.createHref(ue);return Dt({fullPath:ue,hash:ge,query:s===Bw?JN(F.query):F.query||{}},re,{redirectedFrom:void 0,href:Me})}function b(F){return typeof F=="string"?Bm(n,F,l.value.path):Dt({},F)}function S(F,I){if(c!==F)return Nl(8,{from:I,to:F})}function x(F){return A(F)}function v(F){return x(Dt(b(F),{replace:!0}))}function E(F){const I=F.matched[F.matched.length-1];if(I&&I.redirect){const{redirect:le}=I;let re=typeof le=="function"?le(F):le;return typeof re=="string"&&(re=re.includes("?")||re.includes("#")?re=b(re):{path:re},re.params={}),Dt({query:F.query,hash:F.hash,params:"path"in re?{}:F.params},re)}}function A(F,I){const le=c=y(F),re=l.value,ge=F.state,ue=F.force,Me=F.replace===!0,Se=E(le);if(Se)return A(Dt(b(Se),{state:ge,force:ue,replace:Me}),I||le);const R=le;R.redirectedFrom=I;let D;return!ue&&lN(s,re,le)&&(D=Nl(16,{to:R,from:re}),oe(re,re,!0,!1)),(D?Promise.resolve(D):C(R,re)).catch(K=>Er(K)?Er(K,2)?K:X(K):te(K,R,re)).then(K=>{if(K){if(Er(K,2))return A(Dt(b(K.to),{state:ge,force:ue,replace:Me}),I||R)}else K=O(R,re,!0,Me,ge);return N(R,re,K),K})}function w(F,I){const le=S(F,I);return le?Promise.reject(le):Promise.resolve()}function C(F,I){let le;const[re,ge,ue]=oF(F,I);le=zm(re.reverse(),"beforeRouteLeave",F,I);for(const Se of re)Se.leaveGuards.forEach(R=>{le.push(Ur(R,F,I))});const Me=w.bind(null,F,I);return le.push(Me),ka(le).then(()=>{le=[];for(const Se of r.list())le.push(Ur(Se,F,I));return le.push(Me),ka(le)}).then(()=>{le=zm(ge,"beforeRouteUpdate",F,I);for(const Se of ge)Se.updateGuards.forEach(R=>{le.push(Ur(R,F,I))});return le.push(Me),ka(le)}).then(()=>{le=[];for(const Se of F.matched)if(Se.beforeEnter&&!I.matched.includes(Se))if(ni(Se.beforeEnter))for(const R of Se.beforeEnter)le.push(Ur(R,F,I));else le.push(Ur(Se.beforeEnter,F,I));return le.push(Me),ka(le)}).then(()=>(F.matched.forEach(Se=>Se.enterCallbacks={}),le=zm(ue,"beforeRouteEnter",F,I),le.push(Me),ka(le))).then(()=>{le=[];for(const Se of o.list())le.push(Ur(Se,F,I));return le.push(Me),ka(le)}).catch(Se=>Er(Se,8)?Se:Promise.reject(Se))}function N(F,I,le){for(const re of a.list())re(F,I,le)}function O(F,I,le,re,ge){const ue=S(F,I);if(ue)return ue;const Me=I===Sr,Se=il?history.state:{};le&&(re||Me?i.replace(F.fullPath,Dt({scroll:Me&&Se&&Se.scroll},ge)):i.push(F.fullPath,ge)),l.value=F,oe(F,I,le,Me),X()}let z;function ee(){z||(z=i.listen((F,I,le)=>{if(!q.listening)return;const re=y(F),ge=E(re);if(ge){A(Dt(ge,{replace:!0}),re).catch(hu);return}c=re;const ue=l.value;il&&gN(Lw(ue.fullPath,le.delta),Ap()),C(re,ue).catch(Me=>Er(Me,12)?Me:Er(Me,2)?(A(Me.to,re).then(Se=>{Er(Se,20)&&!le.delta&&le.type===zu.pop&&i.go(-1,!1)}).catch(hu),Promise.reject()):(le.delta&&i.go(-le.delta,!1),te(Me,re,ue))).then(Me=>{Me=Me||O(re,ue,!1),Me&&(le.delta?i.go(-le.delta,!1):le.type===zu.pop&&Er(Me,20)&&i.go(-1,!1)),N(re,ue,Me)}).catch(hu)}))}let B=Lc(),V=Lc(),H;function te(F,I,le){X(F);const re=V.list();return re.length?re.forEach(ge=>ge(F,I,le)):console.error(F),Promise.reject(F)}function J(){return H&&l.value!==Sr?Promise.resolve():new Promise((F,I)=>{B.add([F,I])})}function X(F){return H||(H=!F,ee(),B.list().forEach(([I,le])=>F?le(F):I()),B.reset()),F}function oe(F,I,le,re){const{scrollBehavior:ge}=t;if(!il||!ge)return Promise.resolve();const ue=!le&&_N(Lw(F.fullPath,0))||(re||!le)&&history.state&&history.state.scroll||null;return Ky().then(()=>ge(F,I,ue)).then(Me=>Me&&mN(Me)).catch(Me=>te(Me,F,I))}const me=F=>i.go(F);let k;const L=new Set,q={currentRoute:l,listening:!0,addRoute:h,removeRoute:_,hasRoute:m,getRoutes:g,resolve:y,options:t,push:x,replace:v,go:me,back:()=>me(-1),forward:()=>me(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:V.add,isReady:J,install(F){const I=this;F.component("RouterLink",AM),F.component("RouterView",CM),F.config.globalProperties.$router=I,Object.defineProperty(F.config.globalProperties,"$route",{enumerable:!0,get:()=>bl(l)}),il&&!k&&l.value===Sr&&(k=!0,x(i.location).catch(ge=>{}));const le={};for(const ge in Sr)le[ge]=Ft(()=>l.value[ge]);F.provide(wb,I),F.provide(MM,nc(le)),F.provide(C_,l);const re=F.unmount;L.add(F),F.unmount=function(){L.delete(F),L.size<1&&(c=Sr,z&&z(),z=null,l.value=Sr,k=!1,H=!1),re()}}};return q}function ka(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function oF(t,e){const n=[],s=[],i=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(t.matched.find(c=>Dl(c,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Dl(c,l))||i.push(l))}return[n,s,i]}//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var RM;function Te(){return RM.apply(null,arguments)}function aF(t){RM=t}function si(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function Xo(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function wt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function xb(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(wt(t,e))return!1;return!0}function Zn(t){return t===void 0}function dr(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function pd(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function PM(t,e){var n=[],s,i=t.length;for(s=0;s<i;++s)n.push(e(t[s],s));return n}function Gr(t,e){for(var n in e)wt(e,n)&&(t[n]=e[n]);return wt(e,"toString")&&(t.toString=e.toString),wt(e,"valueOf")&&(t.valueOf=e.valueOf),t}function Ri(t,e,n,s){return eA(t,e,n,s,!0).utc()}function lF(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function tt(t){return t._pf==null&&(t._pf=lF()),t._pf}var R_;Array.prototype.some?R_=Array.prototype.some:R_=function(t){var e=Object(this),n=e.length>>>0,s;for(s=0;s<n;s++)if(s in e&&t.call(this,e[s],s,e))return!0;return!1};function Sb(t){if(t._isValid==null){var e=tt(t),n=R_.call(e.parsedDateParts,function(i){return i!=null}),s=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(s=s&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=s;else return s}return t._isValid}function Cp(t){var e=Ri(NaN);return t!=null?Gr(tt(e),t):tt(e).userInvalidated=!0,e}var jw=Te.momentProperties=[],Gm=!1;function Eb(t,e){var n,s,i,r=jw.length;if(Zn(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Zn(e._i)||(t._i=e._i),Zn(e._f)||(t._f=e._f),Zn(e._l)||(t._l=e._l),Zn(e._strict)||(t._strict=e._strict),Zn(e._tzm)||(t._tzm=e._tzm),Zn(e._isUTC)||(t._isUTC=e._isUTC),Zn(e._offset)||(t._offset=e._offset),Zn(e._pf)||(t._pf=tt(e)),Zn(e._locale)||(t._locale=e._locale),r>0)for(n=0;n<r;n++)s=jw[n],i=e[s],Zn(i)||(t[s]=i);return t}function md(t){Eb(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Gm===!1&&(Gm=!0,Te.updateOffset(this),Gm=!1)}function ii(t){return t instanceof md||t!=null&&t._isAMomentObject!=null}function kM(t){Te.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+t)}function Ls(t,e){var n=!0;return Gr(function(){if(Te.deprecationHandler!=null&&Te.deprecationHandler(null,t),n){var s=[],i,r,o,a=arguments.length;for(r=0;r<a;r++){if(i="",typeof arguments[r]=="object"){i+=`
[`+r+"] ";for(o in arguments[0])wt(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[r];s.push(i)}kM(t+`
Arguments: `+Array.prototype.slice.call(s).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var Yw={};function OM(t,e){Te.deprecationHandler!=null&&Te.deprecationHandler(t,e),Yw[t]||(kM(e),Yw[t]=!0)}Te.suppressDeprecationWarnings=!1;Te.deprecationHandler=null;function Pi(t){return typeof Function!="undefined"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function cF(t){var e,n;for(n in t)wt(t,n)&&(e=t[n],Pi(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function P_(t,e){var n=Gr({},t),s;for(s in e)wt(e,s)&&(Xo(t[s])&&Xo(e[s])?(n[s]={},Gr(n[s],t[s]),Gr(n[s],e[s])):e[s]!=null?n[s]=e[s]:delete n[s]);for(s in t)wt(t,s)&&!wt(e,s)&&Xo(t[s])&&(n[s]=Gr({},n[s]));return n}function Tb(t){t!=null&&this.set(t)}var k_;Object.keys?k_=Object.keys:k_=function(t){var e,n=[];for(e in t)wt(t,e)&&n.push(e);return n};var uF={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function dF(t,e,n){var s=this._calendar[t]||this._calendar.sameElse;return Pi(s)?s.call(e,n):s}function Ai(t,e,n){var s=""+Math.abs(t),i=e-s.length,r=t>=0;return(r?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+s}var Mb=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,jd=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Vm={},wl={};function Be(t,e,n,s){var i=s;typeof s=="string"&&(i=function(){return this[s]()}),t&&(wl[t]=i),e&&(wl[e[0]]=function(){return Ai(i.apply(this,arguments),e[1],e[2])}),n&&(wl[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function fF(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function hF(t){var e=t.match(Mb),n,s;for(n=0,s=e.length;n<s;n++)wl[e[n]]?e[n]=wl[e[n]]:e[n]=fF(e[n]);return function(i){var r="",o;for(o=0;o<s;o++)r+=Pi(e[o])?e[o].call(i,t):e[o];return r}}function Hf(t,e){return t.isValid()?(e=LM(e,t.localeData()),Vm[e]=Vm[e]||hF(e),Vm[e](t)):t.localeData().invalidDate()}function LM(t,e){var n=5;function s(i){return e.longDateFormat(i)||i}for(jd.lastIndex=0;n>=0&&jd.test(t);)t=t.replace(jd,s),jd.lastIndex=0,n-=1;return t}var pF={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function mF(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(Mb).map(function(s){return s==="MMMM"||s==="MM"||s==="DD"||s==="dddd"?s.slice(1):s}).join(""),this._longDateFormat[t])}var gF="Invalid date";function _F(){return this._invalidDate}var yF="%d",bF=/\d{1,2}/;function vF(t){return this._ordinal.replace("%d",t)}var wF={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function xF(t,e,n,s){var i=this._relativeTime[n];return Pi(i)?i(t,e,n,s):i.replace(/%d/i,t)}function SF(t,e){var n=this._relativeTime[t>0?"future":"past"];return Pi(n)?n(e):n.replace(/%s/i,e)}var mu={};function In(t,e){var n=t.toLowerCase();mu[n]=mu[n+"s"]=mu[e]=t}function Is(t){return typeof t=="string"?mu[t]||mu[t.toLowerCase()]:void 0}function Ab(t){var e={},n,s;for(s in t)wt(t,s)&&(n=Is(s),n&&(e[n]=t[s]));return e}var IM={};function Dn(t,e){IM[t]=e}function EF(t){var e=[],n;for(n in t)wt(t,n)&&e.push({unit:n,priority:IM[n]});return e.sort(function(s,i){return s.priority-i.priority}),e}function Rp(t){return t%4===0&&t%100!==0||t%400===0}function ws(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function ct(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=ws(e)),n}function oc(t,e){return function(n){return n!=null?(DM(this,t,n),Te.updateOffset(this,e),this):xh(this,t)}}function xh(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function DM(t,e,n){t.isValid()&&!isNaN(n)&&(e==="FullYear"&&Rp(t.year())&&t.month()===1&&t.date()===29?(n=ct(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),Dp(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function TF(t){return t=Is(t),Pi(this[t])?this[t]():this}function MF(t,e){if(typeof t=="object"){t=Ab(t);var n=EF(t),s,i=n.length;for(s=0;s<i;s++)this[n[s].unit](t[n[s].unit])}else if(t=Is(t),Pi(this[t]))return this[t](e);return this}var NM=/\d/,hs=/\d\d/,FM=/\d{3}/,Cb=/\d{4}/,Pp=/[+-]?\d{6}/,jt=/\d\d?/,$M=/\d\d\d\d?/,UM=/\d\d\d\d\d\d?/,kp=/\d{1,3}/,Rb=/\d{1,4}/,Op=/[+-]?\d{1,6}/,ac=/\d+/,Lp=/[+-]?\d+/,AF=/Z|[+-]\d\d:?\d\d/gi,Ip=/Z|[+-]\d\d(?::?\d\d)?/gi,CF=/[+-]?\d+(\.\d{1,3})?/,gd=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Sh;Sh={};function Ne(t,e,n){Sh[t]=Pi(e)?e:function(s,i){return s&&n?n:e}}function RF(t,e){return wt(Sh,t)?Sh[t](e._strict,e._locale):new RegExp(PF(t))}function PF(t){return ls(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,s,i,r){return n||s||i||r}))}function ls(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var O_={};function It(t,e){var n,s=e,i;for(typeof t=="string"&&(t=[t]),dr(e)&&(s=function(r,o){o[e]=ct(r)}),i=t.length,n=0;n<i;n++)O_[t[n]]=s}function _d(t,e){It(t,function(n,s,i,r){i._w=i._w||{},e(n,i._w,i,r)})}function kF(t,e,n){e!=null&&wt(O_,t)&&O_[t](e,n._a,n,t)}var kn=0,tr=1,bi=2,fn=3,qs=4,nr=5,Bo=6,OF=7,LF=8;function IF(t,e){return(t%e+e)%e}var rn;Array.prototype.indexOf?rn=Array.prototype.indexOf:rn=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function Dp(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=IF(e,12);return t+=(e-n)/12,n===1?Rp(t)?29:28:31-n%7%2}Be("M",["MM",2],"Mo",function(){return this.month()+1});Be("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});Be("MMMM",0,0,function(t){return this.localeData().months(this,t)});In("month","M");Dn("month",8);Ne("M",jt);Ne("MM",jt,hs);Ne("MMM",function(t,e){return e.monthsShortRegex(t)});Ne("MMMM",function(t,e){return e.monthsRegex(t)});It(["M","MM"],function(t,e){e[tr]=ct(t)-1});It(["MMM","MMMM"],function(t,e,n,s){var i=n._locale.monthsParse(t,s,n._strict);i!=null?e[tr]=i:tt(n).invalidMonth=t});var DF="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),BM="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),zM=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,NF=gd,FF=gd;function $F(t,e){return t?si(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||zM).test(e)?"format":"standalone"][t.month()]:si(this._months)?this._months:this._months.standalone}function UF(t,e){return t?si(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[zM.test(e)?"format":"standalone"][t.month()]:si(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function BF(t,e,n){var s,i,r,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)r=Ri([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(r,"").toLocaleLowerCase();return n?e==="MMM"?(i=rn.call(this._shortMonthsParse,o),i!==-1?i:null):(i=rn.call(this._longMonthsParse,o),i!==-1?i:null):e==="MMM"?(i=rn.call(this._shortMonthsParse,o),i!==-1?i:(i=rn.call(this._longMonthsParse,o),i!==-1?i:null)):(i=rn.call(this._longMonthsParse,o),i!==-1?i:(i=rn.call(this._shortMonthsParse,o),i!==-1?i:null))}function zF(t,e,n){var s,i,r;if(this._monthsParseExact)return BF.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=Ri([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[s]&&(r="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(r.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[s].test(t))return s;if(n&&e==="MMM"&&this._shortMonthsParse[s].test(t))return s;if(!n&&this._monthsParse[s].test(t))return s}}function GM(t,e){var n;if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=ct(e);else if(e=t.localeData().monthsParse(e),!dr(e))return t}return n=Math.min(t.date(),Dp(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function VM(t){return t!=null?(GM(this,t),Te.updateOffset(this,!0),this):xh(this,"Month")}function GF(){return Dp(this.year(),this.month())}function VF(t){return this._monthsParseExact?(wt(this,"_monthsRegex")||HM.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(wt(this,"_monthsShortRegex")||(this._monthsShortRegex=NF),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function HF(t){return this._monthsParseExact?(wt(this,"_monthsRegex")||HM.call(this),t?this._monthsStrictRegex:this._monthsRegex):(wt(this,"_monthsRegex")||(this._monthsRegex=FF),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function HM(){function t(o,a){return a.length-o.length}var e=[],n=[],s=[],i,r;for(i=0;i<12;i++)r=Ri([2e3,i]),e.push(this.monthsShort(r,"")),n.push(this.months(r,"")),s.push(this.months(r,"")),s.push(this.monthsShort(r,""));for(e.sort(t),n.sort(t),s.sort(t),i=0;i<12;i++)e[i]=ls(e[i]),n[i]=ls(n[i]);for(i=0;i<24;i++)s[i]=ls(s[i]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}Be("Y",0,0,function(){var t=this.year();return t<=9999?Ai(t,4):"+"+t});Be(0,["YY",2],0,function(){return this.year()%100});Be(0,["YYYY",4],0,"year");Be(0,["YYYYY",5],0,"year");Be(0,["YYYYYY",6,!0],0,"year");In("year","y");Dn("year",1);Ne("Y",Lp);Ne("YY",jt,hs);Ne("YYYY",Rb,Cb);Ne("YYYYY",Op,Pp);Ne("YYYYYY",Op,Pp);It(["YYYYY","YYYYYY"],kn);It("YYYY",function(t,e){e[kn]=t.length===2?Te.parseTwoDigitYear(t):ct(t)});It("YY",function(t,e){e[kn]=Te.parseTwoDigitYear(t)});It("Y",function(t,e){e[kn]=parseInt(t,10)});function gu(t){return Rp(t)?366:365}Te.parseTwoDigitYear=function(t){return ct(t)+(ct(t)>68?1900:2e3)};var WM=oc("FullYear",!0);function WF(){return Rp(this.year())}function jF(t,e,n,s,i,r,o){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,s,i,r,o),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,s,i,r,o),a}function Gu(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Eh(t,e,n){var s=7+e-n,i=(7+Gu(t,0,s).getUTCDay()-e)%7;return-i+s-1}function jM(t,e,n,s,i){var r=(7+n-s)%7,o=Eh(t,s,i),a=1+7*(e-1)+r+o,l,c;return a<=0?(l=t-1,c=gu(l)+a):a>gu(t)?(l=t+1,c=a-gu(t)):(l=t,c=a),{year:l,dayOfYear:c}}function Vu(t,e,n){var s=Eh(t.year(),e,n),i=Math.floor((t.dayOfYear()-s-1)/7)+1,r,o;return i<1?(o=t.year()-1,r=i+or(o,e,n)):i>or(t.year(),e,n)?(r=i-or(t.year(),e,n),o=t.year()+1):(o=t.year(),r=i),{week:r,year:o}}function or(t,e,n){var s=Eh(t,e,n),i=Eh(t+1,e,n);return(gu(t)-s+i)/7}Be("w",["ww",2],"wo","week");Be("W",["WW",2],"Wo","isoWeek");In("week","w");In("isoWeek","W");Dn("week",5);Dn("isoWeek",5);Ne("w",jt);Ne("ww",jt,hs);Ne("W",jt);Ne("WW",jt,hs);_d(["w","ww","W","WW"],function(t,e,n,s){e[s.substr(0,1)]=ct(t)});function YF(t){return Vu(t,this._week.dow,this._week.doy).week}var qF={dow:0,doy:6};function KF(){return this._week.dow}function XF(){return this._week.doy}function ZF(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function JF(t){var e=Vu(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}Be("d",0,"do","day");Be("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});Be("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});Be("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});Be("e",0,0,"weekday");Be("E",0,0,"isoWeekday");In("day","d");In("weekday","e");In("isoWeekday","E");Dn("day",11);Dn("weekday",11);Dn("isoWeekday",11);Ne("d",jt);Ne("e",jt);Ne("E",jt);Ne("dd",function(t,e){return e.weekdaysMinRegex(t)});Ne("ddd",function(t,e){return e.weekdaysShortRegex(t)});Ne("dddd",function(t,e){return e.weekdaysRegex(t)});_d(["dd","ddd","dddd"],function(t,e,n,s){var i=n._locale.weekdaysParse(t,s,n._strict);i!=null?e.d=i:tt(n).invalidWeekday=t});_d(["d","e","E"],function(t,e,n,s){e[s]=ct(t)});function QF(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function e$(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Pb(t,e){return t.slice(e,7).concat(t.slice(0,e))}var t$="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),YM="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),n$="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),s$=gd,i$=gd,r$=gd;function o$(t,e){var n=si(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?Pb(n,this._week.dow):t?n[t.day()]:n}function a$(t){return t===!0?Pb(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function l$(t){return t===!0?Pb(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function c$(t,e,n){var s,i,r,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)r=Ri([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(r,"").toLocaleLowerCase();return n?e==="dddd"?(i=rn.call(this._weekdaysParse,o),i!==-1?i:null):e==="ddd"?(i=rn.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=rn.call(this._minWeekdaysParse,o),i!==-1?i:null):e==="dddd"?(i=rn.call(this._weekdaysParse,o),i!==-1||(i=rn.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=rn.call(this._minWeekdaysParse,o),i!==-1?i:null)):e==="ddd"?(i=rn.call(this._shortWeekdaysParse,o),i!==-1||(i=rn.call(this._weekdaysParse,o),i!==-1)?i:(i=rn.call(this._minWeekdaysParse,o),i!==-1?i:null)):(i=rn.call(this._minWeekdaysParse,o),i!==-1||(i=rn.call(this._weekdaysParse,o),i!==-1)?i:(i=rn.call(this._shortWeekdaysParse,o),i!==-1?i:null))}function u$(t,e,n){var s,i,r;if(this._weekdaysParseExact)return c$.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=Ri([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(r="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(r.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[s].test(t))return s;if(n&&e==="ddd"&&this._shortWeekdaysParse[s].test(t))return s;if(n&&e==="dd"&&this._minWeekdaysParse[s].test(t))return s;if(!n&&this._weekdaysParse[s].test(t))return s}}function d$(t){if(!this.isValid())return t!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=QF(t,this.localeData()),this.add(t-e,"d")):e}function f$(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function h$(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=e$(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function p$(t){return this._weekdaysParseExact?(wt(this,"_weekdaysRegex")||kb.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(wt(this,"_weekdaysRegex")||(this._weekdaysRegex=s$),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function m$(t){return this._weekdaysParseExact?(wt(this,"_weekdaysRegex")||kb.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(wt(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=i$),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function g$(t){return this._weekdaysParseExact?(wt(this,"_weekdaysRegex")||kb.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(wt(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=r$),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function kb(){function t(u,d){return d.length-u.length}var e=[],n=[],s=[],i=[],r,o,a,l,c;for(r=0;r<7;r++)o=Ri([2e3,1]).day(r),a=ls(this.weekdaysMin(o,"")),l=ls(this.weekdaysShort(o,"")),c=ls(this.weekdays(o,"")),e.push(a),n.push(l),s.push(c),i.push(a),i.push(l),i.push(c);e.sort(t),n.sort(t),s.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Ob(){return this.hours()%12||12}function _$(){return this.hours()||24}Be("H",["HH",2],0,"hour");Be("h",["hh",2],0,Ob);Be("k",["kk",2],0,_$);Be("hmm",0,0,function(){return""+Ob.apply(this)+Ai(this.minutes(),2)});Be("hmmss",0,0,function(){return""+Ob.apply(this)+Ai(this.minutes(),2)+Ai(this.seconds(),2)});Be("Hmm",0,0,function(){return""+this.hours()+Ai(this.minutes(),2)});Be("Hmmss",0,0,function(){return""+this.hours()+Ai(this.minutes(),2)+Ai(this.seconds(),2)});function qM(t,e){Be(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}qM("a",!0);qM("A",!1);In("hour","h");Dn("hour",13);function KM(t,e){return e._meridiemParse}Ne("a",KM);Ne("A",KM);Ne("H",jt);Ne("h",jt);Ne("k",jt);Ne("HH",jt,hs);Ne("hh",jt,hs);Ne("kk",jt,hs);Ne("hmm",$M);Ne("hmmss",UM);Ne("Hmm",$M);Ne("Hmmss",UM);It(["H","HH"],fn);It(["k","kk"],function(t,e,n){var s=ct(t);e[fn]=s===24?0:s});It(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});It(["h","hh"],function(t,e,n){e[fn]=ct(t),tt(n).bigHour=!0});It("hmm",function(t,e,n){var s=t.length-2;e[fn]=ct(t.substr(0,s)),e[qs]=ct(t.substr(s)),tt(n).bigHour=!0});It("hmmss",function(t,e,n){var s=t.length-4,i=t.length-2;e[fn]=ct(t.substr(0,s)),e[qs]=ct(t.substr(s,2)),e[nr]=ct(t.substr(i)),tt(n).bigHour=!0});It("Hmm",function(t,e,n){var s=t.length-2;e[fn]=ct(t.substr(0,s)),e[qs]=ct(t.substr(s))});It("Hmmss",function(t,e,n){var s=t.length-4,i=t.length-2;e[fn]=ct(t.substr(0,s)),e[qs]=ct(t.substr(s,2)),e[nr]=ct(t.substr(i))});function y$(t){return(t+"").toLowerCase().charAt(0)==="p"}var b$=/[ap]\.?m?\.?/i,v$=oc("Hours",!0);function w$(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var XM={calendar:uF,longDateFormat:pF,invalidDate:gF,ordinal:yF,dayOfMonthOrdinalParse:bF,relativeTime:wF,months:DF,monthsShort:BM,week:qF,weekdays:t$,weekdaysMin:n$,weekdaysShort:YM,meridiemParse:b$},Yt={},Ic={},Hu;function x$(t,e){var n,s=Math.min(t.length,e.length);for(n=0;n<s;n+=1)if(t[n]!==e[n])return n;return s}function qw(t){return t&&t.toLowerCase().replace("_","-")}function S$(t){for(var e=0,n,s,i,r;e<t.length;){for(r=qw(t[e]).split("-"),n=r.length,s=qw(t[e+1]),s=s?s.split("-"):null;n>0;){if(i=Np(r.slice(0,n).join("-")),i)return i;if(s&&s.length>=n&&x$(r,s)>=n-1)break;n--}e++}return Hu}function E$(t){return t.match("^[^/\\\\]*$")!=null}function Np(t){var e=null,n;if(Yt[t]===void 0&&typeof uh!="undefined"&&uh&&uh.exports&&E$(t))try{e=Hu._abbr,n=require,n("./locale/"+t),eo(e)}catch{Yt[t]=null}return Yt[t]}function eo(t,e){var n;return t&&(Zn(e)?n=_r(t):n=Lb(t,e),n?Hu=n:typeof console!="undefined"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Hu._abbr}function Lb(t,e){if(e!==null){var n,s=XM;if(e.abbr=t,Yt[t]!=null)OM("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=Yt[t]._config;else if(e.parentLocale!=null)if(Yt[e.parentLocale]!=null)s=Yt[e.parentLocale]._config;else if(n=Np(e.parentLocale),n!=null)s=n._config;else return Ic[e.parentLocale]||(Ic[e.parentLocale]=[]),Ic[e.parentLocale].push({name:t,config:e}),null;return Yt[t]=new Tb(P_(s,e)),Ic[t]&&Ic[t].forEach(function(i){Lb(i.name,i.config)}),eo(t),Yt[t]}else return delete Yt[t],null}function T$(t,e){if(e!=null){var n,s,i=XM;Yt[t]!=null&&Yt[t].parentLocale!=null?Yt[t].set(P_(Yt[t]._config,e)):(s=Np(t),s!=null&&(i=s._config),e=P_(i,e),s==null&&(e.abbr=t),n=new Tb(e),n.parentLocale=Yt[t],Yt[t]=n),eo(t)}else Yt[t]!=null&&(Yt[t].parentLocale!=null?(Yt[t]=Yt[t].parentLocale,t===eo()&&eo(t)):Yt[t]!=null&&delete Yt[t]);return Yt[t]}function _r(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Hu;if(!si(t)){if(e=Np(t),e)return e;t=[t]}return S$(t)}function M$(){return k_(Yt)}function Ib(t){var e,n=t._a;return n&&tt(t).overflow===-2&&(e=n[tr]<0||n[tr]>11?tr:n[bi]<1||n[bi]>Dp(n[kn],n[tr])?bi:n[fn]<0||n[fn]>24||n[fn]===24&&(n[qs]!==0||n[nr]!==0||n[Bo]!==0)?fn:n[qs]<0||n[qs]>59?qs:n[nr]<0||n[nr]>59?nr:n[Bo]<0||n[Bo]>999?Bo:-1,tt(t)._overflowDayOfYear&&(e<kn||e>bi)&&(e=bi),tt(t)._overflowWeeks&&e===-1&&(e=OF),tt(t)._overflowWeekday&&e===-1&&(e=LF),tt(t).overflow=e),t}var A$=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,C$=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,R$=/Z|[+-]\d\d(?::?\d\d)?/,Yd=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Hm=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],P$=/^\/?Date\((-?\d+)/i,k$=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,O$={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function ZM(t){var e,n,s=t._i,i=A$.exec(s)||C$.exec(s),r,o,a,l,c=Yd.length,u=Hm.length;if(i){for(tt(t).iso=!0,e=0,n=c;e<n;e++)if(Yd[e][1].exec(i[1])){o=Yd[e][0],r=Yd[e][2]!==!1;break}if(o==null){t._isValid=!1;return}if(i[3]){for(e=0,n=u;e<n;e++)if(Hm[e][1].exec(i[3])){a=(i[2]||" ")+Hm[e][0];break}if(a==null){t._isValid=!1;return}}if(!r&&a!=null){t._isValid=!1;return}if(i[4])if(R$.exec(i[4]))l="Z";else{t._isValid=!1;return}t._f=o+(a||"")+(l||""),Nb(t)}else t._isValid=!1}function L$(t,e,n,s,i,r){var o=[I$(t),BM.indexOf(e),parseInt(n,10),parseInt(s,10),parseInt(i,10)];return r&&o.push(parseInt(r,10)),o}function I$(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function D$(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function N$(t,e,n){if(t){var s=YM.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(s!==i)return tt(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function F$(t,e,n){if(t)return O$[t];if(e)return 0;var s=parseInt(n,10),i=s%100,r=(s-i)/100;return r*60+i}function JM(t){var e=k$.exec(D$(t._i)),n;if(e){if(n=L$(e[4],e[3],e[2],e[5],e[6],e[7]),!N$(e[1],n,t))return;t._a=n,t._tzm=F$(e[8],e[9],e[10]),t._d=Gu.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),tt(t).rfc2822=!0}else t._isValid=!1}function $$(t){var e=P$.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(ZM(t),t._isValid===!1)delete t._isValid;else return;if(JM(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:Te.createFromInputFallback(t)}Te.createFromInputFallback=Ls("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function rl(t,e,n){return t!=null?t:e!=null?e:n}function U$(t){var e=new Date(Te.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Db(t){var e,n,s=[],i,r,o;if(!t._d){for(i=U$(t),t._w&&t._a[bi]==null&&t._a[tr]==null&&B$(t),t._dayOfYear!=null&&(o=rl(t._a[kn],i[kn]),(t._dayOfYear>gu(o)||t._dayOfYear===0)&&(tt(t)._overflowDayOfYear=!0),n=Gu(o,0,t._dayOfYear),t._a[tr]=n.getUTCMonth(),t._a[bi]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=s[e]=i[e];for(;e<7;e++)t._a[e]=s[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[fn]===24&&t._a[qs]===0&&t._a[nr]===0&&t._a[Bo]===0&&(t._nextDay=!0,t._a[fn]=0),t._d=(t._useUTC?Gu:jF).apply(null,s),r=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[fn]=24),t._w&&typeof t._w.d!="undefined"&&t._w.d!==r&&(tt(t).weekdayMismatch=!0)}}function B$(t){var e,n,s,i,r,o,a,l,c;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(r=1,o=4,n=rl(e.GG,t._a[kn],Vu(Wt(),1,4).year),s=rl(e.W,1),i=rl(e.E,1),(i<1||i>7)&&(l=!0)):(r=t._locale._week.dow,o=t._locale._week.doy,c=Vu(Wt(),r,o),n=rl(e.gg,t._a[kn],c.year),s=rl(e.w,c.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+r,(e.e<0||e.e>6)&&(l=!0)):i=r),s<1||s>or(n,r,o)?tt(t)._overflowWeeks=!0:l!=null?tt(t)._overflowWeekday=!0:(a=jM(n,s,i,r,o),t._a[kn]=a.year,t._dayOfYear=a.dayOfYear)}Te.ISO_8601=function(){};Te.RFC_2822=function(){};function Nb(t){if(t._f===Te.ISO_8601){ZM(t);return}if(t._f===Te.RFC_2822){JM(t);return}t._a=[],tt(t).empty=!0;var e=""+t._i,n,s,i,r,o,a=e.length,l=0,c,u;for(i=LM(t._f,t._locale).match(Mb)||[],u=i.length,n=0;n<u;n++)r=i[n],s=(e.match(RF(r,t))||[])[0],s&&(o=e.substr(0,e.indexOf(s)),o.length>0&&tt(t).unusedInput.push(o),e=e.slice(e.indexOf(s)+s.length),l+=s.length),wl[r]?(s?tt(t).empty=!1:tt(t).unusedTokens.push(r),kF(r,s,t)):t._strict&&!s&&tt(t).unusedTokens.push(r);tt(t).charsLeftOver=a-l,e.length>0&&tt(t).unusedInput.push(e),t._a[fn]<=12&&tt(t).bigHour===!0&&t._a[fn]>0&&(tt(t).bigHour=void 0),tt(t).parsedDateParts=t._a.slice(0),tt(t).meridiem=t._meridiem,t._a[fn]=z$(t._locale,t._a[fn],t._meridiem),c=tt(t).era,c!==null&&(t._a[kn]=t._locale.erasConvertYear(c,t._a[kn])),Db(t),Ib(t)}function z$(t,e,n){var s;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(s=t.isPM(n),s&&e<12&&(e+=12),!s&&e===12&&(e=0)),e)}function G$(t){var e,n,s,i,r,o,a=!1,l=t._f.length;if(l===0){tt(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<l;i++)r=0,o=!1,e=Eb({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],Nb(e),Sb(e)&&(o=!0),r+=tt(e).charsLeftOver,r+=tt(e).unusedTokens.length*10,tt(e).score=r,a?r<s&&(s=r,n=e):(s==null||r<s||o)&&(s=r,n=e,o&&(a=!0));Gr(t,n||e)}function V$(t){if(!t._d){var e=Ab(t._i),n=e.day===void 0?e.date:e.day;t._a=PM([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(s){return s&&parseInt(s,10)}),Db(t)}}function H$(t){var e=new md(Ib(QM(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function QM(t){var e=t._i,n=t._f;return t._locale=t._locale||_r(t._l),e===null||n===void 0&&e===""?Cp({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),ii(e)?new md(Ib(e)):(pd(e)?t._d=e:si(n)?G$(t):n?Nb(t):W$(t),Sb(t)||(t._d=null),t))}function W$(t){var e=t._i;Zn(e)?t._d=new Date(Te.now()):pd(e)?t._d=new Date(e.valueOf()):typeof e=="string"?$$(t):si(e)?(t._a=PM(e.slice(0),function(n){return parseInt(n,10)}),Db(t)):Xo(e)?V$(t):dr(e)?t._d=new Date(e):Te.createFromInputFallback(t)}function eA(t,e,n,s,i){var r={};return(e===!0||e===!1)&&(s=e,e=void 0),(n===!0||n===!1)&&(s=n,n=void 0),(Xo(t)&&xb(t)||si(t)&&t.length===0)&&(t=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=i,r._l=n,r._i=t,r._f=e,r._strict=s,H$(r)}function Wt(t,e,n,s){return eA(t,e,n,s,!1)}var j$=Ls("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Wt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:Cp()}),Y$=Ls("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Wt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:Cp()});function tA(t,e){var n,s;if(e.length===1&&si(e[0])&&(e=e[0]),!e.length)return Wt();for(n=e[0],s=1;s<e.length;++s)(!e[s].isValid()||e[s][t](n))&&(n=e[s]);return n}function q$(){var t=[].slice.call(arguments,0);return tA("isBefore",t)}function K$(){var t=[].slice.call(arguments,0);return tA("isAfter",t)}var X$=function(){return Date.now?Date.now():+new Date},Dc=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Z$(t){var e,n=!1,s,i=Dc.length;for(e in t)if(wt(t,e)&&!(rn.call(Dc,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(s=0;s<i;++s)if(t[Dc[s]]){if(n)return!1;parseFloat(t[Dc[s]])!==ct(t[Dc[s]])&&(n=!0)}return!0}function J$(){return this._isValid}function Q$(){return ai(NaN)}function Fp(t){var e=Ab(t),n=e.year||0,s=e.quarter||0,i=e.month||0,r=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._isValid=Z$(e),this._milliseconds=+u+c*1e3+l*6e4+a*1e3*60*60,this._days=+o+r*7,this._months=+i+s*3+n*12,this._data={},this._locale=_r(),this._bubble()}function Wf(t){return t instanceof Fp}function L_(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function eU(t,e,n){var s=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),r=0,o;for(o=0;o<s;o++)(n&&t[o]!==e[o]||!n&&ct(t[o])!==ct(e[o]))&&r++;return r+i}function nA(t,e){Be(t,0,0,function(){var n=this.utcOffset(),s="+";return n<0&&(n=-n,s="-"),s+Ai(~~(n/60),2)+e+Ai(~~n%60,2)})}nA("Z",":");nA("ZZ","");Ne("Z",Ip);Ne("ZZ",Ip);It(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Fb(Ip,t)});var tU=/([\+\-]|\d\d)/gi;function Fb(t,e){var n=(e||"").match(t),s,i,r;return n===null?null:(s=n[n.length-1]||[],i=(s+"").match(tU)||["-",0,0],r=+(i[1]*60)+ct(i[2]),r===0?0:i[0]==="+"?r:-r)}function $b(t,e){var n,s;return e._isUTC?(n=e.clone(),s=(ii(t)||pd(t)?t.valueOf():Wt(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+s),Te.updateOffset(n,!1),n):Wt(t).local()}function I_(t){return-Math.round(t._d.getTimezoneOffset())}Te.updateOffset=function(){};function nU(t,e,n){var s=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=Fb(Ip,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(i=I_(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),s!==t&&(!e||this._changeInProgress?rA(this,ai(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Te.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?s:I_(this)}function sU(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function iU(t){return this.utcOffset(0,t)}function rU(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(I_(this),"m")),this}function oU(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=Fb(AF,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function aU(t){return this.isValid()?(t=t?Wt(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function lU(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function cU(){if(!Zn(this._isDSTShifted))return this._isDSTShifted;var t={},e;return Eb(t,this),t=QM(t),t._a?(e=t._isUTC?Ri(t._a):Wt(t._a),this._isDSTShifted=this.isValid()&&eU(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function uU(){return this.isValid()?!this._isUTC:!1}function dU(){return this.isValid()?this._isUTC:!1}function sA(){return this.isValid()?this._isUTC&&this._offset===0:!1}var fU=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,hU=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ai(t,e){var n=t,s=null,i,r,o;return Wf(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:dr(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(s=fU.exec(t))?(i=s[1]==="-"?-1:1,n={y:0,d:ct(s[bi])*i,h:ct(s[fn])*i,m:ct(s[qs])*i,s:ct(s[nr])*i,ms:ct(L_(s[Bo]*1e3))*i}):(s=hU.exec(t))?(i=s[1]==="-"?-1:1,n={y:yo(s[2],i),M:yo(s[3],i),w:yo(s[4],i),d:yo(s[5],i),h:yo(s[6],i),m:yo(s[7],i),s:yo(s[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=pU(Wt(n.from),Wt(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),r=new Fp(n),Wf(t)&&wt(t,"_locale")&&(r._locale=t._locale),Wf(t)&&wt(t,"_isValid")&&(r._isValid=t._isValid),r}ai.fn=Fp.prototype;ai.invalid=Q$;function yo(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Kw(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function pU(t,e){var n;return t.isValid()&&e.isValid()?(e=$b(e,t),t.isBefore(e)?n=Kw(t,e):(n=Kw(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function iA(t,e){return function(n,s){var i,r;return s!==null&&!isNaN(+s)&&(OM(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=s,s=r),i=ai(n,s),rA(this,i,t),this}}function rA(t,e,n,s){var i=e._milliseconds,r=L_(e._days),o=L_(e._months);!t.isValid()||(s=s==null?!0:s,o&&GM(t,xh(t,"Month")+o*n),r&&DM(t,"Date",xh(t,"Date")+r*n),i&&t._d.setTime(t._d.valueOf()+i*n),s&&Te.updateOffset(t,r||o))}var mU=iA(1,"add"),gU=iA(-1,"subtract");function oA(t){return typeof t=="string"||t instanceof String}function _U(t){return ii(t)||pd(t)||oA(t)||dr(t)||bU(t)||yU(t)||t===null||t===void 0}function yU(t){var e=Xo(t)&&!xb(t),n=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,r,o=s.length;for(i=0;i<o;i+=1)r=s[i],n=n||wt(t,r);return e&&n}function bU(t){var e=si(t),n=!1;return e&&(n=t.filter(function(s){return!dr(s)&&oA(t)}).length===0),e&&n}function vU(t){var e=Xo(t)&&!xb(t),n=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,r;for(i=0;i<s.length;i+=1)r=s[i],n=n||wt(t,r);return e&&n}function wU(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function xU(t,e){arguments.length===1&&(arguments[0]?_U(arguments[0])?(t=arguments[0],e=void 0):vU(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Wt(),s=$b(n,this).startOf("day"),i=Te.calendarFormat(this,s)||"sameElse",r=e&&(Pi(e[i])?e[i].call(this,n):e[i]);return this.format(r||this.localeData().calendar(i,this,Wt(n)))}function SU(){return new md(this)}function EU(t,e){var n=ii(t)?t:Wt(t);return this.isValid()&&n.isValid()?(e=Is(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function TU(t,e){var n=ii(t)?t:Wt(t);return this.isValid()&&n.isValid()?(e=Is(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function MU(t,e,n,s){var i=ii(t)?t:Wt(t),r=ii(e)?e:Wt(e);return this.isValid()&&i.isValid()&&r.isValid()?(s=s||"()",(s[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(s[1]===")"?this.isBefore(r,n):!this.isAfter(r,n))):!1}function AU(t,e){var n=ii(t)?t:Wt(t),s;return this.isValid()&&n.isValid()?(e=Is(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(s=n.valueOf(),this.clone().startOf(e).valueOf()<=s&&s<=this.clone().endOf(e).valueOf())):!1}function CU(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function RU(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function PU(t,e,n){var s,i,r;if(!this.isValid())return NaN;if(s=$b(t,this),!s.isValid())return NaN;switch(i=(s.utcOffset()-this.utcOffset())*6e4,e=Is(e),e){case"year":r=jf(this,s)/12;break;case"month":r=jf(this,s);break;case"quarter":r=jf(this,s)/3;break;case"second":r=(this-s)/1e3;break;case"minute":r=(this-s)/6e4;break;case"hour":r=(this-s)/36e5;break;case"day":r=(this-s-i)/864e5;break;case"week":r=(this-s-i)/6048e5;break;default:r=this-s}return n?r:ws(r)}function jf(t,e){if(t.date()<e.date())return-jf(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),s=t.clone().add(n,"months"),i,r;return e-s<0?(i=t.clone().add(n-1,"months"),r=(e-s)/(s-i)):(i=t.clone().add(n+1,"months"),r=(e-s)/(i-s)),-(n+r)||0}Te.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Te.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function kU(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function OU(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?Hf(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Pi(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Hf(n,"Z")):Hf(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function LU(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,s,i,r;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",r=e+'[")]',this.format(n+s+i+r)}function IU(t){t||(t=this.isUtc()?Te.defaultFormatUtc:Te.defaultFormat);var e=Hf(this,t);return this.localeData().postformat(e)}function DU(t,e){return this.isValid()&&(ii(t)&&t.isValid()||Wt(t).isValid())?ai({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function NU(t){return this.from(Wt(),t)}function FU(t,e){return this.isValid()&&(ii(t)&&t.isValid()||Wt(t).isValid())?ai({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function $U(t){return this.to(Wt(),t)}function aA(t){var e;return t===void 0?this._locale._abbr:(e=_r(t),e!=null&&(this._locale=e),this)}var lA=Ls("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function cA(){return this._locale}var Th=1e3,xl=60*Th,Mh=60*xl,uA=(365*400+97)*24*Mh;function Sl(t,e){return(t%e+e)%e}function dA(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-uA:new Date(t,e,n).valueOf()}function fA(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-uA:Date.UTC(t,e,n)}function UU(t){var e,n;if(t=Is(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?fA:dA,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Sl(e+(this._isUTC?0:this.utcOffset()*xl),Mh);break;case"minute":e=this._d.valueOf(),e-=Sl(e,xl);break;case"second":e=this._d.valueOf(),e-=Sl(e,Th);break}return this._d.setTime(e),Te.updateOffset(this,!0),this}function BU(t){var e,n;if(t=Is(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?fA:dA,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=Mh-Sl(e+(this._isUTC?0:this.utcOffset()*xl),Mh)-1;break;case"minute":e=this._d.valueOf(),e+=xl-Sl(e,xl)-1;break;case"second":e=this._d.valueOf(),e+=Th-Sl(e,Th)-1;break}return this._d.setTime(e),Te.updateOffset(this,!0),this}function zU(){return this._d.valueOf()-(this._offset||0)*6e4}function GU(){return Math.floor(this.valueOf()/1e3)}function VU(){return new Date(this.valueOf())}function HU(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function WU(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function jU(){return this.isValid()?this.toISOString():null}function YU(){return Sb(this)}function qU(){return Gr({},tt(this))}function KU(){return tt(this).overflow}function XU(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Be("N",0,0,"eraAbbr");Be("NN",0,0,"eraAbbr");Be("NNN",0,0,"eraAbbr");Be("NNNN",0,0,"eraName");Be("NNNNN",0,0,"eraNarrow");Be("y",["y",1],"yo","eraYear");Be("y",["yy",2],0,"eraYear");Be("y",["yyy",3],0,"eraYear");Be("y",["yyyy",4],0,"eraYear");Ne("N",Ub);Ne("NN",Ub);Ne("NNN",Ub);Ne("NNNN",a4);Ne("NNNNN",l4);It(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,s){var i=n._locale.erasParse(t,s,n._strict);i?tt(n).era=i:tt(n).invalidEra=t});Ne("y",ac);Ne("yy",ac);Ne("yyy",ac);Ne("yyyy",ac);Ne("yo",c4);It(["y","yy","yyy","yyyy"],kn);It(["yo"],function(t,e,n,s){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[kn]=n._locale.eraYearOrdinalParse(t,i):e[kn]=parseInt(t,10)});function ZU(t,e){var n,s,i,r=this._eras||_r("en")._eras;for(n=0,s=r.length;n<s;++n){switch(typeof r[n].since){case"string":i=Te(r[n].since).startOf("day"),r[n].since=i.valueOf();break}switch(typeof r[n].until){case"undefined":r[n].until=1/0;break;case"string":i=Te(r[n].until).startOf("day").valueOf(),r[n].until=i.valueOf();break}}return r}function JU(t,e,n){var s,i,r=this.eras(),o,a,l;for(t=t.toUpperCase(),s=0,i=r.length;s<i;++s)if(o=r[s].name.toUpperCase(),a=r[s].abbr.toUpperCase(),l=r[s].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return r[s];break;case"NNNN":if(o===t)return r[s];break;case"NNNNN":if(l===t)return r[s];break}else if([o,a,l].indexOf(t)>=0)return r[s]}function QU(t,e){var n=t.since<=t.until?1:-1;return e===void 0?Te(t.since).year():Te(t.since).year()+(e-t.offset)*n}function e4(){var t,e,n,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),s[t].since<=n&&n<=s[t].until||s[t].until<=n&&n<=s[t].since)return s[t].name;return""}function t4(){var t,e,n,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),s[t].since<=n&&n<=s[t].until||s[t].until<=n&&n<=s[t].since)return s[t].narrow;return""}function n4(){var t,e,n,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),s[t].since<=n&&n<=s[t].until||s[t].until<=n&&n<=s[t].since)return s[t].abbr;return""}function s4(){var t,e,n,s,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,s=this.clone().startOf("day").valueOf(),i[t].since<=s&&s<=i[t].until||i[t].until<=s&&s<=i[t].since)return(this.year()-Te(i[t].since).year())*n+i[t].offset;return this.year()}function i4(t){return wt(this,"_erasNameRegex")||Bb.call(this),t?this._erasNameRegex:this._erasRegex}function r4(t){return wt(this,"_erasAbbrRegex")||Bb.call(this),t?this._erasAbbrRegex:this._erasRegex}function o4(t){return wt(this,"_erasNarrowRegex")||Bb.call(this),t?this._erasNarrowRegex:this._erasRegex}function Ub(t,e){return e.erasAbbrRegex(t)}function a4(t,e){return e.erasNameRegex(t)}function l4(t,e){return e.erasNarrowRegex(t)}function c4(t,e){return e._eraYearOrdinalRegex||ac}function Bb(){var t=[],e=[],n=[],s=[],i,r,o=this.eras();for(i=0,r=o.length;i<r;++i)e.push(ls(o[i].name)),t.push(ls(o[i].abbr)),n.push(ls(o[i].narrow)),s.push(ls(o[i].name)),s.push(ls(o[i].abbr)),s.push(ls(o[i].narrow));this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}Be(0,["gg",2],0,function(){return this.weekYear()%100});Be(0,["GG",2],0,function(){return this.isoWeekYear()%100});function $p(t,e){Be(0,[t,t.length],0,e)}$p("gggg","weekYear");$p("ggggg","weekYear");$p("GGGG","isoWeekYear");$p("GGGGG","isoWeekYear");In("weekYear","gg");In("isoWeekYear","GG");Dn("weekYear",1);Dn("isoWeekYear",1);Ne("G",Lp);Ne("g",Lp);Ne("GG",jt,hs);Ne("gg",jt,hs);Ne("GGGG",Rb,Cb);Ne("gggg",Rb,Cb);Ne("GGGGG",Op,Pp);Ne("ggggg",Op,Pp);_d(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,s){e[s.substr(0,2)]=ct(t)});_d(["gg","GG"],function(t,e,n,s){e[s]=Te.parseTwoDigitYear(t)});function u4(t){return hA.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function d4(t){return hA.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function f4(){return or(this.year(),1,4)}function h4(){return or(this.isoWeekYear(),1,4)}function p4(){var t=this.localeData()._week;return or(this.year(),t.dow,t.doy)}function m4(){var t=this.localeData()._week;return or(this.weekYear(),t.dow,t.doy)}function hA(t,e,n,s,i){var r;return t==null?Vu(this,s,i).year:(r=or(t,s,i),e>r&&(e=r),g4.call(this,t,e,n,s,i))}function g4(t,e,n,s,i){var r=jM(t,e,n,s,i),o=Gu(r.year,0,r.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}Be("Q",0,"Qo","quarter");In("quarter","Q");Dn("quarter",7);Ne("Q",NM);It("Q",function(t,e){e[tr]=(ct(t)-1)*3});function _4(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}Be("D",["DD",2],"Do","date");In("date","D");Dn("date",9);Ne("D",jt);Ne("DD",jt,hs);Ne("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});It(["D","DD"],bi);It("Do",function(t,e){e[bi]=ct(t.match(jt)[0])});var pA=oc("Date",!0);Be("DDD",["DDDD",3],"DDDo","dayOfYear");In("dayOfYear","DDD");Dn("dayOfYear",4);Ne("DDD",kp);Ne("DDDD",FM);It(["DDD","DDDD"],function(t,e,n){n._dayOfYear=ct(t)});function y4(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}Be("m",["mm",2],0,"minute");In("minute","m");Dn("minute",14);Ne("m",jt);Ne("mm",jt,hs);It(["m","mm"],qs);var b4=oc("Minutes",!1);Be("s",["ss",2],0,"second");In("second","s");Dn("second",15);Ne("s",jt);Ne("ss",jt,hs);It(["s","ss"],nr);var v4=oc("Seconds",!1);Be("S",0,0,function(){return~~(this.millisecond()/100)});Be(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Be(0,["SSS",3],0,"millisecond");Be(0,["SSSS",4],0,function(){return this.millisecond()*10});Be(0,["SSSSS",5],0,function(){return this.millisecond()*100});Be(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Be(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Be(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Be(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});In("millisecond","ms");Dn("millisecond",16);Ne("S",kp,NM);Ne("SS",kp,hs);Ne("SSS",kp,FM);var Vr,mA;for(Vr="SSSS";Vr.length<=9;Vr+="S")Ne(Vr,ac);function w4(t,e){e[Bo]=ct(("0."+t)*1e3)}for(Vr="S";Vr.length<=9;Vr+="S")It(Vr,w4);mA=oc("Milliseconds",!1);Be("z",0,0,"zoneAbbr");Be("zz",0,0,"zoneName");function x4(){return this._isUTC?"UTC":""}function S4(){return this._isUTC?"Coordinated Universal Time":""}var ve=md.prototype;ve.add=mU;ve.calendar=xU;ve.clone=SU;ve.diff=PU;ve.endOf=BU;ve.format=IU;ve.from=DU;ve.fromNow=NU;ve.to=FU;ve.toNow=$U;ve.get=TF;ve.invalidAt=KU;ve.isAfter=EU;ve.isBefore=TU;ve.isBetween=MU;ve.isSame=AU;ve.isSameOrAfter=CU;ve.isSameOrBefore=RU;ve.isValid=YU;ve.lang=lA;ve.locale=aA;ve.localeData=cA;ve.max=Y$;ve.min=j$;ve.parsingFlags=qU;ve.set=MF;ve.startOf=UU;ve.subtract=gU;ve.toArray=HU;ve.toObject=WU;ve.toDate=VU;ve.toISOString=OU;ve.inspect=LU;typeof Symbol!="undefined"&&Symbol.for!=null&&(ve[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});ve.toJSON=jU;ve.toString=kU;ve.unix=GU;ve.valueOf=zU;ve.creationData=XU;ve.eraName=e4;ve.eraNarrow=t4;ve.eraAbbr=n4;ve.eraYear=s4;ve.year=WM;ve.isLeapYear=WF;ve.weekYear=u4;ve.isoWeekYear=d4;ve.quarter=ve.quarters=_4;ve.month=VM;ve.daysInMonth=GF;ve.week=ve.weeks=ZF;ve.isoWeek=ve.isoWeeks=JF;ve.weeksInYear=p4;ve.weeksInWeekYear=m4;ve.isoWeeksInYear=f4;ve.isoWeeksInISOWeekYear=h4;ve.date=pA;ve.day=ve.days=d$;ve.weekday=f$;ve.isoWeekday=h$;ve.dayOfYear=y4;ve.hour=ve.hours=v$;ve.minute=ve.minutes=b4;ve.second=ve.seconds=v4;ve.millisecond=ve.milliseconds=mA;ve.utcOffset=nU;ve.utc=iU;ve.local=rU;ve.parseZone=oU;ve.hasAlignedHourOffset=aU;ve.isDST=lU;ve.isLocal=uU;ve.isUtcOffset=dU;ve.isUtc=sA;ve.isUTC=sA;ve.zoneAbbr=x4;ve.zoneName=S4;ve.dates=Ls("dates accessor is deprecated. Use date instead.",pA);ve.months=Ls("months accessor is deprecated. Use month instead",VM);ve.years=Ls("years accessor is deprecated. Use year instead",WM);ve.zone=Ls("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",sU);ve.isDSTShifted=Ls("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",cU);function E4(t){return Wt(t*1e3)}function T4(){return Wt.apply(null,arguments).parseZone()}function gA(t){return t}var Et=Tb.prototype;Et.calendar=dF;Et.longDateFormat=mF;Et.invalidDate=_F;Et.ordinal=vF;Et.preparse=gA;Et.postformat=gA;Et.relativeTime=xF;Et.pastFuture=SF;Et.set=cF;Et.eras=ZU;Et.erasParse=JU;Et.erasConvertYear=QU;Et.erasAbbrRegex=r4;Et.erasNameRegex=i4;Et.erasNarrowRegex=o4;Et.months=$F;Et.monthsShort=UF;Et.monthsParse=zF;Et.monthsRegex=HF;Et.monthsShortRegex=VF;Et.week=YF;Et.firstDayOfYear=XF;Et.firstDayOfWeek=KF;Et.weekdays=o$;Et.weekdaysMin=l$;Et.weekdaysShort=a$;Et.weekdaysParse=u$;Et.weekdaysRegex=p$;Et.weekdaysShortRegex=m$;Et.weekdaysMinRegex=g$;Et.isPM=y$;Et.meridiem=w$;function Ah(t,e,n,s){var i=_r(),r=Ri().set(s,e);return i[n](r,t)}function _A(t,e,n){if(dr(t)&&(e=t,t=void 0),t=t||"",e!=null)return Ah(t,e,n,"month");var s,i=[];for(s=0;s<12;s++)i[s]=Ah(t,s,n,"month");return i}function zb(t,e,n,s){typeof t=="boolean"?(dr(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,dr(e)&&(n=e,e=void 0),e=e||"");var i=_r(),r=t?i._week.dow:0,o,a=[];if(n!=null)return Ah(e,(n+r)%7,s,"day");for(o=0;o<7;o++)a[o]=Ah(e,(o+r)%7,s,"day");return a}function M4(t,e){return _A(t,e,"months")}function A4(t,e){return _A(t,e,"monthsShort")}function C4(t,e,n){return zb(t,e,n,"weekdays")}function R4(t,e,n){return zb(t,e,n,"weekdaysShort")}function P4(t,e,n){return zb(t,e,n,"weekdaysMin")}eo("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=ct(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});Te.lang=Ls("moment.lang is deprecated. Use moment.locale instead.",eo);Te.langData=Ls("moment.langData is deprecated. Use moment.localeData instead.",_r);var Ii=Math.abs;function k4(){var t=this._data;return this._milliseconds=Ii(this._milliseconds),this._days=Ii(this._days),this._months=Ii(this._months),t.milliseconds=Ii(t.milliseconds),t.seconds=Ii(t.seconds),t.minutes=Ii(t.minutes),t.hours=Ii(t.hours),t.months=Ii(t.months),t.years=Ii(t.years),this}function yA(t,e,n,s){var i=ai(e,n);return t._milliseconds+=s*i._milliseconds,t._days+=s*i._days,t._months+=s*i._months,t._bubble()}function O4(t,e){return yA(this,t,e,1)}function L4(t,e){return yA(this,t,e,-1)}function Xw(t){return t<0?Math.floor(t):Math.ceil(t)}function I4(){var t=this._milliseconds,e=this._days,n=this._months,s=this._data,i,r,o,a,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=Xw(D_(n)+e)*864e5,e=0,n=0),s.milliseconds=t%1e3,i=ws(t/1e3),s.seconds=i%60,r=ws(i/60),s.minutes=r%60,o=ws(r/60),s.hours=o%24,e+=ws(o/24),l=ws(bA(e)),n+=l,e-=Xw(D_(l)),a=ws(n/12),n%=12,s.days=e,s.months=n,s.years=a,this}function bA(t){return t*4800/146097}function D_(t){return t*146097/4800}function D4(t){if(!this.isValid())return NaN;var e,n,s=this._milliseconds;if(t=Is(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+s/864e5,n=this._months+bA(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(D_(this._months)),t){case"week":return e/7+s/6048e5;case"day":return e+s/864e5;case"hour":return e*24+s/36e5;case"minute":return e*1440+s/6e4;case"second":return e*86400+s/1e3;case"millisecond":return Math.floor(e*864e5)+s;default:throw new Error("Unknown unit "+t)}}function N4(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+ct(this._months/12)*31536e6:NaN}function yr(t){return function(){return this.as(t)}}var F4=yr("ms"),$4=yr("s"),U4=yr("m"),B4=yr("h"),z4=yr("d"),G4=yr("w"),V4=yr("M"),H4=yr("Q"),W4=yr("y");function j4(){return ai(this)}function Y4(t){return t=Is(t),this.isValid()?this[t+"s"]():NaN}function ya(t){return function(){return this.isValid()?this._data[t]:NaN}}var q4=ya("milliseconds"),K4=ya("seconds"),X4=ya("minutes"),Z4=ya("hours"),J4=ya("days"),Q4=ya("months"),eB=ya("years");function tB(){return ws(this.days()/7)}var Yi=Math.round,cl={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function nB(t,e,n,s,i){return i.relativeTime(e||1,!!n,t,s)}function sB(t,e,n,s){var i=ai(t).abs(),r=Yi(i.as("s")),o=Yi(i.as("m")),a=Yi(i.as("h")),l=Yi(i.as("d")),c=Yi(i.as("M")),u=Yi(i.as("w")),d=Yi(i.as("y")),f=r<=n.ss&&["s",r]||r<n.s&&["ss",r]||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(f=f||u<=1&&["w"]||u<n.w&&["ww",u]),f=f||c<=1&&["M"]||c<n.M&&["MM",c]||d<=1&&["y"]||["yy",d],f[2]=e,f[3]=+t>0,f[4]=s,nB.apply(null,f)}function iB(t){return t===void 0?Yi:typeof t=="function"?(Yi=t,!0):!1}function rB(t,e){return cl[t]===void 0?!1:e===void 0?cl[t]:(cl[t]=e,t==="s"&&(cl.ss=e-1),!0)}function oB(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,s=cl,i,r;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(s=Object.assign({},cl,e),e.s!=null&&e.ss==null&&(s.ss=e.s-1)),i=this.localeData(),r=sB(this,!n,s,i),n&&(r=i.pastFuture(+this,r)),i.postformat(r)}var Wm=Math.abs;function Oa(t){return(t>0)-(t<0)||+t}function Up(){if(!this.isValid())return this.localeData().invalidDate();var t=Wm(this._milliseconds)/1e3,e=Wm(this._days),n=Wm(this._months),s,i,r,o,a=this.asSeconds(),l,c,u,d;return a?(s=ws(t/60),i=ws(s/60),t%=60,s%=60,r=ws(n/12),n%=12,o=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",c=Oa(this._months)!==Oa(a)?"-":"",u=Oa(this._days)!==Oa(a)?"-":"",d=Oa(this._milliseconds)!==Oa(a)?"-":"",l+"P"+(r?c+r+"Y":"")+(n?c+n+"M":"")+(e?u+e+"D":"")+(i||s||t?"T":"")+(i?d+i+"H":"")+(s?d+s+"M":"")+(t?d+o+"S":"")):"P0D"}var gt=Fp.prototype;gt.isValid=J$;gt.abs=k4;gt.add=O4;gt.subtract=L4;gt.as=D4;gt.asMilliseconds=F4;gt.asSeconds=$4;gt.asMinutes=U4;gt.asHours=B4;gt.asDays=z4;gt.asWeeks=G4;gt.asMonths=V4;gt.asQuarters=H4;gt.asYears=W4;gt.valueOf=N4;gt._bubble=I4;gt.clone=j4;gt.get=Y4;gt.milliseconds=q4;gt.seconds=K4;gt.minutes=X4;gt.hours=Z4;gt.days=J4;gt.weeks=tB;gt.months=Q4;gt.years=eB;gt.humanize=oB;gt.toISOString=Up;gt.toString=Up;gt.toJSON=Up;gt.locale=aA;gt.localeData=cA;gt.toIsoString=Ls("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Up);gt.lang=lA;Be("X",0,0,"unix");Be("x",0,0,"valueOf");Ne("x",Lp);Ne("X",CF);It("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});It("x",function(t,e,n){n._d=new Date(ct(t))});//! moment.js
Te.version="2.29.4";aF(Wt);Te.fn=ve;Te.min=q$;Te.max=K$;Te.now=X$;Te.utc=Ri;Te.unix=E4;Te.months=M4;Te.isDate=pd;Te.locale=eo;Te.invalid=Cp;Te.duration=ai;Te.isMoment=ii;Te.weekdays=C4;Te.parseZone=T4;Te.localeData=_r;Te.isDuration=Wf;Te.monthsShort=A4;Te.weekdaysMin=P4;Te.defineLocale=Lb;Te.updateLocale=T$;Te.locales=M$;Te.weekdaysShort=R4;Te.normalizeUnits=Is;Te.relativeTimeRounding=iB;Te.relativeTimeThreshold=rB;Te.calendarFormat=wU;Te.prototype=ve;Te.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function vA(t){return Te(t).fromNow()}function aB(t,e=!1,n=1){const s=e?1e3:1024;if(Math.abs(t)<s)return t+" B";const i=e?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];let r=-1;const o=10**n;do t/=s,++r;while(Math.round(Math.abs(t)*o)/o>=s&&r<i.length-1);return t.toFixed(n)+" "+i[r]}var lB=!1;/*!
  * pinia v2.0.15
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let wA;const Bp=t=>wA=t,xA=Symbol();function N_(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var _u;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(_u||(_u={}));function cB(){const t=zE(!0),e=t.run(()=>ap({}));let n=[],s=[];const i=Ol({install(r){Bp(i),i._a=r,r.provide(xA,i),r.config.globalProperties.$pinia=i,s.forEach(o=>n.push(o)),s=[]},use(r){return!this._a&&!lB?s.push(r):n.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const SA=()=>{};function Zw(t,e,n,s=SA){t.push(e);const i=()=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),s())};return!n&&_p()&&Qy(i),i}function La(t,...e){t.slice().forEach(n=>{n(...e)})}function F_(t,e){for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],i=t[n];N_(i)&&N_(s)&&t.hasOwnProperty(n)&&!on(s)&&!Zr(s)?t[n]=F_(i,s):t[n]=s}return t}const uB=Symbol();function dB(t){return!N_(t)||!t.hasOwnProperty(uB)}const{assign:qi}=Object;function fB(t){return!!(on(t)&&t.effect)}function hB(t,e,n,s){const{state:i,actions:r,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=i?i():{});const u=wk(n.state.value[t]);return qi(u,r,Object.keys(o||{}).reduce((d,f)=>(d[f]=Ol(Ft(()=>{Bp(n);const h=n._s.get(t);return o[f].call(h,h)})),d),{}))}return l=EA(t,c,e,n,s,!0),l.$reset=function(){const d=i?i():{};this.$patch(f=>{qi(f,d)})},l}function EA(t,e,n={},s,i,r){let o;const a=qi({actions:{}},n),l={deep:!0};let c,u,d=Ol([]),f=Ol([]),h;const _=s.state.value[t];!r&&!_&&(s.state.value[t]={}),ap({});let g;function m(A){let w;c=u=!1,typeof A=="function"?(A(s.state.value[t]),w={type:_u.patchFunction,storeId:t,events:h}):(F_(s.state.value[t],A),w={type:_u.patchObject,payload:A,storeId:t,events:h});const C=g=Symbol();Ky().then(()=>{g===C&&(c=!0)}),u=!0,La(d,w,s.state.value[t])}const y=SA;function b(){o.stop(),d=[],f=[],s._s.delete(t)}function S(A,w){return function(){Bp(s);const C=Array.from(arguments),N=[],O=[];function z(V){N.push(V)}function ee(V){O.push(V)}La(f,{args:C,name:A,store:v,after:z,onError:ee});let B;try{B=w.apply(this&&this.$id===t?this:v,C)}catch(V){throw La(O,V),V}return B instanceof Promise?B.then(V=>(La(N,V),V)).catch(V=>(La(O,V),Promise.reject(V))):(La(N,B),B)}}const x={_p:s,$id:t,$onAction:Zw.bind(null,f),$patch:m,$reset:y,$subscribe(A,w={}){const C=Zw(d,A,w.detached,()=>N()),N=o.run(()=>Qr(()=>s.state.value[t],O=>{(w.flush==="sync"?u:c)&&A({storeId:t,type:_u.direct,events:h},O)},qi({},l,w)));return C},$dispose:b},v=nc(qi({},x));s._s.set(t,v);const E=s._e.run(()=>(o=zE(),o.run(()=>e())));for(const A in E){const w=E[A];if(on(w)&&!fB(w)||Zr(w))r||(_&&dB(w)&&(on(w)?w.value=_[A]:F_(w,_[A])),s.state.value[t][A]=w);else if(typeof w=="function"){const C=S(A,w);E[A]=C,a.actions[A]=w}}return qi(v,E),qi(nt(v),E),Object.defineProperty(v,"$state",{get:()=>s.state.value[t],set:A=>{m(w=>{qi(w,A)})}}),s._p.forEach(A=>{qi(v,o.run(()=>A({store:v,app:s._a,pinia:s,options:a})))}),_&&r&&n.hydrate&&n.hydrate(v.$state,_),c=!0,u=!0,v}function rs(t,e,n){let s,i;const r=typeof e=="function";typeof t=="string"?(s=t,i=r?n:e):(i=t,s=t.id);function o(a,l){const c=_p();return a=a||c&&rr(xA),a&&Bp(a),a=wA,a._s.has(s)||(r?EA(s,e,i,a):hB(s,i,a)),a._s.get(s)}return o.$id=s,o}function TA(t,e){return Array.isArray(e)?e.reduce((n,s)=>(n[s]=function(){return t(this.$pinia)[s]},n),{}):Object.keys(e).reduce((n,s)=>(n[s]=function(){const i=t(this.$pinia),r=e[s];return typeof r=="function"?r.call(this,i):i[r]},n),{})}const Jw="#".charCodeAt(0),pB=4;var Cn=(t=>(t[t.Invalid=0]="Invalid",t[t.Get=1]="Get",t[t.Set=2]="Set",t[t.Log=3]="Log",t[t.CalImu=4]="CalImu",t[t.Blackbox=5]="Blackbox",t[t.Motor=6]="Motor",t[t.CalSticks=7]="CalSticks",t[t.Serial=8]="Serial",t[t.Max=9]="Max",t))(Cn||{}),pn=(t=>(t[t.Invalid=0]="Invalid",t[t.Info=1]="Info",t[t.Profile=2]="Profile",t[t.DefaultProfile=3]="DefaultProfile",t[t.State=4]="State",t[t.PidRatePresets=5]="PidRatePresets",t[t.VtxSettings=6]="VtxSettings",t[t.OSDFont=7]="OSDFont",t[t.BLHeliSettings=8]="BLHeliSettings",t[t.BindInfo=9]="BindInfo",t[t.PerfCounters=10]="PerfCounters",t))(pn||{}),Zc=(t=>(t[t.Reset=0]="Reset",t[t.List=1]="List",t[t.Get=2]="Get",t))(Zc||{}),Jc=(t=>(t[t.TestStatus=0]="TestStatus",t[t.TestEnable=1]="TestEnable",t[t.TestDisable=2]="TestDisable",t[t.TestSetValue=3]="TestSetValue",t[t.Esc4WayIf=4]="Esc4WayIf",t))(Jc||{}),Yf=(t=>(t[t.None=0]="None",t[t.Error=1]="Error",t[t.Streaming=2]="Streaming",t[t.Exit=3]="Exit",t))(Yf||{});function $_(t,e){const n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}class Gb{constructor(){it(this,"offset",0);it(this,"buf",new ArrayBuffer(4));it(this,"view",new DataView(this.buf))}get length(){return this.offset}writeUint8(e){this.grow(),this.view.setUint8(this.offset,e),this.offset++}writeUint8s(e){this.grow(e.length);for(let n=0;n<e.length;n++)this.view.setUint8(this.offset,e[n]),this.offset++}writeFloat32(e){this.grow(4),this.view.setFloat32(this.offset,e),this.offset+=4}array(){return new Uint8Array(this.buf,0,this.offset)}grow(e=1){if(this.offset+e>=this.buf.byteLength){let n=this.buf.byteLength;for(;n<this.offset+e;)n*=2;const s=new ArrayBuffer(n);new Uint8Array(s).set(new Uint8Array(this.buf)),this.buf=s,this.view=new DataView(this.buf)}}}class Qw{constructor(e){it(this,"offset",0);it(this,"buf",new ArrayBuffer(0));it(this,"view",new DataView(this.buf));e&&(this.buf=new ArrayBuffer(e.length),new Uint8Array(this.buf).set(e),this.view=new DataView(this.buf))}advance(e){this.offset+=e}remaining(){return this.buf.byteLength-this.offset}peekUint8(){return this.view.getUint8(this.offset)}peekFloat32(){return this.view.getFloat32(this.offset)}}function Ch(t){return`v${t>>16&255}.${t>>8&255}.${t>>0&255}`}const mB=/(android)/i.test(navigator.userAgent),gB={baudRate:921600,bufferSize:64,updateInterval:1e3},_B={baudRate:921600,bufferSize:4*1024*1024,updateInterval:250},Rh={serial:mB?gB:_B};class ex{constructor(e){it(this,"promises",Array());this.permits=e}signal(){this.permits+=1,this.promises.length>0&&this.promises.pop()()}async wait(){this.permits-=1,(this.permits<0||this.promises.length>0)&&await new Promise(e=>this.promises.unshift(e))}}const bo=Rh.serial.bufferSize*2;class yB{constructor(e,n){it(this,"_promises",[]);it(this,"_resolvers",[]);it(this,"_buffer",new Uint8Array(bo));it(this,"_head",0);it(this,"_tail",0);it(this,"_done");it(this,"_abort",new AbortController);this.readable=e,this._done=e.pipeTo(new WritableStream({write:this.write.bind(this)},new ByteLengthQueuingStrategy({highWaterMark:1024})),{signal:this._abort.signal}).catch(s=>{s!="close"&&n(s)})}get _read_len(){return(this._head+bo-this._tail)%bo}get _write_len(){return bo-this._read_len}async close(){this._abort.abort("close"),await this._done,this.readable.cancel()}async write(e,n){if((this._head+1)%bo==this._tail||e.length>this._write_len)throw n==null||n.error("queue full"),new Error("queue full");for(const i of e){const r=(this._head+1)%bo;this._buffer[r]=i,this._head=r}const s=this._resolvers.shift();s&&s()}_add(){return this._promises.length||this._promises.push(new Promise(e=>{this._resolvers.push(e)})),this._promises.shift()||Promise.resolve()}async pop(){return(await this.read(1))[0]}async read(e){if(e==0)return new Uint8Array(e);if(this._head==this._tail||this._read_len<e)return this._add().then(()=>this.read(e));const n=new Uint8Array(e);for(let s=0;s<e;s++){const i=(this._tail+1)%bo;n[s]=this._buffer[i],this._tail=i}return n}}var bB={},MA={},AA=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),s=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(s)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var r=Object.getOwnPropertySymbols(e);if(r.length!==1||r[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,n);if(o.value!==i||o.enumerable!==!0)return!1}return!0},vB=AA,zp=function(){return vB()&&!!Symbol.toStringTag},tx=typeof Symbol!="undefined"&&Symbol,wB=AA,xB=function(){return typeof tx!="function"||typeof Symbol!="function"||typeof tx("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:wB()},SB="Function.prototype.bind called on incompatible ",jm=Array.prototype.slice,EB=Object.prototype.toString,TB="[object Function]",MB=function(e){var n=this;if(typeof n!="function"||EB.call(n)!==TB)throw new TypeError(SB+n);for(var s=jm.call(arguments,1),i,r=function(){if(this instanceof i){var u=n.apply(this,s.concat(jm.call(arguments)));return Object(u)===u?u:this}else return n.apply(e,s.concat(jm.call(arguments)))},o=Math.max(0,n.length-s.length),a=[],l=0;l<o;l++)a.push("$"+l);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(r),n.prototype){var c=function(){};c.prototype=n.prototype,i.prototype=new c,c.prototype=null}return i},AB=MB,Vb=Function.prototype.bind||AB,CB=Vb,RB=CB.call(Function.call,Object.prototype.hasOwnProperty),ht,Fl=SyntaxError,CA=Function,El=TypeError,Ym=function(t){try{return CA('"use strict"; return ('+t+").constructor;")()}catch{}},Zo=Object.getOwnPropertyDescriptor;if(Zo)try{Zo({},"")}catch{Zo=null}var qm=function(){throw new El},PB=Zo?function(){try{return arguments.callee,qm}catch{try{return Zo(arguments,"callee").get}catch{return qm}}}():qm,Ia=xB(),Br=Object.getPrototypeOf||function(t){return t.__proto__},ol={},kB=typeof Uint8Array=="undefined"?ht:Br(Uint8Array),Tl={"%AggregateError%":typeof AggregateError=="undefined"?ht:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?ht:ArrayBuffer,"%ArrayIteratorPrototype%":Ia?Br([][Symbol.iterator]()):ht,"%AsyncFromSyncIteratorPrototype%":ht,"%AsyncFunction%":ol,"%AsyncGenerator%":ol,"%AsyncGeneratorFunction%":ol,"%AsyncIteratorPrototype%":ol,"%Atomics%":typeof Atomics=="undefined"?ht:Atomics,"%BigInt%":typeof BigInt=="undefined"?ht:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?ht:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?ht:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?ht:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?ht:FinalizationRegistry,"%Function%":CA,"%GeneratorFunction%":ol,"%Int8Array%":typeof Int8Array=="undefined"?ht:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?ht:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?ht:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ia?Br(Br([][Symbol.iterator]())):ht,"%JSON%":typeof JSON=="object"?JSON:ht,"%Map%":typeof Map=="undefined"?ht:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!Ia?ht:Br(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?ht:Promise,"%Proxy%":typeof Proxy=="undefined"?ht:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?ht:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?ht:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!Ia?ht:Br(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?ht:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ia?Br(""[Symbol.iterator]()):ht,"%Symbol%":Ia?Symbol:ht,"%SyntaxError%":Fl,"%ThrowTypeError%":PB,"%TypedArray%":kB,"%TypeError%":El,"%Uint8Array%":typeof Uint8Array=="undefined"?ht:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?ht:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?ht:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?ht:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?ht:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?ht:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?ht:WeakSet},OB=function t(e){var n;if(e==="%AsyncFunction%")n=Ym("async function () {}");else if(e==="%GeneratorFunction%")n=Ym("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=Ym("async function* () {}");else if(e==="%AsyncGenerator%"){var s=t("%AsyncGeneratorFunction%");s&&(n=s.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&(n=Br(i.prototype))}return Tl[e]=n,n},nx={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},yd=Vb,Ph=RB,LB=yd.call(Function.call,Array.prototype.concat),IB=yd.call(Function.apply,Array.prototype.splice),sx=yd.call(Function.call,String.prototype.replace),kh=yd.call(Function.call,String.prototype.slice),DB=yd.call(Function.call,RegExp.prototype.exec),NB=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,FB=/\\(\\)?/g,$B=function(e){var n=kh(e,0,1),s=kh(e,-1);if(n==="%"&&s!=="%")throw new Fl("invalid intrinsic syntax, expected closing `%`");if(s==="%"&&n!=="%")throw new Fl("invalid intrinsic syntax, expected opening `%`");var i=[];return sx(e,NB,function(r,o,a,l){i[i.length]=a?sx(l,FB,"$1"):o||r}),i},UB=function(e,n){var s=e,i;if(Ph(nx,s)&&(i=nx[s],s="%"+i[0]+"%"),Ph(Tl,s)){var r=Tl[s];if(r===ol&&(r=OB(s)),typeof r=="undefined"&&!n)throw new El("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:s,value:r}}throw new Fl("intrinsic "+e+" does not exist!")},Hb=function(e,n){if(typeof e!="string"||e.length===0)throw new El("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new El('"allowMissing" argument must be a boolean');if(DB(/^%?[^%]*%?$/g,e)===null)throw new Fl("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var s=$B(e),i=s.length>0?s[0]:"",r=UB("%"+i+"%",n),o=r.name,a=r.value,l=!1,c=r.alias;c&&(i=c[0],IB(s,LB([0,1],c)));for(var u=1,d=!0;u<s.length;u+=1){var f=s[u],h=kh(f,0,1),_=kh(f,-1);if((h==='"'||h==="'"||h==="`"||_==='"'||_==="'"||_==="`")&&h!==_)throw new Fl("property names with quotes must have matching quotes");if((f==="constructor"||!d)&&(l=!0),i+="."+f,o="%"+i+"%",Ph(Tl,o))a=Tl[o];else if(a!=null){if(!(f in a)){if(!n)throw new El("base intrinsic for "+e+" exists, but the property is not available.");return}if(Zo&&u+1>=s.length){var g=Zo(a,f);d=!!g,d&&"get"in g&&!("originalValue"in g.get)?a=g.get:a=a[f]}else d=Ph(a,f),a=a[f];d&&!l&&(Tl[o]=a)}}return a},RA={exports:{}};(function(t){var e=Vb,n=Hb,s=n("%Function.prototype.apply%"),i=n("%Function.prototype.call%"),r=n("%Reflect.apply%",!0)||e.call(i,s),o=n("%Object.getOwnPropertyDescriptor%",!0),a=n("%Object.defineProperty%",!0),l=n("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(d){var f=r(e,i,arguments);if(o&&a){var h=o(f,"length");h.configurable&&a(f,"length",{value:1+l(0,d.length-(arguments.length-1))})}return f};var c=function(){return r(e,s,arguments)};a?a(t.exports,"apply",{value:c}):t.exports.apply=c})(RA);var PA=Hb,kA=RA.exports,BB=kA(PA("String.prototype.indexOf")),Wb=function(e,n){var s=PA(e,!!n);return typeof s=="function"&&BB(e,".prototype.")>-1?kA(s):s},zB=zp(),GB=Wb,U_=GB("Object.prototype.toString"),Gp=function(e){return zB&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:U_(e)==="[object Arguments]"},OA=function(e){return Gp(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&U_(e)!=="[object Array]"&&U_(e.callee)==="[object Function]"},VB=function(){return Gp(arguments)}();Gp.isLegacyArguments=OA;var HB=VB?Gp:OA,WB=Object.prototype.toString,jB=Function.prototype.toString,YB=/^\s*(?:function)?\*/,LA=zp(),Km=Object.getPrototypeOf,qB=function(){if(!LA)return!1;try{return Function("return function*() {}")()}catch{}},Xm,KB=function(e){if(typeof e!="function")return!1;if(YB.test(jB.call(e)))return!0;if(!LA){var n=WB.call(e);return n==="[object GeneratorFunction]"}if(!Km)return!1;if(typeof Xm=="undefined"){var s=qB();Xm=s?Km(s):!1}return Km(e)===Xm},IA=Function.prototype.toString,ul=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,B_,qf;if(typeof ul=="function"&&typeof Object.defineProperty=="function")try{B_=Object.defineProperty({},"length",{get:function(){throw qf}}),qf={},ul(function(){throw 42},null,B_)}catch(t){t!==qf&&(ul=null)}else ul=null;var XB=/^\s*class\b/,z_=function(e){try{var n=IA.call(e);return XB.test(n)}catch{return!1}},ZB=function(e){try{return z_(e)?!1:(IA.call(e),!0)}catch{return!1}},JB=Object.prototype.toString,QB="[object Function]",e5="[object GeneratorFunction]",t5=typeof Symbol=="function"&&!!Symbol.toStringTag,ix=typeof document=="object"&&typeof document.all=="undefined"&&document.all!==void 0?document.all:{},n5=ul?function(e){if(e===ix)return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(typeof e=="function"&&!e.prototype)return!0;try{ul(e,null,B_)}catch(n){if(n!==qf)return!1}return!z_(e)}:function(e){if(e===ix)return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(typeof e=="function"&&!e.prototype)return!0;if(t5)return ZB(e);if(z_(e))return!1;var n=JB.call(e);return n===QB||n===e5},s5=n5,i5=Object.prototype.toString,DA=Object.prototype.hasOwnProperty,r5=function(e,n,s){for(var i=0,r=e.length;i<r;i++)DA.call(e,i)&&(s==null?n(e[i],i,e):n.call(s,e[i],i,e))},o5=function(e,n,s){for(var i=0,r=e.length;i<r;i++)s==null?n(e.charAt(i),i,e):n.call(s,e.charAt(i),i,e)},a5=function(e,n,s){for(var i in e)DA.call(e,i)&&(s==null?n(e[i],i,e):n.call(s,e[i],i,e))},l5=function(e,n,s){if(!s5(n))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=s),i5.call(e)==="[object Array]"?r5(e,n,i):typeof e=="string"?o5(e,n,i):a5(e,n,i)},NA=l5,Zm=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],c5=typeof globalThis=="undefined"?rb:globalThis,FA=function(){for(var e=[],n=0;n<Zm.length;n++)typeof c5[Zm[n]]=="function"&&(e[e.length]=Zm[n]);return e},u5=Hb,Kf=u5("%Object.getOwnPropertyDescriptor%",!0);if(Kf)try{Kf([],"length")}catch{Kf=null}var $A=Kf,UA=NA,d5=FA,jb=Wb,f5=jb("Object.prototype.toString"),BA=zp(),h5=typeof globalThis=="undefined"?rb:globalThis,zA=d5(),p5=jb("Array.prototype.indexOf",!0)||function(e,n){for(var s=0;s<e.length;s+=1)if(e[s]===n)return s;return-1},m5=jb("String.prototype.slice"),GA={},Xf=$A,Jm=Object.getPrototypeOf;BA&&Xf&&Jm&&UA(zA,function(t){var e=new h5[t];if(Symbol.toStringTag in e){var n=Jm(e),s=Xf(n,Symbol.toStringTag);if(!s){var i=Jm(n);s=Xf(i,Symbol.toStringTag)}GA[t]=s.get}});var g5=function(e){var n=!1;return UA(GA,function(s,i){if(!n)try{n=s.call(e)===i}catch{}}),n},VA=function(e){if(!e||typeof e!="object")return!1;if(!BA||!(Symbol.toStringTag in e)){var n=m5(f5(e),8,-1);return p5(zA,n)>-1}return Xf?g5(e):!1},HA=NA,_5=FA,WA=Wb,y5=WA("Object.prototype.toString"),jA=zp(),rx=typeof globalThis=="undefined"?rb:globalThis,b5=_5(),v5=WA("String.prototype.slice"),YA={},Qm=$A,eg=Object.getPrototypeOf;jA&&Qm&&eg&&HA(b5,function(t){if(typeof rx[t]=="function"){var e=new rx[t];if(Symbol.toStringTag in e){var n=eg(e),s=Qm(n,Symbol.toStringTag);if(!s){var i=eg(n);s=Qm(i,Symbol.toStringTag)}YA[t]=s.get}}});var w5=function(e){var n=!1;return HA(YA,function(s,i){if(!n)try{var r=s.call(e);r===i&&(n=r)}catch{}}),n},x5=VA,S5=function(e){return x5(e)?!jA||!(Symbol.toStringTag in e)?v5(y5(e),8,-1):w5(e):!1};(function(t){var e=HB,n=KB,s=S5,i=VA;function r($){return $.call.bind($)}var o=typeof BigInt!="undefined",a=typeof Symbol!="undefined",l=r(Object.prototype.toString),c=r(Number.prototype.valueOf),u=r(String.prototype.valueOf),d=r(Boolean.prototype.valueOf);if(o)var f=r(BigInt.prototype.valueOf);if(a)var h=r(Symbol.prototype.valueOf);function _($,be){if(typeof $!="object")return!1;try{return be($),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=n,t.isTypedArray=i;function g($){return typeof Promise!="undefined"&&$ instanceof Promise||$!==null&&typeof $=="object"&&typeof $.then=="function"&&typeof $.catch=="function"}t.isPromise=g;function m($){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView($):i($)||L($)}t.isArrayBufferView=m;function y($){return s($)==="Uint8Array"}t.isUint8Array=y;function b($){return s($)==="Uint8ClampedArray"}t.isUint8ClampedArray=b;function S($){return s($)==="Uint16Array"}t.isUint16Array=S;function x($){return s($)==="Uint32Array"}t.isUint32Array=x;function v($){return s($)==="Int8Array"}t.isInt8Array=v;function E($){return s($)==="Int16Array"}t.isInt16Array=E;function A($){return s($)==="Int32Array"}t.isInt32Array=A;function w($){return s($)==="Float32Array"}t.isFloat32Array=w;function C($){return s($)==="Float64Array"}t.isFloat64Array=C;function N($){return s($)==="BigInt64Array"}t.isBigInt64Array=N;function O($){return s($)==="BigUint64Array"}t.isBigUint64Array=O;function z($){return l($)==="[object Map]"}z.working=typeof Map!="undefined"&&z(new Map);function ee($){return typeof Map=="undefined"?!1:z.working?z($):$ instanceof Map}t.isMap=ee;function B($){return l($)==="[object Set]"}B.working=typeof Set!="undefined"&&B(new Set);function V($){return typeof Set=="undefined"?!1:B.working?B($):$ instanceof Set}t.isSet=V;function H($){return l($)==="[object WeakMap]"}H.working=typeof WeakMap!="undefined"&&H(new WeakMap);function te($){return typeof WeakMap=="undefined"?!1:H.working?H($):$ instanceof WeakMap}t.isWeakMap=te;function J($){return l($)==="[object WeakSet]"}J.working=typeof WeakSet!="undefined"&&J(new WeakSet);function X($){return J($)}t.isWeakSet=X;function oe($){return l($)==="[object ArrayBuffer]"}oe.working=typeof ArrayBuffer!="undefined"&&oe(new ArrayBuffer);function me($){return typeof ArrayBuffer=="undefined"?!1:oe.working?oe($):$ instanceof ArrayBuffer}t.isArrayBuffer=me;function k($){return l($)==="[object DataView]"}k.working=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"&&k(new DataView(new ArrayBuffer(1),0,1));function L($){return typeof DataView=="undefined"?!1:k.working?k($):$ instanceof DataView}t.isDataView=L;var q=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:void 0;function F($){return l($)==="[object SharedArrayBuffer]"}function I($){return typeof q=="undefined"?!1:(typeof F.working=="undefined"&&(F.working=F(new q)),F.working?F($):$ instanceof q)}t.isSharedArrayBuffer=I;function le($){return l($)==="[object AsyncFunction]"}t.isAsyncFunction=le;function re($){return l($)==="[object Map Iterator]"}t.isMapIterator=re;function ge($){return l($)==="[object Set Iterator]"}t.isSetIterator=ge;function ue($){return l($)==="[object Generator]"}t.isGeneratorObject=ue;function Me($){return l($)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=Me;function Se($){return _($,c)}t.isNumberObject=Se;function R($){return _($,u)}t.isStringObject=R;function D($){return _($,d)}t.isBooleanObject=D;function K($){return o&&_($,f)}t.isBigIntObject=K;function fe($){return a&&_($,h)}t.isSymbolObject=fe;function he($){return Se($)||R($)||D($)||K($)||fe($)}t.isBoxedPrimitive=he;function _e($){return typeof Uint8Array!="undefined"&&(me($)||I($))}t.isAnyArrayBuffer=_e,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function($){Object.defineProperty(t,$,{enumerable:!1,value:function(){throw new Error($+" is not supported in userland")}})})})(MA);var E5=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"},G_={exports:{}};typeof Object.create=="function"?G_.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:G_.exports=function(e,n){if(n){e.super_=n;var s=function(){};s.prototype=n.prototype,e.prototype=new s,e.prototype.constructor=e}};(function(t){var e=Object.getOwnPropertyDescriptors||function(L){for(var q=Object.keys(L),F={},I=0;I<q.length;I++)F[q[I]]=Object.getOwnPropertyDescriptor(L,q[I]);return F},n=/%[sdj%]/g;t.format=function(k){if(!v(k)){for(var L=[],q=0;q<arguments.length;q++)L.push(o(arguments[q]));return L.join(" ")}for(var q=1,F=arguments,I=F.length,le=String(k).replace(n,function(ge){if(ge==="%%")return"%";if(q>=I)return ge;switch(ge){case"%s":return String(F[q++]);case"%d":return Number(F[q++]);case"%j":try{return JSON.stringify(F[q++])}catch{return"[Circular]"}default:return ge}}),re=F[q];q<I;re=F[++q])b(re)||!C(re)?le+=" "+re:le+=" "+o(re);return le},t.deprecate=function(k,L){if(typeof process!="undefined"&&process.noDeprecation===!0)return k;if(typeof process=="undefined")return function(){return t.deprecate(k,L).apply(this,arguments)};var q=!1;function F(){if(!q){if(process.throwDeprecation)throw new Error(L);process.traceDeprecation?console.trace(L):console.error(L),q=!0}return k.apply(this,arguments)}return F};var s={},i=/^$/;if({}.NODE_DEBUG){var r={}.NODE_DEBUG;r=r.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+r+"$","i")}t.debuglog=function(k){if(k=k.toUpperCase(),!s[k])if(i.test(k)){var L=process.pid;s[k]=function(){var q=t.format.apply(t,arguments);console.error("%s %d: %s",k,L,q)}}else s[k]=function(){};return s[k]};function o(k,L){var q={seen:[],stylize:l};return arguments.length>=3&&(q.depth=arguments[2]),arguments.length>=4&&(q.colors=arguments[3]),y(L)?q.showHidden=L:L&&t._extend(q,L),A(q.showHidden)&&(q.showHidden=!1),A(q.depth)&&(q.depth=2),A(q.colors)&&(q.colors=!1),A(q.customInspect)&&(q.customInspect=!0),q.colors&&(q.stylize=a),u(q,k,q.depth)}t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(k,L){var q=o.styles[L];return q?"\x1B["+o.colors[q][0]+"m"+k+"\x1B["+o.colors[q][1]+"m":k}function l(k,L){return k}function c(k){var L={};return k.forEach(function(q,F){L[q]=!0}),L}function u(k,L,q){if(k.customInspect&&L&&z(L.inspect)&&L.inspect!==t.inspect&&!(L.constructor&&L.constructor.prototype===L)){var F=L.inspect(q,k);return v(F)||(F=u(k,F,q)),F}var I=d(k,L);if(I)return I;var le=Object.keys(L),re=c(le);if(k.showHidden&&(le=Object.getOwnPropertyNames(L)),O(L)&&(le.indexOf("message")>=0||le.indexOf("description")>=0))return f(L);if(le.length===0){if(z(L)){var ge=L.name?": "+L.name:"";return k.stylize("[Function"+ge+"]","special")}if(w(L))return k.stylize(RegExp.prototype.toString.call(L),"regexp");if(N(L))return k.stylize(Date.prototype.toString.call(L),"date");if(O(L))return f(L)}var ue="",Me=!1,Se=["{","}"];if(m(L)&&(Me=!0,Se=["[","]"]),z(L)){var R=L.name?": "+L.name:"";ue=" [Function"+R+"]"}if(w(L)&&(ue=" "+RegExp.prototype.toString.call(L)),N(L)&&(ue=" "+Date.prototype.toUTCString.call(L)),O(L)&&(ue=" "+f(L)),le.length===0&&(!Me||L.length==0))return Se[0]+ue+Se[1];if(q<0)return w(L)?k.stylize(RegExp.prototype.toString.call(L),"regexp"):k.stylize("[Object]","special");k.seen.push(L);var D;return Me?D=h(k,L,q,re,le):D=le.map(function(K){return _(k,L,q,re,K,Me)}),k.seen.pop(),g(D,ue,Se)}function d(k,L){if(A(L))return k.stylize("undefined","undefined");if(v(L)){var q="'"+JSON.stringify(L).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return k.stylize(q,"string")}if(x(L))return k.stylize(""+L,"number");if(y(L))return k.stylize(""+L,"boolean");if(b(L))return k.stylize("null","null")}function f(k){return"["+Error.prototype.toString.call(k)+"]"}function h(k,L,q,F,I){for(var le=[],re=0,ge=L.length;re<ge;++re)J(L,String(re))?le.push(_(k,L,q,F,String(re),!0)):le.push("");return I.forEach(function(ue){ue.match(/^\d+$/)||le.push(_(k,L,q,F,ue,!0))}),le}function _(k,L,q,F,I,le){var re,ge,ue;if(ue=Object.getOwnPropertyDescriptor(L,I)||{value:L[I]},ue.get?ue.set?ge=k.stylize("[Getter/Setter]","special"):ge=k.stylize("[Getter]","special"):ue.set&&(ge=k.stylize("[Setter]","special")),J(F,I)||(re="["+I+"]"),ge||(k.seen.indexOf(ue.value)<0?(b(q)?ge=u(k,ue.value,null):ge=u(k,ue.value,q-1),ge.indexOf(`
`)>-1&&(le?ge=ge.split(`
`).map(function(Me){return"  "+Me}).join(`
`).substr(2):ge=`
`+ge.split(`
`).map(function(Me){return"   "+Me}).join(`
`))):ge=k.stylize("[Circular]","special")),A(re)){if(le&&I.match(/^\d+$/))return ge;re=JSON.stringify(""+I),re.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(re=re.substr(1,re.length-2),re=k.stylize(re,"name")):(re=re.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),re=k.stylize(re,"string"))}return re+": "+ge}function g(k,L,q){var F=k.reduce(function(I,le){return le.indexOf(`
`)>=0,I+le.replace(/\u001b\[\d\d?m/g,"").length+1},0);return F>60?q[0]+(L===""?"":L+`
 `)+" "+k.join(`,
  `)+" "+q[1]:q[0]+L+" "+k.join(", ")+" "+q[1]}t.types=MA;function m(k){return Array.isArray(k)}t.isArray=m;function y(k){return typeof k=="boolean"}t.isBoolean=y;function b(k){return k===null}t.isNull=b;function S(k){return k==null}t.isNullOrUndefined=S;function x(k){return typeof k=="number"}t.isNumber=x;function v(k){return typeof k=="string"}t.isString=v;function E(k){return typeof k=="symbol"}t.isSymbol=E;function A(k){return k===void 0}t.isUndefined=A;function w(k){return C(k)&&B(k)==="[object RegExp]"}t.isRegExp=w,t.types.isRegExp=w;function C(k){return typeof k=="object"&&k!==null}t.isObject=C;function N(k){return C(k)&&B(k)==="[object Date]"}t.isDate=N,t.types.isDate=N;function O(k){return C(k)&&(B(k)==="[object Error]"||k instanceof Error)}t.isError=O,t.types.isNativeError=O;function z(k){return typeof k=="function"}t.isFunction=z;function ee(k){return k===null||typeof k=="boolean"||typeof k=="number"||typeof k=="string"||typeof k=="symbol"||typeof k=="undefined"}t.isPrimitive=ee,t.isBuffer=E5;function B(k){return Object.prototype.toString.call(k)}function V(k){return k<10?"0"+k.toString(10):k.toString(10)}var H=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function te(){var k=new Date,L=[V(k.getHours()),V(k.getMinutes()),V(k.getSeconds())].join(":");return[k.getDate(),H[k.getMonth()],L].join(" ")}t.log=function(){console.log("%s - %s",te(),t.format.apply(t,arguments))},t.inherits=G_.exports,t._extend=function(k,L){if(!L||!C(L))return k;for(var q=Object.keys(L),F=q.length;F--;)k[q[F]]=L[q[F]];return k};function J(k,L){return Object.prototype.hasOwnProperty.call(k,L)}var X=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;t.promisify=function(L){if(typeof L!="function")throw new TypeError('The "original" argument must be of type Function');if(X&&L[X]){var q=L[X];if(typeof q!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(q,X,{value:q,enumerable:!1,writable:!1,configurable:!0}),q}function q(){for(var F,I,le=new Promise(function(ue,Me){F=ue,I=Me}),re=[],ge=0;ge<arguments.length;ge++)re.push(arguments[ge]);re.push(function(ue,Me){ue?I(ue):F(Me)});try{L.apply(this,re)}catch(ue){I(ue)}return le}return Object.setPrototypeOf(q,Object.getPrototypeOf(L)),X&&Object.defineProperty(q,X,{value:q,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(q,e(L))},t.promisify.custom=X;function oe(k,L){if(!k){var q=new Error("Promise was rejected with a falsy value");q.reason=k,k=q}return L(k)}function me(k){if(typeof k!="function")throw new TypeError('The "original" argument must be of type Function');function L(){for(var q=[],F=0;F<arguments.length;F++)q.push(arguments[F]);var I=q.pop();if(typeof I!="function")throw new TypeError("The last argument must be of type Function");var le=this,re=function(){return I.apply(le,arguments)};k.apply(this,q).then(function(ge){process.nextTick(re.bind(null,null,ge))},function(ge){process.nextTick(oe.bind(null,ge,re))})}return Object.setPrototypeOf(L,Object.getPrototypeOf(k)),Object.defineProperties(L,e(k)),L}t.callbackify=me})(bB);const T5={[0]:"trace",[1]:"debug",[2]:"info",[3]:"warning",[4]:"error"};function M5(){try{if((nw==null?void 0:nw.App)===void 0)return}catch{return}const t=nw.require("fs"),e=nw.require("os"),n=nw.require("path");class s{constructor(){it(this,"path",n.join(e.tmpdir(),nw.App.manifest.name+".log"));it(this,"file",t.createWriteStream(this.path,{flags:"w"}));console.log("Logging to "+this.path)}write(r){this.file.write(r+`
`)}getPath(){return this.path}}return new s}const vs=class{static filePath(){return vs.file?vs.file.getPath():void 0}static trace(e,...n){vs.log(0,e,...n)}static debug(e,...n){vs.log(1,e,...n)}static info(e,...n){vs.log(2,e,...n)}static warn(e,...n){vs.log(3,e,...n)}static warning(e,...n){vs.log(3,e,...n)}static error(e,...n){vs.log(4,e,...n)}static logFmtStr(e,n,...s){let i="["+T5[e]+"]";return n&&n.length&&(i+="["+n+"]"),typeof s[0]=="string"&&(i+=" "+s.shift()),i+=" ",i}static logToFile(e,...n){const s=nn();for(const i of n)e+=JSON.stringify(i);vs.file&&vs.file.write(e),s.append_log(e)}static log(e,n,...s){switch(e){case 1:case 2:{const i=this.logFmtStr(e,n,s);console.log(i,...s),this.logToFile(i,s);break}case 3:{const i=this.logFmtStr(e,n,s);console.warn(i,...s),this.logToFile(i,s);break}case 4:{const i=this.logFmtStr(e,n,s);console.error(i,...s),this.logToFile(i,s);break}}}};let at=vs;it(at,"file",M5());const qA=5,A5=224,KA=31;function Da(t){return t<=255?24:t<=65535?25:t<=4294967295?26:27}const XA=new Array(147);for(let t=0;t<256;t++)XA[t]=+("1e"+Math.floor(45.15-t*.30103));class C5{constructor(){it(this,"buf",new Gb)}encode(e){return this.encodeVal(e),this.buf.array()}encodeVal(e){const n=typeof e;switch(n){case"number":this.encodeNumber(e);break;case"object":e instanceof Uint8Array?this.encodeByteString(e):Array.isArray(e)?this.encodeArray(e):this.encodeObject(e);break;case"string":this.encodeString(e);break;default:at.error("unhandled type",n);break}}encodeNumber(e){if(e>>>0===e)this.encodeRaw(0,e,Da(e));else if(e>>0===e){const n=-e-1;this.encodeRaw(1,n,Da(n))}else this.encodeHeader(7,26),this.buf.writeFloat32(e)}encodeObject(e){const n=Object.entries(e);this.encodeRaw(5,n.length,Da(n.length));for(const[s,i]of n)this.encode(s),this.encode(i)}encodeArray(e){this.encodeRaw(4,e.length,Da(e.length));for(const n of e)this.encode(n)}encodeString(e){this.encodeRaw(3,e.length,Da(e.length));for(let n=0;n<e.length;n++)this.buf.writeUint8(e.charCodeAt(n))}encodeByteString(e){this.encodeRaw(2,e.length,Da(e.length));for(let n=0;n<e.length;n++)this.buf.writeUint8(e[n])}encodeRaw(e,n,s){if(s==24&&n<24)return this.encodeHeader(e,n);this.encodeHeader(e,s);const i=1<<s-24;for(let r=i-1;r>=0;r--)this.buf.writeUint8(n>>r*8&255)}encodeHeader(e,n){return this.buf.writeUint8(e<<qA|n&KA)}}class R5{constructor(e){it(this,"buf",new Qw);this.buf=new Qw(e)}isEOF(){return this.buf.remaining()==0}decode(){const{type:e,max:n}=this.decodeType();switch(this.buf.advance(1),e){case 0:return this.decodeRaw(n);case 1:{const s=this.decodeRaw(n);return-1-s}case 5:return this.decodeMap(n);case 4:return this.decodeArray(n);case 2:{const s=this.decodeRaw(n);if(this.buf.remaining()<s)throw new Error("EOF");const i=new Uint8Array(s);for(let r=0;r<s;r++)i[r]=this.buf.peekUint8(),this.buf.advance(1);return i}case 3:{const s=this.decodeRaw(n);if(this.buf.remaining()<s)throw new Error("EOF");let i="";for(let r=0;r<s;r++)i+=String.fromCharCode(this.buf.peekUint8()),this.buf.advance(1);return i}case 7:return this.decodeFloat(n);default:at.error("unhandled type",e);break}}decodeArray(e){const n=this.decodeEntriesLeft(e),s=[];for(let i=0;i<n();i++)s.push(this.decode());return s}decodeMap(e){const n=this.decodeEntriesLeft(e),s={};for(let i=0;i<n();i++){const r=this.decode(),o=this.decode();s[r]=o}return s}decodeEntriesLeft(e){let n=0;return e!=31&&(n=this.decodeRaw(e)),()=>{if(n)return n;if(this.buf.remaining()<=0)return 0;const{type:s,max:i}=this.decodeType();return s==7&&i==31?(this.buf.advance(1),0):1/0}}decodeFloat(e){if(e!=26)throw new Error("wrong size on float");const n=[this.buf.peekUint8(),this.buf.peekUint8(),this.buf.peekUint8(),this.buf.peekUint8()],s=this.buf.peekFloat32();this.buf.advance(4);const i=XA[(n[0]&127)<<1|n[1]>>7];return(i*s+(s>0?.5:-.5)>>0)/i}decodeRaw(e){if(e<24)return e;const n=1<<e-24;if(this.buf.remaining()<n)throw new Error("EOF");let s=0;for(let i=n-1;i>=0;i--){const r=this.buf.peekUint8();this.buf.advance(1),s|=r<<i*8}return s>>>0}decodeType(){if(this.buf.remaining()<=0)throw new Error("EOF");const e=this.buf.peekUint8();return{type:(e&A5)>>qA,max:e&KA}}}class P5{encode(e){return new C5().encode(e)}decodeMultiple(e){const n=[],s=new R5(e);for(;!s.isEOF();)try{n.push(s.decode())}catch(i){if(i.message!="EOF")throw i}return n}}var ZA={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serial=t.SerialPort=t.SerialPolyfillProtocol=void 0;var e;(function(v){v[v.UsbCdcAcm=0]="UsbCdcAcm"})(e=t.SerialPolyfillProtocol||(t.SerialPolyfillProtocol={}));const n=32,s=34,i=35,r=255,o=8,a="none",l=1,c=[16,8,7,6,5],u=[1,2],d=["none","even","odd"],f=["none","odd","even"],h=[1,1.5,2],_={protocol:e.UsbCdcAcm,usbControlInterfaceClass:2,usbTransferInterfaceClass:10};function g(v,E){const A=v.configurations[0];for(const w of A.interfaces)if(w.alternates[0].interfaceClass===E)return w;throw new TypeError(`Unable to find interface with class ${E}.`)}function m(v,E){const A=v.alternates[0];for(const w of A.endpoints)if(w.direction==E)return w;throw new TypeError(`Interface ${v.interfaceNumber} does not have an ${E} endpoint.`)}class y{constructor(E,A,w){this.device_=E,this.endpoint_=A,this.onError_=w}pull(E){(async()=>{var A;let w;if(E.desiredSize){const C=E.desiredSize/this.endpoint_.packetSize;w=Math.ceil(C)*this.endpoint_.packetSize}else w=this.endpoint_.packetSize;try{const C=await this.device_.transferIn(this.endpoint_.endpointNumber,w);if(C.status!="ok"&&(E.error(`USB error: ${C.status}`),this.onError_()),!((A=C.data)===null||A===void 0)&&A.buffer){const N=new Uint8Array(C.data.buffer,C.data.byteOffset,C.data.byteLength);E.enqueue(N)}}catch(C){E.error(C.toString()),this.onError_()}})()}}class b{constructor(E,A,w){this.device_=E,this.endpoint_=A,this.onError_=w}async write(E,A){try{const w=await this.device_.transferOut(this.endpoint_.endpointNumber,E);w.status!="ok"&&(A.error(w.status),this.onError_())}catch(w){A.error(w.toString()),this.onError_()}}}class S{constructor(E,A){this.polyfillOptions_=Object.assign(Object.assign({},_),A),this.outputSignals_={dataTerminalReady:!1,requestToSend:!1,break:!1},this.device_=E,this.controlInterface_=g(this.device_,this.polyfillOptions_.usbControlInterfaceClass),this.transferInterface_=g(this.device_,this.polyfillOptions_.usbTransferInterfaceClass),this.inEndpoint_=m(this.transferInterface_,"in"),this.outEndpoint_=m(this.transferInterface_,"out")}get readable(){var E;return!this.readable_&&this.device_.opened&&(this.readable_=new ReadableStream(new y(this.device_,this.inEndpoint_,()=>{this.readable_=null}),new ByteLengthQueuingStrategy({highWaterMark:(E=this.serialOptions_.bufferSize)!==null&&E!==void 0?E:r}))),this.readable_}get writable(){var E;return!this.writable_&&this.device_.opened&&(this.writable_=new WritableStream(new b(this.device_,this.outEndpoint_,()=>{this.writable_=null}),new ByteLengthQueuingStrategy({highWaterMark:(E=this.serialOptions_.bufferSize)!==null&&E!==void 0?E:r}))),this.writable_}async open(E){this.serialOptions_=E,this.validateOptions();try{await this.device_.open(),this.device_.configuration===null&&await this.device_.selectConfiguration(1),await this.device_.claimInterface(this.controlInterface_.interfaceNumber),this.controlInterface_!==this.transferInterface_&&await this.device_.claimInterface(this.transferInterface_.interfaceNumber),await this.setLineCoding(),await this.setSignals({dataTerminalReady:!0})}catch(A){throw this.device_.opened&&await this.device_.close(),new Error("Error setting up device: "+A.toString())}}async close(){const E=[];this.readable_&&E.push(this.readable_.cancel()),this.writable_&&E.push(this.writable_.abort()),await Promise.all(E),this.readable_=null,this.writable_=null,this.device_.opened&&(await this.setSignals({dataTerminalReady:!1,requestToSend:!1}),await this.device_.close())}getInfo(){return{usbVendorId:this.device_.vendorId,usbProductId:this.device_.productId}}reconfigure(E){return this.serialOptions_=Object.assign(Object.assign({},this.serialOptions_),E),this.validateOptions(),this.setLineCoding()}async setSignals(E){if(this.outputSignals_=Object.assign(Object.assign({},this.outputSignals_),E),E.dataTerminalReady!==void 0||E.requestToSend!==void 0){const A=(this.outputSignals_.dataTerminalReady?1:0)|(this.outputSignals_.requestToSend?2:0);await this.device_.controlTransferOut({requestType:"class",recipient:"interface",request:s,value:A,index:this.controlInterface_.interfaceNumber})}if(E.break!==void 0){const A=this.outputSignals_.break?65535:0;await this.device_.controlTransferOut({requestType:"class",recipient:"interface",request:i,value:A,index:this.controlInterface_.interfaceNumber})}}validateOptions(){if(!this.isValidBaudRate(this.serialOptions_.baudRate))throw new RangeError("invalid Baud Rate "+this.serialOptions_.baudRate);if(!this.isValidDataBits(this.serialOptions_.dataBits))throw new RangeError("invalid dataBits "+this.serialOptions_.dataBits);if(!this.isValidStopBits(this.serialOptions_.stopBits))throw new RangeError("invalid stopBits "+this.serialOptions_.stopBits);if(!this.isValidParity(this.serialOptions_.parity))throw new RangeError("invalid parity "+this.serialOptions_.parity)}isValidBaudRate(E){return E%1===0}isValidDataBits(E){return typeof E=="undefined"?!0:c.includes(E)}isValidStopBits(E){return typeof E=="undefined"?!0:u.includes(E)}isValidParity(E){return typeof E=="undefined"?!0:d.includes(E)}async setLineCoding(){var E,A,w;const C=new ArrayBuffer(7),N=new DataView(C);if(N.setUint32(0,this.serialOptions_.baudRate,!0),N.setUint8(4,h.indexOf((E=this.serialOptions_.stopBits)!==null&&E!==void 0?E:l)),N.setUint8(5,f.indexOf((A=this.serialOptions_.parity)!==null&&A!==void 0?A:a)),N.setUint8(6,(w=this.serialOptions_.dataBits)!==null&&w!==void 0?w:o),(await this.device_.controlTransferOut({requestType:"class",recipient:"interface",request:n,value:0,index:this.controlInterface_.interfaceNumber},C)).status!="ok")throw new DOMException("NetworkError","Failed to set line coding.")}}t.SerialPort=S;class x{async requestPort(E,A){A=Object.assign(Object.assign({},_),A);const w=[];if(E&&E.filters)for(const O of E.filters){const z={classCode:A.usbControlInterfaceClass};O.usbVendorId!==void 0&&(z.vendorId=O.usbVendorId),O.usbProductId!==void 0&&(z.productId=O.usbProductId),w.push(z)}w.length===0&&w.push({classCode:A.usbControlInterfaceClass});const C=await navigator.usb.requestDevice({filters:w});return new S(C,A)}async getPorts(E){E=Object.assign(Object.assign({},_),E);const A=await navigator.usb.getDevices(),w=[];return A.forEach(C=>{try{const N=new S(C,E);w.push(N)}catch{}}),w}}t.serial=new x})(ZA);function k5(){return navigator.serial?navigator.serial:ZA.serial}const O5=k5(),L5="S".charCodeAt(0),I5="R".charCodeAt(0),D5=[{usbVendorId:1155,usbProductId:22336}];class N5{constructor(){it(this,"cbor",new P5);it(this,"shouldRun",!0);it(this,"reSync",!0);it(this,"waitingCommands",new ex(1));it(this,"port");it(this,"writer");it(this,"reader");it(this,"onErrorCallback")}async connect(e=console.warn){try{return await this._connectPort(e),await this.get(pn.Info)}catch(n){throw await this.close(),n}}async _connectPort(e=console.warn){this.port=await O5.requestPort({filters:D5}),this.waitingCommands=new ex(1),this.onErrorCallback=e,await this.port.open({baudRate:Rh.serial.baudRate,bufferSize:Rh.serial.bufferSize,flowControl:"none"}),this.writer=await this.port.writable.getWriter(),this.reader=new yB(this.port.readable,e),this.shouldRun=!0}async softReboot(){await this.write(new Uint8Array([L5]))}async hardReboot(){if(this.port)throw new Error("port already connected");await this._connectPort(),await this.write(new Uint8Array([I5])),await this.close()}async get(e){const n=await this.command(Cn.Get,e);if(n.payload[0]!=e)throw new Error("invalid value");if(n.payload.length<2)throw new Error("no payload");return n.payload.length==2?n.payload[1]:n.payload.slice(1)}async set(e,...n){const s=await this.command(Cn.Set,e,...n);if(s.payload[0]!=e)throw new Error("invalid value");if(s.payload.length<2)throw new Error("no payload");return s.payload.length==2?s.payload[1]:s.payload.slice(1)}async command(e,...n){return this.commandProgress(e,()=>{},...n)}async commandProgress(e,n,...s){const i=await this.send(e,n,...s);if(i.cmd!=e)throw new Error("invalid command");if(i.flag&Yf.Error)throw new Error(i.payload[0]);return i}async close(){var e,n;if(this.reSync=!0,this.shouldRun=!1,this.reader)try{await((e=this.reader)==null?void 0:e.close())}catch(s){at.warn("serial",s)}if(this.writer)try{await this.writer.releaseLock()}catch(s){at.warn("serial",s)}try{await((n=this.port)==null?void 0:n.close())}catch(s){at.warn("serial",s)}this.reader=void 0,this.writer=void 0,this.port=void 0}async send(e,n,...s){await this.waitingCommands.wait();try{return await this._send(e,n,...s)}finally{this.waitingCommands.signal()}}async _send(e,n,...s){const i=this.encodeValues(s),r=Uint8Array.from([Jw,e,i.length>>8&255,i.length&255]);at.trace("serial","[quic] sent cmd: %d len: %d",e,i.length,s),await this.write($_(r,i));let o=await this.readPacket(n);for(;o.cmd==Cn.Log;)at.info("serial","[quic] "+o.payload[0]),o=await this.readPacket(n);return at.trace("serial","[quic] recv cmd: %d flag: %d len: %d",o.cmd,o.flag,o.len,o.payload),o}async write(e){this.writer&&await this.writer.write(e)}encodeValues(e){let n=new Uint8Array;for(const s of e){const i=this.cbor.encode(s);n=$_(n,i)}return n}async readHeader(){for(;this.shouldRun;){const n=await this.reader.pop();if(n===Jw){this.reSync=!1;break}if(!this.reSync)throw this.reSync=!0,console.log("invalid magic "+n),new Error("invalid magic "+n)}const e=await this.reader.read(pB-1);return{cmd:e[0]&31,flag:e[0]>>5,len:e[1]<<8|e[2]}}async readPacket(e){const n=await this.readHeader();if(n.cmd>=Cn.Max||n.cmd==Cn.Invalid)throw new Error("invalid command");if((n.flag&Yf.Streaming)==0){const r=Uint8Array.from(await this.reader.read(n.len));e(r.length);let o=[];return n.len&&(o=this.cbor.decodeMultiple(r)),{...n,payload:o}}const s=new Gb;for(s.writeUint8s(await this.reader.read(n.len)),at.trace("serial","[quic] recv stream chunk",s.length),e(s.length);s;){const r=await this.readHeader();if(r.cmd!=n.cmd||(r.flag&Yf.Streaming)==0)throw new Error("invalid command");if(r.len==0)break;const o=await this.reader.read(r.len);s.writeUint8s(o),at.trace("serial","[quic] recv stream chunk",s.length),e(s.length)}const i=this.cbor.decodeMultiple(s.array());return{...n,payload:i}}}const yt=new N5,nn=rs("root",{state:()=>({needs_apply:!1,needs_reboot:!1,log:[],alerts:[],pid_rate_presets:[]}),actions:{append_log(t){this.log.length<500?this.log=[...this.log,t]:this.log=[t]},clear_log(){this.log=[]},append_alert(t){this.alerts=[...this.alerts,{id:Date.now().toString()+"-"+this.alerts.length.toString(),...t}]},pop_alert(t){this.alerts=[...this.alerts.filter(e=>e.id!=t)]},set_needs_apply(){this.needs_apply=!0},set_needs_reboot(){this.needs_apply=!0,this.needs_reboot=!0},reset_needs_apply(){this.needs_apply=!1},reset_needs_reboot(){this.needs_apply=!1,this.needs_reboot=!1},fetch_pid_rate_presets(){return yt.get(pn.PidRatePresets).then(t=>this.pid_rate_presets=t)},cal_imu(){return yt.command(Cn.CalImu)},cal_sticks(){return yt.command(Cn.CalSticks)}}});var Qe=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n};const F5=Ve({name:"AlterPortal",setup(){return{root:nn()}},data(){return{timeouts:{}}},watch:{"root.alerts"(t,e){if(t.length<=e.length)return;const n=t[t.length-1].id;this.timeouts[n]=window.setTimeout(()=>{this.root.pop_alert(n),delete this.timeouts[n]},2500)}},methods:{dismiss(t){clearTimeout(this.timeouts[t]),this.root.pop_alert(t),delete this.timeouts[t]}}}),$5={class:"alert-portal"},U5=["onClick"];function B5(t,e,n,s,i,r){return Y(),se("div",$5,[j(ZO,{name:"alert",tag:"div"},{default:Xe(()=>[(Y(!0),se(Ze,null,Ht(t.root.alerts,o=>(Y(),se("div",{key:o.id,class:Rs(["notification",["is-"+o.type]])},[p("button",{class:"delete",onClick:a=>t.dismiss(o.id)},null,8,U5),de(" "+Fe(o.msg),1)],2))),128))]),_:1})])}var z5=Qe(F5,[["render",B5]]),JA=(t=>(t[t.BRUSHLESS=2]="BRUSHLESS",t[t.OSD=4]="OSD",t[t.BLACKBOX=8]="BLACKBOX",t[t.DEBUG=16]="DEBUG",t))(JA||{}),QA=(t=>(t[t.ROTATE_NONE=0]="ROTATE_NONE",t[t.ROTATE_45_CCW=1]="ROTATE_45_CCW",t[t.ROTATE_45_CW=2]="ROTATE_45_CW",t[t.ROTATE_90_CW=4]="ROTATE_90_CW",t[t.ROTATE_90_CCW=8]="ROTATE_90_CCW",t[t.ROTATE_180=16]="ROTATE_180",t[t.FLIP_180=32]="FLIP_180",t))(QA||{}),e2=(t=>(t[t.INVALID=0]="INVALID",t[t.MPU6000=1]="MPU6000",t[t.MPU6500=2]="MPU6500",t[t.ICM20601=3]="ICM20601",t[t.ICM20602=4]="ICM20602",t[t.ICM20608=5]="ICM20608",t[t.ICM20649=6]="ICM20649",t[t.ICM20689=7]="ICM20689",t[t.ICM42605=8]="ICM42605",t[t.ICM42688P=9]="ICM42688P",t[t.BMI270=10]="BMI270",t))(e2||{}),t2=(t=>(t[t.CHANNEL_5=0]="CHANNEL_5",t[t.CHANNEL_6=1]="CHANNEL_6",t[t.CHANNEL_7=2]="CHANNEL_7",t[t.CHANNEL_8=3]="CHANNEL_8",t[t.CHANNEL_9=4]="CHANNEL_9",t[t.CHANNEL_10=5]="CHANNEL_10",t[t.CHANNEL_11=6]="CHANNEL_11",t[t.CHANNEL_12=7]="CHANNEL_12",t[t.CHANNEL_13=8]="CHANNEL_13",t[t.CHANNEL_14=9]="CHANNEL_14",t[t.CHANNEL_15=10]="CHANNEL_15",t[t.CHANNEL_16=11]="CHANNEL_16",t[t.OFF=12]="OFF",t[t.ON=13]="ON",t[t.AUX_GESTURE=14]="AUX_GESTURE",t))(t2||{}),n2=(t=>(t[t.AUX_ARMING=0]="AUX_ARMING",t[t.AUX_IDLE_UP=1]="AUX_IDLE_UP",t[t.AUX_LEVELMODE=2]="AUX_LEVELMODE",t[t.AUX_RACEMODE=3]="AUX_RACEMODE",t[t.AUX_HORIZON=4]="AUX_HORIZON",t[t.AUX_STICK_BOOST_PROFILE=5]="AUX_STICK_BOOST_PROFILE",t[t._AUX_RATE_PROFILE=6]="_AUX_RATE_PROFILE",t[t.AUX_BUZZER_ENABLE=7]="AUX_BUZZER_ENABLE",t[t.AUX_TURTLE=8]="AUX_TURTLE",t[t.AUX_MOTOR_TEST=9]="AUX_MOTOR_TEST",t[t.AUX_RSSI=10]="AUX_RSSI",t[t.AUX_FPV_SWITCH=11]="AUX_FPV_SWITCH",t[t.AUX_BLACKBOX=12]="AUX_BLACKBOX",t))(n2||{}),s2=(t=>(t[t.AUX_ARMING=0]="AUX_ARMING",t[t.AUX_IDLE_UP=1]="AUX_IDLE_UP",t[t.AUX_LEVELMODE=2]="AUX_LEVELMODE",t[t.AUX_RACEMODE=3]="AUX_RACEMODE",t[t.AUX_HORIZON=4]="AUX_HORIZON",t[t.AUX_STICK_BOOST_PROFILE=5]="AUX_STICK_BOOST_PROFILE",t[t._AUX_RATE_PROFILE=6]="_AUX_RATE_PROFILE",t[t.AUX_BUZZER_ENABLE=7]="AUX_BUZZER_ENABLE",t[t.AUX_TURTLE=8]="AUX_TURTLE",t[t.AUX_MOTOR_TEST=9]="AUX_MOTOR_TEST",t[t.AUX_RSSI=10]="AUX_RSSI",t[t.AUX_FPV_SWITCH=11]="AUX_FPV_SWITCH",t[t.AUX_BLACKBOX=12]="AUX_BLACKBOX",t[t.AUX_PREARM=13]="AUX_PREARM",t))(s2||{}),i2=(t=>(t[t.INVALID=0]="INVALID",t[t.UNIFIED_SERIAL=1]="UNIFIED_SERIAL",t[t.SBUS=2]="SBUS",t[t.CRSF=3]="CRSF",t[t.IBUS=4]="IBUS",t[t.FPORT=5]="FPORT",t[t.DSMX_2048=6]="DSMX_2048",t[t.DSM2_1024=7]="DSM2_1024",t[t.NRF24_BAYANG_TELEMETRY=8]="NRF24_BAYANG_TELEMETRY",t[t.BAYANG_PROTOCOL_BLE_BEACON=9]="BAYANG_PROTOCOL_BLE_BEACON",t[t.BAYANG_PROTOCOL_TELEMETRY_AUTOBIND=10]="BAYANG_PROTOCOL_TELEMETRY_AUTOBIND",t[t.FRSKY_D8=11]="FRSKY_D8",t[t.FRSKY_D16=12]="FRSKY_D16",t[t.REDPINE=13]="REDPINE",t[t.EXPRESS_LRS=14]="EXPRESS_LRS",t))(i2||{}),r2=(t=>(t[t.INVALID=0]="INVALID",t[t.UNIFIED_SERIAL=1]="UNIFIED_SERIAL",t[t.SBUS=2]="SBUS",t[t.CRSF=3]="CRSF",t[t.IBUS=4]="IBUS",t[t.FPORT=5]="FPORT",t[t.DSM=6]="DSM",t[t.NRF24_BAYANG_TELEMETRY=7]="NRF24_BAYANG_TELEMETRY",t[t.BAYANG_PROTOCOL_BLE_BEACON=8]="BAYANG_PROTOCOL_BLE_BEACON",t[t.BAYANG_PROTOCOL_TELEMETRY_AUTOBIND=9]="BAYANG_PROTOCOL_TELEMETRY_AUTOBIND",t[t.FRSKY_D8=10]="FRSKY_D8",t[t.FRSKY_D16=11]="FRSKY_D16",t[t.REDPINE=12]="REDPINE",t[t.EXPRESS_LRS=13]="EXPRESS_LRS",t))(r2||{}),o2=(t=>(t[t.INVALID=0]="INVALID",t[t.UNIFIED_SERIAL=1]="UNIFIED_SERIAL",t[t.SBUS=2]="SBUS",t[t.CRSF=3]="CRSF",t[t.IBUS=4]="IBUS",t[t.FPORT=5]="FPORT",t[t.DSM=6]="DSM",t[t.NRF24_BAYANG_TELEMETRY=7]="NRF24_BAYANG_TELEMETRY",t[t.BAYANG_PROTOCOL_BLE_BEACON=8]="BAYANG_PROTOCOL_BLE_BEACON",t[t.BAYANG_PROTOCOL_TELEMETRY_AUTOBIND=9]="BAYANG_PROTOCOL_TELEMETRY_AUTOBIND",t[t.FRSKY_D8=10]="FRSKY_D8",t[t.FRSKY_D16_FCC=11]="FRSKY_D16_FCC",t[t.FRSKY_D16_LBT=12]="FRSKY_D16_LBT",t[t.REDPINE=13]="REDPINE",t[t.EXPRESS_LRS=14]="EXPRESS_LRS",t[t.FLYSKY_AFHDS=15]="FLYSKY_AFHDS",t[t.FLYSKY_AFHDS2A=16]="FLYSKY_AFHDS2A",t))(o2||{}),a2=(t=>(t[t.INVALID=0]="INVALID",t[t.DSM=1]="DSM",t[t.SBUS=2]="SBUS",t[t.IBUS=3]="IBUS",t[t.FPORT=4]="FPORT",t[t.CRSF=5]="CRSF",t[t.REDPINE=6]="REDPINE",t[t.SBUS_INVERTED=7]="SBUS_INVERTED",t[t.FPORT_INVERTED=8]="FPORT_INVERTED",t[t.REDPINE_INVERTED=9]="REDPINE_INVERTED",t))(a2||{}),dl=(t=>(t[t.STICK_WIZARD_INACTIVE=0]="STICK_WIZARD_INACTIVE",t[t.STICK_WIZARD_SUCCESS=1]="STICK_WIZARD_SUCCESS",t[t.STICK_WIZARD_FAILED=2]="STICK_WIZARD_FAILED",t[t.STICK_WIZARD_START=3]="STICK_WIZARD_START",t[t.STICK_WIZARD_CAPTURE_STICKS=4]="STICK_WIZARD_CAPTURE_STICKS",t[t.STICK_WIZARD_WAIT_FOR_CONFIRM=5]="STICK_WIZARD_WAIT_FOR_CONFIRM",t[t.STICK_WIZARD_CONFIRMED=6]="STICK_WIZARD_CONFIRMED",t[t.STICK_WIZARD_TIMEOUT=7]="STICK_WIZARD_TIMEOUT",t))(dl||{}),l2=(t=>(t[t.FAILLOOP_NONE=0]="FAILLOOP_NONE",t[t.FAILLOOP_LOW_BATTERY=2]="FAILLOOP_LOW_BATTERY",t[t.FAILLOOP_RADIO=3]="FAILLOOP_RADIO",t[t.FAILLOOP_GYRO=4]="FAILLOOP_GYRO",t[t.FAILLOOP_FAULT=5]="FAILLOOP_FAULT",t[t.FAILLOOP_LOOPTIME=6]="FAILLOOP_LOOPTIME",t[t.FAILLOOP_SPI=7]="FAILLOOP_SPI",t[t.FAILLOOP_SPI_MAIN=8]="FAILLOOP_SPI_MAIN",t))(l2||{});const G5={[0]:"",[2]:"low battery at powerup - currently unused",[3]:"radio chip not found",[4]:"gyro not found",[5]:"clock, intterrupts, systick, gcc bad code, bad memory access (code issues like bad pointers) - this should not come up",[6]:"loop time issue - if loop time exceeds 20mS",[7]:"spi error  - triggered by hardware spi driver only",[8]:"spi error main loop  - triggered by hardware spi driver only"},lc=rs("constant",{state:()=>({Features:JA,GyroType:e2,GyroRotation:QA,AuxChannels:t2,RXSerialProtocol:a2,StickWizardState:dl,Failloop:l2}),getters:{RXProtocol(){const t=is();return ur.gt(t.quic_protocol_semver,"0.1.0")?o2:t.quic_protocol_version>5?r2:i2},AuxFunctions(){const t=is();return ur.gt(t.quic_protocol_semver,"0.1.0")?s2:n2}},actions:{}}),Ds=rs("state",{state:()=>({looptime_autodetect:0,cpu_load:0,cpu_temp:0,vbat_filtered:0,vbattfilt:null,ibat_filtered:0,rx:[],rx_filtered:[],rx_status:0,rx_rssi:0,GEstG:null,accel:null,aux:[],stick_calibration_wizard:0,failloop:0,pidoutput:null,accel_raw:null,gyro:null,gyro_raw:null}),getters:{vbat(t){return t.vbattfilt||t.vbat_filtered},failloopMessage(t){return G5[t.failloop]}},actions:{fetch_state(){return yt.get(pn.State).then(t=>this.$patch(t)).catch(t=>at.warn("state",t))}}}),is=rs("info",{state:()=>({usart_ports:[],motor_pins:[],target_name:"",git_version:"",quic_protocol_version:0,quic_protocol_semver:"v0.0.0",gyro_id:0,rx_protocol:0,rx_protocols:[],features:0}),getters:{has_feature(t){return e=>t.features==null?!0:t.features&e},quicVersionGt(t){return e=>ur.gt(t.quic_protocol_semver,e)},is_read_only(t){const e=Ds();return t.quic_protocol_version<5||e.failloop>0}},actions:{set_info(t){this.$patch(t),this.quic_protocol_version&&(this.quic_protocol_semver=Ch(this.quic_protocol_version))}}}),bd=rs("default_profile",{state:()=>({serial:{rx:0,smart_audio:0,hdzero:0},filter:{gyro:[{},{}],dterm:[{},{}]},osd:{callsign:"",elements:[],elements_hd:[]},meta:{version:0,datetime:0},motor:{invert_yaw:1},rate:{mode:0,silverware:{},betaflight:{}},voltage:{},receiver:{lqi_source:-1,aux:[]},pid:{pid_profile:0,pid_rates:[{}],stick_profile:0,stick_rates:[{}],big_angle:{},small_angle:{},throttle_dterm_attenuation:{}}}),getters:{has_legacy_stickrates(t){return ur.lte(Ch(t.meta.version),"v0.1.0")},has_legacy_osd(t){return ur.lte(Ch(t.meta.version),"v0.1.0")}},actions:{fetch_default_profile(){return yt.get(pn.DefaultProfile).then(t=>{t.meta.name=t.meta.name.replace(/\0/g,""),this.$patch(t)})}}});function c2(t,e){for(const[n,s]of Object.entries(e))s!==null&&typeof s=="object"?(t[n]===void 0&&(t[n]=new s.__proto__.constructor),c2(t[n],s)):t[n]=s;return t}function Zf(t,e,n){return t<<16|e<<8|n}function ox(t){return t=t||Zf(0,1,0),t<Zf(0,1,0)&&(t=Zf(0,1,0)),t}function V5(t,e){var n,s,i,r,o,a,l;switch(e){case Zf(0,1,0):{const c={mode:0,rate:[((n=t.rate.silverware)==null?void 0:n.max_rate)||[860,860,500],((s=t.rate.silverware)==null?void 0:s.acro_expo)||[.8,.8,.6],((i=t.rate.silverware)==null?void 0:i.angle_expo)||[.55,0,.55]]},u={mode:1,rate:[((r=t.rate.betaflight)==null?void 0:r.rc_rate)||[1.3,1.3,1.3],((o=t.rate.betaflight)==null?void 0:o.super_rate)||[.7,.7,.7],((a=t.rate.betaflight)==null?void 0:a.expo)||[.4,.4,.4]]};t.rate.profile=0,t.rate.mode==0?t.rate.rates=[c,u]:t.rate.rates=[u,c];break}}return t.meta.name&&(t.meta.name=t.meta.name.replace(/\0/g,"")),(l=t.osd)!=null&&l.callsign&&(t.osd.callsign=t.osd.callsign.replace(/\0/g,"")),t}function tg(t){var r,o;const e=bd(),n=ox((r=e==null?void 0:e.meta)==null?void 0:r.version),s=ox((o=t==null?void 0:t.meta)==null?void 0:o.version);let i=JSON.parse(JSON.stringify(t));return n!=s&&(i=V5(i,s)),i.meta.datetime=Math.floor(Date.now()/1e3),i}const Zt=rs("profile",{state:()=>({semver:"v0.0.0",serial:{rx:0,smart_audio:0,hdzero:0},filter:{gyro:[{},{}],dterm:[{},{}]},osd:{callsign:"",elements:[],elements_hd:[]},meta:{name:"",datetime:0},motor:{gyro_orientation:0,invert_yaw:1,motor_pins:[]},rate:{mode:0,profile:0,silverware:{},betaflight:{},low_rate_mulitplier:0,level_max_angle:0,sticks_deadband:0,rates:[],throttle_expo:0,throttle_mid:0},voltage:{},receiver:{lqi_source:-1,channel_mapping:0,aux:[],protocol:0},pid:{pid_profile:0,pid_rates:[{}],stick_profile:0,stick_rates:[{}],big_angle:{},small_angle:{},throttle_dterm_attenuation:{}}}),getters:{current_pid_rate:t=>t.pid.pid_rates[t.pid.pid_profile],current_stick_rate:t=>t.pid.stick_rates[t.pid.stick_profile],profileVersionGt(t){return e=>ur.gt(t.semver,e)}},actions:{set_profile(t){t.semver=Ch(t.meta.version),t.meta.name=t.meta.name.replace(/\0/g,""),this.$patch(t)},set_current_pid_rate(t){const e=[...this.pid.pid_rates];e[this.pid.pid_profile]=t,this.pid={...this.pid,pid_rates:e}},set_current_stick_rate(t){const e=[...this.pid.stick_rates];e[this.pid.stick_profile]=t,this.pid={...this.pid,stick_rates:e}},set_osd_elements(t){this.osd={...this.osd,elements:t}},set_osd_elements_hd(t){this.osd={...this.osd,elements_hd:t}},reset(){const t=bd();return this.apply_profile(t.$state)},fetch_profile(){return yt.get(pn.Profile).then(t=>this.set_profile(t))},async merge_profile(t){const e=tg(await yt.get(pn.Profile)),n=tg(t),s=c2(e,n);return this.apply_profile(s)},apply_profile(t){const e=nn(),n=tg(t);return yt.set(pn.Profile,n).then(s=>this.set_profile(s)).then(()=>e.append_alert({type:"success",msg:"Profile applied!"})).then(()=>e.reset_needs_apply()).catch(s=>{at.error(s),e.append_alert({type:"danger",msg:"Apply failed! "+s})})}}}),V_=rs("vtx",{state:()=>({settings:{protocol:0,detected:0,channel:0,band:0}}),actions:{apply_vtx_settings(t){const e=nn();return yt.set(pn.VtxSettings,t).then(n=>this.settings=n).then(()=>{e.append_alert({type:"success",msg:"Apply successful!"})}).catch(()=>{e.append_alert({type:"danger",msg:"Apply failed"})})},update_vtx_settings(t=!1){if(this.settings.detected==0||t)return yt.get(pn.VtxSettings).then(e=>{const n=e.detected==0?this.settings.protocol:e.protocol;this.settings={...e,protocol:n}})}}}),u2=rs("perf",{state:()=>({counters:[]}),actions:{fetch_perf_counters(){return yt.get(pn.PerfCounters).then(t=>this.counters=t)}}}),d2=rs("bind",{state:()=>({info:{bind_saved:0,raw:new Uint8Array}}),actions:{fetch_bind_info(){return yt.get(pn.BindInfo).then(t=>this.info=t)},apply_bind_info(t){const e=nn();return yt.set(pn.BindInfo,t).then(n=>this.info=n).then(()=>e.set_needs_reboot()).then(()=>e.append_alert({type:"success",msg:"Bind info applied!"})).catch(n=>{at.error(n),e.append_alert({type:"danger",msg:"Apply failed! "+n})})}}}),H5=Ve({name:"Motor",setup(){return{profile:Zt(),info:is(),constants:lc()}},data(){return{invertYawModes:[{value:0,text:"Props In"},{value:1,text:"Props Out"}],dshotTimes:[{value:150,text:"150"},{value:300,text:"300"},{value:600,text:"600"}]}},computed:{gyroOrientation:{get(){return this.profile.motor.gyro_orientation&31},set(t){this.profile.motor.gyro_orientation=t|(this.gyroFlip?this.constants.GyroRotation.FLIP_180:0)}},gyroOrientations(){return[{value:this.constants.GyroRotation.ROTATE_NONE,text:"ROTATE_NONE"},{value:this.constants.GyroRotation.ROTATE_45_CCW,text:"ROTATE_45_CCW"},{value:this.constants.GyroRotation.ROTATE_45_CW,text:"ROTATE_45_CW"},{value:this.constants.GyroRotation.ROTATE_90_CW,text:"ROTATE_90_CW"},{value:this.constants.GyroRotation.ROTATE_90_CCW,text:"ROTATE_90_CCW"},{value:this.constants.GyroRotation.ROTATE_90_CCW|this.constants.GyroRotation.ROTATE_45_CCW,text:"ROTATE_135_CW"},{value:this.constants.GyroRotation.ROTATE_90_CW|this.constants.GyroRotation.ROTATE_45_CW,text:"ROTATE_135_CCW"},{value:this.constants.GyroRotation.ROTATE_180,text:"ROTATE_180"}]},gyroFlip:{get(){return(this.profile.motor.gyro_orientation&this.constants.GyroRotation.FLIP_180)>0},set(t){this.profile.motor.gyro_orientation=this.gyroOrientation|(t?this.constants.GyroRotation.FLIP_180:0)}}}}),W5={class:"card"},j5=p("header",{class:"card-header"},[p("p",{class:"card-header-title"},"Motor")],-1),Y5={class:"card-content"},q5={class:"content column-narrow field-is-5"},K5={class:"columns"},X5={class:"column is-6"},Z5={class:"field is-horizontal"},J5={class:"field-label"},Q5={class:"label"},ez=de(" Invert Yaw "),tz={class:"field-body"},nz={class:"field"},sz={class:"control is-expanded"},iz={class:"field is-horizontal"},rz={class:"field-label"},oz={class:"label"},az=de(" Digital Idle "),lz={class:"field-body"},cz={class:"field"},uz={class:"control is-expanded"},dz={key:0,class:"field is-horizontal"},fz={class:"field-label"},hz={class:"label"},pz=de(" DShot Time "),mz={class:"field-body"},gz={class:"field"},_z={class:"control is-expanded"},yz={class:"field is-horizontal"},bz={class:"field-label"},vz={class:"label"},wz=de(" Flip Gyro "),xz={class:"field-body"},Sz={class:"field"},Ez={class:"control is-expanded"},Tz={class:"checkbox"},Mz=de(" Enable "),Az={class:"field is-horizontal"},Cz={class:"field-label"},Rz={class:"label"},Pz=de(" Gyro Orientation "),kz={class:"field-body"},Oz={class:"field"},Lz={class:"control is-expanded"},Iz={class:"column is-6"},Dz={class:"field is-horizontal"},Nz={class:"field-label"},Fz={class:"label"},$z=de(" Torque Boost "),Uz={class:"field-body"},Bz={class:"field"},zz={class:"control is-expanded"},Gz={class:"field is-horizontal"},Vz={class:"field-label"},Hz={class:"label"},Wz=de(" Throttle Boost "),jz={class:"field-body"},Yz={class:"field"},qz={class:"control is-expanded"},Kz={class:"field is-horizontal"},Xz={class:"field-label"},Zz={class:"label"},Jz=de(" Turtle Throttle Percent "),Qz={class:"field-body"},e6={class:"field"},t6={class:"control is-expanded"},n6={key:0,class:"field is-horizontal"},s6={class:"field-label"},i6={class:"label"},r6=de(" Motor Limit Percent "),o6={class:"field-body"},a6={class:"field"},l6={class:"control is-expanded"};function c6(t,e,n,s,i,r){const o=xe("tooltip"),a=xe("input-select");return Y(),se("div",W5,[j5,p("div",Y5,[p("div",q5,[p("div",K5,[p("div",X5,[p("div",Z5,[p("div",J5,[p("label",Q5,[ez,j(o,{entry:"motor.invert_yaw"})])]),p("div",tz,[p("div",nz,[p("div",sz,[j(a,{id:"invert-yaw",class:"is-fullwidth",modelValue:t.profile.motor.invert_yaw,"onUpdate:modelValue":e[0]||(e[0]=l=>t.profile.motor.invert_yaw=l),modelModifiers:{number:!0},options:t.invertYawModes},null,8,["modelValue","options"])])])])]),p("div",iz,[p("div",rz,[p("label",oz,[az,j(o,{entry:"motor.digital_idle"})])]),p("div",lz,[p("div",cz,[p("div",uz,[Ue(p("input",{class:"input",id:"digital-idle",type:"number",step:"0.1","onUpdate:modelValue":e[1]||(e[1]=l=>t.profile.motor.digital_idle=l)},null,512),[[We,t.profile.motor.digital_idle,void 0,{number:!0}]])])])])]),t.info.quic_protocol_version>1&&t.info.has_feature(t.constants.Features.BRUSHLESS)?(Y(),se("div",dz,[p("div",fz,[p("label",hz,[pz,j(o,{entry:"motor.dshot_time"})])]),p("div",mz,[p("div",gz,[p("div",_z,[j(a,{id:"dshot-time",class:"is-fullwidth",modelValue:t.profile.motor.dshot_time,"onUpdate:modelValue":e[2]||(e[2]=l=>t.profile.motor.dshot_time=l),options:t.dshotTimes},null,8,["modelValue","options"])])])])])):je("",!0),p("div",yz,[p("div",bz,[p("label",vz,[wz,j(o,{entry:"motor.flip_gyro"})])]),p("div",xz,[p("div",Sz,[p("div",Ez,[p("label",Tz,[Ue(p("input",{type:"checkbox",id:"gyro-flip","onUpdate:modelValue":e[3]||(e[3]=l=>t.gyroFlip=l)},null,512),[[zT,t.gyroFlip]]),Mz])])])])]),p("div",Az,[p("div",Cz,[p("label",Rz,[Pz,j(o,{entry:"motor.gyro_orientation"})])]),p("div",kz,[p("div",Oz,[p("div",Lz,[j(a,{class:"is-fullwidth",id:"gyro-orientation",modelValue:t.gyroOrientation,"onUpdate:modelValue":e[4]||(e[4]=l=>t.gyroOrientation=l),options:t.gyroOrientations},null,8,["modelValue","options"])])])])])]),p("div",Iz,[p("div",Dz,[p("div",Nz,[p("label",Fz,[$z,j(o,{entry:"motor.torque_boost"})])]),p("div",Uz,[p("div",Bz,[p("div",zz,[Ue(p("input",{class:"input",id:"torque-boost",type:"number",step:"0.1","onUpdate:modelValue":e[5]||(e[5]=l=>t.profile.motor.torque_boost=l)},null,512),[[We,t.profile.motor.torque_boost,void 0,{number:!0}]])])])])]),p("div",Gz,[p("div",Vz,[p("label",Hz,[Wz,j(o,{entry:"motor.throttle_boost"})])]),p("div",jz,[p("div",Yz,[p("div",qz,[Ue(p("input",{class:"input",id:"throttle-boost",type:"number",step:"0.1","onUpdate:modelValue":e[6]||(e[6]=l=>t.profile.motor.throttle_boost=l)},null,512),[[We,t.profile.motor.throttle_boost,void 0,{number:!0}]])])])])]),p("div",Kz,[p("div",Xz,[p("label",Zz,[Jz,j(o,{entry:"motor.turtle_throttle_percent"})])]),p("div",Qz,[p("div",e6,[p("div",t6,[Ue(p("input",{class:"input",id:"turtle-throttle-percent",type:"number",step:"1","onUpdate:modelValue":e[7]||(e[7]=l=>t.profile.motor.turtle_throttle_percent=l)},null,512),[[We,t.profile.motor.turtle_throttle_percent,void 0,{number:!0}]])])])])]),t.profile.profileVersionGt("0.2.0")?(Y(),se("div",n6,[p("div",s6,[p("label",i6,[r6,j(o,{entry:"motor.motor_limit"})])]),p("div",o6,[p("div",a6,[p("div",l6,[Ue(p("input",{class:"input",id:"motor-limit-percent",type:"number",step:"1","onUpdate:modelValue":e[8]||(e[8]=l=>t.profile.motor.motor_limit=l)},null,512),[[We,t.profile.motor.motor_limit,void 0,{number:!0}]])])])])])):je("",!0)])])])])])}var u6=Qe(H5,[["render",c6]]);const d6=Ve({name:"voltage",data(){return{pidVoltageCompensationOptions:[{value:0,text:"Off"},{value:1,text:"On"}]}},setup(){return{profile:Zt(),state:Ds()}},computed:{pid_voltage_compensation:{get(){return this.profile.voltage.pid_voltage_compensation},set(t){this.profile.voltage.pid_voltage_compensation=t?1:0}}}}),f6={class:"card"},h6={class:"card-header"},p6=p("p",{class:"card-header-title"},"Voltage",-1),m6={class:"card-header-icon"},g6={class:"card-content"},_6={class:"content column-narrow field-is-5"},y6={class:"field is-horizontal"},b6={class:"field-label"},v6={class:"label"},w6=de(" LipoCellCount "),x6={class:"field-body"},S6={class:"field"},E6={class:"control is-expanded"},T6={class:"field is-horizontal"},M6={class:"field-label"},A6={class:"label"},C6=de(" PidVoltageCompensation "),R6={class:"field-body"},P6={class:"field"},k6={class:"control is-expanded"},O6={class:"field is-horizontal"},L6={class:"field-label"},I6={class:"label"},D6=de(" VBattLow "),N6={class:"field-body"},F6={class:"field"},$6={class:"control is-expanded"},U6={class:"field is-horizontal"},B6={class:"field-label"},z6={class:"label"},G6=de(" ActualBatteryVoltage "),V6={class:"field-body"},H6={class:"field"},W6={class:"control is-expanded"},j6={class:"field is-horizontal"},Y6={class:"field-label"},q6={class:"label"},K6=de(" ReportedTelemetryVoltage "),X6={class:"field-body"},Z6={class:"field"},J6={class:"control is-expanded"},Q6={class:"field is-horizontal"},eG={class:"field-label"},tG={class:"label"},nG=de(" Current Meter Scale "),sG={class:"field-body"},iG={class:"field"},rG={class:"control is-expanded"};function oG(t,e,n,s,i,r){const o=xe("tooltip"),a=xe("input-select");return Y(),se("div",f6,[p("header",h6,[p6,p("small",m6,Fe(t.state.vbat.toPrecision(3))+"V "+Fe(t.state.ibat_filtered)+"mAh ",1)]),p("div",g6,[p("div",_6,[p("div",y6,[p("div",b6,[p("label",v6,[w6,j(o,{entry:"voltage.lipo_cell_count"})])]),p("div",x6,[p("div",S6,[p("div",E6,[Ue(p("input",{class:"input",id:"lipo-cell-count",type:"number",step:"1","onUpdate:modelValue":e[0]||(e[0]=l=>t.profile.voltage.lipo_cell_count=l)},null,512),[[We,t.profile.voltage.lipo_cell_count,void 0,{number:!0}]])])])])]),p("div",T6,[p("div",M6,[p("label",A6,[C6,j(o,{entry:"voltage.pid_voltage_compensation"})])]),p("div",R6,[p("div",P6,[p("div",k6,[j(a,{class:"is-fullwidth",modelValue:t.profile.voltage.pid_voltage_compensation,"onUpdate:modelValue":e[1]||(e[1]=l=>t.profile.voltage.pid_voltage_compensation=l),modelModifiers:{number:!0},options:t.pidVoltageCompensationOptions},null,8,["modelValue","options"])])])])]),p("div",O6,[p("div",L6,[p("label",I6,[D6,j(o,{entry:"voltage.vbattlow"})])]),p("div",N6,[p("div",F6,[p("div",$6,[Ue(p("input",{class:"input",id:"vbattlow",type:"number",step:"0.1","onUpdate:modelValue":e[2]||(e[2]=l=>t.profile.voltage.vbattlow=l)},null,512),[[We,t.profile.voltage.vbattlow,void 0,{number:!0}]])])])])]),p("div",U6,[p("div",B6,[p("label",z6,[G6,j(o,{entry:"voltage.actual_battery_voltage"})])]),p("div",V6,[p("div",H6,[p("div",W6,[Ue(p("input",{class:"input",id:"actual-battery-voltage",type:"number",step:"0.1","onUpdate:modelValue":e[3]||(e[3]=l=>t.profile.voltage.actual_battery_voltage=l)},null,512),[[We,t.profile.voltage.actual_battery_voltage,void 0,{number:!0}]])])])])]),p("div",j6,[p("div",Y6,[p("label",q6,[K6,j(o,{entry:"voltage.reported_telemetry_voltage"})])]),p("div",X6,[p("div",Z6,[p("div",J6,[Ue(p("input",{class:"input",id:"reported-telemetry-voltage",type:"number",step:"0.1","onUpdate:modelValue":e[4]||(e[4]=l=>t.profile.voltage.reported_telemetry_voltage=l)},null,512),[[We,t.profile.voltage.reported_telemetry_voltage,void 0,{number:!0}]])])])])]),p("div",Q6,[p("div",eG,[p("label",tG,[nG,j(o,{entry:"voltage.ibat_scale"})])]),p("div",sG,[p("div",iG,[p("div",rG,[Ue(p("input",{class:"input",id:"ibat_scale",type:"number",step:"1","onUpdate:modelValue":e[5]||(e[5]=l=>t.profile.voltage.ibat_scale=l)},null,512),[[We,t.profile.voltage.ibat_scale,void 0,{number:!0}]])])])])])])])])}var aG=Qe(d6,[["render",oG]]);const lG=Ve({name:"serial",setup(){return{info:is(),root:nn(),profile:Zt()}},computed:{serialPorts(){const t=[{value:0,text:"None"}];for(let e=1;e<this.info.usart_ports.length;e++)t.push({value:e,text:this.info.usart_ports[e]});return t}},watch:{"profile.serial":{handler(){this.root.set_needs_reboot()},deep:!0}}}),cG={class:"card"},uG=p("header",{class:"card-header"},[p("p",{class:"card-header-title"},"Serial")],-1),dG={class:"card-content"},fG={class:"content column-narrow field-is-5"},hG={class:"field is-horizontal"},pG={class:"field-label"},mG={class:"label"},gG=de(" RX "),_G={class:"field-body"},yG={class:"field"},bG={class:"control is-expanded"},vG={class:"field is-horizontal"},wG={class:"field-label"},xG={class:"label"},SG=de(" Smart Audio "),EG={class:"field-body"},TG={class:"field"},MG={class:"control is-expanded"},AG={class:"field is-horizontal"},CG={class:"field-label"},RG={class:"label"},PG=de(" HDZero "),kG={class:"field-body"},OG={class:"field"},LG={class:"control is-expanded"};function IG(t,e,n,s,i,r){const o=xe("tooltip"),a=xe("input-select");return Y(),se("div",cG,[uG,p("div",dG,[p("div",fG,[p("div",hG,[p("div",pG,[p("label",mG,[gG,j(o,{entry:"serial.rx"})])]),p("div",_G,[p("div",yG,[p("div",bG,[j(a,{class:"is-fullwidth",id:"rx",modelValue:t.profile.serial.rx,"onUpdate:modelValue":e[0]||(e[0]=l=>t.profile.serial.rx=l),modelModifiers:{number:!0},options:t.serialPorts},null,8,["modelValue","options"])])])])]),p("div",vG,[p("div",wG,[p("label",xG,[SG,j(o,{entry:"serial.smart_audio"})])]),p("div",EG,[p("div",TG,[p("div",MG,[j(a,{class:"is-fullwidth",id:"smart-audio",modelValue:t.profile.serial.smart_audio,"onUpdate:modelValue":e[1]||(e[1]=l=>t.profile.serial.smart_audio=l),modelModifiers:{number:!0},options:t.serialPorts},null,8,["modelValue","options"])])])])]),p("div",AG,[p("div",CG,[p("label",RG,[PG,j(o,{entry:"serial.hdzero"})])]),p("div",kG,[p("div",OG,[p("div",LG,[j(a,{class:"is-fullwidth",id:"hdzero",modelValue:t.profile.serial.hdzero,"onUpdate:modelValue":e[2]||(e[2]=l=>t.profile.serial.hdzero=l),modelModifiers:{number:!0},options:t.serialPorts},null,8,["modelValue","options"])])])])])])])])}var DG=Qe(lG,[["render",IG]]);const NG=Ve({name:"vtx",setup(){return{vtx:V_(),info:is()}},data(){return{protocolNames:["INVALID","TRAMP","SMARTAUDIO","MSP_VTX"],frequencyTable:[[5865,5845,5825,5805,5785,5765,5745,5725],[5733,5752,5771,5790,5809,5828,5847,5866],[5705,5685,5665,5645,5885,5905,5925,5945],[5740,5760,5780,5800,5820,5840,5860,5880],[5658,5695,5732,5769,5806,5843,5880,5917],[5333,5373,5413,5453,5493,5533,5573,5613]]}},computed:{vtxProtocolOptions(){const t=[{value:0,text:"AUTO"},{value:1,text:"TRAMP"},{value:2,text:"SMARTAUDIO"}];return this.info.quicVersionGt("0.1.1")&&t.push({value:3,text:"MSP_VTX"}),t},vtxBandOptions(){const t=[{value:0,text:"VTX_BAND_A"},{value:1,text:"VTX_BAND_B"},{value:2,text:"VTX_BAND_E"},{value:3,text:"VTX_BAND_F"},{value:4,text:"VTX_BAND_R"}];return this.info.quicVersionGt("0.1.1")&&t.push({value:5,text:"VTX_BAND_L"}),t},vtxPowerLevelOptions(){const t=[{value:0,text:"VTX_POWER_LEVEL_1"},{value:1,text:"VTX_POWER_LEVEL_2"},{value:2,text:"VTX_POWER_LEVEL_3"},{value:3,text:"VTX_POWER_LEVEL_4"}];return this.info.quicVersionGt("0.1.1")&&t.push({value:4,text:"VTX_POWER_LEVEL_5"}),t},vtxChannelOptions(){return[{value:0,text:"VTX_CHANNEL_1"},{value:1,text:"VTX_CHANNEL_2"},{value:2,text:"VTX_CHANNEL_3"},{value:3,text:"VTX_CHANNEL_4"},{value:4,text:"VTX_CHANNEL_5"},{value:5,text:"VTX_CHANNEL_6"},{value:6,text:"VTX_CHANNEL_7"},{value:7,text:"VTX_CHANNEL_8"}]},vtxPitModeOptions(){return[{value:0,text:"Off"},{value:1,text:"On"}]}},created(){this.vtx.update_vtx_settings(!0)}}),FG={class:"card"},$G=p("header",{class:"card-header"},[p("p",{class:"card-header-title"},"VTX")],-1),UG={class:"card-content"},BG={class:"content column-narrow field-is-3"},zG={class:"field is-horizontal"},GG=p("div",{class:"field-label"},[p("label",{class:"label"},"Protocol")],-1),VG={class:"field-body"},HG={class:"field"},WG={class:"control is-expanded"},jG={class:"field is-horizontal"},YG=p("div",{class:"field-label"},[p("label",{class:"label"},"Frequency")],-1),qG={class:"field-body"},KG={class:"field"},XG={class:"control is-expanded"},ZG={class:"field is-horizontal"},JG=p("div",{class:"field-label"},[p("label",{class:"label"},"Band")],-1),QG={class:"field-body"},eV={class:"field"},tV={class:"control is-expanded"},nV={class:"field is-horizontal"},sV=p("div",{class:"field-label"},[p("label",{class:"label"},"Channel")],-1),iV={class:"field-body"},rV={class:"field"},oV={class:"control is-expanded"},aV={key:0,class:"field is-horizontal"},lV=p("div",{class:"field-label"},[p("label",{class:"label"},"Pit Mode")],-1),cV={class:"field-body"},uV={class:"field"},dV={class:"control is-expanded"},fV={class:"field is-horizontal"},hV=p("div",{class:"field-label"},[p("label",{class:"label"},"Power Level")],-1),pV={class:"field-body"},mV={class:"field"},gV={class:"control is-expanded"},_V={key:1,class:"is-size-5 has-text-centered has-text-weight-semibold"},yV={class:"card-footer"},bV=de(" Apply ");function vV(t,e,n,s,i,r){const o=xe("input-select"),a=xe("spinner-btn");return Y(),se("div",FG,[$G,p("div",UG,[p("div",BG,[p("div",zG,[GG,p("div",VG,[p("div",HG,[p("div",WG,[j(o,{id:"vtx-protocol",modelValue:t.vtx.settings.protocol,"onUpdate:modelValue":e[0]||(e[0]=l=>t.vtx.settings.protocol=l),modelModifiers:{number:!0},options:t.vtxProtocolOptions},null,8,["modelValue","options"])])])])]),t.vtx.settings.detected?(Y(),se(Ze,{key:0},[p("div",jG,[YG,p("div",qG,[p("div",KG,[p("div",XG,Fe(t.frequencyTable[t.vtx.settings.band][t.vtx.settings.channel]),1)])])]),p("div",ZG,[JG,p("div",QG,[p("div",eV,[p("div",tV,[j(o,{id:"vtx-band",modelValue:t.vtx.settings.band,"onUpdate:modelValue":e[1]||(e[1]=l=>t.vtx.settings.band=l),modelModifiers:{number:!0},options:t.vtxBandOptions},null,8,["modelValue","options"])])])])]),p("div",nV,[sV,p("div",iV,[p("div",rV,[p("div",oV,[j(o,{id:"vtx-channel",modelValue:t.vtx.settings.channel,"onUpdate:modelValue":e[2]||(e[2]=l=>t.vtx.settings.channel=l),modelModifiers:{number:!0},options:t.vtxChannelOptions},null,8,["modelValue","options"])])])])]),t.vtx.settings.pit_mode!=2?(Y(),se("div",aV,[lV,p("div",cV,[p("div",uV,[p("div",dV,[j(o,{id:"vtx-pit-mode",modelValue:t.vtx.settings.pit_mode,"onUpdate:modelValue":e[3]||(e[3]=l=>t.vtx.settings.pit_mode=l),modelModifiers:{number:!0},options:t.vtxPitModeOptions},null,8,["modelValue","options"])])])])])):je("",!0),p("div",fV,[hV,p("div",pV,[p("div",mV,[p("div",gV,[j(o,{id:"vtx-power-level",modelValue:t.vtx.settings.power_level,"onUpdate:modelValue":e[4]||(e[4]=l=>t.vtx.settings.power_level=l),modelModifiers:{number:!0},options:t.vtxPowerLevelOptions},null,8,["modelValue","options"])])])])])],64)):(Y(),se("div",_V," Not detected "))])]),p("footer",yV,[j(a,{class:"card-footer-item",onClick:e[5]||(e[5]=l=>t.vtx.apply_vtx_settings(t.vtx.settings))},{default:Xe(()=>[bV]),_:1})])])}var wV=Qe(NG,[["render",vV]]);/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Yb="142",xV=0,ax=1,SV=2,f2=1,EV=2,Qc=3,$l=0,ei=1,oa=2,TV=1,to=0,Ml=1,lx=2,cx=3,ux=4,MV=5,al=100,AV=101,CV=102,dx=103,fx=104,RV=200,PV=201,kV=202,OV=203,h2=204,p2=205,LV=206,IV=207,DV=208,NV=209,FV=210,$V=0,UV=1,BV=2,H_=3,zV=4,GV=5,VV=6,HV=7,m2=0,WV=1,jV=2,ar=0,YV=1,qV=2,KV=3,XV=4,ZV=5,g2=300,Ul=301,Bl=302,W_=303,j_=304,Vp=306,zl=1e3,xs=1001,Oh=1002,xn=1003,Y_=1004,q_=1005,ts=1006,_2=1007,cc=1008,aa=1009,JV=1010,QV=1011,y2=1012,eH=1013,zo=1014,Hr=1015,Wu=1016,tH=1017,nH=1018,Al=1020,sH=1021,iH=1022,Ks=1023,rH=1024,oH=1025,Jo=1026,Gl=1027,aH=1028,lH=1029,cH=1030,uH=1031,dH=1033,ng=33776,sg=33777,ig=33778,rg=33779,hx=35840,px=35841,mx=35842,gx=35843,fH=36196,_x=37492,yx=37496,bx=37808,vx=37809,wx=37810,xx=37811,Sx=37812,Ex=37813,Tx=37814,Mx=37815,Ax=37816,Cx=37817,Rx=37818,Px=37819,kx=37820,Ox=37821,Lx=36492,ju=2300,Vl=2301,og=2302,Ix=2400,Dx=2401,Nx=2402,hH=2500,pH=2501,mH=1,b2=2,la=3e3,Rt=3001,gH=3200,_H=3201,qb=0,yH=1,Ki="srgb",Go="srgb-linear",ag=7680,bH=519,K_=35044,Fx="300 es",X_=1035;class uc{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const s=this._listeners;s[e]===void 0&&(s[e]=[]),s[e].indexOf(n)===-1&&s[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const s=this._listeners;return s[e]!==void 0&&s[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const r=i.indexOf(n);r!==-1&&i.splice(r,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const s=this._listeners[e.type];if(s!==void 0){e.target=this;const i=s.slice(0);for(let r=0,o=i.length;r<o;r++)i[r].call(this,e);e.target=null}}}const En=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let $x=1234567;const yu=Math.PI/180,Yu=180/Math.PI;function ti(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,s=Math.random()*4294967295|0;return(En[t&255]+En[t>>8&255]+En[t>>16&255]+En[t>>24&255]+"-"+En[e&255]+En[e>>8&255]+"-"+En[e>>16&15|64]+En[e>>24&255]+"-"+En[n&63|128]+En[n>>8&255]+"-"+En[n>>16&255]+En[n>>24&255]+En[s&255]+En[s>>8&255]+En[s>>16&255]+En[s>>24&255]).toLowerCase()}function Vn(t,e,n){return Math.max(e,Math.min(n,t))}function Kb(t,e){return(t%e+e)%e}function vH(t,e,n,s,i){return s+(t-e)*(i-s)/(n-e)}function wH(t,e,n){return t!==e?(n-t)/(e-t):0}function bu(t,e,n){return(1-n)*t+n*e}function xH(t,e,n,s){return bu(t,e,1-Math.exp(-n*s))}function SH(t,e=1){return e-Math.abs(Kb(t,e*2)-e)}function EH(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function TH(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function MH(t,e){return t+Math.floor(Math.random()*(e-t+1))}function AH(t,e){return t+Math.random()*(e-t)}function CH(t){return t*(.5-Math.random())}function RH(t){t!==void 0&&($x=t);let e=$x+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function PH(t){return t*yu}function kH(t){return t*Yu}function Z_(t){return(t&t-1)===0&&t!==0}function v2(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function Lh(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function OH(t,e,n,s,i){const r=Math.cos,o=Math.sin,a=r(n/2),l=o(n/2),c=r((e+s)/2),u=o((e+s)/2),d=r((e-s)/2),f=o((e-s)/2),h=r((s-e)/2),_=o((s-e)/2);switch(i){case"XYX":t.set(a*u,l*d,l*f,a*c);break;case"YZY":t.set(l*f,a*u,l*d,a*c);break;case"ZXZ":t.set(l*d,l*f,a*u,a*c);break;case"XZX":t.set(a*u,l*_,l*h,a*c);break;case"YXY":t.set(l*h,a*u,l*_,a*c);break;case"ZYZ":t.set(l*_,l*h,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function LH(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function IH(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}var DH=Object.freeze({__proto__:null,DEG2RAD:yu,RAD2DEG:Yu,generateUUID:ti,clamp:Vn,euclideanModulo:Kb,mapLinear:vH,inverseLerp:wH,lerp:bu,damp:xH,pingpong:SH,smoothstep:EH,smootherstep:TH,randInt:MH,randFloat:AH,randFloatSpread:CH,seededRandom:RH,degToRad:PH,radToDeg:kH,isPowerOfTwo:Z_,ceilPowerOfTwo:v2,floorPowerOfTwo:Lh,setQuaternionFromProperEuler:OH,normalize:IH,denormalize:LH});class mt{constructor(e=0,n=0){mt.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,s=this.y,i=e.elements;return this.x=i[0]*n+i[3]*s+i[6],this.y=i[1]*n+i[4]*s+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(e,Math.min(n,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,s=this.y-e.y;return n*n+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,s){return this.x=e.x+(n.x-e.x)*s,this.y=e.y+(n.y-e.y)*s,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n,s){return s!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const s=Math.cos(n),i=Math.sin(n),r=this.x-e.x,o=this.y-e.y;return this.x=r*s-o*i+e.x,this.y=r*i+o*s+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ts{constructor(){Ts.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,n,s,i,r,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=n,u[4]=r,u[5]=l,u[6]=s,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,s=e.elements;return n[0]=s[0],n[1]=s[1],n[2]=s[2],n[3]=s[3],n[4]=s[4],n[5]=s[5],n[6]=s[6],n[7]=s[7],n[8]=s[8],this}extractBasis(e,n,s){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),s.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const s=e.elements,i=n.elements,r=this.elements,o=s[0],a=s[3],l=s[6],c=s[1],u=s[4],d=s[7],f=s[2],h=s[5],_=s[8],g=i[0],m=i[3],y=i[6],b=i[1],S=i[4],x=i[7],v=i[2],E=i[5],A=i[8];return r[0]=o*g+a*b+l*v,r[3]=o*m+a*S+l*E,r[6]=o*y+a*x+l*A,r[1]=c*g+u*b+d*v,r[4]=c*m+u*S+d*E,r[7]=c*y+u*x+d*A,r[2]=f*g+h*b+_*v,r[5]=f*m+h*S+_*E,r[8]=f*y+h*x+_*A,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],s=e[1],i=e[2],r=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return n*o*u-n*a*c-s*r*u+s*a*l+i*r*c-i*o*l}invert(){const e=this.elements,n=e[0],s=e[1],i=e[2],r=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*o-a*c,f=a*l-u*r,h=c*r-o*l,_=n*d+s*f+i*h;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/_;return e[0]=d*g,e[1]=(i*c-u*s)*g,e[2]=(a*s-i*o)*g,e[3]=f*g,e[4]=(u*n-i*l)*g,e[5]=(i*r-a*n)*g,e[6]=h*g,e[7]=(s*l-c*n)*g,e[8]=(o*n-s*r)*g,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,s,i,r,o,a){const l=Math.cos(r),c=Math.sin(r);return this.set(s*l,s*c,-s*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){const s=this.elements;return s[0]*=e,s[3]*=e,s[6]*=e,s[1]*=n,s[4]*=n,s[7]*=n,this}rotate(e){const n=Math.cos(e),s=Math.sin(e),i=this.elements,r=i[0],o=i[3],a=i[6],l=i[1],c=i[4],u=i[7];return i[0]=n*r+s*l,i[3]=n*o+s*c,i[6]=n*a+s*u,i[1]=-s*r+n*l,i[4]=-s*o+n*c,i[7]=-s*a+n*u,this}translate(e,n){const s=this.elements;return s[0]+=e*s[2],s[3]+=e*s[5],s[6]+=e*s[8],s[1]+=n*s[2],s[4]+=n*s[5],s[7]+=n*s[8],this}equals(e){const n=this.elements,s=e.elements;for(let i=0;i<9;i++)if(n[i]!==s[i])return!1;return!0}fromArray(e,n=0){for(let s=0;s<9;s++)this.elements[s]=e[s+n];return this}toArray(e=[],n=0){const s=this.elements;return e[n]=s[0],e[n+1]=s[1],e[n+2]=s[2],e[n+3]=s[3],e[n+4]=s[4],e[n+5]=s[5],e[n+6]=s[6],e[n+7]=s[7],e[n+8]=s[8],e}clone(){return new this.constructor().fromArray(this.elements)}}function w2(t){for(let e=t.length-1;e>=0;--e)if(t[e]>65535)return!0;return!1}function qu(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Qo(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Jf(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const lg={[Ki]:{[Go]:Qo},[Go]:{[Ki]:Jf}},Ns={legacyMode:!0,get workingColorSpace(){return Go},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.legacyMode||e===n||!e||!n)return t;if(lg[e]&&lg[e][n]!==void 0){const s=lg[e][n];return t.r=s(t.r),t.g=s(t.g),t.b=s(t.b),t}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}},x2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},dn={r:0,g:0,b:0},Fs={h:0,s:0,l:0},qd={h:0,s:0,l:0};function cg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}function Kd(t,e){return e.r=t.r,e.g=t.g,e.b=t.b,e}class Ke{constructor(e,n,s){return this.isColor=!0,this.r=1,this.g=1,this.b=1,n===void 0&&s===void 0?this.set(e):this.setRGB(e,n,s)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Ki){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Ns.toWorkingColorSpace(this,n),this}setRGB(e,n,s,i=Go){return this.r=e,this.g=n,this.b=s,Ns.toWorkingColorSpace(this,i),this}setHSL(e,n,s,i=Go){if(e=Kb(e,1),n=Vn(n,0,1),s=Vn(s,0,1),n===0)this.r=this.g=this.b=s;else{const r=s<=.5?s*(1+n):s+n-s*n,o=2*s-r;this.r=cg(o,r,e+1/3),this.g=cg(o,r,e),this.b=cg(o,r,e-1/3)}return Ns.toWorkingColorSpace(this,i),this}setStyle(e,n=Ki){function s(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let r;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,Ns.toWorkingColorSpace(this,n),s(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,Ns.toWorkingColorSpace(this,n),s(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(r[1])/360,c=parseInt(r[2],10)/100,u=parseInt(r[3],10)/100;return s(r[4]),this.setHSL(l,c,u,n)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=i[1],o=r.length;if(o===3)return this.r=parseInt(r.charAt(0)+r.charAt(0),16)/255,this.g=parseInt(r.charAt(1)+r.charAt(1),16)/255,this.b=parseInt(r.charAt(2)+r.charAt(2),16)/255,Ns.toWorkingColorSpace(this,n),this;if(o===6)return this.r=parseInt(r.charAt(0)+r.charAt(1),16)/255,this.g=parseInt(r.charAt(2)+r.charAt(3),16)/255,this.b=parseInt(r.charAt(4)+r.charAt(5),16)/255,Ns.toWorkingColorSpace(this,n),this}return e&&e.length>0?this.setColorName(e,n):this}setColorName(e,n=Ki){const s=x2[e.toLowerCase()];return s!==void 0?this.setHex(s,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Qo(e.r),this.g=Qo(e.g),this.b=Qo(e.b),this}copyLinearToSRGB(e){return this.r=Jf(e.r),this.g=Jf(e.g),this.b=Jf(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ki){return Ns.fromWorkingColorSpace(Kd(this,dn),e),Vn(dn.r*255,0,255)<<16^Vn(dn.g*255,0,255)<<8^Vn(dn.b*255,0,255)<<0}getHexString(e=Ki){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Go){Ns.fromWorkingColorSpace(Kd(this,dn),n);const s=dn.r,i=dn.g,r=dn.b,o=Math.max(s,i,r),a=Math.min(s,i,r);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=u<=.5?d/(o+a):d/(2-o-a),o){case s:l=(i-r)/d+(i<r?6:0);break;case i:l=(r-s)/d+2;break;case r:l=(s-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=Go){return Ns.fromWorkingColorSpace(Kd(this,dn),n),e.r=dn.r,e.g=dn.g,e.b=dn.b,e}getStyle(e=Ki){return Ns.fromWorkingColorSpace(Kd(this,dn),e),e!==Ki?`color(${e} ${dn.r} ${dn.g} ${dn.b})`:`rgb(${dn.r*255|0},${dn.g*255|0},${dn.b*255|0})`}offsetHSL(e,n,s){return this.getHSL(Fs),Fs.h+=e,Fs.s+=n,Fs.l+=s,this.setHSL(Fs.h,Fs.s,Fs.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,s){return this.r=e.r+(n.r-e.r)*s,this.g=e.g+(n.g-e.g)*s,this.b=e.b+(n.b-e.b)*s,this}lerpHSL(e,n){this.getHSL(Fs),e.getHSL(qd);const s=bu(Fs.h,qd.h,n),i=bu(Fs.s,qd.s,n),r=bu(Fs.l,qd.l,n);return this.setHSL(s,i,r),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}Ke.NAMES=x2;let Na;class S2{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Na===void 0&&(Na=qu("canvas")),Na.width=e.width,Na.height=e.height;const s=Na.getContext("2d");e instanceof ImageData?s.putImageData(e,0,0):s.drawImage(e,0,0,e.width,e.height),n=Na}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement!="undefined"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&e instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&e instanceof ImageBitmap){const n=qu("canvas");n.width=e.width,n.height=e.height;const s=n.getContext("2d");s.drawImage(e,0,0,e.width,e.height);const i=s.getImageData(0,0,e.width,e.height),r=i.data;for(let o=0;o<r.length;o++)r[o]=Qo(r[o]/255)*255;return s.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let s=0;s<n.length;s++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[s]=Math.floor(Qo(n[s]/255)*255):n[s]=Qo(n[s]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class E2{constructor(e=null){this.isSource=!0,this.uuid=ti(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const s={uuid:this.uuid,url:""},i=this.data;if(i!==null){let r;if(Array.isArray(i)){r=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?r.push(ug(i[o].image)):r.push(ug(i[o]))}else r=ug(i);s.url=r}return n||(e.images[this.uuid]=s),s}}function ug(t){return typeof HTMLImageElement!="undefined"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&t instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&t instanceof ImageBitmap?S2.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let NH=0;class Wn extends uc{constructor(e=Wn.DEFAULT_IMAGE,n=Wn.DEFAULT_MAPPING,s=xs,i=xs,r=ts,o=cc,a=Ks,l=aa,c=1,u=la){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:NH++}),this.uuid=ti(),this.name="",this.source=new E2(e),this.mipmaps=[],this.mapping=n,this.wrapS=s,this.wrapT=i,this.magFilter=r,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new mt(0,0),this.repeat=new mt(1,1),this.center=new mt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ts,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const s={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(s.userData=this.userData),n||(e.textures[this.uuid]=s),s}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==g2)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case zl:e.x=e.x-Math.floor(e.x);break;case xs:e.x=e.x<0?0:1;break;case Oh:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case zl:e.y=e.y-Math.floor(e.y);break;case xs:e.y=e.y<0?0:1;break;case Oh:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Wn.DEFAULT_IMAGE=null;Wn.DEFAULT_MAPPING=g2;class Lt{constructor(e=0,n=0,s=0,i=1){Lt.prototype.isVector4=!0,this.x=e,this.y=n,this.z=s,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,s,i){return this.x=e,this.y=n,this.z=s,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,s=this.y,i=this.z,r=this.w,o=e.elements;return this.x=o[0]*n+o[4]*s+o[8]*i+o[12]*r,this.y=o[1]*n+o[5]*s+o[9]*i+o[13]*r,this.z=o[2]*n+o[6]*s+o[10]*i+o[14]*r,this.w=o[3]*n+o[7]*s+o[11]*i+o[15]*r,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,s,i,r;const l=e.elements,c=l[0],u=l[4],d=l[8],f=l[1],h=l[5],_=l[9],g=l[2],m=l[6],y=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-g)<.01&&Math.abs(_-m)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+g)<.1&&Math.abs(_+m)<.1&&Math.abs(c+h+y-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const S=(c+1)/2,x=(h+1)/2,v=(y+1)/2,E=(u+f)/4,A=(d+g)/4,w=(_+m)/4;return S>x&&S>v?S<.01?(s=0,i=.707106781,r=.707106781):(s=Math.sqrt(S),i=E/s,r=A/s):x>v?x<.01?(s=.707106781,i=0,r=.707106781):(i=Math.sqrt(x),s=E/i,r=w/i):v<.01?(s=.707106781,i=.707106781,r=0):(r=Math.sqrt(v),s=A/r,i=w/r),this.set(s,i,r,n),this}let b=Math.sqrt((m-_)*(m-_)+(d-g)*(d-g)+(f-u)*(f-u));return Math.abs(b)<.001&&(b=1),this.x=(m-_)/b,this.y=(d-g)/b,this.z=(f-u)/b,this.w=Math.acos((c+h+y-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(e,Math.min(n,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,s){return this.x=e.x+(n.x-e.x)*s,this.y=e.y+(n.y-e.y)*s,this.z=e.z+(n.z-e.z)*s,this.w=e.w+(n.w-e.w)*s,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n,s){return s!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class ca extends uc{constructor(e,n,s={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Lt(0,0,e,n),this.scissorTest=!1,this.viewport=new Lt(0,0,e,n);const i={width:e,height:n,depth:1};this.texture=new Wn(i,s.mapping,s.wrapS,s.wrapT,s.magFilter,s.minFilter,s.format,s.type,s.anisotropy,s.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=s.generateMipmaps!==void 0?s.generateMipmaps:!1,this.texture.internalFormat=s.internalFormat!==void 0?s.internalFormat:null,this.texture.minFilter=s.minFilter!==void 0?s.minFilter:ts,this.depthBuffer=s.depthBuffer!==void 0?s.depthBuffer:!0,this.stencilBuffer=s.stencilBuffer!==void 0?s.stencilBuffer:!1,this.depthTexture=s.depthTexture!==void 0?s.depthTexture:null,this.samples=s.samples!==void 0?s.samples:0}setSize(e,n,s=1){(this.width!==e||this.height!==n||this.depth!==s)&&(this.width=e,this.height=n,this.depth=s,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=s,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new E2(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class T2 extends Wn{constructor(e=null,n=1,s=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:s,depth:i},this.magFilter=xn,this.minFilter=xn,this.wrapR=xs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class FH extends Wn{constructor(e=null,n=1,s=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:s,depth:i},this.magFilter=xn,this.minFilter=xn,this.wrapR=xs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Ci{constructor(e=0,n=0,s=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=s,this._w=i}static slerp(e,n,s,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),s.slerpQuaternions(e,n,i)}static slerpFlat(e,n,s,i,r,o,a){let l=s[i+0],c=s[i+1],u=s[i+2],d=s[i+3];const f=r[o+0],h=r[o+1],_=r[o+2],g=r[o+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d;return}if(a===1){e[n+0]=f,e[n+1]=h,e[n+2]=_,e[n+3]=g;return}if(d!==g||l!==f||c!==h||u!==_){let m=1-a;const y=l*f+c*h+u*_+d*g,b=y>=0?1:-1,S=1-y*y;if(S>Number.EPSILON){const v=Math.sqrt(S),E=Math.atan2(v,y*b);m=Math.sin(m*E)/v,a=Math.sin(a*E)/v}const x=a*b;if(l=l*m+f*x,c=c*m+h*x,u=u*m+_*x,d=d*m+g*x,m===1-a){const v=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=v,c*=v,u*=v,d*=v}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d}static multiplyQuaternionsFlat(e,n,s,i,r,o){const a=s[i],l=s[i+1],c=s[i+2],u=s[i+3],d=r[o],f=r[o+1],h=r[o+2],_=r[o+3];return e[n]=a*_+u*d+l*h-c*f,e[n+1]=l*_+u*f+c*d-a*h,e[n+2]=c*_+u*h+a*f-l*d,e[n+3]=u*_-a*d-l*f-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,s,i){return this._x=e,this._y=n,this._z=s,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const s=e._x,i=e._y,r=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(s/2),u=a(i/2),d=a(r/2),f=l(s/2),h=l(i/2),_=l(r/2);switch(o){case"XYZ":this._x=f*u*d+c*h*_,this._y=c*h*d-f*u*_,this._z=c*u*_+f*h*d,this._w=c*u*d-f*h*_;break;case"YXZ":this._x=f*u*d+c*h*_,this._y=c*h*d-f*u*_,this._z=c*u*_-f*h*d,this._w=c*u*d+f*h*_;break;case"ZXY":this._x=f*u*d-c*h*_,this._y=c*h*d+f*u*_,this._z=c*u*_+f*h*d,this._w=c*u*d-f*h*_;break;case"ZYX":this._x=f*u*d-c*h*_,this._y=c*h*d+f*u*_,this._z=c*u*_-f*h*d,this._w=c*u*d+f*h*_;break;case"YZX":this._x=f*u*d+c*h*_,this._y=c*h*d+f*u*_,this._z=c*u*_-f*h*d,this._w=c*u*d-f*h*_;break;case"XZY":this._x=f*u*d-c*h*_,this._y=c*h*d-f*u*_,this._z=c*u*_+f*h*d,this._w=c*u*d+f*h*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const s=n/2,i=Math.sin(s);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(s),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,s=n[0],i=n[4],r=n[8],o=n[1],a=n[5],l=n[9],c=n[2],u=n[6],d=n[10],f=s+a+d;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(u-l)*h,this._y=(r-c)*h,this._z=(o-i)*h}else if(s>a&&s>d){const h=2*Math.sqrt(1+s-a-d);this._w=(u-l)/h,this._x=.25*h,this._y=(i+o)/h,this._z=(r+c)/h}else if(a>d){const h=2*Math.sqrt(1+a-s-d);this._w=(r-c)/h,this._x=(i+o)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+d-s-a);this._w=(o-i)/h,this._x=(r+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let s=e.dot(n)+1;return s<Number.EPSILON?(s=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=s):(this._x=0,this._y=-e.z,this._z=e.y,this._w=s)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=s),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Vn(this.dot(e),-1,1)))}rotateTowards(e,n){const s=this.angleTo(e);if(s===0)return this;const i=Math.min(1,n/s);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,n){return n!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,n)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const s=e._x,i=e._y,r=e._z,o=e._w,a=n._x,l=n._y,c=n._z,u=n._w;return this._x=s*u+o*a+i*c-r*l,this._y=i*u+o*l+r*a-s*c,this._z=r*u+o*c+s*l-i*a,this._w=o*u-s*a-i*l-r*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const s=this._x,i=this._y,r=this._z,o=this._w;let a=o*e._w+s*e._x+i*e._y+r*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=s,this._y=i,this._z=r,this;const l=1-a*a;if(l<=Number.EPSILON){const h=1-n;return this._w=h*o+n*this._w,this._x=h*s+n*this._x,this._y=h*i+n*this._y,this._z=h*r+n*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-n)*u)/c,f=Math.sin(n*u)/c;return this._w=o*d+this._w*f,this._x=s*d+this._x*f,this._y=i*d+this._y*f,this._z=r*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,n,s){return this.copy(e).slerp(n,s)}random(){const e=Math.random(),n=Math.sqrt(1-e),s=Math.sqrt(e),i=2*Math.PI*Math.random(),r=2*Math.PI*Math.random();return this.set(n*Math.cos(i),s*Math.sin(r),s*Math.cos(r),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class G{constructor(e=0,n=0,s=0){G.prototype.isVector3=!0,this.x=e,this.y=n,this.z=s}set(e,n,s){return s===void 0&&(s=this.z),this.x=e,this.y=n,this.z=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e,n){return n!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,n)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Ux.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(Ux.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,s=this.y,i=this.z,r=e.elements;return this.x=r[0]*n+r[3]*s+r[6]*i,this.y=r[1]*n+r[4]*s+r[7]*i,this.z=r[2]*n+r[5]*s+r[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,s=this.y,i=this.z,r=e.elements,o=1/(r[3]*n+r[7]*s+r[11]*i+r[15]);return this.x=(r[0]*n+r[4]*s+r[8]*i+r[12])*o,this.y=(r[1]*n+r[5]*s+r[9]*i+r[13])*o,this.z=(r[2]*n+r[6]*s+r[10]*i+r[14])*o,this}applyQuaternion(e){const n=this.x,s=this.y,i=this.z,r=e.x,o=e.y,a=e.z,l=e.w,c=l*n+o*i-a*s,u=l*s+a*n-r*i,d=l*i+r*s-o*n,f=-r*n-o*s-a*i;return this.x=c*l+f*-r+u*-a-d*-o,this.y=u*l+f*-o+d*-r-c*-a,this.z=d*l+f*-a+c*-o-u*-r,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,s=this.y,i=this.z,r=e.elements;return this.x=r[0]*n+r[4]*s+r[8]*i,this.y=r[1]*n+r[5]*s+r[9]*i,this.z=r[2]*n+r[6]*s+r[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(e,Math.min(n,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,s){return this.x=e.x+(n.x-e.x)*s,this.y=e.y+(n.y-e.y)*s,this.z=e.z+(n.z-e.z)*s,this}cross(e,n){return n!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,n)):this.crossVectors(this,e)}crossVectors(e,n){const s=e.x,i=e.y,r=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-r*a,this.y=r*o-s*l,this.z=s*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const s=e.dot(this)/n;return this.copy(e).multiplyScalar(s)}projectOnPlane(e){return dg.copy(this).projectOnVector(e),this.sub(dg)}reflect(e){return this.sub(dg.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const s=this.dot(e)/n;return Math.acos(Vn(s,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,s=this.y-e.y,i=this.z-e.z;return n*n+s*s+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,s){const i=Math.sin(n)*e;return this.x=i*Math.sin(s),this.y=Math.cos(n)*e,this.z=i*Math.cos(s),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,s){return this.x=e*Math.sin(n),this.y=s,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),s=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=s,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n,s){return s!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,s=Math.sqrt(1-e**2);return this.x=s*Math.cos(n),this.y=s*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const dg=new G,Ux=new Ci;class dc{constructor(e=new G(1/0,1/0,1/0),n=new G(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){let n=1/0,s=1/0,i=1/0,r=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const u=e[l],d=e[l+1],f=e[l+2];u<n&&(n=u),d<s&&(s=d),f<i&&(i=f),u>r&&(r=u),d>o&&(o=d),f>a&&(a=f)}return this.min.set(n,s,i),this.max.set(r,o,a),this}setFromBufferAttribute(e){let n=1/0,s=1/0,i=1/0,r=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const u=e.getX(l),d=e.getY(l),f=e.getZ(l);u<n&&(n=u),d<s&&(s=d),f<i&&(i=f),u>r&&(r=u),d>o&&(o=d),f>a&&(a=f)}return this.min.set(n,s,i),this.max.set(r,o,a),this}setFromPoints(e){this.makeEmpty();for(let n=0,s=e.length;n<s;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const s=vo.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(s),this.max.copy(e).add(s),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const s=e.geometry;if(s!==void 0)if(n&&s.attributes!=null&&s.attributes.position!==void 0){const r=s.attributes.position;for(let o=0,a=r.count;o<a;o++)vo.fromBufferAttribute(r,o).applyMatrix4(e.matrixWorld),this.expandByPoint(vo)}else s.boundingBox===null&&s.computeBoundingBox(),fg.copy(s.boundingBox),fg.applyMatrix4(e.matrixWorld),this.union(fg);const i=e.children;for(let r=0,o=i.length;r<o;r++)this.expandByObject(i[r],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,vo),vo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,s;return e.normal.x>0?(n=e.normal.x*this.min.x,s=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,s=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,s+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,s+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,s+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,s+=e.normal.z*this.min.z),n<=-e.constant&&s>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Nc),Xd.subVectors(this.max,Nc),Fa.subVectors(e.a,Nc),$a.subVectors(e.b,Nc),Ua.subVectors(e.c,Nc),Tr.subVectors($a,Fa),Mr.subVectors(Ua,$a),wo.subVectors(Fa,Ua);let n=[0,-Tr.z,Tr.y,0,-Mr.z,Mr.y,0,-wo.z,wo.y,Tr.z,0,-Tr.x,Mr.z,0,-Mr.x,wo.z,0,-wo.x,-Tr.y,Tr.x,0,-Mr.y,Mr.x,0,-wo.y,wo.x,0];return!hg(n,Fa,$a,Ua,Xd)||(n=[1,0,0,0,1,0,0,0,1],!hg(n,Fa,$a,Ua,Xd))?!1:(Zd.crossVectors(Tr,Mr),n=[Zd.x,Zd.y,Zd.z],hg(n,Fa,$a,Ua,Xd))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return vo.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(vo).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Di[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Di[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Di[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Di[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Di[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Di[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Di[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Di[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Di),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Di=[new G,new G,new G,new G,new G,new G,new G,new G],vo=new G,fg=new dc,Fa=new G,$a=new G,Ua=new G,Tr=new G,Mr=new G,wo=new G,Nc=new G,Xd=new G,Zd=new G,xo=new G;function hg(t,e,n,s,i){for(let r=0,o=t.length-3;r<=o;r+=3){xo.fromArray(t,r);const a=i.x*Math.abs(xo.x)+i.y*Math.abs(xo.y)+i.z*Math.abs(xo.z),l=e.dot(xo),c=n.dot(xo),u=s.dot(xo);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const $H=new dc,Bx=new G,Jd=new G,pg=new G;class fc{constructor(e=new G,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const s=this.center;n!==void 0?s.copy(n):$H.setFromPoints(e).getCenter(s);let i=0;for(let r=0,o=e.length;r<o;r++)i=Math.max(i,s.distanceToSquared(e[r]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const s=this.center.distanceToSquared(e);return n.copy(e),s>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){pg.subVectors(e,this.center);const n=pg.lengthSq();if(n>this.radius*this.radius){const s=Math.sqrt(n),i=(s-this.radius)*.5;this.center.add(pg.multiplyScalar(i/s)),this.radius+=i}return this}union(e){return this.center.equals(e.center)===!0?Jd.set(0,0,1).multiplyScalar(e.radius):Jd.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(Bx.copy(e.center).add(Jd)),this.expandByPoint(Bx.copy(e.center).sub(Jd)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ni=new G,mg=new G,Qd=new G,Ar=new G,gg=new G,ef=new G,_g=new G;class Xb{constructor(e=new G,n=new G(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ni)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const s=n.dot(this.direction);return s<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(s).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Ni.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Ni.copy(this.direction).multiplyScalar(n).add(this.origin),Ni.distanceToSquared(e))}distanceSqToSegment(e,n,s,i){mg.copy(e).add(n).multiplyScalar(.5),Qd.copy(n).sub(e).normalize(),Ar.copy(this.origin).sub(mg);const r=e.distanceTo(n)*.5,o=-this.direction.dot(Qd),a=Ar.dot(this.direction),l=-Ar.dot(Qd),c=Ar.lengthSq(),u=Math.abs(1-o*o);let d,f,h,_;if(u>0)if(d=o*l-a,f=o*a-l,_=r*u,d>=0)if(f>=-_)if(f<=_){const g=1/u;d*=g,f*=g,h=d*(d+o*f+2*a)+f*(o*d+f+2*l)+c}else f=r,d=Math.max(0,-(o*f+a)),h=-d*d+f*(f+2*l)+c;else f=-r,d=Math.max(0,-(o*f+a)),h=-d*d+f*(f+2*l)+c;else f<=-_?(d=Math.max(0,-(-o*r+a)),f=d>0?-r:Math.min(Math.max(-r,-l),r),h=-d*d+f*(f+2*l)+c):f<=_?(d=0,f=Math.min(Math.max(-r,-l),r),h=f*(f+2*l)+c):(d=Math.max(0,-(o*r+a)),f=d>0?r:Math.min(Math.max(-r,-l),r),h=-d*d+f*(f+2*l)+c);else f=o>0?-r:r,d=Math.max(0,-(o*f+a)),h=-d*d+f*(f+2*l)+c;return s&&s.copy(this.direction).multiplyScalar(d).add(this.origin),i&&i.copy(Qd).multiplyScalar(f).add(mg),h}intersectSphere(e,n){Ni.subVectors(e.center,this.origin);const s=Ni.dot(this.direction),i=Ni.dot(Ni)-s*s,r=e.radius*e.radius;if(i>r)return null;const o=Math.sqrt(r-i),a=s-o,l=s+o;return a<0&&l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const s=-(this.origin.dot(e.normal)+e.constant)/n;return s>=0?s:null}intersectPlane(e,n){const s=this.distanceToPlane(e);return s===null?null:this.at(s,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let s,i,r,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(s=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(s=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),u>=0?(r=(e.min.y-f.y)*u,o=(e.max.y-f.y)*u):(r=(e.max.y-f.y)*u,o=(e.min.y-f.y)*u),s>o||r>i||((r>s||s!==s)&&(s=r),(o<i||i!==i)&&(i=o),d>=0?(a=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(a=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),s>l||a>i)||((a>s||s!==s)&&(s=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(s>=0?s:i,n)}intersectsBox(e){return this.intersectBox(e,Ni)!==null}intersectTriangle(e,n,s,i,r){gg.subVectors(n,e),ef.subVectors(s,e),_g.crossVectors(gg,ef);let o=this.direction.dot(_g),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Ar.subVectors(this.origin,e);const l=a*this.direction.dot(ef.crossVectors(Ar,ef));if(l<0)return null;const c=a*this.direction.dot(gg.cross(Ar));if(c<0||l+c>o)return null;const u=-a*Ar.dot(_g);return u<0?null:this.at(u/o,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class xt{constructor(){xt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,n,s,i,r,o,a,l,c,u,d,f,h,_,g,m){const y=this.elements;return y[0]=e,y[4]=n,y[8]=s,y[12]=i,y[1]=r,y[5]=o,y[9]=a,y[13]=l,y[2]=c,y[6]=u,y[10]=d,y[14]=f,y[3]=h,y[7]=_,y[11]=g,y[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new xt().fromArray(this.elements)}copy(e){const n=this.elements,s=e.elements;return n[0]=s[0],n[1]=s[1],n[2]=s[2],n[3]=s[3],n[4]=s[4],n[5]=s[5],n[6]=s[6],n[7]=s[7],n[8]=s[8],n[9]=s[9],n[10]=s[10],n[11]=s[11],n[12]=s[12],n[13]=s[13],n[14]=s[14],n[15]=s[15],this}copyPosition(e){const n=this.elements,s=e.elements;return n[12]=s[12],n[13]=s[13],n[14]=s[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,s){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),s.setFromMatrixColumn(this,2),this}makeBasis(e,n,s){return this.set(e.x,n.x,s.x,0,e.y,n.y,s.y,0,e.z,n.z,s.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,s=e.elements,i=1/Ba.setFromMatrixColumn(e,0).length(),r=1/Ba.setFromMatrixColumn(e,1).length(),o=1/Ba.setFromMatrixColumn(e,2).length();return n[0]=s[0]*i,n[1]=s[1]*i,n[2]=s[2]*i,n[3]=0,n[4]=s[4]*r,n[5]=s[5]*r,n[6]=s[6]*r,n[7]=0,n[8]=s[8]*o,n[9]=s[9]*o,n[10]=s[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const n=this.elements,s=e.x,i=e.y,r=e.z,o=Math.cos(s),a=Math.sin(s),l=Math.cos(i),c=Math.sin(i),u=Math.cos(r),d=Math.sin(r);if(e.order==="XYZ"){const f=o*u,h=o*d,_=a*u,g=a*d;n[0]=l*u,n[4]=-l*d,n[8]=c,n[1]=h+_*c,n[5]=f-g*c,n[9]=-a*l,n[2]=g-f*c,n[6]=_+h*c,n[10]=o*l}else if(e.order==="YXZ"){const f=l*u,h=l*d,_=c*u,g=c*d;n[0]=f+g*a,n[4]=_*a-h,n[8]=o*c,n[1]=o*d,n[5]=o*u,n[9]=-a,n[2]=h*a-_,n[6]=g+f*a,n[10]=o*l}else if(e.order==="ZXY"){const f=l*u,h=l*d,_=c*u,g=c*d;n[0]=f-g*a,n[4]=-o*d,n[8]=_+h*a,n[1]=h+_*a,n[5]=o*u,n[9]=g-f*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const f=o*u,h=o*d,_=a*u,g=a*d;n[0]=l*u,n[4]=_*c-h,n[8]=f*c+g,n[1]=l*d,n[5]=g*c+f,n[9]=h*c-_,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const f=o*l,h=o*c,_=a*l,g=a*c;n[0]=l*u,n[4]=g-f*d,n[8]=_*d+h,n[1]=d,n[5]=o*u,n[9]=-a*u,n[2]=-c*u,n[6]=h*d+_,n[10]=f-g*d}else if(e.order==="XZY"){const f=o*l,h=o*c,_=a*l,g=a*c;n[0]=l*u,n[4]=-d,n[8]=c*u,n[1]=f*d+g,n[5]=o*u,n[9]=h*d-_,n[2]=_*d-h,n[6]=a*u,n[10]=g*d+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(UH,e,BH)}lookAt(e,n,s){const i=this.elements;return os.subVectors(e,n),os.lengthSq()===0&&(os.z=1),os.normalize(),Cr.crossVectors(s,os),Cr.lengthSq()===0&&(Math.abs(s.z)===1?os.x+=1e-4:os.z+=1e-4,os.normalize(),Cr.crossVectors(s,os)),Cr.normalize(),tf.crossVectors(os,Cr),i[0]=Cr.x,i[4]=tf.x,i[8]=os.x,i[1]=Cr.y,i[5]=tf.y,i[9]=os.y,i[2]=Cr.z,i[6]=tf.z,i[10]=os.z,this}multiply(e,n){return n!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,n)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const s=e.elements,i=n.elements,r=this.elements,o=s[0],a=s[4],l=s[8],c=s[12],u=s[1],d=s[5],f=s[9],h=s[13],_=s[2],g=s[6],m=s[10],y=s[14],b=s[3],S=s[7],x=s[11],v=s[15],E=i[0],A=i[4],w=i[8],C=i[12],N=i[1],O=i[5],z=i[9],ee=i[13],B=i[2],V=i[6],H=i[10],te=i[14],J=i[3],X=i[7],oe=i[11],me=i[15];return r[0]=o*E+a*N+l*B+c*J,r[4]=o*A+a*O+l*V+c*X,r[8]=o*w+a*z+l*H+c*oe,r[12]=o*C+a*ee+l*te+c*me,r[1]=u*E+d*N+f*B+h*J,r[5]=u*A+d*O+f*V+h*X,r[9]=u*w+d*z+f*H+h*oe,r[13]=u*C+d*ee+f*te+h*me,r[2]=_*E+g*N+m*B+y*J,r[6]=_*A+g*O+m*V+y*X,r[10]=_*w+g*z+m*H+y*oe,r[14]=_*C+g*ee+m*te+y*me,r[3]=b*E+S*N+x*B+v*J,r[7]=b*A+S*O+x*V+v*X,r[11]=b*w+S*z+x*H+v*oe,r[15]=b*C+S*ee+x*te+v*me,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],s=e[4],i=e[8],r=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],f=e[10],h=e[14],_=e[3],g=e[7],m=e[11],y=e[15];return _*(+r*l*d-i*c*d-r*a*f+s*c*f+i*a*h-s*l*h)+g*(+n*l*h-n*c*f+r*o*f-i*o*h+i*c*u-r*l*u)+m*(+n*c*d-n*a*h-r*o*d+s*o*h+r*a*u-s*c*u)+y*(-i*a*u-n*l*d+n*a*f+i*o*d-s*o*f+s*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,s){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=s),this}invert(){const e=this.elements,n=e[0],s=e[1],i=e[2],r=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],h=e[11],_=e[12],g=e[13],m=e[14],y=e[15],b=d*m*c-g*f*c+g*l*h-a*m*h-d*l*y+a*f*y,S=_*f*c-u*m*c-_*l*h+o*m*h+u*l*y-o*f*y,x=u*g*c-_*d*c+_*a*h-o*g*h-u*a*y+o*d*y,v=_*d*l-u*g*l-_*a*f+o*g*f+u*a*m-o*d*m,E=n*b+s*S+i*x+r*v;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const A=1/E;return e[0]=b*A,e[1]=(g*f*r-d*m*r-g*i*h+s*m*h+d*i*y-s*f*y)*A,e[2]=(a*m*r-g*l*r+g*i*c-s*m*c-a*i*y+s*l*y)*A,e[3]=(d*l*r-a*f*r-d*i*c+s*f*c+a*i*h-s*l*h)*A,e[4]=S*A,e[5]=(u*m*r-_*f*r+_*i*h-n*m*h-u*i*y+n*f*y)*A,e[6]=(_*l*r-o*m*r-_*i*c+n*m*c+o*i*y-n*l*y)*A,e[7]=(o*f*r-u*l*r+u*i*c-n*f*c-o*i*h+n*l*h)*A,e[8]=x*A,e[9]=(_*d*r-u*g*r-_*s*h+n*g*h+u*s*y-n*d*y)*A,e[10]=(o*g*r-_*a*r+_*s*c-n*g*c-o*s*y+n*a*y)*A,e[11]=(u*a*r-o*d*r-u*s*c+n*d*c+o*s*h-n*a*h)*A,e[12]=v*A,e[13]=(u*g*i-_*d*i+_*s*f-n*g*f-u*s*m+n*d*m)*A,e[14]=(_*a*i-o*g*i-_*s*l+n*g*l+o*s*m-n*a*m)*A,e[15]=(o*d*i-u*a*i+u*s*l-n*d*l-o*s*f+n*a*f)*A,this}scale(e){const n=this.elements,s=e.x,i=e.y,r=e.z;return n[0]*=s,n[4]*=i,n[8]*=r,n[1]*=s,n[5]*=i,n[9]*=r,n[2]*=s,n[6]*=i,n[10]*=r,n[3]*=s,n[7]*=i,n[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],s=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,s,i))}makeTranslation(e,n,s){return this.set(1,0,0,e,0,1,0,n,0,0,1,s,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),s=Math.sin(e);return this.set(1,0,0,0,0,n,-s,0,0,s,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),s=Math.sin(e);return this.set(n,0,s,0,0,1,0,0,-s,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),s=Math.sin(e);return this.set(n,-s,0,0,s,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const s=Math.cos(n),i=Math.sin(n),r=1-s,o=e.x,a=e.y,l=e.z,c=r*o,u=r*a;return this.set(c*o+s,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+s,u*l-i*o,0,c*l-i*a,u*l+i*o,r*l*l+s,0,0,0,0,1),this}makeScale(e,n,s){return this.set(e,0,0,0,0,n,0,0,0,0,s,0,0,0,0,1),this}makeShear(e,n,s,i,r,o){return this.set(1,s,r,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,s){const i=this.elements,r=n._x,o=n._y,a=n._z,l=n._w,c=r+r,u=o+o,d=a+a,f=r*c,h=r*u,_=r*d,g=o*u,m=o*d,y=a*d,b=l*c,S=l*u,x=l*d,v=s.x,E=s.y,A=s.z;return i[0]=(1-(g+y))*v,i[1]=(h+x)*v,i[2]=(_-S)*v,i[3]=0,i[4]=(h-x)*E,i[5]=(1-(f+y))*E,i[6]=(m+b)*E,i[7]=0,i[8]=(_+S)*A,i[9]=(m-b)*A,i[10]=(1-(f+g))*A,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,s){const i=this.elements;let r=Ba.set(i[0],i[1],i[2]).length();const o=Ba.set(i[4],i[5],i[6]).length(),a=Ba.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],$s.copy(this);const c=1/r,u=1/o,d=1/a;return $s.elements[0]*=c,$s.elements[1]*=c,$s.elements[2]*=c,$s.elements[4]*=u,$s.elements[5]*=u,$s.elements[6]*=u,$s.elements[8]*=d,$s.elements[9]*=d,$s.elements[10]*=d,n.setFromRotationMatrix($s),s.x=r,s.y=o,s.z=a,this}makePerspective(e,n,s,i,r,o){o===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,l=2*r/(n-e),c=2*r/(s-i),u=(n+e)/(n-e),d=(s+i)/(s-i),f=-(o+r)/(o-r),h=-2*o*r/(o-r);return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=f,a[14]=h,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,n,s,i,r,o){const a=this.elements,l=1/(n-e),c=1/(s-i),u=1/(o-r),d=(n+e)*l,f=(s+i)*c,h=(o+r)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-f,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-h,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const n=this.elements,s=e.elements;for(let i=0;i<16;i++)if(n[i]!==s[i])return!1;return!0}fromArray(e,n=0){for(let s=0;s<16;s++)this.elements[s]=e[s+n];return this}toArray(e=[],n=0){const s=this.elements;return e[n]=s[0],e[n+1]=s[1],e[n+2]=s[2],e[n+3]=s[3],e[n+4]=s[4],e[n+5]=s[5],e[n+6]=s[6],e[n+7]=s[7],e[n+8]=s[8],e[n+9]=s[9],e[n+10]=s[10],e[n+11]=s[11],e[n+12]=s[12],e[n+13]=s[13],e[n+14]=s[14],e[n+15]=s[15],e}}const Ba=new G,$s=new xt,UH=new G(0,0,0),BH=new G(1,1,1),Cr=new G,tf=new G,os=new G,zx=new xt,Gx=new Ci;class vd{constructor(e=0,n=0,s=0,i=vd.DefaultOrder){this.isEuler=!0,this._x=e,this._y=n,this._z=s,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,s,i=this._order){return this._x=e,this._y=n,this._z=s,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,s=!0){const i=e.elements,r=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],d=i[2],f=i[6],h=i[10];switch(n){case"XYZ":this._y=Math.asin(Vn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-o,r)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Vn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,r),this._z=0);break;case"ZXY":this._x=Math.asin(Vn(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,h),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,r));break;case"ZYX":this._y=Math.asin(-Vn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,h),this._z=Math.atan2(l,r)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Vn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,r)):(this._x=0,this._y=Math.atan2(a,h));break;case"XZY":this._z=Math.asin(-Vn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(a,r)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,s===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,s){return zx.makeRotationFromQuaternion(e),this.setFromRotationMatrix(zx,n,s)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return Gx.setFromEuler(this),this.setFromQuaternion(Gx,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}vd.DefaultOrder="XYZ";vd.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class M2{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let zH=0;const Vx=new G,za=new Ci,Fi=new xt,nf=new G,Fc=new G,GH=new G,VH=new Ci,Hx=new G(1,0,0),Wx=new G(0,1,0),jx=new G(0,0,1),HH={type:"added"},Yx={type:"removed"};class ln extends uc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:zH++}),this.uuid=ti(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ln.DefaultUp.clone();const e=new G,n=new vd,s=new Ci,i=new G(1,1,1);function r(){s.setFromEuler(n,!1)}function o(){n.setFromQuaternion(s,void 0,!1)}n._onChange(r),s._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:s},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new xt},normalMatrix:{value:new Ts}}),this.matrix=new xt,this.matrixWorld=new xt,this.matrixAutoUpdate=ln.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new M2,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return za.setFromAxisAngle(e,n),this.quaternion.multiply(za),this}rotateOnWorldAxis(e,n){return za.setFromAxisAngle(e,n),this.quaternion.premultiply(za),this}rotateX(e){return this.rotateOnAxis(Hx,e)}rotateY(e){return this.rotateOnAxis(Wx,e)}rotateZ(e){return this.rotateOnAxis(jx,e)}translateOnAxis(e,n){return Vx.copy(e).applyQuaternion(this.quaternion),this.position.add(Vx.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(Hx,e)}translateY(e){return this.translateOnAxis(Wx,e)}translateZ(e){return this.translateOnAxis(jx,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Fi.copy(this.matrixWorld).invert())}lookAt(e,n,s){e.isVector3?nf.copy(e):nf.set(e,n,s);const i=this.parent;this.updateWorldMatrix(!0,!1),Fc.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Fi.lookAt(Fc,nf,this.up):Fi.lookAt(nf,Fc,this.up),this.quaternion.setFromRotationMatrix(Fi),i&&(Fi.extractRotation(i.matrixWorld),za.setFromRotationMatrix(Fi),this.quaternion.premultiply(za.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(HH)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let s=0;s<arguments.length;s++)this.remove(arguments[s]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Yx)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(Yx)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Fi.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Fi.multiply(e.parent.matrixWorld)),e.applyMatrix4(Fi),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let s=0,i=this.children.length;s<i;s++){const o=this.children[s].getObjectByProperty(e,n);if(o!==void 0)return o}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Fc,e,GH),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Fc,VH,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let s=0,i=n.length;s<i;s++)n[s].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let s=0,i=n.length;s<i;s++)n[s].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let s=0,i=n.length;s<i;s++)n[s].updateMatrixWorld(e)}updateWorldMatrix(e,n){const s=this.parent;if(e===!0&&s!==null&&s.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let r=0,o=i.length;r<o;r++)i[r].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",s={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},s.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function r(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];r(e.shapes,d)}else r(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(r(e.materials,this.material[l]));i.material=a}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(r(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),d=o(e.shapes),f=o(e.skeletons),h=o(e.animations),_=o(e.nodes);a.length>0&&(s.geometries=a),l.length>0&&(s.materials=l),c.length>0&&(s.textures=c),u.length>0&&(s.images=u),d.length>0&&(s.shapes=d),f.length>0&&(s.skeletons=f),h.length>0&&(s.animations=h),_.length>0&&(s.nodes=_)}return s.object=i,s;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let s=0;s<e.children.length;s++){const i=e.children[s];this.add(i.clone())}return this}}ln.DefaultUp=new G(0,1,0);ln.DefaultMatrixAutoUpdate=!0;const Us=new G,$i=new G,yg=new G,Ui=new G,Ga=new G,Va=new G,qx=new G,bg=new G,vg=new G,wg=new G;class er{constructor(e=new G,n=new G,s=new G){this.a=e,this.b=n,this.c=s}static getNormal(e,n,s,i){i.subVectors(s,n),Us.subVectors(e,n),i.cross(Us);const r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(e,n,s,i,r){Us.subVectors(i,n),$i.subVectors(s,n),yg.subVectors(e,n);const o=Us.dot(Us),a=Us.dot($i),l=Us.dot(yg),c=$i.dot($i),u=$i.dot(yg),d=o*c-a*a;if(d===0)return r.set(-2,-1,-1);const f=1/d,h=(c*l-a*u)*f,_=(o*u-a*l)*f;return r.set(1-h-_,_,h)}static containsPoint(e,n,s,i){return this.getBarycoord(e,n,s,i,Ui),Ui.x>=0&&Ui.y>=0&&Ui.x+Ui.y<=1}static getUV(e,n,s,i,r,o,a,l){return this.getBarycoord(e,n,s,i,Ui),l.set(0,0),l.addScaledVector(r,Ui.x),l.addScaledVector(o,Ui.y),l.addScaledVector(a,Ui.z),l}static isFrontFacing(e,n,s,i){return Us.subVectors(s,n),$i.subVectors(e,n),Us.cross($i).dot(i)<0}set(e,n,s){return this.a.copy(e),this.b.copy(n),this.c.copy(s),this}setFromPointsAndIndices(e,n,s,i){return this.a.copy(e[n]),this.b.copy(e[s]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,s,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,s),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Us.subVectors(this.c,this.b),$i.subVectors(this.a,this.b),Us.cross($i).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return er.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return er.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,s,i,r){return er.getUV(e,this.a,this.b,this.c,n,s,i,r)}containsPoint(e){return er.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return er.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const s=this.a,i=this.b,r=this.c;let o,a;Ga.subVectors(i,s),Va.subVectors(r,s),bg.subVectors(e,s);const l=Ga.dot(bg),c=Va.dot(bg);if(l<=0&&c<=0)return n.copy(s);vg.subVectors(e,i);const u=Ga.dot(vg),d=Va.dot(vg);if(u>=0&&d<=u)return n.copy(i);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return o=l/(l-u),n.copy(s).addScaledVector(Ga,o);wg.subVectors(e,r);const h=Ga.dot(wg),_=Va.dot(wg);if(_>=0&&h<=_)return n.copy(r);const g=h*c-l*_;if(g<=0&&c>=0&&_<=0)return a=c/(c-_),n.copy(s).addScaledVector(Va,a);const m=u*_-h*d;if(m<=0&&d-u>=0&&h-_>=0)return qx.subVectors(r,i),a=(d-u)/(d-u+(h-_)),n.copy(i).addScaledVector(qx,a);const y=1/(m+g+f);return o=g*y,a=f*y,n.copy(s).addScaledVector(Ga,o).addScaledVector(Va,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let WH=0;class wi extends uc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:WH++}),this.uuid=ti(),this.name="",this.type="Material",this.blending=Ml,this.side=$l,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=h2,this.blendDst=p2,this.blendEquation=al,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=H_,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=bH,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ag,this.stencilZFail=ag,this.stencilZPass=ag,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const s=e[n];if(s===void 0){console.warn("THREE.Material: '"+n+"' parameter is undefined.");continue}if(n==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=s===TV;continue}const i=this[n];if(i===void 0){console.warn("THREE."+this.type+": '"+n+"' is not a property of this material.");continue}i&&i.isColor?i.set(s):i&&i.isVector3&&s&&s.isVector3?i.copy(s):this[n]=s}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const s={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.color&&this.color.isColor&&(s.color=this.color.getHex()),this.roughness!==void 0&&(s.roughness=this.roughness),this.metalness!==void 0&&(s.metalness=this.metalness),this.sheen!==void 0&&(s.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(s.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(s.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(s.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(s.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(s.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(s.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(s.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(s.shininess=this.shininess),this.clearcoat!==void 0&&(s.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(s.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(s.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(s.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,s.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(s.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(s.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(s.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(s.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(s.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(s.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(s.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(s.lightMap=this.lightMap.toJSON(e).uuid,s.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(s.aoMap=this.aoMap.toJSON(e).uuid,s.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(s.bumpMap=this.bumpMap.toJSON(e).uuid,s.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(s.normalMap=this.normalMap.toJSON(e).uuid,s.normalMapType=this.normalMapType,s.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(s.displacementMap=this.displacementMap.toJSON(e).uuid,s.displacementScale=this.displacementScale,s.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(s.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(s.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(s.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(s.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(s.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(s.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(s.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(s.combine=this.combine)),this.envMapIntensity!==void 0&&(s.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(s.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(s.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(s.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(s.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(s.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(s.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(s.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(s.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(s.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(s.size=this.size),this.shadowSide!==null&&(s.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(s.sizeAttenuation=this.sizeAttenuation),this.blending!==Ml&&(s.blending=this.blending),this.side!==$l&&(s.side=this.side),this.vertexColors&&(s.vertexColors=!0),this.opacity<1&&(s.opacity=this.opacity),this.transparent===!0&&(s.transparent=this.transparent),s.depthFunc=this.depthFunc,s.depthTest=this.depthTest,s.depthWrite=this.depthWrite,s.colorWrite=this.colorWrite,s.stencilWrite=this.stencilWrite,s.stencilWriteMask=this.stencilWriteMask,s.stencilFunc=this.stencilFunc,s.stencilRef=this.stencilRef,s.stencilFuncMask=this.stencilFuncMask,s.stencilFail=this.stencilFail,s.stencilZFail=this.stencilZFail,s.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(s.rotation=this.rotation),this.polygonOffset===!0&&(s.polygonOffset=!0),this.polygonOffsetFactor!==0&&(s.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(s.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(s.linewidth=this.linewidth),this.dashSize!==void 0&&(s.dashSize=this.dashSize),this.gapSize!==void 0&&(s.gapSize=this.gapSize),this.scale!==void 0&&(s.scale=this.scale),this.dithering===!0&&(s.dithering=!0),this.alphaTest>0&&(s.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(s.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(s.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(s.wireframe=this.wireframe),this.wireframeLinewidth>1&&(s.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(s.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(s.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(s.flatShading=this.flatShading),this.visible===!1&&(s.visible=!1),this.toneMapped===!1&&(s.toneMapped=!1),this.fog===!1&&(s.fog=!1),JSON.stringify(this.userData)!=="{}"&&(s.userData=this.userData);function i(r){const o=[];for(const a in r){const l=r[a];delete l.metadata,o.push(l)}return o}if(n){const r=i(e.textures),o=i(e.images);r.length>0&&(s.textures=r),o.length>0&&(s.images=o)}return s}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let s=null;if(n!==null){const i=n.length;s=new Array(i);for(let r=0;r!==i;++r)s[r]=n[r].clone()}return this.clippingPlanes=s,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Wr extends wi{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ke(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=m2,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const un=new G,sf=new mt;class us{constructor(e,n,s){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=s===!0,this.usage=K_,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,n,s){e*=this.itemSize,s*=n.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[e+i]=n.array[s+i];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const n=this.array;let s=0;for(let i=0,r=e.length;i<r;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new Ke),n[s++]=o.r,n[s++]=o.g,n[s++]=o.b}return this}copyVector2sArray(e){const n=this.array;let s=0;for(let i=0,r=e.length;i<r;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new mt),n[s++]=o.x,n[s++]=o.y}return this}copyVector3sArray(e){const n=this.array;let s=0;for(let i=0,r=e.length;i<r;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new G),n[s++]=o.x,n[s++]=o.y,n[s++]=o.z}return this}copyVector4sArray(e){const n=this.array;let s=0;for(let i=0,r=e.length;i<r;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new Lt),n[s++]=o.x,n[s++]=o.y,n[s++]=o.z,n[s++]=o.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,s=this.count;n<s;n++)sf.fromBufferAttribute(this,n),sf.applyMatrix3(e),this.setXY(n,sf.x,sf.y);else if(this.itemSize===3)for(let n=0,s=this.count;n<s;n++)un.fromBufferAttribute(this,n),un.applyMatrix3(e),this.setXYZ(n,un.x,un.y,un.z);return this}applyMatrix4(e){for(let n=0,s=this.count;n<s;n++)un.fromBufferAttribute(this,n),un.applyMatrix4(e),this.setXYZ(n,un.x,un.y,un.z);return this}applyNormalMatrix(e){for(let n=0,s=this.count;n<s;n++)un.fromBufferAttribute(this,n),un.applyNormalMatrix(e),this.setXYZ(n,un.x,un.y,un.z);return this}transformDirection(e){for(let n=0,s=this.count;n<s;n++)un.fromBufferAttribute(this,n),un.transformDirection(e),this.setXYZ(n,un.x,un.y,un.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){return this.array[e*this.itemSize]}setX(e,n){return this.array[e*this.itemSize]=n,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,n){return this.array[e*this.itemSize+1]=n,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,n){return this.array[e*this.itemSize+2]=n,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,n){return this.array[e*this.itemSize+3]=n,this}setXY(e,n,s){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=s,this}setXYZ(e,n,s,i){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=s,this.array[e+2]=i,this}setXYZW(e,n,s,i,r){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=s,this.array[e+2]=i,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==K_&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class A2 extends us{constructor(e,n,s){super(new Uint16Array(e),n,s)}}class C2 extends us{constructor(e,n,s){super(new Uint32Array(e),n,s)}}class lr extends us{constructor(e,n,s){super(new Float32Array(e),n,s)}}let jH=0;const gs=new xt,xg=new ln,Ha=new G,as=new dc,$c=new dc,gn=new G;class ki extends uc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:jH++}),this.uuid=ti(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(w2(e)?C2:A2)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,s=0){this.groups.push({start:e,count:n,materialIndex:s})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const s=this.attributes.normal;if(s!==void 0){const r=new Ts().getNormalMatrix(e);s.applyNormalMatrix(r),s.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return gs.makeRotationFromQuaternion(e),this.applyMatrix4(gs),this}rotateX(e){return gs.makeRotationX(e),this.applyMatrix4(gs),this}rotateY(e){return gs.makeRotationY(e),this.applyMatrix4(gs),this}rotateZ(e){return gs.makeRotationZ(e),this.applyMatrix4(gs),this}translate(e,n,s){return gs.makeTranslation(e,n,s),this.applyMatrix4(gs),this}scale(e,n,s){return gs.makeScale(e,n,s),this.applyMatrix4(gs),this}lookAt(e){return xg.lookAt(e),xg.updateMatrix(),this.applyMatrix4(xg.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ha).negate(),this.translate(Ha.x,Ha.y,Ha.z),this}setFromPoints(e){const n=[];for(let s=0,i=e.length;s<i;s++){const r=e[s];n.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new lr(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new dc);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new G(-1/0,-1/0,-1/0),new G(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let s=0,i=n.length;s<i;s++){const r=n[s];as.setFromBufferAttribute(r),this.morphTargetsRelative?(gn.addVectors(this.boundingBox.min,as.min),this.boundingBox.expandByPoint(gn),gn.addVectors(this.boundingBox.max,as.max),this.boundingBox.expandByPoint(gn)):(this.boundingBox.expandByPoint(as.min),this.boundingBox.expandByPoint(as.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new fc);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new G,1/0);return}if(e){const s=this.boundingSphere.center;if(as.setFromBufferAttribute(e),n)for(let r=0,o=n.length;r<o;r++){const a=n[r];$c.setFromBufferAttribute(a),this.morphTargetsRelative?(gn.addVectors(as.min,$c.min),as.expandByPoint(gn),gn.addVectors(as.max,$c.max),as.expandByPoint(gn)):(as.expandByPoint($c.min),as.expandByPoint($c.max))}as.getCenter(s);let i=0;for(let r=0,o=e.count;r<o;r++)gn.fromBufferAttribute(e,r),i=Math.max(i,s.distanceToSquared(gn));if(n)for(let r=0,o=n.length;r<o;r++){const a=n[r],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)gn.fromBufferAttribute(a,c),l&&(Ha.fromBufferAttribute(e,c),gn.add(Ha)),i=Math.max(i,s.distanceToSquared(gn))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const s=e.array,i=n.position.array,r=n.normal.array,o=n.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new us(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let N=0;N<a;N++)c[N]=new G,u[N]=new G;const d=new G,f=new G,h=new G,_=new mt,g=new mt,m=new mt,y=new G,b=new G;function S(N,O,z){d.fromArray(i,N*3),f.fromArray(i,O*3),h.fromArray(i,z*3),_.fromArray(o,N*2),g.fromArray(o,O*2),m.fromArray(o,z*2),f.sub(d),h.sub(d),g.sub(_),m.sub(_);const ee=1/(g.x*m.y-m.x*g.y);!isFinite(ee)||(y.copy(f).multiplyScalar(m.y).addScaledVector(h,-g.y).multiplyScalar(ee),b.copy(h).multiplyScalar(g.x).addScaledVector(f,-m.x).multiplyScalar(ee),c[N].add(y),c[O].add(y),c[z].add(y),u[N].add(b),u[O].add(b),u[z].add(b))}let x=this.groups;x.length===0&&(x=[{start:0,count:s.length}]);for(let N=0,O=x.length;N<O;++N){const z=x[N],ee=z.start,B=z.count;for(let V=ee,H=ee+B;V<H;V+=3)S(s[V+0],s[V+1],s[V+2])}const v=new G,E=new G,A=new G,w=new G;function C(N){A.fromArray(r,N*3),w.copy(A);const O=c[N];v.copy(O),v.sub(A.multiplyScalar(A.dot(O))).normalize(),E.crossVectors(w,O);const ee=E.dot(u[N])<0?-1:1;l[N*4]=v.x,l[N*4+1]=v.y,l[N*4+2]=v.z,l[N*4+3]=ee}for(let N=0,O=x.length;N<O;++N){const z=x[N],ee=z.start,B=z.count;for(let V=ee,H=ee+B;V<H;V+=3)C(s[V+0]),C(s[V+1]),C(s[V+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let s=this.getAttribute("normal");if(s===void 0)s=new us(new Float32Array(n.count*3),3),this.setAttribute("normal",s);else for(let f=0,h=s.count;f<h;f++)s.setXYZ(f,0,0,0);const i=new G,r=new G,o=new G,a=new G,l=new G,c=new G,u=new G,d=new G;if(e)for(let f=0,h=e.count;f<h;f+=3){const _=e.getX(f+0),g=e.getX(f+1),m=e.getX(f+2);i.fromBufferAttribute(n,_),r.fromBufferAttribute(n,g),o.fromBufferAttribute(n,m),u.subVectors(o,r),d.subVectors(i,r),u.cross(d),a.fromBufferAttribute(s,_),l.fromBufferAttribute(s,g),c.fromBufferAttribute(s,m),a.add(u),l.add(u),c.add(u),s.setXYZ(_,a.x,a.y,a.z),s.setXYZ(g,l.x,l.y,l.z),s.setXYZ(m,c.x,c.y,c.z)}else for(let f=0,h=n.count;f<h;f+=3)i.fromBufferAttribute(n,f+0),r.fromBufferAttribute(n,f+1),o.fromBufferAttribute(n,f+2),u.subVectors(o,r),d.subVectors(i,r),u.cross(d),s.setXYZ(f+0,u.x,u.y,u.z),s.setXYZ(f+1,u.x,u.y,u.z),s.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),s.needsUpdate=!0}}merge(e,n){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}n===void 0&&(n=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const s=this.attributes;for(const i in s){if(e.attributes[i]===void 0)continue;const o=s[i].array,a=e.attributes[i],l=a.array,c=a.itemSize*n,u=Math.min(l.length,o.length-c);for(let d=0,f=c;d<u;d++,f++)o[f]=l[d]}return this}normalizeNormals(){const e=this.attributes.normal;for(let n=0,s=e.count;n<s;n++)gn.fromBufferAttribute(e,n),gn.normalize(),e.setXYZ(n,gn.x,gn.y,gn.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,f=new c.constructor(l.length*u);let h=0,_=0;for(let g=0,m=l.length;g<m;g++){a.isInterleavedBufferAttribute?h=l[g]*a.data.stride+a.offset:h=l[g]*u;for(let y=0;y<u;y++)f[_++]=c[h++]}return new us(f,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new ki,s=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,s);n.setAttribute(a,c)}const r=this.morphAttributes;for(const a in r){const l=[],c=r[a];for(let u=0,d=c.length;u<d;u++){const f=c[u],h=e(f,s);l.push(h)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const s=this.attributes;for(const l in s){const c=s[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let r=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,f=c.length;d<f;d++){const h=c[d];u.push(h.toJSON(e.data))}u.length>0&&(i[l]=u,r=!0)}r&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const s=e.index;s!==null&&this.setIndex(s.clone(n));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const r=e.morphAttributes;for(const c in r){const u=[],d=r[c];for(let f=0,h=d.length;f<h;f++)u.push(d[f].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const Kx=new xt,Wa=new Xb,Sg=new fc,Rr=new G,Pr=new G,kr=new G,Eg=new G,Tg=new G,Mg=new G,rf=new G,of=new G,af=new G,lf=new mt,cf=new mt,uf=new mt,Ag=new G,df=new G;class Xs extends ln{constructor(e=new ki,n=new Wr){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,s=Object.keys(n);if(s.length>0){const i=n[s[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=i.length;r<o;r++){const a=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}raycast(e,n){const s=this.geometry,i=this.material,r=this.matrixWorld;if(i===void 0||(s.boundingSphere===null&&s.computeBoundingSphere(),Sg.copy(s.boundingSphere),Sg.applyMatrix4(r),e.ray.intersectsSphere(Sg)===!1)||(Kx.copy(r).invert(),Wa.copy(e.ray).applyMatrix4(Kx),s.boundingBox!==null&&Wa.intersectsBox(s.boundingBox)===!1))return;let o;const a=s.index,l=s.attributes.position,c=s.morphAttributes.position,u=s.morphTargetsRelative,d=s.attributes.uv,f=s.attributes.uv2,h=s.groups,_=s.drawRange;if(a!==null)if(Array.isArray(i))for(let g=0,m=h.length;g<m;g++){const y=h[g],b=i[y.materialIndex],S=Math.max(y.start,_.start),x=Math.min(a.count,Math.min(y.start+y.count,_.start+_.count));for(let v=S,E=x;v<E;v+=3){const A=a.getX(v),w=a.getX(v+1),C=a.getX(v+2);o=ff(this,b,e,Wa,l,c,u,d,f,A,w,C),o&&(o.faceIndex=Math.floor(v/3),o.face.materialIndex=y.materialIndex,n.push(o))}}else{const g=Math.max(0,_.start),m=Math.min(a.count,_.start+_.count);for(let y=g,b=m;y<b;y+=3){const S=a.getX(y),x=a.getX(y+1),v=a.getX(y+2);o=ff(this,i,e,Wa,l,c,u,d,f,S,x,v),o&&(o.faceIndex=Math.floor(y/3),n.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let g=0,m=h.length;g<m;g++){const y=h[g],b=i[y.materialIndex],S=Math.max(y.start,_.start),x=Math.min(l.count,Math.min(y.start+y.count,_.start+_.count));for(let v=S,E=x;v<E;v+=3){const A=v,w=v+1,C=v+2;o=ff(this,b,e,Wa,l,c,u,d,f,A,w,C),o&&(o.faceIndex=Math.floor(v/3),o.face.materialIndex=y.materialIndex,n.push(o))}}else{const g=Math.max(0,_.start),m=Math.min(l.count,_.start+_.count);for(let y=g,b=m;y<b;y+=3){const S=y,x=y+1,v=y+2;o=ff(this,i,e,Wa,l,c,u,d,f,S,x,v),o&&(o.faceIndex=Math.floor(y/3),n.push(o))}}}}function YH(t,e,n,s,i,r,o,a){let l;if(e.side===ei?l=s.intersectTriangle(o,r,i,!0,a):l=s.intersectTriangle(i,r,o,e.side!==oa,a),l===null)return null;df.copy(a),df.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(df);return c<n.near||c>n.far?null:{distance:c,point:df.clone(),object:t}}function ff(t,e,n,s,i,r,o,a,l,c,u,d){Rr.fromBufferAttribute(i,c),Pr.fromBufferAttribute(i,u),kr.fromBufferAttribute(i,d);const f=t.morphTargetInfluences;if(r&&f){rf.set(0,0,0),of.set(0,0,0),af.set(0,0,0);for(let _=0,g=r.length;_<g;_++){const m=f[_],y=r[_];m!==0&&(Eg.fromBufferAttribute(y,c),Tg.fromBufferAttribute(y,u),Mg.fromBufferAttribute(y,d),o?(rf.addScaledVector(Eg,m),of.addScaledVector(Tg,m),af.addScaledVector(Mg,m)):(rf.addScaledVector(Eg.sub(Rr),m),of.addScaledVector(Tg.sub(Pr),m),af.addScaledVector(Mg.sub(kr),m)))}Rr.add(rf),Pr.add(of),kr.add(af)}t.isSkinnedMesh&&(t.boneTransform(c,Rr),t.boneTransform(u,Pr),t.boneTransform(d,kr));const h=YH(t,e,n,s,Rr,Pr,kr,Ag);if(h){a&&(lf.fromBufferAttribute(a,c),cf.fromBufferAttribute(a,u),uf.fromBufferAttribute(a,d),h.uv=er.getUV(Ag,Rr,Pr,kr,lf,cf,uf,new mt)),l&&(lf.fromBufferAttribute(l,c),cf.fromBufferAttribute(l,u),uf.fromBufferAttribute(l,d),h.uv2=er.getUV(Ag,Rr,Pr,kr,lf,cf,uf,new mt));const _={a:c,b:u,c:d,normal:new G,materialIndex:0};er.getNormal(Rr,Pr,kr,_.normal),h.face=_}return h}class hc extends ki{constructor(e=1,n=1,s=1,i=1,r=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:s,widthSegments:i,heightSegments:r,depthSegments:o};const a=this;i=Math.floor(i),r=Math.floor(r),o=Math.floor(o);const l=[],c=[],u=[],d=[];let f=0,h=0;_("z","y","x",-1,-1,s,n,e,o,r,0),_("z","y","x",1,-1,s,n,-e,o,r,1),_("x","z","y",1,1,e,s,n,i,o,2),_("x","z","y",1,-1,e,s,-n,i,o,3),_("x","y","z",1,-1,e,n,s,i,r,4),_("x","y","z",-1,-1,e,n,-s,i,r,5),this.setIndex(l),this.setAttribute("position",new lr(c,3)),this.setAttribute("normal",new lr(u,3)),this.setAttribute("uv",new lr(d,2));function _(g,m,y,b,S,x,v,E,A,w,C){const N=x/A,O=v/w,z=x/2,ee=v/2,B=E/2,V=A+1,H=w+1;let te=0,J=0;const X=new G;for(let oe=0;oe<H;oe++){const me=oe*O-ee;for(let k=0;k<V;k++){const L=k*N-z;X[g]=L*b,X[m]=me*S,X[y]=B,c.push(X.x,X.y,X.z),X[g]=0,X[m]=0,X[y]=E>0?1:-1,u.push(X.x,X.y,X.z),d.push(k/A),d.push(1-oe/w),te+=1}}for(let oe=0;oe<w;oe++)for(let me=0;me<A;me++){const k=f+me+V*oe,L=f+me+V*(oe+1),q=f+(me+1)+V*(oe+1),F=f+(me+1)+V*oe;l.push(k,L,F),l.push(L,q,F),J+=6}a.addGroup(h,J,C),h+=J,f+=te}}static fromJSON(e){return new hc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Hl(t){const e={};for(const n in t){e[n]={};for(const s in t[n]){const i=t[n][s];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[n][s]=i.clone():Array.isArray(i)?e[n][s]=i.slice():e[n][s]=i}}return e}function Tn(t){const e={};for(let n=0;n<t.length;n++){const s=Hl(t[n]);for(const i in s)e[i]=s[i]}return e}const qH={clone:Hl,merge:Tn};var KH=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,XH=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ua extends wi{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=KH,this.fragmentShader=XH,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Hl(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader;const s={};for(const i in this.extensions)this.extensions[i]===!0&&(s[i]=!0);return Object.keys(s).length>0&&(n.extensions=s),n}}class R2 extends ln{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new xt,this.projectionMatrix=new xt,this.projectionMatrixInverse=new xt}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Hn extends R2{constructor(e=50,n=1,s=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=s,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Yu*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(yu*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Yu*2*Math.atan(Math.tan(yu*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,s,i,r,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=s,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(yu*.5*this.fov)/this.zoom,s=2*n,i=this.aspect*s,r=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;r+=o.offsetX*i/l,n-=o.offsetY*s/c,i*=o.width/l,s*=o.height/c}const a=this.filmOffset;a!==0&&(r+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,n,n-s,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const ja=90,Ya=1;class ZH extends ln{constructor(e,n,s){if(super(),this.type="CubeCamera",s.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=s;const i=new Hn(ja,Ya,e,n);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new G(1,0,0)),this.add(i);const r=new Hn(ja,Ya,e,n);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new G(-1,0,0)),this.add(r);const o=new Hn(ja,Ya,e,n);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new G(0,1,0)),this.add(o);const a=new Hn(ja,Ya,e,n);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new G(0,-1,0)),this.add(a);const l=new Hn(ja,Ya,e,n);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new G(0,0,1)),this.add(l);const c=new Hn(ja,Ya,e,n);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new G(0,0,-1)),this.add(c)}update(e,n){this.parent===null&&this.updateMatrixWorld();const s=this.renderTarget,[i,r,o,a,l,c]=this.children,u=e.getRenderTarget(),d=e.toneMapping,f=e.xr.enabled;e.toneMapping=ar,e.xr.enabled=!1;const h=s.texture.generateMipmaps;s.texture.generateMipmaps=!1,e.setRenderTarget(s,0),e.render(n,i),e.setRenderTarget(s,1),e.render(n,r),e.setRenderTarget(s,2),e.render(n,o),e.setRenderTarget(s,3),e.render(n,a),e.setRenderTarget(s,4),e.render(n,l),s.texture.generateMipmaps=h,e.setRenderTarget(s,5),e.render(n,c),e.setRenderTarget(u),e.toneMapping=d,e.xr.enabled=f,s.texture.needsPMREMUpdate=!0}}class P2 extends Wn{constructor(e,n,s,i,r,o,a,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:Ul,super(e,n,s,i,r,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class JH extends ca{constructor(e,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const s={width:e,height:e,depth:1},i=[s,s,s,s,s,s];this.texture=new P2(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:ts}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.encoding=n.encoding,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const s={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new hc(5,5,5),r=new ua({name:"CubemapFromEquirect",uniforms:Hl(s.uniforms),vertexShader:s.vertexShader,fragmentShader:s.fragmentShader,side:ei,blending:to});r.uniforms.tEquirect.value=n;const o=new Xs(i,r),a=n.minFilter;return n.minFilter===cc&&(n.minFilter=ts),new ZH(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,s,i){const r=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,s,i);e.setRenderTarget(r)}}const Cg=new G,QH=new G,e8=new Ts;class Mo{constructor(e=new G(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,s,i){return this.normal.set(e,n,s),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,s){const i=Cg.subVectors(s,n).cross(QH.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,n){const s=e.delta(Cg),i=this.normal.dot(s);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/i;return r<0||r>1?null:n.copy(s).multiplyScalar(r).add(e.start)}intersectsLine(e){const n=this.distanceToPoint(e.start),s=this.distanceToPoint(e.end);return n<0&&s>0||s<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const s=n||e8.getNormalMatrix(e),i=this.coplanarPoint(Cg).applyMatrix4(e),r=this.normal.applyMatrix3(s).normalize();return this.constant=-i.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const qa=new fc,hf=new G;class Zb{constructor(e=new Mo,n=new Mo,s=new Mo,i=new Mo,r=new Mo,o=new Mo){this.planes=[e,n,s,i,r,o]}set(e,n,s,i,r,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(s),a[3].copy(i),a[4].copy(r),a[5].copy(o),this}copy(e){const n=this.planes;for(let s=0;s<6;s++)n[s].copy(e.planes[s]);return this}setFromProjectionMatrix(e){const n=this.planes,s=e.elements,i=s[0],r=s[1],o=s[2],a=s[3],l=s[4],c=s[5],u=s[6],d=s[7],f=s[8],h=s[9],_=s[10],g=s[11],m=s[12],y=s[13],b=s[14],S=s[15];return n[0].setComponents(a-i,d-l,g-f,S-m).normalize(),n[1].setComponents(a+i,d+l,g+f,S+m).normalize(),n[2].setComponents(a+r,d+c,g+h,S+y).normalize(),n[3].setComponents(a-r,d-c,g-h,S-y).normalize(),n[4].setComponents(a-o,d-u,g-_,S-b).normalize(),n[5].setComponents(a+o,d+u,g+_,S+b).normalize(),this}intersectsObject(e){const n=e.geometry;return n.boundingSphere===null&&n.computeBoundingSphere(),qa.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(qa)}intersectsSprite(e){return qa.center.set(0,0,0),qa.radius=.7071067811865476,qa.applyMatrix4(e.matrixWorld),this.intersectsSphere(qa)}intersectsSphere(e){const n=this.planes,s=e.center,i=-e.radius;for(let r=0;r<6;r++)if(n[r].distanceToPoint(s)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let s=0;s<6;s++){const i=n[s];if(hf.x=i.normal.x>0?e.max.x:e.min.x,hf.y=i.normal.y>0?e.max.y:e.min.y,hf.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(hf)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let s=0;s<6;s++)if(n[s].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function k2(){let t=null,e=!1,n=null,s=null;function i(r,o){n(r,o),s=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(s=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(s),e=!1},setAnimationLoop:function(r){n=r},setContext:function(r){t=r}}}function t8(t,e){const n=e.isWebGL2,s=new WeakMap;function i(c,u){const d=c.array,f=c.usage,h=t.createBuffer();t.bindBuffer(u,h),t.bufferData(u,d,f),c.onUploadCallback();let _;if(d instanceof Float32Array)_=5126;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(n)_=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else _=5123;else if(d instanceof Int16Array)_=5122;else if(d instanceof Uint32Array)_=5125;else if(d instanceof Int32Array)_=5124;else if(d instanceof Int8Array)_=5120;else if(d instanceof Uint8Array)_=5121;else if(d instanceof Uint8ClampedArray)_=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:h,type:_,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}function r(c,u,d){const f=u.array,h=u.updateRange;t.bindBuffer(d,c),h.count===-1?t.bufferSubData(d,0,f):(n?t.bufferSubData(d,h.offset*f.BYTES_PER_ELEMENT,f,h.offset,h.count):t.bufferSubData(d,h.offset*f.BYTES_PER_ELEMENT,f.subarray(h.offset,h.offset+h.count)),h.count=-1)}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),s.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=s.get(c);u&&(t.deleteBuffer(u.buffer),s.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const f=s.get(c);(!f||f.version<c.version)&&s.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const d=s.get(c);d===void 0?s.set(c,i(c,u)):d.version<c.version&&(r(d.buffer,c,u),d.version=c.version)}return{get:o,remove:a,update:l}}class Jb extends ki{constructor(e=1,n=1,s=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:s,heightSegments:i};const r=e/2,o=n/2,a=Math.floor(s),l=Math.floor(i),c=a+1,u=l+1,d=e/a,f=n/l,h=[],_=[],g=[],m=[];for(let y=0;y<u;y++){const b=y*f-o;for(let S=0;S<c;S++){const x=S*d-r;_.push(x,-b,0),g.push(0,0,1),m.push(S/a),m.push(1-y/l)}}for(let y=0;y<l;y++)for(let b=0;b<a;b++){const S=b+c*y,x=b+c*(y+1),v=b+1+c*(y+1),E=b+1+c*y;h.push(S,x,E),h.push(x,v,E)}this.setIndex(h),this.setAttribute("position",new lr(_,3)),this.setAttribute("normal",new lr(g,3)),this.setAttribute("uv",new lr(m,2))}static fromJSON(e){return new Jb(e.width,e.height,e.widthSegments,e.heightSegments)}}var n8=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,s8=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,i8=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,r8=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,o8=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,a8=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,l8="vec3 transformed = vec3( position );",c8=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,u8=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = mix(F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence);
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,d8=`#ifdef USE_IRIDESCENCE
const mat3 XYZ_TO_REC709 = mat3(
    3.2404542, -0.9692660,  0.0556434,
   -1.5371385,  1.8760108, -0.2040259,
   -0.4985314,  0.0415560,  1.0572252
);
vec3 Fresnel0ToIor( vec3 fresnel0 ) {
   vec3 sqrtF0 = sqrt( fresnel0 );
   return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
}
vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
   return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
}
float IorToFresnel0( float transmittedIor, float incidentIor ) {
   return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
}
vec3 evalSensitivity( float OPD, vec3 shift ) {
   float phase = 2.0 * PI * OPD * 1.0e-9;
   vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
   vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
   vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
   vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( -pow2( phase ) * var );
   xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[0] ) * exp( -4.5282e+09 * pow2( phase ) );
   xyz /= 1.0685e-7;
   vec3 srgb = XYZ_TO_REC709 * xyz;
   return srgb;
}
vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
   vec3 I;
   float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
   float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
   float cosTheta2Sq = 1.0 - sinTheta2Sq;
   if ( cosTheta2Sq < 0.0 ) {
       return vec3( 1.0 );
   }
   float cosTheta2 = sqrt( cosTheta2Sq );
   float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
   float R12 = F_Schlick( R0, 1.0, cosTheta1 );
   float R21 = R12;
   float T121 = 1.0 - R12;
   float phi12 = 0.0;
   if ( iridescenceIOR < outsideIOR ) phi12 = PI;
   float phi21 = PI - phi12;
   vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );   vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
   vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
   vec3 phi23 = vec3( 0.0 );
   if ( baseIOR[0] < iridescenceIOR ) phi23[0] = PI;
   if ( baseIOR[1] < iridescenceIOR ) phi23[1] = PI;
   if ( baseIOR[2] < iridescenceIOR ) phi23[2] = PI;
   float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
   vec3 phi = vec3( phi21 ) + phi23;
   vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
   vec3 r123 = sqrt( R123 );
   vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
   vec3 C0 = R12 + Rs;
   I = C0;
   vec3 Cm = Rs - T121;
   for ( int m = 1; m <= 2; ++m ) {
       Cm *= r123;
       vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
       I += Cm * Sm;
   }
   return max( I, vec3( 0.0 ) );
}
#endif`,f8=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,h8=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,p8=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,m8=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,g8=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,_8=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,y8=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,b8=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,v8=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,w8=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,x8=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,S8=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,E8=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,T8=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,M8=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,A8=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,C8="gl_FragColor = linearToOutputTexel( gl_FragColor );",R8=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,P8=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,k8=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,O8=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,L8=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,I8=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,D8=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,N8=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,F8=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,$8=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,U8=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,B8=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,z8=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,G8=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,V8=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,H8=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,W8=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,j8=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,Y8=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,q8=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,K8=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,X8=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Z8=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
float dotNVi = saturate( dot( normal, geometry.viewDir ) );
if ( material.iridescenceThickness == 0.0 ) {
	material.iridescence = 0.0;
} else {
	material.iridescence = saturate( material.iridescence );
}
if ( material.iridescence > 0.0 ) {
	material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
	material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,J8=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Q8=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,eW=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,tW=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,nW=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,sW=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,iW=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,rW=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,oW=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,aW=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,lW=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,cW=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,uW=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,dW=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,fW=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,hW=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,pW=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,mW=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,gW=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,_W=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,yW=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,bW=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,vW=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,wW=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,xW=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,SW=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,EW=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,TW=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,MW=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,AW=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,CW=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,RW=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,PW=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,kW=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,OW=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,LW=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,IW=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,DW=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,NW=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,FW=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,$W=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,UW=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,BW=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,zW=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,GW=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,VW=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,HW=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,WW=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,jW=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,YW=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,qW=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,KW=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,XW=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,ZW=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,JW=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const QW=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,ej=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,tj=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,nj=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,sj=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,ij=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,rj=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,oj=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,aj=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,lj=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cj=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,uj=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,dj=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fj=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hj=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,pj=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mj=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,gj=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_j=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,yj=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,bj=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,vj=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wj=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,xj=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Sj=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Ej=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Tj=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Mj=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Aj=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Cj=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Rj=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Pj=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,ut={alphamap_fragment:n8,alphamap_pars_fragment:s8,alphatest_fragment:i8,alphatest_pars_fragment:r8,aomap_fragment:o8,aomap_pars_fragment:a8,begin_vertex:l8,beginnormal_vertex:c8,bsdfs:u8,iridescence_fragment:d8,bumpmap_pars_fragment:f8,clipping_planes_fragment:h8,clipping_planes_pars_fragment:p8,clipping_planes_pars_vertex:m8,clipping_planes_vertex:g8,color_fragment:_8,color_pars_fragment:y8,color_pars_vertex:b8,color_vertex:v8,common:w8,cube_uv_reflection_fragment:x8,defaultnormal_vertex:S8,displacementmap_pars_vertex:E8,displacementmap_vertex:T8,emissivemap_fragment:M8,emissivemap_pars_fragment:A8,encodings_fragment:C8,encodings_pars_fragment:R8,envmap_fragment:P8,envmap_common_pars_fragment:k8,envmap_pars_fragment:O8,envmap_pars_vertex:L8,envmap_physical_pars_fragment:H8,envmap_vertex:I8,fog_vertex:D8,fog_pars_vertex:N8,fog_fragment:F8,fog_pars_fragment:$8,gradientmap_pars_fragment:U8,lightmap_fragment:B8,lightmap_pars_fragment:z8,lights_lambert_vertex:G8,lights_pars_begin:V8,lights_toon_fragment:W8,lights_toon_pars_fragment:j8,lights_phong_fragment:Y8,lights_phong_pars_fragment:q8,lights_physical_fragment:K8,lights_physical_pars_fragment:X8,lights_fragment_begin:Z8,lights_fragment_maps:J8,lights_fragment_end:Q8,logdepthbuf_fragment:eW,logdepthbuf_pars_fragment:tW,logdepthbuf_pars_vertex:nW,logdepthbuf_vertex:sW,map_fragment:iW,map_pars_fragment:rW,map_particle_fragment:oW,map_particle_pars_fragment:aW,metalnessmap_fragment:lW,metalnessmap_pars_fragment:cW,morphcolor_vertex:uW,morphnormal_vertex:dW,morphtarget_pars_vertex:fW,morphtarget_vertex:hW,normal_fragment_begin:pW,normal_fragment_maps:mW,normal_pars_fragment:gW,normal_pars_vertex:_W,normal_vertex:yW,normalmap_pars_fragment:bW,clearcoat_normal_fragment_begin:vW,clearcoat_normal_fragment_maps:wW,clearcoat_pars_fragment:xW,iridescence_pars_fragment:SW,output_fragment:EW,packing:TW,premultiplied_alpha_fragment:MW,project_vertex:AW,dithering_fragment:CW,dithering_pars_fragment:RW,roughnessmap_fragment:PW,roughnessmap_pars_fragment:kW,shadowmap_pars_fragment:OW,shadowmap_pars_vertex:LW,shadowmap_vertex:IW,shadowmask_pars_fragment:DW,skinbase_vertex:NW,skinning_pars_vertex:FW,skinning_vertex:$W,skinnormal_vertex:UW,specularmap_fragment:BW,specularmap_pars_fragment:zW,tonemapping_fragment:GW,tonemapping_pars_fragment:VW,transmission_fragment:HW,transmission_pars_fragment:WW,uv_pars_fragment:jW,uv_pars_vertex:YW,uv_vertex:qW,uv2_pars_fragment:KW,uv2_pars_vertex:XW,uv2_vertex:ZW,worldpos_vertex:JW,background_vert:QW,background_frag:ej,cube_vert:tj,cube_frag:nj,depth_vert:sj,depth_frag:ij,distanceRGBA_vert:rj,distanceRGBA_frag:oj,equirect_vert:aj,equirect_frag:lj,linedashed_vert:cj,linedashed_frag:uj,meshbasic_vert:dj,meshbasic_frag:fj,meshlambert_vert:hj,meshlambert_frag:pj,meshmatcap_vert:mj,meshmatcap_frag:gj,meshnormal_vert:_j,meshnormal_frag:yj,meshphong_vert:bj,meshphong_frag:vj,meshphysical_vert:wj,meshphysical_frag:xj,meshtoon_vert:Sj,meshtoon_frag:Ej,points_vert:Tj,points_frag:Mj,shadow_vert:Aj,shadow_frag:Cj,sprite_vert:Rj,sprite_frag:Pj},Pe={common:{diffuse:{value:new Ke(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Ts},uv2Transform:{value:new Ts},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new mt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ke(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ke(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ts}},sprite:{diffuse:{value:new Ke(16777215)},opacity:{value:1},center:{value:new mt(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ts}}},yi={basic:{uniforms:Tn([Pe.common,Pe.specularmap,Pe.envmap,Pe.aomap,Pe.lightmap,Pe.fog]),vertexShader:ut.meshbasic_vert,fragmentShader:ut.meshbasic_frag},lambert:{uniforms:Tn([Pe.common,Pe.specularmap,Pe.envmap,Pe.aomap,Pe.lightmap,Pe.emissivemap,Pe.fog,Pe.lights,{emissive:{value:new Ke(0)}}]),vertexShader:ut.meshlambert_vert,fragmentShader:ut.meshlambert_frag},phong:{uniforms:Tn([Pe.common,Pe.specularmap,Pe.envmap,Pe.aomap,Pe.lightmap,Pe.emissivemap,Pe.bumpmap,Pe.normalmap,Pe.displacementmap,Pe.fog,Pe.lights,{emissive:{value:new Ke(0)},specular:{value:new Ke(1118481)},shininess:{value:30}}]),vertexShader:ut.meshphong_vert,fragmentShader:ut.meshphong_frag},standard:{uniforms:Tn([Pe.common,Pe.envmap,Pe.aomap,Pe.lightmap,Pe.emissivemap,Pe.bumpmap,Pe.normalmap,Pe.displacementmap,Pe.roughnessmap,Pe.metalnessmap,Pe.fog,Pe.lights,{emissive:{value:new Ke(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ut.meshphysical_vert,fragmentShader:ut.meshphysical_frag},toon:{uniforms:Tn([Pe.common,Pe.aomap,Pe.lightmap,Pe.emissivemap,Pe.bumpmap,Pe.normalmap,Pe.displacementmap,Pe.gradientmap,Pe.fog,Pe.lights,{emissive:{value:new Ke(0)}}]),vertexShader:ut.meshtoon_vert,fragmentShader:ut.meshtoon_frag},matcap:{uniforms:Tn([Pe.common,Pe.bumpmap,Pe.normalmap,Pe.displacementmap,Pe.fog,{matcap:{value:null}}]),vertexShader:ut.meshmatcap_vert,fragmentShader:ut.meshmatcap_frag},points:{uniforms:Tn([Pe.points,Pe.fog]),vertexShader:ut.points_vert,fragmentShader:ut.points_frag},dashed:{uniforms:Tn([Pe.common,Pe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ut.linedashed_vert,fragmentShader:ut.linedashed_frag},depth:{uniforms:Tn([Pe.common,Pe.displacementmap]),vertexShader:ut.depth_vert,fragmentShader:ut.depth_frag},normal:{uniforms:Tn([Pe.common,Pe.bumpmap,Pe.normalmap,Pe.displacementmap,{opacity:{value:1}}]),vertexShader:ut.meshnormal_vert,fragmentShader:ut.meshnormal_frag},sprite:{uniforms:Tn([Pe.sprite,Pe.fog]),vertexShader:ut.sprite_vert,fragmentShader:ut.sprite_frag},background:{uniforms:{uvTransform:{value:new Ts},t2D:{value:null}},vertexShader:ut.background_vert,fragmentShader:ut.background_frag},cube:{uniforms:Tn([Pe.envmap,{opacity:{value:1}}]),vertexShader:ut.cube_vert,fragmentShader:ut.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ut.equirect_vert,fragmentShader:ut.equirect_frag},distanceRGBA:{uniforms:Tn([Pe.common,Pe.displacementmap,{referencePosition:{value:new G},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ut.distanceRGBA_vert,fragmentShader:ut.distanceRGBA_frag},shadow:{uniforms:Tn([Pe.lights,Pe.fog,{color:{value:new Ke(0)},opacity:{value:1}}]),vertexShader:ut.shadow_vert,fragmentShader:ut.shadow_frag}};yi.physical={uniforms:Tn([yi.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new mt(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Ke(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new mt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Ke(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Ke(1,1,1)},specularColorMap:{value:null}}]),vertexShader:ut.meshphysical_vert,fragmentShader:ut.meshphysical_frag};function kj(t,e,n,s,i,r){const o=new Ke(0);let a=i===!0?0:1,l,c,u=null,d=0,f=null;function h(g,m){let y=!1,b=m.isScene===!0?m.background:null;b&&b.isTexture&&(b=e.get(b));const S=t.xr,x=S.getSession&&S.getSession();x&&x.environmentBlendMode==="additive"&&(b=null),b===null?_(o,a):b&&b.isColor&&(_(b,1),y=!0),(t.autoClear||y)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),b&&(b.isCubeTexture||b.mapping===Vp)?(c===void 0&&(c=new Xs(new hc(1,1,1),new ua({name:"BackgroundCubeMaterial",uniforms:Hl(yi.cube.uniforms),vertexShader:yi.cube.vertexShader,fragmentShader:yi.cube.fragmentShader,side:ei,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(v,E,A){this.matrixWorld.copyPosition(A.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(c)),c.material.uniforms.envMap.value=b,c.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,(u!==b||d!==b.version||f!==t.toneMapping)&&(c.material.needsUpdate=!0,u=b,d=b.version,f=t.toneMapping),c.layers.enableAll(),g.unshift(c,c.geometry,c.material,0,0,null)):b&&b.isTexture&&(l===void 0&&(l=new Xs(new Jb(2,2),new ua({name:"BackgroundMaterial",uniforms:Hl(yi.background.uniforms),vertexShader:yi.background.vertexShader,fragmentShader:yi.background.fragmentShader,side:$l,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(l)),l.material.uniforms.t2D.value=b,b.matrixAutoUpdate===!0&&b.updateMatrix(),l.material.uniforms.uvTransform.value.copy(b.matrix),(u!==b||d!==b.version||f!==t.toneMapping)&&(l.material.needsUpdate=!0,u=b,d=b.version,f=t.toneMapping),l.layers.enableAll(),g.unshift(l,l.geometry,l.material,0,0,null))}function _(g,m){n.buffers.color.setClear(g.r,g.g,g.b,m,r)}return{getClearColor:function(){return o},setClearColor:function(g,m=1){o.set(g),a=m,_(o,a)},getClearAlpha:function(){return a},setClearAlpha:function(g){a=g,_(o,a)},render:h}}function Oj(t,e,n,s){const i=t.getParameter(34921),r=s.isWebGL2?null:e.get("OES_vertex_array_object"),o=s.isWebGL2||r!==null,a={},l=m(null);let c=l,u=!1;function d(B,V,H,te,J){let X=!1;if(o){const oe=g(te,H,V);c!==oe&&(c=oe,h(c.object)),X=y(B,te,H,J),X&&b(B,te,H,J)}else{const oe=V.wireframe===!0;(c.geometry!==te.id||c.program!==H.id||c.wireframe!==oe)&&(c.geometry=te.id,c.program=H.id,c.wireframe=oe,X=!0)}J!==null&&n.update(J,34963),(X||u)&&(u=!1,w(B,V,H,te),J!==null&&t.bindBuffer(34963,n.get(J).buffer))}function f(){return s.isWebGL2?t.createVertexArray():r.createVertexArrayOES()}function h(B){return s.isWebGL2?t.bindVertexArray(B):r.bindVertexArrayOES(B)}function _(B){return s.isWebGL2?t.deleteVertexArray(B):r.deleteVertexArrayOES(B)}function g(B,V,H){const te=H.wireframe===!0;let J=a[B.id];J===void 0&&(J={},a[B.id]=J);let X=J[V.id];X===void 0&&(X={},J[V.id]=X);let oe=X[te];return oe===void 0&&(oe=m(f()),X[te]=oe),oe}function m(B){const V=[],H=[],te=[];for(let J=0;J<i;J++)V[J]=0,H[J]=0,te[J]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:V,enabledAttributes:H,attributeDivisors:te,object:B,attributes:{},index:null}}function y(B,V,H,te){const J=c.attributes,X=V.attributes;let oe=0;const me=H.getAttributes();for(const k in me)if(me[k].location>=0){const q=J[k];let F=X[k];if(F===void 0&&(k==="instanceMatrix"&&B.instanceMatrix&&(F=B.instanceMatrix),k==="instanceColor"&&B.instanceColor&&(F=B.instanceColor)),q===void 0||q.attribute!==F||F&&q.data!==F.data)return!0;oe++}return c.attributesNum!==oe||c.index!==te}function b(B,V,H,te){const J={},X=V.attributes;let oe=0;const me=H.getAttributes();for(const k in me)if(me[k].location>=0){let q=X[k];q===void 0&&(k==="instanceMatrix"&&B.instanceMatrix&&(q=B.instanceMatrix),k==="instanceColor"&&B.instanceColor&&(q=B.instanceColor));const F={};F.attribute=q,q&&q.data&&(F.data=q.data),J[k]=F,oe++}c.attributes=J,c.attributesNum=oe,c.index=te}function S(){const B=c.newAttributes;for(let V=0,H=B.length;V<H;V++)B[V]=0}function x(B){v(B,0)}function v(B,V){const H=c.newAttributes,te=c.enabledAttributes,J=c.attributeDivisors;H[B]=1,te[B]===0&&(t.enableVertexAttribArray(B),te[B]=1),J[B]!==V&&((s.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[s.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](B,V),J[B]=V)}function E(){const B=c.newAttributes,V=c.enabledAttributes;for(let H=0,te=V.length;H<te;H++)V[H]!==B[H]&&(t.disableVertexAttribArray(H),V[H]=0)}function A(B,V,H,te,J,X){s.isWebGL2===!0&&(H===5124||H===5125)?t.vertexAttribIPointer(B,V,H,J,X):t.vertexAttribPointer(B,V,H,te,J,X)}function w(B,V,H,te){if(s.isWebGL2===!1&&(B.isInstancedMesh||te.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;S();const J=te.attributes,X=H.getAttributes(),oe=V.defaultAttributeValues;for(const me in X){const k=X[me];if(k.location>=0){let L=J[me];if(L===void 0&&(me==="instanceMatrix"&&B.instanceMatrix&&(L=B.instanceMatrix),me==="instanceColor"&&B.instanceColor&&(L=B.instanceColor)),L!==void 0){const q=L.normalized,F=L.itemSize,I=n.get(L);if(I===void 0)continue;const le=I.buffer,re=I.type,ge=I.bytesPerElement;if(L.isInterleavedBufferAttribute){const ue=L.data,Me=ue.stride,Se=L.offset;if(ue.isInstancedInterleavedBuffer){for(let R=0;R<k.locationSize;R++)v(k.location+R,ue.meshPerAttribute);B.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=ue.meshPerAttribute*ue.count)}else for(let R=0;R<k.locationSize;R++)x(k.location+R);t.bindBuffer(34962,le);for(let R=0;R<k.locationSize;R++)A(k.location+R,F/k.locationSize,re,q,Me*ge,(Se+F/k.locationSize*R)*ge)}else{if(L.isInstancedBufferAttribute){for(let ue=0;ue<k.locationSize;ue++)v(k.location+ue,L.meshPerAttribute);B.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=L.meshPerAttribute*L.count)}else for(let ue=0;ue<k.locationSize;ue++)x(k.location+ue);t.bindBuffer(34962,le);for(let ue=0;ue<k.locationSize;ue++)A(k.location+ue,F/k.locationSize,re,q,F*ge,F/k.locationSize*ue*ge)}}else if(oe!==void 0){const q=oe[me];if(q!==void 0)switch(q.length){case 2:t.vertexAttrib2fv(k.location,q);break;case 3:t.vertexAttrib3fv(k.location,q);break;case 4:t.vertexAttrib4fv(k.location,q);break;default:t.vertexAttrib1fv(k.location,q)}}}}E()}function C(){z();for(const B in a){const V=a[B];for(const H in V){const te=V[H];for(const J in te)_(te[J].object),delete te[J];delete V[H]}delete a[B]}}function N(B){if(a[B.id]===void 0)return;const V=a[B.id];for(const H in V){const te=V[H];for(const J in te)_(te[J].object),delete te[J];delete V[H]}delete a[B.id]}function O(B){for(const V in a){const H=a[V];if(H[B.id]===void 0)continue;const te=H[B.id];for(const J in te)_(te[J].object),delete te[J];delete H[B.id]}}function z(){ee(),u=!0,c!==l&&(c=l,h(c.object))}function ee(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:z,resetDefaultState:ee,dispose:C,releaseStatesOfGeometry:N,releaseStatesOfProgram:O,initAttributes:S,enableAttribute:x,disableUnusedAttributes:E}}function Lj(t,e,n,s){const i=s.isWebGL2;let r;function o(c){r=c}function a(c,u){t.drawArrays(r,c,u),n.update(u,r,1)}function l(c,u,d){if(d===0)return;let f,h;if(i)f=t,h="drawArraysInstanced";else if(f=e.get("ANGLE_instanced_arrays"),h="drawArraysInstancedANGLE",f===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[h](r,c,u,d),n.update(u,r,d)}this.setMode=o,this.render=a,this.renderInstances=l}function Ij(t,e,n){let s;function i(){if(s!==void 0)return s;if(e.has("EXT_texture_filter_anisotropic")===!0){const A=e.get("EXT_texture_filter_anisotropic");s=t.getParameter(A.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s}function r(A){if(A==="highp"){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";A="mediump"}return A==="mediump"&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext!="undefined"&&t instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&t instanceof WebGL2ComputeRenderingContext;let a=n.precision!==void 0?n.precision:"highp";const l=r(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=n.logarithmicDepthBuffer===!0,d=t.getParameter(34930),f=t.getParameter(35660),h=t.getParameter(3379),_=t.getParameter(34076),g=t.getParameter(34921),m=t.getParameter(36347),y=t.getParameter(36348),b=t.getParameter(36349),S=f>0,x=o||e.has("OES_texture_float"),v=S&&x,E=o?t.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:r,precision:a,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:f,maxTextureSize:h,maxCubemapSize:_,maxAttributes:g,maxVertexUniforms:m,maxVaryings:y,maxFragmentUniforms:b,vertexTextures:S,floatFragmentTextures:x,floatVertexTextures:v,maxSamples:E}}function Dj(t){const e=this;let n=null,s=0,i=!1,r=!1;const o=new Mo,a=new Ts,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f,h){const _=d.length!==0||f||s!==0||i;return i=f,n=u(d,h,0),s=d.length,_},this.beginShadows=function(){r=!0,u(null)},this.endShadows=function(){r=!1,c()},this.setState=function(d,f,h){const _=d.clippingPlanes,g=d.clipIntersection,m=d.clipShadows,y=t.get(d);if(!i||_===null||_.length===0||r&&!m)r?u(null):c();else{const b=r?0:s,S=b*4;let x=y.clippingState||null;l.value=x,x=u(_,f,S,h);for(let v=0;v!==S;++v)x[v]=n[v];y.clippingState=x,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=b}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=s>0),e.numPlanes=s,e.numIntersection=0}function u(d,f,h,_){const g=d!==null?d.length:0;let m=null;if(g!==0){if(m=l.value,_!==!0||m===null){const y=h+g*4,b=f.matrixWorldInverse;a.getNormalMatrix(b),(m===null||m.length<y)&&(m=new Float32Array(y));for(let S=0,x=h;S!==g;++S,x+=4)o.copy(d[S]).applyMatrix4(b,a),o.normal.toArray(m,x),m[x+3]=o.constant}l.value=m,l.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,m}}function Nj(t){let e=new WeakMap;function n(o,a){return a===W_?o.mapping=Ul:a===j_&&(o.mapping=Bl),o}function s(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===W_||a===j_)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new JH(l.height/2);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",i),n(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function r(){e=new WeakMap}return{get:s,dispose:r}}class Qb extends R2{constructor(e=-1,n=1,s=1,i=-1,r=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=s,this.bottom=i,this.near=r,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,s,i,r,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=s,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),s=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=s-e,o=s+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=c*this.view.offsetX,o=r+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(r,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const fl=4,Xx=[.125,.215,.35,.446,.526,.582],No=20,Rg=new Qb,Zx=new Ke;let Pg=null;const Ao=(1+Math.sqrt(5))/2,Ka=1/Ao,Jx=[new G(1,1,1),new G(-1,1,1),new G(1,1,-1),new G(-1,1,-1),new G(0,Ao,Ka),new G(0,Ao,-Ka),new G(Ka,0,Ao),new G(-Ka,0,Ao),new G(Ao,Ka,0),new G(-Ao,Ka,0)];class Qx{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,s=.1,i=100){Pg=this._renderer.getRenderTarget(),this._setSize(256);const r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(e,s,i,r),n>0&&this._blur(r,0,0,n),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=n1(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=t1(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Pg),e.scissorTest=!1,pf(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Ul||e.mapping===Bl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Pg=this._renderer.getRenderTarget();const s=n||this._allocateTargets();return this._textureToCubeUV(e,s),this._applyPMREM(s),this._cleanup(s),s}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,s={magFilter:ts,minFilter:ts,generateMipmaps:!1,type:Wu,format:Ks,encoding:la,depthBuffer:!1},i=e1(e,n,s);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=e1(e,n,s);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Fj(r)),this._blurMaterial=$j(r,e,n)}return i}_compileMaterial(e){const n=new Xs(this._lodPlanes[0],e);this._renderer.compile(n,Rg)}_sceneToCubeUV(e,n,s,i){const a=new Hn(90,1,n,s),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,f=u.toneMapping;u.getClearColor(Zx),u.toneMapping=ar,u.autoClear=!1;const h=new Wr({name:"PMREM.Background",side:ei,depthWrite:!1,depthTest:!1}),_=new Xs(new hc,h);let g=!1;const m=e.background;m?m.isColor&&(h.color.copy(m),e.background=null,g=!0):(h.color.copy(Zx),g=!0);for(let y=0;y<6;y++){const b=y%3;b===0?(a.up.set(0,l[y],0),a.lookAt(c[y],0,0)):b===1?(a.up.set(0,0,l[y]),a.lookAt(0,c[y],0)):(a.up.set(0,l[y],0),a.lookAt(0,0,c[y]));const S=this._cubeSize;pf(i,b*S,y>2?S:0,S,S),u.setRenderTarget(i),g&&u.render(_,a),u.render(e,a)}_.geometry.dispose(),_.material.dispose(),u.toneMapping=f,u.autoClear=d,e.background=m}_textureToCubeUV(e,n){const s=this._renderer,i=e.mapping===Ul||e.mapping===Bl;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=n1()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=t1());const r=i?this._cubemapMaterial:this._equirectMaterial,o=new Xs(this._lodPlanes[0],r),a=r.uniforms;a.envMap.value=e;const l=this._cubeSize;pf(n,0,0,3*l,2*l),s.setRenderTarget(n),s.render(o,Rg)}_applyPMREM(e){const n=this._renderer,s=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const r=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=Jx[(i-1)%Jx.length];this._blur(e,i-1,i,r,o)}n.autoClear=s}_blur(e,n,s,i,r){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,s,i,"latitudinal",r),this._halfBlur(o,e,s,s,i,"longitudinal",r)}_halfBlur(e,n,s,i,r,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new Xs(this._lodPlanes[i],c),f=c.uniforms,h=this._sizeLods[s]-1,_=isFinite(r)?Math.PI/(2*h):2*Math.PI/(2*No-1),g=r/_,m=isFinite(r)?1+Math.floor(u*g):No;m>No&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${m} samples when the maximum is set to ${No}`);const y=[];let b=0;for(let A=0;A<No;++A){const w=A/g,C=Math.exp(-w*w/2);y.push(C),A===0?b+=C:A<m&&(b+=2*C)}for(let A=0;A<y.length;A++)y[A]=y[A]/b;f.envMap.value=e.texture,f.samples.value=m,f.weights.value=y,f.latitudinal.value=o==="latitudinal",a&&(f.poleAxis.value=a);const{_lodMax:S}=this;f.dTheta.value=_,f.mipInt.value=S-s;const x=this._sizeLods[i],v=3*x*(i>S-fl?i-S+fl:0),E=4*(this._cubeSize-x);pf(n,v,E,3*x,2*x),l.setRenderTarget(n),l.render(d,Rg)}}function Fj(t){const e=[],n=[],s=[];let i=t;const r=t-fl+1+Xx.length;for(let o=0;o<r;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-fl?l=Xx[o-t+fl-1]:o===0&&(l=0),s.push(l);const c=1/(a-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],h=6,_=6,g=3,m=2,y=1,b=new Float32Array(g*_*h),S=new Float32Array(m*_*h),x=new Float32Array(y*_*h);for(let E=0;E<h;E++){const A=E%3*2/3-1,w=E>2?0:-1,C=[A,w,0,A+2/3,w,0,A+2/3,w+1,0,A,w,0,A+2/3,w+1,0,A,w+1,0];b.set(C,g*_*E),S.set(f,m*_*E);const N=[E,E,E,E,E,E];x.set(N,y*_*E)}const v=new ki;v.setAttribute("position",new us(b,g)),v.setAttribute("uv",new us(S,m)),v.setAttribute("faceIndex",new us(x,y)),e.push(v),i>fl&&i--}return{lodPlanes:e,sizeLods:n,sigmas:s}}function e1(t,e,n){const s=new ca(t,e,n);return s.texture.mapping=Vp,s.texture.name="PMREM.cubeUv",s.scissorTest=!0,s}function pf(t,e,n,s,i){t.viewport.set(e,n,s,i),t.scissor.set(e,n,s,i)}function $j(t,e,n){const s=new Float32Array(No),i=new G(0,1,0);return new ua({name:"SphericalGaussianBlur",defines:{n:No,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:s},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:ev(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:to,depthTest:!1,depthWrite:!1})}function t1(){return new ua({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:ev(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:to,depthTest:!1,depthWrite:!1})}function n1(){return new ua({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:ev(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:to,depthTest:!1,depthWrite:!1})}function ev(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Uj(t){let e=new WeakMap,n=null;function s(a){if(a&&a.isTexture){const l=a.mapping,c=l===W_||l===j_,u=l===Ul||l===Bl;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return n===null&&(n=new Qx(t)),d=c?n.fromEquirectangular(a,d):n.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{const d=a.image;if(c&&d&&d.height>0||u&&d&&i(d)){n===null&&(n=new Qx(t));const f=c?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,f),a.addEventListener("dispose",r),f.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function r(a){const l=a.target;l.removeEventListener("dispose",r);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:s,dispose:o}}function Bj(t){const e={};function n(s){if(e[s]!==void 0)return e[s];let i;switch(s){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(s)}return e[s]=i,i}return{has:function(s){return n(s)!==null},init:function(s){s.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(s){const i=n(s);return i===null&&console.warn("THREE.WebGLRenderer: "+s+" extension not supported."),i}}}function zj(t,e,n,s){const i={},r=new WeakMap;function o(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const _ in f.attributes)e.remove(f.attributes[_]);f.removeEventListener("dispose",o),delete i[f.id];const h=r.get(f);h&&(e.remove(h),r.delete(f)),s.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function a(d,f){return i[f.id]===!0||(f.addEventListener("dispose",o),i[f.id]=!0,n.memory.geometries++),f}function l(d){const f=d.attributes;for(const _ in f)e.update(f[_],34962);const h=d.morphAttributes;for(const _ in h){const g=h[_];for(let m=0,y=g.length;m<y;m++)e.update(g[m],34962)}}function c(d){const f=[],h=d.index,_=d.attributes.position;let g=0;if(h!==null){const b=h.array;g=h.version;for(let S=0,x=b.length;S<x;S+=3){const v=b[S+0],E=b[S+1],A=b[S+2];f.push(v,E,E,A,A,v)}}else{const b=_.array;g=_.version;for(let S=0,x=b.length/3-1;S<x;S+=3){const v=S+0,E=S+1,A=S+2;f.push(v,E,E,A,A,v)}}const m=new(w2(f)?C2:A2)(f,1);m.version=g;const y=r.get(d);y&&e.remove(y),r.set(d,m)}function u(d){const f=r.get(d);if(f){const h=d.index;h!==null&&f.version<h.version&&c(d)}else c(d);return r.get(d)}return{get:a,update:l,getWireframeAttribute:u}}function Gj(t,e,n,s){const i=s.isWebGL2;let r;function o(f){r=f}let a,l;function c(f){a=f.type,l=f.bytesPerElement}function u(f,h){t.drawElements(r,h,a,f*l),n.update(h,r,1)}function d(f,h,_){if(_===0)return;let g,m;if(i)g=t,m="drawElementsInstanced";else if(g=e.get("ANGLE_instanced_arrays"),m="drawElementsInstancedANGLE",g===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[m](r,h,a,f*l,_),n.update(h,r,_)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=d}function Vj(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function s(r,o,a){switch(n.calls++,o){case 4:n.triangles+=a*(r/3);break;case 1:n.lines+=a*(r/2);break;case 3:n.lines+=a*(r-1);break;case 2:n.lines+=a*r;break;case 0:n.points+=a*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:s}}function Hj(t,e){return t[0]-e[0]}function Wj(t,e){return Math.abs(e[1])-Math.abs(t[1])}function kg(t,e){let n=1;const s=e.isInterleavedBufferAttribute?e.data.array:e.array;s instanceof Int8Array?n=127:s instanceof Uint8Array?n=255:s instanceof Uint16Array?n=65535:s instanceof Int16Array?n=32767:s instanceof Int32Array?n=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",s),t.divideScalar(n)}function jj(t,e,n){const s={},i=new Float32Array(8),r=new WeakMap,o=new Lt,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,d,f){const h=c.morphTargetInfluences;if(e.isWebGL2===!0){const g=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,m=g!==void 0?g.length:0;let y=r.get(u);if(y===void 0||y.count!==m){let H=function(){B.dispose(),r.delete(u),u.removeEventListener("dispose",H)};var _=H;y!==void 0&&y.texture.dispose();const x=u.morphAttributes.position!==void 0,v=u.morphAttributes.normal!==void 0,E=u.morphAttributes.color!==void 0,A=u.morphAttributes.position||[],w=u.morphAttributes.normal||[],C=u.morphAttributes.color||[];let N=0;x===!0&&(N=1),v===!0&&(N=2),E===!0&&(N=3);let O=u.attributes.position.count*N,z=1;O>e.maxTextureSize&&(z=Math.ceil(O/e.maxTextureSize),O=e.maxTextureSize);const ee=new Float32Array(O*z*4*m),B=new T2(ee,O,z,m);B.type=Hr,B.needsUpdate=!0;const V=N*4;for(let te=0;te<m;te++){const J=A[te],X=w[te],oe=C[te],me=O*z*4*te;for(let k=0;k<J.count;k++){const L=k*V;x===!0&&(o.fromBufferAttribute(J,k),J.normalized===!0&&kg(o,J),ee[me+L+0]=o.x,ee[me+L+1]=o.y,ee[me+L+2]=o.z,ee[me+L+3]=0),v===!0&&(o.fromBufferAttribute(X,k),X.normalized===!0&&kg(o,X),ee[me+L+4]=o.x,ee[me+L+5]=o.y,ee[me+L+6]=o.z,ee[me+L+7]=0),E===!0&&(o.fromBufferAttribute(oe,k),oe.normalized===!0&&kg(o,oe),ee[me+L+8]=o.x,ee[me+L+9]=o.y,ee[me+L+10]=o.z,ee[me+L+11]=oe.itemSize===4?o.w:1)}}y={count:m,texture:B,size:new mt(O,z)},r.set(u,y),u.addEventListener("dispose",H)}let b=0;for(let x=0;x<h.length;x++)b+=h[x];const S=u.morphTargetsRelative?1:1-b;f.getUniforms().setValue(t,"morphTargetBaseInfluence",S),f.getUniforms().setValue(t,"morphTargetInfluences",h),f.getUniforms().setValue(t,"morphTargetsTexture",y.texture,n),f.getUniforms().setValue(t,"morphTargetsTextureSize",y.size)}else{const g=h===void 0?0:h.length;let m=s[u.id];if(m===void 0||m.length!==g){m=[];for(let v=0;v<g;v++)m[v]=[v,0];s[u.id]=m}for(let v=0;v<g;v++){const E=m[v];E[0]=v,E[1]=h[v]}m.sort(Wj);for(let v=0;v<8;v++)v<g&&m[v][1]?(a[v][0]=m[v][0],a[v][1]=m[v][1]):(a[v][0]=Number.MAX_SAFE_INTEGER,a[v][1]=0);a.sort(Hj);const y=u.morphAttributes.position,b=u.morphAttributes.normal;let S=0;for(let v=0;v<8;v++){const E=a[v],A=E[0],w=E[1];A!==Number.MAX_SAFE_INTEGER&&w?(y&&u.getAttribute("morphTarget"+v)!==y[A]&&u.setAttribute("morphTarget"+v,y[A]),b&&u.getAttribute("morphNormal"+v)!==b[A]&&u.setAttribute("morphNormal"+v,b[A]),i[v]=w,S+=w):(y&&u.hasAttribute("morphTarget"+v)===!0&&u.deleteAttribute("morphTarget"+v),b&&u.hasAttribute("morphNormal"+v)===!0&&u.deleteAttribute("morphNormal"+v),i[v]=0)}const x=u.morphTargetsRelative?1:1-S;f.getUniforms().setValue(t,"morphTargetBaseInfluence",x),f.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function Yj(t,e,n,s){let i=new WeakMap;function r(l){const c=s.render.frame,u=l.geometry,d=e.get(l,u);return i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),n.update(l.instanceMatrix,34962),l.instanceColor!==null&&n.update(l.instanceColor,34962)),d}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:r,dispose:o}}const O2=new Wn,L2=new T2,I2=new FH,D2=new P2,s1=[],i1=[],r1=new Float32Array(16),o1=new Float32Array(9),a1=new Float32Array(4);function pc(t,e,n){const s=t[0];if(s<=0||s>0)return t;const i=e*n;let r=s1[i];if(r===void 0&&(r=new Float32Array(i),s1[i]=r),e!==0){s.toArray(r,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(r,a)}return r}function jn(t,e){if(t.length!==e.length)return!1;for(let n=0,s=t.length;n<s;n++)if(t[n]!==e[n])return!1;return!0}function Yn(t,e){for(let n=0,s=e.length;n<s;n++)t[n]=e[n]}function Hp(t,e){let n=i1[e];n===void 0&&(n=new Int32Array(e),i1[e]=n);for(let s=0;s!==e;++s)n[s]=t.allocateTextureUnit();return n}function qj(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Kj(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(jn(n,e))return;t.uniform2fv(this.addr,e),Yn(n,e)}}function Xj(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(jn(n,e))return;t.uniform3fv(this.addr,e),Yn(n,e)}}function Zj(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(jn(n,e))return;t.uniform4fv(this.addr,e),Yn(n,e)}}function Jj(t,e){const n=this.cache,s=e.elements;if(s===void 0){if(jn(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Yn(n,e)}else{if(jn(n,s))return;a1.set(s),t.uniformMatrix2fv(this.addr,!1,a1),Yn(n,s)}}function Qj(t,e){const n=this.cache,s=e.elements;if(s===void 0){if(jn(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Yn(n,e)}else{if(jn(n,s))return;o1.set(s),t.uniformMatrix3fv(this.addr,!1,o1),Yn(n,s)}}function e9(t,e){const n=this.cache,s=e.elements;if(s===void 0){if(jn(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Yn(n,e)}else{if(jn(n,s))return;r1.set(s),t.uniformMatrix4fv(this.addr,!1,r1),Yn(n,s)}}function t9(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function n9(t,e){const n=this.cache;jn(n,e)||(t.uniform2iv(this.addr,e),Yn(n,e))}function s9(t,e){const n=this.cache;jn(n,e)||(t.uniform3iv(this.addr,e),Yn(n,e))}function i9(t,e){const n=this.cache;jn(n,e)||(t.uniform4iv(this.addr,e),Yn(n,e))}function r9(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function o9(t,e){const n=this.cache;jn(n,e)||(t.uniform2uiv(this.addr,e),Yn(n,e))}function a9(t,e){const n=this.cache;jn(n,e)||(t.uniform3uiv(this.addr,e),Yn(n,e))}function l9(t,e){const n=this.cache;jn(n,e)||(t.uniform4uiv(this.addr,e),Yn(n,e))}function c9(t,e,n){const s=this.cache,i=n.allocateTextureUnit();s[0]!==i&&(t.uniform1i(this.addr,i),s[0]=i),n.setTexture2D(e||O2,i)}function u9(t,e,n){const s=this.cache,i=n.allocateTextureUnit();s[0]!==i&&(t.uniform1i(this.addr,i),s[0]=i),n.setTexture3D(e||I2,i)}function d9(t,e,n){const s=this.cache,i=n.allocateTextureUnit();s[0]!==i&&(t.uniform1i(this.addr,i),s[0]=i),n.setTextureCube(e||D2,i)}function f9(t,e,n){const s=this.cache,i=n.allocateTextureUnit();s[0]!==i&&(t.uniform1i(this.addr,i),s[0]=i),n.setTexture2DArray(e||L2,i)}function h9(t){switch(t){case 5126:return qj;case 35664:return Kj;case 35665:return Xj;case 35666:return Zj;case 35674:return Jj;case 35675:return Qj;case 35676:return e9;case 5124:case 35670:return t9;case 35667:case 35671:return n9;case 35668:case 35672:return s9;case 35669:case 35673:return i9;case 5125:return r9;case 36294:return o9;case 36295:return a9;case 36296:return l9;case 35678:case 36198:case 36298:case 36306:case 35682:return c9;case 35679:case 36299:case 36307:return u9;case 35680:case 36300:case 36308:case 36293:return d9;case 36289:case 36303:case 36311:case 36292:return f9}}function p9(t,e){t.uniform1fv(this.addr,e)}function m9(t,e){const n=pc(e,this.size,2);t.uniform2fv(this.addr,n)}function g9(t,e){const n=pc(e,this.size,3);t.uniform3fv(this.addr,n)}function _9(t,e){const n=pc(e,this.size,4);t.uniform4fv(this.addr,n)}function y9(t,e){const n=pc(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function b9(t,e){const n=pc(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function v9(t,e){const n=pc(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function w9(t,e){t.uniform1iv(this.addr,e)}function x9(t,e){t.uniform2iv(this.addr,e)}function S9(t,e){t.uniform3iv(this.addr,e)}function E9(t,e){t.uniform4iv(this.addr,e)}function T9(t,e){t.uniform1uiv(this.addr,e)}function M9(t,e){t.uniform2uiv(this.addr,e)}function A9(t,e){t.uniform3uiv(this.addr,e)}function C9(t,e){t.uniform4uiv(this.addr,e)}function R9(t,e,n){const s=e.length,i=Hp(n,s);t.uniform1iv(this.addr,i);for(let r=0;r!==s;++r)n.setTexture2D(e[r]||O2,i[r])}function P9(t,e,n){const s=e.length,i=Hp(n,s);t.uniform1iv(this.addr,i);for(let r=0;r!==s;++r)n.setTexture3D(e[r]||I2,i[r])}function k9(t,e,n){const s=e.length,i=Hp(n,s);t.uniform1iv(this.addr,i);for(let r=0;r!==s;++r)n.setTextureCube(e[r]||D2,i[r])}function O9(t,e,n){const s=e.length,i=Hp(n,s);t.uniform1iv(this.addr,i);for(let r=0;r!==s;++r)n.setTexture2DArray(e[r]||L2,i[r])}function L9(t){switch(t){case 5126:return p9;case 35664:return m9;case 35665:return g9;case 35666:return _9;case 35674:return y9;case 35675:return b9;case 35676:return v9;case 5124:case 35670:return w9;case 35667:case 35671:return x9;case 35668:case 35672:return S9;case 35669:case 35673:return E9;case 5125:return T9;case 36294:return M9;case 36295:return A9;case 36296:return C9;case 35678:case 36198:case 36298:case 36306:case 35682:return R9;case 35679:case 36299:case 36307:return P9;case 35680:case 36300:case 36308:case 36293:return k9;case 36289:case 36303:case 36311:case 36292:return O9}}class I9{constructor(e,n,s){this.id=e,this.addr=s,this.cache=[],this.setValue=h9(n.type)}}class D9{constructor(e,n,s){this.id=e,this.addr=s,this.cache=[],this.size=n.size,this.setValue=L9(n.type)}}class N9{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,s){const i=this.seq;for(let r=0,o=i.length;r!==o;++r){const a=i[r];a.setValue(e,n[a.id],s)}}}const Og=/(\w+)(\])?(\[|\.)?/g;function l1(t,e){t.seq.push(e),t.map[e.id]=e}function F9(t,e,n){const s=t.name,i=s.length;for(Og.lastIndex=0;;){const r=Og.exec(s),o=Og.lastIndex;let a=r[1];const l=r[2]==="]",c=r[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){l1(n,c===void 0?new I9(a,t,e):new D9(a,t,e));break}else{let d=n.map[a];d===void 0&&(d=new N9(a),l1(n,d)),n=d}}}class Qf{constructor(e,n){this.seq=[],this.map={};const s=e.getProgramParameter(n,35718);for(let i=0;i<s;++i){const r=e.getActiveUniform(n,i),o=e.getUniformLocation(n,r.name);F9(r,o,this)}}setValue(e,n,s,i){const r=this.map[n];r!==void 0&&r.setValue(e,s,i)}setOptional(e,n,s){const i=n[s];i!==void 0&&this.setValue(e,s,i)}static upload(e,n,s,i){for(let r=0,o=n.length;r!==o;++r){const a=n[r],l=s[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const s=[];for(let i=0,r=e.length;i!==r;++i){const o=e[i];o.id in n&&s.push(o)}return s}}function c1(t,e,n){const s=t.createShader(e);return t.shaderSource(s,n),t.compileShader(s),s}let $9=0;function U9(t,e){const n=t.split(`
`),s=[],i=Math.max(e-6,0),r=Math.min(e+6,n.length);for(let o=i;o<r;o++){const a=o+1;s.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return s.join(`
`)}function B9(t){switch(t){case la:return["Linear","( value )"];case Rt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function u1(t,e,n){const s=t.getShaderParameter(e,35713),i=t.getShaderInfoLog(e).trim();if(s&&i==="")return"";const r=/ERROR: 0:(\d+)/.exec(i);if(r){const o=parseInt(r[1]);return n.toUpperCase()+`

`+i+`

`+U9(t.getShaderSource(e),o)}else return i}function z9(t,e){const n=B9(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function G9(t,e){let n;switch(e){case YV:n="Linear";break;case qV:n="Reinhard";break;case KV:n="OptimizedCineon";break;case XV:n="ACESFilmic";break;case ZV:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function V9(t){return[t.extensionDerivatives||!!t.envMapCubeUVHeight||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(eu).join(`
`)}function H9(t){const e=[];for(const n in t){const s=t[n];s!==!1&&e.push("#define "+n+" "+s)}return e.join(`
`)}function W9(t,e){const n={},s=t.getProgramParameter(e,35721);for(let i=0;i<s;i++){const r=t.getActiveAttrib(e,i),o=r.name;let a=1;r.type===35674&&(a=2),r.type===35675&&(a=3),r.type===35676&&(a=4),n[o]={type:r.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function eu(t){return t!==""}function d1(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function f1(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const j9=/^[ \t]*#include +<([\w\d./]+)>/gm;function J_(t){return t.replace(j9,Y9)}function Y9(t,e){const n=ut[e];if(n===void 0)throw new Error("Can not resolve #include <"+e+">");return J_(n)}const q9=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,K9=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function h1(t){return t.replace(K9,N2).replace(q9,X9)}function X9(t,e,n,s){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),N2(t,e,n,s)}function N2(t,e,n,s){let i="";for(let r=parseInt(e);r<parseInt(n);r++)i+=s.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return i}function p1(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Z9(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===f2?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===EV?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Qc&&(e="SHADOWMAP_TYPE_VSM"),e}function J9(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Ul:case Bl:e="ENVMAP_TYPE_CUBE";break;case Vp:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Q9(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Bl:e="ENVMAP_MODE_REFRACTION";break}return e}function e7(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case m2:e="ENVMAP_BLENDING_MULTIPLY";break;case WV:e="ENVMAP_BLENDING_MIX";break;case jV:e="ENVMAP_BLENDING_ADD";break}return e}function t7(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,s=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:s,maxMip:n}}function n7(t,e,n,s){const i=t.getContext(),r=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=Z9(n),c=J9(n),u=Q9(n),d=e7(n),f=t7(n),h=n.isWebGL2?"":V9(n),_=H9(r),g=i.createProgram();let m,y,b=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(m=[_].filter(eu).join(`
`),m.length>0&&(m+=`
`),y=[h,_].filter(eu).join(`
`),y.length>0&&(y+=`
`)):(m=[p1(n),"#define SHADER_NAME "+n.shaderName,_,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(eu).join(`
`),y=[h,p1(n),"#define SHADER_NAME "+n.shaderName,_,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==ar?"#define TONE_MAPPING":"",n.toneMapping!==ar?ut.tonemapping_pars_fragment:"",n.toneMapping!==ar?G9("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",ut.encodings_pars_fragment,z9("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(eu).join(`
`)),o=J_(o),o=d1(o,n),o=f1(o,n),a=J_(a),a=d1(a,n),a=f1(a,n),o=h1(o),a=h1(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,m=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+m,y=["#define varying in",n.glslVersion===Fx?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Fx?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+y);const S=b+m+o,x=b+y+a,v=c1(i,35633,S),E=c1(i,35632,x);if(i.attachShader(g,v),i.attachShader(g,E),n.index0AttributeName!==void 0?i.bindAttribLocation(g,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(g,0,"position"),i.linkProgram(g),t.debug.checkShaderErrors){const C=i.getProgramInfoLog(g).trim(),N=i.getShaderInfoLog(v).trim(),O=i.getShaderInfoLog(E).trim();let z=!0,ee=!0;if(i.getProgramParameter(g,35714)===!1){z=!1;const B=u1(i,v,"vertex"),V=u1(i,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(g,35715)+`

Program Info Log: `+C+`
`+B+`
`+V)}else C!==""?console.warn("THREE.WebGLProgram: Program Info Log:",C):(N===""||O==="")&&(ee=!1);ee&&(this.diagnostics={runnable:z,programLog:C,vertexShader:{log:N,prefix:m},fragmentShader:{log:O,prefix:y}})}i.deleteShader(v),i.deleteShader(E);let A;this.getUniforms=function(){return A===void 0&&(A=new Qf(i,g)),A};let w;return this.getAttributes=function(){return w===void 0&&(w=W9(i,g)),w},this.destroy=function(){s.releaseStatesOfProgram(this),i.deleteProgram(g),this.program=void 0},this.name=n.shaderName,this.id=$9++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=v,this.fragmentShader=E,this}let s7=0;class i7{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,s=e.fragmentShader,i=this._getShaderStage(n),r=this._getShaderStage(s),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(r)===!1&&(o.add(r),r.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const s of n)s.usedTimes--,s.usedTimes===0&&this.shaderCache.delete(s.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;return n.has(e)===!1&&n.set(e,new Set),n.get(e)}_getShaderStage(e){const n=this.shaderCache;if(n.has(e)===!1){const s=new r7(e);n.set(e,s)}return n.get(e)}}class r7{constructor(e){this.id=s7++,this.code=e,this.usedTimes=0}}function o7(t,e,n,s,i,r,o){const a=new M2,l=new i7,c=[],u=i.isWebGL2,d=i.logarithmicDepthBuffer,f=i.vertexTextures;let h=i.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(w,C,N,O,z){const ee=O.fog,B=z.geometry,V=w.isMeshStandardMaterial?O.environment:null,H=(w.isMeshStandardMaterial?n:e).get(w.envMap||V),te=!!H&&H.mapping===Vp?H.image.height:null,J=_[w.type];w.precision!==null&&(h=i.getMaxPrecision(w.precision),h!==w.precision&&console.warn("THREE.WebGLProgram.getParameters:",w.precision,"not supported, using",h,"instead."));const X=B.morphAttributes.position||B.morphAttributes.normal||B.morphAttributes.color,oe=X!==void 0?X.length:0;let me=0;B.morphAttributes.position!==void 0&&(me=1),B.morphAttributes.normal!==void 0&&(me=2),B.morphAttributes.color!==void 0&&(me=3);let k,L,q,F;if(J){const Me=yi[J];k=Me.vertexShader,L=Me.fragmentShader}else k=w.vertexShader,L=w.fragmentShader,l.update(w),q=l.getVertexShaderID(w),F=l.getFragmentShaderID(w);const I=t.getRenderTarget(),le=w.alphaTest>0,re=w.clearcoat>0,ge=w.iridescence>0;return{isWebGL2:u,shaderID:J,shaderName:w.type,vertexShader:k,fragmentShader:L,defines:w.defines,customVertexShaderID:q,customFragmentShaderID:F,isRawShaderMaterial:w.isRawShaderMaterial===!0,glslVersion:w.glslVersion,precision:h,instancing:z.isInstancedMesh===!0,instancingColor:z.isInstancedMesh===!0&&z.instanceColor!==null,supportsVertexTextures:f,outputEncoding:I===null?t.outputEncoding:I.isXRRenderTarget===!0?I.texture.encoding:la,map:!!w.map,matcap:!!w.matcap,envMap:!!H,envMapMode:H&&H.mapping,envMapCubeUVHeight:te,lightMap:!!w.lightMap,aoMap:!!w.aoMap,emissiveMap:!!w.emissiveMap,bumpMap:!!w.bumpMap,normalMap:!!w.normalMap,objectSpaceNormalMap:w.normalMapType===yH,tangentSpaceNormalMap:w.normalMapType===qb,decodeVideoTexture:!!w.map&&w.map.isVideoTexture===!0&&w.map.encoding===Rt,clearcoat:re,clearcoatMap:re&&!!w.clearcoatMap,clearcoatRoughnessMap:re&&!!w.clearcoatRoughnessMap,clearcoatNormalMap:re&&!!w.clearcoatNormalMap,iridescence:ge,iridescenceMap:ge&&!!w.iridescenceMap,iridescenceThicknessMap:ge&&!!w.iridescenceThicknessMap,displacementMap:!!w.displacementMap,roughnessMap:!!w.roughnessMap,metalnessMap:!!w.metalnessMap,specularMap:!!w.specularMap,specularIntensityMap:!!w.specularIntensityMap,specularColorMap:!!w.specularColorMap,opaque:w.transparent===!1&&w.blending===Ml,alphaMap:!!w.alphaMap,alphaTest:le,gradientMap:!!w.gradientMap,sheen:w.sheen>0,sheenColorMap:!!w.sheenColorMap,sheenRoughnessMap:!!w.sheenRoughnessMap,transmission:w.transmission>0,transmissionMap:!!w.transmissionMap,thicknessMap:!!w.thicknessMap,combine:w.combine,vertexTangents:!!w.normalMap&&!!B.attributes.tangent,vertexColors:w.vertexColors,vertexAlphas:w.vertexColors===!0&&!!B.attributes.color&&B.attributes.color.itemSize===4,vertexUvs:!!w.map||!!w.bumpMap||!!w.normalMap||!!w.specularMap||!!w.alphaMap||!!w.emissiveMap||!!w.roughnessMap||!!w.metalnessMap||!!w.clearcoatMap||!!w.clearcoatRoughnessMap||!!w.clearcoatNormalMap||!!w.iridescenceMap||!!w.iridescenceThicknessMap||!!w.displacementMap||!!w.transmissionMap||!!w.thicknessMap||!!w.specularIntensityMap||!!w.specularColorMap||!!w.sheenColorMap||!!w.sheenRoughnessMap,uvsVertexOnly:!(!!w.map||!!w.bumpMap||!!w.normalMap||!!w.specularMap||!!w.alphaMap||!!w.emissiveMap||!!w.roughnessMap||!!w.metalnessMap||!!w.clearcoatNormalMap||!!w.iridescenceMap||!!w.iridescenceThicknessMap||w.transmission>0||!!w.transmissionMap||!!w.thicknessMap||!!w.specularIntensityMap||!!w.specularColorMap||w.sheen>0||!!w.sheenColorMap||!!w.sheenRoughnessMap)&&!!w.displacementMap,fog:!!ee,useFog:w.fog===!0,fogExp2:ee&&ee.isFogExp2,flatShading:!!w.flatShading,sizeAttenuation:w.sizeAttenuation,logarithmicDepthBuffer:d,skinning:z.isSkinnedMesh===!0,morphTargets:B.morphAttributes.position!==void 0,morphNormals:B.morphAttributes.normal!==void 0,morphColors:B.morphAttributes.color!==void 0,morphTargetsCount:oe,morphTextureStride:me,numDirLights:C.directional.length,numPointLights:C.point.length,numSpotLights:C.spot.length,numRectAreaLights:C.rectArea.length,numHemiLights:C.hemi.length,numDirLightShadows:C.directionalShadowMap.length,numPointLightShadows:C.pointShadowMap.length,numSpotLightShadows:C.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:w.dithering,shadowMapEnabled:t.shadowMap.enabled&&N.length>0,shadowMapType:t.shadowMap.type,toneMapping:w.toneMapped?t.toneMapping:ar,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:w.premultipliedAlpha,doubleSided:w.side===oa,flipSided:w.side===ei,useDepthPacking:!!w.depthPacking,depthPacking:w.depthPacking||0,index0AttributeName:w.index0AttributeName,extensionDerivatives:w.extensions&&w.extensions.derivatives,extensionFragDepth:w.extensions&&w.extensions.fragDepth,extensionDrawBuffers:w.extensions&&w.extensions.drawBuffers,extensionShaderTextureLOD:w.extensions&&w.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||s.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||s.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||s.has("EXT_shader_texture_lod"),customProgramCacheKey:w.customProgramCacheKey()}}function m(w){const C=[];if(w.shaderID?C.push(w.shaderID):(C.push(w.customVertexShaderID),C.push(w.customFragmentShaderID)),w.defines!==void 0)for(const N in w.defines)C.push(N),C.push(w.defines[N]);return w.isRawShaderMaterial===!1&&(y(C,w),b(C,w),C.push(t.outputEncoding)),C.push(w.customProgramCacheKey),C.join()}function y(w,C){w.push(C.precision),w.push(C.outputEncoding),w.push(C.envMapMode),w.push(C.envMapCubeUVHeight),w.push(C.combine),w.push(C.vertexUvs),w.push(C.fogExp2),w.push(C.sizeAttenuation),w.push(C.morphTargetsCount),w.push(C.morphAttributeCount),w.push(C.numDirLights),w.push(C.numPointLights),w.push(C.numSpotLights),w.push(C.numHemiLights),w.push(C.numRectAreaLights),w.push(C.numDirLightShadows),w.push(C.numPointLightShadows),w.push(C.numSpotLightShadows),w.push(C.shadowMapType),w.push(C.toneMapping),w.push(C.numClippingPlanes),w.push(C.numClipIntersection),w.push(C.depthPacking)}function b(w,C){a.disableAll(),C.isWebGL2&&a.enable(0),C.supportsVertexTextures&&a.enable(1),C.instancing&&a.enable(2),C.instancingColor&&a.enable(3),C.map&&a.enable(4),C.matcap&&a.enable(5),C.envMap&&a.enable(6),C.lightMap&&a.enable(7),C.aoMap&&a.enable(8),C.emissiveMap&&a.enable(9),C.bumpMap&&a.enable(10),C.normalMap&&a.enable(11),C.objectSpaceNormalMap&&a.enable(12),C.tangentSpaceNormalMap&&a.enable(13),C.clearcoat&&a.enable(14),C.clearcoatMap&&a.enable(15),C.clearcoatRoughnessMap&&a.enable(16),C.clearcoatNormalMap&&a.enable(17),C.iridescence&&a.enable(18),C.iridescenceMap&&a.enable(19),C.iridescenceThicknessMap&&a.enable(20),C.displacementMap&&a.enable(21),C.specularMap&&a.enable(22),C.roughnessMap&&a.enable(23),C.metalnessMap&&a.enable(24),C.gradientMap&&a.enable(25),C.alphaMap&&a.enable(26),C.alphaTest&&a.enable(27),C.vertexColors&&a.enable(28),C.vertexAlphas&&a.enable(29),C.vertexUvs&&a.enable(30),C.vertexTangents&&a.enable(31),C.uvsVertexOnly&&a.enable(32),C.fog&&a.enable(33),w.push(a.mask),a.disableAll(),C.useFog&&a.enable(0),C.flatShading&&a.enable(1),C.logarithmicDepthBuffer&&a.enable(2),C.skinning&&a.enable(3),C.morphTargets&&a.enable(4),C.morphNormals&&a.enable(5),C.morphColors&&a.enable(6),C.premultipliedAlpha&&a.enable(7),C.shadowMapEnabled&&a.enable(8),C.physicallyCorrectLights&&a.enable(9),C.doubleSided&&a.enable(10),C.flipSided&&a.enable(11),C.useDepthPacking&&a.enable(12),C.dithering&&a.enable(13),C.specularIntensityMap&&a.enable(14),C.specularColorMap&&a.enable(15),C.transmission&&a.enable(16),C.transmissionMap&&a.enable(17),C.thicknessMap&&a.enable(18),C.sheen&&a.enable(19),C.sheenColorMap&&a.enable(20),C.sheenRoughnessMap&&a.enable(21),C.decodeVideoTexture&&a.enable(22),C.opaque&&a.enable(23),w.push(a.mask)}function S(w){const C=_[w.type];let N;if(C){const O=yi[C];N=qH.clone(O.uniforms)}else N=w.uniforms;return N}function x(w,C){let N;for(let O=0,z=c.length;O<z;O++){const ee=c[O];if(ee.cacheKey===C){N=ee,++N.usedTimes;break}}return N===void 0&&(N=new n7(t,C,w,r),c.push(N)),N}function v(w){if(--w.usedTimes===0){const C=c.indexOf(w);c[C]=c[c.length-1],c.pop(),w.destroy()}}function E(w){l.remove(w)}function A(){l.dispose()}return{getParameters:g,getProgramCacheKey:m,getUniforms:S,acquireProgram:x,releaseProgram:v,releaseShaderCache:E,programs:c,dispose:A}}function a7(){let t=new WeakMap;function e(r){let o=t.get(r);return o===void 0&&(o={},t.set(r,o)),o}function n(r){t.delete(r)}function s(r,o,a){t.get(r)[o]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:s,dispose:i}}function l7(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function m1(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function g1(){const t=[];let e=0;const n=[],s=[],i=[];function r(){e=0,n.length=0,s.length=0,i.length=0}function o(d,f,h,_,g,m){let y=t[e];return y===void 0?(y={id:d.id,object:d,geometry:f,material:h,groupOrder:_,renderOrder:d.renderOrder,z:g,group:m},t[e]=y):(y.id=d.id,y.object=d,y.geometry=f,y.material=h,y.groupOrder=_,y.renderOrder=d.renderOrder,y.z=g,y.group=m),e++,y}function a(d,f,h,_,g,m){const y=o(d,f,h,_,g,m);h.transmission>0?s.push(y):h.transparent===!0?i.push(y):n.push(y)}function l(d,f,h,_,g,m){const y=o(d,f,h,_,g,m);h.transmission>0?s.unshift(y):h.transparent===!0?i.unshift(y):n.unshift(y)}function c(d,f){n.length>1&&n.sort(d||l7),s.length>1&&s.sort(f||m1),i.length>1&&i.sort(f||m1)}function u(){for(let d=e,f=t.length;d<f;d++){const h=t[d];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:n,transmissive:s,transparent:i,init:r,push:a,unshift:l,finish:u,sort:c}}function c7(){let t=new WeakMap;function e(s,i){let r;return t.has(s)===!1?(r=new g1,t.set(s,[r])):i>=t.get(s).length?(r=new g1,t.get(s).push(r)):r=t.get(s)[i],r}function n(){t=new WeakMap}return{get:e,dispose:n}}function u7(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new G,color:new Ke};break;case"SpotLight":n={position:new G,direction:new G,color:new Ke,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new G,color:new Ke,distance:0,decay:0};break;case"HemisphereLight":n={direction:new G,skyColor:new Ke,groundColor:new Ke};break;case"RectAreaLight":n={color:new Ke,position:new G,halfWidth:new G,halfHeight:new G};break}return t[e.id]=n,n}}}function d7(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new mt};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new mt};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new mt,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let f7=0;function h7(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function p7(t,e){const n=new u7,s=d7(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let u=0;u<9;u++)i.probe.push(new G);const r=new G,o=new xt,a=new xt;function l(u,d){let f=0,h=0,_=0;for(let C=0;C<9;C++)i.probe[C].set(0,0,0);let g=0,m=0,y=0,b=0,S=0,x=0,v=0,E=0;u.sort(h7);const A=d!==!0?Math.PI:1;for(let C=0,N=u.length;C<N;C++){const O=u[C],z=O.color,ee=O.intensity,B=O.distance,V=O.shadow&&O.shadow.map?O.shadow.map.texture:null;if(O.isAmbientLight)f+=z.r*ee*A,h+=z.g*ee*A,_+=z.b*ee*A;else if(O.isLightProbe)for(let H=0;H<9;H++)i.probe[H].addScaledVector(O.sh.coefficients[H],ee);else if(O.isDirectionalLight){const H=n.get(O);if(H.color.copy(O.color).multiplyScalar(O.intensity*A),O.castShadow){const te=O.shadow,J=s.get(O);J.shadowBias=te.bias,J.shadowNormalBias=te.normalBias,J.shadowRadius=te.radius,J.shadowMapSize=te.mapSize,i.directionalShadow[g]=J,i.directionalShadowMap[g]=V,i.directionalShadowMatrix[g]=O.shadow.matrix,x++}i.directional[g]=H,g++}else if(O.isSpotLight){const H=n.get(O);if(H.position.setFromMatrixPosition(O.matrixWorld),H.color.copy(z).multiplyScalar(ee*A),H.distance=B,H.coneCos=Math.cos(O.angle),H.penumbraCos=Math.cos(O.angle*(1-O.penumbra)),H.decay=O.decay,O.castShadow){const te=O.shadow,J=s.get(O);J.shadowBias=te.bias,J.shadowNormalBias=te.normalBias,J.shadowRadius=te.radius,J.shadowMapSize=te.mapSize,i.spotShadow[y]=J,i.spotShadowMap[y]=V,i.spotShadowMatrix[y]=O.shadow.matrix,E++}i.spot[y]=H,y++}else if(O.isRectAreaLight){const H=n.get(O);H.color.copy(z).multiplyScalar(ee),H.halfWidth.set(O.width*.5,0,0),H.halfHeight.set(0,O.height*.5,0),i.rectArea[b]=H,b++}else if(O.isPointLight){const H=n.get(O);if(H.color.copy(O.color).multiplyScalar(O.intensity*A),H.distance=O.distance,H.decay=O.decay,O.castShadow){const te=O.shadow,J=s.get(O);J.shadowBias=te.bias,J.shadowNormalBias=te.normalBias,J.shadowRadius=te.radius,J.shadowMapSize=te.mapSize,J.shadowCameraNear=te.camera.near,J.shadowCameraFar=te.camera.far,i.pointShadow[m]=J,i.pointShadowMap[m]=V,i.pointShadowMatrix[m]=O.shadow.matrix,v++}i.point[m]=H,m++}else if(O.isHemisphereLight){const H=n.get(O);H.skyColor.copy(O.color).multiplyScalar(ee*A),H.groundColor.copy(O.groundColor).multiplyScalar(ee*A),i.hemi[S]=H,S++}}b>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Pe.LTC_FLOAT_1,i.rectAreaLTC2=Pe.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Pe.LTC_HALF_1,i.rectAreaLTC2=Pe.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=f,i.ambient[1]=h,i.ambient[2]=_;const w=i.hash;(w.directionalLength!==g||w.pointLength!==m||w.spotLength!==y||w.rectAreaLength!==b||w.hemiLength!==S||w.numDirectionalShadows!==x||w.numPointShadows!==v||w.numSpotShadows!==E)&&(i.directional.length=g,i.spot.length=y,i.rectArea.length=b,i.point.length=m,i.hemi.length=S,i.directionalShadow.length=x,i.directionalShadowMap.length=x,i.pointShadow.length=v,i.pointShadowMap.length=v,i.spotShadow.length=E,i.spotShadowMap.length=E,i.directionalShadowMatrix.length=x,i.pointShadowMatrix.length=v,i.spotShadowMatrix.length=E,w.directionalLength=g,w.pointLength=m,w.spotLength=y,w.rectAreaLength=b,w.hemiLength=S,w.numDirectionalShadows=x,w.numPointShadows=v,w.numSpotShadows=E,i.version=f7++)}function c(u,d){let f=0,h=0,_=0,g=0,m=0;const y=d.matrixWorldInverse;for(let b=0,S=u.length;b<S;b++){const x=u[b];if(x.isDirectionalLight){const v=i.directional[f];v.direction.setFromMatrixPosition(x.matrixWorld),r.setFromMatrixPosition(x.target.matrixWorld),v.direction.sub(r),v.direction.transformDirection(y),f++}else if(x.isSpotLight){const v=i.spot[_];v.position.setFromMatrixPosition(x.matrixWorld),v.position.applyMatrix4(y),v.direction.setFromMatrixPosition(x.matrixWorld),r.setFromMatrixPosition(x.target.matrixWorld),v.direction.sub(r),v.direction.transformDirection(y),_++}else if(x.isRectAreaLight){const v=i.rectArea[g];v.position.setFromMatrixPosition(x.matrixWorld),v.position.applyMatrix4(y),a.identity(),o.copy(x.matrixWorld),o.premultiply(y),a.extractRotation(o),v.halfWidth.set(x.width*.5,0,0),v.halfHeight.set(0,x.height*.5,0),v.halfWidth.applyMatrix4(a),v.halfHeight.applyMatrix4(a),g++}else if(x.isPointLight){const v=i.point[h];v.position.setFromMatrixPosition(x.matrixWorld),v.position.applyMatrix4(y),h++}else if(x.isHemisphereLight){const v=i.hemi[m];v.direction.setFromMatrixPosition(x.matrixWorld),v.direction.transformDirection(y),m++}}}return{setup:l,setupView:c,state:i}}function _1(t,e){const n=new p7(t,e),s=[],i=[];function r(){s.length=0,i.length=0}function o(d){s.push(d)}function a(d){i.push(d)}function l(d){n.setup(s,d)}function c(d){n.setupView(s,d)}return{init:r,state:{lightsArray:s,shadowsArray:i,lights:n},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function m7(t,e){let n=new WeakMap;function s(r,o=0){let a;return n.has(r)===!1?(a=new _1(t,e),n.set(r,[a])):o>=n.get(r).length?(a=new _1(t,e),n.get(r).push(a)):a=n.get(r)[o],a}function i(){n=new WeakMap}return{get:s,dispose:i}}class g7 extends wi{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=gH,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class _7 extends wi{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new G,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const y7=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,b7=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function v7(t,e,n){let s=new Zb;const i=new mt,r=new mt,o=new Lt,a=new g7({depthPacking:_H}),l=new _7,c={},u=n.maxTextureSize,d={0:ei,1:$l,2:oa},f=new ua({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new mt},radius:{value:4}},vertexShader:y7,fragmentShader:b7}),h=f.clone();h.defines.HORIZONTAL_PASS=1;const _=new ki;_.setAttribute("position",new us(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new Xs(_,f),m=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=f2,this.render=function(x,v,E){if(m.enabled===!1||m.autoUpdate===!1&&m.needsUpdate===!1||x.length===0)return;const A=t.getRenderTarget(),w=t.getActiveCubeFace(),C=t.getActiveMipmapLevel(),N=t.state;N.setBlending(to),N.buffers.color.setClear(1,1,1,1),N.buffers.depth.setTest(!0),N.setScissorTest(!1);for(let O=0,z=x.length;O<z;O++){const ee=x[O],B=ee.shadow;if(B===void 0){console.warn("THREE.WebGLShadowMap:",ee,"has no shadow.");continue}if(B.autoUpdate===!1&&B.needsUpdate===!1)continue;i.copy(B.mapSize);const V=B.getFrameExtents();if(i.multiply(V),r.copy(B.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(r.x=Math.floor(u/V.x),i.x=r.x*V.x,B.mapSize.x=r.x),i.y>u&&(r.y=Math.floor(u/V.y),i.y=r.y*V.y,B.mapSize.y=r.y)),B.map===null){const te=this.type!==Qc?{minFilter:xn,magFilter:xn}:{};B.map=new ca(i.x,i.y,te),B.map.texture.name=ee.name+".shadowMap",B.camera.updateProjectionMatrix()}t.setRenderTarget(B.map),t.clear();const H=B.getViewportCount();for(let te=0;te<H;te++){const J=B.getViewport(te);o.set(r.x*J.x,r.y*J.y,r.x*J.z,r.y*J.w),N.viewport(o),B.updateMatrices(ee,te),s=B.getFrustum(),S(v,E,B.camera,ee,this.type)}B.isPointLightShadow!==!0&&this.type===Qc&&y(B,E),B.needsUpdate=!1}m.needsUpdate=!1,t.setRenderTarget(A,w,C)};function y(x,v){const E=e.update(g);f.defines.VSM_SAMPLES!==x.blurSamples&&(f.defines.VSM_SAMPLES=x.blurSamples,h.defines.VSM_SAMPLES=x.blurSamples,f.needsUpdate=!0,h.needsUpdate=!0),x.mapPass===null&&(x.mapPass=new ca(i.x,i.y)),f.uniforms.shadow_pass.value=x.map.texture,f.uniforms.resolution.value=x.mapSize,f.uniforms.radius.value=x.radius,t.setRenderTarget(x.mapPass),t.clear(),t.renderBufferDirect(v,null,E,f,g,null),h.uniforms.shadow_pass.value=x.mapPass.texture,h.uniforms.resolution.value=x.mapSize,h.uniforms.radius.value=x.radius,t.setRenderTarget(x.map),t.clear(),t.renderBufferDirect(v,null,E,h,g,null)}function b(x,v,E,A,w,C){let N=null;const O=E.isPointLight===!0?x.customDistanceMaterial:x.customDepthMaterial;if(O!==void 0?N=O:N=E.isPointLight===!0?l:a,t.localClippingEnabled&&v.clipShadows===!0&&Array.isArray(v.clippingPlanes)&&v.clippingPlanes.length!==0||v.displacementMap&&v.displacementScale!==0||v.alphaMap&&v.alphaTest>0){const z=N.uuid,ee=v.uuid;let B=c[z];B===void 0&&(B={},c[z]=B);let V=B[ee];V===void 0&&(V=N.clone(),B[ee]=V),N=V}return N.visible=v.visible,N.wireframe=v.wireframe,C===Qc?N.side=v.shadowSide!==null?v.shadowSide:v.side:N.side=v.shadowSide!==null?v.shadowSide:d[v.side],N.alphaMap=v.alphaMap,N.alphaTest=v.alphaTest,N.clipShadows=v.clipShadows,N.clippingPlanes=v.clippingPlanes,N.clipIntersection=v.clipIntersection,N.displacementMap=v.displacementMap,N.displacementScale=v.displacementScale,N.displacementBias=v.displacementBias,N.wireframeLinewidth=v.wireframeLinewidth,N.linewidth=v.linewidth,E.isPointLight===!0&&N.isMeshDistanceMaterial===!0&&(N.referencePosition.setFromMatrixPosition(E.matrixWorld),N.nearDistance=A,N.farDistance=w),N}function S(x,v,E,A,w){if(x.visible===!1)return;if(x.layers.test(v.layers)&&(x.isMesh||x.isLine||x.isPoints)&&(x.castShadow||x.receiveShadow&&w===Qc)&&(!x.frustumCulled||s.intersectsObject(x))){x.modelViewMatrix.multiplyMatrices(E.matrixWorldInverse,x.matrixWorld);const O=e.update(x),z=x.material;if(Array.isArray(z)){const ee=O.groups;for(let B=0,V=ee.length;B<V;B++){const H=ee[B],te=z[H.materialIndex];if(te&&te.visible){const J=b(x,te,A,E.near,E.far,w);t.renderBufferDirect(E,null,O,J,x,H)}}}else if(z.visible){const ee=b(x,z,A,E.near,E.far,w);t.renderBufferDirect(E,null,O,ee,x,null)}}const N=x.children;for(let O=0,z=N.length;O<z;O++)S(N[O],v,E,A,w)}}function w7(t,e,n){const s=n.isWebGL2;function i(){let U=!1;const Ae=new Lt;let Ce=null;const $e=new Lt(0,0,0,0);return{setMask:function(ke){Ce!==ke&&!U&&(t.colorMask(ke,ke,ke,ke),Ce=ke)},setLocked:function(ke){U=ke},setClear:function(ke,He,Ee,qe,Mt){Mt===!0&&(ke*=qe,He*=qe,Ee*=qe),Ae.set(ke,He,Ee,qe),$e.equals(Ae)===!1&&(t.clearColor(ke,He,Ee,qe),$e.copy(Ae))},reset:function(){U=!1,Ce=null,$e.set(-1,0,0,0)}}}function r(){let U=!1,Ae=null,Ce=null,$e=null;return{setTest:function(ke){ke?F(2929):I(2929)},setMask:function(ke){Ae!==ke&&!U&&(t.depthMask(ke),Ae=ke)},setFunc:function(ke){if(Ce!==ke){if(ke)switch(ke){case $V:t.depthFunc(512);break;case UV:t.depthFunc(519);break;case BV:t.depthFunc(513);break;case H_:t.depthFunc(515);break;case zV:t.depthFunc(514);break;case GV:t.depthFunc(518);break;case VV:t.depthFunc(516);break;case HV:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);Ce=ke}},setLocked:function(ke){U=ke},setClear:function(ke){$e!==ke&&(t.clearDepth(ke),$e=ke)},reset:function(){U=!1,Ae=null,Ce=null,$e=null}}}function o(){let U=!1,Ae=null,Ce=null,$e=null,ke=null,He=null,Ee=null,qe=null,Mt=null;return{setTest:function(At){U||(At?F(2960):I(2960))},setMask:function(At){Ae!==At&&!U&&(t.stencilMask(At),Ae=At)},setFunc:function(At,Nn,ui){(Ce!==At||$e!==Nn||ke!==ui)&&(t.stencilFunc(At,Nn,ui),Ce=At,$e=Nn,ke=ui)},setOp:function(At,Nn,ui){(He!==At||Ee!==Nn||qe!==ui)&&(t.stencilOp(At,Nn,ui),He=At,Ee=Nn,qe=ui)},setLocked:function(At){U=At},setClear:function(At){Mt!==At&&(t.clearStencil(At),Mt=At)},reset:function(){U=!1,Ae=null,Ce=null,$e=null,ke=null,He=null,Ee=null,qe=null,Mt=null}}}const a=new i,l=new r,c=new o;let u={},d={},f=new WeakMap,h=[],_=null,g=!1,m=null,y=null,b=null,S=null,x=null,v=null,E=null,A=!1,w=null,C=null,N=null,O=null,z=null;const ee=t.getParameter(35661);let B=!1,V=0;const H=t.getParameter(7938);H.indexOf("WebGL")!==-1?(V=parseFloat(/^WebGL (\d)/.exec(H)[1]),B=V>=1):H.indexOf("OpenGL ES")!==-1&&(V=parseFloat(/^OpenGL ES (\d)/.exec(H)[1]),B=V>=2);let te=null,J={};const X=t.getParameter(3088),oe=t.getParameter(2978),me=new Lt().fromArray(X),k=new Lt().fromArray(oe);function L(U,Ae,Ce){const $e=new Uint8Array(4),ke=t.createTexture();t.bindTexture(U,ke),t.texParameteri(U,10241,9728),t.texParameteri(U,10240,9728);for(let He=0;He<Ce;He++)t.texImage2D(Ae+He,0,6408,1,1,0,6408,5121,$e);return ke}const q={};q[3553]=L(3553,3553,1),q[34067]=L(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),F(2929),l.setFunc(H_),D(!1),K(ax),F(2884),Se(to);function F(U){u[U]!==!0&&(t.enable(U),u[U]=!0)}function I(U){u[U]!==!1&&(t.disable(U),u[U]=!1)}function le(U,Ae){return d[U]!==Ae?(t.bindFramebuffer(U,Ae),d[U]=Ae,s&&(U===36009&&(d[36160]=Ae),U===36160&&(d[36009]=Ae)),!0):!1}function re(U,Ae){let Ce=h,$e=!1;if(U)if(Ce=f.get(Ae),Ce===void 0&&(Ce=[],f.set(Ae,Ce)),U.isWebGLMultipleRenderTargets){const ke=U.texture;if(Ce.length!==ke.length||Ce[0]!==36064){for(let He=0,Ee=ke.length;He<Ee;He++)Ce[He]=36064+He;Ce.length=ke.length,$e=!0}}else Ce[0]!==36064&&(Ce[0]=36064,$e=!0);else Ce[0]!==1029&&(Ce[0]=1029,$e=!0);$e&&(n.isWebGL2?t.drawBuffers(Ce):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ce))}function ge(U){return _!==U?(t.useProgram(U),_=U,!0):!1}const ue={[al]:32774,[AV]:32778,[CV]:32779};if(s)ue[dx]=32775,ue[fx]=32776;else{const U=e.get("EXT_blend_minmax");U!==null&&(ue[dx]=U.MIN_EXT,ue[fx]=U.MAX_EXT)}const Me={[RV]:0,[PV]:1,[kV]:768,[h2]:770,[FV]:776,[DV]:774,[LV]:772,[OV]:769,[p2]:771,[NV]:775,[IV]:773};function Se(U,Ae,Ce,$e,ke,He,Ee,qe){if(U===to){g===!0&&(I(3042),g=!1);return}if(g===!1&&(F(3042),g=!0),U!==MV){if(U!==m||qe!==A){if((y!==al||x!==al)&&(t.blendEquation(32774),y=al,x=al),qe)switch(U){case Ml:t.blendFuncSeparate(1,771,1,771);break;case lx:t.blendFunc(1,1);break;case cx:t.blendFuncSeparate(0,769,0,1);break;case ux:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",U);break}else switch(U){case Ml:t.blendFuncSeparate(770,771,1,771);break;case lx:t.blendFunc(770,1);break;case cx:t.blendFuncSeparate(0,769,0,1);break;case ux:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",U);break}b=null,S=null,v=null,E=null,m=U,A=qe}return}ke=ke||Ae,He=He||Ce,Ee=Ee||$e,(Ae!==y||ke!==x)&&(t.blendEquationSeparate(ue[Ae],ue[ke]),y=Ae,x=ke),(Ce!==b||$e!==S||He!==v||Ee!==E)&&(t.blendFuncSeparate(Me[Ce],Me[$e],Me[He],Me[Ee]),b=Ce,S=$e,v=He,E=Ee),m=U,A=null}function R(U,Ae){U.side===oa?I(2884):F(2884);let Ce=U.side===ei;Ae&&(Ce=!Ce),D(Ce),U.blending===Ml&&U.transparent===!1?Se(to):Se(U.blending,U.blendEquation,U.blendSrc,U.blendDst,U.blendEquationAlpha,U.blendSrcAlpha,U.blendDstAlpha,U.premultipliedAlpha),l.setFunc(U.depthFunc),l.setTest(U.depthTest),l.setMask(U.depthWrite),a.setMask(U.colorWrite);const $e=U.stencilWrite;c.setTest($e),$e&&(c.setMask(U.stencilWriteMask),c.setFunc(U.stencilFunc,U.stencilRef,U.stencilFuncMask),c.setOp(U.stencilFail,U.stencilZFail,U.stencilZPass)),he(U.polygonOffset,U.polygonOffsetFactor,U.polygonOffsetUnits),U.alphaToCoverage===!0?F(32926):I(32926)}function D(U){w!==U&&(U?t.frontFace(2304):t.frontFace(2305),w=U)}function K(U){U!==xV?(F(2884),U!==C&&(U===ax?t.cullFace(1029):U===SV?t.cullFace(1028):t.cullFace(1032))):I(2884),C=U}function fe(U){U!==N&&(B&&t.lineWidth(U),N=U)}function he(U,Ae,Ce){U?(F(32823),(O!==Ae||z!==Ce)&&(t.polygonOffset(Ae,Ce),O=Ae,z=Ce)):I(32823)}function _e(U){U?F(3089):I(3089)}function $(U){U===void 0&&(U=33984+ee-1),te!==U&&(t.activeTexture(U),te=U)}function be(U,Ae){te===null&&$();let Ce=J[te];Ce===void 0&&(Ce={type:void 0,texture:void 0},J[te]=Ce),(Ce.type!==U||Ce.texture!==Ae)&&(t.bindTexture(U,Ae||q[U]),Ce.type=U,Ce.texture=Ae)}function we(){const U=J[te];U!==void 0&&U.type!==void 0&&(t.bindTexture(U.type,null),U.type=void 0,U.texture=void 0)}function M(){try{t.compressedTexImage2D.apply(t,arguments)}catch(U){console.error("THREE.WebGLState:",U)}}function T(){try{t.texSubImage2D.apply(t,arguments)}catch(U){console.error("THREE.WebGLState:",U)}}function W(){try{t.texSubImage3D.apply(t,arguments)}catch(U){console.error("THREE.WebGLState:",U)}}function ne(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(U){console.error("THREE.WebGLState:",U)}}function ce(){try{t.texStorage2D.apply(t,arguments)}catch(U){console.error("THREE.WebGLState:",U)}}function ye(){try{t.texStorage3D.apply(t,arguments)}catch(U){console.error("THREE.WebGLState:",U)}}function Ie(){try{t.texImage2D.apply(t,arguments)}catch(U){console.error("THREE.WebGLState:",U)}}function Z(){try{t.texImage3D.apply(t,arguments)}catch(U){console.error("THREE.WebGLState:",U)}}function Re(U){me.equals(U)===!1&&(t.scissor(U.x,U.y,U.z,U.w),me.copy(U))}function Oe(U){k.equals(U)===!1&&(t.viewport(U.x,U.y,U.z,U.w),k.copy(U))}function Le(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),s===!0&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},te=null,J={},d={},f=new WeakMap,h=[],_=null,g=!1,m=null,y=null,b=null,S=null,x=null,v=null,E=null,A=!1,w=null,C=null,N=null,O=null,z=null,me.set(0,0,t.canvas.width,t.canvas.height),k.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:F,disable:I,bindFramebuffer:le,drawBuffers:re,useProgram:ge,setBlending:Se,setMaterial:R,setFlipSided:D,setCullFace:K,setLineWidth:fe,setPolygonOffset:he,setScissorTest:_e,activeTexture:$,bindTexture:be,unbindTexture:we,compressedTexImage2D:M,texImage2D:Ie,texImage3D:Z,texStorage2D:ce,texStorage3D:ye,texSubImage2D:T,texSubImage3D:W,compressedTexSubImage2D:ne,scissor:Re,viewport:Oe,reset:Le}}function x7(t,e,n,s,i,r,o){const a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,d=i.maxSamples,f=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,h=/OculusBrowser/g.test(navigator.userAgent),_=new WeakMap;let g;const m=new WeakMap;let y=!1;try{y=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function b(M,T){return y?new OffscreenCanvas(M,T):qu("canvas")}function S(M,T,W,ne){let ce=1;if((M.width>ne||M.height>ne)&&(ce=ne/Math.max(M.width,M.height)),ce<1||T===!0)if(typeof HTMLImageElement!="undefined"&&M instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&M instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&M instanceof ImageBitmap){const ye=T?Lh:Math.floor,Ie=ye(ce*M.width),Z=ye(ce*M.height);g===void 0&&(g=b(Ie,Z));const Re=W?b(Ie,Z):g;return Re.width=Ie,Re.height=Z,Re.getContext("2d").drawImage(M,0,0,Ie,Z),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+M.width+"x"+M.height+") to ("+Ie+"x"+Z+")."),Re}else return"data"in M&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+M.width+"x"+M.height+")."),M;return M}function x(M){return Z_(M.width)&&Z_(M.height)}function v(M){return a?!1:M.wrapS!==xs||M.wrapT!==xs||M.minFilter!==xn&&M.minFilter!==ts}function E(M,T){return M.generateMipmaps&&T&&M.minFilter!==xn&&M.minFilter!==ts}function A(M){t.generateMipmap(M)}function w(M,T,W,ne,ce=!1){if(a===!1)return T;if(M!==null){if(t[M]!==void 0)return t[M];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+M+"'")}let ye=T;return T===6403&&(W===5126&&(ye=33326),W===5131&&(ye=33325),W===5121&&(ye=33321)),T===33319&&(W===5126&&(ye=33328),W===5131&&(ye=33327),W===5121&&(ye=33323)),T===6408&&(W===5126&&(ye=34836),W===5131&&(ye=34842),W===5121&&(ye=ne===Rt&&ce===!1?35907:32856),W===32819&&(ye=32854),W===32820&&(ye=32855)),(ye===33325||ye===33326||ye===33327||ye===33328||ye===34842||ye===34836)&&e.get("EXT_color_buffer_float"),ye}function C(M,T,W){return E(M,W)===!0||M.isFramebufferTexture&&M.minFilter!==xn&&M.minFilter!==ts?Math.log2(Math.max(T.width,T.height))+1:M.mipmaps!==void 0&&M.mipmaps.length>0?M.mipmaps.length:M.isCompressedTexture&&Array.isArray(M.image)?T.mipmaps.length:1}function N(M){return M===xn||M===Y_||M===q_?9728:9729}function O(M){const T=M.target;T.removeEventListener("dispose",O),ee(T),T.isVideoTexture&&_.delete(T)}function z(M){const T=M.target;T.removeEventListener("dispose",z),V(T)}function ee(M){const T=s.get(M);if(T.__webglInit===void 0)return;const W=M.source,ne=m.get(W);if(ne){const ce=ne[T.__cacheKey];ce.usedTimes--,ce.usedTimes===0&&B(M),Object.keys(ne).length===0&&m.delete(W)}s.remove(M)}function B(M){const T=s.get(M);t.deleteTexture(T.__webglTexture);const W=M.source,ne=m.get(W);delete ne[T.__cacheKey],o.memory.textures--}function V(M){const T=M.texture,W=s.get(M),ne=s.get(T);if(ne.__webglTexture!==void 0&&(t.deleteTexture(ne.__webglTexture),o.memory.textures--),M.depthTexture&&M.depthTexture.dispose(),M.isWebGLCubeRenderTarget)for(let ce=0;ce<6;ce++)t.deleteFramebuffer(W.__webglFramebuffer[ce]),W.__webglDepthbuffer&&t.deleteRenderbuffer(W.__webglDepthbuffer[ce]);else{if(t.deleteFramebuffer(W.__webglFramebuffer),W.__webglDepthbuffer&&t.deleteRenderbuffer(W.__webglDepthbuffer),W.__webglMultisampledFramebuffer&&t.deleteFramebuffer(W.__webglMultisampledFramebuffer),W.__webglColorRenderbuffer)for(let ce=0;ce<W.__webglColorRenderbuffer.length;ce++)W.__webglColorRenderbuffer[ce]&&t.deleteRenderbuffer(W.__webglColorRenderbuffer[ce]);W.__webglDepthRenderbuffer&&t.deleteRenderbuffer(W.__webglDepthRenderbuffer)}if(M.isWebGLMultipleRenderTargets)for(let ce=0,ye=T.length;ce<ye;ce++){const Ie=s.get(T[ce]);Ie.__webglTexture&&(t.deleteTexture(Ie.__webglTexture),o.memory.textures--),s.remove(T[ce])}s.remove(T),s.remove(M)}let H=0;function te(){H=0}function J(){const M=H;return M>=l&&console.warn("THREE.WebGLTextures: Trying to use "+M+" texture units while this GPU supports only "+l),H+=1,M}function X(M){const T=[];return T.push(M.wrapS),T.push(M.wrapT),T.push(M.magFilter),T.push(M.minFilter),T.push(M.anisotropy),T.push(M.internalFormat),T.push(M.format),T.push(M.type),T.push(M.generateMipmaps),T.push(M.premultiplyAlpha),T.push(M.flipY),T.push(M.unpackAlignment),T.push(M.encoding),T.join()}function oe(M,T){const W=s.get(M);if(M.isVideoTexture&&be(M),M.isRenderTargetTexture===!1&&M.version>0&&W.__version!==M.version){const ne=M.image;if(ne===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ne.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{re(W,M,T);return}}n.activeTexture(33984+T),n.bindTexture(3553,W.__webglTexture)}function me(M,T){const W=s.get(M);if(M.version>0&&W.__version!==M.version){re(W,M,T);return}n.activeTexture(33984+T),n.bindTexture(35866,W.__webglTexture)}function k(M,T){const W=s.get(M);if(M.version>0&&W.__version!==M.version){re(W,M,T);return}n.activeTexture(33984+T),n.bindTexture(32879,W.__webglTexture)}function L(M,T){const W=s.get(M);if(M.version>0&&W.__version!==M.version){ge(W,M,T);return}n.activeTexture(33984+T),n.bindTexture(34067,W.__webglTexture)}const q={[zl]:10497,[xs]:33071,[Oh]:33648},F={[xn]:9728,[Y_]:9984,[q_]:9986,[ts]:9729,[_2]:9985,[cc]:9987};function I(M,T,W){if(W?(t.texParameteri(M,10242,q[T.wrapS]),t.texParameteri(M,10243,q[T.wrapT]),(M===32879||M===35866)&&t.texParameteri(M,32882,q[T.wrapR]),t.texParameteri(M,10240,F[T.magFilter]),t.texParameteri(M,10241,F[T.minFilter])):(t.texParameteri(M,10242,33071),t.texParameteri(M,10243,33071),(M===32879||M===35866)&&t.texParameteri(M,32882,33071),(T.wrapS!==xs||T.wrapT!==xs)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(M,10240,N(T.magFilter)),t.texParameteri(M,10241,N(T.minFilter)),T.minFilter!==xn&&T.minFilter!==ts&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const ne=e.get("EXT_texture_filter_anisotropic");if(T.type===Hr&&e.has("OES_texture_float_linear")===!1||a===!1&&T.type===Wu&&e.has("OES_texture_half_float_linear")===!1)return;(T.anisotropy>1||s.get(T).__currentAnisotropy)&&(t.texParameterf(M,ne.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(T.anisotropy,i.getMaxAnisotropy())),s.get(T).__currentAnisotropy=T.anisotropy)}}function le(M,T){let W=!1;M.__webglInit===void 0&&(M.__webglInit=!0,T.addEventListener("dispose",O));const ne=T.source;let ce=m.get(ne);ce===void 0&&(ce={},m.set(ne,ce));const ye=X(T);if(ye!==M.__cacheKey){ce[ye]===void 0&&(ce[ye]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,W=!0),ce[ye].usedTimes++;const Ie=ce[M.__cacheKey];Ie!==void 0&&(ce[M.__cacheKey].usedTimes--,Ie.usedTimes===0&&B(T)),M.__cacheKey=ye,M.__webglTexture=ce[ye].texture}return W}function re(M,T,W){let ne=3553;T.isDataArrayTexture&&(ne=35866),T.isData3DTexture&&(ne=32879);const ce=le(M,T),ye=T.source;if(n.activeTexture(33984+W),n.bindTexture(ne,M.__webglTexture),ye.version!==ye.__currentVersion||ce===!0){t.pixelStorei(37440,T.flipY),t.pixelStorei(37441,T.premultiplyAlpha),t.pixelStorei(3317,T.unpackAlignment),t.pixelStorei(37443,0);const Ie=v(T)&&x(T.image)===!1;let Z=S(T.image,Ie,!1,u);Z=we(T,Z);const Re=x(Z)||a,Oe=r.convert(T.format,T.encoding);let Le=r.convert(T.type),U=w(T.internalFormat,Oe,Le,T.encoding,T.isVideoTexture);I(ne,T,Re);let Ae;const Ce=T.mipmaps,$e=a&&T.isVideoTexture!==!0,ke=ye.__currentVersion===void 0||ce===!0,He=C(T,Z,Re);if(T.isDepthTexture)U=6402,a?T.type===Hr?U=36012:T.type===zo?U=33190:T.type===Al?U=35056:U=33189:T.type===Hr&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),T.format===Jo&&U===6402&&T.type!==y2&&T.type!==zo&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),T.type=zo,Le=r.convert(T.type)),T.format===Gl&&U===6402&&(U=34041,T.type!==Al&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),T.type=Al,Le=r.convert(T.type))),ke&&($e?n.texStorage2D(3553,1,U,Z.width,Z.height):n.texImage2D(3553,0,U,Z.width,Z.height,0,Oe,Le,null));else if(T.isDataTexture)if(Ce.length>0&&Re){$e&&ke&&n.texStorage2D(3553,He,U,Ce[0].width,Ce[0].height);for(let Ee=0,qe=Ce.length;Ee<qe;Ee++)Ae=Ce[Ee],$e?n.texSubImage2D(3553,Ee,0,0,Ae.width,Ae.height,Oe,Le,Ae.data):n.texImage2D(3553,Ee,U,Ae.width,Ae.height,0,Oe,Le,Ae.data);T.generateMipmaps=!1}else $e?(ke&&n.texStorage2D(3553,He,U,Z.width,Z.height),n.texSubImage2D(3553,0,0,0,Z.width,Z.height,Oe,Le,Z.data)):n.texImage2D(3553,0,U,Z.width,Z.height,0,Oe,Le,Z.data);else if(T.isCompressedTexture){$e&&ke&&n.texStorage2D(3553,He,U,Ce[0].width,Ce[0].height);for(let Ee=0,qe=Ce.length;Ee<qe;Ee++)Ae=Ce[Ee],T.format!==Ks?Oe!==null?$e?n.compressedTexSubImage2D(3553,Ee,0,0,Ae.width,Ae.height,Oe,Ae.data):n.compressedTexImage2D(3553,Ee,U,Ae.width,Ae.height,0,Ae.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):$e?n.texSubImage2D(3553,Ee,0,0,Ae.width,Ae.height,Oe,Le,Ae.data):n.texImage2D(3553,Ee,U,Ae.width,Ae.height,0,Oe,Le,Ae.data)}else if(T.isDataArrayTexture)$e?(ke&&n.texStorage3D(35866,He,U,Z.width,Z.height,Z.depth),n.texSubImage3D(35866,0,0,0,0,Z.width,Z.height,Z.depth,Oe,Le,Z.data)):n.texImage3D(35866,0,U,Z.width,Z.height,Z.depth,0,Oe,Le,Z.data);else if(T.isData3DTexture)$e?(ke&&n.texStorage3D(32879,He,U,Z.width,Z.height,Z.depth),n.texSubImage3D(32879,0,0,0,0,Z.width,Z.height,Z.depth,Oe,Le,Z.data)):n.texImage3D(32879,0,U,Z.width,Z.height,Z.depth,0,Oe,Le,Z.data);else if(T.isFramebufferTexture){if(ke)if($e)n.texStorage2D(3553,He,U,Z.width,Z.height);else{let Ee=Z.width,qe=Z.height;for(let Mt=0;Mt<He;Mt++)n.texImage2D(3553,Mt,U,Ee,qe,0,Oe,Le,null),Ee>>=1,qe>>=1}}else if(Ce.length>0&&Re){$e&&ke&&n.texStorage2D(3553,He,U,Ce[0].width,Ce[0].height);for(let Ee=0,qe=Ce.length;Ee<qe;Ee++)Ae=Ce[Ee],$e?n.texSubImage2D(3553,Ee,0,0,Oe,Le,Ae):n.texImage2D(3553,Ee,U,Oe,Le,Ae);T.generateMipmaps=!1}else $e?(ke&&n.texStorage2D(3553,He,U,Z.width,Z.height),n.texSubImage2D(3553,0,0,0,Oe,Le,Z)):n.texImage2D(3553,0,U,Oe,Le,Z);E(T,Re)&&A(ne),ye.__currentVersion=ye.version,T.onUpdate&&T.onUpdate(T)}M.__version=T.version}function ge(M,T,W){if(T.image.length!==6)return;const ne=le(M,T),ce=T.source;if(n.activeTexture(33984+W),n.bindTexture(34067,M.__webglTexture),ce.version!==ce.__currentVersion||ne===!0){t.pixelStorei(37440,T.flipY),t.pixelStorei(37441,T.premultiplyAlpha),t.pixelStorei(3317,T.unpackAlignment),t.pixelStorei(37443,0);const ye=T.isCompressedTexture||T.image[0].isCompressedTexture,Ie=T.image[0]&&T.image[0].isDataTexture,Z=[];for(let Ee=0;Ee<6;Ee++)!ye&&!Ie?Z[Ee]=S(T.image[Ee],!1,!0,c):Z[Ee]=Ie?T.image[Ee].image:T.image[Ee],Z[Ee]=we(T,Z[Ee]);const Re=Z[0],Oe=x(Re)||a,Le=r.convert(T.format,T.encoding),U=r.convert(T.type),Ae=w(T.internalFormat,Le,U,T.encoding),Ce=a&&T.isVideoTexture!==!0,$e=ce.__currentVersion===void 0||ne===!0;let ke=C(T,Re,Oe);I(34067,T,Oe);let He;if(ye){Ce&&$e&&n.texStorage2D(34067,ke,Ae,Re.width,Re.height);for(let Ee=0;Ee<6;Ee++){He=Z[Ee].mipmaps;for(let qe=0;qe<He.length;qe++){const Mt=He[qe];T.format!==Ks?Le!==null?Ce?n.compressedTexSubImage2D(34069+Ee,qe,0,0,Mt.width,Mt.height,Le,Mt.data):n.compressedTexImage2D(34069+Ee,qe,Ae,Mt.width,Mt.height,0,Mt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ce?n.texSubImage2D(34069+Ee,qe,0,0,Mt.width,Mt.height,Le,U,Mt.data):n.texImage2D(34069+Ee,qe,Ae,Mt.width,Mt.height,0,Le,U,Mt.data)}}}else{He=T.mipmaps,Ce&&$e&&(He.length>0&&ke++,n.texStorage2D(34067,ke,Ae,Z[0].width,Z[0].height));for(let Ee=0;Ee<6;Ee++)if(Ie){Ce?n.texSubImage2D(34069+Ee,0,0,0,Z[Ee].width,Z[Ee].height,Le,U,Z[Ee].data):n.texImage2D(34069+Ee,0,Ae,Z[Ee].width,Z[Ee].height,0,Le,U,Z[Ee].data);for(let qe=0;qe<He.length;qe++){const At=He[qe].image[Ee].image;Ce?n.texSubImage2D(34069+Ee,qe+1,0,0,At.width,At.height,Le,U,At.data):n.texImage2D(34069+Ee,qe+1,Ae,At.width,At.height,0,Le,U,At.data)}}else{Ce?n.texSubImage2D(34069+Ee,0,0,0,Le,U,Z[Ee]):n.texImage2D(34069+Ee,0,Ae,Le,U,Z[Ee]);for(let qe=0;qe<He.length;qe++){const Mt=He[qe];Ce?n.texSubImage2D(34069+Ee,qe+1,0,0,Le,U,Mt.image[Ee]):n.texImage2D(34069+Ee,qe+1,Ae,Le,U,Mt.image[Ee])}}}E(T,Oe)&&A(34067),ce.__currentVersion=ce.version,T.onUpdate&&T.onUpdate(T)}M.__version=T.version}function ue(M,T,W,ne,ce){const ye=r.convert(W.format,W.encoding),Ie=r.convert(W.type),Z=w(W.internalFormat,ye,Ie,W.encoding);s.get(T).__hasExternalTextures||(ce===32879||ce===35866?n.texImage3D(ce,0,Z,T.width,T.height,T.depth,0,ye,Ie,null):n.texImage2D(ce,0,Z,T.width,T.height,0,ye,Ie,null)),n.bindFramebuffer(36160,M),$(T)?f.framebufferTexture2DMultisampleEXT(36160,ne,ce,s.get(W).__webglTexture,0,_e(T)):t.framebufferTexture2D(36160,ne,ce,s.get(W).__webglTexture,0),n.bindFramebuffer(36160,null)}function Me(M,T,W){if(t.bindRenderbuffer(36161,M),T.depthBuffer&&!T.stencilBuffer){let ne=33189;if(W||$(T)){const ce=T.depthTexture;ce&&ce.isDepthTexture&&(ce.type===Hr?ne=36012:ce.type===zo&&(ne=33190));const ye=_e(T);$(T)?f.renderbufferStorageMultisampleEXT(36161,ye,ne,T.width,T.height):t.renderbufferStorageMultisample(36161,ye,ne,T.width,T.height)}else t.renderbufferStorage(36161,ne,T.width,T.height);t.framebufferRenderbuffer(36160,36096,36161,M)}else if(T.depthBuffer&&T.stencilBuffer){const ne=_e(T);W&&$(T)===!1?t.renderbufferStorageMultisample(36161,ne,35056,T.width,T.height):$(T)?f.renderbufferStorageMultisampleEXT(36161,ne,35056,T.width,T.height):t.renderbufferStorage(36161,34041,T.width,T.height),t.framebufferRenderbuffer(36160,33306,36161,M)}else{const ne=T.isWebGLMultipleRenderTargets===!0?T.texture:[T.texture];for(let ce=0;ce<ne.length;ce++){const ye=ne[ce],Ie=r.convert(ye.format,ye.encoding),Z=r.convert(ye.type),Re=w(ye.internalFormat,Ie,Z,ye.encoding),Oe=_e(T);W&&$(T)===!1?t.renderbufferStorageMultisample(36161,Oe,Re,T.width,T.height):$(T)?f.renderbufferStorageMultisampleEXT(36161,Oe,Re,T.width,T.height):t.renderbufferStorage(36161,Re,T.width,T.height)}}t.bindRenderbuffer(36161,null)}function Se(M,T){if(T&&T.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,M),!(T.depthTexture&&T.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!s.get(T.depthTexture).__webglTexture||T.depthTexture.image.width!==T.width||T.depthTexture.image.height!==T.height)&&(T.depthTexture.image.width=T.width,T.depthTexture.image.height=T.height,T.depthTexture.needsUpdate=!0),oe(T.depthTexture,0);const ne=s.get(T.depthTexture).__webglTexture,ce=_e(T);if(T.depthTexture.format===Jo)$(T)?f.framebufferTexture2DMultisampleEXT(36160,36096,3553,ne,0,ce):t.framebufferTexture2D(36160,36096,3553,ne,0);else if(T.depthTexture.format===Gl)$(T)?f.framebufferTexture2DMultisampleEXT(36160,33306,3553,ne,0,ce):t.framebufferTexture2D(36160,33306,3553,ne,0);else throw new Error("Unknown depthTexture format")}function R(M){const T=s.get(M),W=M.isWebGLCubeRenderTarget===!0;if(M.depthTexture&&!T.__autoAllocateDepthBuffer){if(W)throw new Error("target.depthTexture not supported in Cube render targets");Se(T.__webglFramebuffer,M)}else if(W){T.__webglDepthbuffer=[];for(let ne=0;ne<6;ne++)n.bindFramebuffer(36160,T.__webglFramebuffer[ne]),T.__webglDepthbuffer[ne]=t.createRenderbuffer(),Me(T.__webglDepthbuffer[ne],M,!1)}else n.bindFramebuffer(36160,T.__webglFramebuffer),T.__webglDepthbuffer=t.createRenderbuffer(),Me(T.__webglDepthbuffer,M,!1);n.bindFramebuffer(36160,null)}function D(M,T,W){const ne=s.get(M);T!==void 0&&ue(ne.__webglFramebuffer,M,M.texture,36064,3553),W!==void 0&&R(M)}function K(M){const T=M.texture,W=s.get(M),ne=s.get(T);M.addEventListener("dispose",z),M.isWebGLMultipleRenderTargets!==!0&&(ne.__webglTexture===void 0&&(ne.__webglTexture=t.createTexture()),ne.__version=T.version,o.memory.textures++);const ce=M.isWebGLCubeRenderTarget===!0,ye=M.isWebGLMultipleRenderTargets===!0,Ie=x(M)||a;if(ce){W.__webglFramebuffer=[];for(let Z=0;Z<6;Z++)W.__webglFramebuffer[Z]=t.createFramebuffer()}else{if(W.__webglFramebuffer=t.createFramebuffer(),ye)if(i.drawBuffers){const Z=M.texture;for(let Re=0,Oe=Z.length;Re<Oe;Re++){const Le=s.get(Z[Re]);Le.__webglTexture===void 0&&(Le.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&M.samples>0&&$(M)===!1){const Z=ye?T:[T];W.__webglMultisampledFramebuffer=t.createFramebuffer(),W.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,W.__webglMultisampledFramebuffer);for(let Re=0;Re<Z.length;Re++){const Oe=Z[Re];W.__webglColorRenderbuffer[Re]=t.createRenderbuffer(),t.bindRenderbuffer(36161,W.__webglColorRenderbuffer[Re]);const Le=r.convert(Oe.format,Oe.encoding),U=r.convert(Oe.type),Ae=w(Oe.internalFormat,Le,U,Oe.encoding),Ce=_e(M);t.renderbufferStorageMultisample(36161,Ce,Ae,M.width,M.height),t.framebufferRenderbuffer(36160,36064+Re,36161,W.__webglColorRenderbuffer[Re])}t.bindRenderbuffer(36161,null),M.depthBuffer&&(W.__webglDepthRenderbuffer=t.createRenderbuffer(),Me(W.__webglDepthRenderbuffer,M,!0)),n.bindFramebuffer(36160,null)}}if(ce){n.bindTexture(34067,ne.__webglTexture),I(34067,T,Ie);for(let Z=0;Z<6;Z++)ue(W.__webglFramebuffer[Z],M,T,36064,34069+Z);E(T,Ie)&&A(34067),n.unbindTexture()}else if(ye){const Z=M.texture;for(let Re=0,Oe=Z.length;Re<Oe;Re++){const Le=Z[Re],U=s.get(Le);n.bindTexture(3553,U.__webglTexture),I(3553,Le,Ie),ue(W.__webglFramebuffer,M,Le,36064+Re,3553),E(Le,Ie)&&A(3553)}n.unbindTexture()}else{let Z=3553;(M.isWebGL3DRenderTarget||M.isWebGLArrayRenderTarget)&&(a?Z=M.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Z,ne.__webglTexture),I(Z,T,Ie),ue(W.__webglFramebuffer,M,T,36064,Z),E(T,Ie)&&A(Z),n.unbindTexture()}M.depthBuffer&&R(M)}function fe(M){const T=x(M)||a,W=M.isWebGLMultipleRenderTargets===!0?M.texture:[M.texture];for(let ne=0,ce=W.length;ne<ce;ne++){const ye=W[ne];if(E(ye,T)){const Ie=M.isWebGLCubeRenderTarget?34067:3553,Z=s.get(ye).__webglTexture;n.bindTexture(Ie,Z),A(Ie),n.unbindTexture()}}}function he(M){if(a&&M.samples>0&&$(M)===!1){const T=M.isWebGLMultipleRenderTargets?M.texture:[M.texture],W=M.width,ne=M.height;let ce=16384;const ye=[],Ie=M.stencilBuffer?33306:36096,Z=s.get(M),Re=M.isWebGLMultipleRenderTargets===!0;if(Re)for(let Oe=0;Oe<T.length;Oe++)n.bindFramebuffer(36160,Z.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+Oe,36161,null),n.bindFramebuffer(36160,Z.__webglFramebuffer),t.framebufferTexture2D(36009,36064+Oe,3553,null,0);n.bindFramebuffer(36008,Z.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,Z.__webglFramebuffer);for(let Oe=0;Oe<T.length;Oe++){ye.push(36064+Oe),M.depthBuffer&&ye.push(Ie);const Le=Z.__ignoreDepthValues!==void 0?Z.__ignoreDepthValues:!1;if(Le===!1&&(M.depthBuffer&&(ce|=256),M.stencilBuffer&&(ce|=1024)),Re&&t.framebufferRenderbuffer(36008,36064,36161,Z.__webglColorRenderbuffer[Oe]),Le===!0&&(t.invalidateFramebuffer(36008,[Ie]),t.invalidateFramebuffer(36009,[Ie])),Re){const U=s.get(T[Oe]).__webglTexture;t.framebufferTexture2D(36009,36064,3553,U,0)}t.blitFramebuffer(0,0,W,ne,0,0,W,ne,ce,9728),h&&t.invalidateFramebuffer(36008,ye)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),Re)for(let Oe=0;Oe<T.length;Oe++){n.bindFramebuffer(36160,Z.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+Oe,36161,Z.__webglColorRenderbuffer[Oe]);const Le=s.get(T[Oe]).__webglTexture;n.bindFramebuffer(36160,Z.__webglFramebuffer),t.framebufferTexture2D(36009,36064+Oe,3553,Le,0)}n.bindFramebuffer(36009,Z.__webglMultisampledFramebuffer)}}function _e(M){return Math.min(d,M.samples)}function $(M){const T=s.get(M);return a&&M.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&T.__useRenderToTexture!==!1}function be(M){const T=o.render.frame;_.get(M)!==T&&(_.set(M,T),M.update())}function we(M,T){const W=M.encoding,ne=M.format,ce=M.type;return M.isCompressedTexture===!0||M.isVideoTexture===!0||M.format===X_||W!==la&&(W===Rt?a===!1?e.has("EXT_sRGB")===!0&&ne===Ks?(M.format=X_,M.minFilter=ts,M.generateMipmaps=!1):T=S2.sRGBToLinear(T):(ne!==Ks||ce!==aa)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",W)),T}this.allocateTextureUnit=J,this.resetTextureUnits=te,this.setTexture2D=oe,this.setTexture2DArray=me,this.setTexture3D=k,this.setTextureCube=L,this.rebindTextures=D,this.setupRenderTarget=K,this.updateRenderTargetMipmap=fe,this.updateMultisampleRenderTarget=he,this.setupDepthRenderbuffer=R,this.setupFrameBufferTexture=ue,this.useMultisampledRTT=$}function S7(t,e,n){const s=n.isWebGL2;function i(r,o=null){let a;if(r===aa)return 5121;if(r===tH)return 32819;if(r===nH)return 32820;if(r===JV)return 5120;if(r===QV)return 5122;if(r===y2)return 5123;if(r===eH)return 5124;if(r===zo)return 5125;if(r===Hr)return 5126;if(r===Wu)return s?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(r===sH)return 6406;if(r===Ks)return 6408;if(r===rH)return 6409;if(r===oH)return 6410;if(r===Jo)return 6402;if(r===Gl)return 34041;if(r===aH)return 6403;if(r===iH)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(r===X_)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(r===lH)return 36244;if(r===cH)return 33319;if(r===uH)return 33320;if(r===dH)return 36249;if(r===ng||r===sg||r===ig||r===rg)if(o===Rt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(r===ng)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===sg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===ig)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===rg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(r===ng)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===sg)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===ig)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===rg)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===hx||r===px||r===mx||r===gx)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(r===hx)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===px)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===mx)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===gx)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===fH)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(r===_x||r===yx)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(r===_x)return o===Rt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(r===yx)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===bx||r===vx||r===wx||r===xx||r===Sx||r===Ex||r===Tx||r===Mx||r===Ax||r===Cx||r===Rx||r===Px||r===kx||r===Ox)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(r===bx)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===vx)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===wx)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===xx)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===Sx)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===Ex)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===Tx)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===Mx)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===Ax)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===Cx)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===Rx)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===Px)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===kx)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===Ox)return o===Rt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===Lx)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(r===Lx)return o===Rt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return r===Al?s?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[r]!==void 0?t[r]:null}return{convert:i}}class E7 extends Hn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Vo extends ln{constructor(){super(),this.isGroup=!0,this.type="Group"}}const T7={type:"move"};class Lg{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Vo,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Vo,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new G,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new G),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Vo,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new G,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new G),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,s){let i=null,r=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const g of e.hand.values()){const m=n.getJointPose(g,s);if(c.joints[g.jointName]===void 0){const b=new Vo;b.matrixAutoUpdate=!1,b.visible=!1,c.joints[g.jointName]=b,c.add(b)}const y=c.joints[g.jointName];m!==null&&(y.matrix.fromArray(m.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale),y.jointRadius=m.radius),y.visible=m!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],f=u.position.distanceTo(d.position),h=.02,_=.005;c.inputState.pinching&&f>h+_?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=h-_&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(r=n.getPose(e.gripSpace,s),r!==null&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,s),i===null&&r!==null&&(i=r),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(T7)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=r!==null),c!==null&&(c.visible=o!==null),this}}class M7 extends Wn{constructor(e,n,s,i,r,o,a,l,c,u){if(u=u!==void 0?u:Jo,u!==Jo&&u!==Gl)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");s===void 0&&u===Jo&&(s=zo),s===void 0&&u===Gl&&(s=Al),super(null,i,r,o,a,l,u,s,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:xn,this.minFilter=l!==void 0?l:xn,this.flipY=!1,this.generateMipmaps=!1}}class A7 extends uc{constructor(e,n){super();const s=this;let i=null,r=1,o=null,a="local-floor",l=null,c=null,u=null,d=null,f=null,h=null;const _=n.getContextAttributes();let g=null,m=null;const y=[],b=[],S=new Hn;S.layers.enable(1),S.viewport=new Lt;const x=new Hn;x.layers.enable(2),x.viewport=new Lt;const v=[S,x],E=new E7;E.layers.enable(1),E.layers.enable(2);let A=null,w=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(X){let oe=y[X];return oe===void 0&&(oe=new Lg,y[X]=oe),oe.getTargetRaySpace()},this.getControllerGrip=function(X){let oe=y[X];return oe===void 0&&(oe=new Lg,y[X]=oe),oe.getGripSpace()},this.getHand=function(X){let oe=y[X];return oe===void 0&&(oe=new Lg,y[X]=oe),oe.getHandSpace()};function C(X){const oe=b.indexOf(X.inputSource);if(oe===-1)return;const me=y[oe];me!==void 0&&me.dispatchEvent({type:X.type,data:X.inputSource})}function N(){i.removeEventListener("select",C),i.removeEventListener("selectstart",C),i.removeEventListener("selectend",C),i.removeEventListener("squeeze",C),i.removeEventListener("squeezestart",C),i.removeEventListener("squeezeend",C),i.removeEventListener("end",N),i.removeEventListener("inputsourceschange",O);for(let X=0;X<y.length;X++){const oe=b[X];oe!==null&&(b[X]=null,y[X].disconnect(oe))}A=null,w=null,e.setRenderTarget(g),f=null,d=null,u=null,i=null,m=null,J.stop(),s.isPresenting=!1,s.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(X){r=X,s.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(X){a=X,s.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(X){l=X},this.getBaseLayer=function(){return d!==null?d:f},this.getBinding=function(){return u},this.getFrame=function(){return h},this.getSession=function(){return i},this.setSession=async function(X){if(i=X,i!==null){if(g=e.getRenderTarget(),i.addEventListener("select",C),i.addEventListener("selectstart",C),i.addEventListener("selectend",C),i.addEventListener("squeeze",C),i.addEventListener("squeezestart",C),i.addEventListener("squeezeend",C),i.addEventListener("end",N),i.addEventListener("inputsourceschange",O),_.xrCompatible!==!0&&await n.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const oe={antialias:i.renderState.layers===void 0?_.antialias:!0,alpha:_.alpha,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:r};f=new XRWebGLLayer(i,n,oe),i.updateRenderState({baseLayer:f}),m=new ca(f.framebufferWidth,f.framebufferHeight,{format:Ks,type:aa,encoding:e.outputEncoding})}else{let oe=null,me=null,k=null;_.depth&&(k=_.stencil?35056:33190,oe=_.stencil?Gl:Jo,me=_.stencil?Al:zo);const L={colorFormat:32856,depthFormat:k,scaleFactor:r};u=new XRWebGLBinding(i,n),d=u.createProjectionLayer(L),i.updateRenderState({layers:[d]}),m=new ca(d.textureWidth,d.textureHeight,{format:Ks,type:aa,depthTexture:new M7(d.textureWidth,d.textureHeight,me,void 0,void 0,void 0,void 0,void 0,void 0,oe),stencilBuffer:_.stencil,encoding:e.outputEncoding,samples:_.antialias?4:0});const q=e.properties.get(m);q.__ignoreDepthValues=d.ignoreDepthValues}m.isXRRenderTarget=!0,this.setFoveation(1),l=null,o=await i.requestReferenceSpace(a),J.setContext(i),J.start(),s.isPresenting=!0,s.dispatchEvent({type:"sessionstart"})}};function O(X){for(let oe=0;oe<X.removed.length;oe++){const me=X.removed[oe],k=b.indexOf(me);k>=0&&(b[k]=null,y[k].dispatchEvent({type:"disconnected",data:me}))}for(let oe=0;oe<X.added.length;oe++){const me=X.added[oe];let k=b.indexOf(me);if(k===-1){for(let q=0;q<y.length;q++)if(q>=b.length){b.push(me),k=q;break}else if(b[q]===null){b[q]=me,k=q;break}if(k===-1)break}const L=y[k];L&&L.dispatchEvent({type:"connected",data:me})}}const z=new G,ee=new G;function B(X,oe,me){z.setFromMatrixPosition(oe.matrixWorld),ee.setFromMatrixPosition(me.matrixWorld);const k=z.distanceTo(ee),L=oe.projectionMatrix.elements,q=me.projectionMatrix.elements,F=L[14]/(L[10]-1),I=L[14]/(L[10]+1),le=(L[9]+1)/L[5],re=(L[9]-1)/L[5],ge=(L[8]-1)/L[0],ue=(q[8]+1)/q[0],Me=F*ge,Se=F*ue,R=k/(-ge+ue),D=R*-ge;oe.matrixWorld.decompose(X.position,X.quaternion,X.scale),X.translateX(D),X.translateZ(R),X.matrixWorld.compose(X.position,X.quaternion,X.scale),X.matrixWorldInverse.copy(X.matrixWorld).invert();const K=F+R,fe=I+R,he=Me-D,_e=Se+(k-D),$=le*I/fe*K,be=re*I/fe*K;X.projectionMatrix.makePerspective(he,_e,$,be,K,fe)}function V(X,oe){oe===null?X.matrixWorld.copy(X.matrix):X.matrixWorld.multiplyMatrices(oe.matrixWorld,X.matrix),X.matrixWorldInverse.copy(X.matrixWorld).invert()}this.updateCamera=function(X){if(i===null)return;E.near=x.near=S.near=X.near,E.far=x.far=S.far=X.far,(A!==E.near||w!==E.far)&&(i.updateRenderState({depthNear:E.near,depthFar:E.far}),A=E.near,w=E.far);const oe=X.parent,me=E.cameras;V(E,oe);for(let L=0;L<me.length;L++)V(me[L],oe);E.matrixWorld.decompose(E.position,E.quaternion,E.scale),X.position.copy(E.position),X.quaternion.copy(E.quaternion),X.scale.copy(E.scale),X.matrix.copy(E.matrix),X.matrixWorld.copy(E.matrixWorld);const k=X.children;for(let L=0,q=k.length;L<q;L++)k[L].updateMatrixWorld(!0);me.length===2?B(E,S,x):E.projectionMatrix.copy(S.projectionMatrix)},this.getCamera=function(){return E},this.getFoveation=function(){if(d!==null)return d.fixedFoveation;if(f!==null)return f.fixedFoveation},this.setFoveation=function(X){d!==null&&(d.fixedFoveation=X),f!==null&&f.fixedFoveation!==void 0&&(f.fixedFoveation=X)};let H=null;function te(X,oe){if(c=oe.getViewerPose(l||o),h=oe,c!==null){const me=c.views;f!==null&&(e.setRenderTargetFramebuffer(m,f.framebuffer),e.setRenderTarget(m));let k=!1;me.length!==E.cameras.length&&(E.cameras.length=0,k=!0);for(let L=0;L<me.length;L++){const q=me[L];let F=null;if(f!==null)F=f.getViewport(q);else{const le=u.getViewSubImage(d,q);F=le.viewport,L===0&&(e.setRenderTargetTextures(m,le.colorTexture,d.ignoreDepthValues?void 0:le.depthStencilTexture),e.setRenderTarget(m))}let I=v[L];I===void 0&&(I=new Hn,I.layers.enable(L),I.viewport=new Lt,v[L]=I),I.matrix.fromArray(q.transform.matrix),I.projectionMatrix.fromArray(q.projectionMatrix),I.viewport.set(F.x,F.y,F.width,F.height),L===0&&E.matrix.copy(I.matrix),k===!0&&E.cameras.push(I)}}for(let me=0;me<y.length;me++){const k=b[me],L=y[me];k!==null&&L!==void 0&&L.update(k,oe,l||o)}H&&H(X,oe),h=null}const J=new k2;J.setAnimationLoop(te),this.setAnimationLoop=function(X){H=X},this.dispose=function(){}}}function C7(t,e){function n(g,m){g.fogColor.value.copy(m.color),m.isFog?(g.fogNear.value=m.near,g.fogFar.value=m.far):m.isFogExp2&&(g.fogDensity.value=m.density)}function s(g,m,y,b,S){m.isMeshBasicMaterial||m.isMeshLambertMaterial?i(g,m):m.isMeshToonMaterial?(i(g,m),u(g,m)):m.isMeshPhongMaterial?(i(g,m),c(g,m)):m.isMeshStandardMaterial?(i(g,m),d(g,m),m.isMeshPhysicalMaterial&&f(g,m,S)):m.isMeshMatcapMaterial?(i(g,m),h(g,m)):m.isMeshDepthMaterial?i(g,m):m.isMeshDistanceMaterial?(i(g,m),_(g,m)):m.isMeshNormalMaterial?i(g,m):m.isLineBasicMaterial?(r(g,m),m.isLineDashedMaterial&&o(g,m)):m.isPointsMaterial?a(g,m,y,b):m.isSpriteMaterial?l(g,m):m.isShadowMaterial?(g.color.value.copy(m.color),g.opacity.value=m.opacity):m.isShaderMaterial&&(m.uniformsNeedUpdate=!1)}function i(g,m){g.opacity.value=m.opacity,m.color&&g.diffuse.value.copy(m.color),m.emissive&&g.emissive.value.copy(m.emissive).multiplyScalar(m.emissiveIntensity),m.map&&(g.map.value=m.map),m.alphaMap&&(g.alphaMap.value=m.alphaMap),m.bumpMap&&(g.bumpMap.value=m.bumpMap,g.bumpScale.value=m.bumpScale,m.side===ei&&(g.bumpScale.value*=-1)),m.displacementMap&&(g.displacementMap.value=m.displacementMap,g.displacementScale.value=m.displacementScale,g.displacementBias.value=m.displacementBias),m.emissiveMap&&(g.emissiveMap.value=m.emissiveMap),m.normalMap&&(g.normalMap.value=m.normalMap,g.normalScale.value.copy(m.normalScale),m.side===ei&&g.normalScale.value.negate()),m.specularMap&&(g.specularMap.value=m.specularMap),m.alphaTest>0&&(g.alphaTest.value=m.alphaTest);const y=e.get(m).envMap;if(y&&(g.envMap.value=y,g.flipEnvMap.value=y.isCubeTexture&&y.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=m.reflectivity,g.ior.value=m.ior,g.refractionRatio.value=m.refractionRatio),m.lightMap){g.lightMap.value=m.lightMap;const x=t.physicallyCorrectLights!==!0?Math.PI:1;g.lightMapIntensity.value=m.lightMapIntensity*x}m.aoMap&&(g.aoMap.value=m.aoMap,g.aoMapIntensity.value=m.aoMapIntensity);let b;m.map?b=m.map:m.specularMap?b=m.specularMap:m.displacementMap?b=m.displacementMap:m.normalMap?b=m.normalMap:m.bumpMap?b=m.bumpMap:m.roughnessMap?b=m.roughnessMap:m.metalnessMap?b=m.metalnessMap:m.alphaMap?b=m.alphaMap:m.emissiveMap?b=m.emissiveMap:m.clearcoatMap?b=m.clearcoatMap:m.clearcoatNormalMap?b=m.clearcoatNormalMap:m.clearcoatRoughnessMap?b=m.clearcoatRoughnessMap:m.iridescenceMap?b=m.iridescenceMap:m.iridescenceThicknessMap?b=m.iridescenceThicknessMap:m.specularIntensityMap?b=m.specularIntensityMap:m.specularColorMap?b=m.specularColorMap:m.transmissionMap?b=m.transmissionMap:m.thicknessMap?b=m.thicknessMap:m.sheenColorMap?b=m.sheenColorMap:m.sheenRoughnessMap&&(b=m.sheenRoughnessMap),b!==void 0&&(b.isWebGLRenderTarget&&(b=b.texture),b.matrixAutoUpdate===!0&&b.updateMatrix(),g.uvTransform.value.copy(b.matrix));let S;m.aoMap?S=m.aoMap:m.lightMap&&(S=m.lightMap),S!==void 0&&(S.isWebGLRenderTarget&&(S=S.texture),S.matrixAutoUpdate===!0&&S.updateMatrix(),g.uv2Transform.value.copy(S.matrix))}function r(g,m){g.diffuse.value.copy(m.color),g.opacity.value=m.opacity}function o(g,m){g.dashSize.value=m.dashSize,g.totalSize.value=m.dashSize+m.gapSize,g.scale.value=m.scale}function a(g,m,y,b){g.diffuse.value.copy(m.color),g.opacity.value=m.opacity,g.size.value=m.size*y,g.scale.value=b*.5,m.map&&(g.map.value=m.map),m.alphaMap&&(g.alphaMap.value=m.alphaMap),m.alphaTest>0&&(g.alphaTest.value=m.alphaTest);let S;m.map?S=m.map:m.alphaMap&&(S=m.alphaMap),S!==void 0&&(S.matrixAutoUpdate===!0&&S.updateMatrix(),g.uvTransform.value.copy(S.matrix))}function l(g,m){g.diffuse.value.copy(m.color),g.opacity.value=m.opacity,g.rotation.value=m.rotation,m.map&&(g.map.value=m.map),m.alphaMap&&(g.alphaMap.value=m.alphaMap),m.alphaTest>0&&(g.alphaTest.value=m.alphaTest);let y;m.map?y=m.map:m.alphaMap&&(y=m.alphaMap),y!==void 0&&(y.matrixAutoUpdate===!0&&y.updateMatrix(),g.uvTransform.value.copy(y.matrix))}function c(g,m){g.specular.value.copy(m.specular),g.shininess.value=Math.max(m.shininess,1e-4)}function u(g,m){m.gradientMap&&(g.gradientMap.value=m.gradientMap)}function d(g,m){g.roughness.value=m.roughness,g.metalness.value=m.metalness,m.roughnessMap&&(g.roughnessMap.value=m.roughnessMap),m.metalnessMap&&(g.metalnessMap.value=m.metalnessMap),e.get(m).envMap&&(g.envMapIntensity.value=m.envMapIntensity)}function f(g,m,y){g.ior.value=m.ior,m.sheen>0&&(g.sheenColor.value.copy(m.sheenColor).multiplyScalar(m.sheen),g.sheenRoughness.value=m.sheenRoughness,m.sheenColorMap&&(g.sheenColorMap.value=m.sheenColorMap),m.sheenRoughnessMap&&(g.sheenRoughnessMap.value=m.sheenRoughnessMap)),m.clearcoat>0&&(g.clearcoat.value=m.clearcoat,g.clearcoatRoughness.value=m.clearcoatRoughness,m.clearcoatMap&&(g.clearcoatMap.value=m.clearcoatMap),m.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap),m.clearcoatNormalMap&&(g.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),g.clearcoatNormalMap.value=m.clearcoatNormalMap,m.side===ei&&g.clearcoatNormalScale.value.negate())),m.iridescence>0&&(g.iridescence.value=m.iridescence,g.iridescenceIOR.value=m.iridescenceIOR,g.iridescenceThicknessMinimum.value=m.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=m.iridescenceThicknessRange[1],m.iridescenceMap&&(g.iridescenceMap.value=m.iridescenceMap),m.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=m.iridescenceThicknessMap)),m.transmission>0&&(g.transmission.value=m.transmission,g.transmissionSamplerMap.value=y.texture,g.transmissionSamplerSize.value.set(y.width,y.height),m.transmissionMap&&(g.transmissionMap.value=m.transmissionMap),g.thickness.value=m.thickness,m.thicknessMap&&(g.thicknessMap.value=m.thicknessMap),g.attenuationDistance.value=m.attenuationDistance,g.attenuationColor.value.copy(m.attenuationColor)),g.specularIntensity.value=m.specularIntensity,g.specularColor.value.copy(m.specularColor),m.specularIntensityMap&&(g.specularIntensityMap.value=m.specularIntensityMap),m.specularColorMap&&(g.specularColorMap.value=m.specularColorMap)}function h(g,m){m.matcap&&(g.matcap.value=m.matcap)}function _(g,m){g.referencePosition.value.copy(m.referencePosition),g.nearDistance.value=m.nearDistance,g.farDistance.value=m.farDistance}return{refreshFogUniforms:n,refreshMaterialUniforms:s}}function R7(){const t=qu("canvas");return t.style.display="block",t}function F2(t={}){this.isWebGLRenderer=!0;const e=t.canvas!==void 0?t.canvas:R7(),n=t.context!==void 0?t.context:null,s=t.depth!==void 0?t.depth:!0,i=t.stencil!==void 0?t.stencil:!0,r=t.antialias!==void 0?t.antialias:!1,o=t.premultipliedAlpha!==void 0?t.premultipliedAlpha:!0,a=t.preserveDrawingBuffer!==void 0?t.preserveDrawingBuffer:!1,l=t.powerPreference!==void 0?t.powerPreference:"default",c=t.failIfMajorPerformanceCaveat!==void 0?t.failIfMajorPerformanceCaveat:!1;let u;n!==null?u=n.getContextAttributes().alpha:u=t.alpha!==void 0?t.alpha:!1;let d=null,f=null;const h=[],_=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=la,this.physicallyCorrectLights=!1,this.toneMapping=ar,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const g=this;let m=!1,y=0,b=0,S=null,x=-1,v=null;const E=new Lt,A=new Lt;let w=null,C=e.width,N=e.height,O=1,z=null,ee=null;const B=new Lt(0,0,C,N),V=new Lt(0,0,C,N);let H=!1;const te=new Zb;let J=!1,X=!1,oe=null;const me=new xt,k=new mt,L=new G,q={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function F(){return S===null?O:1}let I=n;function le(P,Q){for(let ae=0;ae<P.length;ae++){const ie=P[ae],pe=e.getContext(ie,Q);if(pe!==null)return pe}return null}try{const P={alpha:!0,depth:s,stencil:i,antialias:r,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Yb}`),e.addEventListener("webglcontextlost",U,!1),e.addEventListener("webglcontextrestored",Ae,!1),e.addEventListener("webglcontextcreationerror",Ce,!1),I===null){const Q=["webgl2","webgl","experimental-webgl"];if(g.isWebGL1Renderer===!0&&Q.shift(),I=le(Q,P),I===null)throw le(Q)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}I.getShaderPrecisionFormat===void 0&&(I.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(P){throw console.error("THREE.WebGLRenderer: "+P.message),P}let re,ge,ue,Me,Se,R,D,K,fe,he,_e,$,be,we,M,T,W,ne,ce,ye,Ie,Z,Re;function Oe(){re=new Bj(I),ge=new Ij(I,re,t),re.init(ge),Z=new S7(I,re,ge),ue=new w7(I,re,ge),Me=new Vj,Se=new a7,R=new x7(I,re,ue,Se,ge,Z,Me),D=new Nj(g),K=new Uj(g),fe=new t8(I,ge),Re=new Oj(I,re,fe,ge),he=new zj(I,fe,Me,Re),_e=new Yj(I,he,fe,Me),ce=new jj(I,ge,R),T=new Dj(Se),$=new o7(g,D,K,re,ge,Re,T),be=new C7(g,Se),we=new c7,M=new m7(re,ge),ne=new kj(g,D,ue,_e,u,o),W=new v7(g,_e,ge),ye=new Lj(I,re,Me,ge),Ie=new Gj(I,re,Me,ge),Me.programs=$.programs,g.capabilities=ge,g.extensions=re,g.properties=Se,g.renderLists=we,g.shadowMap=W,g.state=ue,g.info=Me}Oe();const Le=new A7(g,I);this.xr=Le,this.getContext=function(){return I},this.getContextAttributes=function(){return I.getContextAttributes()},this.forceContextLoss=function(){const P=re.get("WEBGL_lose_context");P&&P.loseContext()},this.forceContextRestore=function(){const P=re.get("WEBGL_lose_context");P&&P.restoreContext()},this.getPixelRatio=function(){return O},this.setPixelRatio=function(P){P!==void 0&&(O=P,this.setSize(C,N,!1))},this.getSize=function(P){return P.set(C,N)},this.setSize=function(P,Q,ae){if(Le.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}C=P,N=Q,e.width=Math.floor(P*O),e.height=Math.floor(Q*O),ae!==!1&&(e.style.width=P+"px",e.style.height=Q+"px"),this.setViewport(0,0,P,Q)},this.getDrawingBufferSize=function(P){return P.set(C*O,N*O).floor()},this.setDrawingBufferSize=function(P,Q,ae){C=P,N=Q,O=ae,e.width=Math.floor(P*ae),e.height=Math.floor(Q*ae),this.setViewport(0,0,P,Q)},this.getCurrentViewport=function(P){return P.copy(E)},this.getViewport=function(P){return P.copy(B)},this.setViewport=function(P,Q,ae,ie){P.isVector4?B.set(P.x,P.y,P.z,P.w):B.set(P,Q,ae,ie),ue.viewport(E.copy(B).multiplyScalar(O).floor())},this.getScissor=function(P){return P.copy(V)},this.setScissor=function(P,Q,ae,ie){P.isVector4?V.set(P.x,P.y,P.z,P.w):V.set(P,Q,ae,ie),ue.scissor(A.copy(V).multiplyScalar(O).floor())},this.getScissorTest=function(){return H},this.setScissorTest=function(P){ue.setScissorTest(H=P)},this.setOpaqueSort=function(P){z=P},this.setTransparentSort=function(P){ee=P},this.getClearColor=function(P){return P.copy(ne.getClearColor())},this.setClearColor=function(){ne.setClearColor.apply(ne,arguments)},this.getClearAlpha=function(){return ne.getClearAlpha()},this.setClearAlpha=function(){ne.setClearAlpha.apply(ne,arguments)},this.clear=function(P=!0,Q=!0,ae=!0){let ie=0;P&&(ie|=16384),Q&&(ie|=256),ae&&(ie|=1024),I.clear(ie)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",U,!1),e.removeEventListener("webglcontextrestored",Ae,!1),e.removeEventListener("webglcontextcreationerror",Ce,!1),we.dispose(),M.dispose(),Se.dispose(),D.dispose(),K.dispose(),_e.dispose(),Re.dispose(),$.dispose(),Le.dispose(),Le.removeEventListener("sessionstart",Mt),Le.removeEventListener("sessionend",At),oe&&(oe.dispose(),oe=null),Nn.stop()};function U(P){P.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),m=!0}function Ae(){console.log("THREE.WebGLRenderer: Context Restored."),m=!1;const P=Me.autoReset,Q=W.enabled,ae=W.autoUpdate,ie=W.needsUpdate,pe=W.type;Oe(),Me.autoReset=P,W.enabled=Q,W.autoUpdate=ae,W.needsUpdate=ie,W.type=pe}function Ce(P){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",P.statusMessage)}function $e(P){const Q=P.target;Q.removeEventListener("dispose",$e),ke(Q)}function ke(P){He(P),Se.remove(P)}function He(P){const Q=Se.get(P).programs;Q!==void 0&&(Q.forEach(function(ae){$.releaseProgram(ae)}),P.isShaderMaterial&&$.releaseShaderCache(P))}this.renderBufferDirect=function(P,Q,ae,ie,pe,Ye){Q===null&&(Q=q);const et=pe.isMesh&&pe.matrixWorld.determinant()<0,lt=MP(P,Q,ae,ie,pe);ue.setMaterial(ie,et);let ot=ae.index;const Ct=ae.attributes.position;if(ot===null){if(Ct===void 0||Ct.count===0)return}else if(ot.count===0)return;let _t=1;ie.wireframe===!0&&(ot=he.getWireframeAttribute(ae),_t=2),Re.setup(pe,ie,lt,ae,ot);let bt,en=ye;ot!==null&&(bt=fe.get(ot),en=Ie,en.setIndex(bt));const po=ot!==null?ot.count:Ct.count,Ta=ae.drawRange.start*_t,Ma=ae.drawRange.count*_t,di=Ye!==null?Ye.start*_t:0,Tt=Ye!==null?Ye.count*_t:1/0,Aa=Math.max(Ta,di),cn=Math.min(po,Ta+Ma,di+Tt)-1,fi=Math.max(0,cn-Aa+1);if(fi!==0){if(pe.isMesh)ie.wireframe===!0?(ue.setLineWidth(ie.wireframeLinewidth*F()),en.setMode(1)):en.setMode(4);else if(pe.isLine){let vr=ie.linewidth;vr===void 0&&(vr=1),ue.setLineWidth(vr*F()),pe.isLineSegments?en.setMode(1):pe.isLineLoop?en.setMode(2):en.setMode(3)}else pe.isPoints?en.setMode(0):pe.isSprite&&en.setMode(4);if(pe.isInstancedMesh)en.renderInstances(Aa,fi,pe.count);else if(ae.isInstancedBufferGeometry){const vr=Math.min(ae.instanceCount,ae._maxInstanceCount);en.renderInstances(Aa,fi,vr)}else en.render(Aa,fi)}},this.compile=function(P,Q){f=M.get(P),f.init(),_.push(f),P.traverseVisible(function(ae){ae.isLight&&ae.layers.test(Q.layers)&&(f.pushLight(ae),ae.castShadow&&f.pushShadow(ae))}),f.setupLights(g.physicallyCorrectLights),P.traverse(function(ae){const ie=ae.material;if(ie)if(Array.isArray(ie))for(let pe=0;pe<ie.length;pe++){const Ye=ie[pe];wm(Ye,P,ae)}else wm(ie,P,ae)}),_.pop(),f=null};let Ee=null;function qe(P){Ee&&Ee(P)}function Mt(){Nn.stop()}function At(){Nn.start()}const Nn=new k2;Nn.setAnimationLoop(qe),typeof self!="undefined"&&Nn.setContext(self),this.setAnimationLoop=function(P){Ee=P,Le.setAnimationLoop(P),P===null?Nn.stop():Nn.start()},Le.addEventListener("sessionstart",Mt),Le.addEventListener("sessionend",At),this.render=function(P,Q){if(Q!==void 0&&Q.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(m===!0)return;P.autoUpdate===!0&&P.updateMatrixWorld(),Q.parent===null&&Q.updateMatrixWorld(),Le.enabled===!0&&Le.isPresenting===!0&&(Le.cameraAutoUpdate===!0&&Le.updateCamera(Q),Q=Le.getCamera()),P.isScene===!0&&P.onBeforeRender(g,P,Q,S),f=M.get(P,_.length),f.init(),_.push(f),me.multiplyMatrices(Q.projectionMatrix,Q.matrixWorldInverse),te.setFromProjectionMatrix(me),X=this.localClippingEnabled,J=T.init(this.clippingPlanes,X,Q),d=we.get(P,h.length),d.init(),h.push(d),ui(P,Q,0,g.sortObjects),d.finish(),g.sortObjects===!0&&d.sort(z,ee),J===!0&&T.beginShadows();const ae=f.state.shadowsArray;if(W.render(ae,P,Q),J===!0&&T.endShadows(),this.info.autoReset===!0&&this.info.reset(),ne.render(d,P),f.setupLights(g.physicallyCorrectLights),Q.isArrayCamera){const ie=Q.cameras;for(let pe=0,Ye=ie.length;pe<Ye;pe++){const et=ie[pe];a0(d,P,et,et.viewport)}}else a0(d,P,Q);S!==null&&(R.updateMultisampleRenderTarget(S),R.updateRenderTargetMipmap(S)),P.isScene===!0&&P.onAfterRender(g,P,Q),Re.resetDefaultState(),x=-1,v=null,_.pop(),_.length>0?f=_[_.length-1]:f=null,h.pop(),h.length>0?d=h[h.length-1]:d=null};function ui(P,Q,ae,ie){if(P.visible===!1)return;if(P.layers.test(Q.layers)){if(P.isGroup)ae=P.renderOrder;else if(P.isLOD)P.autoUpdate===!0&&P.update(Q);else if(P.isLight)f.pushLight(P),P.castShadow&&f.pushShadow(P);else if(P.isSprite){if(!P.frustumCulled||te.intersectsSprite(P)){ie&&L.setFromMatrixPosition(P.matrixWorld).applyMatrix4(me);const et=_e.update(P),lt=P.material;lt.visible&&d.push(P,et,lt,ae,L.z,null)}}else if((P.isMesh||P.isLine||P.isPoints)&&(P.isSkinnedMesh&&P.skeleton.frame!==Me.render.frame&&(P.skeleton.update(),P.skeleton.frame=Me.render.frame),!P.frustumCulled||te.intersectsObject(P))){ie&&L.setFromMatrixPosition(P.matrixWorld).applyMatrix4(me);const et=_e.update(P),lt=P.material;if(Array.isArray(lt)){const ot=et.groups;for(let Ct=0,_t=ot.length;Ct<_t;Ct++){const bt=ot[Ct],en=lt[bt.materialIndex];en&&en.visible&&d.push(P,et,en,ae,L.z,bt)}}else lt.visible&&d.push(P,et,lt,ae,L.z,null)}}const Ye=P.children;for(let et=0,lt=Ye.length;et<lt;et++)ui(Ye[et],Q,ae,ie)}function a0(P,Q,ae,ie){const pe=P.opaque,Ye=P.transmissive,et=P.transparent;f.setupLightsView(ae),Ye.length>0&&EP(pe,Q,ae),ie&&ue.viewport(E.copy(ie)),pe.length>0&&Nd(pe,Q,ae),Ye.length>0&&Nd(Ye,Q,ae),et.length>0&&Nd(et,Q,ae),ue.buffers.depth.setTest(!0),ue.buffers.depth.setMask(!0),ue.buffers.color.setMask(!0),ue.setPolygonOffset(!1)}function EP(P,Q,ae){const ie=ge.isWebGL2;oe===null&&(oe=new ca(1,1,{generateMipmaps:!0,type:re.has("EXT_color_buffer_half_float")?Wu:aa,minFilter:cc,samples:ie&&r===!0?4:0})),g.getDrawingBufferSize(k),ie?oe.setSize(k.x,k.y):oe.setSize(Lh(k.x),Lh(k.y));const pe=g.getRenderTarget();g.setRenderTarget(oe),g.clear();const Ye=g.toneMapping;g.toneMapping=ar,Nd(P,Q,ae),g.toneMapping=Ye,R.updateMultisampleRenderTarget(oe),R.updateRenderTargetMipmap(oe),g.setRenderTarget(pe)}function Nd(P,Q,ae){const ie=Q.isScene===!0?Q.overrideMaterial:null;for(let pe=0,Ye=P.length;pe<Ye;pe++){const et=P[pe],lt=et.object,ot=et.geometry,Ct=ie===null?et.material:ie,_t=et.group;lt.layers.test(ae.layers)&&TP(lt,Q,ae,ot,Ct,_t)}}function TP(P,Q,ae,ie,pe,Ye){P.onBeforeRender(g,Q,ae,ie,pe,Ye),P.modelViewMatrix.multiplyMatrices(ae.matrixWorldInverse,P.matrixWorld),P.normalMatrix.getNormalMatrix(P.modelViewMatrix),pe.onBeforeRender(g,Q,ae,ie,P,Ye),pe.transparent===!0&&pe.side===oa?(pe.side=ei,pe.needsUpdate=!0,g.renderBufferDirect(ae,Q,ie,pe,P,Ye),pe.side=$l,pe.needsUpdate=!0,g.renderBufferDirect(ae,Q,ie,pe,P,Ye),pe.side=oa):g.renderBufferDirect(ae,Q,ie,pe,P,Ye),P.onAfterRender(g,Q,ae,ie,pe,Ye)}function wm(P,Q,ae){Q.isScene!==!0&&(Q=q);const ie=Se.get(P),pe=f.state.lights,Ye=f.state.shadowsArray,et=pe.state.version,lt=$.getParameters(P,pe.state,Ye,Q,ae),ot=$.getProgramCacheKey(lt);let Ct=ie.programs;ie.environment=P.isMeshStandardMaterial?Q.environment:null,ie.fog=Q.fog,ie.envMap=(P.isMeshStandardMaterial?K:D).get(P.envMap||ie.environment),Ct===void 0&&(P.addEventListener("dispose",$e),Ct=new Map,ie.programs=Ct);let _t=Ct.get(ot);if(_t!==void 0){if(ie.currentProgram===_t&&ie.lightsStateVersion===et)return l0(P,lt),_t}else lt.uniforms=$.getUniforms(P),P.onBuild(ae,lt,g),P.onBeforeCompile(lt,g),_t=$.acquireProgram(lt,ot),Ct.set(ot,_t),ie.uniforms=lt.uniforms;const bt=ie.uniforms;(!P.isShaderMaterial&&!P.isRawShaderMaterial||P.clipping===!0)&&(bt.clippingPlanes=T.uniform),l0(P,lt),ie.needsLights=CP(P),ie.lightsStateVersion=et,ie.needsLights&&(bt.ambientLightColor.value=pe.state.ambient,bt.lightProbe.value=pe.state.probe,bt.directionalLights.value=pe.state.directional,bt.directionalLightShadows.value=pe.state.directionalShadow,bt.spotLights.value=pe.state.spot,bt.spotLightShadows.value=pe.state.spotShadow,bt.rectAreaLights.value=pe.state.rectArea,bt.ltc_1.value=pe.state.rectAreaLTC1,bt.ltc_2.value=pe.state.rectAreaLTC2,bt.pointLights.value=pe.state.point,bt.pointLightShadows.value=pe.state.pointShadow,bt.hemisphereLights.value=pe.state.hemi,bt.directionalShadowMap.value=pe.state.directionalShadowMap,bt.directionalShadowMatrix.value=pe.state.directionalShadowMatrix,bt.spotShadowMap.value=pe.state.spotShadowMap,bt.spotShadowMatrix.value=pe.state.spotShadowMatrix,bt.pointShadowMap.value=pe.state.pointShadowMap,bt.pointShadowMatrix.value=pe.state.pointShadowMatrix);const en=_t.getUniforms(),po=Qf.seqWithValue(en.seq,bt);return ie.currentProgram=_t,ie.uniformsList=po,_t}function l0(P,Q){const ae=Se.get(P);ae.outputEncoding=Q.outputEncoding,ae.instancing=Q.instancing,ae.skinning=Q.skinning,ae.morphTargets=Q.morphTargets,ae.morphNormals=Q.morphNormals,ae.morphColors=Q.morphColors,ae.morphTargetsCount=Q.morphTargetsCount,ae.numClippingPlanes=Q.numClippingPlanes,ae.numIntersection=Q.numClipIntersection,ae.vertexAlphas=Q.vertexAlphas,ae.vertexTangents=Q.vertexTangents,ae.toneMapping=Q.toneMapping}function MP(P,Q,ae,ie,pe){Q.isScene!==!0&&(Q=q),R.resetTextureUnits();const Ye=Q.fog,et=ie.isMeshStandardMaterial?Q.environment:null,lt=S===null?g.outputEncoding:S.isXRRenderTarget===!0?S.texture.encoding:la,ot=(ie.isMeshStandardMaterial?K:D).get(ie.envMap||et),Ct=ie.vertexColors===!0&&!!ae.attributes.color&&ae.attributes.color.itemSize===4,_t=!!ie.normalMap&&!!ae.attributes.tangent,bt=!!ae.morphAttributes.position,en=!!ae.morphAttributes.normal,po=!!ae.morphAttributes.color,Ta=ie.toneMapped?g.toneMapping:ar,Ma=ae.morphAttributes.position||ae.morphAttributes.normal||ae.morphAttributes.color,di=Ma!==void 0?Ma.length:0,Tt=Se.get(ie),Aa=f.state.lights;if(J===!0&&(X===!0||P!==v)){const hi=P===v&&ie.id===x;T.setState(ie,P,hi)}let cn=!1;ie.version===Tt.__version?(Tt.needsLights&&Tt.lightsStateVersion!==Aa.state.version||Tt.outputEncoding!==lt||pe.isInstancedMesh&&Tt.instancing===!1||!pe.isInstancedMesh&&Tt.instancing===!0||pe.isSkinnedMesh&&Tt.skinning===!1||!pe.isSkinnedMesh&&Tt.skinning===!0||Tt.envMap!==ot||ie.fog===!0&&Tt.fog!==Ye||Tt.numClippingPlanes!==void 0&&(Tt.numClippingPlanes!==T.numPlanes||Tt.numIntersection!==T.numIntersection)||Tt.vertexAlphas!==Ct||Tt.vertexTangents!==_t||Tt.morphTargets!==bt||Tt.morphNormals!==en||Tt.morphColors!==po||Tt.toneMapping!==Ta||ge.isWebGL2===!0&&Tt.morphTargetsCount!==di)&&(cn=!0):(cn=!0,Tt.__version=ie.version);let fi=Tt.currentProgram;cn===!0&&(fi=wm(ie,Q,pe));let vr=!1,Ec=!1,xm=!1;const Fn=fi.getUniforms(),Tc=Tt.uniforms;if(ue.useProgram(fi.program)&&(vr=!0,Ec=!0,xm=!0),ie.id!==x&&(x=ie.id,Ec=!0),vr||v!==P){if(Fn.setValue(I,"projectionMatrix",P.projectionMatrix),ge.logarithmicDepthBuffer&&Fn.setValue(I,"logDepthBufFC",2/(Math.log(P.far+1)/Math.LN2)),v!==P&&(v=P,Ec=!0,xm=!0),ie.isShaderMaterial||ie.isMeshPhongMaterial||ie.isMeshToonMaterial||ie.isMeshStandardMaterial||ie.envMap){const hi=Fn.map.cameraPosition;hi!==void 0&&hi.setValue(I,L.setFromMatrixPosition(P.matrixWorld))}(ie.isMeshPhongMaterial||ie.isMeshToonMaterial||ie.isMeshLambertMaterial||ie.isMeshBasicMaterial||ie.isMeshStandardMaterial||ie.isShaderMaterial)&&Fn.setValue(I,"isOrthographic",P.isOrthographicCamera===!0),(ie.isMeshPhongMaterial||ie.isMeshToonMaterial||ie.isMeshLambertMaterial||ie.isMeshBasicMaterial||ie.isMeshStandardMaterial||ie.isShaderMaterial||ie.isShadowMaterial||pe.isSkinnedMesh)&&Fn.setValue(I,"viewMatrix",P.matrixWorldInverse)}if(pe.isSkinnedMesh){Fn.setOptional(I,pe,"bindMatrix"),Fn.setOptional(I,pe,"bindMatrixInverse");const hi=pe.skeleton;hi&&(ge.floatVertexTextures?(hi.boneTexture===null&&hi.computeBoneTexture(),Fn.setValue(I,"boneTexture",hi.boneTexture,R),Fn.setValue(I,"boneTextureSize",hi.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Sm=ae.morphAttributes;return(Sm.position!==void 0||Sm.normal!==void 0||Sm.color!==void 0&&ge.isWebGL2===!0)&&ce.update(pe,ae,ie,fi),(Ec||Tt.receiveShadow!==pe.receiveShadow)&&(Tt.receiveShadow=pe.receiveShadow,Fn.setValue(I,"receiveShadow",pe.receiveShadow)),Ec&&(Fn.setValue(I,"toneMappingExposure",g.toneMappingExposure),Tt.needsLights&&AP(Tc,xm),Ye&&ie.fog===!0&&be.refreshFogUniforms(Tc,Ye),be.refreshMaterialUniforms(Tc,ie,O,N,oe),Qf.upload(I,Tt.uniformsList,Tc,R)),ie.isShaderMaterial&&ie.uniformsNeedUpdate===!0&&(Qf.upload(I,Tt.uniformsList,Tc,R),ie.uniformsNeedUpdate=!1),ie.isSpriteMaterial&&Fn.setValue(I,"center",pe.center),Fn.setValue(I,"modelViewMatrix",pe.modelViewMatrix),Fn.setValue(I,"normalMatrix",pe.normalMatrix),Fn.setValue(I,"modelMatrix",pe.matrixWorld),fi}function AP(P,Q){P.ambientLightColor.needsUpdate=Q,P.lightProbe.needsUpdate=Q,P.directionalLights.needsUpdate=Q,P.directionalLightShadows.needsUpdate=Q,P.pointLights.needsUpdate=Q,P.pointLightShadows.needsUpdate=Q,P.spotLights.needsUpdate=Q,P.spotLightShadows.needsUpdate=Q,P.rectAreaLights.needsUpdate=Q,P.hemisphereLights.needsUpdate=Q}function CP(P){return P.isMeshLambertMaterial||P.isMeshToonMaterial||P.isMeshPhongMaterial||P.isMeshStandardMaterial||P.isShadowMaterial||P.isShaderMaterial&&P.lights===!0}this.getActiveCubeFace=function(){return y},this.getActiveMipmapLevel=function(){return b},this.getRenderTarget=function(){return S},this.setRenderTargetTextures=function(P,Q,ae){Se.get(P.texture).__webglTexture=Q,Se.get(P.depthTexture).__webglTexture=ae;const ie=Se.get(P);ie.__hasExternalTextures=!0,ie.__hasExternalTextures&&(ie.__autoAllocateDepthBuffer=ae===void 0,ie.__autoAllocateDepthBuffer||re.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ie.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(P,Q){const ae=Se.get(P);ae.__webglFramebuffer=Q,ae.__useDefaultFramebuffer=Q===void 0},this.setRenderTarget=function(P,Q=0,ae=0){S=P,y=Q,b=ae;let ie=!0;if(P){const ot=Se.get(P);ot.__useDefaultFramebuffer!==void 0?(ue.bindFramebuffer(36160,null),ie=!1):ot.__webglFramebuffer===void 0?R.setupRenderTarget(P):ot.__hasExternalTextures&&R.rebindTextures(P,Se.get(P.texture).__webglTexture,Se.get(P.depthTexture).__webglTexture)}let pe=null,Ye=!1,et=!1;if(P){const ot=P.texture;(ot.isData3DTexture||ot.isDataArrayTexture)&&(et=!0);const Ct=Se.get(P).__webglFramebuffer;P.isWebGLCubeRenderTarget?(pe=Ct[Q],Ye=!0):ge.isWebGL2&&P.samples>0&&R.useMultisampledRTT(P)===!1?pe=Se.get(P).__webglMultisampledFramebuffer:pe=Ct,E.copy(P.viewport),A.copy(P.scissor),w=P.scissorTest}else E.copy(B).multiplyScalar(O).floor(),A.copy(V).multiplyScalar(O).floor(),w=H;if(ue.bindFramebuffer(36160,pe)&&ge.drawBuffers&&ie&&ue.drawBuffers(P,pe),ue.viewport(E),ue.scissor(A),ue.setScissorTest(w),Ye){const ot=Se.get(P.texture);I.framebufferTexture2D(36160,36064,34069+Q,ot.__webglTexture,ae)}else if(et){const ot=Se.get(P.texture),Ct=Q||0;I.framebufferTextureLayer(36160,36064,ot.__webglTexture,ae||0,Ct)}x=-1},this.readRenderTargetPixels=function(P,Q,ae,ie,pe,Ye,et){if(!(P&&P.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let lt=Se.get(P).__webglFramebuffer;if(P.isWebGLCubeRenderTarget&&et!==void 0&&(lt=lt[et]),lt){ue.bindFramebuffer(36160,lt);try{const ot=P.texture,Ct=ot.format,_t=ot.type;if(Ct!==Ks&&Z.convert(Ct)!==I.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const bt=_t===Wu&&(re.has("EXT_color_buffer_half_float")||ge.isWebGL2&&re.has("EXT_color_buffer_float"));if(_t!==aa&&Z.convert(_t)!==I.getParameter(35738)&&!(_t===Hr&&(ge.isWebGL2||re.has("OES_texture_float")||re.has("WEBGL_color_buffer_float")))&&!bt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Q>=0&&Q<=P.width-ie&&ae>=0&&ae<=P.height-pe&&I.readPixels(Q,ae,ie,pe,Z.convert(Ct),Z.convert(_t),Ye)}finally{const ot=S!==null?Se.get(S).__webglFramebuffer:null;ue.bindFramebuffer(36160,ot)}}},this.copyFramebufferToTexture=function(P,Q,ae=0){const ie=Math.pow(2,-ae),pe=Math.floor(Q.image.width*ie),Ye=Math.floor(Q.image.height*ie);R.setTexture2D(Q,0),I.copyTexSubImage2D(3553,ae,0,0,P.x,P.y,pe,Ye),ue.unbindTexture()},this.copyTextureToTexture=function(P,Q,ae,ie=0){const pe=Q.image.width,Ye=Q.image.height,et=Z.convert(ae.format),lt=Z.convert(ae.type);R.setTexture2D(ae,0),I.pixelStorei(37440,ae.flipY),I.pixelStorei(37441,ae.premultiplyAlpha),I.pixelStorei(3317,ae.unpackAlignment),Q.isDataTexture?I.texSubImage2D(3553,ie,P.x,P.y,pe,Ye,et,lt,Q.image.data):Q.isCompressedTexture?I.compressedTexSubImage2D(3553,ie,P.x,P.y,Q.mipmaps[0].width,Q.mipmaps[0].height,et,Q.mipmaps[0].data):I.texSubImage2D(3553,ie,P.x,P.y,et,lt,Q.image),ie===0&&ae.generateMipmaps&&I.generateMipmap(3553),ue.unbindTexture()},this.copyTextureToTexture3D=function(P,Q,ae,ie,pe=0){if(g.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Ye=P.max.x-P.min.x+1,et=P.max.y-P.min.y+1,lt=P.max.z-P.min.z+1,ot=Z.convert(ie.format),Ct=Z.convert(ie.type);let _t;if(ie.isData3DTexture)R.setTexture3D(ie,0),_t=32879;else if(ie.isDataArrayTexture)R.setTexture2DArray(ie,0),_t=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}I.pixelStorei(37440,ie.flipY),I.pixelStorei(37441,ie.premultiplyAlpha),I.pixelStorei(3317,ie.unpackAlignment);const bt=I.getParameter(3314),en=I.getParameter(32878),po=I.getParameter(3316),Ta=I.getParameter(3315),Ma=I.getParameter(32877),di=ae.isCompressedTexture?ae.mipmaps[0]:ae.image;I.pixelStorei(3314,di.width),I.pixelStorei(32878,di.height),I.pixelStorei(3316,P.min.x),I.pixelStorei(3315,P.min.y),I.pixelStorei(32877,P.min.z),ae.isDataTexture||ae.isData3DTexture?I.texSubImage3D(_t,pe,Q.x,Q.y,Q.z,Ye,et,lt,ot,Ct,di.data):ae.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),I.compressedTexSubImage3D(_t,pe,Q.x,Q.y,Q.z,Ye,et,lt,ot,di.data)):I.texSubImage3D(_t,pe,Q.x,Q.y,Q.z,Ye,et,lt,ot,Ct,di),I.pixelStorei(3314,bt),I.pixelStorei(32878,en),I.pixelStorei(3316,po),I.pixelStorei(3315,Ta),I.pixelStorei(32877,Ma),pe===0&&ie.generateMipmaps&&I.generateMipmap(_t),ue.unbindTexture()},this.initTexture=function(P){P.isCubeTexture?R.setTextureCube(P,0):P.isData3DTexture?R.setTexture3D(P,0):P.isDataArrayTexture?R.setTexture2DArray(P,0):R.setTexture2D(P,0),ue.unbindTexture()},this.resetState=function(){y=0,b=0,S=null,ue.reset(),Re.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class P7 extends F2{}P7.prototype.isWebGL1Renderer=!0;class k7 extends ln{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),n}}class O7{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=K_,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ti()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,s){e*=this.stride,s*=n.stride;for(let i=0,r=this.stride;i<r;i++)this.array[e+i]=n.array[s+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ti()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),s=new this.constructor(n,this.stride);return s.setUsage(this.usage),s}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ti()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const $n=new G;class tv{constructor(e,n,s,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=s,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,s=this.data.count;n<s;n++)$n.fromBufferAttribute(this,n),$n.applyMatrix4(e),this.setXYZ(n,$n.x,$n.y,$n.z);return this}applyNormalMatrix(e){for(let n=0,s=this.count;n<s;n++)$n.fromBufferAttribute(this,n),$n.applyNormalMatrix(e),this.setXYZ(n,$n.x,$n.y,$n.z);return this}transformDirection(e){for(let n=0,s=this.count;n<s;n++)$n.fromBufferAttribute(this,n),$n.transformDirection(e),this.setXYZ(n,$n.x,$n.y,$n.z);return this}setX(e,n){return this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,n,s){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=s,this}setXYZ(e,n,s,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=s,this.data.array[e+2]=i,this}setXYZW(e,n,s,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=s,this.data.array[e+2]=i,this.data.array[e+3]=r,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");const n=[];for(let s=0;s<this.count;s++){const i=s*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)n.push(this.data.array[i+r])}return new us(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new tv(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");const n=[];for(let s=0;s<this.count;s++){const i=s*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)n.push(this.data.array[i+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}const y1=new G,b1=new Lt,v1=new Lt,L7=new G,w1=new xt;class I7 extends Xs{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new xt,this.bindMatrixInverse=new xt}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Lt,n=this.geometry.attributes.skinWeight;for(let s=0,i=n.count;s<i;s++){e.fromBufferAttribute(n,s);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),n.setXYZW(s,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,n){const s=this.skeleton,i=this.geometry;b1.fromBufferAttribute(i.attributes.skinIndex,e),v1.fromBufferAttribute(i.attributes.skinWeight,e),y1.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let r=0;r<4;r++){const o=v1.getComponent(r);if(o!==0){const a=b1.getComponent(r);w1.multiplyMatrices(s.bones[a].matrixWorld,s.boneInverses[a]),n.addScaledVector(L7.copy(y1).applyMatrix4(w1),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class $2 extends ln{constructor(){super(),this.isBone=!0,this.type="Bone"}}class D7 extends Wn{constructor(e=null,n=1,s=1,i,r,o,a,l,c=xn,u=xn,d,f){super(null,o,a,l,c,u,i,r,d,f),this.isDataTexture=!0,this.image={data:e,width:n,height:s},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const x1=new xt,N7=new xt;class nv{constructor(e=[],n=[]){this.uuid=ti(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let s=0,i=this.bones.length;s<i;s++)this.boneInverses.push(new xt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const s=new xt;this.bones[e]&&s.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(s)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const s=this.bones[e];s&&s.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const s=this.bones[e];s&&(s.parent&&s.parent.isBone?(s.matrix.copy(s.parent.matrixWorld).invert(),s.matrix.multiply(s.matrixWorld)):s.matrix.copy(s.matrixWorld),s.matrix.decompose(s.position,s.quaternion,s.scale))}}update(){const e=this.bones,n=this.boneInverses,s=this.boneMatrices,i=this.boneTexture;for(let r=0,o=e.length;r<o;r++){const a=e[r]?e[r].matrixWorld:N7;x1.multiplyMatrices(a,n[r]),x1.toArray(s,r*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new nv(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=v2(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const s=new D7(n,e,e,Ks,Hr);return s.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=s,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,s=this.bones.length;n<s;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let s=0,i=e.bones.length;s<i;s++){const r=e.bones[s];let o=n[r];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),o=new $2),this.bones.push(o),this.boneInverses.push(new xt().fromArray(e.boneInverses[s]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,s=this.boneInverses;for(let i=0,r=n.length;i<r;i++){const o=n[i];e.bones.push(o.uuid);const a=s[i];e.boneInverses.push(a.toArray())}return e}}class U2 extends wi{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ke(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const S1=new G,E1=new G,T1=new xt,Ig=new Xb,mf=new fc;class sv extends ln{constructor(e=new ki,n=new U2){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,s=[0];for(let i=1,r=n.count;i<r;i++)S1.fromBufferAttribute(n,i-1),E1.fromBufferAttribute(n,i),s[i]=s[i-1],s[i]+=S1.distanceTo(E1);e.setAttribute("lineDistance",new lr(s,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const s=this.geometry,i=this.matrixWorld,r=e.params.Line.threshold,o=s.drawRange;if(s.boundingSphere===null&&s.computeBoundingSphere(),mf.copy(s.boundingSphere),mf.applyMatrix4(i),mf.radius+=r,e.ray.intersectsSphere(mf)===!1)return;T1.copy(i).invert(),Ig.copy(e.ray).applyMatrix4(T1);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new G,u=new G,d=new G,f=new G,h=this.isLineSegments?2:1,_=s.index,m=s.attributes.position;if(_!==null){const y=Math.max(0,o.start),b=Math.min(_.count,o.start+o.count);for(let S=y,x=b-1;S<x;S+=h){const v=_.getX(S),E=_.getX(S+1);if(c.fromBufferAttribute(m,v),u.fromBufferAttribute(m,E),Ig.distanceSqToSegment(c,u,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const w=e.ray.origin.distanceTo(f);w<e.near||w>e.far||n.push({distance:w,point:d.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else{const y=Math.max(0,o.start),b=Math.min(m.count,o.start+o.count);for(let S=y,x=b-1;S<x;S+=h){if(c.fromBufferAttribute(m,S),u.fromBufferAttribute(m,S+1),Ig.distanceSqToSegment(c,u,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(f);E<e.near||E>e.far||n.push({distance:E,point:d.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,s=Object.keys(n);if(s.length>0){const i=n[s[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=i.length;r<o;r++){const a=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}const M1=new G,A1=new G;class F7 extends sv{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,s=[];for(let i=0,r=n.count;i<r;i+=2)M1.fromBufferAttribute(n,i),A1.fromBufferAttribute(n,i+1),s[i]=i===0?0:s[i-1],s[i+1]=s[i]+M1.distanceTo(A1);e.setAttribute("lineDistance",new lr(s,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class $7 extends sv{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class B2 extends wi{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ke(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const C1=new xt,Q_=new Xb,gf=new fc,_f=new G;class U7 extends ln{constructor(e=new ki,n=new B2){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}raycast(e,n){const s=this.geometry,i=this.matrixWorld,r=e.params.Points.threshold,o=s.drawRange;if(s.boundingSphere===null&&s.computeBoundingSphere(),gf.copy(s.boundingSphere),gf.applyMatrix4(i),gf.radius+=r,e.ray.intersectsSphere(gf)===!1)return;C1.copy(i).invert(),Q_.copy(e.ray).applyMatrix4(C1);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=s.index,d=s.attributes.position;if(c!==null){const f=Math.max(0,o.start),h=Math.min(c.count,o.start+o.count);for(let _=f,g=h;_<g;_++){const m=c.getX(_);_f.fromBufferAttribute(d,m),R1(_f,m,l,i,e,n,this)}}else{const f=Math.max(0,o.start),h=Math.min(d.count,o.start+o.count);for(let _=f,g=h;_<g;_++)_f.fromBufferAttribute(d,_),R1(_f,_,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,s=Object.keys(n);if(s.length>0){const i=n[s[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=i.length;r<o;r++){const a=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}function R1(t,e,n,s,i,r,o){const a=Q_.distanceSqToPoint(t);if(a<n){const l=new G;Q_.closestPointToPoint(t,l),l.applyMatrix4(s);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;r.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class Wp extends wi{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ke(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=qb,this.normalScale=new mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ba extends Wp{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new mt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Vn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ke(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new Ke(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ke(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}const qt={arraySlice:function(t,e,n){return qt.isTypedArray(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){function e(i,r){return t[i]-t[r]}const n=t.length,s=new Array(n);for(let i=0;i!==n;++i)s[i]=i;return s.sort(e),s},sortedArray:function(t,e,n){const s=t.length,i=new t.constructor(s);for(let r=0,o=0;o!==s;++r){const a=n[r]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i},flattenJSON:function(t,e,n,s){let i=1,r=t[0];for(;r!==void 0&&r[s]===void 0;)r=t[i++];if(r===void 0)return;let o=r[s];if(o!==void 0)if(Array.isArray(o))do o=r[s],o!==void 0&&(e.push(r.time),n.push.apply(n,o)),r=t[i++];while(r!==void 0);else if(o.toArray!==void 0)do o=r[s],o!==void 0&&(e.push(r.time),o.toArray(n,n.length)),r=t[i++];while(r!==void 0);else do o=r[s],o!==void 0&&(e.push(r.time),n.push(o)),r=t[i++];while(r!==void 0)},subclip:function(t,e,n,s,i=30){const r=t.clone();r.name=e;const o=[];for(let l=0;l<r.tracks.length;++l){const c=r.tracks[l],u=c.getValueSize(),d=[],f=[];for(let h=0;h<c.times.length;++h){const _=c.times[h]*i;if(!(_<n||_>=s)){d.push(c.times[h]);for(let g=0;g<u;++g)f.push(c.values[h*u+g])}}d.length!==0&&(c.times=qt.convertArray(d,c.times.constructor),c.values=qt.convertArray(f,c.values.constructor),o.push(c))}r.tracks=o;let a=1/0;for(let l=0;l<r.tracks.length;++l)a>r.tracks[l].times[0]&&(a=r.tracks[l].times[0]);for(let l=0;l<r.tracks.length;++l)r.tracks[l].shift(-1*a);return r.resetDuration(),r},makeClipAdditive:function(t,e=0,n=t,s=30){s<=0&&(s=30);const i=n.tracks.length,r=e/s;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(y){return y.name===a.name&&y.ValueTypeName===l});if(c===void 0)continue;let u=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let f=0;const h=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=h/3);const _=a.times.length-1;let g;if(r<=a.times[0]){const y=u,b=d-u;g=qt.arraySlice(a.values,y,b)}else if(r>=a.times[_]){const y=_*d+u,b=y+d-u;g=qt.arraySlice(a.values,y,b)}else{const y=a.createInterpolant(),b=u,S=d-u;y.evaluate(r),g=qt.arraySlice(y.resultBuffer,b,S)}l==="quaternion"&&new Ci().fromArray(g).normalize().conjugate().toArray(g);const m=c.times.length;for(let y=0;y<m;++y){const b=y*h+f;if(l==="quaternion")Ci.multiplyQuaternionsFlat(c.values,b,g,0,c.values,b);else{const S=h-f*2;for(let x=0;x<S;++x)c.values[b+x]-=g[x]}}}return t.blendMode=pH,t}};class wd{constructor(e,n,s,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(s),this.sampleValues=n,this.valueSize=s,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let s=this._cachedIndex,i=n[s],r=n[s-1];e:{t:{let o;n:{s:if(!(e<i)){for(let a=s+2;;){if(i===void 0){if(e<r)break s;return s=n.length,this._cachedIndex=s,this.copySampleValue_(s-1)}if(s===a)break;if(r=i,i=n[++s],e<i)break t}o=n.length;break n}if(!(e>=r)){const a=n[1];e<a&&(s=2,r=a);for(let l=s-2;;){if(r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(s===l)break;if(i=r,r=n[--s-1],e>=r)break t}o=s,s=0;break n}break e}for(;s<o;){const a=s+o>>>1;e<n[a]?o=a:s=a+1}if(i=n[s],r=n[s-1],r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return s=n.length,this._cachedIndex=s,this.copySampleValue_(s-1)}this._cachedIndex=s,this.intervalChanged_(s,r,i)}return this.interpolate_(s,r,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,s=this.sampleValues,i=this.valueSize,r=e*i;for(let o=0;o!==i;++o)n[o]=s[r+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class B7 extends wd{constructor(e,n,s,i){super(e,n,s,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Ix,endingEnd:Ix}}intervalChanged_(e,n,s){const i=this.parameterPositions;let r=e-2,o=e+1,a=i[r],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Dx:r=e,a=2*n-s;break;case Nx:r=i.length-2,a=n+i[r]-i[r+1];break;default:r=e,a=s}if(l===void 0)switch(this.getSettings_().endingEnd){case Dx:o=e,l=2*s-n;break;case Nx:o=1,l=s+i[1]-i[0];break;default:o=e-1,l=n}const c=(s-n)*.5,u=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-s),this._offsetPrev=r*u,this._offsetNext=o*u}interpolate_(e,n,s,i){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,f=this._weightPrev,h=this._weightNext,_=(s-n)/(i-n),g=_*_,m=g*_,y=-f*m+2*f*g-f*_,b=(1+f)*m+(-1.5-2*f)*g+(-.5+f)*_+1,S=(-1-h)*m+(1.5+h)*g+.5*_,x=h*m-h*g;for(let v=0;v!==a;++v)r[v]=y*o[u+v]+b*o[c+v]+S*o[l+v]+x*o[d+v];return r}}class z7 extends wd{constructor(e,n,s,i){super(e,n,s,i)}interpolate_(e,n,s,i){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(s-n)/(i-n),d=1-u;for(let f=0;f!==a;++f)r[f]=o[c+f]*d+o[l+f]*u;return r}}class G7 extends wd{constructor(e,n,s,i){super(e,n,s,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Oi{constructor(e,n,s,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=qt.convertArray(n,this.TimeBufferType),this.values=qt.convertArray(s,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let s;if(n.toJSON!==this.toJSON)s=n.toJSON(e);else{s={name:e.name,times:qt.convertArray(e.times,Array),values:qt.convertArray(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(s.interpolation=i)}return s.type=e.ValueTypeName,s}InterpolantFactoryMethodDiscrete(e){return new G7(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new z7(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new B7(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case ju:n=this.InterpolantFactoryMethodDiscrete;break;case Vl:n=this.InterpolantFactoryMethodLinear;break;case og:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const s="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(s);return console.warn("THREE.KeyframeTrack:",s),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ju;case this.InterpolantFactoryMethodLinear:return Vl;case this.InterpolantFactoryMethodSmooth:return og}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let s=0,i=n.length;s!==i;++s)n[s]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let s=0,i=n.length;s!==i;++s)n[s]*=e}return this}trim(e,n){const s=this.times,i=s.length;let r=0,o=i-1;for(;r!==i&&s[r]<e;)++r;for(;o!==-1&&s[o]>n;)--o;if(++o,r!==0||o!==i){r>=o&&(o=Math.max(o,1),r=o-1);const a=this.getValueSize();this.times=qt.arraySlice(s,r,o),this.values=qt.arraySlice(this.values,r*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const s=this.times,i=this.values,r=s.length;r===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==r;a++){const l=s[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&qt.isTypedArray(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=qt.arraySlice(this.times),n=qt.arraySlice(this.values),s=this.getValueSize(),i=this.getInterpolation()===og,r=e.length-1;let o=1;for(let a=1;a<r;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const d=a*s,f=d-s,h=d+s;for(let _=0;_!==s;++_){const g=n[d+_];if(g!==n[f+_]||g!==n[h+_]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*s,f=o*s;for(let h=0;h!==s;++h)n[f+h]=n[d+h]}++o}}if(r>0){e[o]=e[r];for(let a=r*s,l=o*s,c=0;c!==s;++c)n[l+c]=n[a+c];++o}return o!==e.length?(this.times=qt.arraySlice(e,0,o),this.values=qt.arraySlice(n,0,o*s)):(this.times=e,this.values=n),this}clone(){const e=qt.arraySlice(this.times,0),n=qt.arraySlice(this.values,0),s=this.constructor,i=new s(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}Oi.prototype.TimeBufferType=Float32Array;Oi.prototype.ValueBufferType=Float32Array;Oi.prototype.DefaultInterpolation=Vl;class mc extends Oi{}mc.prototype.ValueTypeName="bool";mc.prototype.ValueBufferType=Array;mc.prototype.DefaultInterpolation=ju;mc.prototype.InterpolantFactoryMethodLinear=void 0;mc.prototype.InterpolantFactoryMethodSmooth=void 0;class z2 extends Oi{}z2.prototype.ValueTypeName="color";class Ku extends Oi{}Ku.prototype.ValueTypeName="number";class V7 extends wd{constructor(e,n,s,i){super(e,n,s,i)}interpolate_(e,n,s,i){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(s-n)/(i-n);let c=e*a;for(let u=c+a;c!==u;c+=4)Ci.slerpFlat(r,0,o,c-a,o,c,l);return r}}class da extends Oi{InterpolantFactoryMethodLinear(e){return new V7(this.times,this.values,this.getValueSize(),e)}}da.prototype.ValueTypeName="quaternion";da.prototype.DefaultInterpolation=Vl;da.prototype.InterpolantFactoryMethodSmooth=void 0;class gc extends Oi{}gc.prototype.ValueTypeName="string";gc.prototype.ValueBufferType=Array;gc.prototype.DefaultInterpolation=ju;gc.prototype.InterpolantFactoryMethodLinear=void 0;gc.prototype.InterpolantFactoryMethodSmooth=void 0;class Xu extends Oi{}Xu.prototype.ValueTypeName="vector";class H7{constructor(e,n=-1,s,i=hH){this.name=e,this.tracks=s,this.duration=n,this.blendMode=i,this.uuid=ti(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],s=e.tracks,i=1/(e.fps||1);for(let o=0,a=s.length;o!==a;++o)n.push(j7(s[o]).scale(i));const r=new this(e.name,e.duration,n,e.blendMode);return r.uuid=e.uuid,r}static toJSON(e){const n=[],s=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let r=0,o=s.length;r!==o;++r)n.push(Oi.toJSON(s[r]));return i}static CreateFromMorphTargetSequence(e,n,s,i){const r=n.length,o=[];for(let a=0;a<r;a++){let l=[],c=[];l.push((a+r-1)%r,a,(a+1)%r),c.push(0,1,0);const u=qt.getKeyframeOrder(l);l=qt.sortedArray(l,1,u),c=qt.sortedArray(c,1,u),!i&&l[0]===0&&(l.push(r),c.push(c[0])),o.push(new Ku(".morphTargetInfluences["+n[a].name+"]",l,c).scale(1/s))}return new this(e,-1,o)}static findByName(e,n){let s=e;if(!Array.isArray(e)){const i=e;s=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<s.length;i++)if(s[i].name===n)return s[i];return null}static CreateClipsFromMorphTargetSequences(e,n,s){const i={},r=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(r);if(u&&u.length>1){const d=u[1];let f=i[d];f||(i[d]=f=[]),f.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,s));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const s=function(d,f,h,_,g){if(h.length!==0){const m=[],y=[];qt.flattenJSON(h,m,y,_),m.length!==0&&g.push(new d(f,m,y))}},i=[],r=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const f=c[d].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const h={};let _;for(_=0;_<f.length;_++)if(f[_].morphTargets)for(let g=0;g<f[_].morphTargets.length;g++)h[f[_].morphTargets[g]]=-1;for(const g in h){const m=[],y=[];for(let b=0;b!==f[_].morphTargets.length;++b){const S=f[_];m.push(S.time),y.push(S.morphTarget===g?1:0)}i.push(new Ku(".morphTargetInfluence["+g+"]",m,y))}l=h.length*o}else{const h=".bones["+n[d].name+"]";s(Xu,h+".position",f,"pos",i),s(da,h+".quaternion",f,"rot",i),s(Xu,h+".scale",f,"scl",i)}}return i.length===0?null:new this(r,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let s=0,i=e.length;s!==i;++s){const r=this.tracks[s];n=Math.max(n,r.times[r.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function W7(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ku;case"vector":case"vector2":case"vector3":case"vector4":return Xu;case"color":return z2;case"quaternion":return da;case"bool":case"boolean":return mc;case"string":return gc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function j7(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=W7(t.type);if(t.times===void 0){const n=[],s=[];qt.flattenJSON(t.keys,n,s,"value"),t.times=n,t.values=s}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Wl={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class Y7{constructor(e,n,s){const i=this;let r=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=s,this.itemStart=function(u){a++,r===!1&&i.onStart!==void 0&&i.onStart(u,o,a),r=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(r=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,f=c.length;d<f;d+=2){const h=c[d],_=c[d+1];if(h.global&&(h.lastIndex=0),h.test(u))return _}return null}}}const q7=new Y7;class xd{constructor(e){this.manager=e!==void 0?e:q7,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const s=this;return new Promise(function(i,r){s.load(e,i,n,r)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Bi={};class G2 extends xd{constructor(e){super(e)}load(e,n,s,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=Wl.get(e);if(r!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(r),this.manager.itemEnd(e)},0),r;if(Bi[e]!==void 0){Bi[e].push({onLoad:n,onProgress:s,onError:i});return}Bi[e]=[],Bi[e].push({onLoad:n,onProgress:s,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream=="undefined"||c.body===void 0||c.body.getReader===void 0)return c;const u=Bi[e],d=c.body.getReader(),f=c.headers.get("Content-Length"),h=f?parseInt(f):0,_=h!==0;let g=0;const m=new ReadableStream({start(y){b();function b(){d.read().then(({done:S,value:x})=>{if(S)y.close();else{g+=x.byteLength;const v=new ProgressEvent("progress",{lengthComputable:_,loaded:g,total:h});for(let E=0,A=u.length;E<A;E++){const w=u[E];w.onProgress&&w.onProgress(v)}y.enqueue(x),b()}})}}});return new Response(m)}else throw Error(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),f=d&&d[1]?d[1].toLowerCase():void 0,h=new TextDecoder(f);return c.arrayBuffer().then(_=>h.decode(_))}}}).then(c=>{Wl.add(e,c);const u=Bi[e];delete Bi[e];for(let d=0,f=u.length;d<f;d++){const h=u[d];h.onLoad&&h.onLoad(c)}}).catch(c=>{const u=Bi[e];if(u===void 0)throw this.manager.itemError(e),c;delete Bi[e];for(let d=0,f=u.length;d<f;d++){const h=u[d];h.onError&&h.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class K7 extends xd{constructor(e){super(e)}load(e,n,s,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=Wl.get(e);if(o!==void 0)return r.manager.itemStart(e),setTimeout(function(){n&&n(o),r.manager.itemEnd(e)},0),o;const a=qu("img");function l(){u(),Wl.add(e,this),n&&n(this),r.manager.itemEnd(e)}function c(d){u(),i&&i(d),r.manager.itemError(e),r.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),r.manager.itemStart(e),a.src=e,a}}class X7 extends xd{constructor(e){super(e)}load(e,n,s,i){const r=new Wn,o=new K7(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){r.image=a,r.needsUpdate=!0,n!==void 0&&n(r)},s,i),r}}class jp extends ln{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Ke(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class Z7 extends jp{constructor(e,n,s){super(e,s),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(ln.DefaultUp),this.updateMatrix(),this.groundColor=new Ke(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const P1=new xt,k1=new G,O1=new G;class iv{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new mt(512,512),this.map=null,this.mapPass=null,this.matrix=new xt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Zb,this._frameExtents=new mt(1,1),this._viewportCount=1,this._viewports=[new Lt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,s=this.matrix;k1.setFromMatrixPosition(e.matrixWorld),n.position.copy(k1),O1.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(O1),n.updateMatrixWorld(),P1.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(P1),s.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),s.multiply(n.projectionMatrix),s.multiply(n.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class J7 extends iv{constructor(){super(new Hn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,s=Yu*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,r=e.distance||n.far;(s!==n.fov||i!==n.aspect||r!==n.far)&&(n.fov=s,n.aspect=i,n.far=r,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Q7 extends jp{constructor(e,n,s=0,i=Math.PI/3,r=0,o=1){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(ln.DefaultUp),this.updateMatrix(),this.target=new ln,this.distance=s,this.angle=i,this.penumbra=r,this.decay=o,this.shadow=new J7}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const L1=new xt,Uc=new G,Dg=new G;class eY extends iv{constructor(){super(new Hn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new mt(4,2),this._viewportCount=6,this._viewports=[new Lt(2,1,1,1),new Lt(0,1,1,1),new Lt(3,1,1,1),new Lt(1,1,1,1),new Lt(3,0,1,1),new Lt(1,0,1,1)],this._cubeDirections=[new G(1,0,0),new G(-1,0,0),new G(0,0,1),new G(0,0,-1),new G(0,1,0),new G(0,-1,0)],this._cubeUps=[new G(0,1,0),new G(0,1,0),new G(0,1,0),new G(0,1,0),new G(0,0,1),new G(0,0,-1)]}updateMatrices(e,n=0){const s=this.camera,i=this.matrix,r=e.distance||s.far;r!==s.far&&(s.far=r,s.updateProjectionMatrix()),Uc.setFromMatrixPosition(e.matrixWorld),s.position.copy(Uc),Dg.copy(s.position),Dg.add(this._cubeDirections[n]),s.up.copy(this._cubeUps[n]),s.lookAt(Dg),s.updateMatrixWorld(),i.makeTranslation(-Uc.x,-Uc.y,-Uc.z),L1.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),this._frustum.setFromProjectionMatrix(L1)}}class tY extends jp{constructor(e,n,s=0,i=1){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=s,this.decay=i,this.shadow=new eY}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class nY extends iv{constructor(){super(new Qb(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class V2 extends jp{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(ln.DefaultUp),this.updateMatrix(),this.target=new ln,this.shadow=new nY}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class ea{static decodeText(e){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(e);let n="";for(let s=0,i=e.length;s<i;s++)n+=String.fromCharCode(e[s]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class sY extends xd{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,s,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=Wl.get(e);if(o!==void 0)return r.manager.itemStart(e),setTimeout(function(){n&&n(o),r.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(l){Wl.add(e,l),n&&n(l),r.manager.itemEnd(e)}).catch(function(l){i&&i(l),r.manager.itemError(e),r.manager.itemEnd(e)}),r.manager.itemStart(e)}}const rv="\\[\\]\\.:\\/",iY=new RegExp("["+rv+"]","g"),ov="[^"+rv+"]",rY="[^"+rv.replace("\\.","")+"]",oY=/((?:WC+[\/:])*)/.source.replace("WC",ov),aY=/(WCOD+)?/.source.replace("WCOD",rY),lY=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",ov),cY=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",ov),uY=new RegExp("^"+oY+aY+lY+cY+"$"),dY=["material","materials","bones"];class fY{constructor(e,n,s){const i=s||Pt.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const s=this._targetGroup.nCachedObjects_,i=this._bindings[s];i!==void 0&&i.getValue(e,n)}setValue(e,n){const s=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=s.length;i!==r;++i)s[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,s=e.length;n!==s;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,s=e.length;n!==s;++n)e[n].unbind()}}class Pt{constructor(e,n,s){this.path=n,this.parsedPath=s||Pt.parseTrackName(n),this.node=Pt.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,s){return e&&e.isAnimationObjectGroup?new Pt.Composite(e,n,s):new Pt(e,n,s)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(iY,"")}static parseTrackName(e){const n=uY.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const s={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=s.nodeName&&s.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const r=s.nodeName.substring(i+1);dY.indexOf(r)!==-1&&(s.nodeName=s.nodeName.substring(0,i),s.objectName=r)}if(s.propertyName===null||s.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return s}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const s=e.skeleton.getBoneByName(n);if(s!==void 0)return s}if(e.children){const s=function(r){for(let o=0;o<r.length;o++){const a=r[o];if(a.name===n||a.uuid===n)return a;const l=s(a.children);if(l)return l}return null},i=s(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const s=this.resolvedProperty;for(let i=0,r=s.length;i!==r;++i)e[n++]=s[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const s=this.resolvedProperty;for(let i=0,r=s.length;i!==r;++i)s[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const s=this.resolvedProperty;for(let i=0,r=s.length;i!==r;++i)s[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const s=this.resolvedProperty;for(let i=0,r=s.length;i!==r;++i)s[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,s=n.objectName,i=n.propertyName;let r=n.propertyIndex;if(e||(e=Pt.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(s){let c=n.objectIndex;switch(s){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;default:if(e[s]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[s]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(r!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[r]!==void 0&&(r=e.morphTargetDictionary[r])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=r}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Pt.Composite=fY;Pt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Pt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Pt.prototype.GetterByBindingType=[Pt.prototype._getValue_direct,Pt.prototype._getValue_array,Pt.prototype._getValue_arrayElement,Pt.prototype._getValue_toArray];Pt.prototype.SetterByBindingTypeAndVersioning=[[Pt.prototype._setValue_direct,Pt.prototype._setValue_direct_setNeedsUpdate,Pt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Pt.prototype._setValue_array,Pt.prototype._setValue_array_setNeedsUpdate,Pt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Pt.prototype._setValue_arrayElement,Pt.prototype._setValue_arrayElement_setNeedsUpdate,Pt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Pt.prototype._setValue_fromArray,Pt.prototype._setValue_fromArray_setNeedsUpdate,Pt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Yb}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Yb);class hY extends xd{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new yY(n)}),this.register(function(n){return new TY(n)}),this.register(function(n){return new MY(n)}),this.register(function(n){return new vY(n)}),this.register(function(n){return new wY(n)}),this.register(function(n){return new xY(n)}),this.register(function(n){return new SY(n)}),this.register(function(n){return new _Y(n)}),this.register(function(n){return new EY(n)}),this.register(function(n){return new bY(n)}),this.register(function(n){return new mY(n)}),this.register(function(n){return new AY(n)})}load(e,n,s,i){const r=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=ea.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),r.manager.itemError(e),r.manager.itemEnd(e)},l=new G2(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{r.parse(c,o,function(u){n(u),r.manager.itemEnd(e)},a)}catch(u){a(u)}},s,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,s,i){let r;const o={},a={};if(typeof e=="string")r=e;else if(ea.decodeText(new Uint8Array(e,0,4))===H2){try{o[dt.KHR_BINARY_GLTF]=new CY(e)}catch(d){i&&i(d);return}r=o[dt.KHR_BINARY_GLTF].content}else r=ea.decodeText(new Uint8Array(e));const l=JSON.parse(r);if(l.asset===void 0||l.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new zY(l,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const d=this.pluginCallbacks[u](c);a[d.name]=d,o[d.name]=!0}if(l.extensionsUsed)for(let u=0;u<l.extensionsUsed.length;++u){const d=l.extensionsUsed[u],f=l.extensionsRequired||[];switch(d){case dt.KHR_MATERIALS_UNLIT:o[d]=new gY;break;case dt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[d]=new kY;break;case dt.KHR_DRACO_MESH_COMPRESSION:o[d]=new RY(l,this.dracoLoader);break;case dt.KHR_TEXTURE_TRANSFORM:o[d]=new PY;break;case dt.KHR_MESH_QUANTIZATION:o[d]=new OY;break;default:f.indexOf(d)>=0&&a[d]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}c.setExtensions(o),c.setPlugins(a),c.parse(s,i)}parseAsync(e,n){const s=this;return new Promise(function(i,r){s.parse(e,n,i,r)})}}function pY(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const dt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class mY{constructor(e){this.parser=e,this.name=dt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let s=0,i=n.length;s<i;s++){const r=n[s];r.extensions&&r.extensions[this.name]&&r.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(e){const n=this.parser,s="light:"+e;let i=n.cache.get(s);if(i)return i;const r=n.json,l=((r.extensions&&r.extensions[this.name]||{}).lights||[])[e];let c;const u=new Ke(16777215);l.color!==void 0&&u.fromArray(l.color);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new V2(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new tY(u),c.distance=d;break;case"spot":c=new Q7(u),c.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,l.intensity!==void 0&&(c.intensity=l.intensity),c.name=n.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),n.cache.add(s,i),i}createNodeAttachment(e){const n=this,s=this.parser,r=s.json.nodes[e],a=(r.extensions&&r.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return s._getNodeRef(n.cache,a,l)})}}class gY{constructor(){this.name=dt.KHR_MATERIALS_UNLIT}getMaterialType(){return Wr}extendParams(e,n,s){const i=[];e.color=new Ke(1,1,1),e.opacity=1;const r=n.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){const o=r.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}r.baseColorTexture!==void 0&&i.push(s.assignTexture(e,"map",r.baseColorTexture,Rt))}return Promise.all(i)}}class _Y{constructor(e){this.parser=e,this.name=dt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=i.extensions[this.name].emissiveStrength;return r!==void 0&&(n.emissiveIntensity=r),Promise.resolve()}}class yY{constructor(e){this.parser=e,this.name=dt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:ba}extendMaterialParams(e,n){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(n.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&r.push(s.assignTexture(n,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&r.push(s.assignTexture(n,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(r.push(s.assignTexture(n,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new mt(a,a)}return Promise.all(r)}}class bY{constructor(e){this.parser=e,this.name=dt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:ba}extendMaterialParams(e,n){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(n.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&r.push(s.assignTexture(n,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(n.iridescenceIOR=o.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&r.push(s.assignTexture(n,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(r)}}class vY{constructor(e){this.parser=e,this.name=dt.KHR_MATERIALS_SHEEN}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:ba}extendMaterialParams(e,n){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[];n.sheenColor=new Ke(0,0,0),n.sheenRoughness=0,n.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&n.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&r.push(s.assignTexture(n,"sheenColorMap",o.sheenColorTexture,Rt)),o.sheenRoughnessTexture!==void 0&&r.push(s.assignTexture(n,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(r)}}class wY{constructor(e){this.parser=e,this.name=dt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:ba}extendMaterialParams(e,n){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(n.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&r.push(s.assignTexture(n,"transmissionMap",o.transmissionTexture)),Promise.all(r)}}class xY{constructor(e){this.parser=e,this.name=dt.KHR_MATERIALS_VOLUME}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:ba}extendMaterialParams(e,n){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];n.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&r.push(s.assignTexture(n,"thicknessMap",o.thicknessTexture)),n.attenuationDistance=o.attenuationDistance||0;const a=o.attenuationColor||[1,1,1];return n.attenuationColor=new Ke(a[0],a[1],a[2]),Promise.all(r)}}class SY{constructor(e){this.parser=e,this.name=dt.KHR_MATERIALS_IOR}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:ba}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=i.extensions[this.name];return n.ior=r.ior!==void 0?r.ior:1.5,Promise.resolve()}}class EY{constructor(e){this.parser=e,this.name=dt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:ba}extendMaterialParams(e,n){const s=this.parser,i=s.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],o=i.extensions[this.name];n.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&r.push(s.assignTexture(n,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return n.specularColor=new Ke(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&r.push(s.assignTexture(n,"specularColorMap",o.specularColorTexture,Rt)),Promise.all(r)}}class TY{constructor(e){this.parser=e,this.name=dt.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,s=n.json,i=s.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const r=i.extensions[this.name],o=n.options.ktx2Loader;if(!o){if(s.extensionsRequired&&s.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,r.source,o)}}class MY{constructor(e){this.parser=e,this.name=dt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,s=this.parser,i=s.json,r=i.textures[e];if(!r.extensions||!r.extensions[n])return null;const o=r.extensions[n],a=i.images[o.source];let l=s.textureLoader;if(a.uri){const c=s.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return s.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return s.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class AY{constructor(e){this.name=dt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,s=n.bufferViews[e];if(s.extensions&&s.extensions[this.name]){const i=s.extensions[this.name],r=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([r,o.ready]).then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,u=i.count,d=i.byteStride,f=new ArrayBuffer(u*d),h=new Uint8Array(a[0],l,c);return o.decodeGltfBuffer(new Uint8Array(f),u,d,h,i.mode,i.filter),f})}else return null}}const H2="glTF",Bc=12,I1={JSON:1313821514,BIN:5130562};class CY{constructor(e){this.name=dt.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,Bc);if(this.header={magic:ea.decodeText(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==H2)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const s=this.header.length-Bc,i=new DataView(e,Bc);let r=0;for(;r<s;){const o=i.getUint32(r,!0);r+=4;const a=i.getUint32(r,!0);if(r+=4,a===I1.JSON){const l=new Uint8Array(e,Bc+r,o);this.content=ea.decodeText(l)}else if(a===I1.BIN){const l=Bc+r;this.body=e.slice(l,l+o)}r+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class RY{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=dt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const s=this.json,i=this.dracoLoader,r=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const d=ty[u]||u.toLowerCase();a[d]=o[u]}for(const u in e.attributes){const d=ty[u]||u.toLowerCase();if(o[u]!==void 0){const f=s.accessors[e.attributes[u]],h=Zu[f.componentType];c[d]=h,l[d]=f.normalized===!0}}return n.getDependency("bufferView",r).then(function(u){return new Promise(function(d){i.decodeDracoFile(u,function(f){for(const h in f.attributes){const _=f.attributes[h],g=l[h];g!==void 0&&(_.normalized=g)}d(f)},a,c)})})}}class PY{constructor(){this.name=dt.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return n.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class ey extends Wp{constructor(e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const n=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),s=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),i=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),r=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),a={specular:{value:new Ke().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(l){for(const c in a)l.uniforms[c]=a[c];l.fragmentShader=l.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",n).replace("#include <metalnessmap_pars_fragment>",s).replace("#include <roughnessmap_fragment>",i).replace("#include <metalnessmap_fragment>",r).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(l){a.specular.value=l}},specularMap:{get:function(){return a.specularMap.value},set:function(l){a.specularMap.value=l,l?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(l){a.glossiness.value=l}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(l){a.glossinessMap.value=l,l?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class kY{constructor(){this.name=dt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity"]}getMaterialType(){return ey}extendParams(e,n,s){const i=n.extensions[this.name];e.color=new Ke(1,1,1),e.opacity=1;const r=[];if(Array.isArray(i.diffuseFactor)){const o=i.diffuseFactor;e.color.fromArray(o),e.opacity=o[3]}if(i.diffuseTexture!==void 0&&r.push(s.assignTexture(e,"map",i.diffuseTexture,Rt)),e.emissive=new Ke(0,0,0),e.glossiness=i.glossinessFactor!==void 0?i.glossinessFactor:1,e.specular=new Ke(1,1,1),Array.isArray(i.specularFactor)&&e.specular.fromArray(i.specularFactor),i.specularGlossinessTexture!==void 0){const o=i.specularGlossinessTexture;r.push(s.assignTexture(e,"glossinessMap",o)),r.push(s.assignTexture(e,"specularMap",o,Rt))}return Promise.all(r)}createMaterial(e){const n=new ey(e);return n.fog=!0,n.color=e.color,n.map=e.map===void 0?null:e.map,n.lightMap=null,n.lightMapIntensity=1,n.aoMap=e.aoMap===void 0?null:e.aoMap,n.aoMapIntensity=1,n.emissive=e.emissive,n.emissiveIntensity=e.emissiveIntensity===void 0?1:e.emissiveIntensity,n.emissiveMap=e.emissiveMap===void 0?null:e.emissiveMap,n.bumpMap=e.bumpMap===void 0?null:e.bumpMap,n.bumpScale=1,n.normalMap=e.normalMap===void 0?null:e.normalMap,n.normalMapType=qb,e.normalScale&&(n.normalScale=e.normalScale),n.displacementMap=null,n.displacementScale=1,n.displacementBias=0,n.specularMap=e.specularMap===void 0?null:e.specularMap,n.specular=e.specular,n.glossinessMap=e.glossinessMap===void 0?null:e.glossinessMap,n.glossiness=e.glossiness,n.alphaMap=null,n.envMap=e.envMap===void 0?null:e.envMap,n.envMapIntensity=1,n}}class OY{constructor(){this.name=dt.KHR_MESH_QUANTIZATION}}class W2 extends wd{constructor(e,n,s,i){super(e,n,s,i)}copySampleValue_(e){const n=this.resultBuffer,s=this.sampleValues,i=this.valueSize,r=e*i*3+i;for(let o=0;o!==i;o++)n[o]=s[r+o];return n}interpolate_(e,n,s,i){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=i-n,d=(s-n)/u,f=d*d,h=f*d,_=e*c,g=_-c,m=-2*h+3*f,y=h-f,b=1-m,S=y-f+d;for(let x=0;x!==a;x++){const v=o[g+x+a],E=o[g+x+l]*u,A=o[_+x+a],w=o[_+x]*u;r[x]=b*v+S*E+m*A+y*w}return r}}const LY=new Ci;class IY extends W2{interpolate_(e,n,s,i){const r=super.interpolate_(e,n,s,i);return LY.fromArray(r).normalize().toArray(r),r}}const zi={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Zu={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},D1={9728:xn,9729:ts,9984:Y_,9985:_2,9986:q_,9987:cc},N1={33071:xs,33648:Oh,10497:zl},F1={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ty={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Or={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},DY={CUBICSPLINE:void 0,LINEAR:Vl,STEP:ju},Ng={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function NY(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new Wp({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:$l})),t.DefaultMaterial}function zc(t,e,n){for(const s in n.extensions)t[s]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[s]=n.extensions[s])}function Co(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function FY(t,e,n){let s=!1,i=!1,r=!1;for(let c=0,u=e.length;c<u;c++){const d=e[c];if(d.POSITION!==void 0&&(s=!0),d.NORMAL!==void 0&&(i=!0),d.COLOR_0!==void 0&&(r=!0),s&&i&&r)break}if(!s&&!i&&!r)return Promise.resolve(t);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const d=e[c];if(s){const f=d.POSITION!==void 0?n.getDependency("accessor",d.POSITION):t.attributes.position;o.push(f)}if(i){const f=d.NORMAL!==void 0?n.getDependency("accessor",d.NORMAL):t.attributes.normal;a.push(f)}if(r){const f=d.COLOR_0!==void 0?n.getDependency("accessor",d.COLOR_0):t.attributes.color;l.push(f)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],f=c[2];return s&&(t.morphAttributes.position=u),i&&(t.morphAttributes.normal=d),r&&(t.morphAttributes.color=f),t.morphTargetsRelative=!0,t})}function $Y(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,s=e.weights.length;n<s;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let s=0,i=n.length;s<i;s++)t.morphTargetDictionary[n[s]]=s}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function UY(t){const e=t.extensions&&t.extensions[dt.KHR_DRACO_MESH_COMPRESSION];let n;return e?n="draco:"+e.bufferView+":"+e.indices+":"+$1(e.attributes):n=t.indices+":"+$1(t.attributes)+":"+t.mode,n}function $1(t){let e="";const n=Object.keys(t).sort();for(let s=0,i=n.length;s<i;s++)e+=n[s]+":"+t[n[s]]+";";return e}function ny(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function BY(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}class zY{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new pY,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const s=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,r=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1;typeof createImageBitmap=="undefined"||s||i&&r<98?this.textureLoader=new X7(this.options.manager):this.textureLoader=new sY(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new G2(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const s=this,i=this.json,r=this.extensions;this.cache.removeAll(),this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([s.getDependencies("scene"),s.getDependencies("animation"),s.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:s,userData:{}};zc(r,a,i),Co(a,i),Promise.all(s._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],s=this.json.meshes||[];for(let i=0,r=n.length;i<r;i++){const o=n[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,r=e.length;i<r;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(s[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,s){if(e.refs[n]<=1)return s;const i=s.clone(),r=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())r(u,a.children[c])};return r(s,i),i.name+="_instance_"+e.uses[n]++,i}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let s=0;s<n.length;s++){const i=e(n[s]);if(i)return i}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const s=[];for(let i=0;i<n.length;i++){const r=e(n[i]);r&&s.push(r)}return s}getDependency(e,n){const s=e+":"+n;let i=this.cache.get(s);if(!i){switch(e){case"scene":i=this.loadScene(n);break;case"node":i=this.loadNode(n);break;case"mesh":i=this._invokeOne(function(r){return r.loadMesh&&r.loadMesh(n)});break;case"accessor":i=this.loadAccessor(n);break;case"bufferView":i=this._invokeOne(function(r){return r.loadBufferView&&r.loadBufferView(n)});break;case"buffer":i=this.loadBuffer(n);break;case"material":i=this._invokeOne(function(r){return r.loadMaterial&&r.loadMaterial(n)});break;case"texture":i=this._invokeOne(function(r){return r.loadTexture&&r.loadTexture(n)});break;case"skin":i=this.loadSkin(n);break;case"animation":i=this._invokeOne(function(r){return r.loadAnimation&&r.loadAnimation(n)});break;case"camera":i=this.loadCamera(n);break;default:throw new Error("Unknown type: "+e)}this.cache.add(s,i)}return i}getDependencies(e){let n=this.cache.get(e);if(!n){const s=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(i.map(function(r,o){return s.getDependency(e,o)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],s=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[dt.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(r,o){s.load(ea.resolveURL(n.uri,i.path),r,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(s){const i=n.byteLength||0,r=n.byteOffset||0;return s.slice(r,r+i)})}loadAccessor(e){const n=this,s=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0)return Promise.resolve(null);const r=[];return i.bufferView!==void 0?r.push(this.getDependency("bufferView",i.bufferView)):r.push(null),i.sparse!==void 0&&(r.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(r).then(function(o){const a=o[0],l=F1[i.type],c=Zu[i.componentType],u=c.BYTES_PER_ELEMENT,d=u*l,f=i.byteOffset||0,h=i.bufferView!==void 0?s.bufferViews[i.bufferView].byteStride:void 0,_=i.normalized===!0;let g,m;if(h&&h!==d){const y=Math.floor(f/h),b="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+y+":"+i.count;let S=n.cache.get(b);S||(g=new c(a,y*h,i.count*h/u),S=new O7(g,h/u),n.cache.add(b,S)),m=new tv(S,l,f%h/u,_)}else a===null?g=new c(i.count*l):g=new c(a,f,i.count*l),m=new us(g,l,_);if(i.sparse!==void 0){const y=F1.SCALAR,b=Zu[i.sparse.indices.componentType],S=i.sparse.indices.byteOffset||0,x=i.sparse.values.byteOffset||0,v=new b(o[1],S,i.sparse.count*y),E=new c(o[2],x,i.sparse.count*l);a!==null&&(m=new us(m.array.slice(),m.itemSize,m.normalized));for(let A=0,w=v.length;A<w;A++){const C=v[A];if(m.setX(C,E[A*l]),l>=2&&m.setY(C,E[A*l+1]),l>=3&&m.setZ(C,E[A*l+2]),l>=4&&m.setW(C,E[A*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return m})}loadTexture(e){const n=this.json,s=this.options,r=n.textures[e].source,o=n.images[r];let a=this.textureLoader;if(o.uri){const l=s.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,r,a)}loadTextureImage(e,n,s){const i=this,r=this.json,o=r.textures[e],a=r.images[n],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(n,s).then(function(u){u.flipY=!1,o.name&&(u.name=o.name);const f=(r.samplers||{})[o.sampler]||{};return u.magFilter=D1[f.magFilter]||ts,u.minFilter=D1[f.minFilter]||cc,u.wrapS=N1[f.wrapS]||zl,u.wrapT=N1[f.wrapT]||zl,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,n){const s=this,i=this.json,r=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=s.getDependency("bufferView",o.bufferView).then(function(d){c=!0;const f=new Blob([d],{type:o.mimeType});return l=a.createObjectURL(f),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(d){return new Promise(function(f,h){let _=f;n.isImageBitmapLoader===!0&&(_=function(g){const m=new Wn(g);m.needsUpdate=!0,f(m)}),n.load(ea.resolveURL(d,r.path),_,void 0,h)})}).then(function(d){return c===!0&&a.revokeObjectURL(l),d.userData.mimeType=o.mimeType||BY(o.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=u,u}assignTexture(e,n,s,i){const r=this;return this.getDependency("texture",s.index).then(function(o){if(s.texCoord!==void 0&&s.texCoord!=0&&!(n==="aoMap"&&s.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+s.texCoord+" for texture "+n+" not yet supported."),r.extensions[dt.KHR_TEXTURE_TRANSFORM]){const a=s.extensions!==void 0?s.extensions[dt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=r.associations.get(o);o=r.extensions[dt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),r.associations.set(o,l)}}return i!==void 0&&(o.encoding=i),e[n]=o,o})}assignFinalMaterial(e){const n=e.geometry;let s=e.material;const i=n.attributes.tangent===void 0,r=n.attributes.color!==void 0,o=n.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+s.uuid;let l=this.cache.get(a);l||(l=new B2,wi.prototype.copy.call(l,s),l.color.copy(s.color),l.map=s.map,l.sizeAttenuation=!1,this.cache.add(a,l)),s=l}else if(e.isLine){const a="LineBasicMaterial:"+s.uuid;let l=this.cache.get(a);l||(l=new U2,wi.prototype.copy.call(l,s),l.color.copy(s.color),this.cache.add(a,l)),s=l}if(i||r||o){let a="ClonedMaterial:"+s.uuid+":";s.isGLTFSpecularGlossinessMaterial&&(a+="specular-glossiness:"),i&&(a+="derivative-tangents:"),r&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=s.clone(),r&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(s))),s=l}s.aoMap&&n.attributes.uv2===void 0&&n.attributes.uv!==void 0&&n.setAttribute("uv2",n.attributes.uv),e.material=s}getMaterialType(){return Wp}loadMaterial(e){const n=this,s=this.json,i=this.extensions,r=s.materials[e];let o;const a={},l=r.extensions||{},c=[];if(l[dt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const d=i[dt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];o=d.getMaterialType(),c.push(d.extendParams(a,r,n))}else if(l[dt.KHR_MATERIALS_UNLIT]){const d=i[dt.KHR_MATERIALS_UNLIT];o=d.getMaterialType(),c.push(d.extendParams(a,r,n))}else{const d=r.pbrMetallicRoughness||{};if(a.color=new Ke(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const f=d.baseColorFactor;a.color.fromArray(f),a.opacity=f[3]}d.baseColorTexture!==void 0&&c.push(n.assignTexture(a,"map",d.baseColorTexture,Rt)),a.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,a.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(c.push(n.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),c.push(n.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),o=this._invokeOne(function(f){return f.getMaterialType&&f.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(f){return f.extendMaterialParams&&f.extendMaterialParams(e,a)})))}r.doubleSided===!0&&(a.side=oa);const u=r.alphaMode||Ng.OPAQUE;if(u===Ng.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===Ng.MASK&&(a.alphaTest=r.alphaCutoff!==void 0?r.alphaCutoff:.5)),r.normalTexture!==void 0&&o!==Wr&&(c.push(n.assignTexture(a,"normalMap",r.normalTexture)),a.normalScale=new mt(1,1),r.normalTexture.scale!==void 0)){const d=r.normalTexture.scale;a.normalScale.set(d,d)}return r.occlusionTexture!==void 0&&o!==Wr&&(c.push(n.assignTexture(a,"aoMap",r.occlusionTexture)),r.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=r.occlusionTexture.strength)),r.emissiveFactor!==void 0&&o!==Wr&&(a.emissive=new Ke().fromArray(r.emissiveFactor)),r.emissiveTexture!==void 0&&o!==Wr&&c.push(n.assignTexture(a,"emissiveMap",r.emissiveTexture,Rt)),Promise.all(c).then(function(){let d;return o===ey?d=i[dt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):d=new o(a),r.name&&(d.name=r.name),Co(d,r),n.associations.set(d,{materials:e}),r.extensions&&zc(i,d,r),d})}createUniqueName(e){const n=Pt.sanitizeNodeName(e||"");let s=n;for(let i=1;this.nodeNamesUsed[s];++i)s=n+"_"+i;return this.nodeNamesUsed[s]=!0,s}loadGeometries(e){const n=this,s=this.extensions,i=this.primitiveCache;function r(a){return s[dt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,n).then(function(l){return U1(l,a,n)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=UY(c),d=i[u];if(d)o.push(d.promise);else{let f;c.extensions&&c.extensions[dt.KHR_DRACO_MESH_COMPRESSION]?f=r(c):f=U1(new ki,c,n),i[u]={primitive:c,promise:f},o.push(f)}}return Promise.all(o)}loadMesh(e){const n=this,s=this.json,i=this.extensions,r=s.meshes[e],o=r.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?NY(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(n.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],d=[];for(let h=0,_=u.length;h<_;h++){const g=u[h],m=o[h];let y;const b=c[h];if(m.mode===zi.TRIANGLES||m.mode===zi.TRIANGLE_STRIP||m.mode===zi.TRIANGLE_FAN||m.mode===void 0)y=r.isSkinnedMesh===!0?new I7(g,b):new Xs(g,b),y.isSkinnedMesh===!0&&!y.geometry.attributes.skinWeight.normalized&&y.normalizeSkinWeights(),m.mode===zi.TRIANGLE_STRIP?y.geometry=B1(y.geometry,mH):m.mode===zi.TRIANGLE_FAN&&(y.geometry=B1(y.geometry,b2));else if(m.mode===zi.LINES)y=new F7(g,b);else if(m.mode===zi.LINE_STRIP)y=new sv(g,b);else if(m.mode===zi.LINE_LOOP)y=new $7(g,b);else if(m.mode===zi.POINTS)y=new U7(g,b);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+m.mode);Object.keys(y.geometry.morphAttributes).length>0&&$Y(y,r),y.name=n.createUniqueName(r.name||"mesh_"+e),Co(y,r),m.extensions&&zc(i,y,m),n.assignFinalMaterial(y),d.push(y)}for(let h=0,_=d.length;h<_;h++)n.associations.set(d[h],{meshes:e,primitives:h});if(d.length===1)return d[0];const f=new Vo;n.associations.set(f,{meshes:e});for(let h=0,_=d.length;h<_;h++)f.add(d[h]);return f})}loadCamera(e){let n;const s=this.json.cameras[e],i=s[s.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return s.type==="perspective"?n=new Hn(DH.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):s.type==="orthographic"&&(n=new Qb(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),s.name&&(n.name=this.createUniqueName(s.name)),Co(n,s),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],s={joints:n.joints};return n.inverseBindMatrices===void 0?Promise.resolve(s):this.getDependency("accessor",n.inverseBindMatrices).then(function(i){return s.inverseBindMatrices=i,s})}loadAnimation(e){const s=this.json.animations[e],i=[],r=[],o=[],a=[],l=[];for(let c=0,u=s.channels.length;c<u;c++){const d=s.channels[c],f=s.samplers[d.sampler],h=d.target,_=h.node!==void 0?h.node:h.id,g=s.parameters!==void 0?s.parameters[f.input]:f.input,m=s.parameters!==void 0?s.parameters[f.output]:f.output;i.push(this.getDependency("node",_)),r.push(this.getDependency("accessor",g)),o.push(this.getDependency("accessor",m)),a.push(f),l.push(h)}return Promise.all([Promise.all(i),Promise.all(r),Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],f=c[2],h=c[3],_=c[4],g=[];for(let y=0,b=u.length;y<b;y++){const S=u[y],x=d[y],v=f[y],E=h[y],A=_[y];if(S===void 0)continue;S.updateMatrix(),S.matrixAutoUpdate=!0;let w;switch(Or[A.path]){case Or.weights:w=Ku;break;case Or.rotation:w=da;break;case Or.position:case Or.scale:default:w=Xu;break}const C=S.name?S.name:S.uuid,N=E.interpolation!==void 0?DY[E.interpolation]:Vl,O=[];Or[A.path]===Or.weights?S.traverse(function(ee){ee.morphTargetInfluences&&O.push(ee.name?ee.name:ee.uuid)}):O.push(C);let z=v.array;if(v.normalized){const ee=ny(z.constructor),B=new Float32Array(z.length);for(let V=0,H=z.length;V<H;V++)B[V]=z[V]*ee;z=B}for(let ee=0,B=O.length;ee<B;ee++){const V=new w(O[ee]+"."+Or[A.path],x.array,z,N);E.interpolation==="CUBICSPLINE"&&(V.createInterpolant=function(te){const J=this instanceof da?IY:W2;return new J(this.times,this.values,this.getValueSize()/3,te)},V.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),g.push(V)}}const m=s.name?s.name:"animation_"+e;return new H7(m,void 0,g)})}createNodeMesh(e){const n=this.json,s=this,i=n.nodes[e];return i.mesh===void 0?null:s.getDependency("mesh",i.mesh).then(function(r){const o=s._getNodeRef(s.meshCache,i.mesh,r);return i.weights!==void 0&&o.traverse(function(a){if(!!a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const n=this.json,s=this.extensions,i=this,r=n.nodes[e],o=r.name?i.createUniqueName(r.name):"";return function(){const a=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),r.camera!==void 0&&a.push(i.getDependency("camera",r.camera).then(function(c){return i._getNodeRef(i.cameraCache,r.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),Promise.all(a)}().then(function(a){let l;if(r.isBone===!0?l=new $2:a.length>1?l=new Vo:a.length===1?l=a[0]:l=new ln,l!==a[0])for(let c=0,u=a.length;c<u;c++)l.add(a[c]);if(r.name&&(l.userData.name=r.name,l.name=o),Co(l,r),r.extensions&&zc(s,l,r),r.matrix!==void 0){const c=new xt;c.fromArray(r.matrix),l.applyMatrix4(c)}else r.translation!==void 0&&l.position.fromArray(r.translation),r.rotation!==void 0&&l.quaternion.fromArray(r.rotation),r.scale!==void 0&&l.scale.fromArray(r.scale);return i.associations.has(l)||i.associations.set(l,{}),i.associations.get(l).nodes=e,l})}loadScene(e){const n=this.json,s=this.extensions,i=this.json.scenes[e],r=this,o=new Vo;i.name&&(o.name=r.createUniqueName(i.name)),Co(o,i),i.extensions&&zc(s,o,i);const a=i.nodes||[],l=[];for(let c=0,u=a.length;c<u;c++)l.push(j2(a[c],o,n,r));return Promise.all(l).then(function(){const c=u=>{const d=new Map;for(const[f,h]of r.associations)(f instanceof wi||f instanceof Wn)&&d.set(f,h);return u.traverse(f=>{const h=r.associations.get(f);h!=null&&d.set(f,h)}),d};return r.associations=c(o),o})}}function j2(t,e,n,s){const i=n.nodes[t];return s.getDependency("node",t).then(function(r){if(i.skin===void 0)return r;let o;return s.getDependency("skin",i.skin).then(function(a){o=a;const l=[];for(let c=0,u=o.joints.length;c<u;c++)l.push(s.getDependency("node",o.joints[c]));return Promise.all(l)}).then(function(a){return r.traverse(function(l){if(!l.isMesh)return;const c=[],u=[];for(let d=0,f=a.length;d<f;d++){const h=a[d];if(h){c.push(h);const _=new xt;o.inverseBindMatrices!==void 0&&_.fromArray(o.inverseBindMatrices.array,d*16),u.push(_)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',o.joints[d])}l.bind(new nv(c,u),l.matrixWorld)}),r})}).then(function(r){e.add(r);const o=[];if(i.children){const a=i.children;for(let l=0,c=a.length;l<c;l++){const u=a[l];o.push(j2(u,r,n,s))}}return Promise.all(o)})}function GY(t,e,n){const s=e.attributes,i=new dc;if(s.POSITION!==void 0){const a=n.json.accessors[s.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new G(l[0],l[1],l[2]),new G(c[0],c[1],c[2])),a.normalized){const u=ny(Zu[a.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const r=e.targets;if(r!==void 0){const a=new G,l=new G;for(let c=0,u=r.length;c<u;c++){const d=r[c];if(d.POSITION!==void 0){const f=n.json.accessors[d.POSITION],h=f.min,_=f.max;if(h!==void 0&&_!==void 0){if(l.setX(Math.max(Math.abs(h[0]),Math.abs(_[0]))),l.setY(Math.max(Math.abs(h[1]),Math.abs(_[1]))),l.setZ(Math.max(Math.abs(h[2]),Math.abs(_[2]))),f.normalized){const g=ny(Zu[f.componentType]);l.multiplyScalar(g)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}t.boundingBox=i;const o=new fc;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,t.boundingSphere=o}function U1(t,e,n){const s=e.attributes,i=[];function r(o,a){return n.getDependency("accessor",o).then(function(l){t.setAttribute(a,l)})}for(const o in s){const a=ty[o]||o.toLowerCase();a in t.attributes||i.push(r(s[o],a))}if(e.indices!==void 0&&!t.index){const o=n.getDependency("accessor",e.indices).then(function(a){t.setIndex(a)});i.push(o)}return Co(t,e),GY(t,e,n),Promise.all(i).then(function(){return e.targets!==void 0?FY(t,e.targets,n):t})}function B1(t,e){let n=t.getIndex();if(n===null){const o=[],a=t.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);t.setIndex(o),n=t.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const s=n.count-2,i=[];if(e===b2)for(let o=1;o<=s;o++)i.push(n.getX(0)),i.push(n.getX(o)),i.push(n.getX(o+1));else for(let o=0;o<s;o++)o%2===0?(i.push(n.getX(o)),i.push(n.getX(o+1)),i.push(n.getX(o+2))):(i.push(n.getX(o+2)),i.push(n.getX(o+1)),i.push(n.getX(o)));i.length/3!==s&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const r=t.clone();return r.setIndex(i),r}const VY=Ve({name:"GyroModel",setup(){return{state:Ds(),root:nn()}},methods:{async initThree(){const t=document.getElementById("container");if(!t)return;this.camera=new Hn(45,t.clientWidth/t.clientHeight,.01,1e3),this.camera.position.z=140,this.camera.position.y=40,this.camera.lookAt(0,0,0);const e=new Z7(14544639,986637,5),n=new V2(16777215,10);n.position.set(0,1e3,0),this.scene=new k7,this.scene.add(e,n);const s=new hc,i=new Wr({color:65280,wireframe:!0}),r=new Xs(s,i);this.scene.add(r);const a=await new hY().loadAsync("gt20.glb");this.model=a.scene.children[0],this.scene.add(this.model),this.renderer=new F2({antialias:!0,alpha:!0}),this.renderer.setClearColor(0,0),this.renderer.setSize(t.clientWidth,t.clientHeight),t.replaceChildren(this.renderer.domElement),this.animate()},animate(){if(this.model){const t=new G(0,1,0),e=new G(this.state.GEstG[0],this.state.GEstG[2],-this.state.GEstG[1]);e.normalize();const n=new Ci;n.setFromUnitVectors(t,e),this.model.rotation.setFromQuaternion(n)}this.renderer.render(this.scene,this.camera),this.frameRequest=requestAnimationFrame(this.animate)}},async mounted(){await this.initThree()},beforeUnmount(){cancelAnimationFrame(this.frameRequest)}}),HY={class:"card"},WY={class:"card-header"},jY=p("p",{class:"card-header-title"},"Model",-1),YY=de(" calibrate "),qY=p("div",{class:"card-content"},[p("div",{class:"content"},[p("div",{id:"container",style:{height:"30vh",width:"100%"}}),p("small",{class:"float-right"},"Model: TKS GT20 by Tarkusx")])],-1);function KY(t,e,n,s,i,r){const o=xe("spinner-btn");return Y(),se("div",HY,[p("header",WY,[jY,j(o,{class:"card-header-button is-primary",onClick:e[0]||(e[0]=a=>t.root.cal_imu())},{default:Xe(()=>[YY]),_:1})]),qY])}var Y2=Qe(VY,[["render",KY]]);const XY=Ve({name:"home",components:{Motor:u6,Voltage:aG,Serial:DG,VTX:wV,GyroModel:Y2},setup(){return{profile:Zt()}}}),ZY={class:"columns is-multiline"},JY={class:"column is-12"},QY={class:"column is-12"},eq={class:"columns"},tq={class:"column is-6"},nq={class:"column is-6"},sq={class:"columns"},iq={class:"column is-6"};function rq(t,e,n,s,i,r){const o=xe("GyroModel"),a=xe("Motor"),l=xe("Voltage"),c=xe("Serial"),u=xe("VTX");return Y(),se(Ze,null,[p("div",ZY,[p("div",JY,[j(o)]),p("div",QY,[j(a)])]),p("div",eq,[p("div",tq,[j(l)]),p("div",nq,[j(c)])]),p("div",sq,[p("div",iq,[t.profile.serial.smart_audio!=0||t.profile.serial.hdzero!=0?(Y(),bn(u,{key:0})):je("",!0)])])],64)}var oq=Qe(XY,[["render",rq]]);/*!
 * Chart.js v3.8.0
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */const q2=function(){return typeof window=="undefined"?function(t){return t()}:window.requestAnimationFrame}();function K2(t,e,n){const s=n||(o=>Array.prototype.slice.call(o));let i=!1,r=[];return function(...o){r=s(o),i||(i=!0,q2.call(window,()=>{i=!1,t.apply(e,r)}))}}function aq(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const av=t=>t==="start"?"left":t==="end"?"right":"center",Mn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,lq=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function Gi(){}const cq=function(){let t=0;return function(){return t++}}();function Ot(t){return t===null||typeof t=="undefined"}function Gt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function vt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}const Sn=t=>(typeof t=="number"||t instanceof Number)&&isFinite(+t);function bs(t,e){return Sn(t)?t:e}function rt(t,e){return typeof t=="undefined"?e:t}const uq=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:t/e,X2=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function $t(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function kt(t,e,n,s){let i,r,o;if(Gt(t))if(r=t.length,s)for(i=r-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<r;i++)e.call(n,t[i],i);else if(vt(t))for(o=Object.keys(t),r=o.length,i=0;i<r;i++)e.call(n,t[o[i]],o[i])}function Ih(t,e){let n,s,i,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(i=t[n],r=e[n],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function Dh(t){if(Gt(t))return t.map(Dh);if(vt(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let i=0;for(;i<s;++i)e[n[i]]=Dh(t[n[i]]);return e}return t}function Z2(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function dq(t,e,n,s){if(!Z2(t))return;const i=e[t],r=n[t];vt(i)&&vt(r)?Ju(i,r,s):e[t]=Dh(r)}function Ju(t,e,n){const s=Gt(e)?e:[e],i=s.length;if(!vt(t))return t;n=n||{};const r=n.merger||dq;for(let o=0;o<i;++o){if(e=s[o],!vt(e))continue;const a=Object.keys(e);for(let l=0,c=a.length;l<c;++l)r(a[l],t,e,n)}return t}function vu(t,e){return Ju(t,e,{merger:fq})}function fq(t,e,n){if(!Z2(t))return;const s=e[t],i=n[t];vt(s)&&vt(i)?vu(s,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Dh(i))}const hq="",pq=".";function z1(t,e){const n=t.indexOf(pq,e);return n===-1?t.length:n}function ao(t,e){if(e===hq)return t;let n=0,s=z1(e,n);for(;t&&s>n;)t=t[e.slice(n,s)],n=s+1,s=z1(e,n);return t}function lv(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ps=t=>typeof t!="undefined",lo=t=>typeof t=="function",G1=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function mq(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Kt=Math.PI,Ut=2*Kt,gq=Ut+Kt,Nh=Number.POSITIVE_INFINITY,_q=Kt/180,tn=Kt/2,Gc=Kt/4,V1=Kt*2/3,Ss=Math.log10,xi=Math.sign;function H1(t){const e=Math.round(t);t=wu(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Ss(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function yq(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((i,r)=>i-r).pop(),e}function Qu(t){return!isNaN(parseFloat(t))&&isFinite(t)}function wu(t,e,n){return Math.abs(t-e)<n}function bq(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function J2(t,e,n){let s,i,r;for(s=0,i=t.length;s<i;s++)r=t[s][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function Zs(t){return t*(Kt/180)}function cv(t){return t*(180/Kt)}function W1(t){if(!Sn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Q2(t,e){const n=e.x-t.x,s=e.y-t.y,i=Math.sqrt(n*n+s*s);let r=Math.atan2(s,n);return r<-.5*Kt&&(r+=Ut),{angle:r,distance:i}}function sy(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function vq(t,e){return(t-e+gq)%Ut-Kt}function Hs(t){return(t%Ut+Ut)%Ut}function ed(t,e,n,s){const i=Hs(t),r=Hs(e),o=Hs(n),a=Hs(r-i),l=Hs(o-i),c=Hs(i-r),u=Hs(i-o);return i===r||i===o||s&&r===o||a>l&&c<u}function Pn(t,e,n){return Math.max(e,Math.min(n,t))}function wq(t){return Pn(t,-32768,32767)}function jr(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}const yf=t=>t===0||t===1,j1=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ut/n)),Y1=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ut/n)+1,xu={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*tn)+1,easeOutSine:t=>Math.sin(t*tn),easeInOutSine:t=>-.5*(Math.cos(Kt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>yf(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>yf(t)?t:j1(t,.075,.3),easeOutElastic:t=>yf(t)?t:Y1(t,.075,.3),easeInOutElastic(t){return yf(t)?t:t<.5?.5*j1(t*2,.1125,.45):.5+.5*Y1(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-xu.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?xu.easeInBounce(t*2)*.5:xu.easeOutBounce(t*2-1)*.5+.5};/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function Sd(t){return t+.5|0}const Yr=(t,e,n)=>Math.max(Math.min(t,n),e);function tu(t){return Yr(Sd(t*2.55),0,255)}function no(t){return Yr(Sd(t*255),0,255)}function Ji(t){return Yr(Sd(t/2.55)/100,0,1)}function q1(t){return Yr(Sd(t*100),0,100)}const _s={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},iy=[..."0123456789ABCDEF"],xq=t=>iy[t&15],Sq=t=>iy[(t&240)>>4]+iy[t&15],bf=t=>(t&240)>>4===(t&15),Eq=t=>bf(t.r)&&bf(t.g)&&bf(t.b)&&bf(t.a);function Tq(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&_s[t[1]]*17,g:255&_s[t[2]]*17,b:255&_s[t[3]]*17,a:e===5?_s[t[4]]*17:255}:(e===7||e===9)&&(n={r:_s[t[1]]<<4|_s[t[2]],g:_s[t[3]]<<4|_s[t[4]],b:_s[t[5]]<<4|_s[t[6]],a:e===9?_s[t[7]]<<4|_s[t[8]]:255})),n}const Mq=(t,e)=>t<255?e(t):"";function Aq(t){var e=Eq(t)?xq:Sq;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Mq(t.a,e):void 0}const Cq=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function eC(t,e,n){const s=e*Math.min(n,1-n),i=(r,o=(r+t/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function Rq(t,e,n){const s=(i,r=(i+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function Pq(t,e,n){const s=eC(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)s[i]*=1-e-n,s[i]+=e;return s}function kq(t,e,n,s,i){return t===i?(e-n)/s+(e<n?6:0):e===i?(n-t)/s+2:(t-e)/s+4}function uv(t){const n=t.r/255,s=t.g/255,i=t.b/255,r=Math.max(n,s,i),o=Math.min(n,s,i),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=kq(n,s,i,u,r),l=l*60+.5),[l|0,c||0,a]}function dv(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(no)}function fv(t,e,n){return dv(eC,t,e,n)}function Oq(t,e,n){return dv(Pq,t,e,n)}function Lq(t,e,n){return dv(Rq,t,e,n)}function tC(t){return(t%360+360)%360}function Iq(t){const e=Cq.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?tu(+e[5]):no(+e[5]));const i=tC(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=Oq(i,r,o):e[1]==="hsv"?s=Lq(i,r,o):s=fv(i,r,o),{r:s[0],g:s[1],b:s[2],a:n}}function Dq(t,e){var n=uv(t);n[0]=tC(n[0]+e),n=fv(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Nq(t){if(!t)return;const e=uv(t),n=e[0],s=q1(e[1]),i=q1(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${i}%, ${Ji(t.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const K1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},X1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Fq(){const t={},e=Object.keys(X1),n=Object.keys(K1);let s,i,r,o,a;for(s=0;s<e.length;s++){for(o=a=e[s],i=0;i<n.length;i++)r=n[i],a=a.replace(r,K1[r]);r=parseInt(X1[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let vf;function $q(t){vf||(vf=Fq(),vf.transparent=[0,0,0,0]);const e=vf[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Uq=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Bq(t){const e=Uq.exec(t);let n=255,s,i,r;if(!!e){if(e[7]!==s){const o=+e[7];n=e[8]?tu(o):Yr(o*255,0,255)}return s=+e[1],i=+e[3],r=+e[5],s=255&(e[2]?tu(s):Yr(s,0,255)),i=255&(e[4]?tu(i):Yr(i,0,255)),r=255&(e[6]?tu(r):Yr(r,0,255)),{r:s,g:i,b:r,a:n}}}function zq(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ji(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Fg=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Xa=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Gq(t,e,n){const s=Xa(Ji(t.r)),i=Xa(Ji(t.g)),r=Xa(Ji(t.b));return{r:no(Fg(s+n*(Xa(Ji(e.r))-s))),g:no(Fg(i+n*(Xa(Ji(e.g))-i))),b:no(Fg(r+n*(Xa(Ji(e.b))-r))),a:t.a+n*(e.a-t.a)}}function wf(t,e,n){if(t){let s=uv(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=fv(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function nC(t,e){return t&&Object.assign(e||{},t)}function Z1(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=no(t[3]))):(e=nC(t,{r:0,g:0,b:0,a:1}),e.a=no(e.a)),e}function Vq(t){return t.charAt(0)==="r"?Bq(t):Iq(t)}class Fh{constructor(e){if(e instanceof Fh)return e;const n=typeof e;let s;n==="object"?s=Z1(e):n==="string"&&(s=Tq(e)||$q(e)||Vq(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=nC(this._rgb);return e&&(e.a=Ji(e.a)),e}set rgb(e){this._rgb=Z1(e)}rgbString(){return this._valid?zq(this._rgb):void 0}hexString(){return this._valid?Aq(this._rgb):void 0}hslString(){return this._valid?Nq(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,i=e.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=s.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,s.r=255&c*s.r+r*i.r+.5,s.g=255&c*s.g+r*i.g+.5,s.b=255&c*s.b+r*i.b+.5,s.a=o*s.a+(1-o)*i.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=Gq(this._rgb,e._rgb,n)),this}clone(){return new Fh(this.rgb)}alpha(e){return this._rgb.a=no(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Sd(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return wf(this._rgb,2,e),this}darken(e){return wf(this._rgb,2,-e),this}saturate(e){return wf(this._rgb,1,e),this}desaturate(e){return wf(this._rgb,1,-e),this}rotate(e){return Dq(this._rgb,e),this}}function sC(t){return new Fh(t)}function iC(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function J1(t){return iC(t)?t:sC(t)}function $g(t){return iC(t)?t:sC(t).saturate(.5).darken(.1).hexString()}const fa=Object.create(null),ry=Object.create(null);function Su(t,e){if(!e)return t;const n=e.split(".");for(let s=0,i=n.length;s<i;++s){const r=n[s];t=t[r]||(t[r]=Object.create(null))}return t}function Ug(t,e,n){return typeof e=="string"?Ju(Su(t,e),n):Ju(Su(t,""),e)}class Hq{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,s)=>$g(s.backgroundColor),this.hoverBorderColor=(n,s)=>$g(s.borderColor),this.hoverColor=(n,s)=>$g(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e)}set(e,n){return Ug(this,e,n)}get(e){return Su(this,e)}describe(e,n){return Ug(ry,e,n)}override(e,n){return Ug(fa,e,n)}route(e,n,s,i){const r=Su(this,e),o=Su(this,s),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return vt(l)?Object.assign({},c,l):rt(l,c)},set(l){this[a]=l}}})}}var ft=new Hq({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function Wq(t){return!t||Ot(t.size)||Ot(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function $h(t,e,n,s,i){let r=e[i];return r||(r=e[i]=t.measureText(i).width,n.push(i)),r>s&&(s=r),s}function jq(t,e,n,s){s=s||{};let i=s.data=s.data||{},r=s.garbageCollect=s.garbageCollect||[];s.font!==e&&(i=s.data={},r=s.garbageCollect=[],s.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,d,f;for(l=0;l<a;l++)if(d=n[l],d!=null&&Gt(d)!==!0)o=$h(t,i,r,o,d);else if(Gt(d))for(c=0,u=d.length;c<u;c++)f=d[c],f!=null&&!Gt(f)&&(o=$h(t,i,r,o,f));t.restore();const h=r.length/2;if(h>n.length){for(l=0;l<h;l++)delete i[r[l]];r.splice(0,h)}return o}function So(t,e,n){const s=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*s)/s+i}function Q1(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function Uh(t,e,n,s){let i,r,o,a,l;const c=e.pointStyle,u=e.rotation,d=e.radius;let f=(u||0)*_q;if(c&&typeof c=="object"&&(i=c.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(f),t.drawImage(c,-c.width/2,-c.height/2,c.width,c.height),t.restore();return}if(!(isNaN(d)||d<=0)){switch(t.beginPath(),c){default:t.arc(n,s,d,0,Ut),t.closePath();break;case"triangle":t.moveTo(n+Math.sin(f)*d,s-Math.cos(f)*d),f+=V1,t.lineTo(n+Math.sin(f)*d,s-Math.cos(f)*d),f+=V1,t.lineTo(n+Math.sin(f)*d,s-Math.cos(f)*d),t.closePath();break;case"rectRounded":l=d*.516,a=d-l,r=Math.cos(f+Gc)*a,o=Math.sin(f+Gc)*a,t.arc(n-r,s-o,l,f-Kt,f-tn),t.arc(n+o,s-r,l,f-tn,f),t.arc(n+r,s+o,l,f,f+tn),t.arc(n-o,s+r,l,f+tn,f+Kt),t.closePath();break;case"rect":if(!u){a=Math.SQRT1_2*d,t.rect(n-a,s-a,2*a,2*a);break}f+=Gc;case"rectRot":r=Math.cos(f)*d,o=Math.sin(f)*d,t.moveTo(n-r,s-o),t.lineTo(n+o,s-r),t.lineTo(n+r,s+o),t.lineTo(n-o,s+r),t.closePath();break;case"crossRot":f+=Gc;case"cross":r=Math.cos(f)*d,o=Math.sin(f)*d,t.moveTo(n-r,s-o),t.lineTo(n+r,s+o),t.moveTo(n+o,s-r),t.lineTo(n-o,s+r);break;case"star":r=Math.cos(f)*d,o=Math.sin(f)*d,t.moveTo(n-r,s-o),t.lineTo(n+r,s+o),t.moveTo(n+o,s-r),t.lineTo(n-o,s+r),f+=Gc,r=Math.cos(f)*d,o=Math.sin(f)*d,t.moveTo(n-r,s-o),t.lineTo(n+r,s+o),t.moveTo(n+o,s-r),t.lineTo(n-o,s+r);break;case"line":r=Math.cos(f)*d,o=Math.sin(f)*d,t.moveTo(n-r,s-o),t.lineTo(n+r,s+o);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(f)*d,s+Math.sin(f)*d);break}t.fill(),e.borderWidth>0&&t.stroke()}}function td(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function hv(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function pv(t){t.restore()}function Yq(t,e,n,s,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else i==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function qq(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function ha(t,e,n,s,i,r={}){const o=Gt(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,Kq(t,r),l=0;l<o.length;++l)c=o[l],a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),Ot(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(c,n,s,r.maxWidth)),t.fillText(c,n,s,r.maxWidth),Xq(t,n,s,c,r),s+=i.lineHeight;t.restore()}function Kq(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Ot(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Xq(t,e,n,s,i){if(i.strikethrough||i.underline){const r=t.measureText(s),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function nd(t,e){const{x:n,y:s,w:i,h:r,radius:o}=e;t.arc(n+o.topLeft,s+o.topLeft,o.topLeft,-tn,Kt,!0),t.lineTo(n,s+r-o.bottomLeft),t.arc(n+o.bottomLeft,s+r-o.bottomLeft,o.bottomLeft,Kt,tn,!0),t.lineTo(n+i-o.bottomRight,s+r),t.arc(n+i-o.bottomRight,s+r-o.bottomRight,o.bottomRight,tn,0,!0),t.lineTo(n+i,s+o.topRight),t.arc(n+i-o.topRight,s+o.topRight,o.topRight,0,-tn,!0),t.lineTo(n+o.topLeft,s)}const Zq=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),Jq=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function Qq(t,e){const n=(""+t).match(Zq);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const eK=t=>+t||0;function mv(t,e){const n={},s=vt(e),i=s?Object.keys(e):e,r=vt(t)?s?o=>rt(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=eK(r(o));return n}function rC(t){return mv(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ta(t){return mv(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ln(t){const e=rC(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function hn(t,e){t=t||{},e=e||ft.font;let n=rt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=rt(t.style,e.style);s&&!(""+s).match(Jq)&&(console.warn('Invalid font style specified: "'+s+'"'),s="");const i={family:rt(t.family,e.family),lineHeight:Qq(rt(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:rt(t.weight,e.weight),string:""};return i.string=Wq(i),i}function xf(t,e,n,s){let i=!0,r,o,a;for(r=0,o=t.length;r<o;++r)if(a=t[r],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),i=!1),n!==void 0&&Gt(a)&&(a=a[n%a.length],i=!1),a!==void 0))return s&&!i&&(s.cacheable=!1),a}function tK(t,e,n){const{min:s,max:i}=t,r=X2(e,(i-s)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(s,-Math.abs(r)),max:o(i,r)}}function ho(t,e){return Object.assign(Object.create(t),e)}function gv(t,e,n){n=n||(o=>t[o]<e);let s=t.length-1,i=0,r;for(;s-i>1;)r=i+s>>1,n(r)?i=r:s=r;return{lo:i,hi:s}}const Ho=(t,e,n)=>gv(t,n,s=>t[s][e]<n),nK=(t,e,n)=>gv(t,n,s=>t[s][e]>=n);function sK(t,e,n){let s=0,i=t.length;for(;s<i&&t[s]<e;)s++;for(;i>s&&t[i-1]>n;)i--;return s>0||i<t.length?t.slice(s,i):t}const oC=["push","pop","shift","splice","unshift"];function iK(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),oC.forEach(n=>{const s="_onData"+lv(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...r)}),o}})})}function eS(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(e);i!==-1&&s.splice(i,1),!(s.length>0)&&(oC.forEach(r=>{delete t[r]}),delete t._chartjs)}function aC(t){const e=new Set;let n,s;for(n=0,s=t.length;n<s;++n)e.add(t[n]);return e.size===s?t:Array.from(e)}function _v(t,e=[""],n=t,s,i=()=>t[0]){Ps(s)||(s=dC("_fallback",t));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:n,_fallback:s,_getTarget:i,override:o=>_v([o,...t],e,n,s)};return new Proxy(r,{deleteProperty(o,a){return delete o[a],delete o._keys,delete t[0][a],!0},get(o,a){return cC(o,a,()=>fK(a,e,t,o))},getOwnPropertyDescriptor(o,a){return Reflect.getOwnPropertyDescriptor(o._scopes[0],a)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,a){return nS(o).includes(a)},ownKeys(o){return nS(o)},set(o,a,l){const c=o._storage||(o._storage=i());return o[a]=c[a]=l,delete o._keys,!0}})}function jl(t,e,n,s){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:lC(t,s),setContext:r=>jl(t,r,n,s),override:r=>jl(t.override(r),e,n,s)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return cC(r,o,()=>oK(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function lC(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:s,isScriptable:lo(n)?n:()=>n,isIndexable:lo(s)?s:()=>s}}const rK=(t,e)=>t?t+lv(e):e,yv=(t,e)=>vt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function cC(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const s=n();return t[e]=s,s}function oK(t,e,n){const{_proxy:s,_context:i,_subProxy:r,_descriptors:o}=t;let a=s[e];return lo(a)&&o.isScriptable(e)&&(a=aK(e,a,t,n)),Gt(a)&&a.length&&(a=lK(e,a,t,o.isIndexable)),yv(e,a)&&(a=jl(a,i,r&&r[e],o)),a}function aK(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);return a.add(t),e=e(r,o||s),a.delete(t),yv(t,e)&&(e=bv(i._scopes,i,t,e)),e}function lK(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=n;if(Ps(r.index)&&s(t))e=e[r.index%e.length];else if(vt(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=bv(c,i,t,u);e.push(jl(d,r,o&&o[t],a))}}return e}function uC(t,e,n){return lo(t)?t(e,n):t}const cK=(t,e)=>t===!0?e:typeof t=="string"?ao(e,t):void 0;function uK(t,e,n,s,i){for(const r of e){const o=cK(n,r);if(o){t.add(o);const a=uC(o._fallback,n,i);if(Ps(a)&&a!==n&&a!==s)return a}else if(o===!1&&Ps(s)&&n!==s)return null}return!1}function bv(t,e,n,s){const i=e._rootScopes,r=uC(e._fallback,n,s),o=[...t,...i],a=new Set;a.add(s);let l=tS(a,o,n,r||n,s);return l===null||Ps(r)&&r!==n&&(l=tS(a,o,r,l,s),l===null)?!1:_v(Array.from(a),[""],i,r,()=>dK(e,n,s))}function tS(t,e,n,s,i){for(;n;)n=uK(t,e,n,s,i);return n}function dK(t,e,n){const s=t._getTarget();e in s||(s[e]={});const i=s[e];return Gt(i)&&vt(n)?n:i}function fK(t,e,n,s){let i;for(const r of e)if(i=dC(rK(r,t),n),Ps(i))return yv(t,i)?bv(n,s,t,i):i}function dC(t,e){for(const n of e){if(!n)continue;const s=n[t];if(Ps(s))return s}}function nS(t){let e=t._keys;return e||(e=t._keys=hK(t._scopes)),e}function hK(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(s);return Array.from(e)}function fC(t,e,n,s){const{iScale:i}=t,{key:r="r"}=this._parsing,o=new Array(s);let a,l,c,u;for(a=0,l=s;a<l;++a)c=a+n,u=e[c],o[a]={r:i.parse(ao(u,r),c)};return o}const pK=Number.EPSILON||1e-14,Yl=(t,e)=>e<t.length&&!t[e].skip&&t[e],hC=t=>t==="x"?"y":"x";function mK(t,e,n,s){const i=t.skip?e:t,r=e,o=n.skip?e:n,a=sy(r,i),l=sy(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=s*c,f=s*u;return{previous:{x:r.x-d*(o.x-i.x),y:r.y-d*(o.y-i.y)},next:{x:r.x+f*(o.x-i.x),y:r.y+f*(o.y-i.y)}}}function gK(t,e,n){const s=t.length;let i,r,o,a,l,c=Yl(t,0);for(let u=0;u<s-1;++u)if(l=c,c=Yl(t,u+1),!(!l||!c)){if(wu(e[u],0,pK)){n[u]=n[u+1]=0;continue}i=n[u]/e[u],r=n[u+1]/e[u],a=Math.pow(i,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=i*o*e[u],n[u+1]=r*o*e[u])}}function _K(t,e,n="x"){const s=hC(n),i=t.length;let r,o,a,l=Yl(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=Yl(t,c+1),!a)continue;const u=a[n],d=a[s];o&&(r=(u-o[n])/3,a[`cp1${n}`]=u-r,a[`cp1${s}`]=d-r*e[c]),l&&(r=(l[n]-u)/3,a[`cp2${n}`]=u+r,a[`cp2${s}`]=d+r*e[c])}}function yK(t,e="x"){const n=hC(e),s=t.length,i=Array(s).fill(0),r=Array(s);let o,a,l,c=Yl(t,0);for(o=0;o<s;++o)if(a=l,l=c,c=Yl(t,o+1),!!l){if(c){const u=c[e]-l[e];i[o]=u!==0?(c[n]-l[n])/u:0}r[o]=a?c?xi(i[o-1])!==xi(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}gK(t,i,r),_K(t,r,e)}function Sf(t,e,n){return Math.max(Math.min(t,n),e)}function bK(t,e){let n,s,i,r,o,a=td(t[0],e);for(n=0,s=t.length;n<s;++n)o=r,r=a,a=n<s-1&&td(t[n+1],e),r&&(i=t[n],o&&(i.cp1x=Sf(i.cp1x,e.left,e.right),i.cp1y=Sf(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=Sf(i.cp2x,e.left,e.right),i.cp2y=Sf(i.cp2y,e.top,e.bottom)))}function vK(t,e,n,s,i){let r,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")yK(t,i);else{let c=s?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)a=t[r],l=mK(c,a,t[Math.min(r+1,o-(s?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&bK(t,n)}function pC(){return typeof window!="undefined"&&typeof document!="undefined"}function vv(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Bh(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const Yp=t=>window.getComputedStyle(t,null);function wK(t,e){return Yp(t).getPropertyValue(e)}const xK=["top","right","bottom","left"];function na(t,e,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const r=xK[i];s[r]=parseFloat(t[e+"-"+r+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const SK=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function EK(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:i,offsetY:r}=s;let o=!1,a,l;if(SK(i,r,t.target))a=i,l=r;else{const c=e.getBoundingClientRect();a=s.clientX-c.left,l=s.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Ro(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,i=Yp(n),r=i.boxSizing==="border-box",o=na(i,"padding"),a=na(i,"border","width"),{x:l,y:c,box:u}=EK(t,n),d=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:h,height:_}=e;return r&&(h-=o.width+a.width,_-=o.height+a.height),{x:Math.round((l-d)/h*n.width/s),y:Math.round((c-f)/_*n.height/s)}}function TK(t,e,n){let s,i;if(e===void 0||n===void 0){const r=vv(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const o=r.getBoundingClientRect(),a=Yp(r),l=na(a,"border","width"),c=na(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,s=Bh(a.maxWidth,r,"clientWidth"),i=Bh(a.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:s||Nh,maxHeight:i||Nh}}const Bg=t=>Math.round(t*10)/10;function MK(t,e,n,s){const i=Yp(t),r=na(i,"margin"),o=Bh(i.maxWidth,t,"clientWidth")||Nh,a=Bh(i.maxHeight,t,"clientHeight")||Nh,l=TK(t,e,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const d=na(i,"border","width"),f=na(i,"padding");c-=f.width+d.width,u-=f.height+d.height}return c=Math.max(0,c-r.width),u=Math.max(0,s?Math.floor(c/s):u-r.height),c=Bg(Math.min(c,o,l.maxWidth)),u=Bg(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Bg(c/2)),{width:c,height:u}}function sS(t,e,n){const s=e||1,i=Math.floor(t.height*s),r=Math.floor(t.width*s);t.height=i/s,t.width=r/s;const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||o.height!==i||o.width!==r?(t.currentDevicePixelRatio=s,o.height=i,o.width=r,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const AK=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return t}();function iS(t,e){const n=wK(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Po(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function CK(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function RK(t,e,n,s){const i={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=Po(t,i,n),a=Po(i,r,n),l=Po(r,e,n),c=Po(o,a,n),u=Po(a,l,n);return Po(c,u,n)}const rS=new Map;function PK(t,e){e=e||{};const n=t+JSON.stringify(e);let s=rS.get(n);return s||(s=new Intl.NumberFormat(t,e),rS.set(n,s)),s}function Ed(t,e,n){return PK(e,n).format(t)}const kK=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},OK=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Cl(t,e,n){return t?kK(e,n):OK()}function mC(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function gC(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function _C(t){return t==="angle"?{between:ed,compare:vq,normalize:Hs}:{between:jr,compare:(e,n)=>e-n,normalize:e=>e}}function oS({start:t,end:e,count:n,loop:s,style:i}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:i}}function LK(t,e,n){const{property:s,start:i,end:r}=n,{between:o,normalize:a}=_C(s),l=e.length;let{start:c,end:u,loop:d}=t,f,h;if(d){for(c+=l,u+=l,f=0,h=l;f<h&&o(a(e[c%l][s]),i,r);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function IK(t,e,n){if(!n)return[t];const{property:s,start:i,end:r}=n,o=e.length,{compare:a,between:l,normalize:c}=_C(s),{start:u,end:d,loop:f,style:h}=LK(t,e,n),_=[];let g=!1,m=null,y,b,S;const x=()=>l(i,S,y)&&a(i,S)!==0,v=()=>a(r,y)===0||l(r,S,y),E=()=>g||x(),A=()=>!g||v();for(let w=u,C=u;w<=d;++w)b=e[w%o],!b.skip&&(y=c(b[s]),y!==S&&(g=l(y,i,r),m===null&&E()&&(m=a(y,i)===0?w:C),m!==null&&A()&&(_.push(oS({start:m,end:w,loop:f,count:o,style:h})),m=null),C=w,S=y));return m!==null&&_.push(oS({start:m,end:d,loop:f,count:o,style:h})),_}function DK(t,e){const n=[],s=t.segments;for(let i=0;i<s.length;i++){const r=IK(s[i],t.points,e);r.length&&n.push(...r)}return n}function NK(t,e,n,s){let i=0,r=e-1;if(n&&!s)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(r+=i);r>i&&t[r%e].skip;)r--;return r%=e,{start:i,end:r}}function FK(t,e,n,s){const i=t.length,r=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?a.skip||(s=!1,r.push({start:e%i,end:(l-1)%i,loop:s}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&r.push({start:e%i,end:o%i,loop:s}),r}function $K(t,e){const n=t.points,s=t.options.spanGaps,i=n.length;if(!i)return[];const r=!!t._loop,{start:o,end:a}=NK(n,i,r,s);if(s===!0)return aS(t,[{start:o,end:a,loop:r}],n,e);const l=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return aS(t,FK(n,o,l,c),n,e)}function aS(t,e,n,s){return!s||!s.setContext||!n?e:UK(t,e,n,s)}function UK(t,e,n,s){const i=t._chart.getContext(),r=lS(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=r,d=e[0].start,f=d;function h(_,g,m,y){const b=a?-1:1;if(_!==g){for(_+=l;n[_%l].skip;)_-=b;for(;n[g%l].skip;)g+=b;_%l!==g%l&&(c.push({start:_%l,end:g%l,loop:m,style:y}),u=y,d=g%l)}}for(const _ of e){d=a?d:_.start;let g=n[d%l],m;for(f=d+1;f<=_.end;f++){const y=n[f%l];m=lS(s.setContext(ho(i,{type:"segment",p0:g,p1:y,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),BK(m,u)&&h(d,f-1,_.loop,u),g=y,u=m}d<f-1&&h(d,f-1,_.loop,u)}return c}function lS(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function BK(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}/*!
 * Chart.js v3.8.0
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */class zK{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,i){const r=n.listeners[i],o=n.duration;r.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=q2.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const r=s.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,s,e,"progress")),r.length||(s.running=!1,this._notify(i,s,e,"complete"),s.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);!n||(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Hi=new zK;const cS="transparent",GK={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=J1(t||cS),i=s.valid&&J1(e||cS);return i&&i.valid?i.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class VK{constructor(e,n,s,i){const r=n[s];i=xf([e.to,i,r,e.from]);const o=xf([e.from,r,i]);this._active=!0,this._fn=e.fn||GK[e.type||typeof o],this._easing=xu[e.easing]||xu.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],r=s-this._start,o=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=xf([e.to,n,i,e.from]),this._from=xf([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<s),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=r;return}l=n/s%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}}const HK=["x","y","borderWidth","radius","tension"],WK=["color","borderColor","backgroundColor"];ft.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const jK=Object.keys(ft.animation);ft.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"});ft.set("animations",{colors:{type:"color",properties:WK},numbers:{type:"number",properties:HK}});ft.describe("animations",{_fallback:"animation"});ft.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}});class yC{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!vt(e))return;const n=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!vt(i))return;const r={};for(const o of jK)r[o]=i[o];(Gt(i.properties)&&i.properties||[s]).forEach(o=>{(o===s||!n.has(o))&&n.set(o,r)})})}_animateOptions(e,n){const s=n.options,i=qK(e,s);if(!i)return[];const r=this._createAnimations(i,s);return s.$shared&&YK(e.options.$animations,s).then(()=>{e.options=s},()=>{}),r}_createAnimations(e,n){const s=this._properties,i=[],r=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[c];let d=r[c];const f=s.get(c);if(d)if(f&&d.active()){d.update(f,u,a);continue}else d.cancel();if(!f||!f.duration){e[c]=u;continue}r[c]=d=new VK(f,e,c,u),i.push(d)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return Hi.add(this._chart,s),!0}}function YK(t,e){const n=[],s=Object.keys(e);for(let i=0;i<s.length;i++){const r=t[s[i]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function qK(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function uS(t,e){const n=t&&t.options||{},s=n.reverse,i=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:s?r:i,end:s?i:r}}function KK(t,e,n){if(n===!1)return!1;const s=uS(t,n),i=uS(e,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function XK(t){let e,n,s,i;return vt(t)?(e=t.top,n=t.right,s=t.bottom,i=t.left):e=n=s=i=t,{top:e,right:n,bottom:s,left:i,disabled:t===!1}}function bC(t,e){const n=[],s=t._getSortedDatasetMetas(e);let i,r;for(i=0,r=s.length;i<r;++i)n.push(s[i].index);return n}function dS(t,e,n,s={}){const i=t.keys,r=s.mode==="single";let o,a,l,c;if(e!==null){for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(s.all)continue;break}c=t.values[l],Sn(c)&&(r||e===0||xi(e)===xi(c))&&(e+=c)}return e}}function ZK(t){const e=Object.keys(t),n=new Array(e.length);let s,i,r;for(s=0,i=e.length;s<i;++s)r=e[s],n[s]={x:r,y:t[r]};return n}function fS(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function JK(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function QK(t){const{min:e,max:n,minDefined:s,maxDefined:i}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function eX(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function hS(t,e,n,s){for(const i of e.getMatchingVisibleMetas(s).reverse()){const r=t[i.index];if(n&&r>0||!n&&r<0)return i.index}return null}function pS(t,e){const{chart:n,_cachedMeta:s}=t,i=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=s,l=r.axis,c=o.axis,u=JK(r,o,s),d=e.length;let f;for(let h=0;h<d;++h){const _=e[h],{[l]:g,[c]:m}=_,y=_._stacks||(_._stacks={});f=y[c]=eX(i,u,g),f[a]=m,f._top=hS(f,o,!0,s.type),f._bottom=hS(f,o,!1,s.type)}}function zg(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function tX(t,e){return ho(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function nX(t,e,n){return ho(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Vc(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(!!s){e=e||t._parsed;for(const i of e){const r=i._stacks;if(!r||r[s]===void 0||r[s][n]===void 0)return;delete r[s][n]}}}const Gg=t=>t==="reset"||t==="none",mS=(t,e)=>e?t:Object.assign({},t),sX=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:bC(n,!0),values:null};class Li{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=fS(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&Vc(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(d,f,h,_)=>d==="x"?f:d==="r"?_:h,r=n.xAxisID=rt(s.xAxisID,zg(e,"x")),o=n.yAxisID=rt(s.yAxisID,zg(e,"y")),a=n.rAxisID=rt(s.rAxisID,zg(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,r,o,a),u=n.vAxisID=i(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&eS(this._data,this),e._stacked&&Vc(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(vt(n))this._data=ZK(n);else if(s!==n){if(s){eS(s,this);const i=this._cachedMeta;Vc(i),i._parsed=[]}n&&Object.isExtensible(n)&&iK(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const r=n._stacked;n._stacked=fS(n.vScale,n),n.stack!==s.stack&&(i=!0,Vc(n),n.stack=s.stack),this._resyncElements(e),(i||r!==n._stacked)&&pS(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:i}=this,{iScale:r,_stacked:o}=s,a=r.axis;let l=e===0&&n===i.length?!0:s._sorted,c=e>0&&s._parsed[e-1],u,d,f;if(this._parsing===!1)s._parsed=i,s._sorted=!0,f=i;else{Gt(i[e])?f=this.parseArrayData(s,i,e,n):vt(i[e])?f=this.parseObjectData(s,i,e,n):f=this.parsePrimitiveData(s,i,e,n);const h=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<n;++u)s._parsed[u+e]=d=f[u],l&&(h()&&(l=!1),c=d);s._sorted=l}o&&pS(this,f)}parsePrimitiveData(e,n,s,i){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,d=new Array(i);let f,h,_;for(f=0,h=i;f<h;++f)_=f+s,d[f]={[a]:u||r.parse(c[_],_),[l]:o.parse(n[_],_)};return d}parseArrayData(e,n,s,i){const{xScale:r,yScale:o}=e,a=new Array(i);let l,c,u,d;for(l=0,c=i;l<c;++l)u=l+s,d=n[u],a[l]={x:r.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(e,n,s,i){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,d,f,h;for(u=0,d=i;u<d;++u)f=u+s,h=n[f],c[u]={x:r.parse(ao(h,a),f),y:o.parse(ao(h,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const i=this.chart,r=this._cachedMeta,o=n[e.axis],a={keys:bC(i,!0),values:n._stacks[e.axis]};return dS(a,o,r.index,{mode:s})}updateRangeFromParsed(e,n,s,i){const r=s[n.axis];let o=r===null?NaN:r;const a=i&&s._stacks[n.axis];i&&a&&(i.values=a,o=dS(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const s=this._cachedMeta,i=s._parsed,r=s._sorted&&e===s.iScale,o=i.length,a=this._getOtherScale(e),l=sX(n,s,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=QK(a);let f,h;function _(){h=i[f];const g=h[a.axis];return!Sn(h[e.axis])||u>g||d<g}for(f=0;f<o&&!(!_()&&(this.updateRangeFromParsed(c,e,h,l),r));++f);if(r){for(f=o-1;f>=0;--f)if(!_()){this.updateRangeFromParsed(c,e,h,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let i,r,o;for(i=0,r=n.length;i<r;++i)o=n[i][e.axis],Sn(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,i=n.vScale,r=this.getParsed(e);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=XK(rt(this.options.clip,KK(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(e,r,a,l),u=a;u<a+l;++u){const d=i[u];d.hidden||(d.active&&c?o.push(d):d.draw(e,r))}for(u=0;u<o.length;++u)o[u].draw(e,r)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=nX(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=tX(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=s,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const i=n==="active",r=this._cachedDataOpts,o=e+"-"+n,a=r[o],l=this.enableOptionSharing&&Ps(s);if(a)return mS(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),h=Object.keys(ft.elements[e]),_=()=>this.getContext(s,i),g=c.resolveNamedOptions(f,h,_,d);return g.$shared&&(g.$shared=l,r[o]=Object.freeze(mS(g,l))),g}_resolveAnimations(e,n,s){const i=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(f,this.getContext(e,s,n))}const c=new yC(i,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(e){if(!!e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Gg(e)||this.chart._animationsDisabled}updateElement(e,n,s,i){Gg(i)?Object.assign(e,s):this._resolveAnimations(n,i).update(e,s)}updateSharedOptions(e,n,s){e&&!Gg(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,i){e.active=i;const r=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=s.length,r=n.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,n,s=!0){const i=this._cachedMeta,r=i.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),s&&this.updateElements(r,e,n,"reset")}updateElements(e,n,s,i){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(e,n);s._stacked&&Vc(s,i)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,i]=e;this[n](s,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Li.defaults={};Li.prototype.datasetElementType=null;Li.prototype.dataElementType=null;function iX(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let i=0,r=n.length;i<r;i++)s=s.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=aC(s.sort((i,r)=>i-r))}return t._cache.$bar}function rX(t){const e=t.iScale,n=iX(e,t.type);let s=e._length,i,r,o,a;const l=()=>{o===32767||o===-32768||(Ps(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(i=0,r=n.length;i<r;++i)o=e.getPixelForValue(n[i]),l();for(a=void 0,i=0,r=e.ticks.length;i<r;++i)o=e.getPixelForTick(i),l();return s}function oX(t,e,n,s){const i=n.barThickness;let r,o;return Ot(i)?(r=e.min*n.categoryPercentage,o=n.barPercentage):(r=i*s,o=1),{chunk:r/s,ratio:o,start:e.pixels[t]-r/2}}function aX(t,e,n,s){const i=e.pixels,r=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/s,ratio:n.barPercentage,start:c}}function lX(t,e,n,s){const i=n.parse(t[0],s),r=n.parse(t[1],s),o=Math.min(i,r),a=Math.max(i,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:r,min:o,max:a}}function vC(t,e,n,s){return Gt(t)?lX(t,e,n,s):e[n.axis]=n.parse(t,s),e}function gS(t,e,n,s){const i=t.iScale,r=t.vScale,o=i.getLabels(),a=i===r,l=[];let c,u,d,f;for(c=n,u=n+s;c<u;++c)f=e[c],d={},d[i.axis]=a||i.parse(o[c],c),l.push(vC(f,d,r,c));return l}function Vg(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function cX(t,e,n){return t!==0?xi(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function uX(t){let e,n,s,i,r;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(i="end",r="start"):(i="start",r="end"),{start:n,end:s,reverse:e,top:i,bottom:r}}function dX(t,e,n,s){let i=e.borderSkipped;const r={};if(!i){t.borderSkipped=r;return}const{start:o,end:a,reverse:l,top:c,bottom:u}=uX(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?i=c:(n._bottom||0)===s?i=u:(r[_S(u,o,a,l)]=!0,i=c)),r[_S(i,o,a,l)]=!0,t.borderSkipped=r}function _S(t,e,n,s){return s?(t=fX(t,e,n),t=yS(t,n,e)):t=yS(t,e,n),t}function fX(t,e,n){return t===e?n:t===n?e:t}function yS(t,e,n){return t==="start"?e:t==="end"?n:t}function hX(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class wv extends Li{parsePrimitiveData(e,n,s,i){return gS(e,n,s,i)}parseArrayData(e,n,s,i){return gS(e,n,s,i)}parseObjectData(e,n,s,i){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,d=[];let f,h,_,g;for(f=s,h=s+i;f<h;++f)g=n[f],_={},_[r.axis]=r.parse(ao(g,c),f),d.push(vC(ao(g,u),_,o,f));return d}updateRangeFromParsed(e,n,s,i){super.updateRangeFromParsed(e,n,s,i);const r=s._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:i}=n,r=this.getParsed(e),o=r._custom,a=Vg(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+s.getLabelForValue(r[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,i){const r=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),d=this.resolveDataElementOptions(n,i),f=this.getSharedOptions(d),h=this.includeOptions(i,f);this.updateSharedOptions(f,i,d);for(let _=n;_<n+s;_++){const g=this.getParsed(_),m=r||Ot(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(_),y=this._calculateBarIndexPixels(_,u),b=(g._stacks||{})[a.axis],S={horizontal:c,base:m.base,enableBorderRadius:!b||Vg(g._custom)||o===b._top||o===b._bottom,x:c?m.head:y.center,y:c?y.center:m.head,height:c?y.size:Math.abs(m.size),width:c?Math.abs(m.size):y.size};h&&(S.options=f||this.resolveDataElementOptions(_,e[_].active?"active":i));const x=S.options||e[_].options;dX(S,x,b,o),hX(S,x,u.ratio),this.updateElement(e[_],_,S,i)}}_getStacks(e,n){const i=this._cachedMeta.iScale,r=i.getMatchingVisibleMetas(this._type),o=i.options.stacked,a=r.length,l=[];let c,u;for(c=0;c<a;++c)if(u=r[c],!!u.controller.options.grouped){if(typeof n!="undefined"){const d=u.controller.getParsed(n)[u.controller._cachedMeta.vScale.axis];if(Ot(d)||isNaN(d))continue}if((o===!1||l.indexOf(u.stack)===-1||o===void 0&&u.stack===void 0)&&l.push(u.stack),u.index===e)break}return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,s){const i=this._getStacks(e,s),r=n!==void 0?i.indexOf(n):-1;return r===-1?i.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,i=[];let r,o;for(r=0,o=n.data.length;r<o;++r)i.push(s.getPixelForValue(this.getParsed(r)[s.axis],r));const a=e.barThickness;return{min:a||rX(n),pixels:i,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s},options:{base:i,minBarLength:r}}=this,o=i||0,a=this.getParsed(e),l=a._custom,c=Vg(l);let u=a[n.axis],d=0,f=s?this.applyStack(n,a,s):u,h,_;f!==u&&(d=f-u,f=u),c&&(u=l.barStart,f=l.barEnd-l.barStart,u!==0&&xi(u)!==xi(l.barEnd)&&(d=0),d+=u);const g=!Ot(i)&&!c?i:d;let m=n.getPixelForValue(g);if(this.chart.getDataVisibility(e)?h=n.getPixelForValue(d+f):h=m,_=h-m,Math.abs(_)<r){_=cX(_,n,o)*r,u===o&&(m-=_/2);const y=n.getPixelForDecimal(0),b=n.getPixelForDecimal(1),S=Math.min(y,b),x=Math.max(y,b);m=Math.max(Math.min(m,x),S),h=m+_}if(m===n.getPixelForValue(o)){const y=xi(_)*n.getLineWidthForValue(o)/2;m+=y,_-=y}return{size:_,base:m,head:h,center:h+_/2}}_calculateBarIndexPixels(e,n){const s=n.scale,i=this.options,r=i.skipNull,o=rt(i.maxBarThickness,1/0);let a,l;if(n.grouped){const c=r?this._getStackCount(e):n.stackCount,u=i.barThickness==="flex"?aX(e,n,i,c):oX(e,n,i,c),d=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);a=u.start+u.chunk*d+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=s.getPixelForValue(this.getParsed(e)[s.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,i=s.length;let r=0;for(;r<i;++r)this.getParsed(r)[n.axis]!==null&&s[r].draw(this._ctx)}}wv.id="bar";wv.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};wv.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class xv extends Li{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,s,i){const r=super.parsePrimitiveData(e,n,s,i);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+s).radius;return r}parseArrayData(e,n,s,i){const r=super.parseArrayData(e,n,s,i);for(let o=0;o<r.length;o++){const a=n[s+o];r[o]._custom=rt(a[2],this.resolveDataElementOptions(o+s).radius)}return r}parseObjectData(e,n,s,i){const r=super.parseObjectData(e,n,s,i);for(let o=0;o<r.length;o++){const a=n[s+o];r[o]._custom=rt(a&&a.r&&+a.r,this.resolveDataElementOptions(o+s).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let s=e.length-1;s>=0;--s)n=Math.max(n,e[s].size(this.resolveDataElementOptions(s))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,{xScale:s,yScale:i}=n,r=this.getParsed(e),o=s.getLabelForValue(r.x),a=i.getLabelForValue(r.y),l=r._custom;return{label:n.label,value:"("+o+", "+a+(l?", "+l:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,s,i){const r=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,l=this.resolveDataElementOptions(n,i),c=this.getSharedOptions(l),u=this.includeOptions(i,c),d=o.axis,f=a.axis;for(let h=n;h<n+s;h++){const _=e[h],g=!r&&this.getParsed(h),m={},y=m[d]=r?o.getPixelForDecimal(.5):o.getPixelForValue(g[d]),b=m[f]=r?a.getBasePixel():a.getPixelForValue(g[f]);m.skip=isNaN(y)||isNaN(b),u&&(m.options=this.resolveDataElementOptions(h,_.active?"active":i),r&&(m.options.radius=0)),this.updateElement(_,h,m,i)}this.updateSharedOptions(c,i,l)}resolveDataElementOptions(e,n){const s=this.getParsed(e);let i=super.resolveDataElementOptions(e,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return n!=="active"&&(i.radius=0),i.radius+=rt(s&&s._custom,r),i}}xv.id="bubble";xv.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};xv.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function pX(t,e,n){let s=1,i=1,r=0,o=0;if(e<Ut){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),f=Math.sin(l),h=(S,x,v)=>ed(S,a,l,!0)?1:Math.max(x,x*n,v,v*n),_=(S,x,v)=>ed(S,a,l,!0)?-1:Math.min(x,x*n,v,v*n),g=h(0,c,d),m=h(tn,u,f),y=_(Kt,c,d),b=_(Kt+tn,u,f);s=(g-y)/2,i=(m-b)/2,r=-(g+y)/2,o=-(m+b)/2}return{ratioX:s,ratioY:i,offsetX:r,offsetY:o}}class Td extends Li{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=s;else{let r=l=>+s[l];if(vt(s[e])){const{key:l="value"}=this._parsing;r=c=>+ao(s[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=r(o)}}_getRotation(){return Zs(this.options.rotation-90)}_getCircumference(){return Zs(this.options.circumference)}_getRotationExtents(){let e=Ut,n=-Ut;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)){const i=this.chart.getDatasetMeta(s).controller,r=i._getRotation(),o=i._getCircumference();e=Math.min(e,r),n=Math.max(n,r+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,i=this._cachedMeta,r=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-o)/2,0),l=Math.min(uq(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:h,offsetX:_,offsetY:g}=pX(d,u,l),m=(s.width-o)/f,y=(s.height-o)/h,b=Math.max(Math.min(m,y)/2,0),S=X2(this.options.radius,b),x=Math.max(S*l,0),v=(S-x)/this._getVisibleDatasetWeightTotal();this.offsetX=_*S,this.offsetY=g*S,i.total=this.calculateTotal(),this.outerRadius=S-v*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-v*c,0),this.updateElements(r,0,r.length,e)}_circumference(e,n){const s=this.options,i=this._cachedMeta,r=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/Ut)}updateElements(e,n,s,i){const r=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,f=r&&c.animateScale,h=f?0:this.innerRadius,_=f?0:this.outerRadius,g=this.resolveDataElementOptions(n,i),m=this.getSharedOptions(g),y=this.includeOptions(i,m);let b=this._getRotation(),S;for(S=0;S<n;++S)b+=this._circumference(S,r);for(S=n;S<n+s;++S){const x=this._circumference(S,r),v=e[S],E={x:u+this.offsetX,y:d+this.offsetY,startAngle:b,endAngle:b+x,circumference:x,outerRadius:_,innerRadius:h};y&&(E.options=m||this.resolveDataElementOptions(S,v.active?"active":i)),b+=x,this.updateElement(v,S,E,i)}this.updateSharedOptions(m,i,g)}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,i;for(i=0;i<n.length;i++){const r=e._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(s+=Math.abs(r))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Ut*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=Ed(n._parsed[e],s.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let n=0;const s=this.chart;let i,r,o,a,l;if(!e){for(i=0,r=s.data.datasets.length;i<r;++i)if(s.isDatasetVisible(i)){o=s.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,r=e.length;i<r;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,i=e.length;s<i;++s){const r=this.resolveDataElementOptions(s);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(rt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Td.id="doughnut";Td.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};Td.descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"};Td.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map((s,i)=>{const o=t.getDatasetMeta(0).controller.getStyle(i);return{text:s,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(i),index:i}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(t){let e=t.label;const n=": "+t.formattedValue;return Gt(e)?(e=e.slice(),e[0]+=n):e+=n,e}}}}};class Md extends Li{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:i=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=mX(n,i,o);this._drawStart=a,this._drawCount=l,gX(n)&&(a=0,l=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,n,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,i),d=this.getSharedOptions(u),f=this.includeOptions(i,d),h=o.axis,_=a.axis,{spanGaps:g,segment:m}=this.options,y=Qu(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||r||i==="none";let S=n>0&&this.getParsed(n-1);for(let x=n;x<n+s;++x){const v=e[x],E=this.getParsed(x),A=b?v:{},w=Ot(E[_]),C=A[h]=o.getPixelForValue(E[h],x),N=A[_]=r||w?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,E,l):E[_],x);A.skip=isNaN(C)||isNaN(N)||w,A.stop=x>0&&Math.abs(E[h]-S[h])>y,m&&(A.parsed=E,A.raw=c.data[x]),f&&(A.options=d||this.resolveDataElementOptions(x,v.active?"active":i)),b||this.updateElement(v,x,A,i),S=E}this.updateSharedOptions(d,i,u)}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return s;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Md.id="line";Md.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};Md.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};function mX(t,e,n){const s=e.length;let i=0,r=s;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:d,maxDefined:f}=o.getUserBounds();d&&(i=Pn(Math.min(Ho(a,o.axis,c).lo,n?s:Ho(e,l,o.getPixelForValue(c)).lo),0,s-1)),f?r=Pn(Math.max(Ho(a,o.axis,u).hi+1,n?0:Ho(e,l,o.getPixelForValue(u)).hi+1),i,s)-i:r=s-i}return{start:i,count:r}}function gX(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=i,!0;const r=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,i),r}class Sv extends Li{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=Ed(n._parsed[e].r,s.options.locale);return{label:i[e]||"",value:r}}parseObjectData(e,n,s,i){return fC.bind(this)(e,n,s,i)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((s,i)=>{const r=this.getParsed(i).r;!isNaN(r)&&this.chart.getDataVisibility(i)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,s=e.options,i=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(i/2,0),o=Math.max(s.cutoutPercentage?r/100*s.cutoutPercentage:1,0),a=(r-o)/e.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,s,i){const r=i==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,d=c.yCenter,f=c.getIndexAngle(0)-.5*Kt;let h=f,_;const g=360/this.countVisibleElements();for(_=0;_<n;++_)h+=this._computeAngle(_,i,g);for(_=n;_<n+s;_++){const m=e[_];let y=h,b=h+this._computeAngle(_,i,g),S=o.getDataVisibility(_)?c.getDistanceFromCenterForValue(this.getParsed(_).r):0;h=b,r&&(l.animateScale&&(S=0),l.animateRotate&&(y=b=f));const x={x:u,y:d,innerRadius:0,outerRadius:S,startAngle:y,endAngle:b,options:this.resolveDataElementOptions(_,m.active?"active":i)};this.updateElement(m,_,x,i)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((s,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(e,n,s){return this.chart.getDataVisibility(e)?Zs(this.resolveDataElementOptions(e,n).angle||s):0}}Sv.id="polarArea";Sv.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};Sv.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map((s,i)=>{const o=t.getDatasetMeta(0).controller.getStyle(i);return{text:s,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(i),index:i}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(t){return t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class wC extends Td{}wC.id="pie";wC.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class Ev extends Li{getLabelAndValue(e){const n=this._cachedMeta.vScale,s=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(s[n.axis])}}parseObjectData(e,n,s,i){return fC.bind(this)(e,n,s,i)}update(e){const n=this._cachedMeta,s=n.dataset,i=n.data||[],r=n.iScale.getLabels();if(s.points=i,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===i.length,options:o};this.updateElement(s,void 0,a,e)}this.updateElements(i,0,i.length,e)}updateElements(e,n,s,i){const r=this._cachedMeta.rScale,o=i==="reset";for(let a=n;a<n+s;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":i),u=r.getPointPositionForValue(a,this.getParsed(a).r),d=o?r.xCenter:u.x,f=o?r.yCenter:u.y,h={x:d,y:f,angle:u.angle,skip:isNaN(d)||isNaN(f),options:c};this.updateElement(l,a,h,i)}}}Ev.id="radar";Ev.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};Ev.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class qp extends Md{}qp.id="scatter";qp.defaults={showLine:!1,fill:!1};qp.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(t){return"("+t.label+", "+t.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};function Eo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class oy{constructor(e){this.options=e||{}}formats(){return Eo()}parse(e,n){return Eo()}format(e,n){return Eo()}add(e,n,s){return Eo()}diff(e,n,s){return Eo()}startOf(e,n,s){return Eo()}endOf(e,n){return Eo()}}oy.override=function(t){Object.assign(oy.prototype,t)};var xC={_date:oy};function _X(t,e,n,s){const{controller:i,data:r,_sorted:o}=t,a=i._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const l=a._reversePixels?nK:Ho;if(s){if(i._sharedOptions){const c=r[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const d=l(r,e,n-u),f=l(r,e,n+u);return{lo:d.lo,hi:f.hi}}}}else return l(r,e,n)}return{lo:0,hi:r.length-1}}function Ad(t,e,n,s,i){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:d,hi:f}=_X(r[a],e,o,i);for(let h=d;h<=f;++h){const _=u[h];_.skip||s(_,c,h)}}}function yX(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,i){const r=e?Math.abs(s.x-i.x):0,o=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Hg(t,e,n,s,i){const r=[];return!i&&!t.isPointInArea(e)||Ad(t,n,e,function(a,l,c){!i&&!td(a,t.chartArea,0)||a.inRange(e.x,e.y,s)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function bX(t,e,n,s){let i=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:d}=Q2(o,{x:e.x,y:e.y});ed(d,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return Ad(t,n,e,r),i}function vX(t,e,n,s,i,r){let o=[];const a=yX(n);let l=Number.POSITIVE_INFINITY;function c(u,d,f){const h=u.inRange(e.x,e.y,i);if(s&&!h)return;const _=u.getCenterPoint(i);if(!(!!r||t.isPointInArea(_))&&!h)return;const m=a(e,_);m<l?(o=[{element:u,datasetIndex:d,index:f}],l=m):m===l&&o.push({element:u,datasetIndex:d,index:f})}return Ad(t,n,e,c),o}function Wg(t,e,n,s,i,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!s?bX(t,e,n,i):vX(t,e,n,s,i,r)}function bS(t,e,n,s,i){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Ad(t,n,e,(l,c,u)=>{l[o](e[n],i)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),s&&!a?[]:r}var wX={evaluateInteractionItems:Ad,modes:{index(t,e,n,s){const i=Ro(e,t),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Hg(t,i,r,s,o):Wg(t,i,r,!1,s,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,s){const i=Ro(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Hg(t,i,r,s,o):Wg(t,i,r,!1,s,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,s){const i=Ro(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return Hg(t,i,r,s,o)},nearest(t,e,n,s){const i=Ro(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return Wg(t,i,r,n.intersect,s,o)},x(t,e,n,s){const i=Ro(e,t);return bS(t,i,"x",n.intersect,s)},y(t,e,n,s){const i=Ro(e,t);return bS(t,i,"y",n.intersect,s)}}};const SC=["left","top","right","bottom"];function Hc(t,e){return t.filter(n=>n.pos===e)}function vS(t,e){return t.filter(n=>SC.indexOf(n.pos)===-1&&n.box.axis===e)}function Wc(t,e){return t.sort((n,s)=>{const i=e?s:n,r=e?n:s;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function xX(t){const e=[];let n,s,i,r,o,a;for(n=0,s=(t||[]).length;n<s;++n)i=t[n],{position:r,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return e}function SX(t){const e={};for(const n of t){const{stack:s,pos:i,stackWeight:r}=n;if(!s||!SC.includes(i))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function EX(t,e){const n=SX(t),{vBoxMaxWidth:s,hBoxMaxHeight:i}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*s:l&&e.availableWidth,a.height=i):(a.width=s,a.height=u?u*i:l&&e.availableHeight)}return n}function TX(t){const e=xX(t),n=Wc(e.filter(c=>c.box.fullSize),!0),s=Wc(Hc(e,"left"),!0),i=Wc(Hc(e,"right")),r=Wc(Hc(e,"top"),!0),o=Wc(Hc(e,"bottom")),a=vS(e,"x"),l=vS(e,"y");return{fullSize:n,leftAndTop:s.concat(r),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:Hc(e,"chartArea"),vertical:s.concat(i).concat(l),horizontal:r.concat(o).concat(a)}}function wS(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function EC(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function MX(t,e,n,s){const{pos:i,box:r}=n,o=t.maxPadding;if(!vt(i)){n.size&&(t[i]-=n.size);const d=s[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?r.height:r.width),n.size=d.size/d.count,t[i]+=n.size}r.getPadding&&EC(o,r.getPadding());const a=Math.max(0,e.outerWidth-wS(o,t,"left","right")),l=Math.max(0,e.outerHeight-wS(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function AX(t){const e=t.maxPadding;function n(s){const i=Math.max(e[s]-t[s],0);return t[s]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function CX(t,e){const n=e.maxPadding;function s(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(e[o],n[o])}),r}return s(t?["left","right"]:["top","bottom"])}function nu(t,e,n,s){const i=[];let r,o,a,l,c,u;for(r=0,o=t.length,c=0;r<o;++r){a=t[r],l=a.box,l.update(a.width||e.w,a.height||e.h,CX(a.horizontal,e));const{same:d,other:f}=MX(e,n,a,s);c|=d&&i.length,u=u||f,l.fullSize||i.push(a)}return c&&nu(i,e,n,s)||u}function Ef(t,e,n,s,i){t.top=n,t.left=e,t.right=e+s,t.bottom=n+i,t.width=s,t.height=i}function xS(t,e,n,s){const i=n.padding;let{x:r,y:o}=e;for(const a of t){const l=a.box,c=s[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,f=c.size||l.height;Ps(c.start)&&(o=c.start),l.fullSize?Ef(l,i.left,o,n.outerWidth-i.right-i.left,f):Ef(l,e.left+c.placed,o,d,f),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,f=c.size||l.width;Ps(c.start)&&(r=c.start),l.fullSize?Ef(l,r,i.top,f,n.outerHeight-i.bottom-i.top):Ef(l,r,e.top+c.placed,f,d),c.start=r,c.placed+=d,r=l.right}}e.x=r,e.y=o}ft.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Ms={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const i=Ln(t.options.layout.padding),r=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=TX(t.boxes),l=a.vertical,c=a.horizontal;kt(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,m)=>m.box.options&&m.box.options.display===!1?g:g+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},i);EC(f,Ln(s));const h=Object.assign({maxPadding:f,w:r,h:o,x:i.left,y:i.top},i),_=EX(l.concat(c),d);nu(a.fullSize,h,d,_),nu(l,h,d,_),nu(c,h,d,_)&&nu(l,h,d,_),AX(h),xS(a.leftAndTop,h,d,_),h.x+=h.w,h.y+=h.h,xS(a.rightAndBottom,h,d,_),t.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},kt(a.chartArea,g=>{const m=g.box;Object.assign(m,t.chartArea),m.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class TC{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,i){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(e){return!0}updateConfig(e){}}class RX extends TC{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const eh="$chartjs",PX={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},SS=t=>t===null||t==="";function kX(t,e){const n=t.style,s=t.getAttribute("height"),i=t.getAttribute("width");if(t[eh]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",SS(i)){const r=iS(t,"width");r!==void 0&&(t.width=r)}if(SS(s))if(t.style.height==="")t.height=t.width/(e||2);else{const r=iS(t,"height");r!==void 0&&(t.height=r)}return t}const MC=AK?{passive:!0}:!1;function OX(t,e,n){t.addEventListener(e,n,MC)}function LX(t,e,n){t.canvas.removeEventListener(e,n,MC)}function IX(t,e){const n=PX[t.type]||t.type,{x:s,y:i}=Ro(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:i!==void 0?i:null}}function zh(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function DX(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||zh(a.addedNodes,s),o=o&&!zh(a.removedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function NX(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||zh(a.removedNodes,s),o=o&&!zh(a.addedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const sd=new Map;let ES=0;function AC(){const t=window.devicePixelRatio;t!==ES&&(ES=t,sd.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function FX(t,e){sd.size||window.addEventListener("resize",AC),sd.set(t,e)}function $X(t){sd.delete(t),sd.size||window.removeEventListener("resize",AC)}function UX(t,e,n){const s=t.canvas,i=s&&vv(s);if(!i)return;const r=K2((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(i),FX(t,r),o}function jg(t,e,n){n&&n.disconnect(),e==="resize"&&$X(t)}function BX(t,e,n){const s=t.canvas,i=K2(r=>{t.ctx!==null&&n(IX(r,t))},t,r=>{const o=r[0];return[o,o.offsetX,o.offsetY]});return OX(s,e,i),i}class zX extends TC{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(kX(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[eh])return!1;const s=n[eh].initial;["height","width"].forEach(r=>{const o=s[r];Ot(o)?n.removeAttribute(r):n.setAttribute(r,o)});const i=s.style||{};return Object.keys(i).forEach(r=>{n.style[r]=i[r]}),n.width=n.width,delete n[eh],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:DX,detach:NX,resize:UX}[n]||BX;i[n]=o(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),i=s[n];if(!i)return;({attach:jg,detach:jg,resize:jg}[n]||LX)(e,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,i){return MK(e,n,s,i)}isAttached(e){const n=vv(e);return!!(n&&n.isConnected)}}function GX(t){return!pC()||typeof OffscreenCanvas!="undefined"&&t instanceof OffscreenCanvas?RX:zX}class li{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return Qu(this.x)&&Qu(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const i={};return e.forEach(r=>{i[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),i}}li.defaults={};li.defaultRoutes=void 0;const CC={values(t){return Gt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let i,r=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),r=VX(t,n)}const o=Ss(Math.abs(r)),a=Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Ed(t,s,l)},logarithmic(t,e,n){if(t===0)return"0";const s=t/Math.pow(10,Math.floor(Ss(t)));return s===1||s===2||s===5?CC.numeric.call(this,t,e,n):""}};function VX(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Kp={formatters:CC};ft.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Kp.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});ft.route("scale.ticks","color","","color");ft.route("scale.grid","color","","borderColor");ft.route("scale.grid","borderColor","","borderColor");ft.route("scale.title","color","","color");ft.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"});ft.describe("scales",{_fallback:"scale"});ft.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"});function HX(t,e){const n=t.options.ticks,s=n.maxTicksLimit||WX(t),i=n.major.enabled?YX(e):[],r=i.length,o=i[0],a=i[r-1],l=[];if(r>s)return qX(e,l,i,r/s),l;const c=jX(i,e,s);if(r>0){let u,d;const f=r>1?Math.round((a-o)/(r-1)):null;for(Tf(e,l,c,Ot(f)?0:o-f,o),u=0,d=r-1;u<d;u++)Tf(e,l,c,i[u],i[u+1]);return Tf(e,l,c,a,Ot(f)?e.length:a+f),l}return Tf(e,l,c),l}function WX(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(s,i))}function jX(t,e,n){const s=KX(t),i=e.length/n;if(!s)return Math.max(i,1);const r=yq(s);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>i)return l}return Math.max(i,1)}function YX(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function qX(t,e,n,s){let i=0,r=n[0],o;for(s=Math.ceil(s),o=0;o<t.length;o++)o===r&&(e.push(t[o]),i++,r=n[i*s])}function Tf(t,e,n,s,i){const r=rt(s,0),o=Math.min(rt(i,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-s,n=l/Math.floor(l/n)),u=r;u<0;)a++,u=Math.round(r+a*n);for(c=Math.max(r,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(r+a*n))}function KX(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const XX=t=>t==="left"?"right":t==="right"?"left":t,TS=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n;function MS(t,e){const n=[],s=t.length/e,i=t.length;let r=0;for(;r<i;r+=s)n.push(t[Math.floor(r)]);return n}function ZX(t,e,n){const s=t.ticks.length,i=Math.min(e,s-1),r=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(s===1?c=Math.max(l-r,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<r-a||l>o+a)))return l}function JX(t,e){kt(t,n=>{const s=n.gc,i=s.length/2;let r;if(i>e){for(r=0;r<i;++r)delete n.data[s[r]];s.splice(0,i)}})}function jc(t){return t.drawTicks?t.tickLength:0}function AS(t,e){if(!t.display)return 0;const n=hn(t.font,e),s=Ln(t.padding);return(Gt(t.text)?t.text.length:1)*n.lineHeight+s.height}function QX(t,e){return ho(t,{scale:e,type:"scale"})}function eZ(t,e,n){return ho(t,{tick:n,index:e,type:"tick"})}function tZ(t,e,n){let s=av(t);return(n&&e!=="right"||!n&&e==="right")&&(s=XX(s)),s}function nZ(t,e,n,s){const{top:i,left:r,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,f,h,_;const g=o-i,m=a-r;if(t.isHorizontal()){if(h=Mn(s,r,a),vt(n)){const y=Object.keys(n)[0],b=n[y];_=u[y].getPixelForValue(b)+g-e}else n==="center"?_=(c.bottom+c.top)/2+g-e:_=TS(t,n,e);f=a-r}else{if(vt(n)){const y=Object.keys(n)[0],b=n[y];h=u[y].getPixelForValue(b)-m+e}else n==="center"?h=(c.left+c.right)/2-m+e:h=TS(t,n,e);_=Mn(s,o,i),d=n==="left"?-tn:tn}return{titleX:h,titleY:_,maxWidth:f,rotation:d}}class va extends li{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return e=bs(e,Number.POSITIVE_INFINITY),n=bs(n,Number.NEGATIVE_INFINITY),s=bs(s,Number.POSITIVE_INFINITY),i=bs(i,Number.NEGATIVE_INFINITY),{min:bs(e,s),max:bs(n,i),minDefined:Sn(e),maxDefined:Sn(n)}}getMinMax(e){let{min:n,max:s,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),r||(s=Math.max(s,o.max));return n=r&&n>s?s:n,s=i&&n>s?n:s,{min:bs(n,bs(s,n)),max:bs(s,bs(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){$t(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=tK(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?MS(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=HX(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){$t(this.options.afterUpdate,[this])}beforeSetDimensions(){$t(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){$t(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),$t(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){$t(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,i,r;for(s=0,i=e.length;s<i;s++)r=e[s],r.label=$t(n.callback,[r.value,s,e],this)}afterTickToLabelConversion(){$t(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){$t(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=this.ticks.length,i=n.minRotation||0,r=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=r||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,h=Pn(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/s:h/(s-1),d+6>a&&(a=h/(s-(e.offset?.5:1)),l=this.maxHeight-jc(e.grid)-n.padding-AS(e.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),o=cv(Math.min(Math.asin(Pn((u.highest.height+6)/a,-1,1)),Math.asin(Pn(l/c,-1,1))-Math.asin(Pn(f/c,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){$t(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){$t(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=AS(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=jc(r)+l):(e.height=this.maxHeight,e.width=jc(r)+l),s.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:f}=this._getLabelSizes(),h=s.padding*2,_=Zs(this.labelRotation),g=Math.cos(_),m=Math.sin(_);if(a){const y=s.mirror?0:m*d.width+g*f.height;e.height=Math.min(this.maxHeight,e.height+y+h)}else{const y=s.mirror?0:g*d.width+m*f.height;e.width=Math.min(this.maxWidth,e.width+y+h)}this._calculatePadding(c,u,m,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,i){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,h=0;l?c?(f=i*e.width,h=s*n.height):(f=s*e.height,h=i*n.width):r==="start"?h=n.width:r==="end"?f=e.width:r!=="inner"&&(f=e.width/2,h=n.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((h-d+o)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;r==="start"?(u=0,d=e.height):r==="end"&&(u=n.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){$t(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)Ot(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=MS(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length)}return e}_computeLabelSizes(e,n){const{ctx:s,_longestTextCache:i}=this,r=[],o=[];let a=0,l=0,c,u,d,f,h,_,g,m,y,b,S;for(c=0;c<n;++c){if(f=e[c].label,h=this._resolveTickFontOptions(c),s.font=_=h.string,g=i[_]=i[_]||{data:{},gc:[]},m=h.lineHeight,y=b=0,!Ot(f)&&!Gt(f))y=$h(s,g.data,g.gc,y,f),b=m;else if(Gt(f))for(u=0,d=f.length;u<d;++u)S=f[u],!Ot(S)&&!Gt(S)&&(y=$h(s,g.data,g.gc,y,S),b+=m);r.push(y),o.push(b),a=Math.max(y,a),l=Math.max(b,l)}JX(i,n);const x=r.indexOf(a),v=o.indexOf(l),E=A=>({width:r[A]||0,height:o[A]||0});return{first:E(0),last:E(n-1),widest:E(x),highest:E(v),widths:r,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return wq(this._alignToPixels?So(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=eZ(this.getContext(),e,s))}return this.$context||(this.$context=QX(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Zs(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*s>a*i?a/s:l/i:l*i<a*s?l/s:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,i=this.options,{grid:r,position:o}=i,a=r.offset,l=this.isHorizontal(),u=this.ticks.length+(a?1:0),d=jc(r),f=[],h=r.setContext(this.getContext()),_=h.drawBorder?h.borderWidth:0,g=_/2,m=function(V){return So(s,V,_)};let y,b,S,x,v,E,A,w,C,N,O,z;if(o==="top")y=m(this.bottom),E=this.bottom-d,w=y-g,N=m(e.top)+g,z=e.bottom;else if(o==="bottom")y=m(this.top),N=e.top,z=m(e.bottom)-g,E=y+g,w=this.top+d;else if(o==="left")y=m(this.right),v=this.right-d,A=y-g,C=m(e.left)+g,O=e.right;else if(o==="right")y=m(this.left),C=e.left,O=m(e.right)-g,v=y+g,A=this.left+d;else if(n==="x"){if(o==="center")y=m((e.top+e.bottom)/2+.5);else if(vt(o)){const V=Object.keys(o)[0],H=o[V];y=m(this.chart.scales[V].getPixelForValue(H))}N=e.top,z=e.bottom,E=y+g,w=E+d}else if(n==="y"){if(o==="center")y=m((e.left+e.right)/2);else if(vt(o)){const V=Object.keys(o)[0],H=o[V];y=m(this.chart.scales[V].getPixelForValue(H))}v=y-g,A=v-d,C=e.left,O=e.right}const ee=rt(i.ticks.maxTicksLimit,u),B=Math.max(1,Math.ceil(u/ee));for(b=0;b<u;b+=B){const V=r.setContext(this.getContext(b)),H=V.lineWidth,te=V.color,J=r.borderDash||[],X=V.borderDashOffset,oe=V.tickWidth,me=V.tickColor,k=V.tickBorderDash||[],L=V.tickBorderDashOffset;S=ZX(this,b,a),S!==void 0&&(x=So(s,S,H),l?v=A=C=O=x:E=w=N=z=x,f.push({tx1:v,ty1:E,tx2:A,ty2:w,x1:C,y1:N,x2:O,y2:z,width:H,color:te,borderDash:J,borderDashOffset:X,tickWidth:oe,tickColor:me,tickBorderDash:k,tickBorderDashOffset:L}))}return this._ticksLength=u,this._borderValue=y,f}_computeLabelItems(e){const n=this.axis,s=this.options,{position:i,ticks:r}=s,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=r,f=jc(s.grid),h=f+u,_=d?-u:h,g=-Zs(this.labelRotation),m=[];let y,b,S,x,v,E,A,w,C,N,O,z,ee="middle";if(i==="top")E=this.bottom-_,A=this._getXAxisLabelAlignment();else if(i==="bottom")E=this.top+_,A=this._getXAxisLabelAlignment();else if(i==="left"){const V=this._getYAxisLabelAlignment(f);A=V.textAlign,v=V.x}else if(i==="right"){const V=this._getYAxisLabelAlignment(f);A=V.textAlign,v=V.x}else if(n==="x"){if(i==="center")E=(e.top+e.bottom)/2+h;else if(vt(i)){const V=Object.keys(i)[0],H=i[V];E=this.chart.scales[V].getPixelForValue(H)+h}A=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")v=(e.left+e.right)/2-h;else if(vt(i)){const V=Object.keys(i)[0],H=i[V];v=this.chart.scales[V].getPixelForValue(H)}A=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?ee="top":l==="end"&&(ee="bottom"));const B=this._getLabelSizes();for(y=0,b=a.length;y<b;++y){S=a[y],x=S.label;const V=r.setContext(this.getContext(y));w=this.getPixelForTick(y)+r.labelOffset,C=this._resolveTickFontOptions(y),N=C.lineHeight,O=Gt(x)?x.length:1;const H=O/2,te=V.color,J=V.textStrokeColor,X=V.textStrokeWidth;let oe=A;o?(v=w,A==="inner"&&(y===b-1?oe=this.options.reverse?"left":"right":y===0?oe=this.options.reverse?"right":"left":oe="center"),i==="top"?c==="near"||g!==0?z=-O*N+N/2:c==="center"?z=-B.highest.height/2-H*N+N:z=-B.highest.height+N/2:c==="near"||g!==0?z=N/2:c==="center"?z=B.highest.height/2-H*N:z=B.highest.height-O*N,d&&(z*=-1)):(E=w,z=(1-O)*N/2);let me;if(V.showLabelBackdrop){const k=Ln(V.backdropPadding),L=B.heights[y],q=B.widths[y];let F=E+z-k.top,I=v-k.left;switch(ee){case"middle":F-=L/2;break;case"bottom":F-=L;break}switch(A){case"center":I-=q/2;break;case"right":I-=q;break}me={left:I,top:F,width:q+k.width,height:L+k.height,color:V.backdropColor}}m.push({rotation:g,label:x,font:C,color:te,strokeColor:J,strokeWidth:X,textOffset:z,textAlign:oe,textBaseline:ee,translation:[v,E],backdrop:me})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Zs(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let c,u;return n==="left"?i?(u=this.right+r,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+r,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:i,width:r,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,i,r,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(r=>r.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(c.x,c.y),s.stroke(),s.restore())};if(n.display)for(r=0,o=i.length;r<o;++r){const l=i[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{grid:s}}=this,i=s.setContext(this.getContext()),r=s.drawBorder?i.borderWidth:0;if(!r)return;const o=s.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,u,d;this.isHorizontal()?(l=So(e,this.left,r)-r/2,c=So(e,this.right,o)+o/2,u=d=a):(u=So(e,this.top,r)-r/2,d=So(e,this.bottom,o)+o/2,l=c=a),n.save(),n.lineWidth=i.borderWidth,n.strokeStyle=i.borderColor,n.beginPath(),n.moveTo(l,u),n.lineTo(c,d),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&hv(s,i);const r=this._labelItems||(this._labelItems=this._computeLabelItems(e));let o,a;for(o=0,a=r.length;o<a;++o){const l=r[o],c=l.font,u=l.label;l.backdrop&&(s.fillStyle=l.backdrop.color,s.fillRect(l.backdrop.left,l.backdrop.top,l.backdrop.width,l.backdrop.height));let d=l.textOffset;ha(s,u,0,d,c,l)}i&&pv(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const r=hn(s.font),o=Ln(s.padding),a=s.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||vt(n)?(l+=o.bottom,Gt(s.text)&&(l+=r.lineHeight*(s.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:f}=nZ(this,l,n,a);ha(e,s.text,0,0,r,{color:s.color,maxWidth:d,rotation:f,textAlign:tZ(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(e){!this._isVisible()||(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=rt(e.grid&&e.grid.z,-1);return!this._isVisible()||this.draw!==va.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s+1,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[s]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return hn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Mf{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;rZ(n)&&(s=this.register(n));const i=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,sZ(e,o,s),this.override&&ft.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,i=this.scope;s in n&&delete n[s],i&&s in ft[i]&&(delete ft[i][s],this.override&&delete fa[s])}}function sZ(t,e,n){const s=Ju(Object.create(null),[n?ft.get(n):{},ft.get(e),t.defaults]);ft.set(e,s),t.defaultRoutes&&iZ(e,t.defaultRoutes),t.descriptors&&ft.describe(e,t.descriptors)}function iZ(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),i=s.pop(),r=[t].concat(s).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");ft.route(r,i,l,a)})}function rZ(t){return"id"in t&&"defaults"in t}class oZ{constructor(){this.controllers=new Mf(Li,"datasets",!0),this.elements=new Mf(li,"elements"),this.plugins=new Mf(Object,"plugins"),this.scales=new Mf(va,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(i=>{const r=s||this._getRegistryForType(i);s||r.isForType(i)||r===this.plugins&&i.id?this._exec(e,r,i):kt(i,o=>{const a=s||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,s){const i=lv(e);$t(s["before"+i],[],s),n[e](s),$t(s["after"+i],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return i}}var sr=new oZ;class aZ{constructor(){this._init=[]}notify(e,n,s,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(r,e,n,s);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,s,i){i=i||{};for(const r of e){const o=r.plugin,a=o[s],l=[n,i,r.options];if($t(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Ot(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,i=rt(s.options&&s.options.plugins,{}),r=lZ(s);return i===!1&&!n?[]:uZ(e,r,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,i=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,s),e,"stop"),this._notify(i(s,n),e,"start")}}function lZ(t){const e=[],n=Object.keys(sr.plugins.items);for(let i=0;i<n.length;i++)e.push(sr.getPlugin(n[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const r=s[i];e.indexOf(r)===-1&&e.push(r)}return e}function cZ(t,e){return!e&&t===!1?null:t===!0?{}:t}function uZ(t,e,n,s){const i=[],r=t.getContext();for(let o=0;o<e.length;o++){const a=e[o],l=a.id,c=cZ(n[l],s);c!==null&&i.push({plugin:a,options:dZ(t.config,a,c,r)})}return i}function dZ(t,e,n,s){const i=t.pluginScopeKeys(e),r=t.getOptionScopes(n,i);return t.createResolver(r,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ay(t,e){const n=ft.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function fZ(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function hZ(t,e){return t===e?"_index_":"_value_"}function pZ(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function ly(t,e){return t==="x"||t==="y"?t:e.axis||pZ(e.position)||t.charAt(0).toLowerCase()}function mZ(t,e){const n=fa[t.type]||{scales:{}},s=e.scales||{},i=ay(t.type,e),r=Object.create(null),o=Object.create(null);return Object.keys(s).forEach(a=>{const l=s[a];if(!vt(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=ly(a,l),u=hZ(c,i),d=n.scales||{};r[c]=r[c]||a,o[a]=vu(Object.create(null),[{axis:c},l,d[c],d[u]])}),t.data.datasets.forEach(a=>{const l=a.type||t.type,c=a.indexAxis||ay(l,e),d=(fa[l]||{}).scales||{};Object.keys(d).forEach(f=>{const h=fZ(f,c),_=a[h+"AxisID"]||r[h]||h;o[_]=o[_]||Object.create(null),vu(o[_],[{axis:h},s[_],d[f]])})}),Object.keys(o).forEach(a=>{const l=o[a];vu(l,[ft.scales[l.type],ft.scale])}),o}function RC(t){const e=t.options||(t.options={});e.plugins=rt(e.plugins,{}),e.scales=mZ(t,e)}function PC(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function gZ(t){return t=t||{},t.data=PC(t.data),RC(t),t}const CS=new Map,kC=new Set;function Af(t,e){let n=CS.get(t);return n||(n=e(),CS.set(t,n),kC.add(n)),n}const Yc=(t,e,n)=>{const s=ao(e,n);s!==void 0&&t.add(s)};class _Z{constructor(e){this._config=gZ(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=PC(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),RC(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Af(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Af(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Af(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return Af(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let i=s.get(e);return(!i||n)&&(i=new Map,s.set(e,i)),i}getOptionScopes(e,n,s){const{options:i,type:r}=this,o=this._cachedScopes(e,s),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>Yc(l,e,d))),u.forEach(d=>Yc(l,i,d)),u.forEach(d=>Yc(l,fa[r]||{},d)),u.forEach(d=>Yc(l,ft,d)),u.forEach(d=>Yc(l,ry,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),kC.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,fa[n]||{},ft.datasets[n]||{},{type:n},ft,ry]}resolveNamedOptions(e,n,s,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=RS(this._resolverCache,e,i);let l=o;if(bZ(o,n)){r.$shared=!1,s=lo(s)?s():s;const c=this.createResolver(e,s,a);l=jl(o,s,c)}for(const c of n)r[c]=l[c];return r}createResolver(e,n,s=[""],i){const{resolver:r}=RS(this._resolverCache,e,s);return vt(n)?jl(r,n,void 0,i):r}}function RS(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const i=n.join();let r=s.get(i);return r||(r={resolver:_v(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,r)),r}const yZ=t=>vt(t)&&Object.getOwnPropertyNames(t).reduce((e,n)=>e||lo(t[n]),!1);function bZ(t,e){const{isScriptable:n,isIndexable:s}=lC(t);for(const i of e){const r=n(i),o=s(i),a=(o||r)&&t[i];if(r&&(lo(a)||yZ(a))||o&&Gt(a))return!0}return!1}var vZ="3.8.0";const wZ=["top","bottom","left","right","chartArea"];function PS(t,e){return t==="top"||t==="bottom"||wZ.indexOf(t)===-1&&e==="x"}function kS(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function OS(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),$t(n&&n.onComplete,[t],e)}function xZ(t){const e=t.chart,n=e.options.animation;$t(n&&n.onProgress,[t],e)}function OC(t){return pC()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Gh={},LC=t=>{const e=OC(t);return Object.values(Gh).filter(n=>n.canvas===e).pop()};function SZ(t,e,n){const s=Object.keys(t);for(const i of s){const r=+i;if(r>=e){const o=t[i];delete t[i],(n>0||r>e)&&(t[r+n]=o)}}}function EZ(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}class id{constructor(e,n){const s=this.config=new _Z(n),i=OC(e),r=LC(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||GX(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=cq(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new aZ,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=aq(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],Gh[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Hi.listen(this,"complete",OS),Hi.listen(this,"progress",xZ),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:i,_aspectRatio:r}=this;return Ot(e)?n&&r?r:i?s/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():sS(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Q1(this.canvas,this.ctx),this}stop(){return Hi.stop(this),this}resize(e,n){Hi.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,i=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,r),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,sS(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),$t(s.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};kt(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,i=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=ly(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),kt(r,o=>{const a=o.options,l=a.id,c=ly(l,a),u=rt(a.type,o.dtype);(a.position===void 0||PS(a.position,c)!==PS(o.dposition))&&(a.position=o.dposition),i[l]=!0;let d=null;if(l in s&&s[l].type===u)d=s[l];else{const f=sr.getScale(u);d=new f({id:l,type:u,ctx:this.ctx,chart:this}),s[d.id]=d}d.init(a,e)}),kt(i,(o,a)=>{o||delete s[a]}),kt(s,o=>{Ms.configure(this,o,o.options),Ms.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((i,r)=>i.index-r.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(kS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,i)=>{n.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const r=n[s];let o=this.getDatasetMeta(s);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=r.indexAxis||ay(a,this.options),o.order=r.order||0,o.index=s,o.label=""+r.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const l=sr.getController(a),{datasetElementType:c,dataElementType:u}=ft.datasets[a];Object.assign(l.prototype,{dataElementType:sr.getElement(u),datasetElementType:c&&sr.getElement(c)}),o.controller=new l(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){kt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),f=!i&&r.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),i||kt(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(kS("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){kt(this.scales,e=>{Ms.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!G1(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:r}of n){const o=s==="_removeElements"?-r:r;SZ(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=s(0);for(let r=1;r<n;r++)if(!G1(i,s(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ms.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],kt(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,lo(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),i={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Hi.has(this)?this.attached&&!Hi.running(this)&&Hi.start(this):(this.draw(),OS({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resize(s,i),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let i,r;for(i=0,r=n.length;i<r;++i){const o=n[i];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s=e._clip,i=!s.disabled,r=this.chartArea,o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&hv(n,{left:s.left===!1?0:r.left-s.left,right:s.right===!1?this.width:r.right+s.right,top:s.top===!1?0:r.top-s.top,bottom:s.bottom===!1?this.height:r.bottom+s.bottom}),e.controller.draw(),i&&pv(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return td(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,i){const r=wX.modes[n];return typeof r=="function"?r(this,e,s,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let i=s.filter(r=>r&&r._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=ho(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const i=s?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,i);Ps(n)?(r.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(r,{visible:s}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Hi.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Q1(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete Gh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(r,o)=>{n.addEventListener(this,r,o),e[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};kt(this.options.events,r=>s(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",r),s("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){kt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},kt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const i=s?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!Ih(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}_updateHoverStyles(e,n,s){const i=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=r(n,e),a=s?e:r(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const r=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(r||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:i=[],options:r}=this,o=n,a=this._getActiveElements(e,i,s,o),l=mq(e),c=EZ(e,this._lastEvent,s,l);s&&(this._lastEvent=null,$t(r.onHover,[e,a,this],this),l&&$t(r.onClick,[e,a,this],this));const u=!Ih(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(e,n,s,i){if(e.type==="mouseout")return[];if(!s)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}}const LS=()=>kt(id.instances,t=>t._plugins.invalidate()),Lr=!0;Object.defineProperties(id,{defaults:{enumerable:Lr,value:ft},instances:{enumerable:Lr,value:Gh},overrides:{enumerable:Lr,value:fa},registry:{enumerable:Lr,value:sr},version:{enumerable:Lr,value:vZ},getChart:{enumerable:Lr,value:LC},register:{enumerable:Lr,value:(...t)=>{sr.add(...t),LS()}},unregister:{enumerable:Lr,value:(...t)=>{sr.remove(...t),LS()}}});function IC(t,e,n){const{startAngle:s,pixelMargin:i,x:r,y:o,outerRadius:a,innerRadius:l}=e;let c=i/a;t.beginPath(),t.arc(r,o,a,s-c,n+c),l>i?(c=i/l,t.arc(r,o,l,n+c,s-c,!0)):t.arc(r,o,i,n+tn,s-tn),t.closePath(),t.clip()}function TZ(t){return mv(t,["outerStart","outerEnd","innerStart","innerEnd"])}function MZ(t,e,n,s){const i=TZ(t.options.borderRadius),r=(n-e)/2,o=Math.min(r,s*e/2),a=l=>{const c=(n-Math.min(r,l))*s/2;return Pn(l,0,Math.min(r,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Pn(i.innerStart,0,o),innerEnd:Pn(i.innerEnd,0,o)}}function Za(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function cy(t,e,n,s,i){const{x:r,y:o,startAngle:a,pixelMargin:l,innerRadius:c}=e,u=Math.max(e.outerRadius+s+n-l,0),d=c>0?c+s+n+l:0;let f=0;const h=i-a;if(s){const H=c>0?c-s:0,te=u>0?u-s:0,J=(H+te)/2,X=J!==0?h*J/(J+s):h;f=(h-X)/2}const _=Math.max(.001,h*u-n/Kt)/u,g=(h-_)/2,m=a+g+f,y=i-g-f,{outerStart:b,outerEnd:S,innerStart:x,innerEnd:v}=MZ(e,d,u,y-m),E=u-b,A=u-S,w=m+b/E,C=y-S/A,N=d+x,O=d+v,z=m+x/N,ee=y-v/O;if(t.beginPath(),t.arc(r,o,u,w,C),S>0){const H=Za(A,C,r,o);t.arc(H.x,H.y,S,C,y+tn)}const B=Za(O,y,r,o);if(t.lineTo(B.x,B.y),v>0){const H=Za(O,ee,r,o);t.arc(H.x,H.y,v,y+tn,ee+Math.PI)}if(t.arc(r,o,d,y-v/d,m+x/d,!0),x>0){const H=Za(N,z,r,o);t.arc(H.x,H.y,x,z+Math.PI,m-tn)}const V=Za(E,m,r,o);if(t.lineTo(V.x,V.y),b>0){const H=Za(E,w,r,o);t.arc(H.x,H.y,b,m-tn,w)}t.closePath()}function AZ(t,e,n,s){const{fullCircles:i,startAngle:r,circumference:o}=e;let a=e.endAngle;if(i){cy(t,e,n,s,r+Ut);for(let l=0;l<i;++l)t.fill();isNaN(o)||(a=r+o%Ut,o%Ut===0&&(a+=Ut))}return cy(t,e,n,s,a),t.fill(),a}function CZ(t,e,n){const{x:s,y:i,startAngle:r,pixelMargin:o,fullCircles:a}=e,l=Math.max(e.outerRadius-o,0),c=e.innerRadius+o;let u;for(n&&IC(t,e,r+Ut),t.beginPath(),t.arc(s,i,c,r+Ut,r,!0),u=0;u<a;++u)t.stroke();for(t.beginPath(),t.arc(s,i,l,r,r+Ut),u=0;u<a;++u)t.stroke()}function RZ(t,e,n,s,i){const{options:r}=e,{borderWidth:o,borderJoinStyle:a}=r,l=r.borderAlign==="inner";!o||(l?(t.lineWidth=o*2,t.lineJoin=a||"round"):(t.lineWidth=o,t.lineJoin=a||"bevel"),e.fullCircles&&CZ(t,e,l),l&&IC(t,e,i),cy(t,e,n,s,i),t.stroke())}class Tv extends li{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,s){const i=this.getProps(["x","y"],s),{angle:r,distance:o}=Q2(i,{x:e,y:n}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),f=this.options.spacing/2,_=rt(d,l-a)>=Ut||ed(r,a,l),g=jr(o,c+f,u+f);return _&&g}getCenterPoint(e){const{x:n,y:s,startAngle:i,endAngle:r,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:l,spacing:c}=this.options,u=(i+r)/2,d=(o+a+c+l)/2;return{x:n+Math.cos(u)*d,y:s+Math.sin(u)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:s}=this,i=(n.offset||0)/2,r=(n.spacing||0)/2;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=s>Ut?Math.floor(s/Ut):0,s===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let o=0;if(i){o=i/2;const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*o,Math.sin(l)*o),this.circumference>=Kt&&(o=i)}e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor;const a=AZ(e,this,o,r);RZ(e,this,o,r,a),e.restore()}}Tv.id="arc";Tv.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0};Tv.defaultRoutes={backgroundColor:"backgroundColor"};function DC(t,e,n=e){t.lineCap=rt(n.borderCapStyle,e.borderCapStyle),t.setLineDash(rt(n.borderDash,e.borderDash)),t.lineDashOffset=rt(n.borderDashOffset,e.borderDashOffset),t.lineJoin=rt(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=rt(n.borderWidth,e.borderWidth),t.strokeStyle=rt(n.borderColor,e.borderColor)}function PZ(t,e,n){t.lineTo(n.x,n.y)}function kZ(t){return t.stepped?Yq:t.tension||t.cubicInterpolationMode==="monotone"?qq:PZ}function NC(t,e,n={}){const s=t.length,{start:i=0,end:r=s-1}=n,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(r,a),u=i<o&&r<o||i>a&&r>a;return{count:s,start:l,loop:e.loop,ilen:c<l&&!u?s+c-l:c-l}}function OZ(t,e,n,s){const{points:i,options:r}=e,{count:o,start:a,loop:l,ilen:c}=NC(i,n,s),u=kZ(r);let{move:d=!0,reverse:f}=s||{},h,_,g;for(h=0;h<=c;++h)_=i[(a+(f?c-h:h))%o],!_.skip&&(d?(t.moveTo(_.x,_.y),d=!1):u(t,g,_,f,r.stepped),g=_);return l&&(_=i[(a+(f?c:0))%o],u(t,g,_,f,r.stepped)),!!l}function LZ(t,e,n,s){const i=e.points,{count:r,start:o,ilen:a}=NC(i,n,s),{move:l=!0,reverse:c}=s||{};let u=0,d=0,f,h,_,g,m,y;const b=x=>(o+(c?a-x:x))%r,S=()=>{g!==m&&(t.lineTo(u,m),t.lineTo(u,g),t.lineTo(u,y))};for(l&&(h=i[b(0)],t.moveTo(h.x,h.y)),f=0;f<=a;++f){if(h=i[b(f)],h.skip)continue;const x=h.x,v=h.y,E=x|0;E===_?(v<g?g=v:v>m&&(m=v),u=(d*u+x)/++d):(S(),t.lineTo(x,v),_=E,d=0,g=m=v),y=v}S()}function uy(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?LZ:OZ}function IZ(t){return t.stepped?CK:t.tension||t.cubicInterpolationMode==="monotone"?RK:Po}function DZ(t,e,n,s){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,s)&&i.closePath()),DC(t,e.options),t.stroke(i)}function NZ(t,e,n,s){const{segments:i,options:r}=e,o=uy(e);for(const a of i)DC(t,r,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const FZ=typeof Path2D=="function";function $Z(t,e,n,s){FZ&&!e.options.segment?DZ(t,e,n,s):NZ(t,e,n,s)}class Cd extends li{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;vK(this._points,s,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=$K(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,i=e[n],r=this.points,o=DK(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=IZ(s);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:f}=o[c],h=r[d],_=r[f];if(h===_){a.push(h);continue}const g=Math.abs((i-h[n])/(_[n]-h[n])),m=l(h,_,g,s.stepped);m[n]=e[n],a.push(m)}return a.length===1?a[0]:a}pathSegment(e,n,s){return uy(this)(e,this,n,s)}path(e,n,s){const i=this.segments,r=uy(this);let o=this._loop;n=n||0,s=s||this.points.length-n;for(const a of i)o&=r(e,this,a,{start:n,end:n+s-1});return!!o}draw(e,n,s,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),$Z(e,this,s,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Cd.id="line";Cd.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};Cd.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};Cd.descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};function IS(t,e,n,s){const i=t.options,{[n]:r}=t.getProps([n],s);return Math.abs(e-r)<i.radius+i.hitRadius}class Xp extends li{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,s){const i=this.options,{x:r,y:o}=this.getProps(["x","y"],s);return Math.pow(e-r,2)+Math.pow(n-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,n){return IS(this,e,"x",n)}inYRange(e,n){return IS(this,e,"y",n)}getCenterPoint(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const s=n&&e.borderWidth||0;return(n+s)*2}draw(e,n){const s=this.options;this.skip||s.radius<.1||!td(this,n,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,Uh(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}Xp.id="point";Xp.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};Xp.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function FC(t,e){const{x:n,y:s,base:i,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,d;return t.horizontal?(d=o/2,a=Math.min(n,i),l=Math.max(n,i),c=s-d,u=s+d):(d=r/2,a=n-d,l=n+d,c=Math.min(s,i),u=Math.max(s,i)),{left:a,top:c,right:l,bottom:u}}function qr(t,e,n,s){return t?0:Pn(e,n,s)}function UZ(t,e,n){const s=t.options.borderWidth,i=t.borderSkipped,r=rC(s);return{t:qr(i.top,r.top,0,n),r:qr(i.right,r.right,0,e),b:qr(i.bottom,r.bottom,0,n),l:qr(i.left,r.left,0,e)}}function BZ(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,r=ta(i),o=Math.min(e,n),a=t.borderSkipped,l=s||vt(i);return{topLeft:qr(!l||a.top||a.left,r.topLeft,0,o),topRight:qr(!l||a.top||a.right,r.topRight,0,o),bottomLeft:qr(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:qr(!l||a.bottom||a.right,r.bottomRight,0,o)}}function zZ(t){const e=FC(t),n=e.right-e.left,s=e.bottom-e.top,i=UZ(t,n/2,s/2),r=BZ(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:r},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:s-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function Yg(t,e,n,s){const i=e===null,r=n===null,a=t&&!(i&&r)&&FC(t,s);return a&&(i||jr(e,a.left,a.right))&&(r||jr(n,a.top,a.bottom))}function GZ(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function VZ(t,e){t.rect(e.x,e.y,e.w,e.h)}function qg(t,e,n={}){const s=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-s,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+s,y:t.y+i,w:t.w+r,h:t.h+o,radius:t.radius}}class Mv extends li{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:i}}=this,{inner:r,outer:o}=zZ(this),a=GZ(o.radius)?nd:VZ;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,qg(o,n,r)),e.clip(),a(e,qg(r,-n,o)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),a(e,qg(r,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,s){return Yg(this,e,n,s)}inXRange(e,n){return Yg(this,e,null,n)}inYRange(e,n){return Yg(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+i)/2:n,y:r?s:(s+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Mv.id="bar";Mv.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};Mv.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};const DS=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},HZ=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class NS extends li{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=$t(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,i)=>e.sort(s,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,i=hn(s.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=DS(s,r);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,r,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let d=e;r.textAlign="left",r.textBaseline="middle";let f=-1,h=-u;return this.legendItems.forEach((_,g)=>{const m=s+n/2+r.measureText(_.text).width;(g===0||c[c.length-1]+m+2*a>o)&&(d+=u,c[c.length-(g>0?0:1)]=0,h+=u,f++),l[g]={left:0,top:h,row:f,width:m,height:i},c[c.length-1]+=m+a}),d}_fitCols(e,n,s,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let d=a,f=0,h=0,_=0,g=0;return this.legendItems.forEach((m,y)=>{const b=s+n/2+r.measureText(m.text).width;y>0&&h+i+2*a>u&&(d+=f+a,c.push({width:f,height:h}),_+=f+a,g++,f=h=0),l[y]={left:_,top:h,col:g,width:b,height:i},f=Math.max(f,b),h+=i+a}),d+=f,c.push({width:f,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:i},rtl:r}}=this,o=Cl(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=Mn(s,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Mn(s,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=Mn(s,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Mn(s,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;hv(e,this),this._draw(),pv(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:i}=this,{align:r,labels:o}=e,a=ft.color,l=Cl(e.rtl,this.left,this.width),c=hn(o.font),{color:u,padding:d}=o,f=c.size,h=f/2;let _;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:g,boxHeight:m,itemHeight:y}=DS(o,f),b=function(A,w,C){if(isNaN(g)||g<=0||isNaN(m)||m<0)return;i.save();const N=rt(C.lineWidth,1);if(i.fillStyle=rt(C.fillStyle,a),i.lineCap=rt(C.lineCap,"butt"),i.lineDashOffset=rt(C.lineDashOffset,0),i.lineJoin=rt(C.lineJoin,"miter"),i.lineWidth=N,i.strokeStyle=rt(C.strokeStyle,a),i.setLineDash(rt(C.lineDash,[])),o.usePointStyle){const O={radius:g*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:N},z=l.xPlus(A,g/2),ee=w+h;Uh(i,O,z,ee)}else{const O=w+Math.max((f-m)/2,0),z=l.leftForLtr(A,g),ee=ta(C.borderRadius);i.beginPath(),Object.values(ee).some(B=>B!==0)?nd(i,{x:z,y:O,w:g,h:m,radius:ee}):i.rect(z,O,g,m),i.fill(),N!==0&&i.stroke()}i.restore()},S=function(A,w,C){ha(i,C.text,A,w+y/2,c,{strikethrough:C.hidden,textAlign:l.textAlign(C.textAlign)})},x=this.isHorizontal(),v=this._computeTitleHeight();x?_={x:Mn(r,this.left+d,this.right-s[0]),y:this.top+d+v,line:0}:_={x:this.left+d,y:Mn(r,this.top+v+d,this.bottom-n[0].height),line:0},mC(this.ctx,e.textDirection);const E=y+d;this.legendItems.forEach((A,w)=>{i.strokeStyle=A.fontColor||u,i.fillStyle=A.fontColor||u;const C=i.measureText(A.text).width,N=l.textAlign(A.textAlign||(A.textAlign=o.textAlign)),O=g+h+C;let z=_.x,ee=_.y;l.setWidth(this.width),x?w>0&&z+O+d>this.right&&(ee=_.y+=E,_.line++,z=_.x=Mn(r,this.left+d,this.right-s[_.line])):w>0&&ee+E>this.bottom&&(z=_.x=z+n[_.line].width+d,_.line++,ee=_.y=Mn(r,this.top+v+d,this.bottom-n[_.line].height));const B=l.x(z);b(B,ee,A),z=lq(N,z+g+h,x?z+O:this.right,e.rtl),S(l.x(z),ee,A),x?_.x+=O+d:_.y+=E}),gC(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=hn(n.font),i=Ln(n.padding);if(!n.display)return;const r=Cl(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=s.size/2,c=i.top+l;let u,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,d=Mn(e.align,d,this.right-f);else{const _=this.columnSizes.reduce((g,m)=>Math.max(g,m.height),0);u=c+Mn(e.align,this.top,this.bottom-_-e.labels.padding-this._computeTitleHeight())}const h=Mn(a,d,d+f);o.textAlign=r.textAlign(av(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,ha(o,n.text,h,u,s)}_computeTitleHeight(){const e=this.options.title,n=hn(e.font),s=Ln(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,i,r;if(jr(e,this.left,this.right)&&jr(n,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(i=r[s],jr(e,i.left,i.left+i.width)&&jr(n,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!WZ(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,r=HZ(i,s);i&&!r&&$t(n.onLeave,[e,i,this],this),this._hoveredItem=s,s&&!r&&$t(n.onHover,[e,s,this],this)}else s&&$t(n.onClick,[e,s,this],this)}}function WZ(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var jZ={id:"legend",_element:NS,start(t,e,n){const s=t.legend=new NS({ctx:t.ctx,options:n,chart:t});Ms.configure(t,s,n),Ms.addBox(t,s)},stop(t){Ms.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;Ms.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),e.hidden=!0):(i.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:r}}=t.legend.options;return t._getSortedDatasetMetas().map(o=>{const a=o.controller.getStyle(n?0:void 0),l=Ln(a.borderWidth);return{text:e[o.index].label,fillStyle:a.backgroundColor,fontColor:r,hidden:!o.visible,lineCap:a.borderCapStyle,lineDash:a.borderDash,lineDashOffset:a.borderDashOffset,lineJoin:a.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:a.borderColor,pointStyle:s||a.pointStyle,rotation:a.rotation,textAlign:i||a.textAlign,borderRadius:0,datasetIndex:o.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class $C extends li{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=Gt(s.text)?s.text.length:1;this._padding=Ln(s.padding);const r=i*hn(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:i,right:r,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=Mn(a,s,r),d=n+e,c=r-s):(o.position==="left"?(u=s+e,d=Mn(a,i,n),l=Kt*-.5):(u=r-e,d=Mn(a,n,i),l=Kt*.5),c=i-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=hn(n.font),r=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);ha(e,n.text,0,0,s,{color:n.color,maxWidth:l,rotation:c,textAlign:av(n.align),textBaseline:"middle",translation:[o,a]})}}function YZ(t,e){const n=new $C({ctx:t.ctx,options:e,chart:t});Ms.configure(t,n,e),Ms.addBox(t,n),t.titleBlock=n}var qZ={id:"title",_element:$C,start(t,e,n){YZ(t,n)},stop(t){const e=t.titleBlock;Ms.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;Ms.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Eu={average(t){if(!t.length)return!1;let e,n,s=0,i=0,r=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const a=o.tooltipPosition();s+=a.x,i+=a.y,++r}}return{x:s/r,y:i/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const l=t[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=sy(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,s=l.y}return{x:n,y:s}}};function gi(t,e){return e&&(Gt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Wi(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function KZ(t,e){const{element:n,datasetIndex:s,index:i}=e,r=t.getDatasetMeta(s).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:t,label:o,parsed:r.getParsed(i),raw:t.data.datasets[s].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function FS(t,e){const n=t.chart.ctx,{body:s,footer:i,title:r}=t,{boxWidth:o,boxHeight:a}=e,l=hn(e.bodyFont),c=hn(e.titleFont),u=hn(e.footerFont),d=r.length,f=i.length,h=s.length,_=Ln(e.padding);let g=_.height,m=0,y=s.reduce((x,v)=>x+v.before.length+v.lines.length+v.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,d&&(g+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),y){const x=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=h*x+(y-h)*l.lineHeight+(y-1)*e.bodySpacing}f&&(g+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let b=0;const S=function(x){m=Math.max(m,n.measureText(x).width+b)};return n.save(),n.font=c.string,kt(t.title,S),n.font=l.string,kt(t.beforeBody.concat(t.afterBody),S),b=e.displayColors?o+2+e.boxPadding:0,kt(s,x=>{kt(x.before,S),kt(x.lines,S),kt(x.after,S)}),b=0,n.font=u.string,kt(t.footer,S),n.restore(),m+=_.width,{width:m,height:g}}function XZ(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function ZZ(t,e,n,s){const{x:i,width:r}=s,o=n.caretSize+n.caretPadding;if(t==="left"&&i+r+o>e.width||t==="right"&&i-r-o<0)return!0}function JZ(t,e,n,s){const{x:i,width:r}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return s==="center"?c=i<=(a+l)/2?"left":"right":i<=r/2?c="left":i>=o-r/2&&(c="right"),ZZ(c,t,e,n)&&(c="center"),c}function $S(t,e,n){const s=n.yAlign||e.yAlign||XZ(t,n);return{xAlign:n.xAlign||e.xAlign||JZ(t,e,n,s),yAlign:s}}function QZ(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function eJ(t,e,n){let{y:s,height:i}=t;return e==="top"?s+=n:e==="bottom"?s-=i+n:s-=i/2,s}function US(t,e,n,s){const{caretSize:i,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+r,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:h}=ta(o);let _=QZ(e,a);const g=eJ(e,l,c);return l==="center"?a==="left"?_+=c:a==="right"&&(_-=c):a==="left"?_-=Math.max(u,f)+i:a==="right"&&(_+=Math.max(d,h)+i),{x:Pn(_,0,s.width-e.width),y:Pn(g,0,s.height-e.height)}}function Cf(t,e,n){const s=Ln(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function BS(t){return gi([],Wi(t))}function tJ(t,e,n){return ho(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function zS(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}class dy extends li{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&n.options.animation&&s.animations,r=new yC(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=tJ(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,i=s.beforeTitle.apply(this,[e]),r=s.title.apply(this,[e]),o=s.afterTitle.apply(this,[e]);let a=[];return a=gi(a,Wi(i)),a=gi(a,Wi(r)),a=gi(a,Wi(o)),a}getBeforeBody(e,n){return BS(n.callbacks.beforeBody.apply(this,[e]))}getBody(e,n){const{callbacks:s}=n,i=[];return kt(e,r=>{const o={before:[],lines:[],after:[]},a=zS(s,r);gi(o.before,Wi(a.beforeLabel.call(this,r))),gi(o.lines,a.label.call(this,r)),gi(o.after,Wi(a.afterLabel.call(this,r))),i.push(o)}),i}getAfterBody(e,n){return BS(n.callbacks.afterBody.apply(this,[e]))}getFooter(e,n){const{callbacks:s}=n,i=s.beforeFooter.apply(this,[e]),r=s.footer.apply(this,[e]),o=s.afterFooter.apply(this,[e]);let a=[];return a=gi(a,Wi(i)),a=gi(a,Wi(r)),a=gi(a,Wi(o)),a}_createItems(e){const n=this._active,s=this.chart.data,i=[],r=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(KZ(this.chart,n[l]));return e.filter&&(a=a.filter((u,d,f)=>e.filter(u,d,f,s))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,s))),kt(a,u=>{const d=zS(e.callbacks,u);i.push(d.labelColor.call(this,u)),r.push(d.labelPointStyle.call(this,u)),o.push(d.labelTextColor.call(this,u))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const s=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=Eu[s.position].call(this,i,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const l=this._size=FS(this,s),c=Object.assign({},a,l),u=$S(this.chart,s,c),d=US(s,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,i){const r=this.getCaretPosition(e,s,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,s){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=ta(a),{x:f,y:h}=e,{width:_,height:g}=n;let m,y,b,S,x,v;return r==="center"?(x=h+g/2,i==="left"?(m=f,y=m-o,S=x+o,v=x-o):(m=f+_,y=m+o,S=x-o,v=x+o),b=m):(i==="left"?y=f+Math.max(l,u)+o:i==="right"?y=f+_-Math.max(c,d)-o:y=this.caretX,r==="top"?(S=h,x=S-o,m=y-o,b=y+o):(S=h+g,x=S+o,m=y+o,b=y-o),v=S),{x1:m,x2:y,x3:b,y1:S,y2:x,y3:v}}drawTitle(e,n,s){const i=this.title,r=i.length;let o,a,l;if(r){const c=Cl(s.rtl,this.x,this.width);for(e.x=Cf(this,s.titleAlign,s),n.textAlign=c.textAlign(s.titleAlign),n.textBaseline="middle",o=hn(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=s.titleMarginBottom-a)}}_drawColorBox(e,n,s,i,r){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:c,boxPadding:u}=r,d=hn(r.bodyFont),f=Cf(this,"left",r),h=i.x(f),_=l<d.lineHeight?(d.lineHeight-l)/2:0,g=n.y+_;if(r.usePointStyle){const m={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},y=i.leftForLtr(h,c)+c/2,b=g+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,Uh(e,m,y,b),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Uh(e,m,y,b)}else{e.lineWidth=o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const m=i.leftForLtr(h,c-u),y=i.leftForLtr(i.xPlus(h,1),c-u-2),b=ta(o.borderRadius);Object.values(b).some(S=>S!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,nd(e,{x:m,y:g,w:c,h:l,radius:b}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),nd(e,{x:y,y:g+1,w:c-2,h:l-2,radius:b}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(m,g,c,l),e.strokeRect(m,g,c,l),e.fillStyle=o.backgroundColor,e.fillRect(y,g+1,c-2,l-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=s,d=hn(s.bodyFont);let f=d.lineHeight,h=0;const _=Cl(s.rtl,this.x,this.width),g=function(w){n.fillText(w,_.x(e.x+h),e.y+f/2),e.y+=f+r},m=_.textAlign(o);let y,b,S,x,v,E,A;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=Cf(this,m,s),n.fillStyle=s.bodyColor,kt(this.beforeBody,g),h=a&&m!=="right"?o==="center"?c/2+u:c+2+u:0,x=0,E=i.length;x<E;++x){for(y=i[x],b=this.labelTextColors[x],n.fillStyle=b,kt(y.before,g),S=y.lines,a&&S.length&&(this._drawColorBox(n,e,x,_,s),f=Math.max(d.lineHeight,l)),v=0,A=S.length;v<A;++v)g(S[v]),f=d.lineHeight;kt(y.after,g)}h=0,f=d.lineHeight,kt(this.afterBody,g),e.y-=r}drawFooter(e,n,s){const i=this.footer,r=i.length;let o,a;if(r){const l=Cl(s.rtl,this.x,this.width);for(e.x=Cf(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=l.textAlign(s.footerAlign),n.textBaseline="middle",o=hn(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,n,s,i){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=s,{topLeft:d,topRight:f,bottomLeft:h,bottomRight:_}=ta(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,s,i),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&r==="right"&&this.drawCaret(e,n,s,i),n.lineTo(a+c,l+u-_),n.quadraticCurveTo(a+c,l+u,a+c-_,l+u),o==="bottom"&&this.drawCaret(e,n,s,i),n.lineTo(a+h,l+u),n.quadraticCurveTo(a,l+u,a,l+u-h),o==="center"&&r==="left"&&this.drawCaret(e,n,s,i),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,i=s&&s.x,r=s&&s.y;if(i||r){const o=Eu[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=FS(this,e),l=Object.assign({},o,this._size),c=$S(n,e,l),u=US(e,l,c,n);(i._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=Ln(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=s,this.drawBackground(r,e,i,n),mC(e,n.textDirection),r.y+=o.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),gC(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!Ih(s,i),o=this._positionChanged(i,n);(r||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(e,r,n,s),a=this._positionChanged(o,e),l=n||!Ih(o,r)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,s,i){const r=this.options;if(e.type==="mouseout")return[];if(!i)return n;const o=this.chart.getElementsAtEventForMode(e,r.mode,r,s);return r.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:s,caretY:i,options:r}=this,o=Eu[r.position].call(this,e,n);return o!==!1&&(s!==o.x||i!==o.y)}}dy.positioners=Eu;var nJ={id:"tooltip",_element:dy,positioners:Eu,afterInit(t,e,n){n&&(t.tooltip=new dy({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",n)===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Gi,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:Gi,beforeBody:Gi,beforeLabel:Gi,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Ot(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Gi,afterBody:Gi,beforeFooter:Gi,footer:Gi,afterFooter:Gi}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const sJ=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function iJ(t,e,n,s){const i=t.indexOf(e);if(i===-1)return sJ(t,e,n,s);const r=t.lastIndexOf(e);return i!==r?n:i}const rJ=(t,e)=>t===null?null:Pn(Math.round(t),0,e);class Vh extends va{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:i,label:r}of n)s[i]===r&&s.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Ot(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:iJ(s,e,rt(n,e),this._addedLabels),rJ(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,i=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){const n=this.getLabels();return e>=0&&e<n.length?n[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Vh.id="category";Vh.defaults={ticks:{callback:Vh.prototype.getLabelForValue}};function oJ(t,e){const n=[],{bounds:i,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:f}=t,h=r||1,_=u-1,{min:g,max:m}=e,y=!Ot(o),b=!Ot(a),S=!Ot(c),x=(m-g)/(d+1);let v=H1((m-g)/_/h)*h,E,A,w,C;if(v<1e-14&&!y&&!b)return[{value:g},{value:m}];C=Math.ceil(m/v)-Math.floor(g/v),C>_&&(v=H1(C*v/_/h)*h),Ot(l)||(E=Math.pow(10,l),v=Math.ceil(v*E)/E),i==="ticks"?(A=Math.floor(g/v)*v,w=Math.ceil(m/v)*v):(A=g,w=m),y&&b&&r&&bq((a-o)/r,v/1e3)?(C=Math.round(Math.min((a-o)/v,u)),v=(a-o)/C,A=o,w=a):S?(A=y?o:A,w=b?a:w,C=c-1,v=(w-A)/C):(C=(w-A)/v,wu(C,Math.round(C),v/1e3)?C=Math.round(C):C=Math.ceil(C));const N=Math.max(W1(v),W1(A));E=Math.pow(10,Ot(l)?N:l),A=Math.round(A*E)/E,w=Math.round(w*E)/E;let O=0;for(y&&(f&&A!==o?(n.push({value:o}),A<o&&O++,wu(Math.round((A+O*v)*E)/E,o,GS(o,x,t))&&O++):A<o&&O++);O<C;++O)n.push({value:Math.round((A+O*v)*E)/E});return b&&f&&w!==a?n.length&&wu(n[n.length-1].value,a,GS(a,x,t))?n[n.length-1].value=a:n.push({value:a}):(!b||w===a)&&n.push({value:w}),n}function GS(t,e,{horizontal:n,minRotation:s}){const i=Zs(s),r=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class Hh extends va{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Ot(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:i,max:r}=this;const o=l=>i=n?i:l,a=l=>r=s?r:l;if(e){const l=xi(i),c=xi(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===r){let l=1;(r>=Number.MAX_SAFE_INTEGER||i<=Number.MIN_SAFE_INTEGER)&&(l=Math.abs(r*.05)),a(r+l),e||o(i-l)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=oJ(i,r);return e.bounds==="ticks"&&J2(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const i=(s-n)/Math.max(e.length-1,1)/2;n-=i,s+=i}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return Ed(e,this.chart.options.locale,this.options.ticks.format)}}class Av extends Hh{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Sn(e)?e:0,this.max=Sn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=Zs(this.options.ticks.minRotation),i=(e?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Av.id="linear";Av.defaults={ticks:{callback:Kp.formatters.numeric}};function VS(t){return t/Math.pow(10,Math.floor(Ss(t)))===1}function aJ(t,e){const n=Math.floor(Ss(e.max)),s=Math.ceil(e.max/Math.pow(10,n)),i=[];let r=bs(t.min,Math.pow(10,Math.floor(Ss(e.min)))),o=Math.floor(Ss(r)),a=Math.floor(r/Math.pow(10,o)),l=o<0?Math.pow(10,Math.abs(o)):1;do i.push({value:r,major:VS(r)}),++a,a===10&&(a=1,++o,l=o>=0?1:l),r=Math.round(a*Math.pow(10,o)*l)/l;while(o<n||o===n&&a<s);const c=bs(t.max,r);return i.push({value:c,major:VS(r)}),i}class UC extends va{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const s=Hh.prototype.parse.apply(this,[e,n]);if(s===0){this._zero=!0;return}return Sn(s)&&s>0?s:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Sn(e)?Math.max(0,e):null,this.max=Sn(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let s=this.min,i=this.max;const r=l=>s=e?s:l,o=l=>i=n?i:l,a=(l,c)=>Math.pow(10,Math.floor(Ss(l))+c);s===i&&(s<=0?(r(1),o(10)):(r(a(s,-1)),o(a(i,1)))),s<=0&&r(a(i,-1)),i<=0&&o(a(s,1)),this._zero&&this.min!==this._suggestedMin&&s===a(this.min,0)&&r(a(s,-1)),this.min=s,this.max=i}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},s=aJ(n,this);return e.bounds==="ticks"&&J2(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(e){return e===void 0?"0":Ed(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Ss(e),this._valueRange=Ss(this.max)-Ss(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Ss(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}UC.id="logarithmic";UC.defaults={ticks:{callback:Kp.formatters.logarithmic,major:{enabled:!0}}};function fy(t){const e=t.ticks;if(e.display&&t.display){const n=Ln(e.backdropPadding);return rt(e.font&&e.font.size,ft.font.size)+n.height}return 0}function lJ(t,e,n){return n=Gt(n)?n:[n],{w:jq(t,e.string,n),h:n.length*e.lineHeight}}function HS(t,e,n,s,i){return t===s||t===i?{start:e-n/2,end:e+n/2}:t<s||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function cJ(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),s=[],i=[],r=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?Kt/r:0;for(let l=0;l<r;l++){const c=o.setContext(t.getPointLabelContext(l));i[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+i[l],a),d=hn(c.font),f=lJ(t.ctx,d,t._pointLabels[l]);s[l]=f;const h=Hs(t.getIndexAngle(l)+a),_=Math.round(cv(h)),g=HS(_,u.x,f.w,0,180),m=HS(_,u.y,f.h,90,270);uJ(n,e,h,g,m)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=dJ(t,s,i)}function uJ(t,e,n,s,i){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;s.start<e.l?(a=(e.l-s.start)/r,t.l=Math.min(t.l,e.l-a)):s.end>e.r&&(a=(s.end-e.r)/r,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(l=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function dJ(t,e,n){const s=[],i=t._pointLabels.length,r=t.options,o=fy(r)/2,a=t.drawingArea,l=r.pointLabels.centerPointLabels?Kt/i:0;for(let c=0;c<i;c++){const u=t.getPointPosition(c,a+o+n[c],l),d=Math.round(cv(Hs(u.angle+tn))),f=e[c],h=pJ(u.y,f.h,d),_=fJ(d),g=hJ(u.x,f.w,_);s.push({x:u.x,y:h,textAlign:_,left:g,top:h,right:g+f.w,bottom:h+f.h})}return s}function fJ(t){return t===0||t===180?"center":t<180?"left":"right"}function hJ(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function pJ(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function mJ(t,e){const{ctx:n,options:{pointLabels:s}}=t;for(let i=e-1;i>=0;i--){const r=s.setContext(t.getPointLabelContext(i)),o=hn(r.font),{x:a,y:l,textAlign:c,left:u,top:d,right:f,bottom:h}=t._pointLabelItems[i],{backdropColor:_}=r;if(!Ot(_)){const g=ta(r.borderRadius),m=Ln(r.backdropPadding);n.fillStyle=_;const y=u-m.left,b=d-m.top,S=f-u+m.width,x=h-d+m.height;Object.values(g).some(v=>v!==0)?(n.beginPath(),nd(n,{x:y,y:b,w:S,h:x,radius:g}),n.fill()):n.fillRect(y,b,S,x)}ha(n,t._pointLabels[i],a,l+o.lineHeight/2,o,{color:r.color,textAlign:c,textBaseline:"middle"})}}function BC(t,e,n,s){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,Ut);else{let r=t.getPointPosition(0,e);i.moveTo(r.x,r.y);for(let o=1;o<s;o++)r=t.getPointPosition(o,e),i.lineTo(r.x,r.y)}}function gJ(t,e,n,s){const i=t.ctx,r=e.circular,{color:o,lineWidth:a}=e;!r&&!s||!o||!a||n<0||(i.save(),i.strokeStyle=o,i.lineWidth=a,i.setLineDash(e.borderDash),i.lineDashOffset=e.borderDashOffset,i.beginPath(),BC(t,n,r,s),i.closePath(),i.stroke(),i.restore())}function _J(t,e,n){return ho(t,{label:n,index:e,type:"pointLabel"})}class Zp extends Hh{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Ln(fy(this.options)/2),n=this.width=this.maxWidth-e.width,s=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+s/2+e.top),this.drawingArea=Math.floor(Math.min(n,s)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Sn(e)&&!isNaN(e)?e:0,this.max=Sn(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/fy(this.options))}generateTickLabels(e){Hh.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,s)=>{const i=$t(this.options.pointLabels.callback,[n,s],this);return i||i===0?i:""}).filter((n,s)=>this.chart.getDataVisibility(s))}fit(){const e=this.options;e.display&&e.pointLabels.display?cJ(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,s,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((s-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,s,i))}getIndexAngle(e){const n=Ut/(this._pointLabels.length||1),s=this.options.startAngle||0;return Hs(e*n+Zs(s))}getDistanceFromCenterForValue(e){if(Ot(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(Ot(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const s=n[e];return _J(this.getContext(),e,s)}}getPointPosition(e,n,s=0){const i=this.getIndexAngle(e)-tn+s;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:s,right:i,bottom:r}=this._pointLabelItems[e];return{left:n,top:s,right:i,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const s=this.ctx;s.save(),s.beginPath(),BC(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),s.closePath(),s.fillStyle=e,s.fill(),s.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:s,grid:i}=n,r=this._pointLabels.length;let o,a,l;if(n.pointLabels.display&&mJ(this,r),i.display&&this.ticks.forEach((c,u)=>{if(u!==0){a=this.getDistanceFromCenterForValue(c.value);const d=i.setContext(this.getContext(u-1));gJ(this,d,a,r)}}),s.display){for(e.save(),o=r-1;o>=0;o--){const c=s.setContext(this.getPointLabelContext(o)),{color:u,lineWidth:d}=c;!d||!u||(e.lineWidth=d,e.strokeStyle=u,e.setLineDash(c.borderDash),e.lineDashOffset=c.borderDashOffset,a=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),l=this.getPointPosition(o,a),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,s=n.ticks;if(!s.display)return;const i=this.getIndexAngle(0);let r,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!n.reverse)return;const c=s.setContext(this.getContext(l)),u=hn(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const d=Ln(c.backdropPadding);e.fillRect(-o/2-d.left,-r-u.size/2-d.top,o+d.width,u.size+d.height)}ha(e,a.label,0,-r,u,{color:c.color})}),e.restore()}drawTitle(){}}Zp.id="radialLinear";Zp.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Kp.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};Zp.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};Zp.descriptors={angleLines:{_fallback:"grid"}};const Jp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ss=Object.keys(Jp);function yJ(t,e){return t-e}function WS(t,e){if(Ot(e))return null;const n=t._adapter,{parser:s,round:i,isoWeekday:r}=t._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),Sn(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(Qu(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,i)),+o)}function jS(t,e,n,s){const i=ss.length;for(let r=ss.indexOf(t);r<i-1;++r){const o=Jp[ss[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=s)return ss[r]}return ss[i-1]}function bJ(t,e,n,s,i){for(let r=ss.length-1;r>=ss.indexOf(n);r--){const o=ss[r];if(Jp[o].common&&t._adapter.diff(i,s,o)>=e-1)return o}return ss[n?ss.indexOf(n):0]}function vJ(t){for(let e=ss.indexOf(t)+1,n=ss.length;e<n;++e)if(Jp[ss[e]].common)return ss[e]}function YS(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:i}=gv(n,e),r=n[s]>=e?n[s]:n[i];t[r]=!0}}function wJ(t,e,n,s){const i=t._adapter,r=+i.startOf(e[0].value,s),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+i.add(a,1,s))l=n[a],l>=0&&(e[l].major=!0);return e}function qS(t,e,n){const s=[],i={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],i[a]=o,s.push({value:a,major:!1});return r===0||!n?s:wJ(t,s,i,n)}class Rd extends va{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n){const s=e.time||(e.time={}),i=this._adapter=new xC._date(e.adapters.date);vu(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:WS(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Sn(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),r=Sn(r)&&!isNaN(r)?r:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=sK(i,r,o);return this._unit=n.unit||(s.autoSkip?jS(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):bJ(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:vJ(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),qS(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e){let n=0,s=0,i,r;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?s=r:s=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Pn(n,0,o),s=Pn(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,i=this.options,r=i.time,o=r.unit||jS(r.minUnit,n,s,this._getLabelCapacity(n)),a=rt(r.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=Qu(l)||l===!0,u={};let d=n,f,h;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(s,n,o)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+o);const _=i.ticks.source==="data"&&this.getDataTimestamps();for(f=d,h=0;f<s;f=+e.add(f,a,o),h++)YS(u,f,_);return(f===s||i.bounds==="ticks"||h===1)&&YS(u,f,_),Object.keys(u).sort((g,m)=>g-m).map(g=>+g)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}_tickFormatFunction(e,n,s,i){const r=this.options,o=r.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&o[a],u=l&&o[l],d=s[n],f=l&&u&&d&&d.major,h=this._adapter.format(e,i||(f?u:c)),_=r.ticks.callback;return _?$t(_,[h,n,s],this):h}generateTickLabels(e){let n,s,i;for(n=0,s=e.length;n<s;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,i=Zs(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*r+a*o,h:s*o+a*r}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,r=this._tickFormatFunction(e,0,qS(this,[e],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)e.push(WS(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return aC(e.sort(yJ))}}Rd.id="time";Rd.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function Rf(t,e,n){let s=0,i=t.length-1,r,o,a,l;n?(e>=t[s].pos&&e<=t[i].pos&&({lo:s,hi:i}=Ho(t,"pos",e)),{pos:r,time:a}=t[s],{pos:o,time:l}=t[i]):(e>=t[s].time&&e<=t[i].time&&({lo:s,hi:i}=Ho(t,"time",e)),{time:r,pos:a}=t[s],{time:o,pos:l}=t[i]);const c=o-r;return c?a+(l-a)*(e-r)/c:a}class zC extends Rd{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Rf(n,this.min),this._tableRange=Rf(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,i=[],r=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=s&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Rf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return Rf(this._table,s*this._tableRange+this._minPos,!0)}}zC.id="timeseries";zC.defaults=Rd.defaults;var ql;(function(t){t.ChartRendered="chart:rendered",t.ChartUpdated="chart:updated",t.ChartDestroyed="chart:destroyed",t.LabelsUpdated="labels:updated"})(ql||(ql={}));function Pf(t,e,n,s){t(e,n),s!==void 0&&s.emit(ql.ChartRendered)}function xJ(t,e){t.update(),e!==void 0&&e.emit(ql.ChartUpdated)}function kf(t,e){t.destroy(),e!==void 0&&e.emit(ql.ChartDestroyed)}function SJ(t,e){const n={labels:typeof t.labels=="undefined"?[]:[...t.labels],datasets:[]};return GC(n,{...t},e),n}function GC(t,e,n){const s=[];t.datasets=e.datasets.map(i=>{const r=t.datasets.find(o=>o[n]===i[n]);return!r||!i.data||s.includes(r)?{...i}:(s.push(r),Object.assign(r,i),r)})}function EJ(t,e,n){t.data.labels=e,n!==void 0&&n.emit(ql.LabelsUpdated)}function TJ(t,e){t.options={...e}}function MJ(t,e){const n=t.datasets.map(i=>i.label),s=e.datasets.map(i=>i.label);return e.datasets.length===t.datasets.length&&n.every((i,r)=>i===s[r])}const AJ="Please remove the <template></template> tags from your chart component. See https://vue-chartjs.org/guide/#vue-single-file-components",CJ="Update ERROR: chart instance not found",VC=(t,e,n)=>Ve({props:{chartData:{type:Object,required:!0},chartOptions:{type:Object,default:()=>{}},datasetIdKey:{type:String,default:"label"},chartId:{type:String,default:t},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{type:String,default:""},styles:{type:Object,default:()=>{}},plugins:{type:Array,default:()=>[]}},setup(s,i){id.register(n);const r=tT(null),o=ap(null);function a(d,f){if(r.value!==null&&kf(nt(r.value),i),o.value===null)throw new Error(AJ);{const h=SJ(d,s.datasetIdKey),_=o.value.getContext("2d");_!==null&&(r.value=new id(_,{type:e,data:ou(d)?new Proxy(h,{}):h,options:f,plugins:s.plugins}))}}function l(d,f){const h=ou(d)?nt(d):{...d},_=ou(f)?nt(f):{...f};if(Object.keys(_).length>0){const g=nt(r.value);MJ(h,_)&&g!==null?(GC(g==null?void 0:g.data,h,s.datasetIdKey),h.labels!==void 0&&EJ(g,h.labels,i),u()):(g!==null&&kf(g,i),Pf(a,s.chartData,s.chartOptions,i))}else r.value!==null&&kf(nt(r.value),i),Pf(a,s.chartData,s.chartOptions,i)}function c(d){const f=nt(r.value);f!==null?(TJ(f,d),u()):Pf(a,s.chartData,s.chartOptions,i)}function u(){const d=nt(r.value);d!==null?xJ(d,i):console.error(CJ)}return Qr(()=>s.chartData,(d,f)=>l(d,f),{deep:!0}),Qr(()=>s.chartOptions,d=>c(d),{deep:!0}),Zy(()=>{"datasets"in s.chartData&&s.chartData.datasets.length>0&&Pf(a,s.chartData,s.chartOptions,i)}),Jy(()=>{r.value!==null&&kf(nt(r.value),i)}),i.expose({chart:r,updateChart:u}),()=>sa("div",{style:s.styles,class:s.cssClasses},[sa("canvas",{id:s.chartId,width:s.width,height:s.height,ref:o})])}}),RJ=VC("line-chart","line",Md),PJ=VC("scatter-chart","scatter",qp),kJ=Ve({name:"line-chart",components:{LineChart:RJ},props:["title","axis","labels"],data(){return{colors:["#1f77b4","#ff7f0e","#2ca02c","#d62728"]}},computed:{chartData(){return{labels:this.labels,datasets:this.axis.map((t,e)=>({label:t.label,data:t.data,borderColor:this.colors[e],fill:!1,radius:1,pointRadius:0,lineTension:.1}))}},chartOptions(){return{responsive:!0,maintainAspectRatio:!1,animation:{duration:0},responsiveAnimationDuration:0,scales:{x:{type:"linear",gridLines:{display:!0},ticks:{step:10}},y:{gridLines:{display:!0},ticks:{step:10}}},plugins:{title:{display:!0,text:this.title},tooltip:{enabled:!0,position:"average",mode:"index",intersect:!1}}}}}});function OJ(t,e,n,s,i,r){const o=xe("LineChart",!0);return Y(),bn(o,{"chart-data":t.chartData,"chart-options":t.chartOptions,ref:"chart"},null,8,["chart-data","chart-options"])}var Cv=Qe(kJ,[["render",OJ]]);const LJ=Ve({name:"StickRates",components:{LineChart:Cv},setup(){return{profile:Zt()}},computed:{currentProfile(){return this.profile.rate.rates[this.profile.rate.profile]},currentMode:{get(){return this.currentProfile.mode},set(t){const e=this.profile.rate.rates[this.profile.rate.profile].mode;this.rateBackup[e]=JSON.parse(JSON.stringify(this.profile.rate.rates[this.profile.rate.profile].rate)),this.profile.rate.rates[this.profile.rate.profile].mode=t;const n=[...this.rateBackup[t]||this.rateDefaults[t]];this.profile.rate.rates[this.profile.rate.profile].rate=n}},currentModeText(){return this.rateModes[this.currentProfile.mode].text},rateLabel(){return this.rateLabels[this.currentProfile.mode]}},data(){return{rateProfiles:[{value:0,text:"Rate Profile 1"},{value:1,text:"Rate Profile 2"}],MODE_SILVERWARE:0,MODE_BETAFLIGHT:1,MODE_ACTUAL:2,rateBackup:{},rateDefaults:[[[860,860,500],[.8,.8,.6],[.55,0,.55]],[[1.3,1.3,1.3],[.7,.7,.7],[.4,.4,.4]],[[70,70,70],[670,670,670],[0,0,0]]],rateStep:[[5,.05,.05],[.05,.05,.05],[5,5,.05]],rateModes:[{value:0,text:"Silverware"},{value:1,text:"Betaflight"},{value:2,text:"Actual"}],plot:{axis:[],labels:[]},SILVERWARE_MAX_RATE:0,SILVERWARE_ACRO_EXPO:1,SILVERWARE_ANGLE_EXPO:2,BETAFLIGHT_RC_RATE:0,BETAFLIGHT_SUPER_RATE:1,BETAFLIGHT_EXPO:2,ACTUAL_CENTER_SENSITIVITY:0,ACTUAL_MAX_RATE:1,ACTUAL_EXPO:2,rateLabels:[["MAX_RATE","ACRO_EXPO","ANGLE_EXPO"],["RC_RATE","SUPER_RATE","EXPO"],["CENTER_SENSITIVITY","MAX_RATE","EXPO"]]}},methods:{constrainf(t,e,n){return t>n?n:t<e?e:t},limitf(t,e){return this.constrainf(t,-e,e)},rcexpo(t,e){e=this.limitf(e,1);let n=0;switch(this.currentProfile.mode){case this.MODE_SILVERWARE:n=t*t*t*e+t*(1-e);break;case this.MODE_BETAFLIGHT:n=Math.abs(t)*t*t*t*e+t*(1-e);break;case this.MODE_ACTUAL:n=Math.abs(t)*(Math.pow(t,5)*e+t*(1-e));break}return this.limitf(n,1)},calcSilverware(t,e){const n=this.currentProfile.rate[this.SILVERWARE_ACRO_EXPO][t],s=this.currentProfile.rate[this.SILVERWARE_MAX_RATE][t];return this.rcexpo(e,n)*s},calcBetatflight(t,e){const i=this.currentProfile.rate[this.BETAFLIGHT_EXPO][t];e=this.rcexpo(e,i);let r=this.currentProfile.rate[this.BETAFLIGHT_RC_RATE][t];r>2&&(r+=14.54*(r-2));const o=e>0?e:-e;let a=200*r*e;const l=this.currentProfile.rate[this.BETAFLIGHT_SUPER_RATE][t];return l&&(a*=1/this.constrainf(1-o*l,.01,1)),this.constrainf(a,-1998,1998)},calcActual(t,e){const n=this.currentProfile.rate[this.ACTUAL_EXPO][t],s=this.rcexpo(e,n),i=this.currentProfile.rate[this.ACTUAL_CENTER_SENSITIVITY][t];let o=this.currentProfile.rate[this.ACTUAL_MAX_RATE][t]-i;return o<0&&(o=0),e*i+o*s},update(){const t=[{label:"Roll",data:[]},{label:"Pitch",data:[]},{label:"Yaw",data:[]}],e=[];for(let n=-100;n<=100;n++){const s=n/100;e.push(""+n.toString());for(let i=0;i<3;i++)switch(this.currentProfile.mode){case this.MODE_SILVERWARE:t[i].data.push({x:n,y:this.calcSilverware(i,s)});break;case this.MODE_BETAFLIGHT:t[i].data.push({x:n,y:this.calcBetatflight(i,s)});break;case this.MODE_ACTUAL:t[i].data.push({x:n,y:this.calcActual(i,s)});break}}this.plot={labels:e,axis:t}}},mounted(){this.update()}}),IJ={class:"card"},DJ=p("header",{class:"card-header"},[p("p",{class:"card-header-title"},"Rates")],-1),NJ={class:"card-content"},FJ={class:"content column-narrow field-is-5"},$J={class:"columns"},UJ={class:"column is-6"},BJ={class:"field is-horizontal"},zJ={class:"field-label"},GJ={class:"label",for:"profile"},VJ=de(" Profile "),HJ={class:"field-body"},WJ={class:"field"},jJ={class:"control is-expanded"},YJ={class:"field is-horizontal"},qJ={class:"field-label"},KJ={class:"label",for:"rate-mode"},XJ=de(" Mode "),ZJ={class:"field-body"},JJ={class:"field"},QJ={class:"control is-expanded"},eQ={class:"card mt-5 mb-6"},tQ={class:"card-header"},nQ={class:"card-header-title"},sQ={class:"card-content"},iQ={class:"content"},rQ=sc('<div class="columns is-multiline"><div class="column is-offset-4 is-8"><div class="columns is-multiline"><div class="column is-4"><h6>Roll</h6></div><div class="column is-4"><h6>Pitch</h6></div><div class="column is-4"><h6>Yaw</h6></div></div></div></div>',1),oQ={class:"column is-4"},aQ=["for"],lQ={class:"field-body"},cQ={class:"field"},uQ={class:"control is-expanded"},dQ={class:"columns is-multiline"},fQ={class:"column is-4"},hQ=["id","step","onUpdate:modelValue"],pQ={class:"column is-4"},mQ=["id","step","onUpdate:modelValue"],gQ={class:"column is-4"},_Q=["id","step","onUpdate:modelValue"],yQ={class:"field is-horizontal"},bQ={class:"field-label"},vQ={class:"label",for:"level-max-angle"},wQ=de(" LevelMaxAngle "),xQ={class:"field-body"},SQ={class:"field"},EQ={class:"control is-expanded"},TQ={class:"field is-horizontal"},MQ=p("div",{class:"field-label"},[p("label",{class:"label",for:"sticks-deadband"},"SticksDeadband")],-1),AQ={class:"field-body"},CQ={class:"field"},RQ={class:"control is-expanded"},PQ={class:"column is-6"};function kQ(t,e,n,s,i,r){const o=xe("tooltip"),a=xe("input-select"),l=xe("LineChart");return Y(),se("div",IJ,[DJ,p("div",NJ,[p("div",FJ,[p("div",$J,[p("div",UJ,[p("div",BJ,[p("div",zJ,[p("label",GJ,[VJ,j(o,{entry:"rate.profile"})])]),p("div",HJ,[p("div",WJ,[p("div",jJ,[j(a,{id:"profile",class:"is-fullwidth",modelValue:t.profile.rate.profile,"onUpdate:modelValue":e[0]||(e[0]=c=>t.profile.rate.profile=c),modelModifiers:{number:!0},options:t.rateProfiles,onChange:e[1]||(e[1]=c=>t.update())},null,8,["modelValue","options"])])])])]),p("div",YJ,[p("div",qJ,[p("label",KJ,[XJ,j(o,{entry:"rate.mode"})])]),p("div",ZJ,[p("div",JJ,[p("div",QJ,[j(a,{id:"rate-mode",class:"is-fullwidth",modelValue:t.currentMode,"onUpdate:modelValue":e[2]||(e[2]=c=>t.currentMode=c),modelModifiers:{number:!0},options:t.rateModes,onChange:e[3]||(e[3]=c=>t.update())},null,8,["modelValue","options"])])])])]),p("div",eQ,[p("header",tQ,[p("p",nQ,Fe(t.currentModeText),1)]),p("div",sQ,[p("div",iQ,[rQ,(Y(!0),se(Ze,null,Ht(t.currentProfile.rate,(c,u)=>(Y(),se("div",{class:"columns is-multiline",key:t.rateLabel[u]},[p("div",oQ,[p("label",{for:`${t.currentModeText}-${t.rateLabel[u]}`},Fe(t.rateLabel[u]),9,aQ)]),p("div",lQ,[p("div",cQ,[p("div",uQ,[p("div",dQ,[p("div",fQ,[Ue(p("input",{class:"input",id:`${t.currentModeText}-${t.rateLabel[u]}-roll`,type:"number",step:t.rateStep[t.currentMode][u],"onUpdate:modelValue":d=>t.currentProfile.rate[u][0]=d,onUpdate:e[4]||(e[4]=d=>t.update())},null,40,hQ),[[We,t.currentProfile.rate[u][0],void 0,{number:!0}]])]),p("div",pQ,[Ue(p("input",{class:"input",id:`${t.currentModeText}-${t.rateLabel[u]}-pitch`,type:"number",step:t.rateStep[t.currentMode][u],"onUpdate:modelValue":d=>t.currentProfile.rate[u][1]=d,onUpdate:e[5]||(e[5]=d=>t.update())},null,40,mQ),[[We,t.currentProfile.rate[u][1],void 0,{number:!0}]])]),p("div",gQ,[Ue(p("input",{class:"input",id:`${t.currentModeText}-${t.rateLabel[u]}-yaw`,type:"number",step:t.rateStep[t.currentMode][u],"onUpdate:modelValue":d=>t.currentProfile.rate[u][2]=d,onUpdate:e[6]||(e[6]=d=>t.update())},null,40,_Q),[[We,t.currentProfile.rate[u][2],void 0,{number:!0}]])])])])])])]))),128))])])]),p("div",yQ,[p("div",bQ,[p("label",vQ,[wQ,j(o,{entry:"rate.level_max_angle"})])]),p("div",xQ,[p("div",SQ,[p("div",EQ,[Ue(p("input",{class:"input",id:"level-max-angle",type:"number",step:"5","onUpdate:modelValue":e[7]||(e[7]=c=>t.profile.rate.level_max_angle=c)},null,512),[[We,t.profile.rate.level_max_angle,void 0,{number:!0}]])])])])]),p("div",TQ,[MQ,p("div",AQ,[p("div",CQ,[p("div",RQ,[Ue(p("input",{class:"input",step:"0.01",id:"sticks-deadband",type:"number","onUpdate:modelValue":e[8]||(e[8]=c=>t.profile.rate.sticks_deadband=c)},null,512),[[We,t.profile.rate.sticks_deadband,void 0,{number:!0}]])])])])])]),p("div",PQ,[j(l,{title:"Rates",labels:t.plot.labels,axis:t.plot.axis},null,8,["labels","axis"])])])])])])}var OQ=Qe(LJ,[["render",kQ]]);const LQ=Ve({name:"StickRatesLegacy",components:{LineChart:Cv},setup(){return{profile:Zt()}},data(){return{plotLowRates:!1,rateModes:[{value:0,text:"Silverware"},{value:1,text:"Betaflight"}],plot:{axis:[],labels:[]}}},computed:{currentMode(){return this.rateModes[this.profile.rate.mode]}},watch:{"profile.rate":{handler(t){this.update()},deep:!0},plotLowRates(){this.update()}},methods:{constrainf(t,e,n){return t>n?n:t<e?e:t},limitf(t,e){return this.constrainf(t,-e,e)},rcexpo(t,e){e>1&&(e=1),e<-1&&(e=-1);const n=t*t*t*e+t*(1-e);return this.limitf(n,1)},calcSilverware(t,e){const n=this.profile.rate.silverware.acro_expo[t],s=this.profile.rate.silverware.max_rate[t];return this.rcexpo(e,n)*s},calcBetatflight(t,e){const i=this.profile.rate.betaflight.expo[t];e=this.rcexpo(e,i);let r=this.profile.rate.betaflight.rc_rate[t];r>2&&(r+=14.54*(r-2));const o=e>0?e:-e;let a=200*r*e;const l=this.profile.rate.betaflight.super_rate[t];return l&&(a*=1/this.constrainf(1-o*l,.01,1)),this.constrainf(a,-1998,1998)},update(){const t=[{label:"Roll",data:[]},{label:"Pitch",data:[]},{label:"Yaw",data:[]}],e=[],n=this.plotLowRates?this.profile.rate.low_rate_mulitplier:1;for(let s=-100;s<=100;s++){const i=s/100;e.push(""+s);for(let r=0;r<3;r++)this.currentMode.text=="Silverware"?t[r].data.push({x:s,y:this.calcSilverware(r,i)*n}):this.currentMode.text=="Betaflight"&&t[r].data.push({x:s,y:this.calcBetatflight(r,i)*n})}this.plot={labels:e,axis:t}}},mounted(){this.update()}}),IQ={class:"card"},DQ=p("header",{class:"card-header"},[p("p",{class:"card-header-title"},"Rates")],-1),NQ={class:"card-content"},FQ={class:"content column-narrow field-is-5"},$Q={class:"columns"},UQ={class:"column is-6"},BQ={class:"field is-horizontal"},zQ={class:"field-label"},GQ={class:"label",for:"rate-mode"},VQ=de(" Mode "),HQ={class:"field-body"},WQ={class:"field"},jQ={class:"control is-expanded"},YQ={class:"card mt-5 mb-6"},qQ={class:"card-header"},KQ={class:"card-header-title"},XQ={class:"card-content"},ZQ={class:"content"},JQ=sc('<div class="columns is-multiline"><div class="column is-offset-4 is-8"><div class="columns is-multiline"><div class="column is-4"><h6>Roll</h6></div><div class="column is-4"><h6>Pitch</h6></div><div class="column is-4"><h6>Yaw</h6></div></div></div></div>',1),QQ={class:"column is-4"},eee=["for"],tee={class:"field-body"},nee={class:"field"},see={class:"control is-expanded"},iee={class:"columns is-multiline"},ree={class:"column is-4"},oee=["id","onUpdate:modelValue"],aee={class:"column is-4"},lee=["id","onUpdate:modelValue"],cee={class:"column is-4"},uee=["id","onUpdate:modelValue"],dee={class:"field is-horizontal"},fee={class:"field-label"},hee={class:"label",for:"level-max-angle"},pee=de(" LevelMaxAngle "),mee={class:"field-body"},gee={class:"field"},_ee={class:"control is-expanded"},yee={class:"field is-horizontal"},bee={class:"field-label"},vee={class:"label",for:"low-rate-mulitplier"},wee=de(" LowRateMulitplier "),xee={class:"field-body"},See={class:"field"},Eee={class:"control is-expanded"},Tee={class:"field is-horizontal"},Mee=p("div",{class:"field-label"},[p("label",{class:"label",for:"sticks-deadband"},"SticksDeadband")],-1),Aee={class:"field-body"},Cee={class:"field"},Ree={class:"control is-expanded"},Pee={class:"column is-6"},kee=p("label",{for:"plotLowRates"},"Plot LowRates",-1);function Oee(t,e,n,s,i,r){const o=xe("tooltip"),a=xe("input-select"),l=xe("LineChart");return Y(),se("div",IQ,[DQ,p("div",NQ,[p("div",FQ,[p("div",$Q,[p("div",UQ,[p("div",BQ,[p("div",zQ,[p("label",GQ,[VQ,j(o,{entry:"rate.mode"})])]),p("div",HQ,[p("div",WQ,[p("div",jQ,[j(a,{id:"rate-mode",class:"is-fullwidth",modelValue:t.profile.rate.mode,"onUpdate:modelValue":e[0]||(e[0]=c=>t.profile.rate.mode=c),modelModifiers:{number:!0},options:t.rateModes,onChange:e[1]||(e[1]=c=>t.update())},null,8,["modelValue","options"])])])])]),p("div",YQ,[p("header",qQ,[p("p",KQ,Fe(t.currentMode.text),1)]),p("div",XQ,[p("div",ZQ,[JQ,(Y(!0),se(Ze,null,Ht(t.profile.rate[t.currentMode.text.toLowerCase()],(c,u)=>(Y(),se("div",{class:"columns is-multiline",key:u},[p("div",QQ,[p("label",{for:`${t.currentMode.text}-${u}`},Fe(u),9,eee)]),p("div",tee,[p("div",nee,[p("div",see,[p("div",iee,[p("div",ree,[Ue(p("input",{class:"input",id:`${t.currentMode.text}-${u}-roll`,type:"number",step:"10","onUpdate:modelValue":d=>t.profile.rate[t.currentMode.text.toLowerCase()][u][0]=d},null,8,oee),[[We,t.profile.rate[t.currentMode.text.toLowerCase()][u][0],void 0,{number:!0}]])]),p("div",aee,[Ue(p("input",{class:"input",id:`${t.currentMode.text}-${u}-pitch`,type:"number",step:"10","onUpdate:modelValue":d=>t.profile.rate[t.currentMode.text.toLowerCase()][u][1]=d},null,8,lee),[[We,t.profile.rate[t.currentMode.text.toLowerCase()][u][1],void 0,{number:!0}]])]),p("div",cee,[Ue(p("input",{class:"input",id:`${t.currentMode.text}-${u}-yaw`,type:"number",step:"10","onUpdate:modelValue":d=>t.profile.rate[t.currentMode.text.toLowerCase()][u][2]=d},null,8,uee),[[We,t.profile.rate[t.currentMode.text.toLowerCase()][u][2],void 0,{number:!0}]])])])])])])]))),128))])])]),p("div",dee,[p("div",fee,[p("label",hee,[pee,j(o,{entry:"rate.level_max_angle"})])]),p("div",mee,[p("div",gee,[p("div",_ee,[Ue(p("input",{class:"input",id:"level-max-angle",type:"number",step:"5","onUpdate:modelValue":e[2]||(e[2]=c=>t.profile.rate.level_max_angle=c)},null,512),[[We,t.profile.rate.level_max_angle,void 0,{number:!0}]])])])])]),p("div",yee,[p("div",bee,[p("label",vee,[wee,j(o,{entry:"rate.low_rate_mulitplier"})])]),p("div",xee,[p("div",See,[p("div",Eee,[Ue(p("input",{class:"input",id:"low-rate-mulitplier",type:"number",step:"0.05","onUpdate:modelValue":e[3]||(e[3]=c=>t.profile.rate.low_rate_mulitplier=c)},null,512),[[We,t.profile.rate.low_rate_mulitplier,void 0,{number:!0}]])])])])]),p("div",Tee,[Mee,p("div",Aee,[p("div",Cee,[p("div",Ree,[Ue(p("input",{class:"input",step:"0.01",id:"sticks-deadband",type:"number","onUpdate:modelValue":e[4]||(e[4]=c=>t.profile.rate.sticks_deadband=c)},null,512),[[We,t.profile.rate.sticks_deadband,void 0,{number:!0}]])])])])])]),p("div",Pee,[t.profile.rate.silverware.acro_expo?(Y(),bn(l,{key:0,title:(t.plotLowRates?"Low ":"")+"Rates",labels:t.plot.labels,axis:t.plot.axis},null,8,["title","labels","axis"])):je("",!0),Ue(p("input",{id:"plotLowRates",name:"plotLowRates",type:"checkbox",class:"switch","onUpdate:modelValue":e[5]||(e[5]=c=>t.plotLowRates=c)},null,512),[[zT,t.plotLowRates]]),kee])])])])])}var Lee=Qe(LQ,[["render",Oee]]);const Iee=Ve({name:"PIDRates",data(){return{pidProfiles:[{value:0,text:"PID Profile 1"},{value:1,text:"PID Profile 2"}],stickProfiles:[{value:0,text:"Stick Boost Profile AUX Off"},{value:1,text:"Stick Boost Profile AUX On"}],tdaOptions:[{value:0,text:"None"},{value:1,text:"Active"},{value:2,text:"Max"}],current_preset:0}},setup(){return{root:nn(),profile:Zt()}},computed:{pid_rates:{get(){return this.profile.current_pid_rate},set(t){this.profile.set_current_pid_rate(t)}},stick_rates:{get(){return this.profile.current_stick_rate},set(t){this.profile.set_current_stick_rate(t)}},presets(){return this.root.pid_rate_presets.map(t=>({value:t.index,text:t.name}))}},methods:{load_preset(t){this.pid_rates=this.root.pid_rate_presets[t].rate}}}),Dee={class:"card"},Nee=p("header",{class:"card-header"},[p("p",{class:"card-header-title"},"PID")],-1),Fee={class:"card-content"},$ee={class:"content column-narrow field-is-5"},Uee={class:"columns"},Bee={class:"column is-6"},zee={class:"field field-is-2 is-horizontal"},Gee={class:"field-label"},Vee={class:"label",for:"pid-preset"},Hee=de(" PID Preset "),Wee={class:"field-body"},jee={class:"field has-addons"},Yee={class:"control is-expanded"},qee={class:"control"},Kee=de(" Load "),Xee={class:"field field-is-2 is-horizontal"},Zee={class:"field-label"},Jee={class:"label",for:"pid-profile"},Qee=de(" PIDProfile "),ete={class:"field-body"},tte={class:"field"},nte={class:"control is-expanded"},ste=sc('<div class="columns mt-4 mb-0"><div class="column is-offset-4 is-8"><div class="columns"><div class="column is-4"><h6>Roll</h6></div><div class="column is-4"><h6>Pitch</h6></div><div class="column is-4"><h6>Yaw</h6></div></div></div></div>',1),ite={class:"field-label"},rte={class:"label"},ote={class:"field-body"},ate={class:"field"},lte={class:"control is-expanded"},cte=["id","onUpdate:modelValue"],ute={class:"field"},dte={class:"control is-expanded"},fte=["id","onUpdate:modelValue"],hte={class:"field"},pte={class:"control is-expanded"},mte=["id","onUpdate:modelValue"],gte={class:"field is-horizontal mt-6"},_te={class:"field-label"},yte={class:"label",for:"throttle_dterm_attenuation-enable"},bte=de(" Throttle DTerm Attenuation "),vte={class:"field-body"},wte={class:"field"},xte={class:"control is-expanded"},Ste={class:"field is-horizontal"},Ete={class:"field-label"},Tte={class:"label",for:"throttle_dterm_attenuation-breakpoint"},Mte=de(" TDA Breakpoint "),Ate={class:"field-body"},Cte={class:"field"},Rte={class:"control is-expanded"},Pte={class:"field is-horizontal"},kte={class:"field-label"},Ote={class:"label",for:"throttle_dterm_attenuation-percent"},Lte=de(" TDA Percent "),Ite={class:"field-body"},Dte={class:"field"},Nte={class:"control is-expanded"},Fte={class:"column is-6"},$te={class:"field field-is-2 is-horizontal"},Ute={class:"field-label"},Bte={class:"label",for:"stick-profile"},zte=de(" Stick Boost Profile "),Gte={class:"field-body"},Vte={class:"field"},Hte={class:"control is-expanded"},Wte=sc('<div class="columns my-0"><div class="column is-offset-4 is-8"><div class="columns"><div class="column is-4"><h6>Roll</h6></div><div class="column is-4"><h6>Pitch</h6></div><div class="column is-4"><h6>Yaw</h6></div></div></div></div>',1),jte={class:"field-label"},Yte={class:"label"},qte={class:"field-body"},Kte={class:"field"},Xte={class:"control is-expanded"},Zte=["id","onUpdate:modelValue"],Jte={class:"field"},Qte={class:"control is-expanded"},ene=["id","onUpdate:modelValue"],tne={class:"field"},nne={class:"control is-expanded"},sne=["id","onUpdate:modelValue"],ine={class:"columns mt-6 mb-1"},rne={class:"column is-4"},one={class:"has-text-right"},ane=de(" Angle Strength "),lne=p("div",{class:"column is-4"},[p("h6",null,"Small")],-1),cne=p("div",{class:"column is-4"},[p("h6",null,"Big")],-1),une={class:"field-label"},dne={class:"label"},fne={class:"field-body"},hne={class:"field"},pne={class:"control is-expanded"},mne=["id","onUpdate:modelValue"],gne={class:"field"},_ne={class:"control is-expanded"},yne=["id","onUpdate:modelValue"];function bne(t,e,n,s,i,r){const o=xe("tooltip"),a=xe("input-select"),l=xe("spinner-btn");return Y(),se("div",Dee,[Nee,p("div",Fee,[p("div",$ee,[p("div",Uee,[p("div",Bee,[p("div",zee,[p("div",Gee,[p("label",Vee,[Hee,j(o,{entry:"pid.preset"})])]),p("div",Wee,[p("div",jee,[p("div",Yee,[j(a,{id:"pid-preset",class:"is-fullwidth",modelValue:t.current_preset,"onUpdate:modelValue":e[0]||(e[0]=c=>t.current_preset=c),modelModifiers:{number:!0},options:t.presets},null,8,["modelValue","options"])]),p("div",qee,[j(l,{onClick:e[1]||(e[1]=c=>t.load_preset(t.current_preset))},{default:Xe(()=>[Kee]),_:1})])])])]),p("div",Xee,[p("div",Zee,[p("label",Jee,[Qee,j(o,{entry:"pid.profile"})])]),p("div",ete,[p("div",tte,[p("div",nte,[j(a,{id:"pid-profile",class:"is-fullwidth",modelValue:t.profile.pid.pid_profile,"onUpdate:modelValue":e[2]||(e[2]=c=>t.profile.pid.pid_profile=c),modelModifiers:{number:!0},options:t.pidProfiles},null,8,["modelValue","options"])])])])]),ste,(Y(!0),se(Ze,null,Ht(t.pid_rates,(c,u)=>(Y(),se("div",{class:"field field-is-2 is-horizontal",key:u},[p("div",ite,[p("label",rte,Fe(u),1)]),p("div",ote,[p("div",ate,[p("p",lte,[Ue(p("input",{class:"input",id:`pid-${u}-roll`,type:"number",step:"1.0","onUpdate:modelValue":d=>t.pid_rates[u][0]=d},null,8,cte),[[We,t.pid_rates[u][0],void 0,{number:!0}]])])]),p("div",ute,[p("p",dte,[Ue(p("input",{class:"input",id:`pid-${u}-pitch`,type:"number",step:"1.0","onUpdate:modelValue":d=>t.pid_rates[u][1]=d},null,8,fte),[[We,t.pid_rates[u][1],void 0,{number:!0}]])])]),p("div",hte,[p("p",pte,[Ue(p("input",{class:"input",id:`pid-${u}-yaw`,type:"number",step:"1.0","onUpdate:modelValue":d=>t.pid_rates[u][2]=d},null,8,mte),[[We,t.pid_rates[u][2],void 0,{number:!0}]])])])])]))),128)),p("div",gte,[p("div",_te,[p("label",yte,[bte,j(o,{entry:"pid.tda_active"})])]),p("div",vte,[p("div",wte,[p("div",xte,[j(a,{id:"throttle_dterm_attenuation-enable",class:"is-fullwidth",modelValue:t.profile.pid.throttle_dterm_attenuation.tda_active,"onUpdate:modelValue":e[3]||(e[3]=c=>t.profile.pid.throttle_dterm_attenuation.tda_active=c),modelModifiers:{number:!0},options:t.tdaOptions},null,8,["modelValue","options"])])])])]),p("div",Ste,[p("div",Ete,[p("label",Tte,[Mte,j(o,{entry:"pid.tda_breakpoint"})])]),p("div",Ate,[p("div",Cte,[p("div",Rte,[Ue(p("input",{class:"input",id:"throttle_dterm_attenuation-breakpoint",type:"number",step:"0.05","onUpdate:modelValue":e[4]||(e[4]=c=>t.profile.pid.throttle_dterm_attenuation.tda_breakpoint=c)},null,512),[[We,t.profile.pid.throttle_dterm_attenuation.tda_breakpoint,void 0,{number:!0}]])])])])]),p("div",Pte,[p("div",kte,[p("label",Ote,[Lte,j(o,{entry:"pid.tda_percent"})])]),p("div",Ite,[p("div",Dte,[p("div",Nte,[Ue(p("input",{class:"input",id:"throttle_dterm_attenuation-percent",type:"number",step:"0.05","onUpdate:modelValue":e[5]||(e[5]=c=>t.profile.pid.throttle_dterm_attenuation.tda_percent=c)},null,512),[[We,t.profile.pid.throttle_dterm_attenuation.tda_percent,void 0,{number:!0}]])])])])])]),p("div",Fte,[p("div",$te,[p("div",Ute,[p("label",Bte,[zte,j(o,{entry:"pid.stick_profile"})])]),p("div",Gte,[p("div",Vte,[p("div",Hte,[j(a,{id:"stick-profile",class:"is-fullwidth",modelValue:t.profile.pid.stick_profile,"onUpdate:modelValue":e[6]||(e[6]=c=>t.profile.pid.stick_profile=c),modelModifiers:{number:!0},options:t.stickProfiles},null,8,["modelValue","options"])])])])]),Wte,(Y(!0),se(Ze,null,Ht(t.stick_rates,(c,u)=>(Y(),se("div",{class:"field field-is-2 is-horizontal",key:u},[p("div",jte,[p("label",Yte,Fe(u),1)]),p("div",qte,[p("div",Kte,[p("p",Xte,[Ue(p("input",{class:"input",id:`stick-${u}-roll`,type:"number",step:"0.01","onUpdate:modelValue":d=>t.stick_rates[u][0]=d},null,8,Zte),[[We,t.stick_rates[u][0],void 0,{number:!0}]])])]),p("div",Jte,[p("p",Qte,[Ue(p("input",{class:"input",id:`stick-${u}-pitch`,type:"number",step:"0.01","onUpdate:modelValue":d=>t.stick_rates[u][1]=d},null,8,ene),[[We,t.stick_rates[u][1],void 0,{number:!0}]])])]),p("div",tne,[p("p",nne,[Ue(p("input",{class:"input",id:`stick-${u}-yaw`,type:"number",step:"0.01","onUpdate:modelValue":d=>t.stick_rates[u][2]=d},null,8,sne),[[We,t.stick_rates[u][2],void 0,{number:!0}]])])])])]))),128)),p("div",ine,[p("div",rne,[p("h6",one,[ane,j(o,{entry:"pid.angle_strength"})])]),lne,cne]),(Y(),se(Ze,null,Ht(["kp","kd"],(c,u)=>p("div",{class:"field field-is-2 is-horizontal",key:u},[p("div",une,[p("label",dne,Fe(c),1)]),p("div",fne,[p("div",hne,[p("p",pne,[Ue(p("input",{class:"input",id:`small-angle-${c}`,type:"number",step:"0.01","onUpdate:modelValue":d=>t.profile.pid.small_angle[c]=d},null,8,mne),[[We,t.profile.pid.small_angle[c],void 0,{number:!0}]])])]),p("div",gne,[p("p",_ne,[Ue(p("input",{class:"input",id:`big-angle-${c}`,type:"number",step:"0.01","onUpdate:modelValue":d=>t.profile.pid.big_angle[c]=d},null,8,yne),[[We,t.profile.pid.big_angle[c],void 0,{number:!0}]])])])])])),64))])])])])])}var vne=Qe(Iee,[["render",bne]]);const wne=Ve({name:"FilterSettings",setup(){return{profile:Zt()}},data(){return{filterTypeOptions:[{value:0,text:"None"},{value:1,text:"PT1"},{value:2,text:"PT2"},{value:3,text:"PT3"}],toggleOptions:[{value:0,text:"Off"},{value:1,text:"On"}]}}}),xne={class:"card"},Sne={class:"card-header"},Ene=p("p",{class:"card-header-title"},"Filter",-1),Tne={class:"card-content"},Mne={class:"content column-narrow field-is-5"},Ane={key:0,class:"columns"},Cne={key:0,class:"column is-6"},Rne={class:"field is-horizontal"},Pne={class:"field-label"},kne={class:"label",for:"gyro-1-type"},One=de(" Gyro Pass 1 Type "),Lne={class:"field-body"},Ine={class:"field"},Dne={class:"control is-expanded"},Nne={class:"field is-horizontal"},Fne={class:"field-label"},$ne={class:"label",for:"gyro-1-freq"},Une=de(" Gyro Pass 1 Freq "),Bne={class:"field-body"},zne={class:"field"},Gne={class:"control is-expanded"},Vne={class:"field is-horizontal mt-6"},Hne={class:"field-label"},Wne={class:"label",for:"gyro-2-type"},jne=de(" Gyro Pass 2 Type "),Yne={class:"field-body"},qne={class:"field"},Kne={class:"control is-expanded"},Xne={class:"field is-horizontal"},Zne={class:"field-label"},Jne={class:"label",for:"gyro-2-freq"},Qne=de(" Gyro Pass 2 Freq "),ese={class:"field-body"},tse={class:"field"},nse={class:"control is-expanded"},sse={key:1,class:"column is-6"},ise={class:"field is-horizontal"},rse={class:"field-label"},ose={class:"label",for:"dterm-1-type"},ase=de(" DTerm Pass 1 Type "),lse={class:"field-body"},cse={class:"field"},use={class:"control is-expanded"},dse={class:"field is-horizontal"},fse={class:"field-label"},hse={class:"label",for:"dterm-1-freq"},pse=de(" DTerm Pass 1 Freq "),mse={class:"field-body"},gse={class:"field"},_se={class:"control is-expanded"},yse={class:"field is-horizontal mt-6"},bse={class:"field-label"},vse={class:"label",for:"dterm-2-type"},wse=de(" DTerm Pass 2 Type "),xse={class:"field-body"},Sse={class:"field"},Ese={class:"control is-expanded"},Tse={class:"field is-horizontal"},Mse={class:"field-label"},Ase={class:"label",for:"dterm-2-freq"},Cse=de(" DTerm Pass 2 Freq "),Rse={class:"field-body"},Pse={class:"field"},kse={class:"control is-expanded"},Ose={class:"field is-horizontal mt-6"},Lse={class:"field-label"},Ise={class:"label",for:"dterm-dynamic-enable"},Dse=de(" DTerm Dynamic "),Nse={class:"field-body"},Fse={class:"field"},$se={class:"control is-expanded"},Use={class:"field is-horizontal"},Bse={class:"field-label"},zse={class:"label",for:"dterm-dynamic-min"},Gse=de(" DTerm Dynamic Min "),Vse={class:"field-body"},Hse={class:"field"},Wse={class:"control is-expanded"},jse={class:"field is-horizontal"},Yse={class:"field-label"},qse={class:"label",for:"dterm-dynamic-max"},Kse=de(" DTerm Dynamic Max "),Xse={class:"field-body"},Zse={class:"field"},Jse={class:"control is-expanded"};function Qse(t,e,n,s,i,r){const o=xe("tooltip"),a=xe("input-select");return Y(),se("div",xne,[p("header",Sne,[Ene,j(o,{class:"card-header-icon",entry:"filter.settings",size:"lg"})]),p("div",Tne,[p("div",Mne,[t.profile?(Y(),se("div",Ane,[t.profile.filter.gyro?(Y(),se("div",Cne,[p("div",Rne,[p("div",Pne,[p("label",kne,[One,j(o,{entry:"filter.gyro_1_type"})])]),p("div",Lne,[p("div",Ine,[p("div",Dne,[j(a,{class:"is-fullwidth",id:"gyro-1-type",modelValue:t.profile.filter.gyro[0].type,"onUpdate:modelValue":e[0]||(e[0]=l=>t.profile.filter.gyro[0].type=l),modelModifiers:{number:!0},options:t.filterTypeOptions},null,8,["modelValue","options"])])])])]),p("div",Nne,[p("div",Fne,[p("label",$ne,[Une,j(o,{entry:"filter.gyro_1_freq"})])]),p("div",Bne,[p("div",zne,[p("div",Gne,[Ue(p("input",{class:"input",id:"gyro-1-freq",type:"number",step:"5","onUpdate:modelValue":e[1]||(e[1]=l=>t.profile.filter.gyro[0].cutoff_freq=l)},null,512),[[We,t.profile.filter.gyro[0].cutoff_freq,void 0,{number:!0}]])])])])]),p("div",Vne,[p("div",Hne,[p("label",Wne,[jne,j(o,{entry:"filter.gyro_2_type"})])]),p("div",Yne,[p("div",qne,[p("div",Kne,[j(a,{class:"is-fullwidth",id:"gyro-2-type",modelValue:t.profile.filter.gyro[1].type,"onUpdate:modelValue":e[2]||(e[2]=l=>t.profile.filter.gyro[1].type=l),modelModifiers:{number:!0},options:t.filterTypeOptions},null,8,["modelValue","options"])])])])]),p("div",Xne,[p("div",Zne,[p("label",Jne,[Qne,j(o,{entry:"filter.gyro_2_freq"})])]),p("div",ese,[p("div",tse,[p("div",nse,[Ue(p("input",{class:"input",id:"gyro-2-freq",type:"number",step:"5","onUpdate:modelValue":e[3]||(e[3]=l=>t.profile.filter.gyro[1].cutoff_freq=l)},null,512),[[We,t.profile.filter.gyro[1].cutoff_freq,void 0,{number:!0}]])])])])])])):je("",!0),t.profile.filter.dterm?(Y(),se("div",sse,[p("div",ise,[p("div",rse,[p("label",ose,[ase,j(o,{entry:"filter.dterm_1_type"})])]),p("div",lse,[p("div",cse,[p("div",use,[j(a,{class:"is-fullwidth",id:"dterm-1-type",modelValue:t.profile.filter.dterm[0].type,"onUpdate:modelValue":e[4]||(e[4]=l=>t.profile.filter.dterm[0].type=l),modelModifiers:{number:!0},options:t.filterTypeOptions},null,8,["modelValue","options"])])])])]),p("div",dse,[p("div",fse,[p("label",hse,[pse,j(o,{entry:"filter.dterm_1_freq"})])]),p("div",mse,[p("div",gse,[p("div",_se,[Ue(p("input",{class:"input",id:"dterm-1-freq",type:"number",step:"5","onUpdate:modelValue":e[5]||(e[5]=l=>t.profile.filter.dterm[0].cutoff_freq=l)},null,512),[[We,t.profile.filter.dterm[0].cutoff_freq,void 0,{number:!0}]])])])])]),p("div",yse,[p("div",bse,[p("label",vse,[wse,j(o,{entry:"filter.dterm_2_type"})])]),p("div",xse,[p("div",Sse,[p("div",Ese,[j(a,{class:"is-fullwidth",id:"dterm-2-type",modelValue:t.profile.filter.dterm[1].type,"onUpdate:modelValue":e[6]||(e[6]=l=>t.profile.filter.dterm[1].type=l),modelModifiers:{number:!0},options:t.filterTypeOptions},null,8,["modelValue","options"])])])])]),p("div",Tse,[p("div",Mse,[p("label",Ase,[Cse,j(o,{entry:"filter.dterm_2_freq"})])]),p("div",Rse,[p("div",Pse,[p("div",kse,[Ue(p("input",{class:"input",id:"dterm-2-freq",type:"number",step:"5","onUpdate:modelValue":e[7]||(e[7]=l=>t.profile.filter.dterm[1].cutoff_freq=l)},null,512),[[We,t.profile.filter.dterm[1].cutoff_freq,void 0,{number:!0}]])])])])]),p("div",Ose,[p("div",Lse,[p("label",Ise,[Dse,j(o,{entry:"filter.dterm_dynamic_enable"})])]),p("div",Nse,[p("div",Fse,[p("div",$se,[j(a,{class:"is-fullwidth",id:"dterm-dynamic-enable",modelValue:t.profile.filter.dterm_dynamic_enable,"onUpdate:modelValue":e[8]||(e[8]=l=>t.profile.filter.dterm_dynamic_enable=l),modelModifiers:{number:!0},options:t.toggleOptions},null,8,["modelValue","options"])])])])]),p("div",Use,[p("div",Bse,[p("label",zse,[Gse,j(o,{entry:"filter.dterm_dynamic_min"})])]),p("div",Vse,[p("div",Hse,[p("div",Wse,[Ue(p("input",{class:"input",id:"dterm-dynamic-min",type:"number",step:"5","onUpdate:modelValue":e[9]||(e[9]=l=>t.profile.filter.dterm_dynamic_min=l)},null,512),[[We,t.profile.filter.dterm_dynamic_min,void 0,{number:!0}]])])])])]),p("div",jse,[p("div",Yse,[p("label",qse,[Kse,j(o,{entry:"filter.dterm_dynamic_max"})])]),p("div",Xse,[p("div",Zse,[p("div",Jse,[Ue(p("input",{class:"input",id:"dterm-dynamic-max",type:"number",step:"5","onUpdate:modelValue":e[10]||(e[10]=l=>t.profile.filter.dterm_dynamic_max=l)},null,512),[[We,t.profile.filter.dterm_dynamic_max,void 0,{number:!0}]])])])])])])):je("",!0)])):je("",!0)])])])}var eie=Qe(wne,[["render",Qse]]);const tie=Ve({name:"ThrottleSettings",components:{LineChart:Cv},setup(){return{profile:Zt()}},data(){return{plot:{labels:["Throttle"],axis:[{label:"Throttle",data:[]}]}}},watch:{"profile.rate.throttle_expo"(){this.update()},"profile.rate.throttle_mid"(){this.update()}},methods:{constrainf(t,e,n){return t>n?n:t<e?e:t},calcThrottle(t){const e=t*2-1,n=this.profile.rate.throttle_expo,s=this.profile.rate.throttle_mid;return this.constrainf((e*e*e*n+e*(1-n)+1)*s,0,1)},update(){const t=[];for(let e=0;e<=100;e++){const n=e/100;t.push({x:e,y:this.calcThrottle(n)*100})}this.plot.axis[0].data=t}},created(){this.update()}}),nie={class:"card"},sie=p("header",{class:"card-header"},[p("p",{class:"card-header-title"},"Throttle Settings")],-1),iie={class:"card-content"},rie={class:"content"},oie={class:"columns column-narrow field-is-5"},aie={class:"column is-6"},lie={class:"field is-horizontal mt-6"},cie={class:"field-label"},uie={class:"label",for:"throttle_mid"},die=de(" Throttle Mid "),fie={class:"field-body"},hie={class:"field"},pie={class:"control is-expanded"},mie={class:"field is-horizontal"},gie={class:"field-label"},_ie={class:"label",for:"throttle_expo"},yie=de(" Throttle Expo "),bie={class:"field-body"},vie={class:"field"},wie={class:"control is-expanded"},xie={class:"column is-6"};function Sie(t,e,n,s,i,r){const o=xe("tooltip"),a=xe("LineChart");return Y(),se("div",nie,[sie,p("div",iie,[p("div",rie,[p("div",oie,[p("div",aie,[p("div",lie,[p("div",cie,[p("label",uie,[die,j(o,{entry:"rate.throttle_mid"})])]),p("div",fie,[p("div",hie,[p("div",pie,[Ue(p("input",{class:"input",step:"0.01",id:"throttle_mid",type:"number",min:"0",max:"1","onUpdate:modelValue":e[0]||(e[0]=l=>t.profile.rate.throttle_mid=l)},null,512),[[We,t.profile.rate.throttle_mid,void 0,{number:!0}]])])])])]),p("div",mie,[p("div",gie,[p("label",_ie,[yie,j(o,{entry:"rate.throttle_expo"})])]),p("div",bie,[p("div",vie,[p("div",wie,[Ue(p("input",{class:"input",step:"0.01",id:"throttle_expo",type:"number",min:"0",max:"1","onUpdate:modelValue":e[1]||(e[1]=l=>t.profile.rate.throttle_expo=l)},null,512),[[We,t.profile.rate.throttle_expo,void 0,{number:!0}]])])])])])]),p("div",xie,[j(a,{title:"Throttle",labels:t.plot.labels,axis:t.plot.axis},null,8,["labels","axis"])])])])])])}var Eie=Qe(tie,[["render",Sie]]);const Tie=Ve({name:"Rate",components:{StickRates:OQ,PIDRates:vne,FilterSettings:eie,StickRatesLegacy:Lee,ThrottleSettings:Eie},setup(){return{profile:Zt(),default_profile:bd()}}}),Mie={class:"columns is-multiline"},Aie={class:"column is-12"},Cie={key:0,class:"column is-12"},Rie={class:"column is-12"},Pie={class:"column is-12"};function kie(t,e,n,s,i,r){const o=xe("StickRatesLegacy"),a=xe("StickRates"),l=xe("ThrottleSettings"),c=xe("PIDRates"),u=xe("FilterSettings");return Y(),se("div",Mie,[p("div",Aie,[t.default_profile.has_legacy_stickrates?(Y(),bn(o,{key:0})):(Y(),bn(a,{key:1}))]),t.profile.profileVersionGt("0.2.0")?(Y(),se("div",Cie,[j(l)])):je("",!0),p("div",Rie,[j(c)]),p("div",Pie,[j(u)])])}var Oie=Qe(Tie,[["render",kie]]);function Qp(t){return t!==String(parseFloat(t))}function Lie(t){return Object.getOwnPropertyNames(t).filter(function(e){return t.propertyIsEnumerable(e)&&Qp(e)})}function Iie(t){return Object.keys(t).filter(Qp)}function Die(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&t.propertyIsEnumerable(n)&&Qp(n)&&e.push(n);return e}var Nie=Object.getOwnPropertyNames?Lie:Object.keys?Iie:Die,HC=function(){function t(e){this.enumObj=e,this.keysList=Object.freeze(Nie(e));for(var n=this.keysList.length,s=new Array(n),i=new Map,r=0;r<n;++r){var o=this.keysList[r],a=e[o];s[r]=a,i.set(a,o),this[r]=Object.freeze([o,a])}this.valuesList=Object.freeze(s),this.keysByValueMap=i,this.size=this.length=n,Object.freeze(this)}return t.prototype.toString=function(){return"[object EnumWrapper]"},t.prototype.keys=function(){var e,n=this,s=0;return e={next:function(){var i=s>=n.length,r={done:i,value:n.keysList[s]};return++s,r}},e[Symbol.iterator]=function(){return this},e},t.prototype.values=function(){var e,n=this,s=0;return e={next:function(){var i=s>=n.length,r={done:i,value:n.valuesList[s]};return++s,r}},e[Symbol.iterator]=function(){return this},e},t.prototype.entries=function(){var e,n=this,s=0;return e={next:function(){var i=s>=n.length,r={done:i,value:n[s]};return++s,r}},e[Symbol.iterator]=function(){return this},e},t.prototype[Symbol.iterator]=function(){return this.entries()},t.prototype.forEach=function(e,n){for(var s=this.length,i=0;i<s;++i){var r=this[i];e.call(n,r[1],r[0],this,i)}},t.prototype.map=function(e,n){for(var s=this.length,i=new Array(s),r=0;r<s;++r){var o=this[r];i[r]=e.call(n,o[1],o[0],this,r)}return i},t.prototype.getKeys=function(){return this.keysList.slice()},t.prototype.getValues=function(){return this.valuesList.slice()},t.prototype.getEntries=function(){return Array.prototype.slice.call(this)},t.prototype.indexOfKey=function(e){return this.keysList.indexOf(e)},t.prototype.indexOfValue=function(e){return this.valuesList.indexOf(e)},t.prototype.isKey=function(e){return e!=null&&Qp(e)&&this.enumObj.hasOwnProperty(e)},t.prototype.asKeyOrThrow=function(e){if(this.isKey(e))return e;throw new Error("Unexpected key: "+e+". Expected one of: "+this.getValues())},t.prototype.asKeyOrDefault=function(e,n){return this.isKey(e)?e:n},t.prototype.isValue=function(e){return e!=null&&this.keysByValueMap.has(e)},t.prototype.asValueOrThrow=function(e){if(this.isValue(e))return e;throw new Error("Unexpected value: "+e+". Expected one of: "+this.getValues())},t.prototype.asValueOrDefault=function(e,n){return this.isValue(e)?e:n},t.prototype.getKeyOrThrow=function(e){var n=e!=null?this.keysByValueMap.get(e):void 0;if(n!=null)return n;throw new Error("Unexpected value: "+e+". Expected one of: "+this.getValues())},t.prototype.getKeyOrDefault=function(e,n){var s=e!=null?this.keysByValueMap.get(e):void 0;return s!=null?s:n},t.prototype.getValueOrThrow=function(e){return this.enumObj[this.asKeyOrThrow(e)]},t.prototype.getValueOrDefault=function(e,n){return this.isKey(e)?this.enumObj[e]:n},t}();HC.prototype[Symbol.toStringTag]="EnumWrapper";var Rv=Symbol("ts-enum-util:unhandledEntry"),rd=Symbol("ts-enum-util:handleNull"),od=Symbol("ts-enum-util:handleUndefined"),fs=Symbol("ts-enum-util:handleUnexpected");function WC(t){return new Error("Unhandled value: "+t)}var Fie=function(){function t(e){this.value=e}return t.prototype.with=function(e){if(e.hasOwnProperty(this.value)){var n=e[this.value];return Kl(n,this.value)}else{if(e[fs])return Kl(e[fs],this.value);throw new Error("Unexpected value: "+this.value)}},t}(),$ie=function(){function t(){}return t.prototype.with=function(e){if(e[rd])return Kl(e[rd],null);if(e[fs])return Kl(e[fs],null);throw new Error("Unexpected value: null")},t}(),Uie=function(){function t(){}return t.prototype.with=function(e){if(e[od])return Kl(e[od],void 0);if(e[fs])return Kl(e[fs],void 0);throw new Error("Unexpected value: undefined")},t}();function Kl(t,e){if(t===Rv)throw WC(e);return t(e)}var Bie=function(){function t(e){this.value=e}return t.prototype.with=function(e){if(e.hasOwnProperty(this.value))return Xl(e[this.value],this.value);if(e.hasOwnProperty(fs))return Xl(e[fs],this.value);throw new Error("Unexpected value: "+this.value)},t}(),zie=function(){function t(){}return t.prototype.with=function(e){if(e.hasOwnProperty(rd))return Xl(e[rd],null);if(e.hasOwnProperty(fs))return Xl(e[fs],null);throw new Error("Unexpected value: null")},t}(),Gie=function(){function t(){}return t.prototype.with=function(e){if(e.hasOwnProperty(od))return Xl(e[od],void 0);if(e.hasOwnProperty(fs))return Xl(e[fs],void 0);throw new Error("Unexpected value: undefined")},t}();function Xl(t,e){if(t===Rv)throw WC(e);return t}function Vie(t){return t===null?new $ie:t===void 0?new Uie:new Fie(t)}function Hie(t){return t===null?new zie:t===void 0?new Gie:new Bie(t)}var KS=new WeakMap;function ks(t){var e=KS.get(t);return e||(e=new HC(t),KS.set(t,e)),e}ks.handleNull=rd;ks.handleUndefined=od;ks.handleUnexpected=fs;ks.unhandledEntry=Rv;ks.visitValue=Vie;ks.mapValue=Hie;var jC={exports:{}},YC={exports:{}};(function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(n,s){return n<<s|n>>>32-s},rotr:function(n,s){return n<<32-s|n>>>s},endian:function(n){if(n.constructor==Number)return e.rotl(n,8)&16711935|e.rotl(n,24)&4278255360;for(var s=0;s<n.length;s++)n[s]=e.endian(n[s]);return n},randomBytes:function(n){for(var s=[];n>0;n--)s.push(Math.floor(Math.random()*256));return s},bytesToWords:function(n){for(var s=[],i=0,r=0;i<n.length;i++,r+=8)s[r>>>5]|=n[i]<<24-r%32;return s},wordsToBytes:function(n){for(var s=[],i=0;i<n.length*32;i+=8)s.push(n[i>>>5]>>>24-i%32&255);return s},bytesToHex:function(n){for(var s=[],i=0;i<n.length;i++)s.push((n[i]>>>4).toString(16)),s.push((n[i]&15).toString(16));return s.join("")},hexToBytes:function(n){for(var s=[],i=0;i<n.length;i+=2)s.push(parseInt(n.substr(i,2),16));return s},bytesToBase64:function(n){for(var s=[],i=0;i<n.length;i+=3)for(var r=n[i]<<16|n[i+1]<<8|n[i+2],o=0;o<4;o++)i*8+o*6<=n.length*8?s.push(t.charAt(r>>>6*(3-o)&63)):s.push("=");return s.join("")},base64ToBytes:function(n){n=n.replace(/[^A-Z0-9+\/]/ig,"");for(var s=[],i=0,r=0;i<n.length;r=++i%4)r!=0&&s.push((t.indexOf(n.charAt(i-1))&Math.pow(2,-2*r+8)-1)<<r*2|t.indexOf(n.charAt(i))>>>6-r*2);return s}};YC.exports=e})();var hy={utf8:{stringToBytes:function(t){return hy.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(hy.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(t.charCodeAt(n)&255);return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}},XS=hy;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Wie=function(t){return t!=null&&(qC(t)||jie(t)||!!t._isBuffer)};function qC(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function jie(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&qC(t.slice(0,0))}(function(){var t=YC.exports,e=XS.utf8,n=Wie,s=XS.bin,i=function(r,o){r.constructor==String?o&&o.encoding==="binary"?r=s.stringToBytes(r):r=e.stringToBytes(r):n(r)?r=Array.prototype.slice.call(r,0):!Array.isArray(r)&&r.constructor!==Uint8Array&&(r=r.toString());for(var a=t.bytesToWords(r),l=r.length*8,c=1732584193,u=-271733879,d=-1732584194,f=271733878,h=0;h<a.length;h++)a[h]=(a[h]<<8|a[h]>>>24)&16711935|(a[h]<<24|a[h]>>>8)&4278255360;a[l>>>5]|=128<<l%32,a[(l+64>>>9<<4)+14]=l;for(var _=i._ff,g=i._gg,m=i._hh,y=i._ii,h=0;h<a.length;h+=16){var b=c,S=u,x=d,v=f;c=_(c,u,d,f,a[h+0],7,-680876936),f=_(f,c,u,d,a[h+1],12,-389564586),d=_(d,f,c,u,a[h+2],17,606105819),u=_(u,d,f,c,a[h+3],22,-1044525330),c=_(c,u,d,f,a[h+4],7,-176418897),f=_(f,c,u,d,a[h+5],12,1200080426),d=_(d,f,c,u,a[h+6],17,-1473231341),u=_(u,d,f,c,a[h+7],22,-45705983),c=_(c,u,d,f,a[h+8],7,1770035416),f=_(f,c,u,d,a[h+9],12,-1958414417),d=_(d,f,c,u,a[h+10],17,-42063),u=_(u,d,f,c,a[h+11],22,-1990404162),c=_(c,u,d,f,a[h+12],7,1804603682),f=_(f,c,u,d,a[h+13],12,-40341101),d=_(d,f,c,u,a[h+14],17,-1502002290),u=_(u,d,f,c,a[h+15],22,1236535329),c=g(c,u,d,f,a[h+1],5,-165796510),f=g(f,c,u,d,a[h+6],9,-1069501632),d=g(d,f,c,u,a[h+11],14,643717713),u=g(u,d,f,c,a[h+0],20,-373897302),c=g(c,u,d,f,a[h+5],5,-701558691),f=g(f,c,u,d,a[h+10],9,38016083),d=g(d,f,c,u,a[h+15],14,-660478335),u=g(u,d,f,c,a[h+4],20,-405537848),c=g(c,u,d,f,a[h+9],5,568446438),f=g(f,c,u,d,a[h+14],9,-1019803690),d=g(d,f,c,u,a[h+3],14,-187363961),u=g(u,d,f,c,a[h+8],20,1163531501),c=g(c,u,d,f,a[h+13],5,-1444681467),f=g(f,c,u,d,a[h+2],9,-51403784),d=g(d,f,c,u,a[h+7],14,1735328473),u=g(u,d,f,c,a[h+12],20,-1926607734),c=m(c,u,d,f,a[h+5],4,-378558),f=m(f,c,u,d,a[h+8],11,-2022574463),d=m(d,f,c,u,a[h+11],16,1839030562),u=m(u,d,f,c,a[h+14],23,-35309556),c=m(c,u,d,f,a[h+1],4,-1530992060),f=m(f,c,u,d,a[h+4],11,1272893353),d=m(d,f,c,u,a[h+7],16,-155497632),u=m(u,d,f,c,a[h+10],23,-1094730640),c=m(c,u,d,f,a[h+13],4,681279174),f=m(f,c,u,d,a[h+0],11,-358537222),d=m(d,f,c,u,a[h+3],16,-722521979),u=m(u,d,f,c,a[h+6],23,76029189),c=m(c,u,d,f,a[h+9],4,-640364487),f=m(f,c,u,d,a[h+12],11,-421815835),d=m(d,f,c,u,a[h+15],16,530742520),u=m(u,d,f,c,a[h+2],23,-995338651),c=y(c,u,d,f,a[h+0],6,-198630844),f=y(f,c,u,d,a[h+7],10,1126891415),d=y(d,f,c,u,a[h+14],15,-1416354905),u=y(u,d,f,c,a[h+5],21,-57434055),c=y(c,u,d,f,a[h+12],6,1700485571),f=y(f,c,u,d,a[h+3],10,-1894986606),d=y(d,f,c,u,a[h+10],15,-1051523),u=y(u,d,f,c,a[h+1],21,-2054922799),c=y(c,u,d,f,a[h+8],6,1873313359),f=y(f,c,u,d,a[h+15],10,-30611744),d=y(d,f,c,u,a[h+6],15,-1560198380),u=y(u,d,f,c,a[h+13],21,1309151649),c=y(c,u,d,f,a[h+4],6,-145523070),f=y(f,c,u,d,a[h+11],10,-1120210379),d=y(d,f,c,u,a[h+2],15,718787259),u=y(u,d,f,c,a[h+9],21,-343485551),c=c+b>>>0,u=u+S>>>0,d=d+x>>>0,f=f+v>>>0}return t.endian([c,u,d,f])};i._ff=function(r,o,a,l,c,u,d){var f=r+(o&a|~o&l)+(c>>>0)+d;return(f<<u|f>>>32-u)+o},i._gg=function(r,o,a,l,c,u,d){var f=r+(o&l|a&~l)+(c>>>0)+d;return(f<<u|f>>>32-u)+o},i._hh=function(r,o,a,l,c,u,d){var f=r+(o^a^l)+(c>>>0)+d;return(f<<u|f>>>32-u)+o},i._ii=function(r,o,a,l,c,u,d){var f=r+(a^(o|~l))+(c>>>0)+d;return(f<<u|f>>>32-u)+o},i._blocksize=16,i._digestsize=16,jC.exports=function(r,o){if(r==null)throw new Error("Illegal argument "+r);var a=t.wordsToBytes(i(r,o));return o&&o.asBytes?a:o&&o.asString?s.bytesToString(a):t.bytesToHex(a)}})();var Yie=jC.exports;const qie=Ve({name:"ReceiverSettings",data(){return{lqiSourceNames:[{value:0,text:"PACKET_RATE"},{value:1,text:"CHANNEL"},{value:2,text:"DIRECT"}],elrsBindPhraseInput:""}},setup(){return{profile:Zt(),info:is(),bind:d2(),state:Ds(),root:nn()}},computed:{...TA(lc,{serialProtoNames:t=>ks(t.RXSerialProtocol).getKeys(),RXProtocol:t=>t.RXProtocol}),date(){return new Date(this.profile.meta.datetime*1e3)},protoNames(){return ks(this.RXProtocol).getKeys()},rx_protocol(){return this.profile.receiver.protocol||this.info.rx_protocol},protocolOptions(){return(this.info.rx_protocols||[]).filter(t=>t>0).map(t=>({value:t,text:this.protoNames[t]}))},serialProto(){return this.serialProtoNames.reduce((t,e,n)=>(t[e]=n,t),{})},isSpiProtocol(){return[this.RXProtocol.FRSKY_D8,this.RXProtocol.FRSKY_D16||this.RXProtocol.FRSKY_D16_FCC,this.RXProtocol.FRSKY_D16||this.RXProtocol.FRSKY_D16_LBT,this.RXProtocol.REDPINE,this.RXProtocol.FLYSKY_AFHDS,this.RXProtocol.FLYSKY_AFHDS2A].includes(this.rx_protocol)},protoStatus(){if([this.RXProtocol.FRSKY_D8,this.RXProtocol.FRSKY_D16||this.RXProtocol.FRSKY_D16_FCC,this.RXProtocol.FRSKY_D16||this.RXProtocol.FRSKY_D16_LBT,this.RXProtocol.REDPINE,this.RXProtocol.EXPRESS_LRS,this.RXProtocol.FLYSKY_AFHDS,this.RXProtocol.FLYSKY_AFHDS2A].includes(this.rx_protocol))return["RX_STATUS_NONE","RX_STATUS_BINDING","RX_STATUS_BOUND"][this.state.rx_status];if(this.rx_protocol==this.RXProtocol.UNIFIED_SERIAL){if(this.state.rx_status<100)return"RX_STATUS_NONE";if(this.state.rx_status>=100&&this.state.rx_status<200)return"RX_STATUS_DETECTING";if(this.state.rx_status>=200&&this.state.rx_status<300)return"RX_STATUS_DETECTED"}return""},serialProtoStatus(){let t=0;return this.state.rx_status>=100&&this.state.rx_status<200?t=this.state.rx_status-100:this.state.rx_status>=200&&this.state.rx_status<300&&(t=this.state.rx_status-200),this.serialProtoNames[t]},elrsBindPhrase(){var t,e,n;return(n=(e=(t=this.bind)==null?void 0:t.info)==null?void 0:e.raw)==null?void 0:n.slice(1,7).join(", ")},elrsSwitchMode(){var t,e;return(e=(t=this.bind)==null?void 0:t.info)!=null&&e.raw[8]?"Hybrid Switches":"Wide Switches"},downloadAnchor(){return this.$refs.downloadAnchor},fileRef(){return this.$refs.file}},watch:{"profile.receiver.protocol"(){this.reset(),this.root.set_needs_reboot()}},methods:{parseHexString(t){const e=[];for(;t.length>=2;)e.push(parseInt(t.substring(0,2),16)),t=t.substring(2,t.length);return e},apply_elrs_bind_phrase(t){var i;const e=Yie(`-DMY_BINDING_PHRASE="${t}"`),n=this.parseHexString(e).slice(0,6),s={...(i=this.bind)==null?void 0:i.info};s.bind_saved=1,s.raw[0]=1;for(let r=0;r<6;r++)s.raw[r+1]=n[r];return s.raw[7]=55,this.bind.apply_bind_info(s)},downloadBindData(){const t=window.btoa(String.fromCharCode(...new Uint8Array(this.bind.info.raw))),e=encodeURIComponent(t),n="data:application/octet-stream;charset=utf-8,"+e,s=this.date.toISOString().substring(0,10),r=`BindData_${this.profile.meta.name.replace(/\0/g,"")}_${s}.base64`;this.downloadAnchor.setAttribute("href",n),this.downloadAnchor.setAttribute("download",r),this.downloadAnchor.click()},uploadBindData(){const t=new FileReader;t.addEventListener("load",e=>{var s,i;const n={...(s=this.bind)==null?void 0:s.info};n.bind_saved=1,n.raw=Uint8Array.from(window.atob((i=e==null?void 0:e.target)==null?void 0:i.result),r=>r.charCodeAt(0)),this.bind.apply_bind_info(n)}),this.fileRef.oninput=()=>{var e,n;(n=(e=this.fileRef)==null?void 0:e.files)!=null&&n.length&&t.readAsText(this.fileRef.files[0])},this.fileRef.click()},reset(){var e;const t={...(e=this.bind)==null?void 0:e.info};t.bind_saved=0;for(let n=0;n<t.raw.length;n++)t.raw[n]=0;return this.bind.apply_bind_info(t)}}}),Kie={class:"card"},Xie={class:"card-header"},Zie=p("p",{class:"card-header-title"},"Receiver",-1),Jie=de("Reset"),Qie={class:"card-content"},ere={class:"content field-is-2"},tre={key:0,class:"field is-horizontal"},nre={class:"field-label"},sre={class:"label"},ire=de(" Protocol "),rre={class:"field-body"},ore={class:"field"},are={class:"control is-expanded"},lre={key:1,class:"field is-horizontal"},cre={class:"field-label"},ure={class:"label"},dre=de(" Protocol "),fre={class:"field-body"},hre={class:"field"},pre={class:"control is-expanded"},mre={key:2,class:"field is-horizontal"},gre={class:"field-label"},_re={class:"label"},yre=de(" LQI Source "),bre={class:"field-body"},vre={class:"field"},wre={class:"control is-expanded"},xre={key:3,class:"field is-horizontal"},Sre={class:"field-label"},Ere={class:"label"},Tre=de(" Bind Saved "),Mre={class:"field-body"},Are={class:"field"},Cre={class:"control is-expanded"},Rre={key:4,class:"field is-horizontal"},Pre=p("div",{class:"field-label"},[p("label",{class:"label"},"RSSI")],-1),kre={class:"field-body"},Ore={class:"field"},Lre={class:"control is-expanded"},Ire={key:5,class:"field is-horizontal"},Dre=p("div",{class:"field-label"},[p("label",{class:"label"},"Status")],-1),Nre={class:"field-body"},Fre={class:"field"},$re={class:"control is-expanded"},Ure={key:6,class:"field is-horizontal"},Bre=p("div",{class:"field-label"},[p("label",{class:"label"},"Serial Protocol")],-1),zre={class:"field-body"},Gre={class:"field"},Vre={class:"control is-expanded"},Hre={key:7,class:"card mt-4"},Wre=p("header",{class:"card-header"},[p("p",{class:"card-header-title"},"ExpressLRS")],-1),jre={class:"card-content"},Yre={class:"content"},qre={class:"field is-horizontal"},Kre=p("div",{class:"field-label"},[p("label",{class:"label"},"Switch Mode")],-1),Xre={class:"field-body"},Zre={class:"field"},Jre={class:"control is-expanded"},Qre={class:"field is-horizontal"},eoe=p("div",{class:"field-label"},[p("label",{class:"label"},"Current Bind Phrase")],-1),toe={class:"field-body"},noe={class:"field"},soe={class:"control is-expanded"},ioe={class:"field is-horizontal"},roe=p("div",{class:"field-label"},[p("label",{class:"label"},"New Bind Phrase")],-1),ooe={class:"field-body"},aoe={class:"field"},loe={class:"control is-expanded"},coe={class:"card-footer"},uoe=p("span",{class:"card-footer-item"},null,-1),doe=de(" Apply "),foe={key:8,class:"card mt-4"},hoe=p("header",{class:"card-header"},[p("p",{class:"card-header-title"},"Bind Data")],-1),poe=p("div",{class:"card-content"},[p("div",{class:"content has-text-centered"},[de(" Save and load bind information for spi protocols."),p("br"),de(" Requires reboot after load. ")])],-1),moe={class:"card-footer"},goe=de(" Save Bind Data "),_oe=de(" Load Bind Data "),yoe={class:"input",accept:".base64",type:"file",ref:"file",style:{display:"none"}},boe={ref:"downloadAnchor",target:"_blank"},voe=p("div",{class:"columns mt-4"},[p("div",{class:"column is-12 has-text-centered"},[p("small",null," When binding via your transmitter, save bind by moving your right transmitter stick UP-UP-UP followed by DOWN-DOWN-DOWN, to toggle the Bind Saved flag above. When binding via passphrase or bind data this is not required. ")])],-1);function woe(t,e,n,s,i,r){const o=xe("spinner-btn"),a=xe("tooltip"),l=xe("input-select");return Y(),se("div",Kie,[p("header",Xie,[Zie,j(o,{class:"card-header-button is-warning",onClick:t.reset},{default:Xe(()=>[Jie]),_:1},8,["onClick"])]),p("div",Qie,[p("div",ere,[t.info.rx_protocol&&!t.profile.receiver.protocol?(Y(),se("div",tre,[p("div",nre,[p("label",sre,[ire,j(a,{entry:"receiver.protocol"})])]),p("div",rre,[p("div",ore,[p("div",are,Fe(t.protoNames[t.info.rx_protocol]),1)])])])):je("",!0),t.profile.receiver.protocol?(Y(),se("div",lre,[p("div",cre,[p("label",ure,[dre,j(a,{entry:"receiver.protocol"})])]),p("div",fre,[p("div",hre,[p("div",pre,[j(l,{class:"is-fullwidth",modelValue:t.profile.receiver.protocol,"onUpdate:modelValue":e[0]||(e[0]=c=>t.profile.receiver.protocol=c),modelModifiers:{number:!0},options:t.protocolOptions},null,8,["modelValue","options"])])])])])):je("",!0),t.info.quic_protocol_version>3?(Y(),se("div",mre,[p("div",gre,[p("label",_re,[yre,j(a,{entry:"receiver.lqi_source"})])]),p("div",bre,[p("div",vre,[p("div",wre,[j(l,{class:"is-fullwidth",modelValue:t.profile.receiver.lqi_source,"onUpdate:modelValue":e[1]||(e[1]=c=>t.profile.receiver.lqi_source=c),modelModifiers:{number:!0},options:t.lqiSourceNames},null,8,["modelValue","options"])])])])])):je("",!0),t.info.quic_protocol_version>2?(Y(),se("div",xre,[p("div",Sre,[p("label",Ere,[Tre,j(a,{entry:"receiver.bind_saved"})])]),p("div",Mre,[p("div",Are,[p("div",Cre,Fe(t.bind.info.bind_saved?"yes":"no"),1)])])])):je("",!0),t.info.quic_protocol_version>2?(Y(),se("div",Rre,[Pre,p("div",kre,[p("div",Ore,[p("div",Lre,Fe(t.state.rx_rssi),1)])])])):je("",!0),t.info.quic_protocol_version>2?(Y(),se("div",Ire,[Dre,p("div",Nre,[p("div",Fre,[p("div",$re,Fe(t.protoStatus),1)])])])):je("",!0),t.info.quic_protocol_version>2&&t.rx_protocol==t.RXProtocol.UNIFIED_SERIAL?(Y(),se("div",Ure,[Bre,p("div",zre,[p("div",Gre,[p("div",Vre,Fe(t.serialProtoStatus),1)])])])):je("",!0),t.bind.info.raw&&t.rx_protocol==t.RXProtocol.EXPRESS_LRS?(Y(),se("div",Hre,[Wre,p("div",jre,[p("div",Yre,[p("div",qre,[Kre,p("div",Xre,[p("div",Zre,[p("div",Jre,Fe(t.elrsSwitchMode),1)])])]),p("div",Qre,[eoe,p("div",toe,[p("div",noe,[p("div",soe,Fe(t.elrsBindPhrase),1)])])]),p("div",ioe,[roe,p("div",ooe,[p("div",aoe,[p("div",loe,[Ue(p("input",{class:"input",id:"name",type:"text","onUpdate:modelValue":e[2]||(e[2]=c=>t.elrsBindPhraseInput=c)},null,512),[[We,t.elrsBindPhraseInput]])])])])])])]),p("footer",coe,[uoe,j(o,{class:"card-footer-item",onClick:e[3]||(e[3]=c=>t.apply_elrs_bind_phrase(t.elrsBindPhraseInput)),disabled:t.elrsBindPhraseInput.length<4},{default:Xe(()=>[doe]),_:1},8,["disabled"])])])):je("",!0),t.bind.info.raw&&t.isSpiProtocol?(Y(),se("div",foe,[hoe,poe,p("footer",moe,[j(o,{class:"card-footer-item",onClick:t.downloadBindData},{default:Xe(()=>[goe]),_:1},8,["onClick"]),j(o,{class:"card-footer-item",onClick:t.uploadBindData},{default:Xe(()=>[_oe]),_:1},8,["onClick"])]),p("input",yoe,null,512),p("a",boe,null,512)])):je("",!0),voe])])])}var xoe=Qe(qie,[["render",woe]]);const Soe=Ve({name:"RCChannels",data(){return{timerCount:0,timerTimeout:0,receiverChannelMappingOptions:[{value:0,text:"AETR"},{value:1,text:"TAER"}],channelNames:["Roll","Pitch","Yaw","Throttle"],wizardStates:["","Succeeded","Failed","","Recording, move sticks to extents","Testing calibration, move sticks again to extents","",""]}},setup(){return{root:nn(),state:Ds(),profile:Zt()}},computed:{channelStyle(){return this.state.rx_filtered.map((t,e)=>{if(e==3){const s=2+Math.abs(t)*98;return{"margin-left":"0%",width:s+"%"}}const n=2+Math.abs(t)*49;return{"margin-left":t<0?51-n+"%":"49%",width:n+"%"}})}},watch:{timerCount:{handler(t){clearTimeout(this.timerTimeout),t>0&&(this.timerTimeout=window.setTimeout(()=>{this.timerCount--},1e3))},immediate:!0},"state.stick_calibration_wizard":{handler(t){switch(t){case dl.STICK_WIZARD_SUCCESS:case dl.STICK_WIZARD_FAILED:this.timerCount=0,setTimeout(()=>this.profile.fetch_profile(),500);break;case dl.STICK_WIZARD_CAPTURE_STICKS:case dl.STICK_WIZARD_WAIT_FOR_CONFIRM:this.timerCount=19;break}},immediate:!0}}}),Pd=t=>(fp("data-v-2bc94883"),t=t(),hp(),t),Eoe={class:"card"},Toe=Pd(()=>p("header",{class:"card-header"},[p("p",{class:"card-header-title"},"RC Channels")],-1)),Moe={class:"card-content"},Aoe={class:"content"},Coe={class:"field field-is-2 is-horizontal mb-6"},Roe={class:"field-label"},Poe={class:"label"},koe=de(" Channel Mapping "),Ooe={class:"field-body"},Loe={class:"field"},Ioe={class:"control is-expanded"},Doe={class:"field-label",style:{"align-self":"unset"}},Noe={class:"label"},Foe={class:"field-body"},$oe={class:"field has-addons"},Uoe={class:"control my-0"},Boe=["id","onUpdate:modelValue"],zoe=Pd(()=>p("p",{class:"control"},[p("a",{class:"button is-small is-static"}," min ")],-1)),Goe={class:"field has-addons"},Voe={class:"control my-0"},Hoe=["id","onUpdate:modelValue"],Woe=Pd(()=>p("p",{class:"control"},[p("a",{class:"button is-small is-static"}," max ")],-1)),joe={class:"column is-6 py-0"},Yoe={class:"channel-container"},qoe={class:"columns mt-5"},Koe={class:"column is-8 wizard"},Xoe=de(" Stick Calibration Wizard "),Zoe=Pd(()=>p("br",null,null,-1)),Joe=Pd(()=>p("br",null,null,-1)),Qoe={key:0},eae={class:"column is-4"},tae=de(" Calibrate ");function nae(t,e,n,s,i,r){const o=xe("tooltip"),a=xe("input-select"),l=xe("spinner-btn");return Y(),se("div",Eoe,[Toe,p("div",Moe,[p("div",Aoe,[p("div",Coe,[p("div",Roe,[p("label",Poe,[koe,j(o,{entry:"receiver.channel_mapping"})])]),p("div",Ooe,[p("div",Loe,[p("div",Ioe,[j(a,{class:"is-fullwidth",modelValue:t.profile.receiver.channel_mapping,"onUpdate:modelValue":e[0]||(e[0]=c=>t.profile.receiver.channel_mapping=c),modelModifiers:{number:!0},options:t.receiverChannelMappingOptions},null,8,["modelValue","options"])])])])]),(Y(!0),se(Ze,null,Ht(t.channelStyle,(c,u)=>(Y(),se("div",{class:"field is-horizontal",key:"channel-"+u},[p("div",Doe,[p("label",Noe,Fe(t.channelNames[u]),1)]),p("div",Foe,[p("div",$oe,[p("p",Uoe,[Ue(p("input",{class:"input is-small",id:`limit-${t.channelNames[u]}-min`,type:"number",step:"0.1","onUpdate:modelValue":d=>t.profile.receiver.stick_calibration_limits[u].min=d},null,8,Boe),[[We,t.profile.receiver.stick_calibration_limits[u].min,void 0,{number:!0}]])]),zoe]),p("div",Goe,[p("p",Voe,[Ue(p("input",{class:"input is-small",id:`limit-${t.channelNames[u]}-max`,type:"number",step:"0.1","onUpdate:modelValue":d=>t.profile.receiver.stick_calibration_limits[u].max=d},null,8,Hoe),[[We,t.profile.receiver.stick_calibration_limits[u].max,void 0,{number:!0}]])]),Woe])]),p("div",joe,[p("div",Yoe,[p("div",{class:"channel-bar",style:np(c)},Fe(Math.floor(t.state.rx_filtered[u]*(u!=3?50:100))),5)])])]))),128)),p("div",qoe,[p("div",Koe,[Xoe,Zoe,de(" "+Fe(t.wizardStates[t.state.stick_calibration_wizard])+" ",1),Joe,t.timerCount?(Y(),se("span",Qoe,"Continuing in "+Fe(t.timerCount)+"s..",1)):je("",!0)]),p("div",eae,[j(l,{class:"is-pulled-right is-primary",onClick:e[1]||(e[1]=c=>t.root.cal_sticks())},{default:Xe(()=>[tae]),_:1})])])])])])}var sae=Qe(Soe,[["render",nae],["__scopeId","data-v-2bc94883"]]);const iae=Ve({name:"AuxChannels",setup(){return{state:Ds(),profile:Zt()}},computed:{...TA(lc,{auxChannels:t=>ks(t.AuxChannels).map((e,n)=>({text:n,value:e})),auxFunctions:t=>ks(t.AuxFunctions).getKeys().map((e,n)=>({index:n,key:e})).filter(e=>!e.key.startsWith("_"))})},methods:{valueForIndex(t){return this.state.aux[t]},classForIndex(t){return this.profile.receiver.aux?this.profile.receiver.aux[t]==12?"text-danger":this.profile.receiver.aux[t]==13||this.valueForIndex(this.profile.receiver.aux[t])?"text-success":"":""}}}),rae={class:"card"},oae=p("header",{class:"card-header"},[p("p",{class:"card-header-title"},"Aux Channels")],-1),aae={class:"card-content"},lae={class:"content"},cae={class:"columns"},uae={class:"column is-8"},dae={class:"field-label"},fae=["for"],hae={class:"field-body"},pae={class:"field"},mae={class:"control is-expanded"},gae={class:"column is-4"},_ae={class:"card"},yae=p("header",{class:"card-header"},[p("p",{class:"card-header-title"},"Current AUX State")],-1),bae={class:"card-content"},vae={class:"content"},wae={class:"column is-6 py-1"};function xae(t,e,n,s,i,r){const o=xe("tooltip"),a=xe("input-select");return Y(),se("div",rae,[oae,p("div",aae,[p("div",lae,[p("div",cae,[p("div",uae,[(Y(!0),se(Ze,null,Ht(t.auxFunctions,l=>(Y(),se("div",{class:"field field-is-3 is-horizontal mr-4",key:l.key},[p("div",dae,[p("label",{class:Rs(["label",t.classForIndex(l.index)]),for:l.key},[de(Fe(l.key)+" ",1),j(o,{entry:"channel."+l.key.toLowerCase()},null,8,["entry"])],10,fae)]),p("div",hae,[p("div",pae,[p("div",mae,[j(a,{id:l.key,class:"is-fullwidth",modelValue:t.profile.receiver.aux[l.index],"onUpdate:modelValue":c=>t.profile.receiver.aux[l.index]=c,modelModifiers:{number:!0},options:t.auxChannels},null,8,["id","modelValue","onUpdate:modelValue","options"])])])])]))),128))]),p("div",gae,[p("div",_ae,[yae,p("div",bae,[p("div",vae,[(Y(!0),se(Ze,null,Ht(t.auxChannels,(l,c)=>(Y(),se("div",{class:"columns",key:l.text},[p("div",wae,Fe(l.text),1),p("div",{class:Rs(["column is-6 py-1",t.valueForIndex(c)?"text-success":"text-danger"])},Fe(t.valueForIndex(c)?"ON":"OFF"),3)]))),128))])])])])])])])])}var Sae=Qe(iae,[["render",xae]]);const Eae=Ve({name:"Receiver",components:{ReceiverSettings:xoe,RCChannels:sae,AuxChannels:Sae},setup(){return{info:is()}}}),Tae={class:"columns is-multiline"},Mae={class:"column is-12"},Aae={key:0,class:"column is-12"},Cae={class:"column is-12"};function Rae(t,e,n,s,i,r){const o=xe("ReceiverSettings"),a=xe("RCChannels"),l=xe("AuxChannels");return Y(),se("div",Tae,[p("div",Mae,[j(o)]),t.info.quicVersionGt("0.1.0")?(Y(),se("div",Aae,[j(a)])):je("",!0),p("div",Cae,[j(l)])])}var Pae=Qe(Eae,[["render",Rae]]);const kae=Ve({name:"OSDElements",setup(){return{profile:Zt()}},computed:{is_hd(){return this.profile.serial.hdzero},currentElements(){return this.is_hd?this.profile.osd.elements_hd:this.profile.osd.elements},screen(){return{width:this.is_hd?50:30,height:this.is_hd?18:16-2,char_width:12,char_height:18}},svg_width(){return this.screen.width*this.screen.char_width},svg_height(){return this.screen.height*this.screen.char_height},viewBox(){return`0 0 ${this.svg_width} ${this.svg_height}`},element_options(){return[{name:"CALLSIGN",enabled:!0,text:this.profile.osd.callsign},{name:"CELL COUNT",enabled:!0,text:"1S"},{name:"FUELGAUGE VOLTS",enabled:!0,text:" 4.3V"},{name:"FILTERED VOLTS",enabled:!0,text:" 4.3V"},{name:"GYRO TEMP",enabled:!0,text:"  40C"},{name:"FLIGHT MODE",enabled:!0,text:"___ACRO___"},{name:"RSSI",enabled:!0,text:"   90"},{name:"STOPWATCH",enabled:!0,text:"01:20"},{name:"SYSTEM STATUS",enabled:!0,text:"__**ARMED**____"},{name:"THROTTLE",enabled:!0,text:"  50%"},{name:"VTX CHANNEL",enabled:!0,text:"R:7:1"},{name:"CURRENT",enabled:!0,text:"0.00A"}]},elements(){return this.currentElements.filter((t,e)=>this.element_options[e]).map((t,e)=>({...this.element_options[e],active:this.osd_decode(t,"active"),invert:this.osd_decode(t,"invert"),pos_x:this.osd_decode(t,"pos_x"),pos_y:this.osd_decode(t,"pos_y"),value:t}))},callsign:{set(t){let e=t.toUpperCase();for(let n=t.length;n<36;n++)e+="\0";this.profile.osd.callsign=e},get(){return this.profile.osd.callsign.replace(/\0/g,"")}}},methods:{osd_set(t,e,n){const s=this.is_hd?this.profile.osd.elements_hd:this.profile.osd.elements,i=[...s];i[t]=this.osd_encode(s[t],e,n),this.is_hd?this.profile.set_osd_elements_hd(i):this.profile.set_osd_elements(i)},osd_decode(t,e){switch(e){case"active":return t&1;case"invert":return t>>1&1;case"pos_x":return t>>2&255;case"pos_y":return t>>10&255;default:return 0}},osd_encode(t,e,n){switch(e){case"active":return n?t|1:t&-2;case"invert":return n?t|1<<1:t&~(1<<1);case"pos_x":return t&~(255<<2)|(n&255)<<2;case"pos_y":return t&~(255<<10)|(n&255)<<10;default:return t}}}}),Pv=t=>(fp("data-v-40faa336"),t=t(),hp(),t),Oae={class:"card"},Lae={class:"card-header"},Iae=Pv(()=>p("p",{class:"card-header-title"},"Elements",-1)),Dae={class:"card-content"},Nae={class:"content"},Fae={class:"columns is-multiline"},$ae={class:"column is-6"},Uae={class:"field field-is-2 is-horizontal"},Bae=Pv(()=>p("div",{class:"field-label"},[p("label",{class:"label"}," Callsign Text ")],-1)),zae={class:"field-body"},Gae={class:"field"},Vae={class:"control is-expanded"},Hae=sc('<div class="columns mt-4 mb-0" data-v-40faa336><div class="column has-text-centered has-text-weight-semibold px-0 is-4" data-v-40faa336> Element </div><div class="column has-text-left has-text-weight-semibold px-0 is-2" data-v-40faa336> Active </div><div class="column has-text-left has-text-weight-semibold px-0 is-2" data-v-40faa336> Invert </div><div class="column has-text-left has-text-weight-semibold px-0 is-2" data-v-40faa336>X</div><div class="column has-text-left has-text-weight-semibold px-0 is-2" data-v-40faa336>Y</div></div>',1),Wae={key:0,class:"field mb-2 field-is-2 is-horizontal"},jae={class:"field-label"},Yae={class:"label",for:"pid-preset"},qae={class:"field-body"},Kae={class:"field"},Xae={class:"control is-expanded"},Zae=["id","name","checked","onInput"],Jae=["for"],Qae={class:"field"},ele={class:"control is-expanded"},tle=["id","name","checked","onInput"],nle=["for"],sle={class:"field",style:{"align-self":"center"}},ile={class:"control is-expanded"},rle=["value","onInput"],ole={class:"field",style:{"align-self":"center"}},ale={class:"control is-expanded"},lle=["value","onInput"],cle={class:"column is-6"},ule={class:"card"},dle=Pv(()=>p("header",{class:"card-header"},[p("p",{class:"card-header-title"},"Preview")],-1)),fle={class:"card-content"},hle={class:"content"},ple=["viewBox"],mle={key:0},gle=["x","y"];function _le(t,e,n,s,i,r){const o=xe("tooltip");return Y(),se("div",Oae,[p("header",Lae,[Iae,j(o,{class:"card-header-icon",entry:"osd.elements",size:"lg"})]),p("div",Dae,[p("div",Nae,[p("div",Fae,[p("div",$ae,[p("div",Uae,[Bae,p("div",zae,[p("div",Gae,[p("div",Vae,[Ue(p("input",{class:"input",type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>t.callsign=a)},null,512),[[We,t.callsign]])])])])]),Hae,(Y(!0),se(Ze,null,Ht(t.elements,(a,l)=>(Y(),se(Ze,{key:l},[a.enabled?(Y(),se("div",Wae,[p("div",jae,[p("label",Yae,Fe(a.name),1)]),p("div",qae,[p("div",Kae,[p("div",Xae,[p("input",{id:"active-"+l,name:"active-"+l,type:"checkbox",class:"switch",checked:a.active==1,onInput:c=>t.osd_set(l,"active",!a.active)},null,40,Zae),p("label",{class:"py-0",style:{height:"2em"},for:"active-"+l},null,8,Jae)])]),p("div",Qae,[p("div",ele,[p("input",{id:"invert-"+l,name:"invert-"+l,type:"checkbox",class:"switch",checked:a.invert==1,onInput:c=>t.osd_set(l,"invert",!a.invert)},null,40,tle),p("label",{class:"py-0",style:{height:"2em"},for:"invert-"+l},null,8,nle)])]),p("div",sle,[p("div",ile,[p("input",{class:"input",type:"number",step:"1",value:a.pos_x,onInput:c=>{var u;return t.osd_set(l,"pos_x",(u=c==null?void 0:c.target)==null?void 0:u.value)}},null,40,rle)])]),p("div",ole,[p("div",ale,[p("input",{class:"input",type:"number",step:"1",value:a.pos_y,onInput:c=>{var u;return t.osd_set(l,"pos_y",(u=c==null?void 0:c.target)==null?void 0:u.value)}},null,40,lle)])])])])):je("",!0)],64))),128))]),p("div",cle,[p("div",ule,[dle,p("div",fle,[p("div",hle,[(Y(),se("svg",{viewBox:t.viewBox,xmlns:"http://www.w3.org/2000/svg"},[(Y(!0),se(Ze,null,Ht(t.elements,(a,l)=>(Y(),se("g",{key:l},[a.enabled&&a.active?(Y(),se("g",mle,[(Y(!0),se(Ze,null,Ht(a.text,(c,u)=>(Y(),se("text",{class:Rs({"text-invert":a.invert}),key:"el-"+l+"-"+u,x:(a.pos_x+u)*t.screen.char_width,y:a.pos_y*(t.screen.char_height-1)},Fe(c),11,gle))),128))])):je("",!0)]))),128))],8,ple))])])])])])])])])}var yle=Qe(kae,[["render",_le],["__scopeId","data-v-40faa336"]]);const ble=Ve({name:"OSDElementsLegacy",data(){return{screen:{width:30-2,height:16-2,char_width:12,char_height:18},imageSource:null}},setup(){return{profile:Zt()}},computed:{svg_width(){return this.screen.width*this.screen.char_width},svg_height(){return this.screen.height*this.screen.char_height},viewBox(){return`0 0 ${this.svg_width} ${this.svg_height}`},callsign:{get(){return this.profile.osd.elements.slice(1,5).flatMap(t=>[0,8,16,24].map(e=>{const n=t>>e&255;return n==63?"":String.fromCharCode(n)})).join("")},set(t){const e=t.toUpperCase(),n=Array(20).fill(63).map((i,r)=>r<e.length?e.charCodeAt(r):i).reduce((i,r,o)=>{const a=Math.floor(o/4),l=[0,8,16,24][o%4];return i[a]=i[a]|(r&255)<<l,i},[]),s=[...this.profile.osd.elements];for(let i=0;i<n.length;i++)s[i+1]=n[i];this.profile.osd.elements=s}},element_options(){return[{name:"CALLSIGN",enabled:!0,text:this.callsign},{name:"callsign2",enabled:!1,text:""},{name:"callsign3",enabled:!1,text:""},{name:"callsign4",enabled:!1,text:""},{name:"callsign5",enabled:!1,text:""},{name:"callsign6",enabled:!1,text:""},{name:"FUELGAUGE VOLTS",enabled:!0,text:"1S 4.3V"},{name:"FILTERED VOLTS",enabled:!0,text:"1S 4.3V"},{name:"GYRO TEMP",enabled:!0,text:"40C"},{name:"FLIGHT MODE",enabled:!0,text:"___ACRO___"},{name:"RSSI",enabled:!0,text:"90"},{name:"STOPWATCH",enabled:!0,text:"120"},{name:"SYSTEM STATUS",enabled:!0,text:"__**ARMED**____"},{name:"THROTTLE",enabled:!0,text:"50"},{name:"VTX CHANNEL",enabled:!0,text:"R:7:1"},{name:"CURRENT",enabled:!0,text:"2000A"}]},elements(){return this.profile.osd.elements.filter((t,e)=>this.element_options[e]).map((t,e)=>({...this.element_options[e],active:this.osd_decode(t,"active"),invert:this.osd_decode(t,"invert"),pos_x:this.osd_decode(t,"pos_x"),pos_y:this.osd_decode(t,"pos_y"),value:t}))}},methods:{osd_set(t,e,n){const s=[...this.profile.osd.elements];s[t]=this.osd_encode(this.profile.osd.elements[t],e,n),this.profile.set_osd_elements(s)},osd_decode(t,e){switch(e){case"active":return t&1;case"invert":return t>>1&1;case"pos_x":return t>>2&31;case"pos_y":return t>>7&15;default:return 0}},osd_encode(t,e,n){switch(e){case"active":return n?t|1:t&-2;case"invert":return n?t|1<<1:t&~(1<<1);case"pos_x":return t&~(31<<2)|(n&31)<<2;case"pos_y":return t&~(15<<7)|(n&15)<<7;default:return t}}}}),kv=t=>(fp("data-v-0a44b11b"),t=t(),hp(),t),vle={class:"card"},wle={class:"card-header"},xle=kv(()=>p("p",{class:"card-header-title"},"Elements",-1)),Sle={class:"card-content"},Ele={class:"content"},Tle={class:"columns is-multiline"},Mle={class:"column is-6"},Ale={class:"field field-is-2 is-horizontal"},Cle=kv(()=>p("div",{class:"field-label"},[p("label",{class:"label"}," Callsign Text ")],-1)),Rle={class:"field-body"},Ple={class:"field"},kle={class:"control is-expanded"},Ole=sc('<div class="columns mt-4 mb-0" data-v-0a44b11b><div class="column has-text-centered has-text-weight-semibold px-0 is-4" data-v-0a44b11b> Element </div><div class="column has-text-left has-text-weight-semibold px-0 is-2" data-v-0a44b11b> Active </div><div class="column has-text-left has-text-weight-semibold px-0 is-2" data-v-0a44b11b> Invert </div><div class="column has-text-left has-text-weight-semibold px-0 is-2" data-v-0a44b11b>X</div><div class="column has-text-left has-text-weight-semibold px-0 is-2" data-v-0a44b11b>Y</div></div>',1),Lle={key:0,class:"field mb-2 field-is-2 is-horizontal"},Ile={class:"field-label"},Dle={class:"label",for:"pid-preset"},Nle={class:"field-body"},Fle={class:"field"},$le={class:"control is-expanded"},Ule=["id","name","checked","onInput"],Ble=["for"],zle={class:"field"},Gle={class:"control is-expanded"},Vle=["id","name","checked","onInput"],Hle=["for"],Wle={class:"field",style:{"align-self":"center"}},jle={class:"control is-expanded"},Yle=["value","onInput"],qle={class:"field",style:{"align-self":"center"}},Kle={class:"control is-expanded"},Xle=["value","onInput"],Zle={class:"column is-6"},Jle={class:"card"},Qle=kv(()=>p("header",{class:"card-header"},[p("p",{class:"card-header-title"},"Preview")],-1)),ece={class:"card-content"},tce={class:"content"},nce=["viewBox"],sce={key:0},ice=["x","y"];function rce(t,e,n,s,i,r){const o=xe("tooltip");return Y(),se("div",vle,[p("header",wle,[xle,j(o,{class:"card-header-icon",entry:"osd.elements",size:"lg"})]),p("div",Sle,[p("div",Ele,[p("div",Tle,[p("div",Mle,[p("div",Ale,[Cle,p("div",Rle,[p("div",Ple,[p("div",kle,[Ue(p("input",{class:"input",type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>t.callsign=a)},null,512),[[We,t.callsign]])])])])]),Ole,(Y(!0),se(Ze,null,Ht(t.elements,(a,l)=>(Y(),se(Ze,{key:l},[a.enabled?(Y(),se("div",Lle,[p("div",Ile,[p("label",Dle,Fe(a.name),1)]),p("div",Nle,[p("div",Fle,[p("div",$le,[p("input",{id:"active-"+l,name:"active-"+l,type:"checkbox",class:"switch",checked:a.active==1,onInput:c=>t.osd_set(l,"active",!a.active)},null,40,Ule),p("label",{class:"py-0",style:{height:"2em"},for:"active-"+l},null,8,Ble)])]),p("div",zle,[p("div",Gle,[p("input",{id:"invert-"+l,name:"invert-"+l,type:"checkbox",class:"switch",checked:a.invert==1,onInput:c=>t.osd_set(l,"invert",!a.invert)},null,40,Vle),p("label",{class:"py-0",style:{height:"2em"},for:"invert-"+l},null,8,Hle)])]),p("div",Wle,[p("div",jle,[p("input",{class:"input",type:"number",step:"1",value:a.pos_x,onInput:c=>{var u;return t.osd_set(l,"pos_x",(u=c==null?void 0:c.target)==null?void 0:u.value)}},null,40,Yle)])]),p("div",qle,[p("div",Kle,[p("input",{class:"input",type:"number",step:"1",value:a.pos_y,onInput:c=>{var u;return t.osd_set(l,"pos_y",(u=c==null?void 0:c.target)==null?void 0:u.value)}},null,40,Xle)])])])])):je("",!0)],64))),128))]),p("div",Zle,[p("div",Jle,[Qle,p("div",ece,[p("div",tce,[(Y(),se("svg",{viewBox:t.viewBox,xmlns:"http://www.w3.org/2000/svg"},[(Y(!0),se(Ze,null,Ht(t.elements,(a,l)=>(Y(),se("g",{key:l},[a.enabled&&a.active?(Y(),se("g",sce,[(Y(!0),se(Ze,null,Ht(a.text,(c,u)=>(Y(),se("text",{class:Rs({"text-invert":a.invert}),key:"el-"+l+"-"+u,x:(a.pos_x+u)*t.screen.char_width,y:a.pos_y*(t.screen.char_height-1)},Fe(c),11,ice))),128))])):je("",!0)]))),128))],8,nce))])])])])])])])])}var oce=Qe(ble,[["render",rce],["__scopeId","data-v-0a44b11b"]]);const zt=12,ko=18,KC=1;function Xi(t,e=KC){return t*(zt+e)+e}function Fr(t,e=KC){return t*(ko+e)+e}const th=16,nh=16,Of=Xi(th),ZS=Fr(nh),ace=4,XC=24,lce=Xi(XC,0);class Jn{static unpackFont(e,n){const s=e.getContext("2d");s.clearRect(0,0,e.width,e.height),s.fillStyle="red",s.fillRect(0,0,Of,ZS);const i=new Uint8ClampedArray(zt*ko*4);for(let r=0;r<nh;r++)for(let o=0;o<th;o++){const a=n[r*16+o];let l=0,c=0;for(const d of a)Jn.setPixel(i,l+0,c,d>>6&3),Jn.setPixel(i,l+1,c,d>>4&3),Jn.setPixel(i,l+2,c,d>>2&3),Jn.setPixel(i,l+3,c,d>>0&3),l+=4,l==zt&&(l=0,c++);const u=new ImageData(i,zt,ko);s.putImageData(u,Xi(o),Fr(r))}return e.toDataURL()}static packCanvas(e){const n=e.getImageData(0,0,Of,ZS),s=[];for(let i=0;i<nh;i++)for(let r=0;r<th;r++){const o=new Uint8Array(zt*ko/4);let a=0,l=0;for(let c=0;c<54;c++)o[c]=(Jn.getPixel(n.data,a+0+Xi(r),l+Fr(i))&3)<<6|(Jn.getPixel(n.data,a+1+Xi(r),l+Fr(i))&3)<<4|(Jn.getPixel(n.data,a+2+Xi(r),l+Fr(i))&3)<<2|(Jn.getPixel(n.data,a+3+Xi(r),l+Fr(i))&3)<<0,a+=4,a==zt&&(a=0,l++);s.push(o)}return s}static packFont(e,n){const s=e.getContext("2d");return s.clearRect(0,0,e.width,e.height),s.drawImage(n,0,0),Jn.packCanvas(s)}static packLogo(e,n,s){const i=n.getContext("2d");i.clearRect(0,0,n.width,n.height),i.drawImage(s,0,0);const r=[],o=i.getImageData(0,0,s.width,s.height);for(let l=0;l<ace;l++)for(let c=0;c<XC;c++){const u=new Uint8ClampedArray(zt*ko*4);for(let d=0;d<ko;d++)for(let f=0;f<zt;f++){const h=(d+Fr(l,0))*lce+f+Xi(c,0);u[(d*zt+f)*4+0]=o.data[h*4+0],u[(d*zt+f)*4+1]=o.data[h*4+1],u[(d*zt+f)*4+2]=o.data[h*4+2],u[(d*zt+f)*4+3]=o.data[h*4+3]}r.push(u)}const a=e.getContext("2d");for(let l=10;l<nh;l++)for(let c=0;c<th;c++){const u=r.shift(),d=new ImageData(u,zt,ko);a.putImageData(d,Xi(c),Fr(l))}return Jn.packCanvas(a)}static setPixel(e,n,s,i){switch(i){case 0:e[(s*zt+n)*4+0]=0,e[(s*zt+n)*4+1]=0,e[(s*zt+n)*4+2]=0,e[(s*zt+n)*4+3]=255;break;case 2:e[(s*zt+n)*4+0]=255,e[(s*zt+n)*4+1]=255,e[(s*zt+n)*4+2]=255,e[(s*zt+n)*4+3]=255;break;default:e[(s*zt+n)*4+0]=0,e[(s*zt+n)*4+1]=0,e[(s*zt+n)*4+2]=0,e[(s*zt+n)*4+3]=0;break}}static getPixel(e,n,s){let i=0;return e[(s*Of+n)*4+0]>0&&(i|=2),e[(s*Of+n)*4+3]<255&&(i|=1),i}}const cce=t=>new Promise((e,n)=>{const s=new Image;s.onload=()=>e(s),s.onerror=i=>n(i),s.src=t}),uce=Ve({name:"OSDFont",data(){return{fontFiles:[{text:"betaflight",value:"betaflight.png"},{text:"bold",value:"bold.png"},{text:"clarity",value:"clarity.png"},{text:"default",value:"default.png"},{text:"digital",value:"digital.png"},{text:"extra_large",value:"extra_large.png"},{text:"impact_mini",value:"impact_mini.png"},{text:"impact",value:"impact.png"},{text:"large",value:"large.png"},{text:"vision",value:"vision.png"}],current_font_file:"clarity.png",imageSource:void 0}},setup(){return{root:nn(),profile:Zt()}},methods:{apply_osd_font(t){return cce("osd/"+t).then(e=>{const n=Jn.packFont(this.$refs.canvas,e);return yt.set(pn.OSDFont,...n)}).then(()=>this.get_osd_font()).then(()=>this.root.append_alert({type:"success",msg:"Font updated!"})).catch(()=>{this.root.append_alert({type:"danger",msg:"Font update failed!"})})},get_osd_font(){return yt.get(pn.OSDFont).then(t=>{this.imageSource=Jn.unpackFont(this.$refs.canvas,t)})},uploadLogo(){const t=n=>new Promise((s,i)=>{const r=new FileReader;r.onerror=i,r.onabort=i,r.onload=o=>{var l;const a=new Image;a.onerror=i,a.onabort=i,a.onload=function(){s(a)},a.src=((l=o==null?void 0:o.target)==null?void 0:l.result)||""},r.readAsDataURL(n)});return(async()=>{const n={types:[{description:"Images",accept:{"image/*":[".png"]}}],excludeAcceptAllOption:!0,multiple:!1},[s]=await window.showOpenFilePicker(n);return await s.getFile()})().then(n=>t(n)).then(n=>{if(n.width!=288&&n.height!=72)throw new Error("Invalid logo dimensions");const s=Jn.packLogo(this.$refs.canvas,this.$refs.logoCanvas,n);return yt.set(pn.OSDFont,...s)}).then(()=>this.get_osd_font()).then(()=>this.root.append_alert({type:"success",msg:"Logo updated!"})).catch(n=>{this.root.append_alert({type:"danger",msg:"Logo update failed! "+n.message})}).finally(()=>this.$refs.form.reset())}},created(){this.get_osd_font()}}),dce={class:"card"},fce={class:"card-header"},hce=p("p",{class:"card-header-title"},"Font",-1),pce={class:"card-content"},mce={class:"content"},gce={class:"field field-is-4 is-horizontal"},_ce=p("div",{class:"field-label"},[p("label",{class:"label"}," Full OSD font to upload ")],-1),yce={class:"field-body"},bce={class:"field has-addons"},vce={class:"control is-expanded"},wce={class:"control"},xce=de(" Upload Font "),Sce={ref:"form"},Ece={class:"field field-is-4 is-horizontal"},Tce=p("div",{class:"field-label"},[p("label",{class:"label"},[de(" Custom Logo "),p("br"),de(" 288x72 Black/White/Transparent PNG ")])],-1),Mce={class:"field-body"},Ace={class:"field has-addons"},Cce=p("p",{class:"control is-expanded"},null,-1),Rce={class:"control"},Pce=de(" Upload Logo "),kce={class:"columns mt-5"},Oce={class:"column is-6"},Lce={class:"card"},Ice=p("header",{class:"card-header"},[p("p",{class:"card-header-title"},"Preview")],-1),Dce={class:"card-content"},Nce={class:"content"},Fce={class:"image m-0"},$ce=["src"],Uce={class:"column is-6"},Bce={class:"card"},zce=p("header",{class:"card-header"},[p("p",{class:"card-header-title"},"Current")],-1),Gce={class:"card-content"},Vce={class:"content"},Hce={class:"image m-0"},Wce=["src"],jce={ref:"canvas",class:"mx-5 mt-3 is-hidden",width:"209",height:"305"},Yce={ref:"logoCanvas",class:"mx-5 mt-3 is-hidden",width:"288",height:"72"};function qce(t,e,n,s,i,r){const o=xe("tooltip"),a=xe("input-select"),l=xe("spinner-btn");return Y(),se("div",dce,[p("header",fce,[hce,j(o,{class:"card-header-icon",entry:"osd.font",size:"lg"})]),p("div",pce,[p("div",mce,[p("div",gce,[_ce,p("div",yce,[p("div",bce,[p("p",vce,[j(a,{id:"font-file",class:"is-fullwidth",modelValue:t.current_font_file,"onUpdate:modelValue":e[0]||(e[0]=c=>t.current_font_file=c),options:t.fontFiles},null,8,["modelValue","options"])]),p("p",wce,[j(l,{class:"float-right",onClick:e[1]||(e[1]=c=>t.apply_osd_font(t.current_font_file))},{default:Xe(()=>[xce]),_:1})])])])]),p("form",Sce,[p("div",Ece,[Tce,p("div",Mce,[p("div",Ace,[Cce,p("p",Rce,[j(l,{onClick:e[2]||(e[2]=c=>t.uploadLogo())},{default:Xe(()=>[Pce]),_:1})])])])])],512),p("div",kce,[p("div",Oce,[p("div",Lce,[Ice,p("div",Dce,[p("div",Nce,[p("figure",Fce,[p("img",{src:"osd/"+t.current_font_file},null,8,$ce)])])])])]),p("div",Uce,[p("div",Bce,[zce,p("div",Gce,[p("div",Vce,[p("figure",Hce,[p("img",{src:t.imageSource},null,8,Wce)]),p("canvas",jce,null,512),p("canvas",Yce,null,512)])])])])])])])])}var Kce=Qe(uce,[["render",qce]]);const Xce=Ve({name:"OSD",components:{OSDElements:yle,OSDElementsLegacy:oce,OSDFont:Kce},setup(){return{profile:Zt(),default_profile:bd()}},computed:{is_hd(){return this.profile.serial.hdzero}}}),Zce={class:"columns is-multiline"},Jce={class:"column is-12"},Qce={class:"column is-12"};function eue(t,e,n,s,i,r){const o=xe("OSDElementsLegacy"),a=xe("OSDElements"),l=xe("OSDFont");return Y(),se("div",Zce,[p("div",Jce,[t.default_profile.has_legacy_osd?(Y(),bn(o,{key:0})):(Y(),bn(a,{key:1}))]),p("div",Qce,[t.is_hd?je("",!0):(Y(),bn(l,{key:0}))])])}var tue=Qe(Xce,[["render",eue]]);const em=rs("motor",{state:()=>({loading:!1,test:{active:0,value:new Array},settings:null,_pins:[{index:1,id:"MOTOR_FL",label:"Front Left"},{index:3,id:"MOTOR_FR",label:"Front Right"},{index:0,id:"MOTOR_BL",label:"Back Left"},{index:2,id:"MOTOR_BR",label:"Back Right"}]}),getters:{pins(t){const e=Zt();return t._pins.map(n=>({...n,pin:e.motor.motor_pins[n.index]}))}},actions:{fetch_motor_test(){return yt.command(Cn.Motor,Jc.TestStatus).then(t=>{this.test=t.payload[0]})},fetch_motor_settings(){const t=nn();return this.loading=!0,yt.get(pn.BLHeliSettings).then(e=>{this.settings=e}).catch(e=>{t.append_alert({type:"danger",msg:"Loading motor settings failed!"}),at.error("motor",e)}).finally(()=>{this.loading=!1})},apply_motor_settings(t){const e=nn();return this.loading=!0,yt.set(pn.BLHeliSettings,...t).then(()=>{this.settings=t,e.append_alert({type:"success",msg:"Motor settings applied!"})}).catch(n=>{at.error("motor",n),e.append_alert({type:"danger",msg:"Failed to apply motor settings!"})}).finally(()=>{this.loading=!1})},motor_test_toggle(){return yt.command(Cn.Motor,this.test.active?Jc.TestDisable:Jc.TestEnable).then(()=>{this.test.active=this.test.active?0:1})},motor_test_set_value(t){return yt.command(Cn.Motor,Jc.TestSetValue,t).then(()=>{this.test.value=t})}}}),nue=Ve({name:"MotorTest",setup(){return{motor:em(),state:Ds()}},computed:{value(){return this.motor.test.value.map(t=>t*100)}},methods:{update(){return this.motor.motor_test_set_value(this.value.map(t=>t/100))}},created(){this.motor.fetch_motor_test()}}),sue={key:0,class:"card"},iue={class:"card-header"},rue=p("p",{class:"card-header-title"},"Motor Test",-1),oue={class:"card-header-icon"},aue=p("br",null,null,-1),lue={class:"card-content"},cue={class:"content"},uue={key:0,class:"columns is-multiline"},due={class:"field field-is-2 is-horizontal"},fue={class:"field-label"},hue={class:"label",for:"pid-preset"},pue={class:"field-body"},mue={class:"field has-addons"},gue={class:"control is-expanded"},_ue=["id","onUpdate:modelValue"],yue={class:"control"},bue=["id","onUpdate:modelValue"],vue={key:1,class:"is-size-5 has-text-centered has-text-weight-semibold"},wue={class:"card-footer"},xue=p("span",{class:"card-footer-item"},null,-1),Sue=p("span",{class:"card-footer-item"},null,-1);function Eue(t,e,n,s,i,r){const o=xe("tooltip"),a=xe("spinner-btn");return t.motor.test?(Y(),se("div",sue,[p("header",iue,[rue,p("small",oue,[de(Fe(t.state.vbat.toPrecision(3))+"V ",1),aue,de(" "+Fe(t.state.ibat_filtered)+"mAh ",1)]),j(o,{class:"card-header-icon",entry:"motor.test",size:"lg"})]),p("div",lue,[p("div",cue,[t.motor.test.active?(Y(),se("div",uue,[(Y(!0),se(Ze,null,Ht(t.motor.pins,l=>(Y(),se("div",{class:"column is-6",key:l.index},[p("div",due,[p("div",fue,[p("label",hue,Fe(l.label),1)]),p("div",pue,[p("div",mue,[p("div",gue,[Ue(p("input",{class:"input",id:l.id,type:"range",step:"1",min:"0",max:"50","onUpdate:modelValue":c=>t.value[l.index]=c,onInput:e[0]||(e[0]=c=>t.update())},null,40,_ue),[[We,t.value[l.index],void 0,{number:!0}]])]),p("div",yue,[Ue(p("input",{class:"input",id:l.id,type:"number",step:"1",min:"0",max:"50","onUpdate:modelValue":c=>t.value[l.index]=c,onChange:e[1]||(e[1]=c=>t.update())},null,40,bue),[[We,t.value[l.index],void 0,{number:!0}]])])])])])]))),128))])):(Y(),se("div",vue," Motor Test disabled "))])]),p("footer",wue,[xue,Sue,j(a,{class:"card-footer-item",onClick:e[2]||(e[2]=l=>t.motor.motor_test_toggle())},{default:Xe(()=>[de(Fe(t.motor.test.active?"Disable":"Enable"),1)]),_:1})])])):je("",!0)}var Tue=Qe(nue,[["render",Eue]]);const Mue=Ve({name:"MotorPins",setup(){return{profile:Zt(),info:is(),motor:em()}},computed:{motorPins(){return this.info.motor_pins.map((t,e)=>({value:e,text:`Pin ${e} (${t})`}))}}}),Aue={class:"card"},Cue={class:"card-header"},Rue=p("p",{class:"card-header-title"},"Motor Pins",-1),Pue={class:"card-content"},kue={class:"content"},Oue={class:"columns is-multiline my-2"},Lue={class:"field field-is-2 is-horizontal"},Iue={class:"field-label"},Due={class:"label",for:"pid-profile"},Nue=p("br",null,null,-1),Fue={class:"text-muted"},$ue={class:"field-body"},Uue={class:"field"},Bue={class:"control is-expanded"};function zue(t,e,n,s,i,r){const o=xe("tooltip"),a=xe("input-select");return Y(),se("div",Aue,[p("header",Cue,[Rue,j(o,{class:"card-header-icon",entry:"motor_pins",size:"lg"})]),p("div",Pue,[p("div",kue,[p("div",Oue,[(Y(!0),se(Ze,null,Ht(t.motor.pins,l=>(Y(),se("div",{class:"column is-6",key:"motor-pin-"+l.index},[p("div",Lue,[p("div",Iue,[p("label",Due,[de(Fe(l.label)+" ",1),Nue,p("span",Fue,"Motor "+Fe(l.index),1)])]),p("div",$ue,[p("div",Uue,[p("div",Bue,[j(a,{id:"motor-pin-"+l.index,class:"is-fullwidth",modelValue:t.profile.motor.motor_pins[l.index],"onUpdate:modelValue":c=>t.profile.motor.motor_pins[l.index]=c,options:t.motorPins},null,8,["id","modelValue","onUpdate:modelValue","options"])])])])])]))),128))])])])])}var Gue=Qe(Mue,[["render",zue]]);const Vue=Ve({name:"ESCSettings",setup(){return{motor:em()}},data(){return{motor_direction_options:[{value:1,text:"Normal"},{value:2,text:"Reversed"},{value:3,text:"Bidirectional"},{value:4,text:"Bidirectional Reversed"}]}},methods:{trim(t){return t.replace(/#/g,"").replace(/\$/g," ")}}}),Hue={class:"card"},Wue={class:"card-header"},jue=p("p",{class:"card-header-title"},"ESC Settings",-1),Yue={class:"card-content"},que={class:"content"},Kue={key:0,class:"columns is-multiline"},Xue={class:"columns is-multiline my-2"},Zue={class:"column is-4"},Jue={class:"column is-8"},Que={class:"column is-4 pt-0 mt-0"},ede=["for"],tde={class:"column is-8 pt-0 mt-0"},nde={key:1,class:"is-size-5 has-text-centered has-text-weight-semibold"},sde={class:"card-footer"},ide=p("span",{class:"card-footer-item"},null,-1),rde=p("span",{class:"card-footer-item"},null,-1),ode=de(" Apply "),ade=de(" Load ");function lde(t,e,n,s,i,r){const o=xe("tooltip"),a=xe("input-select"),l=xe("spinner-btn");return Y(),se("div",Hue,[p("header",Wue,[jue,j(o,{class:"card-header-icon",entry:"motor_settings",size:"lg"})]),p("div",Yue,[p("div",que,[t.motor.settings&&t.motor.settings.length?(Y(),se("div",Kue,[(Y(!0),se(Ze,null,Ht(t.motor.pins,c=>(Y(),se("div",{class:"column is-6 px-5",key:"motor-settings-"+c.index},[p("div",Xue,[p("div",Zue,[p("h6",null,Fe(c.label),1)]),p("div",Jue,Fe(t.trim(t.motor.settings[c.pin].LAYOUT))+" - "+Fe(t.trim(t.motor.settings[c.pin].NAME))+", "+Fe(t.motor.settings[c.pin].MAIN_REVISION)+"."+Fe(t.motor.settings[c.pin].SUB_REVISION),1),p("div",Que,[p("label",{for:"motor-direction-"+c.index},"Direction",8,ede)]),p("div",tde,[j(a,{id:"motor-direction-"+c.index,modelValue:t.motor.settings[c.pin].MOTOR_DIRECTION,"onUpdate:modelValue":u=>t.motor.settings[c.pin].MOTOR_DIRECTION=u,modelModifiers:{number:!0},options:t.motor_direction_options},null,8,["id","modelValue","onUpdate:modelValue","options"])])])]))),128))])):(Y(),se("div",nde," Settings not loaded "))])]),p("footer",sde,[ide,rde,t.motor.settings&&t.motor.settings.length?(Y(),bn(l,{key:0,class:"card-footer-item",disabled:t.motor.loading,onClick:e[0]||(e[0]=c=>t.motor.apply_motor_settings(t.motor.settings))},{default:Xe(()=>[ode]),_:1},8,["disabled"])):(Y(),bn(l,{key:1,class:"card-footer-item",disabled:t.motor.loading,onClick:e[1]||(e[1]=c=>t.motor.fetch_motor_settings())},{default:Xe(()=>[ade]),_:1},8,["disabled"]))])])}var cde=Qe(Vue,[["render",lde]]);const ude=Ve({name:"Motor",components:{MotorTest:Tue,MotorPins:Gue,ESCSettings:cde},setup(){return{info:is(),constants:lc()}}}),dde={class:"columns is-multiline"},fde={class:"column is-12"},hde={class:"column is-12"},pde={key:0,class:"column is-12"};function mde(t,e,n,s,i,r){const o=xe("MotorTest"),a=xe("MotorPins"),l=xe("ESCSettings");return Y(),se("div",dde,[p("div",fde,[j(o)]),p("div",hde,[j(a)]),t.info.has_feature(t.constants.Features.BRUSHLESS)?(Y(),se("div",pde,[j(l)])):je("",!0)])}var gde=Qe(ude,[["render",mde]]);function _de(t){return-t}function Ja(t){return e=>t*e*1/1e3*180/Math.PI}function Kg(t){return e=>t+e}const yde=[{name:"loopIteration",index:0,signed:!1},{name:"time",index:1,signed:!1},{name:"axisP",array_index:0,index:2,signed:!0},{name:"axisP",array_index:1,index:2,signed:!0},{name:"axisP",array_index:2,index:2,signed:!0},{name:"axisI",array_index:0,index:3,signed:!0},{name:"axisI",array_index:1,index:3,signed:!0},{name:"axisI",array_index:2,index:3,signed:!0},{name:"axisD",array_index:0,index:4,signed:!0},{name:"axisD",array_index:1,index:4,signed:!0},{name:"axisD",array_index:2,index:4,signed:!0},{name:"rcCommand",array_index:0,signed:!0,index:5,convert:t=>t/2},{name:"rcCommand",array_index:1,signed:!0,index:5,convert:t=>t/2},{name:"rcCommand",array_index:2,signed:!0,index:5,convert:t=>-t/2},{name:"rcCommand",array_index:3,signed:!0,index:5,convert:Kg(1e3)},{name:"setpoint",array_index:0,index:6,signed:!0},{name:"setpoint",array_index:1,index:6,signed:!0},{name:"setpoint",array_index:2,index:6,signed:!0,convert:_de},{name:"setpoint",array_index:3,index:6,signed:!0},{name:"accRaw",array_index:0,index:7,signed:!0},{name:"accRaw",array_index:1,index:7,signed:!0},{name:"accRaw",array_index:2,index:7,signed:!0,convert:Kg(1e3)},{name:"accSmooth",array_index:0,index:8,signed:!0},{name:"accSmooth",array_index:1,index:8,signed:!0},{name:"accSmooth",array_index:2,index:8,signed:!0,convert:Kg(1e3)},{name:"gyroRaw",array_index:0,index:9,signed:!0,convert:Ja(1)},{name:"gyroRaw",array_index:1,index:9,signed:!0,convert:Ja(1)},{name:"gyroRaw",array_index:2,index:9,signed:!0,convert:Ja(-1)},{name:"gyroADC",array_index:0,index:10,signed:!0,convert:Ja(1)},{name:"gyroADC",array_index:1,index:10,signed:!0,convert:Ja(1)},{name:"gyroADC",array_index:2,index:10,signed:!0,convert:Ja(-1)},{name:"motor",array_index:0,index:11,signed:!0},{name:"motor",array_index:1,index:11,signed:!0},{name:"motor",array_index:2,index:11,signed:!0},{name:"motor",array_index:3,index:11,signed:!0},{name:"cpuload",index:12,signed:!1},{name:"debug[0]",index:13,signed:!0},{name:"debug[1]",index:14,signed:!0},{name:"debug[2]",index:15,signed:!0},{name:"debug[3]",index:16,signed:!0}];class bde{constructor(e){it(this,"buffer",new Gb);it(this,"defs",yde);this.file=e}writeHeaders(){this.writeHeaderRaw("Product","Blackbox flight data recorder by Nicholas Sherlock"),this.writeHeaderRaw("Data version","2"),this.writeHeaderRaw("I interval",""+this.file.blackbox_rate),this.writeHeaderRaw("P interval","1/"+this.file.blackbox_rate),this.writeHeaderJoin("Field I name",e=>{let n=e.name;return e.array_index!=null&&(n+="["+e.array_index+"]"),n}),this.writeHeaderJoin("Field I signed",e=>e.signed?"1":"0"),this.writeHeaderJoin("Field I predictor",e=>"0"),this.writeHeaderJoin("Field I encoding",e=>e.signed?"0":"1"),this.writeHeaderJoin("Field P predictor",e=>"0"),this.writeHeaderJoin("Field P encoding",e=>e.signed?"0":"1"),this.writeHeaderRaw("Firmware type","Cleanflight"),this.writeHeaderRaw("Firmware revision","Betaflight 4.3.0"),this.writeHeaderRaw("gyro_scale","0x3f800000"),this.writeHeaderRaw("acc_1G","1000"),this.writeHeaderRaw("motorOutput","0,1000"),this.writeHeaderRaw("looptime",""+this.file.looptime),this.writeHeaderRaw("pid_process_denom","1"),this.writeHeaderRaw("rates","78,78,78"),this.writeHeaderRaw("rates_type","3")}writeValue(e){this.buffer.writeUint8("I".charCodeAt(0));for(const n of this.defs){let s=e[n.index];n.array_index!=null&&(s=s[n.array_index]),n.convert&&(s=n.convert(s)),n.signed?this.writeSigned(s):this.writeUnsigned(s)}}toUrl(){const e=this.buffer.array(),n=new Blob([e],{type:"octet/stream"});return window.URL.createObjectURL(n)}writeHeaderJoin(e,n){let s="";for(let i=0;i<this.defs.length;i++){const r=this.defs[i];s+=n(r),i!=this.defs.length-1&&(s+=",")}return this.writeHeaderRaw(e,s)}writeHeaderRaw(e,n){const s=`H ${e}:${n}
`;for(let i=0;i<s.length;i++)this.buffer.writeUint8(s.charCodeAt(i))}writeUnsigned(e){for(;e>127;)this.buffer.writeUint8((e&255|128)&255),e>>>=7;this.buffer.writeUint8(e)}writeSigned(e){const n=e<<1^e>>31;return this.writeUnsigned(n)}}const ZC=rs("blackbox",{state:()=>({busy:!1,speed:void 0,progress:void 0,list:{flash_size:0,files:[]}}),actions:{reset_blackbox(){const t=nn();return yt.command(Cn.Blackbox,Zc.Reset).then(()=>{t.append_alert({type:"success",msg:"Blackbox successfully reset"})}).catch(e=>{t.append_alert({type:"danger",msg:e})})},list_blackbox(){return yt.command(Cn.Blackbox,Zc.List).then(t=>this.list=t.payload[0])},download_blackbox_raw(t){return yt.command(Cn.Blackbox,Zc.Get,t).then(e=>{const n=encodeURIComponent(JSON.stringify(e.payload));return"data:text/json;charset=utf-8,"+n})},download_blackbox(t){const e=nn(),n=this.list.files[t],s=performance.now();return yt.commandProgress(Cn.Blackbox,i=>{const r=(performance.now()-s)/1e3;this.progress=i/n.size,this.speed=i/r},Zc.Get,t).then(i=>{const r=new bde(n);r.writeHeaders();for(const o of i.payload)r.writeValue(o);return r.toUrl()}).then(i=>(e.append_alert({type:"success",msg:"Blackbox successfully downloaded!"}),i)).catch(i=>{throw e.append_alert({type:"danger",msg:"Blackbox download failed"}),i}).finally(()=>{this.progress=void 0,this.speed=void 0})}}}),vde=Ve({name:"blackbox",setup(){return{blackbox:ZC(),profile:Zt()}},computed:{usedSize(){var t,e;return(((e=(t=this.blackbox)==null?void 0:t.list)==null?void 0:e.files)||[]).reduce((n,s)=>n+s.size,0)}},methods:{humanFileSize:aB,reset(){return this.blackbox.reset_blackbox().then(()=>this.blackbox.list_blackbox())},download(t){return this.blackbox.download_blackbox(t).then(e=>{const n=new Date().toISOString().substring(0,10),i=`${this.profile.meta.name.replace(/\0/g,"")}_${n}_file_${t}.bfl`;this.$refs.downloadAnchor.setAttribute("href",e),this.$refs.downloadAnchor.setAttribute("download",i),this.$refs.downloadAnchor.click()})}},created(){this.blackbox.list_blackbox()}}),wde={class:"columns"},xde={class:"column is-12"},Sde={key:0,class:"card"},Ede={class:"card-header"},Tde=p("p",{class:"card-header-title"},"Blackbox",-1),Mde={class:"blackbox-progress has-text-right"},Ade=["value","max"],Cde={class:"card-content"},Rde={class:"content"},Pde=de(" Download "),kde={ref:"downloadAnchor",target:"_blank"},Ode={key:0},Lde=["value"],Ide={class:"card-footer"},Dde={class:"card-footer-item"},Nde=p("span",{class:"card-footer-item"},null,-1),Fde=de(" Reset ");function $de(t,e,n,s,i,r){var a,l,c;const o=xe("spinner-btn");return Y(),se("div",wde,[p("div",xde,[t.blackbox.list?(Y(),se("div",Sde,[p("div",Ede,[Tde,p("div",Mde,[p("progress",{class:"progress my-0",value:t.usedSize,max:(t.blackbox.list.flash_size||1)*1024},null,8,Ade),p("h6",null," Used: "+Fe(t.humanFileSize(t.usedSize))+" / "+Fe(t.humanFileSize(t.blackbox.list.flash_size*1024)),1)])]),p("div",Cde,[p("div",Rde,[(Y(!0),se(Ze,null,Ht(t.blackbox.list.files,(u,d)=>(Y(),se("div",{key:d},[de(" File "+Fe(d+1)+": "+Fe(t.humanFileSize(u.size))+" ",1),j(o,{class:"is-small my-2 mx-2",onClick:f=>t.download(d)},{default:Xe(()=>[Pde]),_:2},1032,["onClick"])]))),128)),p("a",kde,null,512),t.blackbox.progress?(Y(),se("div",Ode,[de(" Downloading "+Fe(t.humanFileSize(t.blackbox.speed||0))+"/s... ",1),p("progress",{class:"progress is-success my-0",value:t.blackbox.progress,max:"1"},null,8,Lde)])):je("",!0)])]),p("footer",Ide,[p("span",Dde,Fe(((c=(l=(a=t.blackbox)==null?void 0:a.list)==null?void 0:l.files)==null?void 0:c.length)||0)+" Files ",1),Nde,j(o,{class:"card-footer-item is-danger",onClick:e[0]||(e[0]=u=>t.reset())},{default:Xe(()=>[Fde]),_:1})])])):je("",!0)])])}var Ude=Qe(vde,[["render",$de]]);const Bde=Ve({name:"RealtimePlot",components:{Scatter:PJ},props:["title","time","input","axis","transform"],data(){return{colors:["#1f77b4","#ff7f0e","#2ca02c","#d62728"],lastUpdate:0,chartData:void 0,datasets:[]}},computed:{chartOptions(){return{responsive:!0,maintainAspectRatio:!1,animation:{duration:0},elements:{line:{tension:0}},scales:{x:{type:"time",time:{unit:"second",displayFormats:{second:"HH:mm:ss"}}}},plugins:{title:{display:!0,text:this.title},tooltip:{enabled:!0,mode:"index",position:"average",intersect:!1,callbacks:{label:t=>{let e=t.dataset.label||"";return e&&(e+=": "),e+=t.formattedValue,e}}}}}}},methods:{updateChartData(){let t=[];Array.isArray(this.axis)?t=this.axis.map((e,n)=>({label:e,data:this.datasets[n]||[],fill:!1,borderColor:this.colors[n],showLine:!0,interpolate:!0})):t=[{label:this.axis,data:this.datasets[0]||[],fill:!1,borderColor:this.colors[0],showLine:!0,interpolate:!0}],this.chartData={labels:[],datasets:t}}},watch:{input(t){const e=this.transform||(s=>s),n=this.time||Date.now();if(Array.isArray(this.axis))for(let s=0;s<this.axis.length;s++){const i=Array.isArray(t)?t[s]:t[this.axis[s]];for(this.datasets[s]=[...this.datasets[s]||[],{x:n,y:e(i)}];this.datasets[s].length>=60;)this.datasets[s].shift()}else for(this.datasets[0]=[...this.datasets[0]||[],{x:n,y:e(t)}];this.datasets[0].length>=60;)this.datasets[0].shift();Date.now()-this.lastUpdate>250&&this.updateChartData()},title(){this.updateChartData()},time(){this.updateChartData()},axis(){this.updateChartData()},transform(){this.updateChartData()}}});function zde(t,e,n,s,i,r){const o=xe("Scatter");return t.chartData?(Y(),bn(o,{key:0,"chart-data":t.chartData,"chart-options":t.chartOptions,ref:"chart"},null,8,["chart-data","chart-options"])):je("",!0)}var JC=Qe(Bde,[["render",zde]]);const Gde=Ve({name:"state",components:{RealtimePlot:JC,GyroModel:Y2},setup(){return{state:Ds()}},data(){return{plots:[{name:"rx_filtered",size:12,title:"Rx Channels",axis:["Roll","Pitch","Yaw","Throttle"]},{name:"cpu_load",size:12,title:"CPU Load",axis:"us"},{name:"gyro_raw",size:6,title:"Gyro Raw",axis:["Roll","Pitch","Yaw"]},{name:"gyro",size:6,title:"Gyro Filter",axis:["Roll","Pitch","Yaw"]},{name:"gyro_temp",size:12,title:"Gyro Temperature",axis:"\xB0C"},{name:"GEstG",size:12,title:"Gyro Vector",axis:["Roll","Pitch","Yaw"]},{name:"accel_raw",size:6,title:"AccelRaw",axis:["Roll","Pitch","Yaw"]},{name:"accel",size:6,title:"AccelFilter",axis:["Roll","Pitch","Yaw"]},{name:"pidoutput",size:12,title:"Pid Output",axis:["Roll","Pitch","Yaw"]}]}}}),Vde={class:"columns is-multiline"},Hde={class:"column is-12"};function Wde(t,e,n,s,i,r){const o=xe("GyroModel"),a=xe("RealtimePlot");return Y(),se("div",Vde,[p("div",Hde,[j(o)]),(Y(!0),se(Ze,null,Ht(t.plots,l=>(Y(),se("div",{class:Rs(["column",["is-"+l.size]]),key:l.name},[j(a,{title:l.title,axis:l.axis,input:t.state[l.name]},null,8,["title","axis","input"])],2))),128))])}var jde=Qe(Gde,[["render",Wde]]);const Yde=Ve({name:"perf",components:{RealtimePlot:JC},setup(){return{perf:u2()}}}),qde={class:"columns is-multiline"};function Kde(t,e,n,s,i,r){const o=xe("RealtimePlot");return Y(),se("div",qde,[(Y(!0),se(Ze,null,Ht(t.perf.counters,(a,l)=>(Y(),se("div",{class:"column is-6 my-3",key:"counter"+l},[j(o,{title:a.name,axis:Object.keys(a).slice(1),input:a},null,8,["title","axis","input"])]))),128))])}var Xde=Qe(Yde,[["render",Kde]]);const Ov=Symbol.for("yaml.alias"),py=Symbol.for("yaml.document"),so=Symbol.for("yaml.map"),QC=Symbol.for("yaml.pair"),fr=Symbol.for("yaml.scalar"),_c=Symbol.for("yaml.seq"),Os=Symbol.for("yaml.node.type"),wa=t=>!!t&&typeof t=="object"&&t[Os]===Ov,kd=t=>!!t&&typeof t=="object"&&t[Os]===py,xa=t=>!!t&&typeof t=="object"&&t[Os]===so,Xt=t=>!!t&&typeof t=="object"&&t[Os]===QC,Bt=t=>!!t&&typeof t=="object"&&t[Os]===fr,yc=t=>!!t&&typeof t=="object"&&t[Os]===_c;function Qt(t){if(t&&typeof t=="object")switch(t[Os]){case so:case _c:return!0}return!1}function an(t){if(t&&typeof t=="object")switch(t[Os]){case Ov:case so:case fr:case _c:return!0}return!1}const Zde=t=>(Bt(t)||Qt(t))&&!!t.anchor;class Lv{constructor(e){Object.defineProperty(this,Os,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}}const ns=Symbol("break visit"),eR=Symbol("skip children"),Si=Symbol("remove node");function co(t,e){const n=tR(e);kd(t)?hl(null,t.contents,n,Object.freeze([t]))===Si&&(t.contents=null):hl(null,t,n,Object.freeze([]))}co.BREAK=ns;co.SKIP=eR;co.REMOVE=Si;function hl(t,e,n,s){const i=nR(t,e,n,s);if(an(i)||Xt(i))return sR(t,s,i),hl(t,i,n,s);if(typeof i!="symbol"){if(Qt(e)){s=Object.freeze(s.concat(e));for(let r=0;r<e.items.length;++r){const o=hl(r,e.items[r],n,s);if(typeof o=="number")r=o-1;else{if(o===ns)return ns;o===Si&&(e.items.splice(r,1),r-=1)}}}else if(Xt(e)){s=Object.freeze(s.concat(e));const r=hl("key",e.key,n,s);if(r===ns)return ns;r===Si&&(e.key=null);const o=hl("value",e.value,n,s);if(o===ns)return ns;o===Si&&(e.value=null)}}return i}async function tm(t,e){const n=tR(e);kd(t)?await pl(null,t.contents,n,Object.freeze([t]))===Si&&(t.contents=null):await pl(null,t,n,Object.freeze([]))}tm.BREAK=ns;tm.SKIP=eR;tm.REMOVE=Si;async function pl(t,e,n,s){const i=await nR(t,e,n,s);if(an(i)||Xt(i))return sR(t,s,i),pl(t,i,n,s);if(typeof i!="symbol"){if(Qt(e)){s=Object.freeze(s.concat(e));for(let r=0;r<e.items.length;++r){const o=await pl(r,e.items[r],n,s);if(typeof o=="number")r=o-1;else{if(o===ns)return ns;o===Si&&(e.items.splice(r,1),r-=1)}}}else if(Xt(e)){s=Object.freeze(s.concat(e));const r=await pl("key",e.key,n,s);if(r===ns)return ns;r===Si&&(e.key=null);const o=await pl("value",e.value,n,s);if(o===ns)return ns;o===Si&&(e.value=null)}}return i}function tR(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function nR(t,e,n,s){var i,r,o,a,l;if(typeof n=="function")return n(t,e,s);if(xa(e))return(i=n.Map)==null?void 0:i.call(n,t,e,s);if(yc(e))return(r=n.Seq)==null?void 0:r.call(n,t,e,s);if(Xt(e))return(o=n.Pair)==null?void 0:o.call(n,t,e,s);if(Bt(e))return(a=n.Scalar)==null?void 0:a.call(n,t,e,s);if(wa(e))return(l=n.Alias)==null?void 0:l.call(n,t,e,s)}function sR(t,e,n){const s=e[e.length-1];if(Qt(s))s.items[t]=n;else if(Xt(s))t==="key"?s.key=n:s.value=n;else if(kd(s))s.contents=n;else{const i=wa(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const Jde={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},Qde=t=>t.replace(/[!,[\]{}]/g,e=>Jde[e]);class Bn{constructor(e,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Bn.defaultYaml,e),this.tags=Object.assign({},Bn.defaultTags,n)}clone(){const e=new Bn(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new Bn(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Bn.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Bn.defaultTags);break}return e}add(e,n){this.atNextDocument&&(this.yaml={explicit:Bn.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Bn.defaultTags),this.atNextDocument=!1);const s=e.trim().split(/[ \t]+/),i=s.shift();switch(i){case"%TAG":{if(s.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),s.length<2))return!1;const[r,o]=s;return this.tags[r]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,s.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[r]=s;if(r==="1.1"||r==="1.2")return this.yaml.version=r,!0;{const o=/^\d+\.\d+$/.test(r);return n(6,`Unsupported YAML version ${r}`,o),!1}}default:return n(0,`Unknown directive ${i}`,!0),!1}}tagName(e,n){if(e==="!")return"!";if(e[0]!=="!")return n(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const o=e.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}const[,s,i]=e.match(/^(.*!)([^!]*)$/);i||n(`The ${e} tag has no suffix`);const r=this.tags[s];return r?r+decodeURIComponent(i):s==="!"?e:(n(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[n,s]of Object.entries(this.tags))if(e.startsWith(s))return n+Qde(e.substring(s.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],s=Object.entries(this.tags);let i;if(e&&s.length>0&&an(e.contents)){const r={};co(e.contents,(o,a)=>{an(a)&&a.tag&&(r[a.tag]=!0)}),i=Object.keys(r)}else i=[];for(const[r,o]of s)r==="!!"&&o==="tag:yaml.org,2002:"||(!e||i.some(a=>a.startsWith(o)))&&n.push(`%TAG ${r} ${o}`);return n.join(`
`)}}Bn.defaultYaml={explicit:!1,version:"1.2"};Bn.defaultTags={"!!":"tag:yaml.org,2002:"};function iR(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function rR(t){const e=new Set;return co(t,{Value(n,s){s.anchor&&e.add(s.anchor)}}),e}function oR(t,e){for(let n=1;;++n){const s=`${t}${n}`;if(!e.has(s))return s}}function efe(t,e){const n=[],s=new Map;let i=null;return{onAnchor:r=>{n.push(r),i||(i=rR(t));const o=oR(e,i);return i.add(o),o},setAnchors:()=>{for(const r of n){const o=s.get(r);if(typeof o=="object"&&o.anchor&&(Bt(o.node)||Qt(o.node)))o.node.anchor=o.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=r,a}}},sourceObjects:s}}class nm extends Lv{constructor(e){super(Ov),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let n;return co(e,{Node:(s,i)=>{if(i===this)return co.BREAK;i.anchor===this.source&&(n=i)}}),n}toJSON(e,n){if(!n)return{source:this.source};const{anchors:s,doc:i,maxAliasCount:r}=n,o=this.resolve(i);if(!o){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}const a=s.get(o);if(!a||a.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(r>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=sh(i,o,s)),a.count*a.aliasCount>r)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(e,n,s){const i=`*${this.source}`;if(e){if(iR(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const r=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(r)}if(e.implicitKey)return`${i} `}return i}}function sh(t,e,n){if(wa(e)){const s=e.resolve(t),i=n&&s&&n.get(s);return i?i.count*i.aliasCount:0}else if(Qt(e)){let s=0;for(const i of e.items){const r=sh(t,i,n);r>s&&(s=r)}return s}else if(Xt(e)){const s=sh(t,e.key,n),i=sh(t,e.value,n);return Math.max(s,i)}return 1}function Ei(t,e,n){if(Array.isArray(t))return t.map((s,i)=>Ei(s,String(i),n));if(t&&typeof t.toJSON=="function"){if(!n||!Zde(t))return t.toJSON(e,n);const s={aliasCount:0,count:1,res:void 0};n.anchors.set(t,s),n.onCreate=r=>{s.res=r,delete n.onCreate};const i=t.toJSON(e,n);return n.onCreate&&n.onCreate(i),i}return typeof t=="bigint"&&!(n!=null&&n.keep)?Number(t):t}const aR=t=>!t||typeof t!="function"&&typeof t!="object";class Je extends Lv{constructor(e){super(fr),this.value=e}toJSON(e,n){return n!=null&&n.keep?this.value:Ei(this.value,e,n)}toString(){return String(this.value)}}Je.BLOCK_FOLDED="BLOCK_FOLDED";Je.BLOCK_LITERAL="BLOCK_LITERAL";Je.PLAIN="PLAIN";Je.QUOTE_DOUBLE="QUOTE_DOUBLE";Je.QUOTE_SINGLE="QUOTE_SINGLE";const tfe="tag:yaml.org,2002:";function nfe(t,e,n){var s;if(e){const i=n.filter(o=>o.tag===e),r=(s=i.find(o=>!o.format))!=null?s:i[0];if(!r)throw new Error(`Tag ${e} not found`);return r}return n.find(i=>{var r;return((r=i.identify)==null?void 0:r.call(i,t))&&!i.format})}function ad(t,e,n){var d,f;if(kd(t)&&(t=t.contents),an(t))return t;if(Xt(t)){const h=(f=(d=n.schema[so]).createNode)==null?void 0:f.call(d,n.schema,null,n);return h.items.push(t),h}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt=="function"&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:s,onAnchor:i,onTagObj:r,schema:o,sourceObjects:a}=n;let l;if(s&&t&&typeof t=="object"){if(l=a.get(t),l)return l.anchor||(l.anchor=i(t)),new nm(l.anchor);l={anchor:null,node:null},a.set(t,l)}e!=null&&e.startsWith("!!")&&(e=tfe+e.slice(2));let c=nfe(t,e,o.tags);if(!c){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){const h=new Je(t);return l&&(l.node=h),h}c=t instanceof Map?o[so]:Symbol.iterator in Object(t)?o[_c]:o[so]}r&&(r(c),delete n.onTagObj);const u=c!=null&&c.createNode?c.createNode(n.schema,t,n):new Je(t);return e&&(u.tag=e),l&&(l.node=u),u}function Wh(t,e,n){let s=n;for(let i=e.length-1;i>=0;--i){const r=e[i];if(typeof r=="number"&&Number.isInteger(r)&&r>=0){const o=[];o[r]=s,s=o}else s=new Map([[r,s]])}return ad(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const su=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;class sm extends Lv{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(s=>an(s)||Xt(s)?s.clone(e):s),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(su(e))this.add(n);else{const[s,...i]=e,r=this.get(s,!0);if(Qt(r))r.addIn(i,n);else if(r===void 0&&this.schema)this.set(s,Wh(this.schema,i,n));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${i}`)}}deleteIn(e){const[n,...s]=e;if(s.length===0)return this.delete(n);const i=this.get(n,!0);if(Qt(i))return i.deleteIn(s);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`)}getIn(e,n){const[s,...i]=e,r=this.get(s,!0);return i.length===0?!n&&Bt(r)?r.value:r:Qt(r)?r.getIn(i,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!Xt(n))return!1;const s=n.value;return s==null||e&&Bt(s)&&s.value==null&&!s.commentBefore&&!s.comment&&!s.tag})}hasIn(e){const[n,...s]=e;if(s.length===0)return this.has(n);const i=this.get(n,!0);return Qt(i)?i.hasIn(s):!1}setIn(e,n){const[s,...i]=e;if(i.length===0)this.set(s,n);else{const r=this.get(s,!0);if(Qt(r))r.setIn(i,n);else if(r===void 0&&this.schema)this.set(s,Wh(this.schema,i,n));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${i}`)}}}sm.maxFlowStringSingleLineLength=60;const sfe=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function ir(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const Kr=(t,e,n)=>t.endsWith(`
`)?ir(n,e):n.includes(`
`)?`
`+ir(n,e):(t.endsWith(" ")?"":" ")+n,lR="flow",my="block",ih="quoted";function im(t,e,n="flow",{indentAtStart:s,lineWidth:i=80,minContentWidth:r=20,onFold:o,onOverflow:a}={}){if(!i||i<0)return t;const l=Math.max(1+r,1+i-e.length);if(t.length<=l)return t;const c=[],u={};let d=i-e.length;typeof s=="number"&&(s>i-Math.max(2,r)?c.push(0):d=i-s);let f,h,_=!1,g=-1,m=-1,y=-1;n===my&&(g=JS(t,g),g!==-1&&(d=g+l));for(let S;S=t[g+=1];){if(n===ih&&S==="\\"){switch(m=g,t[g+1]){case"x":g+=3;break;case"u":g+=5;break;case"U":g+=9;break;default:g+=1}y=g}if(S===`
`)n===my&&(g=JS(t,g)),d=g+l,f=void 0;else{if(S===" "&&h&&h!==" "&&h!==`
`&&h!=="	"){const x=t[g+1];x&&x!==" "&&x!==`
`&&x!=="	"&&(f=g)}if(g>=d)if(f)c.push(f),d=f+l,f=void 0;else if(n===ih){for(;h===" "||h==="	";)h=S,S=t[g+=1],_=!0;const x=g>y+1?g-2:m-1;if(u[x])return t;c.push(x),u[x]=!0,d=x+l,f=void 0}else _=!0}h=S}if(_&&a&&a(),c.length===0)return t;o&&o();let b=t.slice(0,c[0]);for(let S=0;S<c.length;++S){const x=c[S],v=c[S+1]||t.length;x===0?b=`
${e}${t.slice(0,v)}`:(n===ih&&u[x]&&(b+=`${t[x]}\\`),b+=`
${e}${t.slice(x+1,v)}`)}return b}function JS(t,e){let n=t[e+1];for(;n===" "||n==="	";){do n=t[e+=1];while(n&&n!==`
`);n=t[e+1]}return e}const rm=t=>({indentAtStart:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),om=t=>/^(%|---|\.\.\.)/m.test(t);function ife(t,e,n){if(!e||e<0)return!1;const s=e-n,i=t.length;if(i<=s)return!1;for(let r=0,o=0;r<i;++r)if(t[r]===`
`){if(r-o>s)return!0;if(o=r+1,i-o<=s)return!1}return!0}function Tu(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:s}=e,i=e.options.doubleQuotedMinMultiLineLength,r=e.indent||(om(t)?"  ":"");let o="",a=0;for(let l=0,c=n[l];c;c=n[++l])if(c===" "&&n[l+1]==="\\"&&n[l+2]==="n"&&(o+=n.slice(a,l)+"\\ ",l+=1,a=l,c="\\"),c==="\\")switch(n[l+1]){case"u":{o+=n.slice(a,l);const u=n.substr(l+2,4);switch(u){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:u.substr(0,2)==="00"?o+="\\x"+u.substr(2):o+=n.substr(l,6)}l+=5,a=l+1}break;case"n":if(s||n[l+2]==='"'||n.length<i)l+=1;else{for(o+=n.slice(a,l)+`

`;n[l+2]==="\\"&&n[l+3]==="n"&&n[l+4]!=='"';)o+=`
`,l+=2;o+=r,n[l+2]===" "&&(o+="\\"),l+=1,a=l+1}break;default:l+=1}return o=a?o+n.slice(a):n,s?o:im(o,r,ih,rm(e))}function gy(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return Tu(t,e);const n=e.indent||(om(t)?"  ":""),s="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?s:im(s,n,lR,rm(e))}function Mu(t,e){const{singleQuote:n}=e.options;let s;if(n===!1)s=Tu;else{const i=t.includes('"'),r=t.includes("'");i&&!r?s=gy:r&&!i?s=Tu:s=n?gy:Tu}return s(t,e)}function rh({comment:t,type:e,value:n},s,i,r){const{blockQuote:o,commentString:a,lineWidth:l}=s.options;if(!o||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return Mu(n,s);const c=s.indent||(s.forceBlockIndent||om(n)?"  ":""),u=o==="literal"?!0:o==="folded"||e===Je.BLOCK_FOLDED?!1:e===Je.BLOCK_LITERAL?!0:!ife(n,l,c.length);if(!n)return u?`|
`:`>
`;let d,f;for(f=n.length;f>0;--f){const E=n[f-1];if(E!==`
`&&E!=="	"&&E!==" ")break}let h=n.substring(f);const _=h.indexOf(`
`);_===-1?d="-":n===h||_!==h.length-1?(d="+",r&&r()):d="",h&&(n=n.slice(0,-h.length),h[h.length-1]===`
`&&(h=h.slice(0,-1)),h=h.replace(/\n+(?!\n|$)/g,`$&${c}`));let g=!1,m,y=-1;for(m=0;m<n.length;++m){const E=n[m];if(E===" ")g=!0;else if(E===`
`)y=m;else break}let b=n.substring(0,y<m?y+1:m);b&&(n=n.substring(b.length),b=b.replace(/\n+/g,`$&${c}`));let x=(u?"|":">")+(g?c?"2":"1":"")+d;if(t&&(x+=" "+a(t.replace(/ ?[\r\n]+/g," ")),i&&i()),u)return n=n.replace(/\n+/g,`$&${c}`),`${x}
${c}${b}${n}${h}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`);const v=im(`${b}${n}${h}`,c,my,rm(s));return`${x}
${c}${v}`}function rfe(t,e,n,s){const{type:i,value:r}=t,{actualString:o,implicitKey:a,indent:l,inFlow:c}=e;if(a&&/[\n[\]{},]/.test(r)||c&&/[[\]{},]/.test(r))return Mu(r,e);if(!r||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(r))return a||c||!r.includes(`
`)?Mu(r,e):rh(t,e,n,s);if(!a&&!c&&i!==Je.PLAIN&&r.includes(`
`))return rh(t,e,n,s);if(l===""&&om(r))return e.forceBlockIndent=!0,rh(t,e,n,s);const u=r.replace(/\n+/g,`$&
${l}`);if(o){const d=_=>{var g;return _.default&&_.tag!=="tag:yaml.org,2002:str"&&((g=_.test)==null?void 0:g.test(u))},{compat:f,tags:h}=e.doc.schema;if(h.some(d)||(f==null?void 0:f.some(d)))return Mu(r,e)}return a?u:im(u,l,lR,rm(e))}function Od(t,e,n,s){const{implicitKey:i,inFlow:r}=e,o=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)});let{type:a}=t;a!==Je.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=Je.QUOTE_DOUBLE);const l=u=>{switch(u){case Je.BLOCK_FOLDED:case Je.BLOCK_LITERAL:return i||r?Mu(o.value,e):rh(o,e,n,s);case Je.QUOTE_DOUBLE:return Tu(o.value,e);case Je.QUOTE_SINGLE:return gy(o.value,e);case Je.PLAIN:return rfe(o,e,n,s);default:return null}};let c=l(a);if(c===null){const{defaultKeyType:u,defaultStringType:d}=e.options,f=i&&u||d;if(c=l(f),c===null)throw new Error(`Unsupported default string type ${f}`)}return c}function cR(t,e){const n=Object.assign({blockQuote:!0,commentString:sfe,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let s;switch(n.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:t,indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:s,options:n}}function ofe(t,e){var i,r,o,a;if(e.tag){const l=t.filter(c=>c.tag===e.tag);if(l.length>0)return(i=l.find(c=>c.format===e.format))!=null?i:l[0]}let n,s;if(Bt(e)){s=e.value;const l=t.filter(c=>{var u;return(u=c.identify)==null?void 0:u.call(c,s)});n=(r=l.find(c=>c.format===e.format))!=null?r:l.find(c=>!c.format)}else s=e,n=t.find(l=>l.nodeClass&&s instanceof l.nodeClass);if(!n){const l=(a=(o=s==null?void 0:s.constructor)==null?void 0:o.name)!=null?a:typeof s;throw new Error(`Tag not resolved for ${l} value`)}return n}function afe(t,e,{anchors:n,doc:s}){if(!s.directives)return"";const i=[],r=(Bt(t)||Qt(t))&&t.anchor;r&&iR(r)&&(n.add(r),i.push(`&${r}`));const o=t.tag?t.tag:e.default?null:e.tag;return o&&i.push(s.directives.tagString(o)),i.join(" ")}function pa(t,e,n,s){var l,c;if(Xt(t))return t.toString(e,n,s);if(wa(t)){if(e.doc.directives)return t.toString(e);if((l=e.resolvedAliases)!=null&&l.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let i;const r=an(t)?t:e.doc.createNode(t,{onTagObj:u=>i=u});i||(i=ofe(e.doc.schema.tags,r));const o=afe(r,i,e);o.length>0&&(e.indentAtStart=((c=e.indentAtStart)!=null?c:0)+o.length+1);const a=typeof i.stringify=="function"?i.stringify(r,e,n,s):Bt(r)?Od(r,e,n,s):r.toString(e,n,s);return o?Bt(r)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
${e.indent}${a}`:a}function lfe({key:t,value:e},n,s,i){const{allNullValues:r,doc:o,indent:a,indentStep:l,options:{commentString:c,indentSeq:u,simpleKeys:d}}=n;let f=an(t)&&t.comment||null;if(d){if(f)throw new Error("With simple keys, key nodes cannot have comments");if(Qt(t)){const E="With simple keys, collection cannot be used as a key value";throw new Error(E)}}let h=!d&&(!t||f&&e==null&&!n.inFlow||Qt(t)||(Bt(t)?t.type===Je.BLOCK_FOLDED||t.type===Je.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!h&&(d||!r),indent:a+l});let _=!1,g=!1,m=pa(t,n,()=>_=!0,()=>g=!0);if(!h&&!n.inFlow&&m.length>1024){if(d)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");h=!0}if(n.inFlow){if(r||e==null)return _&&s&&s(),m===""?"?":h?`? ${m}`:m}else if(r&&!d||e==null&&h)return m=`? ${m}`,f&&!_?m+=Kr(m,n.indent,c(f)):g&&i&&i(),m;_&&(f=null),h?(f&&(m+=Kr(m,n.indent,c(f))),m=`? ${m}
${a}:`):(m=`${m}:`,f&&(m+=Kr(m,n.indent,c(f))));let y="",b=null;if(an(e)){if(e.spaceBefore&&(y=`
`),e.commentBefore){const E=c(e.commentBefore);y+=`
${ir(E,n.indent)}`}b=e.comment}else e&&typeof e=="object"&&(e=o.createNode(e));n.implicitKey=!1,!h&&!f&&Bt(e)&&(n.indentAtStart=m.length+1),g=!1,!u&&l.length>=2&&!n.inFlow&&!h&&yc(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substr(2));let S=!1;const x=pa(e,n,()=>S=!0,()=>g=!0);let v=" ";return y||f?x===""&&!n.inFlow?v=y===`
`?`

`:y:v=`${y}
${n.indent}`:!h&&Qt(e)?(!(x[0]==="["||x[0]==="{")||x.includes(`
`))&&(v=`
${n.indent}`):(x===""||x[0]===`
`)&&(v=""),m+=v+x,n.inFlow?S&&s&&s():b&&!S?m+=Kr(m,n.indent,c(b)):g&&i&&i(),m}function uR(t,e){(t==="debug"||t==="warn")&&(typeof process!="undefined"&&process.emitWarning?process.emitWarning(e):console.warn(e))}const QS="<<";function dR(t,e,{key:n,value:s}){if((t==null?void 0:t.doc.schema.merge)&&cfe(n))if(s=wa(s)?s.resolve(t.doc):s,yc(s))for(const i of s.items)Xg(t,e,i);else if(Array.isArray(s))for(const i of s)Xg(t,e,i);else Xg(t,e,s);else{const i=Ei(n,"",t);if(e instanceof Map)e.set(i,Ei(s,i,t));else if(e instanceof Set)e.add(i);else{const r=ufe(n,i,t),o=Ei(s,r,t);r in e?Object.defineProperty(e,r,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[r]=o}}return e}const cfe=t=>t===QS||Bt(t)&&t.value===QS&&(!t.type||t.type===Je.PLAIN);function Xg(t,e,n){const s=t&&wa(n)?n.resolve(t.doc):n;if(!xa(s))throw new Error("Merge sources must be maps or map aliases");const i=s.toJSON(null,t,Map);for(const[r,o]of i)e instanceof Map?e.has(r)||e.set(r,o):e instanceof Set?e.add(r):Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(e,r,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}function ufe(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(an(t)&&n&&n.doc){const s=cR(n.doc,{});s.anchors=new Set;for(const r of n.anchors.keys())s.anchors.add(r.anchor);s.inFlow=!0,s.inStringifyKey=!0;const i=t.toString(s);if(!n.mapKeyWarned){let r=JSON.stringify(i);r.length>40&&(r=r.substring(0,36)+'..."'),uR(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${r}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return i}return JSON.stringify(e)}function Iv(t,e,n){const s=ad(t,void 0,n),i=ad(e,void 0,n);return new On(s,i)}class On{constructor(e,n=null){Object.defineProperty(this,Os,{value:QC}),this.key=e,this.value=n}clone(e){let{key:n,value:s}=this;return an(n)&&(n=n.clone(e)),an(s)&&(s=s.clone(e)),new On(n,s)}toJSON(e,n){const s=n!=null&&n.mapAsMap?new Map:{};return dR(n,s,this)}toString(e,n,s){return e!=null&&e.doc?lfe(this,e,n,s):JSON.stringify(this)}}function fR(t,e,n){var r;return(((r=e.inFlow)!=null?r:t.flow)?ffe:dfe)(t,e,n)}function dfe({comment:t,items:e},n,{blockItemPrefix:s,flowChars:i,itemIndent:r,onChompKeep:o,onComment:a}){const{indent:l,options:{commentString:c}}=n,u=Object.assign({},n,{indent:r,type:null});let d=!1;const f=[];for(let _=0;_<e.length;++_){const g=e[_];let m=null;if(an(g))!d&&g.spaceBefore&&f.push(""),jh(n,f,g.commentBefore,d),g.comment&&(m=g.comment);else if(Xt(g)){const b=an(g.key)?g.key:null;b&&(!d&&b.spaceBefore&&f.push(""),jh(n,f,b.commentBefore,d))}d=!1;let y=pa(g,u,()=>m=null,()=>d=!0);m&&(y+=Kr(y,r,c(m))),d&&m&&(d=!1),f.push(s+y)}let h;if(f.length===0)h=i.start+i.end;else{h=f[0];for(let _=1;_<f.length;++_){const g=f[_];h+=g?`
${l}${g}`:`
`}}return t?(h+=`
`+ir(c(t),l),a&&a()):d&&o&&o(),h}function ffe({comment:t,items:e},n,{flowChars:s,itemIndent:i,onComment:r}){const{indent:o,indentStep:a,options:{commentString:l}}=n;i+=a;const c=Object.assign({},n,{indent:i,inFlow:!0,type:null});let u=!1,d=0;const f=[];for(let m=0;m<e.length;++m){const y=e[m];let b=null;if(an(y))y.spaceBefore&&f.push(""),jh(n,f,y.commentBefore,!1),y.comment&&(b=y.comment);else if(Xt(y)){const x=an(y.key)?y.key:null;x&&(x.spaceBefore&&f.push(""),jh(n,f,x.commentBefore,!1),x.comment&&(u=!0));const v=an(y.value)?y.value:null;v?(v.comment&&(b=v.comment),v.commentBefore&&(u=!0)):y.value==null&&x&&x.comment&&(b=x.comment)}b&&(u=!0);let S=pa(y,c,()=>b=null);m<e.length-1&&(S+=","),b&&(S+=Kr(S,i,l(b))),!u&&(f.length>d||S.includes(`
`))&&(u=!0),f.push(S),d=f.length}let h;const{start:_,end:g}=s;if(f.length===0)h=_+g;else if(u||(u=f.reduce((y,b)=>y+b.length+2,2)>sm.maxFlowStringSingleLineLength),u){h=_;for(const m of f)h+=m?`
${a}${o}${m}`:`
`;h+=`
${o}${g}`}else h=`${_} ${f.join(" ")} ${g}`;return t&&(h+=Kr(h,l(t),o),r&&r()),h}function jh({indent:t,options:{commentString:e}},n,s,i){if(s&&i&&(s=s.replace(/^\n+/,"")),s){const r=ir(e(s),t);n.push(r.trimStart())}}function Wo(t,e){const n=Bt(e)?e.value:e;for(const s of t)if(Xt(s)&&(s.key===e||s.key===n||Bt(s.key)&&s.key.value===n))return s}class Es extends sm{constructor(e){super(so,e),this.items=[]}static get tagName(){return"tag:yaml.org,2002:map"}add(e,n){var o;let s;Xt(e)?s=e:!e||typeof e!="object"||!("key"in e)?s=new On(e,e==null?void 0:e.value):s=new On(e.key,e.value);const i=Wo(this.items,s.key),r=(o=this.schema)==null?void 0:o.sortMapEntries;if(i){if(!n)throw new Error(`Key ${s.key} already set`);Bt(i.value)&&aR(s.value)?i.value.value=s.value:i.value=s.value}else if(r){const a=this.items.findIndex(l=>r(s,l)<0);a===-1?this.items.push(s):this.items.splice(a,0,s)}else this.items.push(s)}delete(e){const n=Wo(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){var r;const s=Wo(this.items,e),i=s==null?void 0:s.value;return(r=!n&&Bt(i)?i.value:i)!=null?r:void 0}has(e){return!!Wo(this.items,e)}set(e,n){this.add(new On(e,n),!0)}toJSON(e,n,s){const i=s?new s:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(i);for(const r of this.items)dR(n,i,r);return i}toString(e,n,s){if(!e)return JSON.stringify(this);for(const i of this.items)if(!Xt(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),fR(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:s,onComment:n})}}function hfe(t,e,n){const{keepUndefined:s,replacer:i}=n,r=new Es(t),o=(a,l)=>{if(typeof i=="function")l=i.call(e,a,l);else if(Array.isArray(i)&&!i.includes(a))return;(l!==void 0||s)&&r.items.push(Iv(a,l,n))};if(e instanceof Map)for(const[a,l]of e)o(a,l);else if(e&&typeof e=="object")for(const a of Object.keys(e))o(a,e[a]);return typeof t.sortMapEntries=="function"&&r.items.sort(t.sortMapEntries),r}const bc={collection:"map",createNode:hfe,default:!0,nodeClass:Es,tag:"tag:yaml.org,2002:map",resolve(t,e){return xa(t)||e("Expected a mapping for this tag"),t}};class Sa extends sm{constructor(e){super(_c,e),this.items=[]}static get tagName(){return"tag:yaml.org,2002:seq"}add(e){this.items.push(e)}delete(e){const n=Lf(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){const s=Lf(e);if(typeof s!="number")return;const i=this.items[s];return!n&&Bt(i)?i.value:i}has(e){const n=Lf(e);return typeof n=="number"&&n<this.items.length}set(e,n){const s=Lf(e);if(typeof s!="number")throw new Error(`Expected a valid index, not ${e}.`);const i=this.items[s];Bt(i)&&aR(n)?i.value=n:this.items[s]=n}toJSON(e,n){const s=[];n!=null&&n.onCreate&&n.onCreate(s);let i=0;for(const r of this.items)s.push(Ei(r,String(i++),n));return s}toString(e,n,s){return e?fR(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:s,onComment:n}):JSON.stringify(this)}}function Lf(t){let e=Bt(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}function pfe(t,e,n){const{replacer:s}=n,i=new Sa(t);if(e&&Symbol.iterator in Object(e)){let r=0;for(let o of e){if(typeof s=="function"){const a=e instanceof Set?o:String(r++);o=s.call(e,a,o)}i.items.push(ad(o,void 0,n))}}return i}const vc={collection:"seq",createNode:pfe,default:!0,nodeClass:Sa,tag:"tag:yaml.org,2002:seq",resolve(t,e){return yc(t)||e("Expected a sequence for this tag"),t}},am={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,n,s){return e=Object.assign({actualString:!0},e),Od(t,e,n,s)}},lm={identify:t=>t==null,createNode:()=>new Je(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Je(null),stringify:({source:t},e)=>typeof t=="string"&&lm.test.test(t)?t:e.options.nullStr},Dv={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new Je(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},n){if(t&&Dv.test.test(t)){const s=t[0]==="t"||t[0]==="T";if(e===s)return t}return e?n.options.trueStr:n.options.falseStr}};function ci({format:t,minFractionDigits:e,tag:n,value:s}){if(typeof s=="bigint")return String(s);const i=typeof s=="number"?s:Number(s);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let r=JSON.stringify(s);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(r)){let o=r.indexOf(".");o<0&&(o=r.length,r+=".");let a=e-(r.length-o-1);for(;a-- >0;)r+="0"}return r}const hR={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:ci},pR={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():ci(t)}},mR={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){const e=new Je(parseFloat(t)),n=t.indexOf(".");return n!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-n-1),e},stringify:ci},cm=t=>typeof t=="bigint"||Number.isInteger(t),Nv=(t,e,n,{intAsBigInt:s})=>s?BigInt(t):parseInt(t.substring(e),n);function gR(t,e,n){const{value:s}=t;return cm(s)&&s>=0?n+s.toString(e):ci(t)}const _R={identify:t=>cm(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,n)=>Nv(t,2,8,n),stringify:t=>gR(t,8,"0o")},yR={identify:cm,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,n)=>Nv(t,0,10,n),stringify:ci},bR={identify:t=>cm(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,n)=>Nv(t,2,16,n),stringify:t=>gR(t,16,"0x")},mfe=[bc,vc,am,lm,Dv,_R,yR,bR,hR,pR,mR];function eE(t){return typeof t=="bigint"||Number.isInteger(t)}const If=({value:t})=>JSON.stringify(t),gfe=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:If},{identify:t=>t==null,createNode:()=>new Je(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:If},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>t==="true",stringify:If},{identify:eE,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>eE(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:If}],_fe={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},yfe=[bc,vc].concat(gfe,_fe),Fv={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof Buffer=="function")return Buffer.from(t,"base64");if(typeof atob=="function"){const n=atob(t.replace(/[\n\r]/g,"")),s=new Uint8Array(n.length);for(let i=0;i<n.length;++i)s[i]=n.charCodeAt(i);return s}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},s,i,r){const o=n;let a;if(typeof Buffer=="function")a=o instanceof Buffer?o.toString("base64"):Buffer.from(o.buffer).toString("base64");else if(typeof btoa=="function"){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=Je.BLOCK_LITERAL),e!==Je.QUOTE_DOUBLE){const l=Math.max(s.options.lineWidth-s.indent.length,s.options.minContentWidth),c=Math.ceil(a.length/l),u=new Array(c);for(let d=0,f=0;d<c;++d,f+=l)u[d]=a.substr(f,l);a=u.join(e===Je.BLOCK_LITERAL?`
`:" ")}return Od({comment:t,type:e,value:a},s,i,r)}};function vR(t,e){var n;if(yc(t))for(let s=0;s<t.items.length;++s){let i=t.items[s];if(!Xt(i)){if(xa(i)){i.items.length>1&&e("Each pair must have its own sequence indicator");const r=i.items[0]||new On(new Je(null));if(i.commentBefore&&(r.key.commentBefore=r.key.commentBefore?`${i.commentBefore}
${r.key.commentBefore}`:i.commentBefore),i.comment){const o=(n=r.value)!=null?n:r.key;o.comment=o.comment?`${i.comment}
${o.comment}`:i.comment}i=r}t.items[s]=Xt(i)?i:new On(i)}}else e("Expected a sequence for this tag");return t}function wR(t,e,n){const{replacer:s}=n,i=new Sa(t);i.tag="tag:yaml.org,2002:pairs";let r=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof s=="function"&&(o=s.call(e,String(r++),o));let a,l;if(Array.isArray(o))if(o.length===2)a=o[0],l=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const c=Object.keys(o);if(c.length===1)a=c[0],l=o[a];else throw new TypeError(`Expected { key: value } tuple: ${o}`)}else a=o;i.items.push(Iv(a,l,n))}return i}const $v={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:vR,createNode:wR};class Rl extends Sa{constructor(){super(),this.add=Es.prototype.add.bind(this),this.delete=Es.prototype.delete.bind(this),this.get=Es.prototype.get.bind(this),this.has=Es.prototype.has.bind(this),this.set=Es.prototype.set.bind(this),this.tag=Rl.tag}toJSON(e,n){if(!n)return super.toJSON(e);const s=new Map;n!=null&&n.onCreate&&n.onCreate(s);for(const i of this.items){let r,o;if(Xt(i)?(r=Ei(i.key,"",n),o=Ei(i.value,r,n)):r=Ei(i,"",n),s.has(r))throw new Error("Ordered maps must not include duplicate keys");s.set(r,o)}return s}}Rl.tag="tag:yaml.org,2002:omap";const Uv={collection:"seq",identify:t=>t instanceof Map,nodeClass:Rl,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){const n=vR(t,e),s=[];for(const{key:i}of n.items)Bt(i)&&(s.includes(i.value)?e(`Ordered maps must not include duplicate keys: ${i.value}`):s.push(i.value));return Object.assign(new Rl,n)},createNode(t,e,n){const s=wR(t,e,n),i=new Rl;return i.items=s.items,i}};function xR({value:t,source:e},n){return e&&(t?SR:ER).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}const SR={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Je(!0),stringify:xR},ER={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new Je(!1),stringify:xR},bfe={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:ci},vfe={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():ci(t)}},wfe={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){const e=new Je(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(n!==-1){const s=t.substring(n+1).replace(/_/g,"");s[s.length-1]==="0"&&(e.minFractionDigits=s.length)}return e},stringify:ci},Ld=t=>typeof t=="bigint"||Number.isInteger(t);function um(t,e,n,{intAsBigInt:s}){const i=t[0];if((i==="-"||i==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),s){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}const o=BigInt(t);return i==="-"?BigInt(-1)*o:o}const r=parseInt(t,n);return i==="-"?-1*r:r}function Bv(t,e,n){const{value:s}=t;if(Ld(s)){const i=s.toString(e);return s<0?"-"+n+i.substr(1):n+i}return ci(t)}const xfe={identify:Ld,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,n)=>um(t,2,2,n),stringify:t=>Bv(t,2,"0b")},Sfe={identify:Ld,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,n)=>um(t,1,8,n),stringify:t=>Bv(t,8,"0")},Efe={identify:Ld,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,n)=>um(t,0,10,n),stringify:ci},Tfe={identify:Ld,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,n)=>um(t,2,16,n),stringify:t=>Bv(t,16,"0x")};class Pl extends Es{constructor(e){super(e),this.tag=Pl.tag}add(e){let n;Xt(e)?n=e:typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new On(e.key,null):n=new On(e,null),Wo(this.items,n.key)||this.items.push(n)}get(e,n){const s=Wo(this.items,e);return!n&&Xt(s)?Bt(s.key)?s.key.value:s.key:s}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const s=Wo(this.items,e);s&&!n?this.items.splice(this.items.indexOf(s),1):!s&&n&&this.items.push(new On(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,s){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,s);throw new Error("Set items must all have null values")}}Pl.tag="tag:yaml.org,2002:set";const zv={collection:"map",identify:t=>t instanceof Set,nodeClass:Pl,default:!1,tag:"tag:yaml.org,2002:set",resolve(t,e){if(xa(t)){if(t.hasAllNullValues(!0))return Object.assign(new Pl,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t},createNode(t,e,n){const{replacer:s}=n,i=new Pl(t);if(e&&Symbol.iterator in Object(e))for(let r of e)typeof s=="function"&&(r=s.call(e,r,r)),i.items.push(Iv(r,null,n));return i}};function Gv(t,e){const n=t[0],s=n==="-"||n==="+"?t.substring(1):t,i=o=>e?BigInt(o):Number(o),r=s.replace(/_/g,"").split(":").reduce((o,a)=>o*i(60)+i(a),i(0));return n==="-"?i(-1)*r:r}function TR(t){let{value:e}=t,n=o=>o;if(typeof e=="bigint")n=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return ci(t);let s="";e<0&&(s="-",e*=n(-1));const i=n(60),r=[e%i];return e<60?r.unshift(0):(e=(e-r[0])/i,r.unshift(e%i),e>=60&&(e=(e-r[0])/i,r.unshift(e))),s+r.map(o=>o<10?"0"+String(o):String(o)).join(":").replace(/000000\d*$/,"")}const MR={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:n})=>Gv(t,n),stringify:TR},AR={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>Gv(t,!1),stringify:TR},dm={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){const e=t.match(dm.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,s,i,r,o,a]=e.map(Number),l=e[7]?Number((e[7]+"00").substr(1,3)):0;let c=Date.UTC(n,s-1,i,r||0,o||0,a||0,l);const u=e[8];if(u&&u!=="Z"){let d=Gv(u,!1);Math.abs(d)<30&&(d*=60),c-=6e4*d}return new Date(c)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},tE=[bc,vc,am,lm,SR,ER,xfe,Sfe,Efe,Tfe,bfe,vfe,wfe,Fv,Uv,$v,zv,MR,AR,dm],nE=new Map([["core",mfe],["failsafe",[bc,vc,am]],["json",yfe],["yaml11",tE],["yaml-1.1",tE]]),sE={binary:Fv,bool:Dv,float:mR,floatExp:pR,floatNaN:hR,floatTime:AR,int:yR,intHex:bR,intOct:_R,intTime:MR,map:bc,null:lm,omap:Uv,pairs:$v,seq:vc,set:zv,timestamp:dm},Mfe={"tag:yaml.org,2002:binary":Fv,"tag:yaml.org,2002:omap":Uv,"tag:yaml.org,2002:pairs":$v,"tag:yaml.org,2002:set":zv,"tag:yaml.org,2002:timestamp":dm};function Zg(t,e){let n=nE.get(e);if(!n)if(Array.isArray(t))n=[];else{const s=Array.from(nE.keys()).filter(i=>i!=="yaml11").map(i=>JSON.stringify(i)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${s} or define customTags array`)}if(Array.isArray(t))for(const s of t)n=n.concat(s);else typeof t=="function"&&(n=t(n.slice()));return n.map(s=>{if(typeof s!="string")return s;const i=sE[s];if(i)return i;const r=Object.keys(sE).map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown custom tag "${s}"; use one of ${r}`)})}const Afe=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0;class fm{constructor({compat:e,customTags:n,merge:s,resolveKnownTags:i,schema:r,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(e)?Zg(e,"compat"):e?Zg(null,e):null,this.merge=!!s,this.name=typeof r=="string"&&r||"core",this.knownTags=i?Mfe:{},this.tags=Zg(n,this.name),this.toStringOptions=a!=null?a:null,Object.defineProperty(this,so,{value:bc}),Object.defineProperty(this,fr,{value:am}),Object.defineProperty(this,_c,{value:vc}),this.sortMapEntries=typeof o=="function"?o:o===!0?Afe:null}clone(){const e=Object.create(fm.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function Cfe(t,e){var l;const n=[];let s=e.directives===!0;if(e.directives!==!1&&t.directives){const c=t.directives.toString(t);c?(n.push(c),s=!0):t.directives.docStart&&(s=!0)}s&&n.push("---");const i=cR(t,e),{commentString:r}=i.options;if(t.commentBefore){n.length!==1&&n.unshift("");const c=r(t.commentBefore);n.unshift(ir(c,""))}let o=!1,a=null;if(t.contents){if(an(t.contents)){if(t.contents.spaceBefore&&s&&n.push(""),t.contents.commentBefore){const d=r(t.contents.commentBefore);n.push(ir(d,""))}i.forceBlockIndent=!!t.comment,a=t.contents.comment}const c=a?void 0:()=>o=!0;let u=pa(t.contents,i,()=>a=null,c);a&&(u+=Kr(u,"",r(a))),(u[0]==="|"||u[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${u}`:n.push(u)}else n.push(pa(t.contents,i));if((l=t.directives)!=null&&l.docEnd)if(t.comment){const c=r(t.comment);c.includes(`
`)?(n.push("..."),n.push(ir(c,""))):n.push(`... ${c}`)}else n.push("...");else{let c=t.comment;c&&o&&(c=c.replace(/^\n+/,"")),c&&((!o||a)&&n[n.length-1]!==""&&n.push(""),n.push(ir(r(c),"")))}return n.join(`
`)+`
`}function iu(t,e,n,s){if(s&&typeof s=="object")if(Array.isArray(s))for(let i=0,r=s.length;i<r;++i){const o=s[i],a=iu(t,s,String(i),o);a===void 0?delete s[i]:a!==o&&(s[i]=a)}else if(s instanceof Map)for(const i of Array.from(s.keys())){const r=s.get(i),o=iu(t,s,i,r);o===void 0?s.delete(i):o!==r&&s.set(i,o)}else if(s instanceof Set)for(const i of Array.from(s)){const r=iu(t,s,i,i);r===void 0?s.delete(i):r!==i&&(s.delete(i),s.add(r))}else for(const[i,r]of Object.entries(s)){const o=iu(t,s,i,r);o===void 0?delete s[i]:o!==r&&(s[i]=o)}return t.call(e,n,s)}class wc{constructor(e,n,s){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Os,{value:py});let i=null;typeof n=="function"||Array.isArray(n)?i=n:s===void 0&&n&&(s=n,n=void 0);const r=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},s);this.options=r;let{version:o}=r;s!=null&&s._directives?(this.directives=s._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new Bn({version:o}),this.setSchema(o,s),e===void 0?this.contents=null:this.contents=this.createNode(e,i,s)}clone(){const e=Object.create(wc.prototype,{[Os]:{value:py}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=an(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){Qa(this.contents)&&this.contents.add(e)}addIn(e,n){Qa(this.contents)&&this.contents.addIn(e,n)}createAlias(e,n){if(!e.anchor){const s=rR(this);e.anchor=!n||s.has(n)?oR(n||"a",s):n}return new nm(e.anchor)}createNode(e,n,s){let i;if(typeof n=="function")e=n.call({"":e},"",e),i=n;else if(Array.isArray(n)){const m=b=>typeof b=="number"||b instanceof String||b instanceof Number,y=n.filter(m).map(String);y.length>0&&(n=n.concat(y)),i=n}else s===void 0&&n&&(s=n,n=void 0);const{aliasDuplicateObjects:r,anchorPrefix:o,flow:a,keepUndefined:l,onTagObj:c,tag:u}=s!=null?s:{},{onAnchor:d,setAnchors:f,sourceObjects:h}=efe(this,o||"a"),_={aliasDuplicateObjects:r!=null?r:!0,keepUndefined:l!=null?l:!1,onAnchor:d,onTagObj:c,replacer:i,schema:this.schema,sourceObjects:h},g=ad(e,u,_);return a&&Qt(g)&&(g.flow=!0),f(),g}createPair(e,n,s={}){const i=this.createNode(e,null,s),r=this.createNode(n,null,s);return new On(i,r)}delete(e){return Qa(this.contents)?this.contents.delete(e):!1}deleteIn(e){return su(e)?this.contents==null?!1:(this.contents=null,!0):Qa(this.contents)?this.contents.deleteIn(e):!1}get(e,n){return Qt(this.contents)?this.contents.get(e,n):void 0}getIn(e,n){return su(e)?!n&&Bt(this.contents)?this.contents.value:this.contents:Qt(this.contents)?this.contents.getIn(e,n):void 0}has(e){return Qt(this.contents)?this.contents.has(e):!1}hasIn(e){return su(e)?this.contents!==void 0:Qt(this.contents)?this.contents.hasIn(e):!1}set(e,n){this.contents==null?this.contents=Wh(this.schema,[e],n):Qa(this.contents)&&this.contents.set(e,n)}setIn(e,n){su(e)?this.contents=n:this.contents==null?this.contents=Wh(this.schema,Array.from(e),n):Qa(this.contents)&&this.contents.setIn(e,n)}setSchema(e,n={}){typeof e=="number"&&(e=String(e));let s;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Bn({version:"1.1"}),s={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new Bn({version:e}),s={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,s=null;break;default:{const i=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(s)this.schema=new fm(Object.assign(s,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:n,mapAsMap:s,maxAliasCount:i,onAnchor:r,reviver:o}={}){const a={anchors:new Map,doc:this,keep:!e,mapAsMap:s===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100,stringify:pa},l=Ei(this.contents,n!=null?n:"",a);if(typeof r=="function")for(const{count:c,res:u}of a.anchors.values())r(u,c);return typeof o=="function"?iu(o,{"":l},"",l):l}toJSON(e,n){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:n})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const n=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return Cfe(this,e)}}function Qa(t){if(Qt(t))return!0;throw new Error("Expected a YAML collection as document contents")}class Vv extends Error{constructor(e,n,s,i){super(),this.name=e,this.code=s,this.message=i,this.pos=n}}class jo extends Vv{constructor(e,n,s){super("YAMLParseError",e,n,s)}}class CR extends Vv{constructor(e,n,s){super("YAMLWarning",e,n,s)}}const Yh=(t,e)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(a=>e.linePos(a));const{line:s,col:i}=n.linePos[0];n.message+=` at line ${s}, column ${i}`;let r=i-1,o=t.substring(e.lineStarts[s-1],e.lineStarts[s]).replace(/[\n\r]+$/,"");if(r>=60&&o.length>80){const a=Math.min(r-39,o.length-79);o="\u2026"+o.substring(a),r-=a-1}if(o.length>80&&(o=o.substring(0,79)+"\u2026"),s>1&&/^ *$/.test(o.substring(0,r))){let a=t.substring(e.lineStarts[s-2],e.lineStarts[s-1]);a.length>80&&(a=a.substring(0,79)+`\u2026
`),o=a+o}if(/[^ ]/.test(o)){let a=1;const l=n.linePos[1];l&&l.line===s&&l.col>i&&(a=Math.min(l.col-i,80-r));const c=" ".repeat(r)+"^".repeat(a);n.message+=`:

${o}
${c}
`}};function Zl(t,{flow:e,indicator:n,next:s,offset:i,onError:r,startOnNewline:o}){let a=!1,l=o,c=o,u="",d="",f=!1,h=!1,_=!1,g=null,m=null,y=null,b=null,S=null;for(const E of t)switch(_&&(E.type!=="space"&&E.type!=="newline"&&E.type!=="comma"&&r(E.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),_=!1),E.type){case"space":!e&&l&&n!=="doc-start"&&E.source[0]==="	"&&r(E,"TAB_AS_INDENT","Tabs are not allowed as indentation"),c=!0;break;case"comment":{c||r(E,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const A=E.source.substring(1)||" ";u?u+=d+A:u=A,d="",l=!1;break}case"newline":l?u?u+=E.source:a=!0:d+=E.source,l=!0,f=!0,(g||m)&&(h=!0),c=!0;break;case"anchor":g&&r(E,"MULTIPLE_ANCHORS","A node can have at most one anchor"),E.source.endsWith(":")&&r(E.offset+E.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),g=E,S===null&&(S=E.offset),l=!1,c=!1,_=!0;break;case"tag":{m&&r(E,"MULTIPLE_TAGS","A node can have at most one tag"),m=E,S===null&&(S=E.offset),l=!1,c=!1,_=!0;break}case n:(g||m)&&r(E,"BAD_PROP_ORDER",`Anchors and tags must be after the ${E.source} indicator`),b&&r(E,"UNEXPECTED_TOKEN",`Unexpected ${E.source} in ${e!=null?e:"collection"}`),b=E,l=!1,c=!1;break;case"comma":if(e){y&&r(E,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),y=E,l=!1,c=!1;break}default:r(E,"UNEXPECTED_TOKEN",`Unexpected ${E.type} token`),l=!1,c=!1}const x=t[t.length-1],v=x?x.offset+x.source.length:i;return _&&s&&s.type!=="space"&&s.type!=="newline"&&s.type!=="comma"&&(s.type!=="scalar"||s.source!=="")&&r(s.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:y,found:b,spaceBefore:a,comment:u,hasNewline:f,hasNewlineAfterProp:h,anchor:g,tag:m,end:v,start:S!=null?S:v}}function ld(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return!0;if(t.end){for(const e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of t.items){for(const n of e.start)if(n.type==="newline")return!0;if(e.sep){for(const n of e.sep)if(n.type==="newline")return!0}if(ld(e.key)||ld(e.value))return!0}return!1;default:return!0}}function _y(t,e,n){if((e==null?void 0:e.type)==="flow-collection"){const s=e.end[0];s.indent===t&&(s.source==="]"||s.source==="}")&&ld(e)&&n(s,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function RR(t,e,n){const{uniqueKeys:s}=t.options;if(s===!1)return!1;const i=typeof s=="function"?s:(r,o)=>r===o||Bt(r)&&Bt(o)&&r.value===o.value&&!(r.value==="<<"&&t.schema.merge);return e.some(r=>i(r.key,n))}const iE="All mapping items must start at the same column";function Rfe({composeNode:t,composeEmptyNode:e},n,s,i){var a;const r=new Es(n.schema);n.atRoot&&(n.atRoot=!1);let o=s.offset;for(const l of s.items){const{start:c,key:u,sep:d,value:f}=l,h=Zl(c,{indicator:"explicit-key-ind",next:u!=null?u:d==null?void 0:d[0],offset:o,onError:i,startOnNewline:!0}),_=!h.found;if(_){if(u&&(u.type==="block-seq"?i(o,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in u&&u.indent!==s.indent&&i(o,"BAD_INDENT",iE)),!h.anchor&&!h.tag&&!d){h.comment&&(r.comment?r.comment+=`
`+h.comment:r.comment=h.comment);continue}(h.hasNewlineAfterProp||ld(u))&&i(u!=null?u:c[c.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((a=h.found)==null?void 0:a.indent)!==s.indent&&i(o,"BAD_INDENT",iE);const g=h.end,m=u?t(n,u,h,i):e(n,g,c,null,h,i);n.schema.compat&&_y(s.indent,u,i),RR(n,r.items,m)&&i(g,"DUPLICATE_KEY","Map keys must be unique");const y=Zl(d!=null?d:[],{indicator:"map-value-ind",next:f,offset:m.range[2],onError:i,startOnNewline:!u||u.type==="block-scalar"});if(o=y.end,y.found){_&&((f==null?void 0:f.type)==="block-map"&&!y.hasNewline&&i(o,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&h.start<y.found.offset-1024&&i(m.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const b=f?t(n,f,y,i):e(n,o,d,null,y,i);n.schema.compat&&_y(s.indent,f,i),o=b.range[2];const S=new On(m,b);n.options.keepSourceTokens&&(S.srcToken=l),r.items.push(S)}else{_&&i(m.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),y.comment&&(m.comment?m.comment+=`
`+y.comment:m.comment=y.comment);const b=new On(m);n.options.keepSourceTokens&&(b.srcToken=l),r.items.push(b)}}return r.range=[s.offset,o,o],r}function Pfe({composeNode:t,composeEmptyNode:e},n,s,i){const r=new Sa(n.schema);n.atRoot&&(n.atRoot=!1);let o=s.offset;for(const{start:a,value:l}of s.items){const c=Zl(a,{indicator:"seq-item-ind",next:l,offset:o,onError:i,startOnNewline:!0});if(o=c.end,!c.found)if(c.anchor||c.tag||l)l&&l.type==="block-seq"?i(o,"BAD_INDENT","All sequence items must start at the same column"):i(o,"MISSING_CHAR","Sequence item without - indicator");else{c.comment&&(r.comment=c.comment);continue}const u=l?t(n,l,c,i):e(n,o,a,null,c,i);n.schema.compat&&_y(s.indent,l,i),o=u.range[2],r.items.push(u)}return r.range=[s.offset,o,o],r}function Id(t,e,n,s){let i="";if(t){let r=!1,o="";for(const a of t){const{source:l,type:c}=a;switch(c){case"space":r=!0;break;case"comment":{n&&!r&&s(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const u=l.substring(1)||" ";i?i+=o+u:i=u,o="";break}case"newline":i&&(o+=l),r=!0;break;default:s(a,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}e+=l.length}}return{comment:i,offset:e}}const Jg="Block collections are not allowed within flow collections",Qg=t=>t&&(t.type==="block-map"||t.type==="block-seq");function kfe({composeNode:t,composeEmptyNode:e},n,s,i){var _;const r=s.start.source==="{",o=r?"flow map":"flow sequence",a=r?new Es(n.schema):new Sa(n.schema);a.flow=!0;const l=n.atRoot;l&&(n.atRoot=!1);let c=s.offset+s.start.source.length;for(let g=0;g<s.items.length;++g){const m=s.items[g],{start:y,key:b,sep:S,value:x}=m,v=Zl(y,{flow:o,indicator:"explicit-key-ind",next:b!=null?b:S==null?void 0:S[0],offset:c,onError:i,startOnNewline:!1});if(!v.found){if(!v.anchor&&!v.tag&&!S&&!x){g===0&&v.comma?i(v.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${o}`):g<s.items.length-1&&i(v.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${o}`),v.comment&&(a.comment?a.comment+=`
`+v.comment:a.comment=v.comment),c=v.end;continue}!r&&n.options.strict&&ld(b)&&i(b,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(g===0)v.comma&&i(v.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${o}`);else if(v.comma||i(v.start,"MISSING_CHAR",`Missing , between ${o} items`),v.comment){let E="";e:for(const A of y)switch(A.type){case"comma":case"space":break;case"comment":E=A.source.substring(1);break e;default:break e}if(E){let A=a.items[a.items.length-1];Xt(A)&&(A=(_=A.value)!=null?_:A.key),A.comment?A.comment+=`
`+E:A.comment=E,v.comment=v.comment.substring(E.length+1)}}if(!r&&!S&&!v.found){const E=x?t(n,x,v,i):e(n,v.end,S,null,v,i);a.items.push(E),c=E.range[2],Qg(x)&&i(E.range,"BLOCK_IN_FLOW",Jg)}else{const E=v.end,A=b?t(n,b,v,i):e(n,E,y,null,v,i);Qg(b)&&i(A.range,"BLOCK_IN_FLOW",Jg);const w=Zl(S!=null?S:[],{flow:o,indicator:"map-value-ind",next:x,offset:A.range[2],onError:i,startOnNewline:!1});if(w.found){if(!r&&!v.found&&n.options.strict){if(S)for(const O of S){if(O===w.found)break;if(O.type==="newline"){i(O,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}v.start<w.found.offset-1024&&i(w.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else x&&("source"in x&&x.source&&x.source[0]===":"?i(x,"MISSING_CHAR",`Missing space after : in ${o}`):i(w.start,"MISSING_CHAR",`Missing , or : between ${o} items`));const C=x?t(n,x,w,i):w.found?e(n,w.end,S,null,w,i):null;C?Qg(x)&&i(C.range,"BLOCK_IN_FLOW",Jg):w.comment&&(A.comment?A.comment+=`
`+w.comment:A.comment=w.comment);const N=new On(A,C);if(n.options.keepSourceTokens&&(N.srcToken=m),r){const O=a;RR(n,O.items,A)&&i(E,"DUPLICATE_KEY","Map keys must be unique"),O.items.push(N)}else{const O=new Es(n.schema);O.flow=!0,O.items.push(N),a.items.push(O)}c=C?C.range[2]:w.end}}const u=r?"}":"]",[d,...f]=s.end;let h=c;if(d&&d.source===u)h=d.offset+d.source.length;else{const g=o[0].toUpperCase()+o.substring(1),m=l?`${g} must end with a ${u}`:`${g} in block collection must be sufficiently indented and end with a ${u}`;i(c,l?"MISSING_CHAR":"BAD_INDENT",m),d&&d.source.length!==1&&f.unshift(d)}if(f.length>0){const g=Id(f,h,n.options.strict,i);g.comment&&(a.comment?a.comment+=`
`+g.comment:a.comment=g.comment),a.range=[s.offset,h,g.offset]}else a.range=[s.offset,h,h];return a}function Ofe(t,e,n,s,i){let r;switch(n.type){case"block-map":{r=Rfe(t,e,n,i);break}case"block-seq":{r=Pfe(t,e,n,i);break}case"flow-collection":{r=kfe(t,e,n,i);break}}if(!s)return r;const o=e.directives.tagName(s.source,f=>i(s,"TAG_RESOLVE_FAILED",f));if(!o)return r;const a=r.constructor;if(o==="!"||o===a.tagName)return r.tag=a.tagName,r;const l=xa(r)?"map":"seq";let c=e.schema.tags.find(f=>f.collection===l&&f.tag===o);if(!c){const f=e.schema.knownTags[o];if(f&&f.collection===l)e.schema.tags.push(Object.assign({},f,{default:!1})),c=f;else return i(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),r.tag=o,r}const u=c.resolve(r,f=>i(s,"TAG_RESOLVE_FAILED",f),e.options),d=an(u)?u:new Je(u);return d.range=r.range,d.tag=o,c!=null&&c.format&&(d.format=c.format),d}function PR(t,e,n){const s=t.offset,i=Lfe(t,e,n);if(!i)return{value:"",type:null,comment:"",range:[s,s,s]};const r=i.mode===">"?Je.BLOCK_FOLDED:Je.BLOCK_LITERAL,o=t.source?Ife(t.source):[];let a=o.length;for(let g=o.length-1;g>=0;--g){const m=o[g][1];if(m===""||m==="\r")a=g;else break}if(a===0){const g=i.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"";let m=s+i.length;return t.source&&(m+=t.source.length),{value:g,type:r,comment:i.comment,range:[s,m,m]}}let l=t.indent+i.indent,c=t.offset+i.length,u=0;for(let g=0;g<a;++g){const[m,y]=o[g];if(y===""||y==="\r")i.indent===0&&m.length>l&&(l=m.length);else{if(m.length<l){const b="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";n(c+m.length,"MISSING_CHAR",b)}i.indent===0&&(l=m.length),u=g;break}c+=m.length+y.length+1}for(let g=o.length-1;g>=a;--g)o[g][0].length>l&&(a=g+1);let d="",f="",h=!1;for(let g=0;g<u;++g)d+=o[g][0].slice(l)+`
`;for(let g=u;g<a;++g){let[m,y]=o[g];c+=m.length+y.length+1;const b=y[y.length-1]==="\r";if(b&&(y=y.slice(0,-1)),y&&m.length<l){const x=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;n(c-y.length-(b?2:1),"BAD_INDENT",x),m=""}r===Je.BLOCK_LITERAL?(d+=f+m.slice(l)+y,f=`
`):m.length>l||y[0]==="	"?(f===" "?f=`
`:!h&&f===`
`&&(f=`

`),d+=f+m.slice(l)+y,f=`
`,h=!0):y===""?f===`
`?d+=`
`:f=`
`:(d+=f+y,f=" ",h=!1)}switch(i.chomp){case"-":break;case"+":for(let g=a;g<o.length;++g)d+=`
`+o[g][0].slice(l);d[d.length-1]!==`
`&&(d+=`
`);break;default:d+=`
`}const _=s+i.length+t.source.length;return{value:d,type:r,comment:i.comment,range:[s,_,_]}}function Lfe({offset:t,props:e},n,s){if(e[0].type!=="block-scalar-header")return s(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:i}=e[0],r=i[0];let o=0,a="",l=-1;for(let f=1;f<i.length;++f){const h=i[f];if(!a&&(h==="-"||h==="+"))a=h;else{const _=Number(h);!o&&_?o=_:l===-1&&(l=t+f)}}l!==-1&&s(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let c=!1,u="",d=i.length;for(let f=1;f<e.length;++f){const h=e[f];switch(h.type){case"space":c=!0;case"newline":d+=h.source.length;break;case"comment":n&&!c&&s(h,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),d+=h.source.length,u=h.source.substring(1);break;case"error":s(h,"UNEXPECTED_TOKEN",h.message),d+=h.source.length;break;default:{const _=`Unexpected token in block scalar header: ${h.type}`;s(h,"UNEXPECTED_TOKEN",_);const g=h.source;g&&typeof g=="string"&&(d+=g.length)}}}return{mode:r,indent:o,chomp:a,comment:u,length:d}}function Ife(t){const e=t.split(/\n( *)/),n=e[0],s=n.match(/^( *)/),r=[s!=null&&s[1]?[s[1],n.slice(s[1].length)]:["",n]];for(let o=1;o<e.length;o+=2)r.push([e[o],e[o+1]]);return r}function kR(t,e,n){const{offset:s,type:i,source:r,end:o}=t;let a,l;const c=(f,h,_)=>n(s+f,h,_);switch(i){case"scalar":a=Je.PLAIN,l=Dfe(r,c);break;case"single-quoted-scalar":a=Je.QUOTE_SINGLE,l=Nfe(r,c);break;case"double-quoted-scalar":a=Je.QUOTE_DOUBLE,l=Ffe(r,c);break;default:return n(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[s,s+r.length,s+r.length]}}const u=s+r.length,d=Id(o,u,e,n);return{value:l,type:a,comment:d.comment,range:[s,u,d.offset]}}function Dfe(t,e){let n="";switch(t[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${t[0]}`;break}case"@":case"`":{n=`reserved character ${t[0]}`;break}}return n&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),OR(t)}function Nfe(t,e){return(t[t.length-1]!=="'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing 'quote"),OR(t.slice(1,-1)).replace(/''/g,"'")}function OR(t){var l;let e,n;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let s=e.exec(t);if(!s)return t;let i=s[1],r=" ",o=e.lastIndex;for(n.lastIndex=o;s=n.exec(t);)s[1]===""?r===`
`?i+=r:r=`
`:(i+=r+s[1],r=" "),o=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=o,s=a.exec(t),i+r+((l=s==null?void 0:s[1])!=null?l:"")}function Ffe(t,e){let n="";for(let s=1;s<t.length-1;++s){const i=t[s];if(!(i==="\r"&&t[s+1]===`
`))if(i===`
`){const{fold:r,offset:o}=$fe(t,s);n+=r,s=o}else if(i==="\\"){let r=t[++s];const o=Ufe[r];if(o)n+=o;else if(r===`
`)for(r=t[s+1];r===" "||r==="	";)r=t[++s+1];else if(r==="\r"&&t[s+1]===`
`)for(r=t[++s+1];r===" "||r==="	";)r=t[++s+1];else if(r==="x"||r==="u"||r==="U"){const a={x:2,u:4,U:8}[r];n+=Bfe(t,s+1,a,e),s+=a}else{const a=t.substr(s-1,2);e(s-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),n+=a}}else if(i===" "||i==="	"){const r=s;let o=t[s+1];for(;o===" "||o==="	";)o=t[++s+1];o!==`
`&&!(o==="\r"&&t[s+2]===`
`)&&(n+=s>r?t.slice(r,s+1):i)}else n+=i}return(t[t.length-1]!=='"'||t.length===1)&&e(t.length,"MISSING_CHAR",'Missing closing "quote'),n}function $fe(t,e){let n="",s=t[e+1];for(;(s===" "||s==="	"||s===`
`||s==="\r")&&!(s==="\r"&&t[e+2]!==`
`);)s===`
`&&(n+=`
`),e+=1,s=t[e+1];return n||(n=" "),{fold:n,offset:e}}const Ufe={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"\x85",_:"\xA0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function Bfe(t,e,n,s){const i=t.substr(e,n),o=i.length===n&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(o)){const a=t.substr(e-2,n+2);return s(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}function LR(t,e,n,s){const{value:i,type:r,comment:o,range:a}=e.type==="block-scalar"?PR(e,t.options.strict,s):kR(e,t.options.strict,s),l=n?t.directives.tagName(n.source,d=>s(n,"TAG_RESOLVE_FAILED",d)):null,c=n&&l?zfe(t.schema,i,l,n,s):e.type==="scalar"?Gfe(t,i,e,s):t.schema[fr];let u;try{const d=c.resolve(i,f=>s(n!=null?n:e,"TAG_RESOLVE_FAILED",f),t.options);u=Bt(d)?d:new Je(d)}catch(d){const f=d instanceof Error?d.message:String(d);s(n!=null?n:e,"TAG_RESOLVE_FAILED",f),u=new Je(i)}return u.range=a,u.source=i,r&&(u.type=r),l&&(u.tag=l),c.format&&(u.format=c.format),o&&(u.comment=o),u}function zfe(t,e,n,s,i){var a;if(n==="!")return t[fr];const r=[];for(const l of t.tags)if(!l.collection&&l.tag===n)if(l.default&&l.test)r.push(l);else return l;for(const l of r)if((a=l.test)!=null&&a.test(e))return l;const o=t.knownTags[n];return o&&!o.collection?(t.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(i(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),t[fr])}function Gfe({directives:t,schema:e},n,s,i){var o;const r=e.tags.find(a=>{var l;return a.default&&((l=a.test)==null?void 0:l.test(n))})||e[fr];if(e.compat){const a=(o=e.compat.find(l=>{var c;return l.default&&((c=l.test)==null?void 0:c.test(n))}))!=null?o:e[fr];if(r.tag!==a.tag){const l=t.tagString(r.tag),c=t.tagString(a.tag),u=`Value may be parsed as either ${l} or ${c}`;i(s,"TAG_RESOLVE_FAILED",u,!0)}}return r}function Vfe(t,e,n){if(e){n===null&&(n=e.length);for(let s=n-1;s>=0;--s){let i=e[s];switch(i.type){case"space":case"comment":case"newline":t-=i.source.length;continue}for(i=e[++s];(i==null?void 0:i.type)==="space";)t+=i.source.length,i=e[++s];break}}return t}const Hfe={composeNode:IR,composeEmptyNode:Hv};function IR(t,e,n,s){const{spaceBefore:i,comment:r,anchor:o,tag:a}=n;let l,c=!0;switch(e.type){case"alias":l=Wfe(t,e,s),(o||a)&&s(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":l=LR(t,e,a,s),o&&(l.anchor=o.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":l=Ofe(Hfe,t,e,a,s),o&&(l.anchor=o.source.substring(1));break;default:{const u=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;s(e,"UNEXPECTED_TOKEN",u),l=Hv(t,e.offset,void 0,null,n,s),c=!1}}return o&&l.anchor===""&&s(o,"BAD_ALIAS","Anchor cannot be an empty string"),i&&(l.spaceBefore=!0),r&&(e.type==="scalar"&&e.source===""?l.comment=r:l.commentBefore=r),t.options.keepSourceTokens&&c&&(l.srcToken=e),l}function Hv(t,e,n,s,{spaceBefore:i,comment:r,anchor:o,tag:a},l){const c={type:"scalar",offset:Vfe(e,n,s),indent:-1,source:""},u=LR(t,c,a,l);return o&&(u.anchor=o.source.substring(1),u.anchor===""&&l(o,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(u.spaceBefore=!0),r&&(u.comment=r),u}function Wfe({options:t},{offset:e,source:n,end:s},i){const r=new nm(n.substring(1));r.source===""&&i(e,"BAD_ALIAS","Alias cannot be an empty string"),r.source.endsWith(":")&&i(e+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=e+n.length,a=Id(s,o,t.strict,i);return r.range=[e,o,a.offset],a.comment&&(r.comment=a.comment),r}function jfe(t,e,{offset:n,start:s,value:i,end:r},o){const a=Object.assign({_directives:e},t),l=new wc(void 0,a),c={atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},u=Zl(s,{indicator:"doc-start",next:i!=null?i:r==null?void 0:r[0],offset:n,onError:o,startOnNewline:!0});u.found&&(l.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!u.hasNewline&&o(u.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=i?IR(c,i,u,o):Hv(c,u.end,s,null,u,o);const d=l.contents.range[2],f=Id(r,d,!1,o);return f.comment&&(l.comment=f.comment),l.range=[n,d,f.offset],l}function qc(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];const{offset:e,source:n}=t;return[e,e+(typeof n=="string"?n.length:1)]}function rE(t){var i;let e="",n=!1,s=!1;for(let r=0;r<t.length;++r){const o=t[r];switch(o[0]){case"#":e+=(e===""?"":s?`

`:`
`)+(o.substring(1)||" "),n=!0,s=!1;break;case"%":((i=t[r+1])==null?void 0:i[0])!=="#"&&(r+=1),n=!1;break;default:n||(s=!0),n=!1}}return{comment:e,afterEmptyLine:s}}class Wv{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,s,i,r)=>{const o=qc(n);r?this.warnings.push(new CR(o,s,i)):this.errors.push(new jo(o,s,i))},this.directives=new Bn({version:e.version||"1.2"}),this.options=e}decorate(e,n){const{comment:s,afterEmptyLine:i}=rE(this.prelude);if(s){const r=e.contents;if(n)e.comment=e.comment?`${e.comment}
${s}`:s;else if(i||e.directives.docStart||!r)e.commentBefore=s;else if(Qt(r)&&!r.flow&&r.items.length>0){let o=r.items[0];Xt(o)&&(o=o.key);const a=o.commentBefore;o.commentBefore=a?`${s}
${a}`:s}else{const o=r.commentBefore;r.commentBefore=o?`${s}
${o}`:s}}n?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:rE(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,n=!1,s=-1){for(const i of e)yield*this.next(i);yield*this.end(n,s)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(n,s,i)=>{const r=qc(e);r[0]+=n,this.onError(r,"BAD_DIRECTIVE",s,i)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const n=jfe(this.options,this.directives,e,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const n=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,s=new jo(qc(e),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(s):this.doc.errors.push(s);break}case"doc-end":{if(!this.doc){const s="Unexpected doc-end without preceding document";this.errors.push(new jo(qc(e),"UNEXPECTED_TOKEN",s));break}this.doc.directives.docEnd=!0;const n=Id(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const s=this.doc.comment;this.doc.comment=s?`${s}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new jo(qc(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const s=Object.assign({_directives:this.directives},this.options),i=new wc(void 0,s);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,n,n],this.decorate(i,!1),yield i}}}function Yfe(t,e=!0,n){if(t){const s=(i,r,o)=>{const a=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(n)n(a,r,o);else throw new jo([a,a+1],r,o)};switch(t.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return kR(t,e,s);case"block-scalar":return PR(t,e,s)}}return null}function qfe(t,e){var c;const{implicitKey:n=!1,indent:s,inFlow:i=!1,offset:r=-1,type:o="PLAIN"}=e,a=Od({type:o,value:t},{implicitKey:n,indent:s>0?" ".repeat(s):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}}),l=(c=e.end)!=null?c:[{type:"newline",offset:-1,indent:s,source:`
`}];switch(a[0]){case"|":case">":{const u=a.indexOf(`
`),d=a.substring(0,u),f=a.substring(u+1)+`
`,h=[{type:"block-scalar-header",offset:r,indent:s,source:d}];return DR(h,l)||h.push({type:"newline",offset:-1,indent:s,source:`
`}),{type:"block-scalar",offset:r,indent:s,props:h,source:f}}case'"':return{type:"double-quoted-scalar",offset:r,indent:s,source:a,end:l};case"'":return{type:"single-quoted-scalar",offset:r,indent:s,source:a,end:l};default:return{type:"scalar",offset:r,indent:s,source:a,end:l}}}function Kfe(t,e,n={}){let{afterKey:s=!1,implicitKey:i=!1,inFlow:r=!1,type:o}=n,a="indent"in t?t.indent:null;if(s&&typeof a=="number"&&(a+=2),!o)switch(t.type){case"single-quoted-scalar":o="QUOTE_SINGLE";break;case"double-quoted-scalar":o="QUOTE_DOUBLE";break;case"block-scalar":{const c=t.props[0];if(c.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o=c.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:o="PLAIN"}const l=Od({type:o,value:e},{implicitKey:i||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:r,options:{blockQuote:!0,lineWidth:-1}});switch(l[0]){case"|":case">":Xfe(t,l);break;case'"':e_(t,l,"double-quoted-scalar");break;case"'":e_(t,l,"single-quoted-scalar");break;default:e_(t,l,"scalar")}}function Xfe(t,e){const n=e.indexOf(`
`),s=e.substring(0,n),i=e.substring(n+1)+`
`;if(t.type==="block-scalar"){const r=t.props[0];if(r.type!=="block-scalar-header")throw new Error("Invalid block scalar header");r.source=s,t.source=i}else{const{offset:r}=t,o="indent"in t?t.indent:-1,a=[{type:"block-scalar-header",offset:r,indent:o,source:s}];DR(a,"end"in t?t.end:void 0)||a.push({type:"newline",offset:-1,indent:o,source:`
`});for(const l of Object.keys(t))l!=="type"&&l!=="offset"&&delete t[l];Object.assign(t,{type:"block-scalar",indent:o,props:a,source:i})}}function DR(t,e){if(e)for(const n of e)switch(n.type){case"space":case"comment":t.push(n);break;case"newline":return t.push(n),!0}return!1}function e_(t,e,n){switch(t.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":t.type=n,t.source=e;break;case"block-scalar":{const s=t.props.slice(1);let i=e.length;t.props[0].type==="block-scalar-header"&&(i-=t.props[0].source.length);for(const r of s)r.offset+=i;delete t.props,Object.assign(t,{type:n,source:e,end:s});break}case"block-map":case"block-seq":{const s=t.offset+e.length,i={type:"newline",offset:s,indent:t.indent,source:`
`};delete t.items,Object.assign(t,{type:n,source:e,end:[i]});break}default:{const s="indent"in t?t.indent:-1,i="end"in t&&Array.isArray(t.end)?t.end.filter(r=>r.type==="space"||r.type==="comment"||r.type==="newline"):[];for(const r of Object.keys(t))r!=="type"&&r!=="offset"&&delete t[r];Object.assign(t,{type:n,indent:s,source:e,end:i})}}}const Zfe=t=>"type"in t?qh(t):oh(t);function qh(t){switch(t.type){case"block-scalar":{let e="";for(const n of t.props)e+=qh(n);return e+t.source}case"block-map":case"block-seq":{let e="";for(const n of t.items)e+=oh(n);return e}case"flow-collection":{let e=t.start.source;for(const n of t.items)e+=oh(n);for(const n of t.end)e+=n.source;return e}case"document":{let e=oh(t);if(t.end)for(const n of t.end)e+=n.source;return e}default:{let e=t.source;if("end"in t&&t.end)for(const n of t.end)e+=n.source;return e}}}function oh({start:t,key:e,sep:n,value:s}){let i="";for(const r of t)i+=r.source;if(e&&(i+=qh(e)),n)for(const r of n)i+=r.source;return s&&(i+=qh(s)),i}const yy=Symbol("break visit"),Jfe=Symbol("skip children"),NR=Symbol("remove item");function ma(t,e){"type"in t&&t.type==="document"&&(t={start:t.start,value:t.value}),FR(Object.freeze([]),t,e)}ma.BREAK=yy;ma.SKIP=Jfe;ma.REMOVE=NR;ma.itemAtPath=(t,e)=>{let n=t;for(const[s,i]of e){const r=n==null?void 0:n[s];if(r&&"items"in r)n=r.items[i];else return}return n};ma.parentCollection=(t,e)=>{const n=ma.itemAtPath(t,e.slice(0,-1)),s=e[e.length-1][0],i=n==null?void 0:n[s];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function FR(t,e,n){let s=n(e,t);if(typeof s=="symbol")return s;for(const i of["key","value"]){const r=e[i];if(r&&"items"in r){for(let o=0;o<r.items.length;++o){const a=FR(Object.freeze(t.concat([[i,o]])),r.items[o],n);if(typeof a=="number")o=a-1;else{if(a===yy)return yy;a===NR&&(r.items.splice(o,1),o-=1)}}typeof s=="function"&&i==="key"&&(s=s(e,t))}}return typeof s=="function"?s(e,t):s}const hm="\uFEFF",pm="",mm="",cd="",Qfe=t=>!!t&&"items"in t,ehe=t=>!!t&&(t.type==="scalar"||t.type==="single-quoted-scalar"||t.type==="double-quoted-scalar"||t.type==="block-scalar");function the(t){switch(t){case hm:return"<BOM>";case pm:return"<DOC>";case mm:return"<FLOW_END>";case cd:return"<SCALAR>";default:return JSON.stringify(t)}}function $R(t){switch(t){case hm:return"byte-order-mark";case pm:return"doc-mode";case mm:return"flow-error-end";case cd:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}var nhe=Object.freeze(Object.defineProperty({__proto__:null,BOM:hm,DOCUMENT:pm,FLOW_END:mm,SCALAR:cd,isCollection:Qfe,isScalar:ehe,prettyToken:the,tokenType:$R,createScalarToken:qfe,resolveAsScalar:Yfe,setScalarValue:Kfe,stringify:Zfe,visit:ma},Symbol.toStringTag,{value:"Module"}));function ys(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const oE="0123456789ABCDEFabcdef".split(""),she="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),t_=",[]{}".split(""),ihe=` ,[]{}
\r	`.split(""),n_=t=>!t||ihe.includes(t);class UR{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,n=!1){var i;e&&(this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null),this.atEnd=!n;let s=(i=this.next)!=null?i:"stream";for(;s&&(n||this.hasChars(1));)s=yield*this.parseNext(s)}atLineEnd(){let e=this.pos,n=this.buffer[e];for(;n===" "||n==="	";)n=this.buffer[++e];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let n=this.buffer[e];if(this.indentNext>0){let s=0;for(;n===" ";)n=this.buffer[++s+e];if(n==="\r"){const i=this.buffer[s+e+1];if(i===`
`||!i&&!this.atEnd)return e+s+1}return n===`
`||s>=this.indentNext||!n&&!this.atEnd?e+s:-1}if(n==="-"||n==="."){const s=this.buffer.substr(e,3);if((s==="---"||s==="...")&&ys(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===hm&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let n=e.length;const s=e.indexOf("#");if(s!==-1){const r=e[s-1];(r===" "||r==="	")&&(n=s-1)}for(;;){const r=e[n-1];if(r===" "||r==="	")n-=1;else break}const i=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-n),yield*this.pushNewline(),"stream"}return yield pm,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if(n==="---"&&ys(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(n==="..."&&ys(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!ys(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&ys(n)){const s=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=s,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(e[n]){case"#":yield*this.pushCount(e.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(n_),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,n,s=-1;do e=yield*this.pushNewline(),e>0?(n=yield*this.pushSpaces(!1),this.indentValue=s=n):n=0,n+=yield*this.pushSpaces(!0);while(e+n>0);const i=this.getLine();if(i===null)return this.setNext("flow");if((s!==-1&&s<this.indentNext&&i[0]!=="#"||s===0&&(i.startsWith("---")||i.startsWith("..."))&&ys(i[3]))&&!(s===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield mm,yield*this.parseLineStart();let r=0;for(;i[r]===",";)r+=yield*this.pushCount(1),r+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(r+=yield*this.pushIndicators(),i[r]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-r),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(n_),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||ys(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let n=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let r=0;for(;this.buffer[n-1-r]==="\\";)r+=1;if(r%2===0)break;n=this.buffer.indexOf('"',n+1)}const s=this.buffer.substring(0,n);let i=s.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){const r=this.continueScalar(i+1);if(r===-1)break;i=s.indexOf(`
`,r)}i!==-1&&(n=i-(s[i-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const n=this.buffer[++e];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>ys(n)||n==="#")}*parseBlockScalar(){let e=this.pos-1,n=0,s;e:for(let i=this.pos;s=this.buffer[i];++i)switch(s){case" ":n+=1;break;case`
`:e=i,n=0;break;case"\r":{const r=this.buffer[i+1];if(!r&&!this.atEnd)return this.setNext("block-scalar");if(r===`
`)break}default:break e}if(!s&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext+=this.blockScalarIndent;do{const i=this.continueScalar(e+1);if(i===-1)break;e=this.buffer.indexOf(`
`,i)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}if(!this.blockScalarKeep)do{let i=e-1,r=this.buffer[i];r==="\r"&&(r=this.buffer[--i]);const o=i;for(;r===" "||r==="	";)r=this.buffer[--i];if(r===`
`&&i>=this.pos&&i+1+n>o)e=i;else break}while(!0);return yield cd,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let n=this.pos-1,s=this.pos-1,i;for(;i=this.buffer[++s];)if(i===":"){const r=this.buffer[s+1];if(ys(r)||e&&r===",")break;n=s}else if(ys(i)){let r=this.buffer[s+1];if(i==="\r"&&(r===`
`?(s+=1,i=`
`,r=this.buffer[s+1]):n=s),r==="#"||e&&t_.includes(r))break;if(i===`
`){const o=this.continueScalar(s+1);if(o===-1)break;s=Math.max(s,o-2)}}else{if(e&&t_.includes(i))break;n=s}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield cd,yield*this.pushToIndex(n+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,n){const s=this.buffer.slice(this.pos,e);return s?(yield s,this.pos+=s.length,s.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(n_))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,n=this.charAt(1);if(ys(n)||e&&t_.includes(n))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,n=this.buffer[e];for(;!ys(n)&&n!==">";)n=this.buffer[++e];return yield*this.pushToIndex(n===">"?e+1:e,!1)}else{let e=this.pos+1,n=this.buffer[e];for(;n;)if(she.includes(n))n=this.buffer[++e];else if(n==="%"&&oE.includes(this.buffer[e+1])&&oE.includes(this.buffer[e+2]))n=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let n=this.pos-1,s;do s=this.buffer[++n];while(s===" "||e&&s==="	");const i=n-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=n),i}*pushUntil(e){let n=this.pos,s=this.buffer[n];for(;!e(s);)s=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class BR{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let n=0,s=this.lineStarts.length;for(;n<s;){const r=n+s>>1;this.lineStarts[r]<e?n=r+1:s=r}if(this.lineStarts[n]===e)return{line:n+1,col:1};if(n===0)return{line:0,col:e};const i=this.lineStarts[n-1];return{line:n,col:e-i+1}}}}function Gs(t,e){for(let n=0;n<t.length;++n)if(t[n].type===e)return!0;return!1}function aE(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function zR(t){switch(t==null?void 0:t.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Df(t){var e;switch(t.type){case"document":return t.start;case"block-map":{const n=t.items[t.items.length-1];return(e=n.sep)!=null?e:n.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function el(t){var n;if(t.length===0)return[];let e=t.length;e:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((n=t[++e])==null?void 0:n.type)==="space";);return t.splice(e,t.length)}function lE(t){if(t.start.type==="flow-seq-start")for(const e of t.items)e.sep&&!e.value&&!Gs(e.start,"explicit-key-ind")&&!Gs(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,zR(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class jv{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new UR,this.onNewLine=e}*parse(e,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const s of this.lexer.lex(e,n))yield*this.next(s);n||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const n=$R(e);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const s=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:s,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const n=e!=null?e:this.stack.pop();if(n)if(this.stack.length===0)yield n;else{const s=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in s?s.indent:0:n.type==="flow-collection"&&s.type==="document"&&(n.indent=0),n.type==="flow-collection"&&lE(n),s.type){case"document":s.value=n;break;case"block-scalar":s.props.push(n);break;case"block-map":{const i=s.items[s.items.length-1];if(i.value){s.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=n;else{Object.assign(i,{key:n,sep:[]}),this.onKeyLine=!Gs(i.start,"explicit-key-ind");return}break}case"block-seq":{const i=s.items[s.items.length-1];i.value?s.items.push({start:[],value:n}):i.value=n;break}case"flow-collection":{const i=s.items[s.items.length-1];!i||i.value?s.items.push({start:[],key:n,sep:[]}):i.sep?i.value=n:Object.assign(i,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((s.type==="document"||s.type==="block-map"||s.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const i=n.items[n.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&aE(i.start)===-1&&(n.indent===0||i.start.every(r=>r.type!=="comment"||r.indent<n.indent))&&(s.type==="document"?s.end=i.start:s.items.push({start:i.start}),n.items.splice(-1,1))}}else{const s="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:s}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{aE(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const n=this.startBlockValue(e);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const n=Df(this.peek(2)),s=el(n);let i;e.end?(i=e.end,i.push(this.sourceToken),delete e.end):i=[this.sourceToken];const r={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:s,key:e,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=r}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){var s;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const i="end"in n.value?n.value.end:void 0,r=Array.isArray(i)?i[i.length-1]:void 0;(r==null?void 0:r.type)==="comment"?i==null||i.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){const i=e.items[e.items.length-2],r=(s=i==null?void 0:i.value)==null?void 0:s.end;if(Array.isArray(r)){Array.prototype.push.apply(r,n.start),r.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const i=!this.onKeyLine&&this.indent===e.indent&&n.sep;let r=[];if(i&&n.sep&&!n.value){const o=[];for(let a=0;a<n.sep.length;++a){const l=n.sep[a];switch(l.type){case"newline":o.push(a);break;case"space":break;case"comment":l.indent>e.indent&&(o.length=0);break;default:o.length=0}}o.length>=2&&(r=n.sep.splice(o[1]))}switch(this.type){case"anchor":case"tag":i||n.value?(r.push(this.sourceToken),e.items.push({start:r}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!Gs(n.start,"explicit-key-ind")?n.start.push(this.sourceToken):i||n.value?(r.push(this.sourceToken),e.items.push({start:r})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(Gs(n.start,"explicit-key-ind"))if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Gs(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]});else if(zR(n.key)&&!Gs(n.sep,"newline")){const o=el(n.start),a=n.key,l=n.sep;l.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:a,sep:l}]})}else r.length>0?n.sep=n.sep.concat(r,this.sourceToken):n.sep.push(this.sourceToken);else if(Gs(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const o=el(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||i?e.items.push({start:r,key:null,sep:[this.sourceToken]}):Gs(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const o=this.flowScalar(this.type);i||n.value?(e.items.push({start:r,key:o,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(o):(Object.assign(n,{key:o,sep:[]}),this.onKeyLine=!0);return}default:{const o=this.startBlockValue(e);if(o){i&&o.type!=="block-seq"&&Gs(n.start,"explicit-key-ind")&&e.items.push({start:r}),this.stack.push(o);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){var s;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){const i="end"in n.value?n.value.end:void 0,r=Array.isArray(i)?i[i.length-1]:void 0;(r==null?void 0:r.type)==="comment"?i==null||i.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){const i=e.items[e.items.length-2],r=(s=i==null?void 0:i.value)==null?void 0:s.end;if(Array.isArray(r)){Array.prototype.push.apply(r,n.start),r.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||Gs(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){const i=this.startBlockValue(e);if(i){this.stack.push(i);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const n=e.items[e.items.length-1];if(this.type==="flow-error-end"){let s;do yield*this.pop(),s=this.peek(1);while(s&&s.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?e.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);!n||n.value?e.items.push({start:[],key:i,sep:[]}):n.sep?this.stack.push(i):Object.assign(n,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const s=this.startBlockValue(e);s?this.stack.push(s):(yield*this.pop(),yield*this.step())}else{const s=this.peek(2);if(s.type==="block-map"&&(this.type==="map-value-ind"&&s.indent===e.indent||this.type==="newline"&&!s.items[s.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&s.type!=="flow-collection"){const i=Df(s),r=el(i);lE(e);const o=e.end.splice(1,e.end.length);o.push(this.sourceToken);const a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:r,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=Df(e),s=el(n);return s.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s}]}}case"map-value-ind":{this.onKeyLine=!0;const n=Df(e),s=el(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,n){return this.type!=="comment"||this.indent<=n?!1:e.every(s=>s.type==="newline"||s.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function GR(t){const e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new BR||null,prettyErrors:e}}function rhe(t,e={}){const{lineCounter:n,prettyErrors:s}=GR(e),i=new jv(n==null?void 0:n.addNewLine),r=new Wv(e),o=Array.from(r.compose(i.parse(t)));if(s&&n)for(const a of o)a.errors.forEach(Yh(t,n)),a.warnings.forEach(Yh(t,n));return o.length>0?o:Object.assign([],{empty:!0},r.streamInfo())}function VR(t,e={}){const{lineCounter:n,prettyErrors:s}=GR(e),i=new jv(n==null?void 0:n.addNewLine),r=new Wv(e);let o=null;for(const a of r.compose(i.parse(t),!0,t.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new jo(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return s&&n&&(o.errors.forEach(Yh(t,n)),o.warnings.forEach(Yh(t,n))),o}function ohe(t,e,n){let s;typeof e=="function"?s=e:n===void 0&&e&&typeof e=="object"&&(n=e);const i=VR(t,n);if(!i)return null;if(i.warnings.forEach(r=>uR(i.options.logLevel,r)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:s},n))}function ahe(t,e,n){var i;let s=null;if(typeof e=="function"||Array.isArray(e)?s=e:n===void 0&&e&&(n=e),typeof n=="string"&&(n=n.length),typeof n=="number"){const r=Math.round(n);n=r<1?void 0:r>8?{indent:8}:{indent:r}}if(t===void 0){const{keepUndefined:r}=(i=n!=null?n:e)!=null?i:{};if(!r)return}return new wc(t,s,n).toString(n)}var by=Object.freeze(Object.defineProperty({__proto__:null,CST:nhe,Composer:Wv,Document:wc,Schema:fm,YAMLError:Vv,YAMLParseError:jo,YAMLWarning:CR,Alias:nm,isAlias:wa,isCollection:Qt,isDocument:kd,isMap:xa,isNode:an,isPair:Xt,isScalar:Bt,isSeq:yc,Pair:On,Scalar:Je,YAMLMap:Es,YAMLSeq:Sa,Lexer:UR,LineCounter:BR,Parser:jv,parse:ohe,parseAllDocuments:rhe,parseDocument:VR,stringify:ahe,visit:co,visitAsync:tm},Symbol.toStringTag,{value:"Module"}));const lhe=Ve({name:"ProlfileMetadata",setup(){const t=lc();return{info:is(),state:Ds(),profile:Zt(),serial:xc(),Features:Ft(()=>t.Features),GyroType:Ft(()=>t.GyroType)}},computed:{date(){return new Date(this.profile.meta.datetime*1e3)},features(){return ks(this.Features).getKeys().filter((t,e)=>this.info.features&1<<e+1).join(", ")},gyroNames(){return ks(this.GyroType).getKeys()},fileRef(){return this.$refs.file},downloadAnchorRef(){return this.$refs.downloadAnchor}},methods:{timeAgo:vA,uploadProfile(){const t=new FileReader;t.addEventListener("load",e=>{var n,s;if((n=e==null?void 0:e.target)!=null&&n.result){const i=by.parse((s=e==null?void 0:e.target)==null?void 0:s.result);this.profile.apply_profile(i)}}),this.fileRef.oninput=()=>{var e,n;!((n=(e=this.fileRef)==null?void 0:e.files)!=null&&n.length)||t.readAsText(this.fileRef.files[0])},this.fileRef.click()},downloadProfile(){return yt.get(pn.Profile).then(t=>{const e=encodeURIComponent(by.stringify(t)),n="data:text/yaml;charset=utf-8,"+e,s=this.date.toISOString().substring(0,10),r=`Profile_${t.meta.name.replace(/\0/g,"")}_${s}.yaml`;this.downloadAnchorRef.setAttribute("href",n),this.downloadAnchorRef.setAttribute("download",r),this.downloadAnchorRef.click()})}}}),che={class:"card"},uhe=p("header",{class:"card-header"},[p("p",{class:"card-header-title"},"Metadata")],-1),dhe={class:"card-content"},fhe={class:"content column-narrow field-is-2"},hhe={class:"field is-horizontal"},phe=p("div",{class:"field-label"},[p("label",{class:"label",for:"name"},"Profile Name")],-1),mhe={class:"field-body"},ghe=p("div",{class:"field"},[p("div",{class:"control is-expanded"})],-1),_he={class:"field is-horizontal"},yhe=p("div",{class:"field-label"},[p("label",{class:"label"},"Profile Last Modified")],-1),bhe={class:"field-body"},vhe={class:"field"},whe={class:"control is-expanded"},xhe=["value"],She={class:"field is-horizontal"},Ehe=p("div",{class:"field-label"},[p("label",{class:"label"},"Target Name")],-1),The={class:"field-body"},Mhe={class:"field"},Ahe={class:"control is-expanded"},Che=["value"],Rhe={key:0,class:"field is-horizontal"},Phe=p("div",{class:"field-label"},[p("label",{class:"label"},"Features")],-1),khe={class:"field-body"},Ohe={class:"field"},Lhe={class:"control is-expanded"},Ihe=["value"],Dhe={key:1,class:"field is-horizontal"},Nhe=p("div",{class:"field-label"},[p("label",{class:"label"},"Gyro Type")],-1),Fhe={class:"field-body"},$he={class:"field"},Uhe={class:"control is-expanded"},Bhe=["value"],zhe={class:"field is-horizontal"},Ghe=p("div",{class:"field-label"},[p("label",{class:"label"},"Version")],-1),Vhe={class:"field-body"},Hhe={class:"field"},Whe={class:"control is-expanded"},jhe=["value"],Yhe={class:"card-footer"},qhe=de(" Save Profile "),Khe=de(" Load Profile "),Xhe=de(" Reset Profile "),Zhe={accept:".json, .yaml",type:"file",ref:"file",style:{display:"none"}},Jhe={ref:"downloadAnchor",target:"_blank"};function Qhe(t,e,n,s,i,r){const o=xe("spinner-btn");return Y(),se("div",che,[uhe,p("div",dhe,[p("div",fhe,[p("div",hhe,[phe,p("div",mhe,[ghe,Ue(p("input",{class:"input",type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>t.profile.meta.name=a)},null,512),[[We,t.profile.meta.name]])])]),p("div",_he,[yhe,p("div",bhe,[p("div",vhe,[p("div",whe,[p("input",{class:"input is-static",value:t.timeAgo(t.date),readonly:""},null,8,xhe)])])])]),p("div",She,[Ehe,p("div",The,[p("div",Mhe,[p("div",Ahe,[p("input",{class:"input is-static",value:t.info.target_name,readonly:""},null,8,Che)])])])]),t.info.features!=null?(Y(),se("div",Rhe,[Phe,p("div",khe,[p("div",Ohe,[p("div",Lhe,[p("input",{class:"input is-static",value:t.features,readonly:""},null,8,Ihe)])])])])):je("",!0),t.info.gyro_id!=null?(Y(),se("div",Dhe,[Nhe,p("div",Fhe,[p("div",$he,[p("div",Uhe,[p("input",{class:"input is-static",value:t.gyroNames[t.info.gyro_id],readonly:""},null,8,Bhe)])])])])):je("",!0),p("div",zhe,[Ghe,p("div",Vhe,[p("div",Hhe,[p("div",Whe,[p("input",{class:"input is-static",value:t.info.git_version,readonly:""},null,8,jhe)])])])])])]),p("footer",Yhe,[j(o,{class:"card-footer-item",onClick:t.downloadProfile},{default:Xe(()=>[qhe]),_:1},8,["onClick"]),j(o,{class:"card-footer-item",onClick:t.uploadProfile,disabled:t.info.is_read_only},{default:Xe(()=>[Khe]),_:1},8,["onClick","disabled"]),j(o,{class:"card-footer-item is-warning",onClick:t.profile.reset},{default:Xe(()=>[Xhe]),_:1},8,["onClick"])]),p("input",Zhe,null,512),p("a",Jhe,null,512)])}var epe=Qe(lhe,[["render",Qhe]]);const tpe=Ve({name:"Info",data(){return{updateAvailable:null,appVersion:"0.6.2"}},methods:{doUpdate(){return Uo.update(this.updateAvailable)}},created(){Uo.updatePending()||Uo.checkForUpdate(this.appVersion,t=>this.updateAvailable=t)}}),npe={class:"hero is-primary"},spe={class:"hero-body"},ipe={class:"title"},rpe=de(" QUICKSILVER "),ope={class:"text-muted"},ape=p("p",{class:"subtitle"},[de(" Checkout our "),p("a",{target:"_blank",href:"https://docs.bosshobby.com/"}," Docs "),de(" for help on getting started. ")],-1),lpe={key:0,class:"subtitle"},cpe=de(" Update Now ");function upe(t,e,n,s,i,r){const o=xe("spinner-btn");return Y(),se("section",npe,[p("div",spe,[p("p",ipe,[rpe,p("small",ope,Fe(t.appVersion),1)]),ape,t.updateAvailable?(Y(),se("p",lpe,"New Version available!")):je("",!0),t.updateAvailable?(Y(),bn(o,{key:1,onClick:t.doUpdate},{default:Xe(()=>[cpe]),_:1},8,["onClick"])):je("",!0)])])}var HR=Qe(tpe,[["render",upe]]);const dpe=Ve({name:"SerialPassthrough",setup(){return{info:is(),serial:xc()}},data(){return{serial_port:0,preset:null,presetOptions:[{value:null,text:"Please select an option"},{text:"ExpressLRS",value:{baudrate:42e4,half_duplex:!1,stop_bits:1}},{text:"OpenVTX",value:{baudrate:4800,half_duplex:!0,stop_bits:2}}]}},computed:{serialPorts(){const t=[{value:0,text:"UART_INVALID"}];for(let e=1;e<this.info.usart_ports.length;e++)t.push({value:e,text:this.info.usart_ports[e]});return t}},methods:{start_passthrough(){return this.serial.serial_passthrough({port:this.serial_port,...this.preset||{}})}}}),fpe={class:"card"},hpe={class:"card-header"},ppe=p("p",{class:"card-header-title"},"Serial Passthrough",-1),mpe={class:"card-content"},gpe={class:"content"},_pe={class:"columns"},ype={class:"column is-6"},bpe={class:"field"},vpe=p("label",{class:"label"},"Serial Port",-1),wpe={class:"control is-expanded"},xpe={class:"column is-6"},Spe={class:"field"},Epe=p("label",{class:"label"},"Preset",-1),Tpe={class:"control is-expanded"},Mpe={class:"card-footer"},Ape=p("span",{class:"card-footer-item"},null,-1),Cpe=p("span",{class:"card-footer-item"},null,-1),Rpe=de(" Start ");function Ppe(t,e,n,s,i,r){const o=xe("tooltip"),a=xe("input-select"),l=xe("spinner-btn");return Y(),se("div",fpe,[p("header",hpe,[ppe,j(o,{class:"card-header-icon",entry:"serial_passthrough",size:"lg"})]),p("div",mpe,[p("div",gpe,[p("div",_pe,[p("div",ype,[p("div",bpe,[vpe,p("div",wpe,[j(a,{class:"is-fullwidth",modelValue:t.serial_port,"onUpdate:modelValue":e[0]||(e[0]=c=>t.serial_port=c),modelModifiers:{number:!0},options:t.serialPorts},null,8,["modelValue","options"])])])]),p("div",xpe,[p("div",Spe,[Epe,p("div",Tpe,[j(a,{class:"is-fullwidth",modelValue:t.preset,"onUpdate:modelValue":e[1]||(e[1]=c=>t.preset=c),options:t.presetOptions},null,8,["modelValue","options"])])])])])])]),p("footer",Mpe,[Ape,Cpe,j(l,{class:"card-footer-item",disabled:t.serial_port==0||t.preset==null,onClick:t.start_passthrough},{default:Xe(()=>[Rpe]),_:1},8,["disabled","onClick"])])])}var kpe=Qe(dpe,[["render",Ppe]]);const Ope=Ve({name:"Profile",components:{Info:HR,ProfileMetadata:epe,SerialPassthrough:kpe},setup(){return{info:is(),state:Ds()}}}),Lpe={class:"columns is-multiline"},Ipe={class:"column is-12"},Dpe={class:"column is-12"},Npe={class:"notification is-warning"},Fpe=de(" Incompatible Firmware! "),$pe=p("br",null,null,-1),Upe=de(" Please update to be able to change settings. "),Bpe=p("br",null,null,-1),zpe=de(" Current profile can be exported and loaded. "),Gpe=[Fpe,$pe,Upe,Bpe,zpe],Vpe={class:"notification is-danger"},Hpe=p("br",null,null,-1),Wpe=de(" Please fix the issue to be able to change settings. "),jpe=p("br",null,null,-1),Ype={class:"column is-12"},qpe={class:"column is-12"};function Kpe(t,e,n,s,i,r){const o=xe("Info"),a=xe("ProfileMetadata"),l=xe("SerialPassthrough");return Y(),se("div",Lpe,[p("div",Ipe,[j(o)]),p("div",Dpe,[Ue(p("div",Npe,Gpe,512),[[_h,t.info.quic_protocol_version<5]]),Ue(p("div",Vpe,[de(" Faillop "+Fe(t.state.failloopMessage)+" ("+Fe(t.state.failloop)+") Detected! ",1),Hpe,Wpe,jpe],512),[[_h,t.state.failloop>0]])]),p("div",Ype,[j(a)]),p("div",qpe,[j(l)])])}var Xpe=Qe(Ope,[["render",Kpe]]);function tl(t){return new Promise(e=>{setTimeout(e,t)})}class Zpe{constructor(e){it(this,"progressCallback");this.device=e}onProgress(e){this.progressCallback=e}async open(){await this.device.open(),await this.device.claimInterface(0)}async close(){await this.device.close()}progress(e,n,s){this.progressCallback&&this.progressCallback({task:e,current:n,total:s})}async getString(e){const n=await this.device.controlTransferIn({recipient:"device",requestType:"standard",request:6,value:768|e,index:0},255);if((n==null?void 0:n.status)!="ok")throw new Error(n.status);const s=n.data,i=s.getUint8(0);let r="";for(let o=2;o<i;o+=2){const a=s.getUint16(o,!0);r+=String.fromCharCode(a)}return r}async getInterfaceDescriptor(e){const n=await this.device.controlTransferIn({recipient:"device",requestType:"standard",request:6,value:512,index:0},18+e*9);if((n==null?void 0:n.status)!="ok")throw new Error(n.status);const s=new Uint8Array(n.data.buffer,9+e*9);return{bLength:s[0],bDescriptorType:s[1],bInterfaceNumber:s[2],bAlternateSetting:s[3],bNumEndpoints:s[4],bInterfaceClass:s[5],bInterfaceSubclass:s[6],bInterfaceProtocol:s[7],iInterface:s[8]}}async getFunctionalDescriptor(){const e=await this.device.controlTransferIn({recipient:"interface",requestType:"standard",request:6,value:8448,index:0},255);if((e==null?void 0:e.status)!="ok")throw new Error(e.status);const n=new Uint8Array(e.data.buffer);return{bLength:n[0],bDescriptorType:n[1],bmAttributes:n[2],wDetachTimeOut:n[4]<<8|n[3],wTransferSize:n[6]<<8|n[5],bcdDFUVersion:n[7]}}async getInterfaceDescriptors(e){const n=[],s=this.device.configuration;for(const i of s.interfaces)for(let r=0;r<i.alternates.length;r++){const o=await this.getInterfaceDescriptor(i.interfaceNumber+r);if(o.bInterfaceNumber!=e)continue;const a=await this.getString(o.iInterface);n.push(a)}return n}async controlTransferIn(e,n,s,i){const r=await this.device.controlTransferIn({recipient:"interface",requestType:"class",request:e,value:n,index:s},i);if((r==null?void 0:r.status)!="ok")throw new Error(r.status);return new Uint8Array(r.data.buffer)}async controlTransferOut(e,n,s,i){let r=new ArrayBuffer(0);i&&(r=new ArrayBuffer(i.length),new Uint8Array(r).set(i));const o=await this.device.controlTransferOut({recipient:"interface",requestType:"class",request:e,value:n,index:s},r);if((o==null?void 0:o.status)!="ok")throw new Error(o.status);return o}clearStatus(){const e=async()=>{const s=await this.controlTransferIn(3,0,0,6);if(s[4]==2)return s;const i=s[1]|s[2]<<8|s[3]<<16;return await tl(i),n()},n=async()=>(await this.controlTransferOut(4,0,0),e());return e()}async getChipInfo(){const e=s=>{s=="@External Flash /0x90000000/1001*128Kg,3*128Kg,20*128Ka"&&(s="@External Flash /0x90000000/998*128Kg,1*128Kg,4*128Kg,21*128Ka");const r=s.replace(/[^\x20-\x7E]+/g,"").split("/");if(r.length>3&&(at.info("flash",'parseDescriptor: shrinking long descriptor "'+s+'"'),r.length=3),!r[0].startsWith("@"))return null;const o=r[0].trim().replace("@",""),a=parseInt(r[1]),l=[];let c=0;const u=r[2].split(",");if(u.length<1)return null;for(let f=0;f<u.length;f++){const h=u[f].split("*");if(h.length!=2)return null;const _=parseInt(h[0]);let g=parseInt(h[1]);if(!g)return null;switch(h[1].slice(-2,-1)){case"M":g*=1024;case"K":g*=1024;break}l.push({num_pages:_,start_address:a+c,page_size:g,total_size:_*g}),c+=_*g}return{type:o,start_address:a,sectors:l,total_size:c}};return(await this.getInterfaceDescriptors(0)).map(e).reduce(function(s,i,r){return s[i.type.toLowerCase().replace(" ","_")]=i,s},{})}async loadAddress(e,n=!0){const s=[33,e&255,e>>8&255,e>>16&255,e>>24&255];await this.controlTransferOut(1,0,0,s);const i=await this.controlTransferIn(3,0,0,6);if(i[4]!=4)throw new Error("Failed to request address load");const r=i[1]|i[2]<<8|i[3]<<16;await tl(r);const o=await this.controlTransferIn(3,0,0,6);if(o[4]!=5&&n)throw new Error("Failed to request address load");return o}async unlockOptionBytes(e,n){const s=async()=>{at.info("flash","Initiate read unprotect"),await this.controlTransferOut(1,0,0,[146]);const o=await this.controlTransferIn(3,0,0,6);if(o[4]!=4)throw new Error("Failed to initiate unprotect memory command");const l=(o[1]|o[2]<<8|o[3]<<16)+2e4;await tl(l);try{const c=await this.controlTransferIn(3,0,0,6);throw at.info("flash","Failed to execute unprotect memory command"),at.info("flash",c),new Error("Failed to execute unprotect memory command")}catch{at.info("flash","Unprotect memory command ran successfully. Unplug flight controller. Connect again in DFU mode and try flashing again.")}},i=async()=>{const o=await this.controlTransferIn(2,2,0,n);return(await this.controlTransferIn(3,0,0,6))[4]==9&&o.length==n?(at.info("flash","Option bytes read successfully"),at.info("flash","Chip does not appear read protected"),this.clearStatus()):(at.info("flash","Option bytes could not be read. Quite possibly read protected."),await this.clearStatus(),s())};await this.clearStatus();const r=await this.loadAddress(e,!1);if(r[4]==10&&r[0]==11)return await this.clearStatus(),s();if(r[4]==5)return at.info("flash","Address load for option bytes sector succeeded."),await this.clearStatus(),i();throw new Error("Address load failed")}async erasePages(e){const n=[];for(let i=0;i<e.sectors.length;i++)for(let r=0;r<e.sectors[i].num_pages;r++)n.push({sector:i,page:r});if(n.length===0)throw at.info("flash","Aborting, No flash pages to erase"),new Error("No flash pages to erase");at.info("flash","Executing local chip erase",n);let s=0;for(const i of n){s++,this.progress("erase",s,n.length);const r=i.page*e.sectors[i.sector].page_size+e.sectors[i.sector].start_address,o=[65,r&255,r>>8&255,r>>16&255,r>>24&255];at.info("flash","Erasing. sector "+i.sector+", page "+i.page+" @ 0x"+r.toString(16)),await this.controlTransferOut(1,0,0,o);const a=await this.controlTransferIn(3,0,0,6);if(a[4]!=4)throw new Error("Failed to initiate page erase, page 0x"+r.toString(16));const l=a[1]|a[2]<<8|a[3]<<16;await tl(l);const c=await this.controlTransferIn(3,0,0,6);if(c[4]!=5)if(c[4]==4){if(at.info("flash","erase_page: dfuDNBUSY after timeout, clearing"),await this.clearStatus(),(await this.controlTransferIn(3,0,0,6))[4]!=2)throw new Error("Failed to erase page 0x"+r.toString(16)+" (did not reach dfuIDLE after clearing")}else throw new Error("Failed to erase page 0x"+r.toString(16))}}async upload(e,n){at.info("flash","Writing data ...");const s=e.segment_bytes_total;let i=0;for(const r of e.segments){let o=r.address,a=2,l=0;for(await this.loadAddress(o);l<r.data.length;){let c=n;l+c>r.data.length&&(c=r.data.length-l);const u=r.data.slice(l,l+c);o+=c,l+=c,i+=c,this.progress("write",i,s),this.controlTransferOut(1,a++,0,[...u]);const d=await this.controlTransferIn(3,0,0,6);if(d[4]!=4)throw new Error("Failed to initiate write "+c+"bytes to 0x"+o.toString(16));const f=d[1]|d[2]<<8|d[3]<<16;if(await tl(f),(await this.controlTransferIn(3,0,0,6))[4]!=5)throw new Error("Failed to write "+c+"bytes to 0x"+o.toString(16))}}}async verify(e,n){at.info("flash","Verifying data ...");const s=e.segment_bytes_total;let i=0;for(const r of e.segments){let o=r.address,a=2,l=0;for(await this.clearStatus(),await this.loadAddress(o),await this.clearStatus();l<r.data.length;){let c=n;l+c>r.data.length&&(c=r.data.length-l);const u=await this.controlTransferIn(2,a++,0,c);for(let d=0;d<c;d++)if(u[d]!=r.data[l+d])throw new Error("verify failed");o+=c,l+=c,i+=c,this.progress("verify",i,s)}}}async leave(e){var s;const n=((s=e==null?void 0:e.segments[0])==null?void 0:s.address)||134217728;await this.clearStatus(),await this.loadAddress(n),await this.controlTransferOut(1,0,0),await this.controlTransferIn(3,0,0,6)}async flash(e){const n=await this.getChipInfo(),s=n.internal_flash||n.external_flash;let i=0;if(n.internal_flash?i=s.total_size-(e.start_linear_address-s.start_address):n.external_flash&&(i=s.sectors[2].total_size),e.linear_bytes_total>i)throw new Error(""+(e.linear_bytes_total/1024).toFixed(1)+(i/1024).toFixed(1));let r=2048;try{r=(await this.getFunctionalDescriptor()).wTransferSize}catch{}await this.clearStatus(),n.internal_flash&&await this.unlockOptionBytes(n.option_bytes.start_address,n.option_bytes.total_size),await this.erasePages(s),await this.upload(e,r),await this.verify(e,r),await tl(500),await this.leave(e)}}class Kh{constructor(e,n){it(this,"start_linear_address");it(this,"start_segment_address");it(this,"segments",[]);this.start_linear_address=e,this.start_segment_address=n}get linear_bytes_total(){return this.end_address-this.start_address}get segment_bytes_total(){return this.segments.reduce((e,n)=>e+=n.data.length,0)}get start_address(){return this.segments[0].address}get end_address(){return this.segments[this.segments.length-1].address+this.segments[this.segments.length-1].data.length}static parse(e){let n=!1,s=0,i=0;const r=new Kh(0,0),o=e.split(/\r?\n/);for(const a of o){if(a.length==0||a=="")continue;const l=parseInt(a.substr(1,2),16),c=parseInt(a.substr(3,4),16),u=parseInt(a.substr(7,2),16),d=a.substr(9,l*2),f=Kh.fromHex(d),h=parseInt(a.substr(9+l*2,2),16);let _=l+(c>>8)+c+u&255;for(let g=0;g<l;g++)_=_+f[g]&255;if(_=256-_&255,h!=_)throw new Error("invalid checksum");switch(u){case 0:{const g=s+c;(i==0||g!=i)&&r.segments.push({address:g,data:new Uint8Array}),i=g+l,r.segments[r.segments.length-1].data=$_(r.segments[r.segments.length-1].data,f);break}case 1:if(l!=0)throw new Error("invalid END_OF_FILE");n=!0;break;case 2:if(l!=2||c!=0)throw new Error("invalid EXT_SEGMENT_ADDR");s=parseInt(d,16)<<4;break;case 3:if(l!=4||c!=0)throw new Error("invalid START_SEGMENT_ADDR");r.start_segment_address=parseInt(d,16);break;case 4:if(l!=2||c!=0)throw new Error("invalid EXT_SEGMENT_ADDR");s=parseInt(d,16)<<16;break;case 5:if(l!=4||c!=0)throw new Error("invalid START_LINEAR_ADDR");r.start_linear_address=parseInt(d,16);break}}if(!n)throw new Error("no END_OF_FILE record");return r}static fromHex(e){const n=new Uint8Array(Math.ceil(e.length/2));for(let s=0;s<n.length;s++)n[s]=parseInt(e.substr(s*2,2),16);return n}}const Jpe=[{vendorId:1155,productId:57105}];class Qpe{constructor(){it(this,"progressCallback")}onProgress(e){this.progressCallback=e}async flash(e){const n=await navigator.usb.requestDevice({filters:Jpe}),s=Kh.parse(e),i=new Zpe(n);i.onProgress(r=>{this.progressCallback&&this.progressCallback(r)}),await i.open(),await i.flash(s),await i.close()}}const eme=Ve({inheritAttrs:!1,data(){return{loading:!1}},computed:{filteredAttrs(){const t=/^on[^a-z]/,e={},{$attrs:n}=this;for(const s in n)t.test(s)||(e[s]=n[s]);return e}},methods:{clickHandler(t){const e=this.$attrs.onClick;this.loading=!0,Promise.resolve().then(()=>e(t)).finally(()=>this.loading=!1)}}});function tme(t,e,n,s,i,r){return Y(),se("button",sb({class:["button",{"is-loading":t.loading}]},t.filteredAttrs,{onClick:e[0]||(e[0]=(...o)=>t.clickHandler&&t.clickHandler(...o))}),[Jk(t.$slots,"default")],16)}var WR=Qe(eme,[["render",tme]]);const nme=rs("flash",{state:()=>({firmware_releases:{}}),actions:{fetch_firmware_releases(){return bb.fetchReleases().then(t=>this.firmware_releases=t)}}}),sme=Ve({name:"Flash",components:{SpinnerBtn:WR},setup(){return{flash:nme(),serial:xc(),root:nn()}},data(){return{loading:!1,sourceOptions:[{value:"bosshobby",text:"BossHobby/QUICKSILVER"},{value:"local",text:"Local"}],source:"bosshobby",release:void 0,target:void 0,file:void 0,progress:{}}},computed:{releaseOptions(){return Object.keys(this.flash.firmware_releases)},targetOptions(){if(!this.release)return[];const t=this.flash.firmware_releases[this.release];return t?t.map(e=>({value:e,text:e.name.replace("quicksilver.","")})):[]},canFlash(){return this.loading?!1:this.source=="local"?!!this.file:!!this.target}},methods:{updateFile(){const t=this.$refs.file;t.files&&t.files.length?this.file=t.files[0]:this.file=void 0},onSubmit(t){t.preventDefault();let e;if(this.source=="local"?e=new Promise((s,i)=>{if(!this.file)return i();const r=new FileReader;r.addEventListener("load",o=>{var a;(a=o==null?void 0:o.target)!=null&&a.result?s(o.target.result):i()}),r.readAsText(this.file)}):this.target&&(e=bb.fetchAsset(this.target).then(s=>s.text())),!e)return;const n=new Qpe;return n.onProgress(s=>{const i={...this.progress};i[s.task]=s,this.progress=i}),e.then(s=>n.flash(s)).then(()=>this.root.append_alert({type:"success",msg:"Firmware flashed!"})).catch(s=>{at.error("Flash",s),this.root.append_alert({type:"danger",msg:"Flash failed!"})}).then(()=>this.loading=!1).then(()=>this.progress={})}},created(){this.flash.fetch_firmware_releases().then(()=>{this.release=this.releaseOptions.find(t=>!t.endsWith("-dev"))})}}),ime={class:"columns"},rme={class:"card"},ome={class:"card-header"},ame={class:"card-header-title"},lme=de(" Flash "),cme=de(" Reset to Bootloader "),ume={class:"card-content field-is-3"},dme={class:"field is-horizontal"},fme={class:"field-label is-normal"},hme={class:"label"},pme=de(" Source "),mme={class:"field-body"},gme={class:"field is-narrow"},_me={class:"control"},yme={class:"select is-fullwidth"},bme={key:0,class:"field is-horizontal"},vme={class:"field-label is-medium"},wme={class:"label"},xme=de(" File "),Sme={class:"field-body"},Eme={class:"field"},Tme={class:"file-label"},Mme={class:"file-cta"},Ame={class:"file-icon"},Cme=p("span",{class:"file-label"}," Choose a file\u2026 ",-1),Rme={key:0,class:"file-name"},Pme={key:1,class:"field is-horizontal"},kme={class:"field-label is-normal"},Ome={class:"label"},Lme=de(" Release "),Ime={class:"field-body"},Dme={class:"field is-narrow"},Nme={class:"control"},Fme={class:"select is-fullwidth"},$me={key:2,class:"field is-horizontal"},Ume={class:"field-label is-normal"},Bme={class:"label"},zme=de(" Target "),Gme={class:"field-body"},Vme={class:"field is-narrow"},Hme={class:"control"},Wme={class:"select is-fullwidth"},jme={class:"column is-2"},Yme={class:"column is-10"},qme=["value","max"],Kme={class:"card-footer"},Xme=de(" Flash ");function Zme(t,e,n,s,i,r){const o=xe("tooltip"),a=xe("spinner-btn"),l=xe("input-select"),c=xe("font-awesome-icon");return Y(),se("div",ime,[p("form",{class:"column is-12",onSubmit:e[5]||(e[5]=(...u)=>t.onSubmit&&t.onSubmit(...u))},[p("div",rme,[p("div",ome,[p("p",ame,[lme,j(o,{entry:"flash.reset"})]),j(a,{class:"card-header-button is-info",type:"button",onClick:e[0]||(e[0]=u=>t.serial.hard_reboot())},{default:Xe(()=>[cme]),_:1})]),p("div",ume,[p("div",dme,[p("div",fme,[p("label",hme,[pme,j(o,{entry:"flash.source"})])]),p("div",mme,[p("div",gme,[p("div",_me,[p("div",yme,[j(l,{modelValue:t.source,"onUpdate:modelValue":e[1]||(e[1]=u=>t.source=u),options:t.sourceOptions},null,8,["modelValue","options"])])])])])]),t.source=="local"?(Y(),se("div",bme,[p("div",vme,[p("label",wme,[xme,j(o,{entry:"flash.file-local"})])]),p("div",Sme,[p("div",Eme,[p("div",{class:Rs(["file is-boxed is-medium",{"has-name":t.file}])},[p("label",Tme,[p("input",{class:"file-input",type:"file",onChange:e[2]||(e[2]=u=>t.updateFile()),ref:"file"},null,544),p("span",Mme,[p("span",Ame,[j(c,{icon:"fa-solid fa-upload"})]),Cme]),t.file?(Y(),se("span",Rme,Fe(t.file.name),1)):je("",!0)])],2)])])])):je("",!0),t.source!="local"?(Y(),se("div",Pme,[p("div",kme,[p("label",Ome,[Lme,j(o,{entry:"flash.file-release"})])]),p("div",Ime,[p("div",Dme,[p("div",Nme,[p("div",Fme,[j(l,{modelValue:t.release,"onUpdate:modelValue":e[3]||(e[3]=u=>t.release=u),options:t.releaseOptions},null,8,["modelValue","options"])])])])])])):je("",!0),t.source!="local"?(Y(),se("div",$me,[p("div",Ume,[p("label",Bme,[zme,j(o,{entry:"flash.file-remote"})])]),p("div",Gme,[p("div",Vme,[p("div",Hme,[p("div",Wme,[j(l,{modelValue:t.target,"onUpdate:modelValue":e[4]||(e[4]=u=>t.target=u),options:t.targetOptions},null,8,["modelValue","options"])])])])])])):je("",!0),(Y(!0),se(Ze,null,Ht(t.progress,(u,d)=>(Y(),se("div",{key:d,class:"columns my-2 mx-2"},[p("div",jme,Fe(d),1),p("div",Yme,[p("progress",{class:"progress is-primary",height:"20px",value:u.current,max:u.total},null,8,qme)])]))),128))]),p("footer",Kme,[j(a,{class:"card-footer-item",disabled:!t.canFlash,type:"submit"},{default:Xe(()=>[Xme]),_:1},8,["disabled"])])])],32)])}var Jme=Qe(sme,[["render",Zme]]);const Qme=Ve({name:"home",components:{Info:HR},methods:{}});function ege(t,e,n,s,i,r){const o=xe("Info");return Y(),bn(o)}var tge=Qe(Qme,[["render",ege]]);const nge=Ve({name:"Log",setup(){return{root:nn()}},computed:{logFilePath(){return at.filePath()}},methods:{}}),sge={class:"columns"},ige={class:"column is-12"},rge={class:"card"},oge={class:"card-header"},age=p("p",{class:"card-header-title"},"Log",-1),lge={key:0,class:"card-header-icon"},cge={class:"card-content"},uge={class:"content"};function dge(t,e,n,s,i,r){return Y(),se("div",sge,[p("div",ige,[p("div",rge,[p("header",oge,[age,t.logFilePath?(Y(),se("small",lge,Fe(t.logFilePath),1)):je("",!0)]),p("div",cge,[p("div",uge,[(Y(!0),se(Ze,null,Ht(t.root.log,(o,a)=>(Y(),se("div",{key:o+"-"+a},[p("samp",null,">> "+Fe(o),1)]))),128))])])])])])}var fge=Qe(nge,[["render",dge]]);const s_="https://raw.githubusercontent.com/BossHobby/Templates/master/",hge=rs("templates",{state:()=>({index:[]}),actions:{fetch_templates(){return fetch(s_+"index.json").then(t=>t.json()).then(t=>{this.index=t.map(e=>(e.image&&(e.image=s_+e.image),e.profile=s_+e.profile,e))})}}}),pge=Ve({name:"Templates",setup(){return{templates:hge(),profile:Zt()}},methods:{applyProfile(t){return fetch(t.profile).then(e=>e.text()).then(e=>by.parse(e)).then(e=>this.profile.merge_profile(e))}},created(){this.templates.fetch_templates()}}),mge=t=>(fp("data-v-51d0c28f"),t=t(),hp(),t),gge={class:"columns is-multiline"},_ge={class:"card template-card"},yge={class:"card-image"},bge={class:"image is-square"},vge=["src"],wge={class:"card-content"},xge={class:"title"},Sge={class:"subtitle"},Ege={class:"content"},Tge={class:"card-footer"},Mge=mge(()=>p("span",{class:"card-footer-item"},null,-1)),Age=de(" Apply ");function Cge(t,e,n,s,i,r){const o=xe("spinner-btn");return Y(),se("div",gge,[(Y(!0),se(Ze,null,Ht(t.templates.index,a=>(Y(),se("div",{class:"column is-one-third",key:a.name},[p("div",_ge,[p("div",yge,[p("figure",bge,[p("img",{src:a.image},null,8,vge)])]),p("div",wge,[p("p",xge,Fe(a.name),1),p("p",Sge,Fe(a.category),1),p("div",Ege,Fe(a.desc),1)]),p("footer",Tge,[Mge,j(o,{class:"card-footer-item is-white",onClick:l=>t.applyProfile(a)},{default:Xe(()=>[Age]),_:2},1032,["onClick"])])])]))),128))])}var Rge=Qe(pge,[["render",Cge],["__scopeId","data-v-51d0c28f"]]);const Vs=rF({history:xN("/develop/"),routes:[{path:"/",redirect:()=>xc().is_connected?"/profile":"/home"},{path:"/home",name:"home",component:tge},{path:"/templates",name:"templates",component:Rge},{path:"/flash",name:"flash",component:Jme},{path:"/profile",name:"profile",component:Xpe},{path:"/setup",name:"setup",component:oq},{path:"/rates",name:"rates",component:Oie},{path:"/receiver",name:"receiver",component:Pae},{path:"/osd",name:"osd",component:tue},{path:"/motor",name:"motor",component:gde},{path:"/blackbox",name:"blackbox",component:Ude},{path:"/state",name:"state",component:jde},{path:"/perf",name:"perf",component:Xde},{path:"/log",name:"log",component:fge}]});Vs.beforeEach((t,e,n)=>{xc().is_connected?t.name==="home"?n({name:"profile"}):n():t.name!=="home"&&t.name!=="flash"&&t.name!=="log"?n({name:"home"}):n()});let vy=null,wy=0;function xy(){clearInterval(vy),vy=null,wy=0}function Pge(t){xy(),vy=setInterval(async()=>{await t(wy),wy++},Rh.serial.updateInterval)}const xc=rs("serial",{state:()=>({is_connected:!1,is_connecting:!1}),actions:{async poll_serial(t){if(!this.is_connected)return;const e=d2(),n=u2(),s=Ds(),i=V_();await s.fetch_state(),t%4&&(Vs.currentRoute.value.fullPath=="/receiver"&&await e.fetch_bind_info(),Vs.currentRoute.value.fullPath=="/perf"&&await n.fetch_perf_counters(),Vs.currentRoute.value.fullPath=="/setup"&&await i.update_vtx_settings())},soft_reboot(){return yt.softReboot()},serial_passthrough({port:t,baudrate:e,half_duplex:n,stop_bits:s}){const i=nn();return yt.command(Cn.Serial,0,t,e,n?1:0,s).then(()=>yt.close()).then(()=>this.toggle_connection()).then(()=>{i.append_alert({type:"success",msg:"Serial passthrough successful!"})}).catch(r=>{at.error("serial",r),i.append_alert({type:"danger",msg:"Serial passthrough failed"})})},hard_reboot(){const t=nn();return yt.hardReboot().then(()=>{t.append_alert({type:"success",msg:"Reset to bootloader successful!"})}).catch(e=>{at.error("serial",e),t.append_alert({type:"danger",msg:"Reset to bootloader failed"})})},toggle_connection(){const t=nn(),e=is(),n=em(),s=ZC(),i=V_(),r=bd(),o=Zt();return this.is_connected?(xy(),this.is_connected=!1,this.is_connecting=!1,t.reset_needs_reboot(),Vs.currentRoute.value.fullPath!="/home"&&Vs.push("/home"),yt.close()):(this.is_connecting=!0,yt.connect(a=>{at.error("serial",a),yt.close(),xy(),this.is_connected=!1,this.is_connecting=!1,t.reset_needs_reboot(),Vs.currentRoute.value.fullPath!="/home"&&Vs.push("/home")}).then(a=>{e.$reset(),n.$reset(),i.$reset(),s.$reset(),r.$reset(),o.$reset(),this.is_connected=!0,e.set_info(a),r.fetch_default_profile(),t.fetch_pid_rate_presets(),o.fetch_profile(),i.update_vtx_settings(),Pge(l=>this.poll_serial(l)),Vs.currentRoute.value.fullPath!="/profile"&&Vs.push("/profile")}).catch(a=>{at.error("serial",a),this.is_connected=!1,t.reset_needs_reboot(),t.append_alert({type:"danger",msg:"Connection to the board failed"})}).finally(()=>{this.is_connecting=!1}))}}});var kge="/develop/assets/Logo_Clean.40aa7e5a.svg",Oge="/develop/assets/Logo_Develop_Text.e50c314b.svg",Lge="/develop/assets/Logo_Text.2e9a10cb.svg";const Ige=Ve({name:"app",components:{RouterLink:AM,RouterView:CM,AlertPortal:z5},setup(){const t=lc();return{info:is(),profile:Zt(),state:Ds(),serial:xc(),root:nn(),Features:Ft(()=>t.Features)}},data(){return{branch:"develop"}},computed:{availablePortOptions(){return this.serial.available.map(t=>({value:t,text:t.name}))},date(){return new Date(this.profile.meta.datetime*1e3)},connectButtonText(){return this.serial.is_connecting?"Connecting...":this.serial.is_connected?"Disconnect":"Connect"},canConnect(){return!this.serial.is_connecting&&this.$route.name!="flash"},updateProcessing(){return Uo.updatePreparing()||Uo.updatePending()}},methods:{timeAgo:vA},created(){Uo.updatePending()&&Uo.finishUpdate()},unmounted(){clearInterval(this.interval)}}),Dge={key:0,class:"overlay","no-wrap":"","z-index":"9999"},Nge=p("div",{class:"text-center"},[p("span",{class:"icon"},[p("i",{class:"fas fa-spinner fa-pulse"})]),p("h1",null,"Updating...")],-1),Fge=[Nge],$ge={class:"navbar is-fixed-top",role:"navigation","aria-label":"main navigation"},Uge={class:"navbar-brand"},Bge={class:"navbar-item px-1"},zge=p("img",{src:kge,style:{display:"inline-block","max-height":"55px"},class:"image"},null,-1),Gge={key:0,src:Oge,style:{display:"inline-block","margin-left":"-2px","max-width":"175px","max-height":"2.5em"},class:"image"},Vge={key:1,src:Lge,style:{display:"inline-block","margin-left":"-2px","max-width":"175px"},class:"image"},Hge=p("a",{role:"button",class:"navbar-burger","aria-label":"menu","aria-expanded":"false","data-target":"mainMavbar"},[p("span",{"aria-hidden":"true"}),p("span",{"aria-hidden":"true"}),p("span",{"aria-hidden":"true"})],-1),Wge={id:"mainMavbar",class:"navbar-menu"},jge={key:0,class:"navbar-start"},Yge=de("Templates"),qge=de("Profile"),Kge=de("Setup"),Xge=de("Rates"),Zge=de("Receiver"),Jge=de("OSD"),Qge=de("Motor"),e_e=de("Blackbox"),t_e=de("State"),n_e=de("Perf"),s_e=de("Log"),i_e={key:1,class:"navbar-start"},r_e=de("Home"),o_e=de("Flash"),a_e=de("Log"),l_e={class:"navbar-end"},c_e={class:"container router-outlet-container"},u_e={key:1,class:"navbar is-fixed-bottom"},d_e={class:"navbar-brand"},f_e={class:"navbar-item is-size-4"},h_e={class:"navbar-item"},p_e={class:"navbar-item",style:{"font-size":"70%"}},m_e={class:"navbar-item",style:{"font-size":"60%"}},g_e={class:"navbar-end"},__e={class:"navbar-item"},y_e={class:"notification is-warning"},b_e=de(" Unsaved changes "),v_e={class:"notification is-warning"},w_e=de(" Reboot required "),x_e=de(" Reboot "),S_e=de(" Apply ");function E_e(t,e,n,s,i,r){const o=xe("router-link"),a=xe("spinner-btn"),l=xe("AlertPortal"),c=xe("router-view"),u=xe("font-awesome-icon");return Y(),se(Ze,null,[t.updateProcessing?(Y(),se("div",Dge,Fge)):je("",!0),p("nav",$ge,[p("div",Uge,[p("a",Bge,[zge,t.branch=="develop"?(Y(),se("img",Gge)):(Y(),se("img",Vge))]),Hge]),p("div",Wge,[t.serial.is_connected?(Y(),se("div",jge,[j(o,{"active-class":"is-active",class:"navbar-item",to:"/templates"},{default:Xe(()=>[Yge]),_:1}),j(o,{"active-class":"is-active",class:"navbar-item",to:"/profile"},{default:Xe(()=>[qge]),_:1}),j(o,{"active-class":"is-active",class:"navbar-item",to:"/setup"},{default:Xe(()=>[Kge]),_:1}),j(o,{"active-class":"is-active",class:"navbar-item",to:"/rates"},{default:Xe(()=>[Xge]),_:1}),j(o,{"active-class":"is-active",class:"navbar-item",to:"/receiver"},{default:Xe(()=>[Zge]),_:1}),t.info.has_feature(t.Features.OSD)?(Y(),bn(o,{key:0,"active-class":"is-active",class:"navbar-item",to:"/osd"},{default:Xe(()=>[Jge]),_:1})):je("",!0),j(o,{"active-class":"is-active",class:"navbar-item",to:"/motor"},{default:Xe(()=>[Qge]),_:1}),t.info.has_feature(t.Features.BLACKBOX)&&t.info.quic_protocol_version>1?(Y(),bn(o,{key:1,"active-class":"is-active",class:"navbar-item",to:"/blackbox"},{default:Xe(()=>[e_e]),_:1})):je("",!0),j(o,{"active-class":"is-active",class:"navbar-item",to:"/state"},{default:Xe(()=>[t_e]),_:1}),t.info.has_feature(t.Features.DEBUG)&&t.info.quic_protocol_version>1?(Y(),bn(o,{key:2,"active-class":"is-active",class:"navbar-item",to:"/perf"},{default:Xe(()=>[n_e]),_:1})):je("",!0),j(o,{"active-class":"is-active",class:"navbar-item",to:"/log"},{default:Xe(()=>[s_e]),_:1})])):(Y(),se("div",i_e,[j(o,{"active-class":"is-active",class:"navbar-item",to:"/"},{default:Xe(()=>[r_e]),_:1}),j(o,{"active-class":"is-active",class:"navbar-item",to:"/flash"},{default:Xe(()=>[o_e]),_:1}),j(o,{"active-class":"is-active",class:"navbar-item",to:"/log"},{default:Xe(()=>[a_e]),_:1})])),p("div",l_e,[j(a,{class:"navbar-item button my-2 mr-2 is-primary",onClick:t.serial.toggle_connection,disabled:!t.canConnect},{default:Xe(()=>[de(Fe(t.connectButtonText),1)]),_:1},8,["onClick","disabled"])])])]),j(l),p("div",c_e,[j(c)]),t.serial.is_connected?(Y(),se("div",u_e,[p("div",d_e,[p("span",f_e,Fe(t.profile.meta.name),1),p("span",h_e,"Modified "+Fe(t.timeAgo(t.date)),1),p("span",p_e," Looptime "+Fe(t.state.looptime_autodetect)+" CPU Load "+Fe(t.state.cpu_load),1),p("span",m_e," CPU Temp "+Fe(t.state.cpu_temp.toFixed(2))+"\xB0C ",1)]),p("div",g_e,[p("span",__e,[Ue(p("div",y_e,[j(u,{icon:"fa-solid fa-triangle-exclamation"}),b_e],512),[[_h,t.root.needs_apply]]),Ue(p("div",v_e,[j(u,{icon:"fa-solid fa-triangle-exclamation"}),w_e],512),[[_h,!t.root.needs_apply&&t.root.needs_reboot]])]),j(a,{class:"navbar-item is-warning my-auto mx-2",onClick:e[0]||(e[0]=d=>t.serial.soft_reboot())},{default:Xe(()=>[x_e]),_:1}),j(a,{class:"navbar-item is-info my-auto mx-2",onClick:e[1]||(e[1]=d=>t.profile.apply_profile(t.profile.$state)),disabled:t.info.is_read_only},{default:Xe(()=>[S_e]),_:1},8,["disabled"])])])):je("",!0)],64)}var T_e=Qe(Ige,[["render",E_e]]);const jR=cB(),M_e=["profile"];jR.use(({store:t})=>{!M_e.includes(t.$id)||t.$subscribe(e=>{if(e.type!="direct")return;nn().set_needs_apply()})});const A_e={text:"Use this section to change motor positions, useful when using an fc in non standard configuration"},C_e={text:"Connect a lipo to access esc settings. Change direction of rotation. Not all esc are supported, Blheli-32 does not work"},R_e={text:"Can be used to flash serial receivers via passthrough, set correct uart and Start"};var P_e={"channel.aux_arming":{text:"Arm the craft, default is to also activate Idle-up"},"channel.aux_blackbox":{text:"Start/stop blackbox recording"},"channel.aux_buzzer_enable":{disabled:!0},"channel.aux_fpv_switch":{text:"Vtx Pit mode on a switch"},"channel.aux_horizon":{text:"Self levelling up to a specific angle then Acro on both Roll and Pitch, requires Level mode active"},"channel.aux_idle_up":{text:"Ensures props never stop spinning, similar to airmode, default is to use the same channel as ARM"},"channel.aux_levelmode":{text:"Accelerometer data is used to self level, needed for Racemode and Horizon"},"channel.aux_motor_test":{text:"Activate the motor test function, useful to check individual motors in the field"},"channel.aux_racemode":{text:"Uses self levelling only on the roll axis, acro on pitch, requires Level mode active"},"channel.aux_rate_profile":{disabled:!0},"channel.aux_rssi":{text:"For fcs that can send rssi on a channel"},"channel.aux_stick_boost_profile":{disabled:!0},"channel.aux_turtle":{text:"Set this to ON and the fc will detect when landed inverted and activate Turtle when ARM is active, optional to set to an Aux switch",link:"https://docs.bosshobby.com/4.-FEATURES/#turtle-mode"},"channel.aux_prearm":{text:"Allows for a separate AUX channel to be set as a safety for arming, the set AUX should be ON before the ARM switch is activated. If not used leave this as ON"},"filter.settings":{text:"The default filter setting are designed to be safe, before making adjustments refer to the wiki",link:"https://docs.bosshobby.com/4.-FEATURES/#filters"},"filter.dterm_1_freq":{disabled:!0},"filter.dterm_1_type":{disabled:!0},"filter.dterm_2_freq":{disabled:!0},"filter.dterm_2_type":{disabled:!0},"filter.dterm_dynamic_enable":{text:"Enable a dynamic D-term filtercut, you almost always want to leave this ON",link:"https://docs.bosshobby.com/4.-FEATURES/#dynamic-d-term"},"filter.dterm_dynamic_max":{disabled:!0},"filter.dterm_dynamic_min":{disabled:!0},"filter.gyro_1_freq":{disabled:!0},"filter.gyro_1_type":{disabled:!0},"filter.gyro_2_freq":{disabled:!0},"filter.gyro_2_type":{disabled:!0},"flash.file-local":{text:"Choose either a self built hex or a downloaded nightly hex"},"flash.file-release":{text:"The default selection is the latest `stable` release, dev versions are available as testers"},"flash.file-remote":{text:"Targets are named `board_name.motor_type.rx_type` choose serial if your rx is separate and attatched to a uart. If you don't see your fc listed exactly then don't flash, please ask for a target in our Discord server",link:"https://discord.gg/qzyvewaCnP"},"flash.reset":{text:"Pressing the `Reset To Bootloader` button should force the fc into DFU mode for flashing, if it doesn't work use the button on the fc while connecting USB"},"flash.source":{text:"If you compile your own hex or downloaded a `nightly build` select `local` and choose it in the next box"},"motor.digital_idle":{text:"Adjust in small ammounts if needed to achieve smooth idle"},"motor.dshot_time":{text:"On some fcs this might need set to 300 to avoid failloops, Default 600"},"motor.flip_gyro":{disabled:!0},"motor.gyro_orientation":{text:"Change this if the fc is mounted in a non standard way, use with the flip-gyro option until the preview model moves correctly"},"motor.invert_yaw":{text:"Default is props out"},"motor.test":{text:"Connect a lipo, PROPS OFF, use sliders to confirm motor operation and direction"},"motor.throttle_boost":{text:"Experimental, use with caution, can rob motors of power if set too high"},"motor.torque_boost":{text:"A very experimental feature for more advanced use",link:"https://docs.bosshobby.com/4.-FEATURES/#torque-boost"},"motor.turtle_throttle_percent":{text:"For whoops set to 100% larger craft start at 10% and increase by 10 to suit needs",link:"https://docs.bosshobby.com/4.-FEATURES/#turtle-mode"},motor_pins:A_e,motor_settings:C_e,"motor.motor_limit":{text:"Set a cap on the maximum throttle"},"osd.elements":{text:"Select and position OSD elements, callsign must use upper case",link:"https://docs.bosshobby.com/4.-FEATURES/#osd"},"osd.font":{text:"A choice of fonts are available, select and upload. You can also upload your own custom boot logo as long as it a 288x72 Black/White/Transparent PNG"},"pid.angle_strength":{text:"Angle Strength adjusts how your craft responds to external forces from bumps to stick inputs",link:"https://docs.bosshobby.com/4.-FEATURES/#angle-strength"},"pid.preset":{text:"Select by thrust to weight ratio or props size, these presets give a safe starting point to further tune if needed"},"pid.profile":{text:"You can have 2 different sets of pids loaded in 2 profiles"},"pid.stick_profile":{text:"Allows for adjustment to stick feel",link:"https://docs.bosshobby.com/4.-FEATURES/#stick-boost"},"pid.tda_active":{text:"As higher throttle levels are reached D-term gain is reduced allowing the D-term notch filter to work safely",link:"https://docs.bosshobby.com/4.-FEATURES/#throttle-d-term-attenuation-tda"},"pid.tda_breakpoint":{text:"Throttle percentage before TDA starts to act"},"pid.tda_percent":{text:"Percentage reduction of D-term at max throttle"},"rate.level_max_angle":{text:"Increase to give a higher velocity for racing, combined with high camera angle, to a max of 90"},"rate.low_rate_mulitplier":{disabled:!0},"rate.mode":{text:"Silverware, Betaflight and Actual rates option"},"rate.profile":{text:"2 slots available for different profiles"},"rate.sticks_deadband":{text:"If your radio has `jitter` on Pitch/Roll stick center raising this a little can help"},"rate.throttle_mid":{text:"Can be set to about where your `hover point` is giving improved resolution on the stick"},"rate.throttle_expo":{text:"Adding some expo will soften the stick feel around the set `Throttle Mid`"},"receiver.bind_saved":{text:"Once you have bind and issued stick gesture up,up,up followed by down,down,down on Pitch this will show YES"},"receiver.lqi_source":{text:"Select the source for your rssi/lqi OSD display. Direct is best for ELRS, others can use Packet-Rate"},"receiver.protocol":{text:"Serial or spi connected rx will be detected automatically here"},"receiver.channel_mapping":{text:"Quicksilver default is AETR the other option is TAER"},"serial.rx":{text:"Enter the UART number the serial RX is connected to (for spi RX leave as NONE)"},"serial.smart_audio":{text:"Enter the UART the VTX TX line is connected to"},serial_passthrough:R_e,"serial.hdzero":{text:"HDZero requires TX and RX connected to use msp, define the UART here"},"voltage.actual_battery_voltage":{text:"Default is 4.2V for normal lipo packs, set to 4.35V for HV packs"},"voltage.ibat_scale":{text:"Use the value provided by the FC manufacturer"},"voltage.lipo_cell_count":{text:"Enter the number of cells, leave at 0 to use autodetect"},"voltage.pid_voltage_compensation":{text:"Adjusts the pids to compensate for lipo voltage drop, default ON"},"voltage.reported_telemetry_voltage":{disabled:!0},"voltage.vbattlow":{text:"Set the desired voltage to trigger a warning, single cell voltage is used Default 3.3V (uses Fuel gauge volts)",link:"https://docs.bosshobby.com/4.-FEATURES/#voltage"}};const k_e={updated(t,{value:e,oldValue:n},{transition:s}){e!==n&&(e?(s.beforeEnter(t),t.style.visibility="visible",s.enter(t)):s.leave(t,()=>{t.style.visibility="hidden"}))}},O_e=Ve({props:{entry:String,size:String},directives:{visible:k_e},setup(){return{}},data(){return{placmentClass:{},visbleClick:!1,visbleHover:!1}},computed:{tooltip(){return P_e[this.entry]},danger(){return!this.tooltip||!this.tooltip.text},visible(){return this.visbleClick||this.visbleHover},active(){return this.entry&&(!this.tooltip||!this.tooltip.disabled)}},mounted(){var s,i;const t=(s=this.$refs.tooltipContainer)==null?void 0:s.offsetTop,e=(i=this.$refs.tooltipContent)==null?void 0:i.clientHeight,n=t>=e;this.placmentClass={"tooltip-bottom":!n,"tooltip-top":n}}}),L_e=["id"],I_e={ref:"tooltipContent",class:"tooltip-text has-text-centered has-text-light has-background-dark"},D_e={key:0},N_e={key:0},F_e=["href"],$_e={key:1};function U_e(t,e,n,s,i,r){const o=xe("font-awesome-icon"),a=Zk("visible");return t.active?(Y(),se("span",{key:0,ref:"tooltipContainer",class:Rs(["tooltip",t.placmentClass]),onMouseenter:e[0]||(e[0]=l=>t.visbleHover=!0),onMouseleave:e[1]||(e[1]=l=>t.visbleHover=!1),onClick:e[2]||(e[2]=l=>t.visbleClick=!t.visbleClick)},[p("span",{class:Rs(["tooltip-icon",{"has-text-danger":t.danger,"has-text-grey":!t.danger}]),id:"tooltip-"+t.entry},[j(o,{icon:"fa-solid fa-circle-question",size:t.size,"fixed-width":""},null,8,["size"])],10,L_e),j(ib,{name:"tooltip"},{default:Xe(()=>[Ue((Y(),se("span",I_e,[t.danger?(Y(),se("span",$_e," Missing tooltip entry "+Fe(t.entry),1)):(Y(),se("span",D_e,[de(Fe(t.tooltip.text)+" ",1),t.tooltip.link?(Y(),se("div",N_e,[p("a",{target:"_blank",href:t.tooltip.link},"read more",8,F_e)])):je("",!0)]))])),[[a,t.visible]])]),_:1})],34)):je("",!0)}var B_e=Qe(O_e,[["render",U_e]]);const z_e=Ve({props:["modelValue","options"],emits:["update:modelValue"],computed:{inputVal:{get(){return this.modelValue},set(t){this.$emit("update:modelValue",t)}},optionMap(){return(this.options||[]).map(t=>typeof t=="string"?{text:t,value:t}:t)}}}),G_e=["value"];function V_e(t,e,n,s,i,r){return Y(),se("div",sb({class:"select"},t.$attrs),[Ue(p("select",{"onUpdate:modelValue":e[0]||(e[0]=o=>t.inputVal=o)},[(Y(!0),se(Ze,null,Ht(t.optionMap,o=>(Y(),se("option",{key:o.value,value:o.value},Fe(o.text),9,G_e))),128))],512),[[sL,t.inputVal]])],16)}var H_e=Qe(z_e,[["render",V_e]]);/*!
 * Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2022 Fonticons, Inc.
 */function cE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function De(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cE(Object(n),!0).forEach(function(s){Y_e(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cE(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Xh(t){return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(t)}function W_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uE(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function j_e(t,e,n){return e&&uE(t.prototype,e),n&&uE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Y_e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yv(t,e){return K_e(t)||Z_e(t,e)||YR(t,e)||Q_e()}function gm(t){return q_e(t)||X_e(t)||YR(t)||J_e()}function q_e(t){if(Array.isArray(t))return Sy(t)}function K_e(t){if(Array.isArray(t))return t}function X_e(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Z_e(t,e){var n=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s=[],i=!0,r=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(s.push(o.value),!(e&&s.length===e));i=!0);}catch(l){r=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(r)throw a}}return s}}function YR(t,e){if(!!t){if(typeof t=="string")return Sy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sy(t,e)}}function Sy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s}function J_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var dE=function(){},qv={},qR={},KR=null,XR={mark:dE,measure:dE};try{typeof window!="undefined"&&(qv=window),typeof document!="undefined"&&(qR=document),typeof MutationObserver!="undefined"&&(KR=MutationObserver),typeof performance!="undefined"&&(XR=performance)}catch{}var eye=qv.navigator||{},fE=eye.userAgent,hE=fE===void 0?"":fE,uo=qv,Vt=qR,pE=KR,Nf=XR;uo.document;var br=!!Vt.documentElement&&!!Vt.head&&typeof Vt.addEventListener=="function"&&typeof Vt.createElement=="function",ZR=~hE.indexOf("MSIE")||~hE.indexOf("Trident/"),hr="___FONT_AWESOME___",Ey=16,JR="fa",QR="svg-inline--fa",ga="data-fa-i2svg",Ty="data-fa-pseudo-element",tye="data-fa-pseudo-element-pending",Kv="data-prefix",Xv="data-icon",mE="fontawesome-i2svg",nye="async",sye=["HTML","HEAD","STYLE","SCRIPT"],eP=function(){try{return!0}catch{return!1}}(),Zv={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},Zh={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},tP={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},iye={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},rye=/fa[srltdbk\-\ ]/,nP="fa-layers-text",oye=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,aye={900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},sP=[1,2,3,4,5,6,7,8,9,10],lye=sP.concat([11,12,13,14,15,16,17,18,19,20]),cye=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Yo={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},uye=[].concat(gm(Object.keys(Zh)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Yo.GROUP,Yo.SWAP_OPACITY,Yo.PRIMARY,Yo.SECONDARY]).concat(sP.map(function(t){return"".concat(t,"x")})).concat(lye.map(function(t){return"w-".concat(t)})),iP=uo.FontAwesomeConfig||{};function dye(t){var e=Vt.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function fye(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(Vt&&typeof Vt.querySelector=="function"){var hye=[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];hye.forEach(function(t){var e=Yv(t,2),n=e[0],s=e[1],i=fye(dye(n));i!=null&&(iP[s]=i)})}var pye={familyPrefix:JR,styleDefault:"solid",replacementClass:QR,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},Au=De(De({},pye),iP);Au.autoReplaceSvg||(Au.observeMutations=!1);var Ge={};Object.keys(Au).forEach(function(t){Object.defineProperty(Ge,t,{enumerable:!0,set:function(n){Au[t]=n,ah.forEach(function(s){return s(Ge)})},get:function(){return Au[t]}})});uo.FontAwesomeConfig=Ge;var ah=[];function mye(t){return ah.push(t),function(){ah.splice(ah.indexOf(t),1)}}var Ir=Ey,vi={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function gye(t){if(!(!t||!br)){var e=Vt.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Vt.head.childNodes,s=null,i=n.length-1;i>-1;i--){var r=n[i],o=(r.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(s=r)}return Vt.head.insertBefore(e,s),t}}var _ye="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function ud(){for(var t=12,e="";t-- >0;)e+=_ye[Math.random()*62|0];return e}function Sc(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function Jv(t){return t.classList?Sc(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function rP(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function yye(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(rP(t[n]),'" ')},"").trim()}function _m(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function Qv(t){return t.size!==vi.size||t.x!==vi.x||t.y!==vi.y||t.rotate!==vi.rotate||t.flipX||t.flipY}function bye(t){var e=t.transform,n=t.containerWidth,s=t.iconWidth,i={transform:"translate(".concat(n/2," 256)")},r="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(r," ").concat(o," ").concat(a)},c={transform:"translate(".concat(s/2*-1," -256)")};return{outer:i,inner:l,path:c}}function vye(t){var e=t.transform,n=t.width,s=n===void 0?Ey:n,i=t.height,r=i===void 0?Ey:i,o=t.startCentered,a=o===void 0?!1:o,l="";return a&&ZR?l+="translate(".concat(e.x/Ir-s/2,"em, ").concat(e.y/Ir-r/2,"em) "):a?l+="translate(calc(-50% + ".concat(e.x/Ir,"em), calc(-50% + ").concat(e.y/Ir,"em)) "):l+="translate(".concat(e.x/Ir,"em, ").concat(e.y/Ir,"em) "),l+="scale(".concat(e.size/Ir*(e.flipX?-1:1),", ").concat(e.size/Ir*(e.flipY?-1:1),") "),l+="rotate(".concat(e.rotate,"deg) "),l}var wye=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0);
          animation-delay: var(--fa-animation-delay, 0);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0);
          animation-delay: var(--fa-animation-delay, 0);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0);
          animation-delay: var(--fa-animation-delay, 0);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0);
          animation-delay: var(--fa-animation-delay, 0);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0);
          animation-delay: var(--fa-animation-delay, 0);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0);
          animation-delay: var(--fa-animation-delay, 0);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0);
          animation-delay: var(--fa-animation-delay, 0);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function oP(){var t=JR,e=QR,n=Ge.familyPrefix,s=Ge.replacementClass,i=wye;if(n!==t||s!==e){var r=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(r,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(s))}return i}var gE=!1;function i_(){Ge.autoAddCss&&!gE&&(gye(oP()),gE=!0)}var xye={mixout:function(){return{dom:{css:oP,insertCss:i_}}},hooks:function(){return{beforeDOMElementCreation:function(){i_()},beforeI2svg:function(){i_()}}}},pr=uo||{};pr[hr]||(pr[hr]={});pr[hr].styles||(pr[hr].styles={});pr[hr].hooks||(pr[hr].hooks={});pr[hr].shims||(pr[hr].shims=[]);var Js=pr[hr],aP=[],Sye=function t(){Vt.removeEventListener("DOMContentLoaded",t),Jh=1,aP.map(function(e){return e()})},Jh=!1;br&&(Jh=(Vt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Vt.readyState),Jh||Vt.addEventListener("DOMContentLoaded",Sye));function Eye(t){!br||(Jh?setTimeout(t,0):aP.push(t))}function Dd(t){var e=t.tag,n=t.attributes,s=n===void 0?{}:n,i=t.children,r=i===void 0?[]:i;return typeof t=="string"?rP(t):"<".concat(e," ").concat(yye(s),">").concat(r.map(Dd).join(""),"</").concat(e,">")}function _E(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var Tye=function(e,n){return function(s,i,r,o){return e.call(n,s,i,r,o)}},r_=function(e,n,s,i){var r=Object.keys(e),o=r.length,a=i!==void 0?Tye(n,i):n,l,c,u;for(s===void 0?(l=1,u=e[r[0]]):(l=0,u=s);l<o;l++)c=r[l],u=a(u,e[c],c,e);return u};function Mye(t){for(var e=[],n=0,s=t.length;n<s;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<s){var r=t.charCodeAt(n++);(r&64512)==56320?e.push(((i&1023)<<10)+(r&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function My(t){var e=Mye(t);return e.length===1?e[0].toString(16):null}function Aye(t,e){var n=t.length,s=t.charCodeAt(e),i;return s>=55296&&s<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(s-55296)*1024+i-56320+65536:s}function yE(t){return Object.keys(t).reduce(function(e,n){var s=t[n],i=!!s.icon;return i?e[s.iconName]=s.icon:e[n]=s,e},{})}function Ay(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.skipHooks,i=s===void 0?!1:s,r=yE(e);typeof Js.hooks.addPack=="function"&&!i?Js.hooks.addPack(t,yE(e)):Js.styles[t]=De(De({},Js.styles[t]||{}),r),t==="fas"&&Ay("fa",e)}var Cu=Js.styles,Cye=Js.shims,Rye=Object.values(tP),e0=null,lP={},cP={},uP={},dP={},fP={},Pye=Object.keys(Zv);function kye(t){return~uye.indexOf(t)}function Oye(t,e){var n=e.split("-"),s=n[0],i=n.slice(1).join("-");return s===t&&i!==""&&!kye(i)?i:null}var hP=function(){var e=function(r){return r_(Cu,function(o,a,l){return o[l]=r_(a,r,{}),o},{})};lP=e(function(i,r,o){if(r[3]&&(i[r[3]]=o),r[2]){var a=r[2].filter(function(l){return typeof l=="number"});a.forEach(function(l){i[l.toString(16)]=o})}return i}),cP=e(function(i,r,o){if(i[o]=o,r[2]){var a=r[2].filter(function(l){return typeof l=="string"});a.forEach(function(l){i[l]=o})}return i}),fP=e(function(i,r,o){var a=r[2];return i[o]=o,a.forEach(function(l){i[l]=o}),i});var n="far"in Cu||Ge.autoFetchSvg,s=r_(Cye,function(i,r){var o=r[0],a=r[1],l=r[2];return a==="far"&&!n&&(a="fas"),typeof o=="string"&&(i.names[o]={prefix:a,iconName:l}),typeof o=="number"&&(i.unicodes[o.toString(16)]={prefix:a,iconName:l}),i},{names:{},unicodes:{}});uP=s.names,dP=s.unicodes,e0=ym(Ge.styleDefault)};mye(function(t){e0=ym(t.styleDefault)});hP();function t0(t,e){return(lP[t]||{})[e]}function Lye(t,e){return(cP[t]||{})[e]}function ml(t,e){return(fP[t]||{})[e]}function pP(t){return uP[t]||{prefix:null,iconName:null}}function Iye(t){var e=dP[t],n=t0("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function fo(){return e0}var n0=function(){return{prefix:null,iconName:null,rest:[]}};function ym(t){var e=Zv[t],n=Zh[t]||Zh[e],s=t in Js.styles?t:null;return n||s||null}function bm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.skipLookups,s=n===void 0?!1:n,i=null,r=t.reduce(function(o,a){var l=Oye(Ge.familyPrefix,a);if(Cu[a]?(a=Rye.includes(a)?iye[a]:a,i=a,o.prefix=a):Pye.indexOf(a)>-1?(i=a,o.prefix=ym(a)):l?o.iconName=l:a!==Ge.replacementClass&&o.rest.push(a),!s&&o.prefix&&o.iconName){var c=i==="fa"?pP(o.iconName):{},u=ml(o.prefix,o.iconName);c.prefix&&(i=null),o.iconName=c.iconName||u||o.iconName,o.prefix=c.prefix||o.prefix,o.prefix==="far"&&!Cu.far&&Cu.fas&&!Ge.autoFetchSvg&&(o.prefix="fas")}return o},n0());return(r.prefix==="fa"||i==="fa")&&(r.prefix=fo()||"fas"),r}var Dye=function(){function t(){W_e(this,t),this.definitions={}}return j_e(t,[{key:"add",value:function(){for(var n=this,s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=De(De({},n.definitions[a]||{}),o[a]),Ay(a,o[a]);var l=tP[a];l&&Ay(l,o[a]),hP()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,s){var i=s.prefix&&s.iconName&&s.icon?{0:s}:s;return Object.keys(i).map(function(r){var o=i[r],a=o.prefix,l=o.iconName,c=o.icon,u=c[2];n[a]||(n[a]={}),u.length>0&&u.forEach(function(d){typeof d=="string"&&(n[a][d]=c)}),n[a][l]=c}),n}}]),t}(),bE=[],gl={},kl={},Nye=Object.keys(kl);function Fye(t,e){var n=e.mixoutsTo;return bE=t,gl={},Object.keys(kl).forEach(function(s){Nye.indexOf(s)===-1&&delete kl[s]}),bE.forEach(function(s){var i=s.mixout?s.mixout():{};if(Object.keys(i).forEach(function(o){typeof i[o]=="function"&&(n[o]=i[o]),Xh(i[o])==="object"&&Object.keys(i[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=i[o][a]})}),s.hooks){var r=s.hooks();Object.keys(r).forEach(function(o){gl[o]||(gl[o]=[]),gl[o].push(r[o])})}s.provides&&s.provides(kl)}),n}function Cy(t,e){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i];var r=gl[t]||[];return r.forEach(function(o){e=o.apply(null,[e].concat(s))}),e}function _a(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];var i=gl[t]||[];i.forEach(function(r){r.apply(null,n)})}function mr(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return kl[t]?kl[t].apply(null,e):void 0}function Ry(t){t.prefix==="fa"&&(t.prefix="fas");var e=t.iconName,n=t.prefix||fo();if(!!e)return e=ml(n,e)||e,_E(mP.definitions,n,e)||_E(Js.styles,n,e)}var mP=new Dye,$ye=function(){Ge.autoReplaceSvg=!1,Ge.observeMutations=!1,_a("noAuto")},Uye={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return br?(_a("beforeI2svg",e),mr("pseudoElements2svg",e),mr("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot;Ge.autoReplaceSvg===!1&&(Ge.autoReplaceSvg=!0),Ge.observeMutations=!0,Eye(function(){zye({autoReplaceSvgRoot:n}),_a("watch",e)})}},Bye={icon:function(e){if(e===null)return null;if(Xh(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:ml(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var n=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],s=ym(e[0]);return{prefix:s,iconName:ml(s,n)||n}}if(typeof e=="string"&&(e.indexOf("".concat(Ge.familyPrefix,"-"))>-1||e.match(rye))){var i=bm(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||fo(),iconName:ml(i.prefix,i.iconName)||i.iconName}}if(typeof e=="string"){var r=fo();return{prefix:r,iconName:ml(r,e)||e}}}},ps={noAuto:$ye,config:Ge,dom:Uye,parse:Bye,library:mP,findIconDefinition:Ry,toHtml:Dd},zye=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot,s=n===void 0?Vt:n;(Object.keys(Js.styles).length>0||Ge.autoFetchSvg)&&br&&Ge.autoReplaceSvg&&ps.dom.i2svg({node:s})};function vm(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(s){return Dd(s)})}}),Object.defineProperty(t,"node",{get:function(){if(!!br){var s=Vt.createElement("div");return s.innerHTML=t.html,s.children}}}),t}function Gye(t){var e=t.children,n=t.main,s=t.mask,i=t.attributes,r=t.styles,o=t.transform;if(Qv(o)&&n.found&&!s.found){var a=n.width,l=n.height,c={x:a/l/2,y:.5};i.style=_m(De(De({},r),{},{"transform-origin":"".concat(c.x+o.x/16,"em ").concat(c.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function Vye(t){var e=t.prefix,n=t.iconName,s=t.children,i=t.attributes,r=t.symbol,o=r===!0?"".concat(e,"-").concat(Ge.familyPrefix,"-").concat(n):r;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:De(De({},i),{},{id:o}),children:s}]}]}function s0(t){var e=t.icons,n=e.main,s=e.mask,i=t.prefix,r=t.iconName,o=t.transform,a=t.symbol,l=t.title,c=t.maskId,u=t.titleId,d=t.extra,f=t.watchable,h=f===void 0?!1:f,_=s.found?s:n,g=_.width,m=_.height,y=i==="fak",b=[Ge.replacementClass,r?"".concat(Ge.familyPrefix,"-").concat(r):""].filter(function(C){return d.classes.indexOf(C)===-1}).filter(function(C){return C!==""||!!C}).concat(d.classes).join(" "),S={children:[],attributes:De(De({},d.attributes),{},{"data-prefix":i,"data-icon":r,class:b,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(m)})},x=y&&!~d.classes.indexOf("fa-fw")?{width:"".concat(g/m*16*.0625,"em")}:{};h&&(S.attributes[ga]=""),l&&(S.children.push({tag:"title",attributes:{id:S.attributes["aria-labelledby"]||"title-".concat(u||ud())},children:[l]}),delete S.attributes.title);var v=De(De({},S),{},{prefix:i,iconName:r,main:n,mask:s,maskId:c,transform:o,symbol:a,styles:De(De({},x),d.styles)}),E=s.found&&n.found?mr("generateAbstractMask",v)||{children:[],attributes:{}}:mr("generateAbstractIcon",v)||{children:[],attributes:{}},A=E.children,w=E.attributes;return v.children=A,v.attributes=w,a?Vye(v):Gye(v)}function vE(t){var e=t.content,n=t.width,s=t.height,i=t.transform,r=t.title,o=t.extra,a=t.watchable,l=a===void 0?!1:a,c=De(De(De({},o.attributes),r?{title:r}:{}),{},{class:o.classes.join(" ")});l&&(c[ga]="");var u=De({},o.styles);Qv(i)&&(u.transform=vye({transform:i,startCentered:!0,width:n,height:s}),u["-webkit-transform"]=u.transform);var d=_m(u);d.length>0&&(c.style=d);var f=[];return f.push({tag:"span",attributes:c,children:[e]}),r&&f.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),f}function Hye(t){var e=t.content,n=t.title,s=t.extra,i=De(De(De({},s.attributes),n?{title:n}:{}),{},{class:s.classes.join(" ")}),r=_m(s.styles);r.length>0&&(i.style=r);var o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var o_=Js.styles;function Py(t){var e=t[0],n=t[1],s=t.slice(4),i=Yv(s,1),r=i[0],o=null;return Array.isArray(r)?o={tag:"g",attributes:{class:"".concat(Ge.familyPrefix,"-").concat(Yo.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Ge.familyPrefix,"-").concat(Yo.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Ge.familyPrefix,"-").concat(Yo.PRIMARY),fill:"currentColor",d:r[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:o}}var Wye={found:!1,width:512,height:512};function jye(t,e){!eP&&!Ge.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function ky(t,e){var n=e;return e==="fa"&&Ge.styleDefault!==null&&(e=fo()),new Promise(function(s,i){if(mr("missingIconAbstract"),n==="fa"){var r=pP(t)||{};t=r.iconName||t,e=r.prefix||e}if(t&&e&&o_[e]&&o_[e][t]){var o=o_[e][t];return s(Py(o))}jye(t,e),s(De(De({},Wye),{},{icon:Ge.showMissingIcons&&t?mr("missingIconAbstract")||{}:{}}))})}var wE=function(){},Oy=Ge.measurePerformance&&Nf&&Nf.mark&&Nf.measure?Nf:{mark:wE,measure:wE},ru='FA "6.1.1"',Yye=function(e){return Oy.mark("".concat(ru," ").concat(e," begins")),function(){return gP(e)}},gP=function(e){Oy.mark("".concat(ru," ").concat(e," ends")),Oy.measure("".concat(ru," ").concat(e),"".concat(ru," ").concat(e," begins"),"".concat(ru," ").concat(e," ends"))},i0={begin:Yye,end:gP},lh=function(){};function xE(t){var e=t.getAttribute?t.getAttribute(ga):null;return typeof e=="string"}function qye(t){var e=t.getAttribute?t.getAttribute(Kv):null,n=t.getAttribute?t.getAttribute(Xv):null;return e&&n}function Kye(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Ge.replacementClass)}function Xye(){if(Ge.autoReplaceSvg===!0)return ch.replace;var t=ch[Ge.autoReplaceSvg];return t||ch.replace}function Zye(t){return Vt.createElementNS("http://www.w3.org/2000/svg",t)}function Jye(t){return Vt.createElement(t)}function _P(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.ceFn,s=n===void 0?t.tag==="svg"?Zye:Jye:n;if(typeof t=="string")return Vt.createTextNode(t);var i=s(t.tag);Object.keys(t.attributes||[]).forEach(function(o){i.setAttribute(o,t.attributes[o])});var r=t.children||[];return r.forEach(function(o){i.appendChild(_P(o,{ceFn:s}))}),i}function Qye(t){var e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var ch={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(_P(i),n)}),n.getAttribute(ga)===null&&Ge.keepOriginalSource){var s=Vt.createComment(Qye(n));n.parentNode.replaceChild(s,n)}else n.remove()},nest:function(e){var n=e[0],s=e[1];if(~Jv(n).indexOf(Ge.replacementClass))return ch.replace(e);var i=new RegExp("".concat(Ge.familyPrefix,"-.*"));if(delete s[0].attributes.id,s[0].attributes.class){var r=s[0].attributes.class.split(" ").reduce(function(a,l){return l===Ge.replacementClass||l.match(i)?a.toSvg.push(l):a.toNode.push(l),a},{toNode:[],toSvg:[]});s[0].attributes.class=r.toSvg.join(" "),r.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",r.toNode.join(" "))}var o=s.map(function(a){return Dd(a)}).join(`
`);n.setAttribute(ga,""),n.innerHTML=o}};function SE(t){t()}function yP(t,e){var n=typeof e=="function"?e:lh;if(t.length===0)n();else{var s=SE;Ge.mutateApproach===nye&&(s=uo.requestAnimationFrame||SE),s(function(){var i=Xye(),r=i0.begin("mutate");t.map(i),r(),n()})}}var r0=!1;function bP(){r0=!0}function Ly(){r0=!1}var Qh=null;function EE(t){if(!!pE&&!!Ge.observeMutations){var e=t.treeCallback,n=e===void 0?lh:e,s=t.nodeCallback,i=s===void 0?lh:s,r=t.pseudoElementsCallback,o=r===void 0?lh:r,a=t.observeMutationsRoot,l=a===void 0?Vt:a;Qh=new pE(function(c){if(!r0){var u=fo();Sc(c).forEach(function(d){if(d.type==="childList"&&d.addedNodes.length>0&&!xE(d.addedNodes[0])&&(Ge.searchPseudoElements&&o(d.target),n(d.target)),d.type==="attributes"&&d.target.parentNode&&Ge.searchPseudoElements&&o(d.target.parentNode),d.type==="attributes"&&xE(d.target)&&~cye.indexOf(d.attributeName))if(d.attributeName==="class"&&qye(d.target)){var f=bm(Jv(d.target)),h=f.prefix,_=f.iconName;d.target.setAttribute(Kv,h||u),_&&d.target.setAttribute(Xv,_)}else Kye(d.target)&&i(d.target)})}}),br&&Qh.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function ebe(){!Qh||Qh.disconnect()}function tbe(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(s,i){var r=i.split(":"),o=r[0],a=r.slice(1);return o&&a.length>0&&(s[o]=a.join(":").trim()),s},{})),n}function nbe(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),s=t.innerText!==void 0?t.innerText.trim():"",i=bm(Jv(t));return i.prefix||(i.prefix=fo()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||i.prefix&&s.length>0&&(i.iconName=Lye(i.prefix,t.innerText)||t0(i.prefix,My(t.innerText))),i}function sbe(t){var e=Sc(t.attributes).reduce(function(i,r){return i.name!=="class"&&i.name!=="style"&&(i[r.name]=r.value),i},{}),n=t.getAttribute("title"),s=t.getAttribute("data-fa-title-id");return Ge.autoA11y&&(n?e["aria-labelledby"]="".concat(Ge.replacementClass,"-title-").concat(s||ud()):(e["aria-hidden"]="true",e.focusable="false")),e}function ibe(){return{iconName:null,title:null,titleId:null,prefix:null,transform:vi,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function TE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=nbe(t),s=n.iconName,i=n.prefix,r=n.rest,o=sbe(t),a=Cy("parseNodeAttributes",{},t),l=e.styleParser?tbe(t):[];return De({iconName:s,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:vi,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:r,styles:l,attributes:o}},a)}var rbe=Js.styles;function vP(t){var e=Ge.autoReplaceSvg==="nest"?TE(t,{styleParser:!1}):TE(t);return~e.extra.classes.indexOf(nP)?mr("generateLayersText",t,e):mr("generateSvgReplacementMutation",t,e)}function ME(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!br)return Promise.resolve();var n=Vt.documentElement.classList,s=function(d){return n.add("".concat(mE,"-").concat(d))},i=function(d){return n.remove("".concat(mE,"-").concat(d))},r=Ge.autoFetchSvg?Object.keys(Zv):Object.keys(rbe),o=[".".concat(nP,":not([").concat(ga,"])")].concat(r.map(function(u){return".".concat(u,":not([").concat(ga,"])")})).join(", ");if(o.length===0)return Promise.resolve();var a=[];try{a=Sc(t.querySelectorAll(o))}catch{}if(a.length>0)s("pending"),i("complete");else return Promise.resolve();var l=i0.begin("onTree"),c=a.reduce(function(u,d){try{var f=vP(d);f&&u.push(f)}catch(h){eP||h.name==="MissingIcon"&&console.error(h)}return u},[]);return new Promise(function(u,d){Promise.all(c).then(function(f){yP(f,function(){s("active"),s("complete"),i("pending"),typeof e=="function"&&e(),l(),u()})}).catch(function(f){l(),d(f)})})}function obe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;vP(t).then(function(n){n&&yP([n],e)})}function abe(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=(e||{}).icon?e:Ry(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:Ry(i||{})),t(s,De(De({},n),{},{mask:i}))}}var lbe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.transform,i=s===void 0?vi:s,r=n.symbol,o=r===void 0?!1:r,a=n.mask,l=a===void 0?null:a,c=n.maskId,u=c===void 0?null:c,d=n.title,f=d===void 0?null:d,h=n.titleId,_=h===void 0?null:h,g=n.classes,m=g===void 0?[]:g,y=n.attributes,b=y===void 0?{}:y,S=n.styles,x=S===void 0?{}:S;if(!!e){var v=e.prefix,E=e.iconName,A=e.icon;return vm(De({type:"icon"},e),function(){return _a("beforeDOMElementCreation",{iconDefinition:e,params:n}),Ge.autoA11y&&(f?b["aria-labelledby"]="".concat(Ge.replacementClass,"-title-").concat(_||ud()):(b["aria-hidden"]="true",b.focusable="false")),s0({icons:{main:Py(A),mask:l?Py(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:v,iconName:E,transform:De(De({},vi),i),symbol:o,title:f,maskId:u,titleId:_,extra:{attributes:b,styles:x,classes:m}})})}},cbe={mixout:function(){return{icon:abe(lbe)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=ME,n.nodeCallback=obe,n}}},provides:function(e){e.i2svg=function(n){var s=n.node,i=s===void 0?Vt:s,r=n.callback,o=r===void 0?function(){}:r;return ME(i,o)},e.generateSvgReplacementMutation=function(n,s){var i=s.iconName,r=s.title,o=s.titleId,a=s.prefix,l=s.transform,c=s.symbol,u=s.mask,d=s.maskId,f=s.extra;return new Promise(function(h,_){Promise.all([ky(i,a),u.iconName?ky(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var m=Yv(g,2),y=m[0],b=m[1];h([n,s0({icons:{main:y,mask:b},prefix:a,iconName:i,transform:l,symbol:c,maskId:d,title:r,titleId:o,extra:f,watchable:!0})])}).catch(_)})},e.generateAbstractIcon=function(n){var s=n.children,i=n.attributes,r=n.main,o=n.transform,a=n.styles,l=_m(a);l.length>0&&(i.style=l);var c;return Qv(o)&&(c=mr("generateAbstractTransformGrouping",{main:r,transform:o,containerWidth:r.width,iconWidth:r.width})),s.push(c||r.icon),{children:s,attributes:i}}}},ube={mixout:function(){return{layer:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.classes,r=i===void 0?[]:i;return vm({type:"layer"},function(){_a("beforeDOMElementCreation",{assembler:n,params:s});var o=[];return n(function(a){Array.isArray(a)?a.map(function(l){o=o.concat(l.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(Ge.familyPrefix,"-layers")].concat(gm(r)).join(" ")},children:o}]})}}}},dbe={mixout:function(){return{counter:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.title,r=i===void 0?null:i,o=s.classes,a=o===void 0?[]:o,l=s.attributes,c=l===void 0?{}:l,u=s.styles,d=u===void 0?{}:u;return vm({type:"counter",content:n},function(){return _a("beforeDOMElementCreation",{content:n,params:s}),Hye({content:n.toString(),title:r,extra:{attributes:c,styles:d,classes:["".concat(Ge.familyPrefix,"-layers-counter")].concat(gm(a))}})})}}}},fbe={mixout:function(){return{text:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.transform,r=i===void 0?vi:i,o=s.title,a=o===void 0?null:o,l=s.classes,c=l===void 0?[]:l,u=s.attributes,d=u===void 0?{}:u,f=s.styles,h=f===void 0?{}:f;return vm({type:"text",content:n},function(){return _a("beforeDOMElementCreation",{content:n,params:s}),vE({content:n,transform:De(De({},vi),r),title:a,extra:{attributes:d,styles:h,classes:["".concat(Ge.familyPrefix,"-layers-text")].concat(gm(c))}})})}}},provides:function(e){e.generateLayersText=function(n,s){var i=s.title,r=s.transform,o=s.extra,a=null,l=null;if(ZR){var c=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();a=u.width/c,l=u.height/c}return Ge.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([n,vE({content:n.innerHTML,width:a,height:l,transform:r,title:i,extra:o,watchable:!0})])}}},hbe=new RegExp('"',"ug"),AE=[1105920,1112319];function pbe(t){var e=t.replace(hbe,""),n=Aye(e,0),s=n>=AE[0]&&n<=AE[1],i=e.length===2?e[0]===e[1]:!1;return{value:My(i?e[0]:e),isSecondary:s||i}}function CE(t,e){var n="".concat(tye).concat(e.replace(":","-"));return new Promise(function(s,i){if(t.getAttribute(n)!==null)return s();var r=Sc(t.children),o=r.filter(function(E){return E.getAttribute(Ty)===e})[0],a=uo.getComputedStyle(t,e),l=a.getPropertyValue("font-family").match(oye),c=a.getPropertyValue("font-weight"),u=a.getPropertyValue("content");if(o&&!l)return t.removeChild(o),s();if(l&&u!=="none"&&u!==""){var d=a.getPropertyValue("content"),f=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(l[2])?Zh[l[2].toLowerCase()]:aye[c],h=pbe(d),_=h.value,g=h.isSecondary,m=l[0].startsWith("FontAwesome"),y=t0(f,_),b=y;if(m){var S=Iye(_);S.iconName&&S.prefix&&(y=S.iconName,f=S.prefix)}if(y&&!g&&(!o||o.getAttribute(Kv)!==f||o.getAttribute(Xv)!==b)){t.setAttribute(n,b),o&&t.removeChild(o);var x=ibe(),v=x.extra;v.attributes[Ty]=e,ky(y,f).then(function(E){var A=s0(De(De({},x),{},{icons:{main:E,mask:n0()},prefix:f,iconName:b,extra:v,watchable:!0})),w=Vt.createElement("svg");e==="::before"?t.insertBefore(w,t.firstChild):t.appendChild(w),w.outerHTML=A.map(function(C){return Dd(C)}).join(`
`),t.removeAttribute(n),s()}).catch(i)}else s()}else s()})}function mbe(t){return Promise.all([CE(t,"::before"),CE(t,"::after")])}function gbe(t){return t.parentNode!==document.head&&!~sye.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(Ty)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function RE(t){if(!!br)return new Promise(function(e,n){var s=Sc(t.querySelectorAll("*")).filter(gbe).map(mbe),i=i0.begin("searchPseudoElements");bP(),Promise.all(s).then(function(){i(),Ly(),e()}).catch(function(){i(),Ly(),n()})})}var _be={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=RE,n}}},provides:function(e){e.pseudoElements2svg=function(n){var s=n.node,i=s===void 0?Vt:s;Ge.searchPseudoElements&&RE(i)}}},PE=!1,ybe={mixout:function(){return{dom:{unwatch:function(){bP(),PE=!0}}}},hooks:function(){return{bootstrap:function(){EE(Cy("mutationObserverCallbacks",{}))},noAuto:function(){ebe()},watch:function(n){var s=n.observeMutationsRoot;PE?Ly():EE(Cy("mutationObserverCallbacks",{observeMutationsRoot:s}))}}}},kE=function(e){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(s,i){var r=i.toLowerCase().split("-"),o=r[0],a=r.slice(1).join("-");if(o&&a==="h")return s.flipX=!0,s;if(o&&a==="v")return s.flipY=!0,s;if(a=parseFloat(a),isNaN(a))return s;switch(o){case"grow":s.size=s.size+a;break;case"shrink":s.size=s.size-a;break;case"left":s.x=s.x-a;break;case"right":s.x=s.x+a;break;case"up":s.y=s.y-a;break;case"down":s.y=s.y+a;break;case"rotate":s.rotate=s.rotate+a;break}return s},n)},bbe={mixout:function(){return{parse:{transform:function(n){return kE(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,s){var i=s.getAttribute("data-fa-transform");return i&&(n.transform=kE(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var s=n.main,i=n.transform,r=n.containerWidth,o=n.iconWidth,a={transform:"translate(".concat(r/2," 256)")},l="translate(".concat(i.x*32,", ").concat(i.y*32,") "),c="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),u="rotate(".concat(i.rotate," 0 0)"),d={transform:"".concat(l," ").concat(c," ").concat(u)},f={transform:"translate(".concat(o/2*-1," -256)")},h={outer:a,inner:d,path:f};return{tag:"g",attributes:De({},h.outer),children:[{tag:"g",attributes:De({},h.inner),children:[{tag:s.icon.tag,children:s.icon.children,attributes:De(De({},s.icon.attributes),h.path)}]}]}}}},a_={x:0,y:0,width:"100%",height:"100%"};function OE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function vbe(t){return t.tag==="g"?t.children:[t]}var wbe={hooks:function(){return{parseNodeAttributes:function(n,s){var i=s.getAttribute("data-fa-mask"),r=i?bm(i.split(" ").map(function(o){return o.trim()})):n0();return r.prefix||(r.prefix=fo()),n.mask=r,n.maskId=s.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var s=n.children,i=n.attributes,r=n.main,o=n.mask,a=n.maskId,l=n.transform,c=r.width,u=r.icon,d=o.width,f=o.icon,h=bye({transform:l,containerWidth:d,iconWidth:c}),_={tag:"rect",attributes:De(De({},a_),{},{fill:"white"})},g=u.children?{children:u.children.map(OE)}:{},m={tag:"g",attributes:De({},h.inner),children:[OE(De({tag:u.tag,attributes:De(De({},u.attributes),h.path)},g))]},y={tag:"g",attributes:De({},h.outer),children:[m]},b="mask-".concat(a||ud()),S="clip-".concat(a||ud()),x={tag:"mask",attributes:De(De({},a_),{},{id:b,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[_,y]},v={tag:"defs",children:[{tag:"clipPath",attributes:{id:S},children:vbe(f)},x]};return s.push(v,{tag:"rect",attributes:De({fill:"currentColor","clip-path":"url(#".concat(S,")"),mask:"url(#".concat(b,")")},a_)}),{children:s,attributes:i}}}},xbe={provides:function(e){var n=!1;uo.matchMedia&&(n=uo.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var s=[],i={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};s.push({tag:"path",attributes:De(De({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=De(De({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:De(De({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:De(De({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:De(De({},o),{},{values:"1;0;1;1;0;1;"})}),s.push(a),s.push({tag:"path",attributes:De(De({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:De(De({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||s.push({tag:"path",attributes:De(De({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:De(De({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:s}}}},Sbe={hooks:function(){return{parseNodeAttributes:function(n,s){var i=s.getAttribute("data-fa-symbol"),r=i===null?!1:i===""?!0:i;return n.symbol=r,n}}}},Ebe=[xye,cbe,ube,dbe,fbe,_be,ybe,bbe,wbe,xbe,Sbe];Fye(Ebe,{mixoutsTo:ps});ps.noAuto;var wP=ps.config,Tbe=ps.library;ps.dom;var ep=ps.parse;ps.findIconDefinition;ps.toHtml;var Mbe=ps.icon;ps.layer;var Abe=ps.text;ps.counter;function LE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function js(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LE(Object(n),!0).forEach(function(s){Kn(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LE(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function tp(t){return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tp(t)}function Kn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cbe(t,e){if(t==null)return{};var n={},s=Object.keys(t),i,r;for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Rbe(t,e){if(t==null)return{};var n=Cbe(t,e),s,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,s)||(n[s]=t[s]))}return n}function Iy(t){return Pbe(t)||kbe(t)||Obe(t)||Lbe()}function Pbe(t){if(Array.isArray(t))return Dy(t)}function kbe(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Obe(t,e){if(!!t){if(typeof t=="string")return Dy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dy(t,e)}}function Dy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s}function Lbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ibe=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},xP={exports:{}};(function(t){(function(e){var n=function(y,b,S){if(!c(b)||d(b)||f(b)||h(b)||l(b))return b;var x,v=0,E=0;if(u(b))for(x=[],E=b.length;v<E;v++)x.push(n(y,b[v],S));else{x={};for(var A in b)Object.prototype.hasOwnProperty.call(b,A)&&(x[y(A,S)]=n(y,b[A],S))}return x},s=function(y,b){b=b||{};var S=b.separator||"_",x=b.split||/(?=[A-Z])/;return y.split(x).join(S)},i=function(y){return _(y)?y:(y=y.replace(/[\-_\s]+(.)?/g,function(b,S){return S?S.toUpperCase():""}),y.substr(0,1).toLowerCase()+y.substr(1))},r=function(y){var b=i(y);return b.substr(0,1).toUpperCase()+b.substr(1)},o=function(y,b){return s(y,b).toLowerCase()},a=Object.prototype.toString,l=function(y){return typeof y=="function"},c=function(y){return y===Object(y)},u=function(y){return a.call(y)=="[object Array]"},d=function(y){return a.call(y)=="[object Date]"},f=function(y){return a.call(y)=="[object RegExp]"},h=function(y){return a.call(y)=="[object Boolean]"},_=function(y){return y=y-0,y===y},g=function(y,b){var S=b&&"process"in b?b.process:b;return typeof S!="function"?y:function(x,v){return S(x,y,v)}},m={camelize:i,decamelize:o,pascalize:r,depascalize:o,camelizeKeys:function(y,b){return n(g(i,b),y)},decamelizeKeys:function(y,b){return n(g(o,b),y,b)},pascalizeKeys:function(y,b){return n(g(r,b),y)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};t.exports?t.exports=m:e.humps=m})(Ibe)})(xP);var Dbe=xP.exports,Nbe=["class","style"];function Fbe(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var s=n.indexOf(":"),i=Dbe.camelize(n.slice(0,s)),r=n.slice(s+1).trim();return e[i]=r,e},{})}function $be(t){return t.split(/\s+/).reduce(function(e,n){return e[n]=!0,e},{})}function o0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var s=(t.children||[]).map(function(l){return o0(l)}),i=Object.keys(t.attributes||{}).reduce(function(l,c){var u=t.attributes[c];switch(c){case"class":l.class=$be(u);break;case"style":l.style=Fbe(u);break;default:l.attrs[c]=u}return l},{attrs:{},class:{},style:{}});n.class;var r=n.style,o=r===void 0?{}:r,a=Rbe(n,Nbe);return sa(t.tag,js(js(js({},e),{},{class:i.class,style:js(js({},i.style),o)},i.attrs),a),s)}var SP=!1;try{SP=!0}catch{}function Ube(){if(!SP&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function Ru(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Kn({},t,e):{}}function Bbe(t){var e,n=(e={"fa-spin":t.spin,"fa-pulse":t.pulse,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-li":t.listItem,"fa-inverse":t.inverse,"fa-flip":t.flip===!0,"fa-flip-horizontal":t.flip==="horizontal"||t.flip==="both","fa-flip-vertical":t.flip==="vertical"||t.flip==="both"},Kn(e,"fa-".concat(t.size),t.size!==null),Kn(e,"fa-rotate-".concat(t.rotation),t.rotation!==null),Kn(e,"fa-pull-".concat(t.pull),t.pull!==null),Kn(e,"fa-swap-opacity",t.swapOpacity),Kn(e,"fa-bounce",t.bounce),Kn(e,"fa-shake",t.shake),Kn(e,"fa-beat",t.beat),Kn(e,"fa-fade",t.fade),Kn(e,"fa-beat-fade",t.beatFade),Kn(e,"fa-flash",t.flash),Kn(e,"fa-spin-pulse",t.spinPulse),Kn(e,"fa-spin-reverse",t.spinReverse),e);return Object.keys(n).map(function(s){return n[s]?s:null}).filter(function(s){return s})}function IE(t){if(t&&tp(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(ep.icon)return ep.icon(t);if(t===null)return null;if(tp(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}var zbe=Ve({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function(e){return[!0,!1,"horizontal","vertical","both"].indexOf(e)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(e){return["right","left"].indexOf(e)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(e){return[90,180,270].indexOf(Number.parseInt(e,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(e){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(e)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1}},setup:function(e,n){var s=n.attrs,i=Ft(function(){return IE(e.icon)}),r=Ft(function(){return Ru("classes",Bbe(e))}),o=Ft(function(){return Ru("transform",typeof e.transform=="string"?ep.transform(e.transform):e.transform)}),a=Ft(function(){return Ru("mask",IE(e.mask))}),l=Ft(function(){return Mbe(i.value,js(js(js(js({},r.value),o.value),a.value),{},{symbol:e.symbol,title:e.title}))});Qr(l,function(u){if(!u)return Ube("Could not find one or more icon(s)",i.value,a.value)},{immediate:!0});var c=Ft(function(){return l.value?o0(l.value.abstract[0],{},s):null});return function(){return c.value}}});Ve({name:"FontAwesomeLayers",props:{fixedWidth:{type:Boolean,default:!1}},setup:function(e,n){var s=n.slots,i=wP.familyPrefix,r=Ft(function(){return["".concat(i,"-layers")].concat(Iy(e.fixedWidth?["".concat(i,"-fw")]:[]))});return function(){return sa("div",{class:r.value},s.default?s.default():[])}}});Ve({name:"FontAwesomeLayersText",props:{value:{type:[String,Number],default:""},transform:{type:[String,Object],default:null},counter:{type:Boolean,default:!1},position:{type:String,default:null,validator:function(e){return["bottom-left","bottom-right","top-left","top-right"].indexOf(e)>-1}}},setup:function(e,n){var s=n.attrs,i=wP.familyPrefix,r=Ft(function(){return Ru("classes",[].concat(Iy(e.counter?["".concat(i,"-layers-counter")]:[]),Iy(e.position?["".concat(i,"-layers-").concat(e.position)]:[])))}),o=Ft(function(){return Ru("transform",typeof e.transform=="string"?ep.transform(e.transform):e.transform)}),a=Ft(function(){var c=Abe(e.value.toString(),js(js({},o.value),r.value)),u=c.abstract;return e.counter&&(u[0].attributes.class=u[0].attributes.class.replace("fa-layers-text","")),u[0]}),l=Ft(function(){return o0(a.value,{},s)});return function(){return l.value}}});/*!
 * Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2022 Fonticons, Inc.
 */var Gbe={prefix:"fas",iconName:"circle-question",icon:[512,512,[62108,"question-circle"],"f059","M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 400c-18 0-32-14-32-32s13.1-32 32-32c17.1 0 32 14 32 32S273.1 400 256 400zM325.1 258L280 286V288c0 13-11 24-24 24S232 301 232 288V272c0-8 4-16 12-21l57-34C308 213 312 206 312 198C312 186 301.1 176 289.1 176h-51.1C225.1 176 216 186 216 198c0 13-11 24-24 24s-24-11-24-24C168 159 199 128 237.1 128h51.1C329 128 360 159 360 198C360 222 347 245 325.1 258z"]},Vbe={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M506.3 417l-213.3-364c-16.33-28-57.54-28-73.98 0l-213.2 364C-10.59 444.9 9.849 480 42.74 480h426.6C502.1 480 522.6 445 506.3 417zM232 168c0-13.25 10.75-24 24-24S280 154.8 280 168v128c0 13.25-10.75 24-23.1 24S232 309.3 232 296V168zM256 416c-17.36 0-31.44-14.08-31.44-31.44c0-17.36 14.07-31.44 31.44-31.44s31.44 14.08 31.44 31.44C287.4 401.9 273.4 416 256 416z"]},Hbe={prefix:"fas",iconName:"upload",icon:[512,512,[],"f093","M105.4 182.6c12.5 12.49 32.76 12.5 45.25 .001L224 109.3V352c0 17.67 14.33 32 32 32c17.67 0 32-14.33 32-32V109.3l73.38 73.38c12.49 12.49 32.75 12.49 45.25-.001c12.49-12.49 12.49-32.75 0-45.25l-128-128C272.4 3.125 264.2 0 256 0S239.6 3.125 233.4 9.375L105.4 137.4C92.88 149.9 92.88 170.1 105.4 182.6zM480 352h-160c0 35.35-28.65 64-64 64s-64-28.65-64-64H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h448c17.67 0 32-14.33 32-32v-96C512 366.3 497.7 352 480 352zM432 456c-13.2 0-24-10.8-24-24c0-13.2 10.8-24 24-24s24 10.8 24 24C456 445.2 445.2 456 432 456z"]};Tbe.add(Gbe,Vbe,Hbe);/*!
  * chartjs-adapter-moment v1.0.0
  * https://www.chartjs.org
  * (c) 2021 chartjs-adapter-moment Contributors
  * Released under the MIT license
  */const Wbe={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};xC._date.override(typeof Te=="function"?{_id:"moment",formats:function(){return Wbe},parse:function(t,e){return typeof t=="string"&&typeof e=="string"?t=Te(t,e):t instanceof Te||(t=Te(t)),t.isValid()?t.valueOf():null},format:function(t,e){return Te(t).format(e)},add:function(t,e,n){return Te(t).add(e,n).valueOf()},diff:function(t,e,n){return Te(t).diff(Te(e),n)},startOf:function(t,e,n){return t=Te(t),e==="isoWeek"?(n=Math.trunc(Math.min(Math.max(0,n),6)),t.isoWeekday(n).startOf("day").valueOf()):t.startOf(e).valueOf()},endOf:function(t,e){return Te(t).endOf(e).valueOf()}}:{});id.register(qZ,jZ,nJ,Xp,Cd,Rd,Av,Vh);const Ea=oL(T_e);Ea.component("spinner-btn",WR);Ea.component("tooltip",B_e);Ea.component("input-select",H_e);Ea.component("FontAwesomeIcon",zbe);Ea.use(jR);Ea.use(Vs);Ea.mount("#app")});export default jbe();
